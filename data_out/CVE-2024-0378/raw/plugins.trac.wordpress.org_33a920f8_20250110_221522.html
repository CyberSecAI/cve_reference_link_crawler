<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  






  <head>
    <title>
      Changeset 3043570 for ai-engine – WordPress Plugin Repository
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
          <link rel="search" href="/search" />
          <link rel="help" href="/wiki/TracGuide" />
          <link rel="alternate" href="?format=diff&amp;new=3043570" type="text/plain" class="diff" title="Unified Diff" />
          <link rel="alternate" href="?format=zip&amp;new=3043570" type="application/zip" class="zip" title="Zip Archive" />
          <link rel="next" href="/changeset/3043573/ai-engine" title="Changeset 3043573 for ai-engine" />
          <link rel="start" href="/wiki" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/trac.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/changeset.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/diff.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/code.css?v=212" />
          <link rel="prev" href="/changeset/3040481/ai-engine" title="Changeset 3040481 for ai-engine" />
          <link rel="icon" href="/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Search WordPress Plugin Repository" />
	<link rel="dns-prefetch" href="//s.w.org" />
	<link rel="dns-prefetch" href="//fonts.googleapis.com" />
	<link rel="dns-prefetch" href="//fonts.gstatic.com" />
	<link rel="dns-prefetch" href="//www.googletagmanager.com" />
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s);j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5Z8B3BX');</script>
	
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preload" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/Inter/Inter-latin.woff2" as="font" crossorigin="crossorigin" type="font/woff2" />
<meta name="robots" content="max-image-preview:large" />
<link rel="dns-prefetch" href="//s.w.org" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//v0.wordpress.com" />
<link rel="dns-prefetch" href="//i0.wp.com" />
<script>//<![CDATA[
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');
//]]></script>
	<script type="text/javascript">//<![CDATA[
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.3-alpha-55651"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
//]]></script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="open-sans-css" href="https://fonts.googleapis.com/css2?family=Open+Sans%3Aital%2Cwght%400%2C300%3B0%2C400%3B0%2C600%3B1%2C300%3B1%2C400%3B1%2C600&amp;display=swap" type="text/css" media="all" />
<link rel="stylesheet" id="wp4-styles-css" href="https://s.w.org/style/wp4.css?ver=1645139188" type="text/css" media="all" />
<link rel="stylesheet" id="wp-block-library-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/style.css?ver=15.4.0" type="text/css" media="all" />
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<style id="wporg-language-suggest-style-inline-css" type="text/css">
.wp-block-wporg-language-suggest{background-color:#eff2ff;color:#1e1e1e;font-size:12px;line-height:1;text-align:center}.wp-block-wporg-language-suggest&gt;*{padding:10px 4px}
</style>
<style id="wporg-latest-news-style-inline-css" type="text/css">
.wporg-latest-news{list-style:none;margin:0;padding:0}.wporg-latest-news li:not(:last-child){padding-bottom:var(--wp--custom--latest-news--spacing,16px)}.wporg-latest-news li a{text-decoration:none}.wporg-latest-news li a:hover{text-decoration:underline}.wporg-latest-news li&gt;a{color:var(--wp--custom--latest-news--link--color);display:block;font-family:var(--wp--custom--latest-news--title--font-family);font-size:var(--wp--custom--latest-news--title--font-size,24px);line-height:var(--wp--custom--latest-news--title--line-height);margin-bottom:var(--wp--custom--latest-news--link--spacing,4px)}.wporg-latest-news__details{font-size:var(--wp--custom--latest-news--link--details-font-size,14px)}.wporg-latest-news__details&gt;:not(:last-child){margin-right:4px}.wporg-latest-news__category{text-transform:uppercase}
</style>
<style id="wporg-notice-style-inline-css" type="text/css">
.wp-block-wporg-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--acid-green-3);--wp--custom--wporg-notice--color--text:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-notice.is-info-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--blueberry-4)}.wp-block-wporg-notice.is-alert-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--lemon-3)}.wp-block-wporg-notice.is-warning-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--pomegrade-3)}.wp-block-wporg-notice{background-color:var(--wp--custom--wporg-notice--color--background);color:var(--wp--custom--wporg-notice--color--text);display:grid;gap:.5em;grid-template-columns:auto 1fr;padding:1.25em}.wp-block-wporg-notice&gt;*{align-self:start}.wp-block-wporg-notice p:first-child{margin-block-start:0}.wp-block-wporg-notice p:last-child{margin-block-end:0}.wp-block-wporg-notice a:active,.wp-block-wporg-notice a:focus,.wp-block-wporg-notice a:hover,.wp-block-wporg-notice a:link,.wp-block-wporg-notice a:visited{color:var(--wp--custom--wporg-notice--color--text)}.wp-block-wporg-notice.alignleft,.wp-block-wporg-notice.alignright{max-width:calc(var(--wp--style--global--content-size)*.66)}.wp-block-wporg-notice__icon{align-self:flex-start;background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/tip.svg);background-position:50%;background-repeat:no-repeat;background-size:24px 24px;display:flex;height:1.875em;width:24px}.is-info-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/info.svg)}.is-alert-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/alert.svg)}.is-warning-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/warning.svg)}.wp-block-wporg-notice__content{align-self:center}
</style>
<style id="wporg-site-breadcrumbs-style-inline-css" type="text/css">
.wp-block-wporg-site-breadcrumbs{align-items:center;display:flex}.wp-block-wporg-site-breadcrumbs a{color:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-site-breadcrumbs a:hover{text-decoration-line:underline}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child){align-items:center;display:flex;margin-top:0}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child):before{content:"/";display:inline-block;font-weight:400;margin:0 .5rem}.wp-block-wporg-site-breadcrumbs .is-current-page{font-weight:700}
</style>
<style id="wporg-table-of-contents-style-inline-css" type="text/css">
@media (min-width:890px){#wp--skip-link--target,.is-toc-heading{scroll-margin-top:var(--wp-local-header-offset,0)}}.is-toc-heading a{--local--icon-size:24px;color:inherit;display:inline-block;padding-right:calc(var(--local--icon-size) + .1em)}.is-toc-heading a,.is-toc-heading a:after{text-decoration:none!important}.is-toc-heading a:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.083 17.639H8.444a5.194 5.194 0 1 1 0-10.389h1.64v1.5H8.443a3.694 3.694 0 0 0 0 7.389h1.641v1.5ZM13.917 7.25h1.639a5.194 5.194 0 0 1 0 10.39h-1.641v-1.5h1.642a3.694 3.694 0 0 0 0-7.39h-1.642v-1.5Zm-4.584 6.084h5.334v-1.5H9.333v1.5Z' fill='%233858E9'/%3E%3C/svg%3E");background-position:100%;background-repeat:no-repeat;background-size:contain;content:"";display:inline-block;height:var(--local--icon-size);margin-right:calc(var(--local--icon-size)*-1 - .1em);opacity:0;vertical-align:baseline;width:calc(var(--local--icon-size) + .1em)}.is-toc-heading a:focus:after,.is-toc-heading a:hover:after,.is-toc-heading:focus a:after{opacity:1}.is-toc-heading:focus,.is-toc-heading:focus-visible{outline:none}.is-toc-heading:target{border-left:2px solid var(--wp--preset--color--blueberry-1);padding-left:8px}
</style>
<style id="wporg-two-factor-settings-style-inline-css" type="text/css">
.wp-block-wporg-two-factor-settings{position:relative}.wp-block-wporg-two-factor-settings h3{clear:none;font-size:14px}.bbp-single-user .wp-block-wporg-two-factor-settings input[type=email],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=number],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=password],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=search],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=text]{font-family:Open Sans,sans-serif;font-size:14px;padding:6px 10px}.wp-block-wporg-two-factor-settings .components-button{margin-right:20px}.wporg-2fa__navigation{justify-content:center!important;padding:24px 0!important;position:relative}.wporg-2fa__navigation a{align-items:center;display:flex;left:24px;position:absolute}.wporg-2fa__navigation svg{fill:#4ca6cf}.wporg-2fa__navigation h3{margin:unset;text-transform:capitalize}.wporg-2fa__token{letter-spacing:.3em}.components-notice{margin-left:0;margin-right:0}.components-notice.is-error,.components-notice.is-success{margin:0}.components-notice .components-notice__content{align-items:center;display:flex;gap:8px}.components-notice .components-notice__content svg{flex-shrink:0}.wporg-2fa__account-status .wporg-2fa__status-card:focus-within,.wporg-2fa__account-status .wporg-2fa__status-card:hover{z-index:1}.wporg-2fa__account-status .wporg-2fa__status-card a{display:block;text-decoration:none}.wporg-2fa__account-status .wporg-2fa__status-card a:focus,.wporg-2fa__account-status .wporg-2fa__status-card a:hover{outline:var(--wp-admin-border-width-focus) solid var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline-offset:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body{grid-column-gap:10px;display:grid;grid-template-areas:"status header      open" "status description open";grid-template-columns:min-content auto min-content;padding:18px 14px}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-icon{-ms-grid-row-span:2;align-self:center;grid-area:status;-ms-grid-column:1;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body h3{align-self:end;color:#1e1e1e;font-size:1.1em;grid-area:header;-ms-grid-column:3;-ms-grid-row:1;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body p{align-self:start;color:#757575;grid-area:description;-ms-grid-column:3;-ms-grid-row:2;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-card-open{-ms-grid-row-span:2;align-self:center;grid-area:open;-ms-grid-column:5;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-icon.is-enabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-ok{fill:#4ab866}.wporg-2fa__account-status .wporg-2fa__status-icon.is-pending{fill:#f0b849}.wporg-2fa__account-status .wporg-2fa__status-icon.is-disabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-error{fill:#cc1818}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container,.wporg-2fa__password .wporg-2fa__password_container{align-items:flex-start;justify-content:flex-start;position:relative;width:-moz-fit-content;width:fit-content}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container input,.wporg-2fa__password .wporg-2fa__password_container input{padding-right:35px}.bbp-single-user .wporg-2fa__password .wporg-2fa__show-password,.wporg-2fa__password .wporg-2fa__show-password{height:31px;margin:0;padding:0 5px;position:absolute;right:1px;top:24px}.wporg-2fa__email .components-notice.actions-on-right&gt;div{display:flex}.wporg-2fa__email .components-notice.actions-on-right&gt;div&gt;p{flex-grow:1;margin:initial}.wporg-2fa__email .email-error{color:#cc1818}.wporg-2fa__qr-code{text-align:center}#bbpress-forums .wporg-2fa__qr-code&gt;a{display:inline-block}#bbpress-forums .wporg-2fa__qr-code&gt;a:focus,#bbpress-forums .wporg-2fa__qr-code&gt;a:hover{box-shadow:0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}.wporg-2fa__manual-code{font-family:monospace;font-weight:700;letter-spacing:.1em}.wporg-2fa__verify-code{margin-bottom:20px;width:23ch}.wporg-2fa__submit-btn-wrapper{margin-bottom:15px}.wporg-2fa__enabled-status{color:#4ab866;text-transform:uppercase}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list{background-color:#ddd;margin:1em 0;padding:15px 20px}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list ol{-moz-column-count:2;-moz-column-width:110px;columns:110px 2;margin:0}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li::marker{color:#757575}.wporg-2fa__backup-codes .components-notice{margin:0 0 1em}#bbpress-forums .wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li{list-style-position:inside;list-style-type:decimal}#bbpress-forums .wporg-2fa__progress-bar,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar,.wporg-2fa__progress-bar{--color-enabled:#0475c4;--color-disabled:#ccc;--color-disabled-text:#757575;margin:0 -24px;position:relative}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps,.wporg-2fa__progress-bar .wporg-2fa__setup-steps{display:flex;justify-content:space-evenly;position:relative;z-index:2}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li{text-align:center}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps svg{border:1px solid;border-radius:30px;box-sizing:content-box;padding:15px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled{color:var(--color-enabled);font-weight:700}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg{fill:#fff;background-color:var(--color-enabled);border-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled{color:var(--color-disabled-text)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg{fill:var(--color-disabled);background-color:#fff;border-color:var(--color-disabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators{display:flex;justify-content:space-between;position:absolute;top:27px;width:100%;z-index:1}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li{flex-basis:33%;flex-grow:1;flex-shrink:1;height:3px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled{background-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled{background-color:var(--color-disabled)}.wporg-2fa__global-notice{position:absolute;right:0;top:-60px;z-index:2}.wporg-2fa__global-notice .components-snackbar__content,.wporg-2fa__global-notice.components-snackbar{cursor:auto}.wporg-2fa__global-notice .components-snackbar__content{position:relative}.wporg-2fa__global-notice .components-snackbar .components-snackbar__icon,.wporg-2fa__global-notice .components-snackbar__icon{fill:#4ab866;left:-34px!important;position:absolute;top:-6px!important;width:30px}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary{box-shadow:inset 0 0 0 1px var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));text-decoration:none}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary:not(:disabled):focus{box-shadow:inset 0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}
</style>
<link rel="stylesheet" id="dashicons-css" href="https://s.w.org/wp-includes/css/dashicons.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="wp-components-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/components/style.css?ver=15.4.0" type="text/css" media="all" />
<link rel="stylesheet" id="mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all" />
<link rel="stylesheet" id="wp-mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="classic-theme-styles-css" href="https://wordpress.org/wp-includes/css/classic-themes.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex &gt; *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
</style>
<link rel="stylesheet" id="wporg-global-fonts-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/style.css?ver=1675220034" type="text/css" media="all" />
<link rel="stylesheet" id="wporg-global-header-footer-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/build/style.css?ver=1681488560" type="text/css" media="all" />
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view.min.js?ver=aa58d4d058136adf2722" id="wp-block-navigation-view-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view-modal.min.js?ver=774770b5630ff20f41e1" id="wp-block-navigation-view-modal-js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
	<style>img#wpstats{display:none}</style>
		<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="32x32" />
<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="192x192" />
<link rel="apple-touch-icon" href="https://s.w.org/images/wmark.png" />
<meta name="msapplication-TileImage" content="https://s.w.org/images/wmark.png" />
	
	<meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" href="https://s.w.org/wp-includes/css/dashicons.min.css?20150710" type="text/css" />
	<link rel="stylesheet" type="text/css" href="https://s.w.org/style/trac/wp-trac.css?212" />
	<script src="https://s.w.org/style/trac/common/js/jquery.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/babel.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/trac.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/search.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/diff.js?v=212"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        if ($.ui) { /* is jquery-ui added? */
          $(".trac-datepicker:not([readonly])").prop("autocomplete", "off").datepicker();
          $(".trac-datetimepicker:not([readonly])").prop("autocomplete", "off").datetimepicker();
          $("#main").addClass("trac-nodatetimehint");
        }
        $(".trac-disable").disableSubmit(".trac-disable-determinant");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $(".trac-toggledeleted").show().click(function() {
                  $(this).siblings().find(".trac-deleted").toggle();
                  return false;
        }).click();
        $("#content").find("li.entry h2 a").parent().addAnchor(_("Link to this diff"));
      });
    </script>
  </head>
  <body id="wordpress-org" class="plugins trac wporg-make make-plugins">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Z8B3BX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	
		<a id="wporg-skip-link" tabindex="" class="skip-link screen-reader-text" href="#main" data-selector="#main">Skip to content</a>
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<header class="global-header wp-block-group wp-block-wporg-global-header">
<figure class="wp-block-image global-header__wporg-logo-mark">
	<a href="https://wordpress.org/">
		<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>	</a>
</figure>
<nav class="is-responsive global-header__navigation wp-block-navigation is-horizontal is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open " data-micromodal-trigger="modal-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container  " style="" id="modal-1">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-1-content">
							<ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/">Download &amp; Extend</a><button aria-label="Download &amp; Extend submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/mobile/"><span class="wp-block-navigation-item__label">Mobile</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://openverse.org/"><span class="wp-block-navigation-item__label">Openverse ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/">Learn</a><button aria-label="Learn submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/support/forums/"><span class="wp-block-navigation-item__label">Forums</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.tv ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/">Community</a><button aria-label="Community submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Make WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/photos/"><span class="wp-block-navigation-item__label">Photo Directory</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/five-for-the-future/"><span class="wp-block-navigation-item__label">Five for the Future</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://www.meetup.com/pro/wordpress/"><span class="wp-block-navigation-item__label">Meetups ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://jobs.wordpress.net/"><span class="wp-block-navigation-item__label">Job Board ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/">About</a><button aria-label="About submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/enterprise/"><span class="wp-block-navigation-item__label">Enterprise</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/gutenberg/"><span class="wp-block-navigation-item__label">Gutenberg ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">WordPress Swag Store ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item global-header__mobile-get-wordpress global-header__get-wordpress wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li></ul>
						</div>
					</div>
				</div>
			</div></nav>
<nav class="is-responsive  is-vertical global-header__search wp-block-navigation is-layout-flex wp-container-6 wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open always-shown" data-micromodal-trigger="modal-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container hidden-by-default " style="" id="modal-5">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-5-content">
							<form role="search" method="GET" action="/search" class="wp-block-search__button-inside wp-block-search__icon-button wp-block-search"><label for="wp-block-search__input-4" class="wp-block-search__label">Search Trac</label><div class="wp-block-search__inside-wrapper "><input type="search" id="wp-block-search__input-4" class="wp-block-search__input" name="q" value="" placeholder="Type to search…" required="" /><button type="submit" class="wp-block-search__button has-icon wp-element-button" aria-label="Search"><svg class="search-icon" viewbox="0 0 24 24" width="24" height="24">
					<path d="M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"></path>
				</svg></button></div></form>
						</div>
					</div>
				</div>
			</div></nav>
<div class="global-header__desktop-get-wordpress-container is-layout-flow wp-block-group-is-layout-flow">
	<a href="https://wordpress.org/download/" class="global-header__desktop-get-wordpress global-header__get-wordpress">
		Get WordPress	</a>
</div>
</header>
	
	<div id="headline" class="no-menu">
		<div class="wrapper">
			<h2><a href="//wordpress.org/plugins/">Plugin Directory</a></h2>
		</div>
	</div>

    <div id="banner">
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="last first">
	<a href="https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3043570%2540ai-engine%26old%3D3043570%2540ai-engine" class="login">Login</a>
</li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="/timeline">Timeline</a></li><li><a href="/report">View Tickets</a></li><li class="last active"><a href="/browser">Browse Source</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="/changeset/3040481/ai-engine" title="Changeset 3040481 for ai-engine">Previous Change</a></span></li><li class="last"><span><a class="next" href="/changeset/3043573/ai-engine" title="Changeset 3043573 for ai-engine">Next Change</a> &rarr;</span></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="changeset">
      <div id="title">
            <h1>Changeset <a title="Show full changeset" href="/changeset/3043570">3043570</a>
              for <a title="Show entry in browser" href="/browser/ai-engine?rev=3043570">ai-engine</a></h1>
      </div>
      <form id="prefs" action="">
        <div>
          
  <label for="style">View differences</label>
  <select id="style" name="style">
    <option selected="selected" value="inline">inline</option>
    <option value="sidebyside">side by side</option>
  </select>
  <div class="field">
    <label><input type="radio" name="contextall" value="0" checked="checked" />
             Show</label>
      <label><input type="text" name="contextlines" id="contextlines" size="2" maxlength="3" value="2" />
             lines around each change</label><br />
    <label><input type="radio" name="contextall" value="1" />
           Show the changes in full context</label>
  </div>
  <fieldset id="ignore">
    <legend>Ignore:</legend>
    <div class="field">
      <input type="checkbox" id="ignoreblanklines" name="ignoreblanklines" />
      <label for="ignoreblanklines">Blank lines</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorecase" name="ignorecase" />
      <label for="ignorecase">Case changes</label>
    </div>
    <div class="field">
      <input type="checkbox" id="ignorewhitespace" name="ignorewhitespace" />
      <label for="ignorewhitespace">White space changes</label>
    </div>
  </fieldset>
  <div style="display:none;"><input type="text" name="sfp_email" value="" /><input type="hidden" name="sfph_mail" value="" /></div><div class="buttons">
    <input type="submit" name="update" value="Update" />
  </div>

        </div>
      </form>
      <dl id="overview">
          <dt class="property time">Timestamp:</dt>
          <dd class="time">
             03/01/2024 10:40:04 AM
             (<a class="timeline" href="/timeline?from=2024-03-01T10%3A40%3A04Z&amp;precision=second" title="See timeline at 03/01/2024 10:40:04 AM">11 months</a> ago)
          </dd>
          <dt class="property author">Author:</dt>
          <dd class="author"><span class="trac-author">TigrouMeow</span></dd>
          <dt class="property message">Message:</dt>
          <dd class="message searchable">
            
            
              <p>
Version 2.2.1.<br />
</p>

            
            
          </dd>
          <dt class="property location">Location:</dt>
          <dd class="searchable"><a href="/browser/ai-engine/trunk?rev=3043570">ai-engine/trunk</a></dd>
        <dt class="property files">
          Files:
        </dt>
        <dd class="files">
          <div class="legend" id="file-legend">
            <dl>
              <dt class="add"></dt><dd>2 added</dd>
              <dt class="mod"></dt><dd>12 edited</dd>
            </dl>
          </div>
          <br />
          <ul>
            <li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/ai-engine.php?rev=3043570">
              ai-engine.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file0">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/app/i18n.js?rev=3043570">
              app/i18n.js
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file1">4 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/app/index.js?rev=3043570">
              app/index.js
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file2">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/api.php?rev=3043570">
              classes/api.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file3">4 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/core.php?rev=3043570">
              classes/core.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file4">7 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/engines/factory.php?rev=3043570">
              classes/engines/factory.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file5">1 diff</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/engines/google.php?rev=3043570">
              classes/engines/google.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file6">1 diff</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/engines/huggingface.php?rev=3043570">
              classes/engines/huggingface.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570">
              classes/engines/openai.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file8">14 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/engines/openrouter.php?rev=3043570">
              classes/engines/openrouter.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file9">1 diff</a>)
            </li><li>
          <div class="add"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/modules/tasks.php?rev=3043570">
              classes/modules/tasks.php
            </a>
          <span class="comment">(added)</span>
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/classes/rest.php?rev=3043570">
              classes/rest.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file11">2 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/readme.txt?rev=3043570">
              readme.txt
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file12">3 diffs</a>)
            </li><li>
          <div class="mod"> </div>
            <a title="Show entry in browser" href="/browser/ai-engine/trunk/uninstall.php?rev=3043570">
              uninstall.php
            </a>
          <span class="comment">(modified)</span>
              (<a title="Show differences" href="#file13">1 diff</a>)
            </li>
          </ul>
        </dd>
      </dl>
      <div class="diff">
        <div class="legend" id="diff-legend">
          <h3>Legend:</h3>
          <dl>
            <dt class="unmod"></dt><dd>Unmodified</dd>
            <dt class="add"></dt><dd>Added</dd>
            <dt class="rem"></dt><dd>Removed</dd>
          </dl>
        </div>
        <div class="diff">
  <ul class="entries">
      <li class="entry">
        <h2 id="file0">
          <a href="/changeset/3043570/ai-engine/trunk/ai-engine.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/ai-engine.php">ai-engine/trunk/ai-engine.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/ai-engine.php?rev=3040480#L3">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/ai-engine.php?rev=3043570#L3">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>3</th><th>3</th><td class="l"><span>Plugin Name: AI Engine</span></td>
                  </tr><tr>
                          <th>4</th><th>4</th><td class="l"><span>Plugin URI: https://wordpress.org/plugins/ai-engine/</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>5</th><th> </th><td class="l"><span>Description: A<del>dd AI into WordPress! Chatbot (ChatGPT), content and images generators, copilot, model training and much more! Highly customizable, sleek UI. You will love it!</del></span></td>
                      </tr><tr>
                        <th>6</th><th> </th><td class="l"><span>Version: 2.2.<del>0</del></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>5</th><td class="r"><span>Description: A<ins>I for WordPress. Chatbot, Content/Image Generator, CoPilot, Finetuning, Internal API, GPT, Gemini, etc! Sleek UI and ultra-customizable.</ins></span></td>
                      </tr><tr class="last">
                        <th> </th><th>6</th><td class="r"><span>Version: 2.2.<ins>1</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>7</th><th>7</th><td class="l"><span>Author: Jordy Meow</span></td>
                  </tr><tr>
                          <th>8</th><th>8</th><td class="l"><span>Author URI: https://jordymeow.com</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/ai-engine.php?rev=3040480#L14">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/ai-engine.php?rev=3043570#L14">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>14</th><th>14</th><td class="l"><span>*/</span></td>
                  </tr><tr>
                          <th>15</th><th>15</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>16</th><th> </th><td class="l"><span>define( 'MWAI_VERSION', '2.2.<del>0</del>' );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>16</th><td class="r"><span>define( 'MWAI_VERSION', '2.2.<ins>1</ins>' );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>17</th><th>17</th><td class="l"><span>define( 'MWAI_PREFIX', 'mwai' );</span></td>
                  </tr><tr>
                          <th>18</th><th>18</th><td class="l"><span>define( 'MWAI_DOMAIN', 'ai-engine' );</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file1">
          <a href="/changeset/3043570/ai-engine/trunk/app/i18n.js" title="Show the changeset 3043570 restricted to ai-engine/trunk/app/i18n.js">ai-engine/trunk/app/i18n.js</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/app/i18n.js?rev=3040480#L174">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/app/i18n.js?rev=3043570#L174">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>174</th><th>174</th><td class="l"><span>&nbsp; OPENAI_AZURE_DEPLOYMENT_NAME: __( 'Deployment Name', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>175</th><th>175</th><td class="l"><span>&nbsp; OPENAI_AZURE_DEPLOYMENTS: __( 'Deployments', 'ai-engine' ),</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>176</th><td class="r"><ins>&nbsp; HUGGINGFACE_MODELS: __( 'Models', 'ai-engine' ),</ins></td>
                  </tr><tr>
                          <th> </th><th>177</th><td class="r"><ins>&nbsp; HUGGINGFACE_MODEL_NAME: __( 'Name', 'ai-engine' ),</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>178</th><td class="r"><ins>&nbsp; HUGGINGFACE_MODEL_URL: __( 'API URL', 'ai-engine' ),</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>176</th><th>179</th><td class="l"><span>&nbsp; THEME: __( 'Theme', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>177</th><th>180</th><td class="l"><span>&nbsp; THEMES: __( 'Themes', 'ai-engine' ),</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3040480#L233">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3043570#L236">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>233</th><th>236</th><td class="l"><span>&nbsp; REGION: __( 'Region', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>234</th><th>237</th><td class="l"><span>&nbsp; PROJECT_ID: __( 'Project ID', 'ai-engine' ),</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>235</th><th> </th><td class="l"><span>&nbsp; <del></del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>238</th><td class="r"><span>&nbsp; <ins>BEARER_TOKEN: __( 'Bearer Token', 'ai-engine' ),</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>236</th><th>239</th><td class="l"><span>};</span></td>
                  </tr><tr>
                          <th>237</th><th>240</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3040480#L269">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3043570#L272">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>269</th><th>272</th><td class="l"><span>&nbsp; SYNTAX_HIGHLIGHT: __( 'Enable syntax highlighting for the code blocks.', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>270</th><th>273</th><td class="l"><span>&nbsp; DEV_TOOLS: __( 'Enable a new tab with debugging tools. For developers only.', 'ai-engine' ),</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>271</th><th> </th><td class="l"><span>&nbsp; PUBLIC_API: __( 'Enable the Public REST API.<del>&nbsp;By default, it will be accessible to everyone.</del>', 'ai-engine' ),</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>274</th><td class="r"><span>&nbsp; PUBLIC_API: __( 'Enable the Public REST API.<ins></ins>', 'ai-engine' ),</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>272</th><th>275</th><td class="l"><span>&nbsp; INTRO_MESSAGE: __( 'Enable the introduction text at the top of this page.', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>273</th><th>276</th><td class="l"><span>&nbsp; OPENAI_API_KEY: __( 'You can get your API Keys in your &lt;a href="https://beta.openai.com/account/api-keys" target="_blank"&gt;OpenAI Account&lt;/a&gt;.', 'ai-engine' ),</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3040480#L279">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/app/i18n.js?rev=3043570#L282">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>279</th><th>282</th><td class="l"><span>&nbsp; ASSISTANTS_INTRO: __( 'The Assistants API is designed to help developers build powerful AI assistants capable of performing a variety of tasks. To create them, head to the &lt;a href="https://beta.openai.com/assistants" target="_blank"&gt;OpenAI Assistants&lt;/a&gt; dashboard, then &lt;b&gt;Refresh Assistants&lt;/b&gt; here. You can use an assistant in your chatbots by switching the &lt;b&gt;Mode&lt;/b&gt; to &lt;b&gt;Assistant&lt;/b&gt;.', 'ai-engine' ),</span></td>
                  </tr><tr>
                          <th>280</th><th>283</th><td class="l"><span>&nbsp; ASSISTANTS_WARNINGS: __( 'Assistants are also &lt;a href="https://platform.openai.com/docs/api-reference/assistants" target="_blank"&gt;in beta&lt;/a&gt;, both for OpenAI and AI Engine. OpenAI did not add streaming support for them yet. Pricing is still quite unclear and &lt;a href="https://openai.com/pricing" target="_blank"&gt;tricky&lt;/a&gt;. AI Engine can only perform an estimation. If you want to discuss assistants with other users, visit the &lt;a href="https://discord.gg/bHDGh38" target="_blank"&gt;Meow Apps Discord Server&lt;/a&gt;.', 'ai-engine' ),</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>284</th><td class="r"><ins>&nbsp; BEARER_TOKEN: __( 'The Public API will be usable by using this Bearer Token. If not set, you will need to &lt;a href="https://meowapps.com/ai-engine/api/#public-rest-api" target="_blank"&gt;build your own authentication&lt;/a&gt; by using the &lt;i&gt;mwai_allow_public_api&lt;/i&gt; filter.', 'ai-engine' ), </ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>281</th><th>285</th><td class="l"><span>};</span></td>
                  </tr><tr>
                          <th>282</th><th>286</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file2">
          <a href="/changeset/3043570/ai-engine/trunk/app/index.js" title="Show the changeset 3043570 restricted to ai-engine/trunk/app/index.js">ai-engine/trunk/app/index.js</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/app/index.js?rev=3040480#L1">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/app/index.js?rev=3043570#L1">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>1</th><th>1</th><td class="l"><span>/*! For license information please see index.js.LICENSE.txt */</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>2</th><th> </th><td class="l"><span>(()=&gt;{"use strict";var e,t={7460:(e,t,n)=&gt;{var r,a,o,i,l,c=n(6488),u=n(5945),s=n(7098),f=n(8100),d=n(6160),m=n(2110),p=n(1630),h=n(4694),y=n(1497),v=n(8168),g=n(9317),b=n(1488),E=n(7818),w=n(146),R=n(5458),x=mwai.prefix,O=mwai.domain,S=mwai.rest_url.replace(/\/+$/,""),T=mwai.api_url.replace(/\/+$/,""),N=mwai.plugin_url.replace(/\/+$/,""),_=mwai.user_data,C="1"===mwai.is_pro,I=C&amp;&amp;"1"===mwai.is_registered,L=mwai.rest_nonce,k=mwai.options,A=mwai.session,j=mwai.themes,P=!!mwai.stream,M=mwai.chatbots,D=n(8406),G=n(8414);function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=G.ZP.div(r||(r=F(["\n&nbsp; color: white;\n&nbsp; padding: 15px;\n&nbsp; margin-bottom: -15px;\n\n&nbsp; a {\n&nbsp; &nbsp; color: #7dedff;\n&nbsp; &nbsp; text-decoration: none;\n&nbsp; }\n\n&nbsp; p {\n&nbsp; &nbsp; font-size: 15px;\n&nbsp; }\n"]))),U=(0,G.ZP)(w.v)(a||(a=F(["\n\n&nbsp; .neko-block-title {\n&nbsp; &nbsp; display: none;\n&nbsp; }\n\n&nbsp; .plugin-desc {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; &nbsp; justify-content: center;\n&nbsp; &nbsp; margin-left: 20px;\n&nbsp; }\n\n&nbsp; .neko-block-content {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; item-align: center;\n\n&nbsp; &nbsp; h2 {\n&nbsp; &nbsp; &nbsp; color: #055082;\n&nbsp; &nbsp; &nbsp; font-size: 18px;\n&nbsp; &nbsp; &nbsp; margin: 0;\n\n&nbsp; &nbsp; &nbsp; a {\n&nbsp; &nbsp; &nbsp; &nbsp; text-decoration: none;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p {\n&nbsp; &nbsp; &nbsp; margin: 0px;\n&nbsp; &nbsp; &nbsp; margin-top: 5px;\n&nbsp; &nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; &nbsp; line-height: 1.2;\n&nbsp; &nbsp; }\n&nbsp; }\n"]))),H=G.ZP.img(o||(o=F(["\n&nbsp; width: 85px;\n&nbsp; height: 85px;\n&nbsp; padding-right: 10px;\n"]))),Z=G.ZP.div(i||(i=F(["\n\n&nbsp; margin: 15px;\n\n&nbsp; .center {\n&nbsp; &nbsp; background: white;\n&nbsp; &nbsp; color: black;\n&nbsp; &nbsp; border-radius: 10px;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; max-width: 100%\n&nbsp; &nbsp; overflow: none;\n\n&nbsp; &nbsp; h2 {\n&nbsp; &nbsp; &nbsp; font-size: 26px;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; table {\n&nbsp; &nbsp; &nbsp; width: 100%;\n\n&nbsp; &nbsp; &nbsp; tr td:first-child {\n&nbsp; &nbsp; &nbsp; &nbsp; width: 220px;\n&nbsp; &nbsp; &nbsp; &nbsp; font-weight: bold;\n&nbsp; &nbsp; &nbsp; &nbsp; color: #1e7cba;\n&nbsp; &nbsp; &nbsp; }\n\n&nbsp; &nbsp; &nbsp; * {\n&nbsp; &nbsp; &nbsp; &nbsp; overflow-wrap: anywhere;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; hr {\n&nbsp; &nbsp; border-color: #1e7cba;\n&nbsp; }\n"]))),V=G.ZP.ul(l||(l=F(["\n&nbsp; margin-top: 10px;\n&nbsp; background: rgb(0, 72, 88);\n&nbsp; padding: 10px;\n&nbsp; color: rgb(58, 212, 58);\n&nbsp; max-height: 600px;\n&nbsp; min-height: 200px;\n&nbsp; display: block;\n&nbsp; font-family: monospace;\n&nbsp; font-size: 12px;\n&nbsp; white-space: pre;\n&nbsp; overflow-x: auto;\n&nbsp; width: calc(100vw - 276px);\n&nbsp; color: white;\n\n&nbsp; .log-date {\n&nbsp; &nbsp; color: var(--neko-yellow);\n&nbsp; &nbsp; margin-left: 8px;\n&nbsp; }\n\n&nbsp; .log-type {\n&nbsp; &nbsp; background: #0000004d;\n&nbsp; &nbsp; padding: 2px 5px;\n&nbsp; &nbsp; border-radius: 8px;\n&nbsp; &nbsp; text-transform: uppercase;\n&nbsp; }\n\n&nbsp; .log-content {\n&nbsp; &nbsp; display: block;\n&nbsp; }\n\n&nbsp; .log-warning .log-type {\n&nbsp; &nbsp; background: var(--neko-yellow);\n&nbsp; &nbsp; color: white;\n&nbsp; }\n\n&nbsp; .log-fatal .log-type {\n&nbsp; &nbsp; background: var(--neko-red);\n&nbsp; &nbsp; color: white;\n&nbsp; }\n"])));function Y(e){return Y="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Y(e)}function z(){z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Y(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Y(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function W(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,l,"next",e)}function l(e){W(o,r,a,i,l,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var J=wp.element,$=J.useState,ee=J.useEffect,te="".concat(S,"/meow-common/v1"),ne=function(e){var t=e.request,n=e.title,r=e.max,a=X($(!1),2),o=a[0],i=a[1],l=X($([]),2),c=l[0],u=l[1],s=c.length&gt;0?c.reduce((function(e,t){return e+t})):0,f=c.length&gt;0?Math.ceil(s/c.length):0,m=!c.length&amp;&amp;o;return ee((function(){o&amp;&amp;setTimeout(q(z().mark((function e(){var n,r,a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,R.PV)("".concat(te,"/").concat(t),{method:"POST",nonce:L});case 3:r=(new Date).getTime(),a=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return K(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[c]),React.createElement(B,{style:{width:200,textAlign:"center"}},React.createElement(d.O,{h2:!0,style:{color:"white"}},n),React.createElement(D._,{size:200,value:m?r:f,max:r},React.createElement("span",{style:{fontSize:20}},m?"START":f+" ms"),React.createElement("span",{style:{fontSize:12}},m?"YOUR ENGINE":c.length+" requests")),React.createElement(E._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||u([]),i(!o)}},o?"Stop":"Start"))};function re(e){return re="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},re(e)}function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==re(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(re(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){le(o,r,a,i,l,"next",e)}function l(e){le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var fe=wp.element,de=fe.useState,me=fe.useEffect;T&amp;&amp;S&amp;&amp;N||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var pe="".concat(S,"/meow-common/v1"),he=React.createElement(B,null,React.createElement(d.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),ye=React.createElement(B,null,React.createElement(d.O,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),ve=React.createElement(B,null,React.createElement(d.O,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist &amp; Optimization")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),ge=["".concat(pe,"/all_settings/"),{headers:{"X-WP-Nonce":L}}],be=function(){var e=ue(de(!1),2),t=e[0],n=e[1],r=(0,f.ZP)(ge,R.SG),a=r.data,o=r.mutate,i=r.error,l=null==a?void 0:a.data,c=null==l?void 0:l.meowapps_hide_meowapps,u=null==l?void 0:l.force_sslverify,s=ue(de(!1),2),x=s[0],O=s[1],S=ue(de([]),2),T=S[0],N=S[1],_=ue(de(""),2),C=_[0],I=_[1];me((function(){i&amp;&amp;!t&amp;&amp;(n(!0),console.error("Error from UseSWR",i.message))}),[i]),me((function(){var e=document.getElementById("meow-common-phpinfo");I(e.innerHTML)}),[]);var k=function(){var e=ce(ae().mark((function e(t,n){var r,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ie({},a.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),o(ie(ie({},a),{},{data:r}),!1),O(!0),e.next=7,(0,R.PV)("".concat(pe,"/update_option"),{method:"POST",nonce:L,json:{name:n,value:t}});case 7:i=e.sent,O(!1),i.success||alert(i.message),o();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=ce(ae().mark((function e(){var t,n;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("isLoadingErrorLogs"),e.next=3,(0,R.PV)("".concat(pe,"/error_logs"),{method:"POST",nonce:L});case 3:t=e.sent,n=t&amp;&amp;t.data?t.data:[],N(n.reverse()),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=React.createElement(m.r,{title:"Main Menu"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(d.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:x,checked:c,onChange:k}))),P=React.createElement(m.r,{title:"SSL Verify"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(d.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:u,onChange:k})));return React.createElement(y.s,{showRestError:t},React.createElement(v.B,{title:"The Dashboard"}),React.createElement(g.o,null,React.createElement(g.z,{full:!0},React.createElement(b.c,null,React.createElement(b.P,{title:"Meow Apps"},he,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"AI Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",null,"GPT for WordPress. ChatGPT chatbot, image &amp; content generator, finetune/train models, etc. Ultra customizable, extensible, sleek UI. You will love it!"))),React.createElement(U,{title:"Media Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Clean your WordPress! Eliminate unused and broken media files. For a faster, and better website."))),React.createElement(U,{title:"Database Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins."))),React.createElement(U,{title:"Media File Renamer",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk."))),React.createElement(U,{title:"Social Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite extensibility, for free!"))),React.createElement(U,{title:"Meow Analytics",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"Photo Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(U,{title:"Meow Gallery",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(U,{title:"Meow Lightbox",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(U,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Manage, Optimize, Replace your images with Perfect Images."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-seo/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-seo/"},"AI-SEO")),React.createElement("p",null,"Optimize your content for SEO. Keep everything simple and fast.")))))),React.createElement(b.P,{title:"Performance"},ye,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(ne,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(ne,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(ne,{title:"SQL Request Time",request:"sql_request",max:2800})),ve),React.createElement(b.P,{title:"PHP Info"},React.createElement(Z,{dangerouslySetInnerHTML:{__html:C}})),React.createElement(b.P,{title:"PHP Error Logs"},React.createElement(B,null,React.createElement(E._,{style:{marginBottom:10},color:"#ccb027",onClick:A,disabled:x,isBusy:"isLoadingErrorLogs"===x},"Load PHP Error Logs"),React.createElement(V,null,T.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(d.O,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(b.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},j,P))))))},Ee=n(<del>5133),we=n(1492),Re=n(8178),xe=n(2622),Oe=n(2719),Se=n(2785),Te=n(1203),Ne=n(477),_e=n(3506);function Ce(e){return Ce="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ie(){Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Ce(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ce(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,l,"next",e)}function l(e){Le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pe=wp.element,Me=Pe.useState,De=Pe.useEffect,Ge="".concat(S,"/meow-licenser/").concat(x,"/v1"),Fe=function(){var e=Ae(Me(!1),2),t=e[0],n=e[1],r=Ae(Me(!1),2),a=r[0],o=r[1],i=Ae(Me(null),2),l=i[0],c=i[1],u=Ae(Me(null),2),s=u[0],f=u[1],m=Ae(Me(""),2),p=m[0],h=m[1],y=I&amp;&amp;(!s||"valid"!==s.license),v=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,R.PV)("".concat(Ge,"/get_license"),{method:"POST",nonce:L});case 5:t=e.sent,f(t.data),t.data.key&amp;&amp;h(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=ke(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:null}});case 3:e.sent.success&amp;&amp;(h(""),f(null),c("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:p,override:!0}});case 3:(t=e.sent).success&amp;&amp;(f(t.data),t.data&amp;&amp;!t.data.issue&amp;&amp;c("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==p){e.next=5;break}return o(!0),f(null),h(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:p}});case 8:(t=e.sent).success&amp;&amp;(f(t.data),t.data&amp;&amp;!t.data.issue&amp;&amp;c("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();De((function(){v()}),[]);var O=y?"Forced License":I?"Enabled":"Disabled",S=y||s&amp;&amp;"valid"===s.license,T="Your license is active. Thanks a lot for your support :)";y&amp;&amp;(T="This license has been force-enabled for you.",s&amp;&amp;s.check_url&amp;&amp;(T=React.createElement(React.Fragment,null,React.createElement("span",null,T),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:s.check_url+"&amp;cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),S||(s?"no_activations_left"===s.issue?T=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===s.issue?T=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===s.issue?T="This license does not exist.":"disabled"===s.issue?T="This license has been disabled.":"item_name_mismatch"===s.issue?T="This license seems to be for a different plugin... isn't it? :)":"forced"===s.issue?T="ABC":(T=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:s})):T="Unknown error :(");var N=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),_=React.createElement(w.v,{title:"Pro Version (".concat(O,")"),busy:t,className:"primary"},!y&amp;&amp;!(s&amp;&amp;s.key===p)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(we.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:p,onChange:function(e){return h(e)},placeholder:"Type your license key..."}),React.createElement(d.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),s&amp;&amp;!S&amp;&amp;React.createElement(_e.S,{variant:"danger"},T),(y||s)&amp;&amp;S&amp;&amp;React.createElement(_e.S,{variant:"success"},T),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},s&amp;&amp;!S&amp;&amp;React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:x},"Retry to validate"),s&amp;&amp;s.key===p&amp;&amp;React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:g},"Remove License"),React.createElement(E._,{disabled:t||!p||s&amp;&amp;s.key===p,onClick:x},"Validate License"),a&amp;&amp;!S&amp;&amp;React.createElement(E._,{disabled:t||!p||s&amp;&amp;s.key===p,onClick:b,className:"danger"},"Force License")),React.createElement(Te.L,{isOpen:"licenseAdded"===l,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(Te.L,{isOpen:"licenseRemoved"===l,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return C?_:N};const{__:Be}=wp.i18n,Ue={};Ue.COMMON={GENERAL:Be("General","ai-engine"),MODULES:Be("Modules","ai-engine"),CLIENT_MODULES:Be("Client Modules","ai-engine"),BACKEND_MODULES:Be("Admin Modules","ai-engine"),SERVER_MODULES:Be("Server Modules","ai-engine"),SETTINGS:Be("Settings","ai-engine"),CHATBOT:Be("Chatbot","ai-engine"),CHATBOTS:Be("Chatbots","ai-engine"),CHATBOT_HELP:Be("Highly customizable chatbot.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STYLE:Be("Style","ai-engine"),ENABLE:Be("Enable","ai-engine"),NAME:Be("Name","ai-engine"),SUBMIT:Be("Submit","ai-engine"),MODEL:Be("Model","ai-engine"),AI_MODEL:Be("AI Model","ai-engine"),TEMPERATURE:Be("Temperature","ai-engine"),MAX_TOKENS:Be("Max Tokens","ai-engine"),CONTEXT_MAX_LENGTH:Be("Context Max Length","ai-engine"),STOP_SEQUENCE:Be("Stop Sequence","ai-engine"),MODE:Be("Mode","ai-engine"),CONTEXT:Be("Context","ai-engine"),IMAGES_NUMBER:Be("Number of Images","ai-engine"),AI_NAME:Be("AI Name","ai-engine"),USER_NAME:Be("User Name","ai-engine"),PLACEHOLDER:Be("Placeholder","ai-engine"),START_SENTENCE:Be("Start Sentence","ai-engine"),SEND:Be("Send","ai-engine"),CLEAR:Be("Clear","ai-engine"),SYSTEM_NAME:Be("System Name","ai-engine"),ID:Be("ID","ai-engine"),POPUP:Be("Popup","ai-engine"),POSITION:Be("Position","ai-engine"),ICON_TEXT:Be("Icon Text","ai-engine"),FULL_SCREEN:Be("Full Screen","ai-engine"),CASUALLY_FINE_TUNED:Be("Casually Fine-Tuned","ai-engine"),CONTENT_AWARE:Be("Content Aware","ai-engine"),SPACING:Be("Spacing","ai-engine"),BORDER_RADIUS:Be("Border Radius","ai-engine"),FONT_SIZE:Be("Font Size","ai-engine"),FONT_COLOR:Be("Font Color","ai-engine"),BACK_PRIMARY_COLOR:Be("Back Primary Color","ai-engine"),BACK_SECONDARY_COLOR:Be("Back 2nd Color","ai-engine"),HEADER_BUTTONS_COLOR:Be("Header Buttons Color","ai-engine"),HEADER_BACKGROUND_COLOR:Be("Header Back Color","ai-engine"),BACK_USER_COLOR:Be("Back User Color","ai-engine"),BACK_AI_COLOR:Be("Back AI Color","ai-engine"),BACK_AI_SECONDARY_COLOR:Be("Back AI 2nd Color","ai-engine"),AVATAR_MESSAGE_BACKGROUND_COLOR:Be("Message Background","ai-engine"),AVATAR_MESSAGE_FONT_COLOR:Be("Message Color","ai-engine"),POPUP_ICON:Be("Popup Icon","ai-engine"),CUSTOM_ICON_URL:Be("Custom Icon URL","ai-engine"),FEATURES:Be("Features","ai-engine"),TIMEFRAME:Be("Timeframe","ai-engine"),ABSOLUTE:Be("Absolute","ai-engine"),NONE:Be("None","ai-engine"),EDITORS_ADMINS:Be("Editors &amp; Admins","ai-engine"),ADMINS_ONLY:Be("Admins Only","ai-engine"),CREDITS:Be("Credits","ai-engine"),TYPE:Be("Type","ai-engine"),USERS:Be("Users","ai-engine"),USER:Be("User","ai-engine"),GUESTS:Be("Guests","ai-engine"),GUEST:Be("Guest","ai-engine"),OPENAI:Be("Open AI","ai-engine"),LICENSE_TAB:Be("License","ai-engine"),FINETUNES:Be("Finetunes","ai-engine"),MODELS:Be("Models","ai-engine"),DATASETS:Be("Datasets","ai-engine"),ASSISTANT:Be("Assistant","ai-engine"),ASSISTANTS:Be("Assistants","ai-engine"),UTILITIES:Be("Utilities","ai-engine"),POSTS_SUGGESTIONS:Be("AI Copilot, AI Suggestions, Magic Wands","ai-engine"),POSTS_SUGGESTIONS_HELP:Be("Tools to brainstorm/write faster and better.","ai-engine"),GENERATORS:Be("Generators","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR:Be("WooCommerce Product Generator","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR_HELP:Be("Write all the WooCommerce fields for a given product.","ai-engine"),CONTENT_GENERATOR:Be("Content Generator","ai-engine"),CONTENT_GENERATOR_HELP:Be("Generate articles. Support templates.","ai-engine"),IMAGES_GENERATOR:Be("Images Generator","ai-engine"),IMAGES_GENERATOR_HELP:Be("Generate images. Support templates.","ai-engine"),PLAYGROUND:Be("Playground","ai-engine"),PLAYGROUND_HELP:Be("Play with AI or let it perform various tasks for you. Support templates.","ai-engine"),FORMS:Be("Forms","ai-engine"),FORMS_HELP:Be("Build AI forms. Based on fields, users will be given answers or suggestions.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STATISTICS_HELP:Be("Track AI interactions, check statistics, set limits, and more!","ai-engine"),DEBUG_MODE:Be("Debug Mode","ai-engine"),DEBUG_MODE_HELP:Be("Debugging information will be displayed in the console.","ai-engine"),API_KEY:Be("API Key","ai-engine"),USAGE_COSTS_HELP:Be('For the exact amounts, please check your &lt;a href="https://beta.openai.com/account/usage" target="_blank"&gt;OpenAI account&lt;/a&gt;.',"ai-engine"),USAGE_COSTS_PRO_HELP:Be('If you would like to have better control on the amounts, add conditions or set limits to the usage of the AI, consider &lt;a href="https://meowapps.com/ai-engine/" target="_blank"&gt;AI Engine Pro&lt;/a&gt;.',"ai-engine"),LANGUAGE:Be("Language","ai-engine"),HIDE:Be("Hide","ai-engine"),SHOW:Be("Show","ai-engine"),CONTENT:Be("Content","ai-engine"),IMAGES:Be("Images","ai-engine"),EXCERPT:Be("Excerpt","ai-engine"),GENERATE:Be("Generate","ai-engine"),MODEL_PARAMS:Be("Model Params","ai-engine"),CONTEXT_PARAMS:Be("Context Params","ai-engine"),PROMPT:Be("Prompt","ai-engine"),PROMPTS:Be("Prompts","ai-engine"),LABEL:Be("Label","ai-engine"),SYSTEM:Be("System","ai-engine"),SHORTCODE:Be("Shortcode","ai-engine"),SHORTCODES:Be("Shortcodes","ai-engine"),RESOLVE:Be("Resolve","ai-engine"),MAX_MESSAGES:Be("Max Messages","ai-engine"),INPUT_MAX_LENGTH:Be("Input Max Length","ai-engine"),COMPLIANCE_TEXT:Be("Compliance Text","ai-engine"),MODERATION:Be("Moderation","ai-engine"),MODERATION_HELP:Be("Moderation features with AI.","ai-engine"),FORMATTING:Be("Formatting","ai-engine"),FORMATTING_HELP:Be("Format the reply from AI into HTML. This is already done automatically if Markdown is detected in the reply.","ai-engine"),LOGS:Be("Logs","ai-engine"),CODE:Be("Code","ai-engine"),EMBEDDINGS:Be("Embeddings","ai-engine"),EMBEDDINGS_HELP:Be("Create searchable data that can be reused to feed the chatbot and other AI or UI elements.","ai-engine"),OTHERS:Be("Others","ai-engine"),PINECONE_APIKEY_HELP:Be('You can get your API Keys in your &lt;a href="https://app.pinecone.io/organizations/keys" target="_blank"&gt;Pinecone Account&lt;/a&gt;.',"ai-engine"),QDRANT_APIKEY_HELP:Be('You can get your API Keys in your &lt;a href="https://cloud.qdrant.io/accounts/" target="_blank"&gt;Qdrant Account&lt;/a&gt;.',"ai-engine"),SERVER:Be("Server","ai-engine"),PINECONE_SERVER_HELP:Be("The region which was set for your account.","ai-engine"),QDRANT_SERVER_HELP:Be("The URL of your cluster (known as Cluster URL).","ai-engine"),COST:Be("Cost","ai-engine"),USAGE_COSTS:Be("Usage Costs","ai-engine"),TRANSCRIPTION:Be("Transcription","ai-engine"),TRANSCRIPTION_HELP:Be("Introduces a 'Transcribe' tab to easily transform audio/images into text and get AI answers in JSON format.","ai-engine"),AUDIO_TRANSCRIPTION:Be("Audio-to-Text","ai-engine"),IMAGE_TRANSCRIPTION:Be("Image-to-Text","ai-engine"),AUDIO_TO_TEXT:Be("Audio ➡ Text","ai-engine"),IMAGE_TO_TEXT:Be("Image ➡ Text","ai-engine"),EMBEDDINGS_ENV:Be("Environment","ai-engine"),EMBEDDINGS_INDEX:Be("Index","ai-engine"),NAMESPACE:Be("Namespace","ai-engine"),NAMESPACES:Be("Namespaces","ai-engine"),NAMESPACE_HELP:Be("The namespace is used to separate the data from other data. This allows you to use the same index on more than one website.","ai-engine"),NAMESPACES_HELP:Be("Enter the namespaces you would like to use on this site, separated by commas.","ai-engine"),ERROR:Be("Error","ai-engine"),RETRY:Be("Retry","ai-engine"),AUTO_RETRY:Be("Auto Retry","ai-engine"),SKIP:Be("Skip","ai-engine"),AUTO_SKIP:Be("Auto Skip","ai-engine"),STOP:Be("Stop","ai-engine"),AUTO_RETRY_DESCRIPTION:Be("Auto Retry retries actions up to 10 times with increasing delay to avoid timeouts.","ai-engine"),WIDTH:Be("Width","ai-engine"),MAX_HEIGHT:Be("Max Height","ai-engine"),APPEARANCE:Be("Appearance","ai-engine"),THRESHOLDS:Be("Thresholds","ai-engine"),DASHBOARD:Be("Dashboard","ai-engine"),ADVANCED:Be("Advanced","ai-engine"),DISCUSSIONS:Be("Discussions","ai-engine"),ROWS:Be("Rows","ai-engine"),POST_TYPE:Be("Post Type","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_IMAGES:Be("Generate Images","ai-engine"),ADMIN_BAR:Be("Admin Bar","ai-engine"),ADMIN_TOOLS:Be("Admin Tools","ai-engine"),REFRESH:Be("Refresh","ai-engine"),DELETE:Be("Delete","ai-engine"),DELETE_ALL:Be("Delete All","ai-engine"),DELETE_SELECTED:Be("Delete Selected","ai-engine"),OPENAI_ORGANIZATION_ID:Be("Organization ID","ai-engine"),OPENAI_AZURE_ENDPOINT:Be("Endpoint","ai-engine"),OPENAI_AZURE_API_KEY:Be("API Key","ai-engine"),OPENAI_AZURE_DEPLOYMENT_NAME:Be("Deployment Name","ai-engine"),OPENAI_AZURE_DEPLOYMENTS:Be("Deployments","ai-engine"),THEME:Be("Theme","ai-engine"),THEMES:Be("Themes","ai-engine"),BANNED_WORDS:Be("Banned Words","ai-engine"),BANNED_IPS:Be("Banned IPs","ai-engine"),SECURITY:Be("Security","ai-engine"),POST_TYPES:Be("Post Types","ai-engine"),COPY_BUTTON:Be("Copy Button","ai-engine"),POPUP_SETTINGS:Be("Popup Settings","ai-engine"),AI_AVATAR:Be("Avatar","ai-engine"),SITE_WIDE_CHATBOT:Be("Site-Wide Chatbot","ai-engine"),QUERIES_DATA:Be("Queries Data","ai-engine"),QUERIES_FORMS_DATA:Be("Queries Form Data","ai-engine"),WEBSPEECH_API:Be("Web Speech API","ai-engine"),SPEECH_RECOGNITION:Be("Speech Recognition","ai-engine"),SPEECH_SYNTHESIS:Be("Speech Synthesis","ai-engine"),QUERY:Be("Query","ai-engine"),QUERIES:Be("Queries","ai-engine"),LOCAL_MEMORY:Be("Local Memory","ai-engine"),ACTIONS:Be("Actions","ai-engine"),RESET:Be("Reset","ai-engine"),INCIDENTS_OPENAI:Be("Incidents (OpenAI)","ai-engine"),PREVIEW:Be("Preview","ai-engine"),LEGACY_FORMS:Be("Legacy Forms","ai-engine"),LEGACY_FEATURES:Be("Legacy Features","ai-engine"),DUPLICATE:Be("Duplicate","ai-engine"),CHATBOT_EDITOR:Be("Chatbot Editor","ai-engine"),THEME_EDITOR:Be("Theme Editor","ai-engine"),SHORTCODE:Be("Shortcodes","ai-engine"),STREAMING:Be("Streaming","ai-engine"),SYNTAX_HIGHLIGHT:Be("Syntax Highlight","ai-engine"),DATA_NOT_AVAILABLE:Be("Data not available.","ai-engine"),EXPORT:Be("Export","ai-engine"),IMPORT:Be("Import","ai-engine"),MODIFY_EMBEDDING:Be("Modify Embedding","ai-engine"),ADD_EMBEDDING:Be("Add Embedding","ai-engine"),DEV_TOOLS:Be("Dev Tools","ai-engine"),SINGLE_GENERATE:Be("Single Generate","ai-engine"),PUBLIC_API:Be("Public API","ai-engine"),USER_INTERFACE:Be("User Interface","ai-engine"),INTRO_MESSAGE:Be("Intro Message","ai-engine"),AI_ENVIRONMENT_DEFAULTS:Be("Default Environments for AI","ai-engine"),EMBEDDINGS_ENVIRONMENT_DEFAULT:Be("Default Embeddings Environment","ai-engine"),ENVIRONMENT:Be("Environment","ai-engine"),PLUGIN_DATA:Be("Plugin Data","ai-engine"),PLUGIN_DATA_DESCRIPTION:Be("The database and all the options of the plugin will be removed on uninstall.","ai-engine"),RESET_LIMITS:Be("Reset Limits","ai-engine"),VISION:Be("Vision","ai-engine"),FILE_UPLOAD:Be("File Upload","ai-engine"),PROMPT_TO_JSON:Be("Prompt ➡ JSON","ai-engine"),RESOLUTION:Be("Resolution","ai-engine"),DEFAULT:Be("Default","ai-engine"),REFRESH_MODELS:Be("Refresh Models","ai-engine"),AUDIO:Be("Audio","ai-engine"),JSON:Be("JSON","ai-engine"),FILES:Be("Files","ai-engine"),AI_ENVIRONMENT:Be("AI Environment","ai-engine"),OVERRIDE_DEFAULTS:Be("Override Defaults","ai-engine"),REGION:Be("Region","ai-engine"),PROJECT_ID:Be("Project ID","ai-engine")},Ue.FORMS={PROMPT_INFO:Be("The template of your prompt. To re-use the data entered by the user, use the name of that field between curly braces. Example: Recommend me {MUSIC_TYPE} artists. You can also use an ID as an input, like this: ${#myfield}. Finally, if you wish the output to be formatted, add: 'Use Markdown.'.\"","ai-engine"),OUTPUT:Be("Output","ai-engine"),OUTPUT_ELEMENT:Be("Output Element","ai-engine"),OUTPUT_ELEMENT_INFO:Be("The result will be written to this element. If you wish to simply display the result in an Output Block, use its ID. For instance, if its ID is mwai-666, use '#mwai-666'.","ai-engine")},Ue.HELP={TEMPERATURE:Be("Between 0 and 1. Higher values means the model will take more risks.","ai-engine"),MAX_TOKENS:Be("The maximum number of tokens to generate. The model will stop generating once it hits this limit.","ai-engine"),STOP_SEQUENCE:Be("The sequence of tokens that will cause the model to stop generating text. You absolutely need this with fine-tuned models.","ai-engine"),COST:Be("Keeps track of the current costs.","ai-engine"),RESOLVE_SHORTCODE:Be("Will resolve the shortcode in your content when needed (Content-Aware will use this, for instance).","ai-engine"),FINETUNES:Be("Train your own AI models.","ai-engine"),DISCUSSIONS:Be("Keep the conversations and enable browsing them via the Conversations tab.","ai-engine"),AZURE_DEPLOYMENTS:Be("Add your deployments below and define what kind of model they are.","ai-engine"),BANNED_WORDS:Be("Reject queries containing these words; separate with commas.","ai-engine"),BANNED_IPS:Be("Block access from specified IP addresses or ranges using CIDR notation; separate with commas.","ai-engine"),POST_TYPES:Be("Enable for these post types; separate with commas.","ai-engine"),POST_STATUS:Be("Enable for these post statuses (publish, draft, future, private, etc); separate with commas.","ai-engine"),CONTEXT_MAX_LENGTH:Be("Truncate the context (Content-Aware, Embeddings, etc) to make sure it is below this number of characters.","ai-engine"),MAX_MESSAGES:Be("Maximum number of historical messages that is sent to the AI model.","ai-engine"),INPUT_MAX_LENGTH:Be("Maximum number of characters that can be input by the user.","ai-engine"),STATISTICS:Be(" In the Queries tab, you can browse through all your users' activity. Contextual data is excluded unless you activate the options below. Make sure your users are aware of this.","ai-engine"),QUERIES_DATA:Be("Record the queries and their replies.","ai-engine"),QUERIES_FORMS_DATA:Be("Capture form data neatly for simple reuse.","ai-engine"),SPEECH_RECOGNITION:Be("Enable speech-to-text. Depends on the browser and OS used by the user.","ai-engine"),SPEECH_SYNTHESIS:Be("Enable text-to-speech.","ai-engine"),CUSTOM_SHORTCODE:Be("Prefer the above version. If you need many chatbots, you can custom shortcodes, like the one below. Custom shortcodes are based on the default chatbot, and their attributes override the default ones.","ai-engine"),USER_FILTER:Be("Type an User ID, or an IP.","ai-engine"),STREAMING:Be("The AI's response will appear as it's being created. Be cautious: this feature's ability to manage statistics, limits, and filters is still in its beta phase.","ai-engine"),SYNTAX_HIGHLIGHT:Be("Enable syntax highlighting for the code blocks.","ai-engine"),DEV_TOOLS:Be("Enable a new tab with debugging tools. For developers only.","ai-engine"),PUBLIC_API:Be("Enable the Public REST API. By default, it will be accessible to everyone.","ai-engine"),INTRO_MESSAGE:Be("Enable the introduction text at the top of this page.","ai-engine"),OPENAI_API_KEY:Be('You can get your API Keys in your &lt;a href="https://beta.openai.com/account/api-keys" target="_blank"&gt;OpenAI Account&lt;/a&gt;.',"ai-engine"),OPENAI_ORGANIZATION_ID:Be('You can link this environment to an &lt;a href="https://platform.openai.com/account/organization" target="_blank"&gt;Organization&lt;/a&gt;. This is optional.',"ai-engine"),AZURE_API_KEY:Be('You can get your API Keys in your &lt;a href="https://oai.azure.com/portal" target="_blank"&gt;Azure Account&lt;/a&gt;.',"ai-engine"),OPENROUTER_API_KEY:Be('You can get your API Keys in your &lt;a href="https://openrouter.ai/keys" target="_blank"&gt;OpenRouter Account&lt;/a&gt;.',"ai-engine"),QDRANT:Be('Use the code &lt;b&gt;#AIENGINE5&lt;/b&gt; when you &lt;a href="https://qdrant.to/cloud" target="_blank"&gt;Create a Qdrant Account&lt;/a&gt;. You will get 5% off.',"ai-engine"),ASSISTANTS:Be("The Assistants API is designed to help developers build powerful AI assistants capable of performing a variety of tasks.","ai-engine"),ASSISTANTS_INTRO:Be('The Assistants API is designed to help developers build powerful AI assistants capable of performing a variety of tasks. To create them, head to the &lt;a href="https://beta.openai.com/assistants" target="_blank"&gt;OpenAI Assistants&lt;/a&gt; dashboard, then &lt;b&gt;Refresh Assistants&lt;/b&gt; here. You can use an assistant in your chatbots by switching the &lt;b&gt;Mode&lt;/b&gt; to &lt;b&gt;Assistant&lt;/b&gt;.',"ai-engine"),ASSISTANTS_WARNINGS:Be('Assistants are also &lt;a href="https://platform.openai.com/docs/api-reference/assistants" target="_blank"&gt;in beta&lt;/a&gt;, both for OpenAI and AI Engine. OpenAI did not add streaming support for them yet. Pricing is still quite unclear and &lt;a href="https://openai.com/pricing" target="_blank"&gt;tricky&lt;/a&gt;. AI Engine can only perform an estimation. If you want to discuss assistants with other users, visit the &lt;a href="https://discord.gg/bHDGh38" target="_blank"&gt;Meow Apps Discord Server&lt;/a&gt;.',"ai-engine")},Ue.SETTINGS={AI_ENV_SETUP:Be('To leverage the functionalities of AI Engine, it needs to be connected directly to AI services. We recommend starting with OpenAI. Create an account and generate an API Key by visiting the &lt;a href="https://beta.openai.com/account/api-keys" target="_blank"&gt;OpenAI&lt;/a&gt; website. Once obtained, navigate to the &lt;b&gt;Settings&lt;/b&gt; tab and input your OpenAI API Key in the "Environments for AI" section.',"ai-engine"),PINECONE_SETUP:Be('You choose to use Embeddings. To use them, you need to a Pinecone account. Visit the &lt;a href="https://app.pinecone.io" target="_blank"&gt;Pinecone&lt;/a&gt; website to create an account, then insert your Pinecone API Key in the &lt;b&gt;Settings&lt;/b&gt; tab.',"ai-engine"),INTRO:Be('Boost your WordPress with AI! Don\'t forget to visit AI Engine\'s &lt;a href="https://meowapps.com/ai-engine/" target="_blank"&gt;website&lt;/a&gt; for more information. Also make sure you read the &lt;a href="https://meowapps.com/ai-engine/disclaimer/" target="_blank"&gt;disclaimer&lt;/a&gt;. Have fun! 🎵',"ai-engine"),MODULES_INTRO:Be("To avoid cluttering the UI and your WP, only enable the features you need.","ai-engine"),ALERT_INJECT_BUT_NO_POPUP:Be("You choose to inject the chatbot in your website. You probably also want to use the chatbot in a Popup.","ai-engine"),ALERT_CASUALLY_BUT_NO_FINETUNE:Be("Normally, you should not check the Casually Fine Tuned option with a non-finetuned model. Make sure that's what you want.","ai-engine"),ALERT_CONTENTAWARE_BUT_NO_CONTENT:Be('Content Aware requires your Context to use the {CONTENT} placeholder. It will be replaced by the content of page the chatbot is on. More info &lt;a href="https://meowapps.com/ai-engine/tutorial/#contextualization" target="_blank"&gt;here&lt;/a&gt;.',"ai-engine"),SET_AS_DEFAULT_PARAMETERS:Be("Set as Default Parameters","ai-engine"),SET_AS_DEFAULT_PARAMETERS_HELP:Be("Set the parameters above as the default parameters for the chatbot. You can then use the shortcode [mwai_chat] anywhere on your website.","ai-engine"),INJECT_DEFAULT_CHATBOT:Be("Inject Default Chatbot in Entire Website","ai-engine"),INJECT_DEFAULT_CHATBOT_HELP:Be("Inject the chatbot [mwai_chat] in the entire website.","ai-engine"),CHATGPT_STYLE_INTRO:Be('Keep in mind that you can also style the chatbot (or a specific chatbot, if you use many) by injecting CSS. Have a look &lt;a target="_blank" href="https://meowapps.com/ai-engine/tutorial/#apply-custom-style-to-the-chatbot"&gt;here&lt;/a&gt;. More information in the &lt;a target="_blank" href="https://meowapps.com/ai-engine/faq"&gt;FAQ&lt;/a&gt;.',"ai-engine"),TYPEWRITER_EFFECT:Be("Typewriter Effect","ai-engine"),TYPEWRITER_EFFECT_HELP:Be("The reply from AI will be typewrited. This delays the final output! Absolutely not recommended. Please use &lt;b&gt;Streaming&lt;/b&gt; instead.","ai-engine"),CHATBOT_MODERATION_HELP:Be("If the conversation seems offensive, the chatbot will reject it.","ai-engine"),CUSTOM_URL:Be("Custom URL","ai-engine")},Ue.CHATBOT={CHATBOT_BUILDER:Be("Chatbot Builder","ai-engine"),RESET_PARAMS:Be("Reset Parameters","ai-engine")},Ue.STATISTICS={ABSOLUTE_HELP:Be("Using Absolute, Day represents &lt;i&gt;today&lt;/i&gt;. Otherwise, the &lt;i&gt;past 24 hours&lt;/i&gt;. Same logic applies to the other timeframes.","ai-engine"),NO_CREDITS_MESSAGE:Be("Message for No Credits","ai-engine"),FULL_ACCESS_USERS:Be("Full-Access Users","ai-engine"),ENABLE_LIMITS:Be("Enable Limits","ai-engine")},Ue.CONTENT_GENERATOR={INTRO:Be("The Content Generator is a powerful tool that can generate content for you. It can be used to generate articles, emails, or even code. It can also be used to generate content for your chatbot. &lt;b&gt;Let me know if there are any new features you would like to see!&lt;/b&gt; Have fun 🥳","ai-engine"),TITLE_MISSING:Be("Title is missing!","ai-engine"),SECTIONS_MISSING:Be("Sections are missing!","ai-engine"),SINGLE_GENERATE:Be("Single Generate","ai-engine"),BULK_GENERATE:Be("Bulk Generate","ai-engine"),CONTENT_PARAMS:Be("Content Params","ai-engine"),POST_PARAMS:Be("Post Params","ai-engine"),CONTENT_PARAMS_INTRO:Be("Input fields are displayed for certain placeholders used in prompts, such as {LANGUAGE} or {WRITING_TONE}","ai-engine"),CUSTOM_LANGUAGE:Be("Custom Language","ai-engine"),WRITING_STYLE:Be("Writing Style","ai-engine"),WRITING_TONE:Be("Writing Tone","ai-engine"),CUSTOM_LANGUAGE_HELP:Be('All the languages are &lt;i&gt;somehow&lt;/i&gt; supported by AI. &lt;a href="https://meowapps.com/ai-engine/faq/#languages" target="_blank"&gt;Learn more&lt;/a&gt;.',"ai-engine"),MODEL_HELP:Be("It is recommended to use Turbo or GPT-4 to write texts.","ai-engine"),PROMPTS_INTRO:Be("Prompts represent the exact request sent to the AI. The variables between curly braces will be replaced by the content of the corresponding field. Prompts are saved in your templates.","ai-engine"),PROMPT_TITLE:Be("Prompt for &lt;b&gt;Title&lt;/b&gt;","ai-engine"),PROMPT_SECTIONS:Be("Prompt for &lt;b&gt;Sections&lt;/b&gt;","ai-engine"),PROMPT_CONTENT:Be("Prompt for &lt;b&gt;Content&lt;/b&gt;","ai-engine"),PROMPT_EXCERPT:Be("Prompt for &lt;b&gt;Excerpt&lt;/b&gt;","ai-engine"),POST_CREATED:Be("Post Created","ai-engine"),POST_CREATED_AS_DRAFT:Be("The post was created as a draft.","ai-engine"),CONTENT_HELP:Be('You can modify the content before using "Create Post". Markdown is supported, and will be converted to HTML when the post is created.',"ai-engine"),SECTIONS_HELP:Be('Add, rewrite, remove, or reorganize those sections as you wish before (re)clicking on "Generate Content". Markdown format is recommended.',"ai-engine"),GENERATE_EXCERPT:Be("Generate Excerpt","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_SECTIONS:Be("Generate Sections","ai-engine"),PARAGRAPHS_PER_SECTION:Be("# of Paragraphs per Section","ai-engine"),SECTIONS:Be("Sections","ai-engine"),TOPICS_HELP:Be("Write or paste your topics below. Each line will be used as a topic. The same &lt;b&gt;Params&lt;/b&gt; and &lt;b&gt;Prompts&lt;/b&gt; will be used as with the &lt;b&gt;Single Generate&lt;/b&gt;, so make sure you get satisfying results with it first. This &lt;b&gt;takes time&lt;/b&gt;, so relax and enjoy some coffee ☕️ and tea 🍵 :)","ai-engine"),GENERATED_POSTS:Be("Generated Posts","ai-engine"),GENERATE_ALL:Be("Generate All","ai-engine"),EDIT_POST:Be("Edit Post","ai-engine"),CREATE_POST:Be("Create Post","ai-engine"),TITLE_TOO_SHORT:Be("The title is too short. It should be at least 3 words.","ai-engine"),TITLE_TOO_SHORT_2:Be("The title is too short.&nbsp; It should be at least 40 characters.","ai-engine"),TITLE_TOO_LONG:Be("The title is too long. It should be less than 8 words.","ai-engine"),TITLE_TOO_LONG_2:Be("The title is too long. It should be less than 70 characters.","ai-engine")},Ue.TEMPLATES={TEMPLATES:Be("Templates","ai-engine"),DELETE_CONFIRM:Be("Are you sure you want to delete this template?","ai-engine"),DELETE_ALL_CONFIRM:Be("Are you sure you want to delete all the templates?","ai-engine"),NEW_TEMPLATE_NAME:Be("New Template","ai-engine"),EDIT:Be("EDIT","ai-engine")},Ue.PLAYGROUND={INTRO:Be("Welcome to the AI Playground! Here, you can play with different AI models and ask the UI to perform various tasks for you. You can ask it to write, rewrite, or translate an article, categorize words or elements into groups, write an email, etc. &lt;b&gt;Let me know if there are any new features you would like to see!&lt;/b&gt; Have fun 🥳","ai-engine"),PROMPT:Be("Query / Prompt","ai-engine"),REPLY:Be("Reply","ai-engine")},Ue.ALERTS={FINETUNING_STARTED:Be("Fine-tuning started! Check its progress in the Models section. Depending on your dataset size, it may take a while (from a few minutes to days).","ai-engine"),RESET_BUILDER:Be("This will delete all the rows in the builder. Are you sure?","ai-engine"),DELETE_FINETUNE:Be("You are going to delete this fine-tune. Are you sure?\n\nPlease note that it will take a while before it is actually deleted. This might be a temporary issue of OpenAI.","ai-engine"),FINETUNE_ALREADY_DELETED:Be("This fine-tune was already deleted. It will be removed from the list.","ai-engine"),CHECK_CONSOLE:Be("Error! Check your console for more details.","ai-engine"),DATASET_UPLOADED:Be("Uploaded successfully! You can now train a model based on this dataset.","ai-engine"),ONLY_SUPPORTS_FILES:Be("This only supports JSON, JSONL, and CSV files.","ai-engine"),EMPTY_LINES_DATASET:Be("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'prompt' and 'completion'. For debugging, an empty line was logged to the console.","ai-engine"),EMPTY_LINES_EMBEDDINGS:Be("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'title' and 'content'. For debugging, an empty line was logged to the console.","ai-engine"),ARE_YOU_SURE:Be("Are you sure?","ai-engine")},Ue.FINETUNING={CONTEXT_DESCRIPTION:Be("In Easy mode, this context will be automatically used for every message. This context will need to be re-used in your chatbot as well.","ai-engine"),MODELS_INTRO:Be("The AI models you have fine-tuned. To create more, visit &lt;b&gt;Datasets&lt;/b&gt;.","ai-engine"),LEGACY_MODELS_INTRO:Be('The AI models you have fine-tuned. &lt;b&gt;Do not use legacy fine-tuning anymore (based on models prior to GPT 3.5). Their deprecation has been &lt;a href="https://platform.openai.com/docs/guides/legacy-fine-tuning" target="_blank"&gt;announced by OpenAI&lt;/a&gt; for January 4th, 2024.&lt;/b&gt;&lt;br /&gt;',"ai-engine"),DATASETS_INTRO:Be("The datasets you have uploaded to OpenAI. To create a new dataset, switch from &lt;b&gt;Model Finetuner&lt;/b&gt; to &lt;b&gt;Dataset Builder&lt;/b&gt;. To train a new model, click on the &lt;i&gt;magic wand&lt;/i&gt;.","ai-engine"),MODEL_FINETUNE:Be("Model Finetune","ai-engine"),MODELS_DATASETS:Be("Models &amp; Datasets","ai-engine"),DATASET_EDITOR:Be("Dataset Editor","ai-engine"),DATASET_BUILDER:Be("Dataset Builder","ai-engine"),ENTRIES_EDITOR:Be("Entries Editor","ai-engine"),ENTRIES_GENERATOR:Be("Entries Generator","ai-engine"),HUGE_DATASET_WARNING:Be("Caution: The data is too large to be saved in your browser's local storage.","ai-engine"),NO_FINETUNES_YET:Be("No fine-tunes found. Refresh the list, or create a new one (via a dataset).","ai-engine"),CLEAN_MODELS_LIST:Be("Clean Models List","ai-engine"),DELETED_FINETUNE_ISSUE:Be("For some reason, OpenAI still return the models even after you deleted them. Don't worry, AI Engine will do the cleanup for you! You can force the cleanup by using this button. It takes a bit of time depending on the total of models you have.","ai-engine")},Ue.EMBEDDINGS={EDIT:Be("EDIT","ai-engine"),AI_SEARCH:Be("AI SEARCH","ai-engine"),AUTO_SYNC_POSTS:Be("Auto Sync Posts","ai-engine"),AUTO_SYNC_POSTS_DESCRIPTION:Be("Embeddings will be created, updated or removed based on the activity related to your posts.","ai-engine"),REWRITE_CONTENT:Be("Rewrite Content","ai-engine"),REWRITE_CONTENT_DESCRIPTION:Be("Shorten and improve the content for your embedding using the default model.","ai-engine"),FORCE_RECREATE:Be("Force Recreate","ai-engine"),FORCE_RECREATE_DESCRIPTION:Be("Recreate embeddings on sync even if the content has not changed.","ai-engine"),REWRITE_PROMPT_DESCRIPTION:Be("Prompt for the rewrite. Supports {CONTENT}, {TITLE}, {URL}, {EXCERPT}, {LANGUAGE}, {ID}.","ai-engine"),SYNC_ALL:Be("Sync All","ai-engine"),SYNC_ONE:Be("Sync One","ai-engine"),ADD_INDEX:Be("Add Index","ai-engine"),ADD_INDEX_DESCRIPTION:Be("An index is like a database, and contains embeddings. You can have many indexes and switch between them. The indexes are hosted on Pinecone.","ai-engine"),NO_NAMESPACE_SUPPORT:Be("Note: This server does not support namespaces.","ai-engine")},Ue.ERROR={UPDATING_OPTIONS:Be("An error occured while updating the options."),GETTING_OPTIONS:Be("An error occured while getting the options."),CHECK_YOUR_CONSOLE:Be('For more information, check &lt;a target="_blank" href="https://meowapps.com/tutorial-network-activity-dev-tools/"&gt;your console&lt;/a&gt;. You might also want to check your &lt;a target="_blank" href="https://meowapps.com/tutorial-php-error-logs/"&gt;PHP Error Logs&lt;/a&gt;.',"ai-engine")};const He=Ue;function Ze(){Ze=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ze(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ze(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Ve(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ve(o,r,a,i,l,"next",e)}function l(e){Ve(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ze(e){return ze="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ze(e)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ze(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var $e=wp.element,et=$e.useMemo,tt=$e.useState,nt=$e.useEffect,rt={title:"",content:"",refId:null,type:"manual",behavior:"context"},at={name:"",podType:"p2"},ot=function(e){var t=e.options,n=t.ai_envs.find((function(e){return e.apikey&amp;&amp;e.apikey.length&gt;0})),r=!(null!=t&amp;&amp;t.module_embeddings)||(null==t?void 0:t.embeddings_envs)&amp;&amp;(null==t?void 0:t.embeddings_envs.length)&gt;0;return React.createElement(React.Fragment,null,!n&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.AI_ENV_SETUP)),!r&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.PINECONE_SETUP)))},it=function(e){var t=e.disabled,n=e.options,r=e.language,a=e.customLanguage,o=Qe(tt(null!=r?r:"en"),2),i=o[0],l=o[1],c=Qe(tt(!1),2),u=c[0],s=c[1],f=Qe(tt(""),2),d=f[0],m=f[1],p=(null==n?void 0:n.languages)||[],h=et((function(){return Object.keys(p).map((function(e){return{value:e,label:p[e]}}))}),[p]);nt((function(){a?(s(!0),m(a)):(s(!1),m(""),l(null!=r?r:"en"))}),[a]),nt((function(){l(r)}),[r]),nt((function(){var e=localStorage.getItem("mwai_preferred_language");if(e&amp;&amp;h.find((function(t){return t.value===e})))l(e);else{var t=(document.querySelector("html").lang||navigator.language||navigator.userLanguage).substr(0,2);h.find((function(e){return e.value===t}))&amp;&amp;l(t)}}),[]);var y=et((function(){if(u)return d;var e=h.find((function(e){return e.value===i}));return e?e.label:(console.warn("A system language or a custom language should be set."),"English")}),[i,d]),v=function(e,t){"custom"!==e?(l(e,t),localStorage.setItem("mwai_preferred_language",e)):s(!0)};return{jsxLanguageSelector:et((function(){return React.createElement(React.Fragment,null,u&amp;&amp;React.createElement(we.A,{name:"customLanguage",disabled:t,onReset:function(){s(!1)},description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:d,onChange:m}),!u&amp;&amp;React.createElement(Ee.N,{scrolldown:!0,name:"language",disabled:t,description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:i,onChange:v},h.map((function(e){return React.createElement(Ee.Z,{key:e.value,value:e.value,label:e.label})})),React.createElement(Ee.Z,{key:"custom",value:"custom",label:"Other"})))}),[i,y,h,u]),currentLanguage:u?"custom":i,currentHumanLanguage:y,isCustom:u}},lt=function(e,t){var n,r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2],a=Qe(tt(null==e?void 0:e.ai_default_model),2),o=a[0],i=a[1],l=t||(null==e?void 0:e.ai_default_env),c=null!==(n=null==e?void 0:e.ai_envs)&amp;&amp;void 0!==n?n:[],u=et((function(){if(r&amp;&amp;null!=e&amp;&amp;e.ai_envs){var t={fake:!0,finetunes:[],legacy_finetunes:[],legacy_finetunes_deleted:[],finetunes_deleted:[],deployments:[]};return c.forEach((function(e){var n,r,a,o,i;e.finetunes&amp;&amp;(n=t.finetunes).push.apply(n,Xe(e.finetunes)),e.legacy_finetunes&amp;&amp;(r=t.legacy_finetunes).push.apply(r,Xe(e.legacy_finetunes)),e.legacy_finetunes_deleted&amp;&amp;(a=t.legacy_finetunes_deleted).push.apply(a,Xe(e.legacy_finetunes_deleted)),e.finetunes_deleted&amp;&amp;(o=t.finetunes_deleted).push.apply(o,Xe(e.finetunes_deleted)),e.deployments&amp;&amp;(i=t.deployments).push.apply(i,Xe(e.deployments))})),t}return null}),[c,r]),s=et((function(){var t;return r?u:l?(null==e||null===(t=e.ai_envs)||void 0===t?void 0:t.find((function(e){return e.id===l})))||(console.warn("useModels: Environment with ID ".concat(l," could not be resolved."),{envs:c,envId:l}),null):(console.warn("useModels: Environment ID is null. Please provide a valid envId."),null)}),[c,l,r,u]),f=et((function(){var e=(null==s?void 0:s.finetunes_deleted)||[];return Array.isArray(null==s?void 0:s.legacy_finetunes_deleted)&amp;&amp;(e=[].concat(Xe(e),Xe(s.legacy_finetunes_deleted))),e}),[s]),d=function(e){return{background:{deprecated:"var(--neko-red)",tuned:"var(--neko-green)",preview:"var(--neko-orange)"}[e],color:"white",padding:"3px 4px",margin:"1px 0px 0px 3px",borderRadius:4,fontSize:9,lineHeight:"100%"}},m={deprecated:"DEPRECATED",tuned:"TUNED",preview:"PREVIEW"},p=function(e,t){var n,r,a,o=(null===(n=e.tags)||void 0===n?void 0:n.find((function(e){return["deprecated","preview"].includes(e)})))||(t?"tuned":"");return React.createElement(React.Fragment,null,null!==(r=null!==(a=e.name)&amp;&amp;void 0!==a?a:e.suffix)&amp;&amp;void 0!==r?r:e.model,o&amp;&amp;React.createElement("small",{style:d(o)},m[o]))},h=et((function(){var t,n,r,a,o=[];if(!0===(null==s?void 0:s.fake))o=[].concat(Xe(null!==(r=e.openai_models)&amp;&amp;void 0!==r?r:[]),Xe(null!==(a=e.openrouter_models)&amp;&amp;void 0!==a?a:[]));else if("openai"===(null==s?void 0:s.type)){var i;o=null!==(i=null==e?void 0:e.openai_models)&amp;&amp;void 0!==i?i:[]}else if("azure"===(null==s?void 0:s.type)){var l,c;o=null!==(l=null==e||null===(c=e.openai_models)||void 0===c?void 0:c.filter((function(e){var t;return null===(t=s.deployments)||void 0===t?void 0:t.find((function(t){return t.model===e.model}))})))&amp;&amp;void 0!==l?l:[]}else if("openrouter"===(null==s?void 0:s.type)){var u;o=null!==(u=null==e?void 0:e.openrouter_models)&amp;&amp;void 0!==u?u:[]}else if("google"===(null==s?void 0:s.type)){var f;o=null!==(f=null==e?void 0:e.google_models)&amp;&amp;void 0!==f?f:[]}else console.warn("useModels: Environment Type is not supported.",{env:s});var d="string"==typeof(null==e?void 0:e.extra_models)?null==e?void 0:e.extra_models:"",m=null!==(t=null==s?void 0:s.finetunes)&amp;&amp;void 0!==t?t:[];return Array.isArray(null==s?void 0:s.legacy_finetunes)&amp;&amp;(m=[].concat(Xe(m),Xe(s.legacy_finetunes))),m=m.filter((function(e){return"succeeded"===e.status&amp;&amp;e.model})),o=o.map((function(e){return qe(qe({},e),{},{name:p(e),rawName:e.name})})),m.length&amp;&amp;(o=[].concat(Xe(o),Xe(m.map((function(e){var t="completion",n=e.model.split(":")[0];return e.model.includes("ft:gpt-3.5")?(t="chat",n="turbo"):e.model.includes("ft:gpt-4")&amp;&amp;(t="chat",n="gpt4"),{model:e.model,name:p(e,!0),rawName:e.suffix,suffix:e.suffix,mode:t,family:n,description:"finetuned",finetuned:!0,tags:["finetune"]}}))))),(d=null===(n=d)||void 0===n?void 0:n.split(",").filter((function(e){return e}))).length&amp;&amp;(o=[].concat(Xe(o),Xe(d.map((function(e){return{id:e,model:e,description:"Extra"}}))))),o}),[e,s]),y=et((function(){return h.filter((function(e){return!f.includes(e.model)}))}),[h,f]),v=et((function(){return h.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("core")}))}),[h]),g=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("image")}))}),[y]),b=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("embedding")}))}),[y]),E=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("vision")}))}),[y]),w=et((function(){return y.filter((function(e){return"completion"===(null==e?void 0:e.mode)||"chat"===(null==e?void 0:e.mode)}))}),[y]),R=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("audio")}))}),[y]),x=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("json")}))}),[y]),O=function(e){return"gpt-3.5-turbo-0301"===e||"gpt-35-turbo"===e||"gpt-3.5-turbo-0613"===e?e="gpt-3.5-turbo":"gpt-4-0314"!==e&amp;&amp;"gpt-4-0613"!==e||(e="gpt-4"),h.find((function(t){return t.model===e}))},S=function(e){var t=O(e);return v.find((function(e){return(null==e?void 0:e.family)===(null==t?void 0:t.family)}))||null},T=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"1024x1024",n=S(e);if("image"===(null==n?void 0:n.type)&amp;&amp;null!=n&amp;&amp;n.options){var r=n.options.find((function(e){return e.option===t}));return(null==r?void 0:r.price)||null}return(null==n?void 0:n.price)||null};return{allModels:h,model:o,models:y,completionModels:w,imageModels:g,visionModels:E,coreModels:v,embeddingsModels:b,audioModels:R,jsonModels:x,setModel:i,isFineTunedModel:function(e){var t=O(e);return(null==t?void 0:t.finetuned)||!1},getModelName:function(e){var t=O(e);return(null==t?void 0:t.name)||(null==t?void 0:t.model)||e},getFamilyName:function(e){var t=O(e);return(null==t?void 0:t.family)||null},getPrice:T,getModel:O,calculatePrice:function(e,t,n){var r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:"1024x1024",a=S(e),o=T(e,r),i=o,l=o;return"object"===ze(o)&amp;&amp;null!==o&amp;&amp;(i=o.in,l=o.out),i&amp;&amp;l?i*t*a.unit+l*n*a.unit:(console.warn("Price not found for model",e),0)}}},ct=function(){var e=Ye(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/remote_list"),{nonce:L,method:"POST",json:t});case 2:return n=e.sent,e.abrupt("return",n?{total:n.total,vectors:n.vectors}:{total:0,vectors:[]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Ye(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/add_from_remote"),{nonce:L,method:"POST",json:t,signal:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=Ye(Ze().mark((function e(t){var n,r,a,o,i,l;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!==(null==t||null===(n=t.filters)||void 0===n?void 0:n.search),""!==(null==t||null===(r=t.filters)||void 0===r?void 0:r.search)){e.next=3;break}return e.abrupt("return",[]);case 3:if(t.filters.envId&amp;&amp;t.filters.dbIndex){e.next=5;break}return e.abrupt("return",{total:0,vectors:[]});case 5:return e.next=7,(0,R.PV)("".concat(T,"/vectors/list"),{nonce:L,method:"POST",json:t});case 7:return i=e.sent,o&amp;&amp;null!=i&amp;&amp;null!==(a=i.vectors)&amp;&amp;void 0!==a&amp;&amp;a.length&amp;&amp;(l=i.vectors.sort((function(e,n){var r;return"asc"===(null==t||null===(r=t.sort)||void 0===r?void 0:r.by)?e.score-n.score:n.score-e.score})),i.vectors=l),e.abrupt("return",i?{total:i.total,vectors:i.vectors}:{total:0,vectors:[]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Ye(Ze().mark((function e(t){var n,r,a=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length&gt;1&amp;&amp;void 0!==a[1]?a[1]:"publish",e.next=3,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t,"&amp;postStatus=").concat(n),{nonce:L});case 3:return r=e.sent,e.abrupt("return",null!=r&amp;&amp;r.count?parseInt(null==r?void 0:r.count):null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Ye(Ze().mark((function e(t){var n,r,a,o,i=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:0,r=i.length&gt;2&amp;&amp;void 0!==i[2]?i[2]:0,a=i.length&gt;3&amp;&amp;void 0!==i[3]?i[3]:"publish",e.next=5,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&amp;postStatus=").concat(a,"&amp;offset=").concat(n,"&amp;postId=").concat(r),{nonce:L});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function mt(e){var t=e.trim().split(/\s+/),n=0;return t.forEach((function(e){n+=Math.ceil(e.length/4)})),n}function pt(e){for(var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:2048,n=e,r=mt(n);r&gt;t;)r=mt(n=n.slice(0,-32));return n}function ht(e){var t=new Date(e),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),r=t.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return React.createElement("div",{style:{textAlign:"right"}},n,React.createElement("br",null),React.createElement("small",null,r))}function yt(e,t){var n,r=t?(n=t.substring(0,12)).length&lt;t.length?(n.endsWith(".")&amp;&amp;(n=n.slice(0,-1)),n+"~"):n:"";return React.createElement(React.Fragment,null,!e&amp;&amp;React.createElement(React.Fragment,null,He.COMMON.GUEST),e&amp;&amp;React.createElement(React.Fragment,null,React.createElement("a",{target:"_blank",href:"/wp-admin/user-edit.php?user_id=".concat(e),rel:"noreferrer"},He.COMMON.USER," #",e)),React.createElement("br",null),React.createElement("small",null,r))}var vt=function(){for(var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:6,t="",n=0;n&lt;e;n++)t+="abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())];return t};function gt(e){return gt="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},gt(e)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gt(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=wp.element,Rt=(wt.useState,wt.useEffect,wt.useMemo),xt=React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"m391 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m331 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m271 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m211 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m151 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m91 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m406 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m346 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m286 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("g",{fill:"#5f55af"},React.createElement("path",{d:"m226 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m166 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m106 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 121h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 181h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 241h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 301h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 361h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 421h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"})),React.createElement("path",{d:"m431 91v30h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"#39326c"}),React.createElement("path",{d:"m431 181h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 241h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 301h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 361h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 421h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"})),React.createElement("g",null,React.createElement("path",{d:"m446 51h-380c-8.284 0-15 6.716-15 15v380c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15v-380c0-8.284-6.716-15-15-15z",fill:"#aed0ff"}),React.createElement("g",null,React.createElement("path",{d:"m461 446v-380c0-8.284-6.716-15-15-15h-190v410h190c8.284 0 15-6.716 15-15z",fill:"#7c84e8"})),React.createElement("path",{d:"m386 111h-260c-8.284 0-15 6.716-15 15v260c0 8.284 6.716 15 15 15h260c8.284 0 15-6.716 15-15v-260c0-8.284-6.716-15-15-15z",fill:"#5f55af"}),React.createElement("g",null,React.createElement("path",{d:"m401 386v-260c0-8.284-6.716-15-15-15h-130v290h130c8.284 0 15-6.716 15-15z",fill:"#39326c"}))),React.createElement("g",null,React.createElement("path",{d:"m247.626 192.389c-.052-.138-.106-.274-.162-.411-2.744-6.671-9.175-10.978-16.387-10.978-.006 0-.012 0-.018 0-7.219.007-13.65 4.329-16.383 11.01-.046.113-.091.227-.134.341l-45.06 118.31c-2.949 7.742.937 16.408 8.679 19.356 7.742 2.95 16.408-.937 19.356-8.679l7.543-19.804h51.691l7.458 19.762c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33zm-31.14 79.146 14.538-38.171 14.406 38.171z",fill:"#f9f9f9"}),React.createElement("g",{fill:"#e2dff4"},React.createElement("path",{d:"m264.209 321.296c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33l-36.276-96.126v86.956h.751z"}),React.createElement("path",{d:"m328.5 181c-8.284 0-15 6.716-15 15v120c0 8.284 6.716 15 15 15s15-6.716 15-15v-120c0-8.284-6.716-15-15-15z"})))),Ot=React.createElement("g",null,React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06-17.32-17.32-16.37-45.67 2.06-61.8l156.08-139.26s13.46-2.54 29.46 13.46 13.46 29.46 13.46 29.46z",fill:"#0052be"}),React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06l187.6-187.6c16 16 13.46 29.46 13.46 29.46z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46c-14.997-14.997-27.922-27.922-42.92-42.92l101.46-90.54z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46-21.46-21.46 96-96z",fill:"#00337a"}),React.createElement("path",{d:"m400 279.001h-64.4l-42.47 57.87c-7.88 10.735-24.824 6.606-26.91-6.52l-11.56-73.01-73.01-11.56c-13.139-2.087-17.244-19.042-6.52-26.91l57.87-42.47v-64.4c0-12.176 13.797-19.289 23.72-12.21l50.15 35.83 70.92-19.9c11.25-3.168 21.656 7.245 18.49 18.49l-19.9 70.92 35.83 50.15c7.071 9.913-.02 23.72-12.21 23.72z",fill:"#ffdd54"}),React.createElement("path",{d:"m412.21 255.281c7.071 9.913-.02 23.72-12.21 23.72h-64.4l-42.47 57.87c-7.875 10.728-24.823 6.616-26.91-6.52l-11.56-73.01 137.79-137.79c3.83 3.84 5.3 9.44 3.83 14.66l-19.9 70.92z",fill:"#ffb454"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9h-9c-8.28 0-15-6.72-15-15s6.72-15 15-15h9v-9c0-8.28 6.72-15 15-15s15 6.72 15 15v9h9c8.28 0 15 6.719 15 15z",fill:"#bee75e"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9l30-30h9c8.28 0 15 6.719 15 15z",fill:"#00cb75"}),React.createElement("path",{d:"m336 41.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#f6f9f9"}),React.createElement("path",{d:"m441 224.001c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9z",fill:"#e2dff4"}),React.createElement("path",{d:"m497 329.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff4a4a"}),React.createElement("path",{d:"m192 24.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff8659"}),React.createElement("path",{d:"m159.442 122.977-56-32c-7.191-4.109-16.355-1.611-20.466 5.581-4.11 7.193-1.611 16.355 5.581 20.466l56 32c7.16 4.093 16.337 1.644 20.466-5.581 4.111-7.193 1.612-16.355-5.581-20.466z",fill:"#f6f9f9"}),React.createElement("path",{d:"m118.14 169.117-64 8c-8.221 1.027-14.052 8.524-13.023 16.744 1.027 8.218 8.523 14.054 16.744 13.023l64-8c8.221-1.027 14.052-8.524 13.023-16.744-1.028-8.22-8.527-14.062-16.744-13.023z",fill:"#acceff"}),React.createElement("path",{d:"m389.023 352.558c-4.111-7.193-13.274-9.693-20.466-5.581-7.192 4.11-9.691 13.272-5.581 20.466l32 56c2.769 4.845 7.83 7.561 13.037 7.561 11.319 0 18.784-12.341 13.01-22.445z",fill:"#e2dff4"}),React.createElement("path",{d:"m329.86 377.117c-8.222-1.031-15.717 4.804-16.744 13.023l-8 64c-1.117 8.925 5.834 16.862 14.902 16.862 7.455 0 13.917-5.553 14.865-13.142l8-64c1.029-8.219-4.802-15.716-13.023-16.743z",fill:"#6ba7ff"}));const St=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=void 0===t?"ai":t,r=e.size,a=void 0===r?20:r,o=e.style,i=void 0===o?{}:o,l=Rt((function(){switch(n){case"ai":default:return xt;case"wand":return Ot}}),[n]);return React.createElement("svg",{style:Et({width:a,height:a,marginRight:5},i),"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},l)};var Tt,Nt,_t,Ct;function It(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Lt=function(e){var t=e.title,n=void 0===t?He.COMMON.SETTINGS:t,r=e.options,a=void 0===r?k:r,o=null==a?void 0:a.module_playground,i=null==a?void 0:a.module_generator_content,l=null==a?void 0:a.module_generator_images;return React.createElement(v.B,{title:"AI Engine | ".concat(n),subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i&amp;&amp;React.createElement(E._,{className:"header",onClick:function(){return location.href="edit.php?page=mwai_content_generator"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.CONTENT),l&amp;&amp;React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_images_generator"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.IMAGES),o&amp;&amp;React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="tools.php?page=mwai_dashboard"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.PLAYGROUND),React.createElement(E._,{className:"header",icon:"tools",onClick:function(){return location.href="admin.php?page=mwai_settings"}})))},kt=((0,G.ZP)(E._)(Tt||(Tt=It(["\n"]))),G.ZP.div(Nt||(Nt=It(["\n&nbsp; display: flex;\n&nbsp; justify-content: unset;\n&nbsp; align-items: center;\n&nbsp; justify-content: space-between;\n&nbsp; padding: 0 0 2px 0;\n\n&nbsp; h2 {\n&nbsp; &nbsp; margin: 7px 0 0 0;\n&nbsp; &nbsp; padding: 0;\n&nbsp; }\n"])))),At=G.ZP.div(_t||(_t=It(["\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));\n&nbsp; grid-template-rows: repeat(auto-fit, minmax(30%, 1fr));\n&nbsp; grid-gap: 10px;\n&nbsp; margin-top: 20px;\n\n&nbsp; img, div {\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; }\n&nbsp; .empty-image {\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; padding-bottom: 100%;\n&nbsp; &nbsp; background-color: #f5f5f5;\n&nbsp; }\n"]))),jt=G.ZP.div(Ct||(Ct=It(["\n\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; display: block;\n&nbsp; }\n\n&nbsp; .nui-button {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .neko-textarea {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .neko-input {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .form-row {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; .nui-button, .neko-textarea, .neko-input {\n&nbsp; &nbsp; &nbsp; margin: 0;\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .form-row-label {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; justify-content: space-between;\n&nbsp; &nbsp; align-items: center;\n&nbsp; }\n"]))),Pt=n(338),Mt=n.n(Pt),Dt=n(3895),Gt=n(9378),Ft=n(3103),Bt=n(3594),Ut=n(9995),Ht=n(2625),Zt=n(776),Vt=n(8281),Yt=n(4291);function zt(e){return zt="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(){Wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==zt(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zt(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function qt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qt(o,r,a,i,l,"next",e)}function l(e){qt(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Qt=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/post_types"),{nonce:L});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.postTypes);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t),{nonce:L});case 2:return n=e.sent,e.abrupt("return",null!=n&amp;&amp;n.count?parseInt(null==n?void 0:n.count):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length&gt;1&amp;&amp;void 0!==o[1]?o[1]:0,r=o.length&gt;2&amp;&amp;void 0!==o[2]?o[2]:0,e.next=4,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&amp;offset=").concat(n,"&amp;postId=").concat(r),{nonce:L});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/mwai-ui/v1/files/delete"),{nonce:L,method:"POST",json:{files:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,e.next=3,(0,R.PV)("".concat(T,"/openai/files/list?envId=").concat(n),{nonce:L});case 3:if((r=e.sent).success){e.next=6;break}throw new Error(r.message);case 6:return e.abrupt("return",null==r||null===(t=r.files)||void 0===t?void 0:t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o,i,l,c,u,s,f,d,m,p;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=void 0===n?null:n,a=t.purpose,o=void 0===a?null:a,i=t.metadata,l=void 0===i?null:i,c=t.envId,u=void 0===c?null:c,s=t.limit,f=void 0===s?10:s,d=t.page,m=void 0===d?0:d,e.next=3,(0,R.PV)("".concat(S,"/mwai-ui/v1/files/list"),{nonce:L,method:"POST",json:{userId:r,purpose:o,metadata:l,envId:u,limit:f,page:m}});case 3:if((p=e.sent).success){e.next=6;break}throw new Error(p.message);case 6:return e.abrupt("return",null==p?void 0:p.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nn=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,n=a.length&gt;1&amp;&amp;void 0!==a[1]&amp;&amp;a[1],e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/list_deleted?envId=").concat(t,"&amp;legacy=").concat(n),{nonce:L});case 4:if((r=e.sent).success){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",null==r?void 0:r.finetunes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,n=a.length&gt;1&amp;&amp;void 0!==a[1]&amp;&amp;a[1],e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/list?envId=").concat(t,"&amp;legacy=").concat(n),{nonce:L});case 4:if((r=e.sent).success){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",null==r?void 0:r.finetunes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"GET",nonce:L});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(null==t?void 0:t.message);case 5:return e.abrupt("return",null==t?void 0:t.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"POST",nonce:L,json:{chatbots:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(null==n?void 0:n.message);case 5:return e.abrupt("return",null==n?void 0:n.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/themes"),{method:"GET",nonce:L});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.themes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/options"),{method:"GET",nonce:L});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.options);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),un=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o,i;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r&lt;t.length;r++){if(a=t[r].themeId,n.includes(a)){for(o=1;n.includes(a+"-"+o);)o++;a=a+"-"+o}n.push(a),t[r].themeId=a}return e.next=4,(0,R.PV)("".concat(T,"/settings/themes"),{method:"POST",nonce:L,json:{themes:t}});case 4:return i=e.sent,e.abrupt("return",null==i?void 0:i.themes);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/assistants/list?envId=").concat(t),{nonce:L});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n?void 0:n.assistants);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function fn(e){return fn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(){dn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==fn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(fn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function mn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function pn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mn(o,r,a,i,l,"next",e)}function l(e){mn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function hn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var bn=wp.element.useState;const En=function(e){e.options;var t=e.setMessages,n=yn(bn("post"),2),r=n[0],a=n[1],o=yn(bn(0),2),i=o[0],l=o[1],c=yn(bn(!1),2),u=c[0],s=c[1],f=yn(bn("Generate 30 questions and answers from this text. Questions use a neutral tone. Answers use the same tone as the text."),2),d=f[0],m=f[1],p=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),h=p.isLoading,y=p.data,v=(0,Ne.a)({queryKey:["postsCount-"+r],queryFn:function(){return Kt(r)}}),g=v.isLoading,b=v.data,w=(0,Yt.qj)({i18n:He,onStop:function(){s(),w.reset()}}),x=u||w.busy||g||h,O=function(e){if(!e)return[];for(var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=[],r=[],a=0;a&lt;t.length;a++)t[a].startsWith("Q:")?(r.length&amp;&amp;(n.push({messages:hn(r)}),r=[]),r.push({role:"user",content:t[a].slice(2).trim()})):t[a].startsWith("A:")&amp;&amp;(r.push({role:"assistant",content:t[a].slice(2).trim()}),n.push({messages:hn(r)}),r=[]);return r.length&amp;&amp;n.push({messages:r}),n},S=function(){var e=pn(dn().mark((function e(){var t,n,a,o,i,c,u,s,f,m,p,h,y,v,g,b,E,w=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length&gt;0&amp;&amp;void 0!==w[0]?w[0]:0,n=w.length&gt;1&amp;&amp;void 0!==w[1]?w[1]:void 0,a=w.length&gt;2&amp;&amp;void 0!==w[2]?w[2]:void 0,o=d+"\n\nUse this format:\n\nQ: Question?\nA: Answer.\n\nQ: Question?\nA: Answer.\nText:\n\n{CONTENT}",e.next=6,Jt(r,t,n||void 0);case 6:if(i=e.sent,c=null,u=null,s=null==i?void 0:i.content,f=null==i?void 0:i.url,m=null==i?void 0:i.title,p=0,i.success){e.next=18;break}alert(i.message),c=i.message,e.next=35;break;case 18:if(!(s.length&lt;64)){e.next=22;break}console.log("Issue: Content is too short! Skipped.",{content:s}),e.next=35;break;case 22:return o=(o=(o=o.replace("{CONTENT}",s)).replace("{URL}",f)).replace("{TITLE}",m),e.next=27,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",json:{env:"admin-tools",session:A,prompt:o},signal:a,nonce:L});case 27:if((y=e.sent).success){e.next=33;break}if(null===(v=y.error)||void 0===v||!v.cancelledByUser){e.next=31;break}return e.abrupt("return",null);case 31:throw console.error(y),new Error(null!==(g=y.message)&amp;&amp;void 0!==g?g:"Unknown error, check your console logs.");case 33:u=null==y?void 0:y.data,null!=y&amp;&amp;null!==(h=y.usage)&amp;&amp;void 0!==h&amp;&amp;h.total_tokens&amp;&amp;(p=y.usage.total_tokens,l((function(e){return e+y.usage.total_tokens})));case 35:return null!=a&amp;&amp;a.aborted&amp;&amp;N(),b=O(u),E={content:s,prompt:o,rawData:u,entries:b,error:c,tokens:p},console.log("Result:",E),e.abrupt("return",E);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){console.log("User aborted."),setBusy(!1),w.reset()},_=function(){var e=pn(dn().mark((function e(){var n,r,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(0),n=Array.from(Array(b).keys()),r=prompt("There are "+n.length+" entries. If you want to start from a certain entry offset, type it here. Otherwise, just press OK, and everything will be processed."),a=n.map((function(e){return function(){var n=pn(dn().mark((function n(a){var o,i;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Task "+e),!(r&amp;&amp;e&lt;r)){n.next=3;break}return n.abrupt("return",{success:!0});case 3:return n.next=5,S(e,null,a);case 5:return(null==(i=n.sent)||null===(o=i.entries)||void 0===o?void 0:o.length)&gt;0&amp;&amp;t((function(e){return[].concat(hn(e),hn(i.entries))})),n.abrupt("return",{success:!0});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),e.next=6,w.start(a);case 6:s(!1),alert("All done!"),w.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=pn(dn().mark((function e(){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(0),null!==(n=prompt("Enter the ID of a post (leave blank to use the very first one)."))){e.next=5;break}return e.abrupt("return");case 5:return s("singleGenerate"),e.next=8,S(0,n);case 8:(r=e.sent).entries.length?confirm("Got ".concat(r.entries.length," entries! Do you want to add them to your data? If not, they will be displayed in your console."))&amp;&amp;t((function(e){return[].concat(hn(e),hn(r.entries))})):alert("No entries were generated. Check the console for more information."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:x,onClick:C,isBusy:"singleGenerate"===u},He.COMMON.SINGLE_GENERATE),React.createElement(E._,{disabled:x,onClick:function(){return _()}},"Run Bulk Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Based on ",g&amp;&amp;"...",!g&amp;&amp;b),React.createElement(Ee.N,{id:"postType",scrolldown:!0,disabled:x,name:"postType",style:{width:100,marginLeft:10},onChange:a,value:r},null==y?void 0:y.map((function(e){return React.createElement(Ee.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Vt.U,{busy:w.busy,style:{marginLeft:10,flex:"auto"},value:w.value,max:w.max,onStopClick:w.stop}),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Tokens: ",i)),React.createElement(Dt.l,{id:"generatePrompt",name:"generatePrompt",rows:2,style:{marginTop:15},value:d,onBlur:m,disabled:x}),w.TasksErrorModal)};function wn(e){return wn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},wn(e)}function Rn(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||In(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(){xn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==wn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(wn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nn(o,r,a,i,l,"next",e)}function l(e){Nn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||In(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var kn=wp.element,An=kn.useState,jn=kn.useMemo,Pn=kn.useRef,Mn=kn.useEffect,Dn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"question",title:"Question",verticalAlign:"top"},{accessor:"answer",title:"Answer",verticalAlign:"top"},{accessor:"actions",title:"",width:36,align:"center"}],Gn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"messages",title:"Messages",verticalAlign:"top"},{accessor:"actions",title:"",width:68,align:"top"}],Fn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],Bn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],Un=function(e){var t=e.status,n=e.includeText,r=void 0!==n&amp;&amp;n,a=(0,s.r)().colors,o=a.orange,i=a.green,l=a.red,c=null;switch(t){case"pending":case"running":c=React.createElement(Re.J,{title:t,icon:"replay",spinning:!0,width:24,color:o});break;case"succeeded":case"processed":c=React.createElement(Re.J,{title:t,icon:"check-circle",width:24,color:i});break;case"failed":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:l});break;case"cancelled":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:o});break;default:c=React.createElement(Re.J,{title:t,icon:"alert",width:24,color:o})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):c},Hn=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=Cn(An(!1),2),i=o[0],l=o[1],c=function(e){l(!1),e!==n&amp;&amp;a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&amp;&amp;c(n)},style:{height:"100%",display:"flex",flexDirection:"column",width:"100%"}},React.createElement(Dt.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%",width:"100%"},onEnter:c,onBlur:c,value:n}),React.createElement(E._,{onClick:c,fullWidth:!0,style:{marginTop:2,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return l(!0)}},t)};const Zn=function(e){var t,n,r,a,o=e.options,i=e.updateOption,l=e.refreshOptions,c=(0,s.r)().colors,f=(0,u.NL)(),d=Cn(An(!1),2),m=d[0],p=d[1],y=Cn(An(),2),v=y[0],g=y[1],b=Cn(An(!1),2),w=b[0],x=b[1],O=Cn(An("finetunes"),2),S=O[0],N=O[1],_=Cn(An("editor"),2),C=_[0],I=_[1],k=Cn(An(!0),2),A=k[0],j=k[1],P=Cn(An("current"),2),M=P[0],D=P[1],G=Cn(An("meow"),2),F=G[0],B=G[1],U=Cn(An(!1),2),H=U[0],Z=U[1],V=Cn(An(4),2),Y=V[0],z=V[1],W=Cn(An(4),2),q=W[0],X=W[1],Q=Cn(An(.1),2),K=Q[0],J=Q[1],$=Cn(An(.01),2),ee=$[0],te=$[1],ne=Cn(An(!1),2),re=ne[0],ae=ne[1],oe=Cn(An(null==o||null===(t=o.ai_envs)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id),2),ie=oe[0],le=oe[1],ce=(null==o?void 0:o.ai_envs)||[],ue=jn((function(){return null==ce?void 0:ce.find((function(e){return e.id===ie}))}),[ie,ce]),se=(null==ue?void 0:ue.finetunes_deleted)||[],fe=(null==ue?void 0:ue.finetunes)||[],de=(0,Ne.a)({queryKey:["datasets-"+ie],enabled:re,queryFn:function(){return en(ie)}}),me=de.isFetching,pe=de.error,he=de.data,ye=lt(o,ie),ve=ye.models,ge=ye.model,be=ye.setModel,Re=ye.getModel,Se=ye.isFineTunedModel,Ce=function(){var e=_n(xn().mark((function e(t,n){var r;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ce.map((function(e){return e.id===ie?Sn(Sn({},e),{},Tn({},t,n)):e})),e.abrupt("return",i(r,"ai_envs"));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=jn((function(){return ve.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("finetune")}))}),[ve]);Mn((function(){"files"!==S||re||ae(!0)}),[S]),Mn((function(){pe&amp;&amp;!m&amp;&amp;p(pe)}),[pe]);var Le=10,ke=Cn(An(!0),2),Ae=ke[0],je=ke[1],Pe=Cn(An(1),2),Me=Pe[0],De=Pe[1],Ge=Cn(An([]),2),Fe=Ge[0],Be=Ge[1],Ue=Cn(An(!0),2),Ze=Ue[0],Ve=Ue[1],Ye=Cn(An("You are Chihiro, an AI Assistant. Your primary objective is to assist website visitors by directing them to the appropriate page or succinctly answering their questions with precision."),2),ze=Ye[0],We=Ye[1],qe=Cn(An(""),2),Xe=qe[0],Qe=qe[1],Ke=jn((function(){return Fe.length}),[Fe]),Je=function(e){var t=e.messages,n=e.currentRow,r=e.onUpdateDataRow,a=e.onDeleteDataRow;return React.createElement(React.Fragment,null,t.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex"}},React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return a(n,t+1)}}),React.createElement("div",{style:{width:120,paddingLeft:5,paddingTop:0,paddingBottom:4,marginRight:10}},React.createElement(Ee.N,{scrolldown:!0,name:"role",value:e.role,style:{width:120},onChange:function(a){return r(n,a,e.content,t+1)}},React.createElement(Ee.Z,{value:"assistant",label:"Assistant"}),React.createElement(Ee.Z,{value:"user",label:"User"}),React.createElement(Ee.Z,{value:"system",label:"System"}))),React.createElement(Hn,{data:e.content,style:{flex:"auto"},onChange:function(a){return r(n,e.role,a,t+1)}},e.content))})))},$e=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,$e();case 3:x(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=_n(xn().mark((function e(){var t,n,r,a,o,i;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v,n=F,r=Re(ge),x(!0),a=Se(ge),o={envId:ie,fileId:t,model:a?r.model:r.family,suffix:n},H&amp;&amp;(o=Sn(Sn({},o),{},{nEpochs:Y,batchSize:q,learningRateMultiplier:K,promptLossWeight:ee})),e.prev=7,e.next=10,(0,R.PV)("".concat(T,"/openai/files/finetune"),{method:"POST",nonce:L,json:o});case 10:(i=e.sent).success?(nt(),alert(He.ALERTS.FINETUNING_STARTED),N("finetunes"),g()):alert(i.message),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0.message),alert(e.t0.message);case 18:x(!1);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x("finetunes"),fe.length){e.next=6;break}return e.next=4,nn(ie);case 4:e.next=8;break;case 6:return e.next=8,rn(ie);case 8:return e.next=10,l();case 10:x(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("clean"),e.next=3,nn(ie);case 3:return e.next=5,l();case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){(!(arguments.length&gt;0&amp;&amp;void 0!==arguments[0])||arguments[0])&amp;&amp;!confirm(He.ALERTS.RESET_BUILDER)||(Be([]),it({context:ze,entries:[]}))};Mn((function(){if(!Fe||0===Fe.length){var e=localStorage.getItem("mwai_builder_data_v2");if(e){var t=JSON.parse(e);Be(t.entries),t.context&amp;&amp;We(t.context)}}}),[]);var ot=function(e){We(e),function(e){for(var t,n=!1,r=function(){var t=Fe[a];if(t.messages&amp;&amp;t.messages.length&gt;0&amp;&amp;"system"===t.messages[0].role&amp;&amp;t.messages[0].content!==e){if(!n){if(!confirm("The context in your data does not match the one in your entries. Do you want to replace it for every entries?"))return{v:void 0};n=!0}var r=Rn(Fe);r[a].messages[0].content=e,Be((function(){return r}))}},a=0;a&lt;Fe.length;a++)if(t=r())return t.v}(e)},it=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),Qe("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data_v2",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data_v2"),je(!0)}catch(e){localStorage.removeItem("mwai_builder_data_v2"),je(!1)}};Mn((function(){Fe&amp;&amp;(null==Fe?void 0:Fe.length)&gt;0&amp;&amp;it({context:ze,entries:Fe})}),[Fe]),Mn((function(){ze&amp;&amp;(null==ze?void 0:ze.length)&gt;0&amp;&amp;it({context:ze,entries:Fe})}),[ze]);var ct=function(e,t){var n=Rn(Fe);n[e-1].messages.splice(t-1,1),Be(n)},ut=function(e,t,n){var r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:null,a=Fe.map((function(a,o){if(o===e-1){if(r)return Sn(Sn({},a),{},{messages:a.messages.map((function(e,a){return a===r-1?Sn(Sn({},e),{},{role:t,content:n}):e}))});if("assistant"===t)return Sn(Sn({},a),{},{messages:a.messages.map((function(e){return"assistant"===e.role?Sn(Sn({},e),{},{content:n}):e}))});if("user"===t)return Sn(Sn({},a),{},{messages:a.messages.map((function(e){return"user"===e.role?Sn(Sn({},e),{},{content:n}):e}))})}return a}));Be(a)},st=jn((function(){var e=(Me-1)*Le,t=null==Fe?void 0:Fe.slice((Me-1)*Le,(Me-1)*Le+Le);return null==t?void 0:t.map((function(t){var n=++e,r="",a="",o=[];if(Ze)o=t.messages;else{var i=t.messages.find((function(e){return"user"===e.role}));i&amp;&amp;(r=i.content);var l=t.messages.find((function(e){return"assistant"===e.role}));l&amp;&amp;(a=l.content)}return{row:n,messages:React.createElement(Je,{entries:Fe,messages:o,currentRow:n,onUpdateDataRow:ut,onDeleteDataRow:ct}),question:React.createElement(Hn,{data:r,onChange:function(e){return ut(n,"user",e)}},r),answer:React.createElement(Hn,{data:a,onChange:function(e){return ut(n,"assistant",e)}},a),actions:React.createElement(React.Fragment,null,Ze&amp;&amp;React.createElement(E._,{rounded:!0,icon:"plus",onClick:function(){return St(n)}}),React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return e=n,t=Fe.filter((function(t,n){return n!==e-1})),Be(t),void(0===t.length&amp;&amp;it({context:ze,entries:[]}));var e,t}}))}}))}),[Fe,Me,Le,Ze,ut,ct]),ft=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/delete"),{method:"POST",nonce:L,json:{envId:ie,fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,$e();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 17:x(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/cancel"),{method:"POST",nonce:L,json:{envId:ie,finetuneId:t}});case 4:(n=e.sent).success?nt():alert(n.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=_n(xn().mark((function e(t){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.prev=3,e.next=6,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/openai/finetunes/delete"),{method:"POST",nonce:L,json:{envId:ie,modelId:t}});case 6:if(!(n=e.sent).success){e.next=12;break}return e.next=10,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 10:e.next=19;break;case 12:if(!(n.message.indexOf("does not exist")&gt;-1)){e.next=18;break}return alert(He.ALERTS.FINETUNE_ALREADY_DELETED),e.next=16,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 16:e.next=19;break;case 18:alert(n.message);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 25:x(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=_n(xn().mark((function e(t,n){var r,a,o,i;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/download"),{method:"POST",nonce:L,json:{envId:ie,fileId:t}});case 4:(r=e.sent).success?(a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),yt=jn((function(){return null==he?void 0:he.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(Un,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,R.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(E._,{disabled:!a,icon:"wand",onClick:function(){return g(t)}},"Train Model"),React.createElement(E._,{rounded:!0,icon:"arrow-down",onClick:function(){return ht(t,n)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return ft(t)}}))}}))}),[he]),vt=function(e){return se.includes(e.model)||se.includes(e.id)},gt=function(e){return"failed"===e.status||"cancelled"===e.status},bt=function(e){return!gt(e)&amp;&amp;!vt(e)},Et=jn((function(){if(!fe)return[];var e=fe;return"current"===M?e=e.filter(bt):"deleted"===M?e=e.filter(vt):"failed"===M&amp;&amp;(e=e.filter(gt)),e.map((function(e){var t=new Date(e.createdOn);return Sn(Sn({},e),{},{status:React.createElement(Un,{status:e.status,includeText:!0}),createdOn:React.createElement(React.Fragment,null,t.toLocaleDateString(),React.createElement("br",null),t.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,"succeeded"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return pt(e.model)}}),"cancelled"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return mt(e.id)}}),"failed"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return mt(e.id)}}),"pending"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"close",onClick:function(){return dt(e.id)}}))})}))}),[M,se,fe]),wt=me||w,Rt=function(){var e=_n(xn().mark((function e(){var t,n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,t=Fe.map((function(e){return JSON.stringify(e)})).join("\n"),e.next=5,(0,R.PV)("".concat(T,"/openai/files/upload"),{method:"POST",nonce:L,json:{envId:ie,filename:Xe,data:t}});case 5:return n=e.sent,e.next=8,$e();case 8:n.success?(at(!1),alert(He.ALERTS.DATASET_UPLOADED),N("files"),j(!0)):alert(n.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),xt=jn((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),l=Re(ge);return"".concat(null==l?void 0:l.family,":ft-your-org:").concat(F,"-").concat(t,"-").concat(n&lt;10?"0"+n:n,"-").concat(r&lt;10?"0"+r:r,"-").concat(a&lt;10?"0"+a:a,"-").concat(o&lt;10?"0"+o:o,"-").concat(i&lt;10?"0"+i:i)}),[F,ge]),Ot=function(){var e=_n(xn().mark((function e(t){var n,r;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xn().mark((function e(){var n,a,o,i,l,c;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),c=!1,o||i||l){e.next=10;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),console.warn(n),e.abrupt("return",1);case 10:a.onload=function(){var e=_n(xn().mark((function e(t){var n,r,a,u;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.error(t,e),null}})),r.every((function(e){return e.messages}))||(c=!0)):l&amp;&amp;(u=Mt().parse(n,{header:!0,skipEmptyLines:!0}),r=u.data,console.log("The CSV was loaded!",r),c=!0),c&amp;&amp;(r=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{});c=!0;var n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","reply","a"].find((function(e){return t[e]})),a=t[n],o=t[r],i=null==o?void 0:o.replace(/\n\n$/g,""),l=null==a?void 0:a.replace(/\n\n###\n\n$/g,"");return a&amp;&amp;o?{messages:[{role:"system",content:ze},{role:"user",content:l.trim()},{role:"assistant",content:i.trim()}]}:null}))),(r=r.filter((function(e){return e}))).every((function(e){return null==e?void 0:e.messages}))){e.next=9;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return");case 9:Be(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 12:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r&lt;t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"user",n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:"Hello!",r=Fe.map((function(r,a){return a===e-1?Sn(Sn({},r),{},{messages:[].concat(Rn(r.messages),[{role:t,content:n}])}):r}));Be(r)},Tt=Pn(null),Nt=null==fe?void 0:fe.filter(bt).length,_t=null==fe?void 0:fe.filter(gt).length,Ct=null==fe?void 0:fe.filter(vt).length,It=jn((function(){return React.createElement(Ee.N,{scrolldown:!0,value:ie,onChange:le,style:{marginRight:5}},ce.filter((function(e){return"openai"===e.type})).map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})))}),[ie,ce]);return React.createElement(React.Fragment,null,React.createElement(Oe.H,{style:{margin:"10px 10px 25px 10px"},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Gt.Q,{style:{marginRight:10},onLabel:He.FINETUNING.DATASET_EDITOR,offLabel:He.FINETUNING.MODELS_DATASETS,width:165,onBackgroundColor:c.purple,offBackgroundColor:c.green,onChange:function(e){j(!e)},checked:!A}),A&amp;&amp;React.createElement(Ft.h,{value:S,busy:wt,onChange:function(e){N(e)}},React.createElement(Ft.S,{title:He.COMMON.MODELS,value:"finetunes",count:null!==(n=null==Et?void 0:Et.length)&amp;&amp;void 0!==n?n:"-"}),React.createElement(Ft.S,{title:He.COMMON.DATASETS,value:"files",count:null!==(r=null==yt?void 0:yt.length)&amp;&amp;void 0!==r?r:"-"})),A&amp;&amp;"finetunes"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),It,React.createElement(E._,{disabled:w,busy:"finetunes"===w,onClick:nt,className:"primary"},He.COMMON.REFRESH_MODELS)),A&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),It,React.createElement(E._,{disabled:w,onClick:et,className:"primary"},"Refresh Datasets")),!A&amp;&amp;React.createElement("div",{style:{display:"flex",alignItems:"center",flex:"auto"}},React.createElement(Ft.h,{value:C,onChange:function(e){I(e)}},React.createElement(Ft.S,{title:He.FINETUNING.ENTRIES_EDITOR,value:"editor",count:null!==(a=null==Fe?void 0:Fe.length)&amp;&amp;void 0!==a?a:null}),React.createElement(Ft.S,{title:He.FINETUNING.ENTRIES_GENERATOR,value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(we.A,{disabled:!Ke||w,value:Ke?Xe:"",onChange:Qe,style:{width:220,marginRight:5}}),It,React.createElement(E._,{disabled:!Ke||w,icon:"upload",onClick:Rt,className:"primary"},"Upload to OpenAI"))))),React.createElement(Oe.H,{style:{margin:10}},A&amp;&amp;"finetunes"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("div",null,(0,R.io)(He.FINETUNING.MODELS_INTRO)),React.createElement(Ft.h,{value:M,onChange:function(e){D(e)}},React.createElement(Ft.S,{title:"Current",value:"current",count:null!=Nt?Nt:"-"}),React.createElement(Ft.S,{title:"Failed",value:"failed",count:null!=_t?_t:"-"}),React.createElement(Ft.S,{title:"Deleted",value:"deleted",count:null!=Ct?Ct:"-"}))),React.createElement(xe.i,null),React.createElement(Bt.a,{busy:wt,data:Et,columns:Bn,emptyMessage:He.FINETUNING.NO_FINETUNES_YET}),React.createElement("div",{style:{marginTop:5,display:"flex",justifyContent:"end",lineHeight:"12px",alignItems:"center"}},React.createElement(E._,{small:!0,disabled:w,busy:"clean"===w,onClick:rt,className:"primary"},He.FINETUNING.CLEAN_MODELS_LIST),React.createElement("small",{style:{marginLeft:5}},He.FINETUNING.DELETED_FINETUNE_ISSUE))),A&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(He.FINETUNING.DATASETS_INTRO)),React.createElement(Bt.a,{busy:wt,data:yt,columns:Fn,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!A&amp;&amp;"generator"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement(En,{options:o,setMessages:Be})),!A&amp;&amp;"editor"===C&amp;&amp;React.createElement(React.Fragment,null,!Ae&amp;&amp;React.createElement("p",{style:{color:Ut.ZP.red}},He.FINETUNING.HUGE_DATASET_WARNING),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{icon:"plus",onClick:function(){return function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:"Question?",t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Answer.";Be([].concat(Rn(Fe),[{messages:[{role:"system",content:ze},{role:"user",content:e},{role:"assistant",content:t}]}]))}()}},"Add Entry"),React.createElement(Gt.Q,{style:{marginLeft:10},onLabel:"Expert",offLabel:"Easy",width:90,onBackgroundColor:c.purple,offBackgroundColor:c.green,onChange:Ve,checked:Ze}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Ht.b,{ref:Tt,onSelectFiles:Ot,accept:"",style:{paddingLeft:5}},React.createElement(E._,{className:"secondary",onClick:function(){return Tt.current.click()}},"Import")))),!A&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Bt.a,{busy:w,data:st,columns:Ze?Gn:Dn,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add"),".")}),React.createElement(xe.i,null),!Ze&amp;&amp;"editor"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(Dt.l,{id:"context",name:"context",rows:2,description:He.FINETUNING.CONTEXT_DESCRIPTION,value:ze,onBlur:ot,onEnter:ot})),React.createElement(xe.i,null)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:!Ke,onClick:at,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Zt.Q,{currentPage:Me,limit:Le,total:Ke,onCurrentPageChanged:De,onClick:De}),React.createElement(E._,{disabled:!Ke,style:{marginLeft:5},onClick:function(){var e=JSON.stringify(Fe,null,2),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.json");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as JSON")),React.createElement(xe.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===C&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank",rel:"noreferrer"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank",rel:"noreferrer"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI"),"! 😎"))),React.createElement(Te.L,{isOpen:m,title:"Error",onRequestClose:function(){return p()},okButton:{label:"Ok",onClick:function(){return p()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,null==m?void 0:m.message))}),React.createElement(Te.L,{isOpen:v,title:"Train a new model",onRequestClose:function(){return g()},okButton:{label:"Start",disabled:w,onClick:tt},cancelButton:{label:"Close",disabled:w,onClick:function(){return g()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank",rel:"noreferrer"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank",rel:"noreferrer"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(xe.i,{height:5}),React.createElement(Ee.N,{value:ge,scrolldown:!0,onChange:be},Ie.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(xe.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(xe.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(xe.i,{height:5}),React.createElement(we.A,{value:F,onChange:B}),React.createElement(xe.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank",rel:"noreferrer"},"prefix"),". Preview: ",React.createElement("b",null,xt),"."),React.createElement(xe.i,{line:!0,height:20}),React.createElement(h.P,{label:"Enable HyperParams",checked:H,onChange:Z}),H&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Number of Epochs:"),React.createElement(we.A,{style:{marginRight:5},value:Y,onChange:z,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Batch Size:"),React.createElement(we.A,{value:q,onChange:X,type:"number"})),React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Learning Rate Multiplier:"),React.createElement(we.A,{style:{marginRight:5},value:K,onChange:J,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Prompt Loss Weight:"),React.createElement(we.A,{value:ee,onChange:te,type:"number"}))))})))};var Vn;wp.element.useMemo;var Yn,zn,Wn=G.ZP.div(Vn||(Yn=["\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; width: 100%;\n&nbsp; max-height: 290px;\n&nbsp; overflow: auto;\n&nbsp; box-sizing: border-box;\n&nbsp; padding: 15px;\n\n&nbsp; h3 {\n&nbsp; &nbsp; margin-top: 20px;\n&nbsp; &nbsp; padding-bottom: 5px;\n&nbsp; &nbsp; font-size: 14px;\n&nbsp; &nbsp; border-bottom: 1px solid black;\n&nbsp; }\n\n&nbsp; .description {\n&nbsp; &nbsp; border-radius: 5px;\n\n&nbsp; &nbsp; p {\n&nbsp; &nbsp; &nbsp; small {\n&nbsp; &nbsp; &nbsp; &nbsp; color: var(--neko-blue);\n&nbsp; &nbsp; &nbsp; &nbsp; font-size: 12px;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p:first-child {\n&nbsp; &nbsp; &nbsp; margin-top: 0;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p:last-child {\n&nbsp; &nbsp; &nbsp; margin-bottom: 0;\n&nbsp; &nbsp; }\n&nbsp; }\n"],zn||(zn=Yn.slice(0)),Vn=Object.freeze(Object.defineProperties(Yn,{raw:{value:Object.freeze(zn)}}))));const qn=function(e){var t,n,r=e.incidents,a=e.isLoading,o=(t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),((t-n)/36e5).toFixed(0));return React.createElement(Wn,null,React.createElement(d.O,null,"Only the incidents which occured ",React.createElement("b",null,"less than a week ago")," are displayed. The time difference between the PST time used by OpenAI and your local time is ",o," hours."),!a&amp;&amp;null==r&amp;&amp;React.createElement("p",null,React.createElement("i",null,"Could not load the incidents.")),!a&amp;&amp;0===(null==r?void 0:r.length)&amp;&amp;React.createElement("p",null,React.createElement("i",null,"Currently no incidents.")),r&amp;&amp;r.map((function(e){return React.createElement("div",{key:e.guid},React.createElement("h3",null,e.date,": ",e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))})))};function Xn(e){return Xn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Qn(){Qn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Xn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Kn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var er=wp.element,tr=er.useState;er.useEffect,er.useMemo;const nr=function(e){var t=e.options,n=e.updateOption,r=e.busy,a=Jn(tr("I would love to live on a tropical island with beautiful and sexy felines, where we could bask in the sun on the sandy beaches, sip on refreshing coconut milk, and enjoy each other's company. While we might occasionally fight in the trees, our days would mostly be spent in peaceful slumber. However, I am not sure of how we would handle any potential disruptions to our idyllic existence if human were to come..."),2),o=a[0],i=a[1],l=Jn(tr([]),2),c=l[0],u=l[1],s=Jn(tr(""),2),f=(s[0],s[1]),d=Jn(tr(!1),2),p=d[0],y=d[1],v=null==t?void 0:t.shortcode_chat_moderation,b=p||r,x=function(){var e,t=(e=Qn().mark((function e(){var t,n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,(0,R.PV)("".concat(T,"/ai/moderate"),{method:"POST",nonce:L,json:{text:o}});case 3:(t=e.sent).success?(n=t.results,u(null==n?void 0:n.results)):f(t.message),y(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kn(o,r,a,i,l,"next",e)}function l(e){Kn(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=React.createElement(m.r,{title:He.COMMON.CHATBOT},React.createElement(h.P,{name:"shortcode_chat_moderation",label:He.COMMON.ENABLE,value:"1",checked:v,description:He.SETTINGS.CHATBOT_MODERATION_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:He.COMMON.SETTINGS,className:"primary"},React.createElement("p",null,"You can enable moderation various parts of WordPress. It will slow down the processing a little."),O)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:"AI Moderation Tester",className:"primary"},React.createElement("p",null,"Paste a text below, and check if it is safe for your website. ",React.createElement("b",null,"OpenAI Moderation Model is free!")," Learn more about it ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/moderation/overview",target:"_blank"},"here"),"."),React.createElement(Dt.l,{name:"context",rows:8,value:o,onChange:i}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,onClick:x},"Moderation Check"),React.createElement(xe.i,null),React.createElement("label",null,"Results:"),React.createElement("pre",null,JSON.stringify(c,null,2))))))};var rr=n(5231);function ar(e){return ar="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ar(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(){lr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ar(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ar(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function cr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cr(o,r,a,i,l,"next",e)}function l(e){cr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function sr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var fr=wp.element,dr=fr.useState,mr=fr.useEffect,pr=fr.useMemo;const hr=function(e){var t,n,r=e.modal,a=e.busy,o=e.setModal,i=e.onAddEmbedding,l=e.onModifyEmbedding,c=(t=dr(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=a;mr((function(){"edit"!==(null==r?void 0:r.type)&amp;&amp;"add"!==(null==r?void 0:r.type)||s((null==r?void 0:r.data)||{})}),[r]);var d=pr((function(){var e,t,n,a,o;return null==r||!r.data||(null==r||null===(e=r.data)||void 0===e?void 0:e.title)!==(null==u?void 0:u.title)||(null==r||null===(t=r.data)||void 0===t?void 0:t.content)!==(null==u?void 0:u.content)||(null==r||null===(n=r.data)||void 0===n?void 0:n.behavior)!==(null==u?void 0:u.behavior)||(null==r||null===(a=r.data)||void 0===a?void 0:a.type)!==(null==u?void 0:u.type)||(null==r||null===(o=r.data)||void 0===o?void 0:o.refId)!==(null==u?void 0:u.refId)})),m=function(){var e=ur(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=ur(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"edit"===(null==r?void 0:r.type)||"add"===(null==r?void 0:r.type),title:"edit"===(null==r?void 0:r.type)?He.COMMON.MODIFY_EMBEDDING:He.COMMON.ADD_EMBEDDING,okButton:{label:"edit"===(null==r?void 0:r.type)?He.COMMON.MODIFY_EMBEDDING:He.COMMON.ADD_EMBEDDING,disabled:!d||a,isBusy:"addEmbedding"===a,onClick:function(){"edit"===r.type?m():p()}},cancelButton:{disabled:a,onClick:function(){return o(null)}},onRequestClose:function(){return o(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,"A custom embedding can be a sentence, a paragraph or a whole article. When an user input is made, the AI will search for the best embedding that matches the user input and will be able to reply with more accuracy."),React.createElement(xe.i,null),React.createElement("label",null,"Title:"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.A,{value:null==u?void 0:u.title,placeholder:'Title, like "My Website Information"',description:"This is for your convenience only, it's not used anywhere.",onChange:function(e){return s(ir(ir({},u),{},{title:e}))}}),React.createElement(xe.i,null),React.createElement("label",null,"Content:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{countable:"chars",maxLength:64e3,description:"The content of your embeddings that will be used by the AI if it matches the user input.",value:null==u?void 0:u.content,onChange:function(e){return s(ir(ir({},u),{},{content:e}))}}),React.createElement(xe.i,null),React.createElement("label",null,"Behavior:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"behavior",disabled:f||!0,value:null==u?void 0:u.behavior,onChange:function(e){s(ir(ir({},u),{},{behavior:e}))}},React.createElement(Ee.Z,{value:"context",label:"Context"}),React.createElement(Ee.Z,{value:"reply",label:"Reply"})),React.createElement(xe.i,null),React.createElement("label",null,"Type:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"type",disabled:f||!0,value:null==u?void 0:u.type,onChange:function(e){s(ir(ir({},u),{},{type:e}))}},React.createElement(Ee.Z,{value:"manual",label:"Manual"}),React.createElement(Ee.Z,{value:"post",label:"Post (Whole)"}),React.createElement(Ee.Z,{value:"post-fragment",label:"Post (Fragment)"})),("post"===(null==u?void 0:u.type)||"post-fragment"===(null==u?void 0:u.type))&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement("label",null,"Post ID:"),React.createElement(xe.i,null),React.createElement(we.A,{value:null==u?void 0:u.refId,onChange:function(e){return s(ir(ir({},u),{},{refId:e}))}})))}))};function yr(e){return yr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},yr(e)}function vr(){vr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==yr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(yr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function gr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gr(o,r,a,i,l,"next",e)}function l(e){gr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Rr=wp.element.useState;function xr(e,t){var n=new Blob([e],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}const Or=function(e){var t=e.modal,n=e.setModal,r=Er(Rr(!1),2),a=r[0],o=r[1],i=Er(Rr(0),2),l=i[0],c=i[1],u=Er(Rr(0),2),s=u[0],f=u[1],d=null==t?void 0:t.data,m=function(){var e=br(vr().mark((function e(){var t,n,r,a,i,l;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=JSON.stringify(t,null,2),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),xr(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".json")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=br(vr().mark((function e(){var t,n,r,a,i,l;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=Mt().unparse(t),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),xr(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".csv")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=br(vr().mark((function e(){var t,n,r,a;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n={page:1,limit:20,filters:{envId:d.envId,dbIndex:d.dbIndex,dbNS:d.dbNS}},r=[],a=vr().mark((function e(){var a;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(n);case 2:(a=e.sent).vectors.length&lt;2&amp;&amp;(t=!0),c((function(){return a.total})),r=r.concat(a.vectors),f((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 4:if(t){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"export"===(null==t?void 0:t.type),title:"Export Embeddings",onRequestClose:function(){return n(null)},okButton:{label:"Close",disabled:"addEmbedding"===a,onClick:function(){return n(null)}},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:p,disabled:a},"Export CSV"),React.createElement(E._,{onClick:m,disabled:a},"Export JSON")),content:React.createElement(React.Fragment,null,React.createElement(Vt.U,{busy:a,style:{flex:"auto"},value:s,max:l}))}))};function Sr(e){return Sr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Tr(){Tr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Sr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Sr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Sr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sr(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){var n="undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ar(e))||t&amp;&amp;e&amp;&amp;"number"==typeof e.length){n&amp;&amp;(e=n);var r=0,a=function(){};return{s:a,n:function(){return r&gt;=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Ir(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ir(o,r,a,i,l,"next",e)}function l(e){Ir(o,r,a,i,l,"throw",e)}i(void 0)}))}}function kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pr=wp.element.useState;const Mr=function(e){var t,n,r=e.modal,a=e.setModal,o=e.onAddEmbedding,i=e.onModifyEmbedding,l=kr(Pr(!1),2),c=l[0],u=l[1],s=kr(Pr(0),2),f=s[0],d=s[1],m=kr(Pr(0),2),p=m[0],y=m[1],v=kr(Pr({add:[],modify:[],same:[],total:0,isReady:!1}),2),g=v[0],b=v[1],w=null!==(t=null==r||null===(n=r.data)||void 0===n?void 0:n.importVectors)&amp;&amp;void 0!==t?t:[],R=kr(Pr({envId:!1,dbId:!1,dbIndex:!1,dbNS:!1,title:!0,refId:!0}),2),x=R[0],O=R[1],S=null==r?void 0:r.data,T=function(e){var t,n,r,a,o,i,l,c,u,s;return{id:null!==(t=e.id)&amp;&amp;void 0!==t?t:null,type:null!==(n=e.type)&amp;&amp;void 0!==n?n:"manual",title:null!==(r=e.title)&amp;&amp;void 0!==r?r:"N/A",behavior:null!==(a=e.behavior)&amp;&amp;void 0!==a?a:"context",envId:null!==(o=null==S?void 0:S.envId)&amp;&amp;void 0!==o?o:null,dbId:null!==(i=e.dbId)&amp;&amp;void 0!==i?i:null,dbIndex:null!==(l=S.dbIndex)&amp;&amp;void 0!==l?l:null,dbNS:null!==(c=S.dbNS)&amp;&amp;void 0!==c?c:null,content:null!==(u=e.content)&amp;&amp;void 0!==u?u:"",refId:null!==(s=e.refId)&amp;&amp;void 0!==s?s:null}},N=function(e,t,n){return Object.keys(n).every((function(r){return!n[r]||e[r]===t[r]}))},_=function(){var e=Lr(Tr().mark((function e(t,n){var r,a,o,i,l,c,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],o=[],console.log("Calculate Diff",{currentVectors:t,importVectors:n}),i=Cr(n),e.prev=5,c=Tr().mark((function e(){var n,i,c,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.value,i=T(n),c=t.find((function(e){return N(e,i,x)})),console.log("Matched Vector",{cleanVector:_r({},i),matchedVector:_r({},c)}),c?i.id=c.id:delete i.id,(u=t.find((function(e){return e.id===i.id})))&amp;&amp;i.content===u.content&amp;&amp;i.title===u.title?o.push(i):i.id?a.push(i):r.push(i);case 7:case"end":return e.stop()}}),e)})),i.s();case 8:if((l=i.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:u=r.length+a.length,b({add:r,modify:a,same:o,total:u,isReady:!0}),console.log("Embeddings Diff",{add:r,modify:a,same:o,total:u});case 23:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Lr(Tr().mark((function e(){var t,n,r,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=!1,n={page:1,limit:20,filters:{envId:S.envId,dbIndex:S.dbIndex,dbNS:S.dbNS}},r=[],u("stepOne"),a=Tr().mark((function e(){var a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(n);case 2:(a=e.sent).vectors.length&lt;2&amp;&amp;(t=!0),d((function(){return a.total})),r=r.concat(a.vectors),y((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 6:if(t){e.next=10;break}return e.delegateYield(a(),"t0",8);case 8:e.next=6;break;case 10:_(r,w),e.next=17;break;case 13:e.prev=13,e.t1=e.catch(0),console.error(e.t1),alert("An error occured while retrieving your current embeddings. Check your console.");case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Lr(Tr().mark((function e(){var t,n,r,a,l,c;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,d(g.add.length+g.modify.length),y(0),u("stepTwo"),t=Cr(g.add),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=14;break}return r=n.value,e.next=11,o(r,!0);case 11:y((function(e){return e+1}));case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:a=Cr(g.modify),e.prev=23,a.s();case 25:if((l=a.n()).done){e.next=32;break}return c=l.value,e.next=29,i(c,!0);case 29:y((function(e){return e+1}));case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),a.e(e.t1);case 37:return e.prev=37,a.f(),e.finish(37);case 40:alert("All embeddings have been updated."),b({add:[],modify:[],same:[],total:0,isReady:!1}),L(),e.next=49;break;case 45:e.prev=45,e.t2=e.catch(0),console.error(e.t2),alert("An error occured while updating embeddings. Check your console.");case 49:return e.prev=49,u(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[0,45,49,52],[5,16,19,22],[23,34,37,40]])})));return function(){return e.apply(this,arguments)}}(),L=function(){a(null),u(!1),d(0),y(0),b({add:[],modify:[],same:[],total:0,isReady:!1})};return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"import"===(null==r?void 0:r.type),title:"Import Embeddings",onRequestClose:L,okButton:{label:"Close",onClick:L,disabled:c},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:C,disabled:c},"Check Differences"),React.createElement(E._,{onClick:I,disabled:c||0===g.total},"Apply Changes")),content:React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",React.createElement("b",null,w.length," embeddings")," in the file."),React.createElement(xe.i,null),React.createElement(Se.L,{title:"1 - Check Differences"}),React.createElement("p",null,"Calculates the differences between the embeddings in your file and the ones currently registered in AI Engine. Based on that, a list of changes will be created. Please note that the environment, index and namespace that might be set in the file will be ignored."),React.createElement("p",{style:{marginTop:10}},"An embedding will be considered the same entry based on:"),React.createElement(xe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"DB ID",disabled:!1,checked:x.dbId,onChange:function(){return O(_r(_r({},x),{},{dbId:!x.dbId}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Title",disabled:!1,checked:x.title,onChange:function(){return O(_r(_r({},x),{},{title:!x.title}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Ref (Post ID)",disabled:!1,checked:x.refId,onChange:function(){return O(_r(_r({},x),{},{refId:!x.refId}))}}))),"stepOne"===c&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Vt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(xe.i,null),React.createElement(Se.L,{title:"2 - Apply Changes"}),!g.isReady&amp;&amp;React.createElement("i",null,"Waiting for diff..."),g.isReady&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",g.same.length&gt;=1&amp;&amp;React.createElement("span",null,React.createElement("b",null,g.same.length," identical embeddings")," (with the same title and content). They will be ignored. "),React.createElement("span",null,"Changes to apply:")),React.createElement("ul",null,React.createElement("li",null,"👉 Add: ",React.createElement("b",null,g.add.length)),React.createElement("li",null,"👉 Modify: ",React.createElement("b",null,g.modify.length)))),"stepTwo"===c&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Vt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(xe.i,null))}))};function Dr(e){return Dr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Gr(e){return function(e){if(Array.isArray(e))return zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(){Fr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Dr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Dr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dr(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hr(o,r,a,i,l,"next",e)}function l(e){Hr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}function zr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Wr=wp.element,qr=Wr.useState,Xr=Wr.useMemo,Qr=Wr.useEffect,Kr=Wr.useRef,Jr=[{accessor:"status",title:"Status",width:"80px"},{accessor:"title",title:"Title / Model",sortable:!1},{accessor:"type",title:"Ref",sortable:!1,width:"60px"},{accessor:"score",title:"Score",sortable:!0,width:"65px"},{accessor:"updated",title:"Updated",sortable:!1,width:"80px"},{accessor:"actions",title:"",width:"100px"}],$r=[{accessor:"status",title:"Status",sortable:!0,width:"80px"},{accessor:"title",title:"Title / Model",sortable:!1},{accessor:"type",title:"Ref",sortable:!0,width:"60px"},{accessor:"updated",title:"Updated",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"100px"}],ea=function(e){var t=e.id,n=e.status,r=e.includeText,a=void 0!==r&amp;&amp;r,o=e.title,i=void 0===o?null:o,l=(0,s.r)().colors,c=null;switch(n){case"outdated":default:c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.orange});break;case"ok":c=React.createElement(Re.J,{title:t||n,icon:"check-circle",width:24,color:l.green});break;case"error":c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.red})}return a?React.createElement("div",{style:{display:"flex",alignItems:"center"},title:i||n},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},n)):c},ta=function(e){var t={environmentId:e.environmentId||null,index:e.index||null,namespace:e.namespace||null};localStorage.setItem("mwai-admin-embeddings",JSON.stringify(t))};const na=function(e){var t,n,r,a,o=e.options,i=e.updateEnvironment,l=e.updateOption,c=(0,u.NL)(),f=(0,s.r)().colors,d=Vr(qr("post"),2),m=d[0],p=d[1],y=Vr(qr(!1),2),v=y[0],x=y[1],O=Vr(qr("edit"),2),S=O[0],N=O[1],_=Vr(qr(null),2),C=_[0],I=_[1],k=Vr(qr(!1),2),j=k[0],P=k[1],M=Vr(qr(!1),2),D=M[0],G=M[1],F=Vr(qr([]),2),B=F[0],U=F[1],H=Vr(qr({type:null,data:null}),2),Z=H[0],V=H[1],Y=o.embeddings||{},z=(null==Y?void 0:Y.minScore)&gt;0?Y.minScore:35,W=(null==Y?void 0:Y.maxSelect)&gt;0?Y.maxSelect:10,q=Kr(null),X=lt(o),Q=lt(o,!1,!0),K=Xr((function(){return X.getModel(o.ai_default_model)}),[o.ai_default_model]),J=null!==(t=null!==(n=null==K?void 0:K.model)&amp;&amp;void 0!==n?n:null==o?void 0:o.fallback_model)&amp;&amp;void 0!==t?t:null,$=null!==(r=null==K?void 0:K.maxTokens)&amp;&amp;void 0!==r?r:2048,ee=o.embeddings_envs||[],te=Vr(qr(null),2),ne=te[0],re=te[1],ae=Vr(qr(null),2),oe=ae[0],ie=ae[1],le=Vr(qr(null),2),ce=le[0],ue=le[1],se=Xr((function(){return ee.find((function(e){return e.id===ne}))||null}),[ee,ne]),fe=Xr((function(){return(null==se?void 0:se.indexes)||[]}),[se]),de=Xr((function(){return(null==se?void 0:se.namespaces)||[]}),[se]);Qr((function(){var e,t,n,r=function(){var e=localStorage.getItem("mwai-admin-embeddings");try{return JSON.parse(e)}catch(e){return{}}}(),a=null!==(e=null==r?void 0:r.environmentId)&amp;&amp;void 0!==e?e:null,o=null!==(t=null==r?void 0:r.index)&amp;&amp;void 0!==t?t:null,i=null!==(n=null==r?void 0:r.namespace)&amp;&amp;void 0!==n?n:null;re(a),ie(o),ue(i)}),[]),Qr((function(){ta({environmentId:ne,index:oe,namespace:ce})}),[ne,oe,ce]);var me=Xr((function(){return null!=se&amp;&amp;se.ai_embeddings_override&amp;&amp;null!=se&amp;&amp;se.ai_embeddings_env&amp;&amp;null!=se&amp;&amp;se.ai_embeddings_model?Q.getModel(se.ai_embeddings_model):Q.getModel(o.ai_embeddings_default_model)}),[se,Y.model]),pe=Xr((function(){var e=fe.find((function(e){return(null==e?void 0:e.name)===oe}))||null;return!(null==e||!e.ready)}),[fe,oe]),he=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),ye=he.isLoading,ve=he.data,ge=(0,Ne.a)({queryKey:[null!==(a="postsCount-"+m+"-"+(null==Y?void 0:Y.syncPostStatus))&amp;&amp;void 0!==a?a:"publish"],queryFn:function(){var e;return ft(m,null!==(e=null==Y?void 0:Y.syncPostStatus)&amp;&amp;void 0!==e?e:"publish")}}),be=ge.isLoading,Re=ge.data,Oe=Vr(qr({filters:{envId:ne,dbIndex:oe,dbNS:ce,search:C},sort:{accessor:"created",by:"desc"},page:1,limit:20}),2),Se=Oe[0],Ce=Oe[1],Ie=(0,Ne.a)({queryKey:["vectors",Se],queryFn:function(){return st(Se)},keepPreviousData:!0}),Le=Ie.isFetching,ke=Ie.data,Ae=Le||"searchVectors"===v,je="search"===S?Jr:$r,Pe=(0,Yt.qj)({i18n:He,onStop:function(){x(),Pe.reset()}}),Me=v||Ae||Pe.isBusy||ye,De=function(){var e=Zr(Fr().mark((function e(t){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("updateSettings"),e.next=3,l(Ur({},t),"embeddings");case 3:x(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=Xr((function(){var e,t=null!==(e=Y.syncPostsEnv)&amp;&amp;void 0!==e?e:{};return t.envId!==ne||t.dbIndex!==oe||t.dbNS!==ce})),Fe=Xr((function(){var e,t,n=null!==(e=Y.syncPostsEnv)&amp;&amp;void 0!==e?e:{},r=ee.find((function(e){return e.id===n.envId}))||null;return null!==(t=null==r?void 0:r.name)&amp;&amp;void 0!==t?t:null}));Qr((function(){"gcp-starter"!==(null==se?void 0:se.server)&amp;&amp;oe||!ce?(Ce(Ur(Ur({},Se),{},{filters:{envId:ne,dbIndex:null!=oe?oe:null,dbNS:null!=ce?ce:null,search:C}})),ta({environmentId:ne,index:oe,namespace:ce})):ue(null)}),[oe,ce]),Qr((function(){var e="edit"===S?null:"";I("edit"===S?null:""),Ce(Ur(Ur({},Se),{},{filters:Ur(Ur({},Se.filters),{},{search:e}),sort:{accessor:"edit"===S?"created":"score",by:"desc"},page:1,limit:20}))}),[S]),Qr((function(){var e,t;null!=Y&amp;&amp;null!==(e=Y.syncPostTypes)&amp;&amp;void 0!==e&amp;&amp;e.length&amp;&amp;null!=Y&amp;&amp;null!==(t=Y.syncPostStatus)&amp;&amp;void 0!==t&amp;&amp;t.length||De(Ur(Ur({},Y),{},{syncPostTypes:["post","page","product"],syncPostStatus:["publish"]}))}),[Y.syncPostTypes]);var Be=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("addIndex"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/add"),{nonce:L,method:"POST",json:{envId:se.id,name:D.name,podType:D.podType}});case 4:return t=e.sent,e.next=7,i(se.id,{indexes:t.indexes});case 7:G(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 14:x(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm('Are you sure you want to delete the index "'.concat(oe,'"? All the related embeddings will be deleted as well.'))){e.next=2;break}return e.abrupt("return");case 2:return x("deleteIndex"),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/indexes/delete"),{nonce:L,method:"POST",json:{envId:se.id,name:oe}});case 6:return t=e.sent,e.next=9,i(se.id,{index:null,indexes:t.indexes});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),alert(e.t0.message);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("refreshIndexes"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/list"),{nonce:L,method:"POST",json:{envId:se.id}});case 4:return t=e.sent,e.next=7,i(se.id,{indexes:t.indexes});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C!==Se.filters.search){e.next=3;break}return c.invalidateQueries({queryKey:["vectors"]}),e.abrupt("return");case 3:Ce(Ur(Ur({},Se),{},{filters:Ur(Ur({},Se.filters),{},{search:C})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(""),Ce(Ur(Ur({},Se),{},{filters:Ur(Ur({},Se.filters),{},{search:""})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]?o[0]:j,(n=o.length&gt;1&amp;&amp;void 0!==o[1]&amp;&amp;o[1])||x("addEmbedding"),e.prev=3,(r=Ur({},t)).envId||(r.envId=se.id),r.dbIndex||(r.dbIndex=oe),r.dbNS||(r.dbNS=ce),e.next=10,(0,R.PV)("".concat(T,"/vectors/add"),{nonce:L,method:"POST",json:{vector:r}});case 10:P(!1),console.log("Embedding Added",t),c.invalidateQueries({queryKey:["vectors"]}),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&amp;&amp;void 0!==a?a:"Unknown error, check your console logs.");case 19:return e.prev=19,n||x(!1),e.finish(19);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]?o[0]:j,(n=o.length&gt;1?o[1]:void 0)||x("addEmbedding"),e.prev=3,(r=Ur({},t)).envId||(r.envId=se.id),r.dbIndex||(r.dbIndex=oe),r.dbNS||(r.dbNS=ce),r.envId=se.id,e.next=11,(0,R.PV)("".concat(T,"/vectors/update"),{nonce:L,method:"POST",json:{vector:r}});case 11:P(!1),console.log("Embeddings updated.",t),c.invalidateQueries({queryKey:["vectors"]}),e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&amp;&amp;void 0!==a?a:"Unknown error, check your console logs.");case 20:return e.prev=20,n||x(!1),e.finish(20);case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,null,[[3,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Zr(Fr().mark((function e(t){var n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=o.length&gt;1&amp;&amp;void 0!==o[1]&amp;&amp;o[1])||x("getEmbedding"),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/vectors/ref"),{nonce:L,method:"POST",json:{refId:t,dbId:se.id,dbIndex:oe,dbNS:ce}});case 5:return r=e.sent,n||x(!1),e.abrupt("return",r.vectors);case 10:throw e.prev=10,e.t0=e.catch(2),console.error(e.t0),new Error(null!==(a=e.t0.message)&amp;&amp;void 0!==a?a:"Unknown error, check your console logs.");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Zr(Fr().mark((function e(t,n){var r;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||x("deleteEmbedding"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:L,method:"POST",json:{envId:se.id,index:oe,ids:t}});case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),console.error(e.t0),confirm("Got an error from the vector database:\n\n".concat(e.t0.message,"\n\nDo you want to force the deletion locally?"))){e.next=11;break}throw new Error(null!==(r=e.t0.message)&amp;&amp;void 0!==r?r:"Unknown error, check your console logs.");case 11:return e.next=13,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:L,method:"POST",json:{envId:se.id,index:oe,ids:t,force:!0}});case 13:return e.prev=13,n||x(!1),e.finish(13);case 16:console.log("Embeddings deleted.",{ids:t}),c.invalidateQueries({queryKey:["vectors"]}),"search"===S&amp;&amp;console.error("We should update the vectors data with the deleted embeddings.");case 19:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Zr(Fr().mark((function e(t){var n,r;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fr().mark((function e(){var n,a,o,i,l;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),o||i||l){e.next=8;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return",1);case 8:a.onload=function(){var e=Zr(Fr().mark((function e(t){var n,r,a,c,u,s,f;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(e){return console.error(e),null}}))):l&amp;&amp;(c=Mt().parse(n,{header:!0,skipEmptyLines:!0}),r=c.data,console.log("The CSV for Embeddings Import was loaded.",r)),s=(u=r).filter((function(e){return e.title&amp;&amp;e.content})),u.length!==s.length&amp;&amp;(alert(He.ALERTS.EMPTY_LINES_EMBEDDINGS),f=u.find((function(e){return!e.prompt||!e.completion})),console.warn("Empty line: ",f)),V({type:"import",data:{importVectors:s,envId:ne,dbIndex:oe,dbNS:ce}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 10:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r&lt;t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete the selected embeddings?")){e.next=2;break}return e.abrupt("return");case 2:return x("deleteEmbeddings"),e.next=5,Xe(B);case 5:U([]),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Zr(Fr().mark((function e(t){var n,r,a,o,i,l,c=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length&gt;1&amp;&amp;void 0!==c[1]?c[1]:"english",r=c.length&gt;2?c[2]:void 0,Y.rewriteContent){e.next=4;break}return e.abrupt("return",t.content);case 4:return a=(a=(a=(a=(a=(a=Y.rewritePrompt.replace("{CONTENT}",t.content)).replace("{TITLE}",t.title)).replace("{URL}",t.url)).replace("{EXCERPT}",t.excerpt)).replace("{ID}",t.postId)).replace("{LANGUAGE}",n),o=null,e.prev=11,e.next=14,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",json:{env:"admin-tools",session:A,prompt:a,temperature:.4,model:J},signal:r,nonce:L});case 14:i=e.sent,o=null==i?void 0:i.data,e.next=22;break;case 18:throw e.prev=18,e.t0=e.catch(11),console.error(e.t0),new Error(null!==(l=e.t0.message)&amp;&amp;void 0!==l?l:"Unknown error, check your console logs.");case 22:return console.log("Content rewritten.",{from:t.content,to:o}),e.abrupt("return",o);case 24:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}(),$e=Xr((function(){return(null==ke?void 0:ke.total)||0}),[ke]),et=Xr((function(){var e=ke;return null!=e&amp;&amp;e.vectors?null==e?void 0:e.vectors.map((function(e){var t,n,r=new Date(e.updated),a=(r=new Date(r.getTime()-60*r.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=new Date(e.created),i=(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=e.score?React.createElement("span",{style:{color:e.score&gt;z/100?"var(--neko-green)":"inherit"}},(100*e.score.toFixed(4)).toFixed(2)):"-",c=null;e.subType&amp;&amp;"string"==typeof e.subType&amp;&amp;(c=e.subType.toUpperCase());var u=null!==(t=null===(n=Q.getModel(e.model))||void 0===n?void 0:n.name)&amp;&amp;void 0!==t?t:e.model;return{id:e.id,type:React.createElement("small",null,e.refId?React.createElement(React.Fragment,null,"ID ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(e.refId,"&amp;action=edit"),target:"_blank",rel:"noreferrer"},"#",e.refId),React.createElement("br",null),React.createElement("div",{style:{fontSize:"80%",marginTop:-5}},c)):"MANUAL"),score:l,title:React.createElement(React.Fragment,null,React.createElement("span",null,e.title),React.createElement("br",null),React.createElement("small",{style:{color:e.model===(null==me?void 0:me.model)?f.black:f.red}},u,e.envId!==ne&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{style:{color:"red"}}," (Wrong EnvID: ",e.envId,")")))),status:React.createElement(ea,{id:e.id,status:e.status,title:e.error||null,includeText:!0}),updated:a,created:i,actions:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",rounded:!0,icon:"pencil",disabled:Me,onClick:function(){return V({type:"edit",data:e})}}),React.createElement(E._,{className:"primary",rounded:!0,icon:"replay",disabled:Me||!e.refId||"ok"===e.status,onClick:function(){return tt(e.refId)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",disabled:Me,onClick:function(){return Xe([e.id])}}))}})):[]}),[S,ke,Me]),tt=function(){var e=Zr(Fr().mark((function e(t){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("syncEmbedding"),e.next=3,nt(0,t);case 3:x(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o,i,l,c,u,s,f,d,p,h,y,v,g,b,E,w,R,O,S,T,N=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=N.length&gt;0&amp;&amp;void 0!==N[0]?N[0]:0,c=N.length&gt;1&amp;&amp;void 0!==N[1]?N[1]:void 0,u=N.length&gt;2&amp;&amp;void 0!==N[2]?N[2]:void 0,e.next=5,dt(m,l,c||void 0,Y.syncPostStatus);case 5:if(s=e.sent,f=null!==(t=null==s?void 0:s.content)&amp;&amp;void 0!==t?t:null,d=null!==(n=null==s?void 0:s.title)&amp;&amp;void 0!==n?n:null,p=null!==(r=null==s?void 0:s.url)&amp;&amp;void 0!==r?r:null,h=null!==(a=null==s?void 0:s.excerpt)&amp;&amp;void 0!==a?a:null,y=null!==(o=null==s?void 0:s.checksum)&amp;&amp;void 0!==o?o:null,v=null!==(i=null==s?void 0:s.language)&amp;&amp;void 0!==i?i:"english",c=null!=s&amp;&amp;s.postId?parseInt(null==s?void 0:s.postId):null,s.success){e.next=15;break}throw new Error(s.message);case 15:return console.log("* Post ID "+c),((g=mt(f))&gt;$||g&gt;8191)&amp;&amp;(f=pt(f,$),console.warn("Too much content. Reduced it to approximatively ".concat($," tokens."),{before:s.content,beforeLength:s.content.length,after:f,afterLength:f.length})),e.next=20,qe(c,!0,u);case 20:if(b=e.sent,!(f.length&lt;64)){e.next=32;break}if(!(b.length&gt;0)){e.next=28;break}return e.next=25,Xe(b.map((function(e){return e.id})),!0,u);case 25:console.warn("Content is too short. Embeddings deleted.",{content:f}),e.next=29;break;case 28:console.warn("Content is too short. Skipped.",{content:f});case 29:return e.abrupt("return",!1);case 32:if(!(b.length&gt;1)){e.next=37;break}return alert("Multiple embeddings for one single post are not handled yet. Please delete the embeddings related to ".concat(c," manually.")),e.abrupt("return",!1);case 37:if(1!==b.length){e.next=59;break}if((E=b[0]).refChecksum!==y||Y.forceRecreate){e.next=43;break}console.log("Embedding exists with same content.",{embedding:E}),e.next=57;break;case 43:return E.refChecksum===y?console.log("Embedding exists with same content (but force re-create)."):console.log("Embedding exists with different content.",{current:E.content,new:f}),w={postId:c,content:f,title:d,url:p,excerpt:h,checksum:y,language:v},e.next=47,Je(w,v,u);case 47:if((R=e.sent)&amp;&amp;!(R.length&lt;64)){e.next=53;break}return e.next=51,Xe(b.map((function(e){return e.id})),!0,u);case 51:return console.warn("Embeddings are too short. Embeddings deleted.",{content:f}),e.abrupt("return",!1);case 53:return e.next=55,We(Ur(Ur({},E),{},{content:R,refChecksum:y}),!0,u);case 55:if(e.sent){e.next=57;break}return e.abrupt("return",!1);case 57:e.next=74;break;case 59:return O={postId:c,content:f,title:d,url:p,excerpt:h,checksum:y,language:v},e.next=62,Je(O,v,u);case 62:if((S=e.sent)&amp;&amp;!(S.length&lt;64)){e.next=68;break}return e.next=66,Xe(b.map((function(e){return e.id})),!0,u);case 66:return console.warn("Embeddings are too short. Skipped.",{content:f}),e.abrupt("return",!1);case 68:return T=Ur(Ur({},rt),{},{title:d,content:S,type:"postId",refId:c,refChecksum:y,behavior:"context"}),e.next=71,ze(T,!0,u);case 71:if(e.sent){e.next=73;break}return e.abrupt("return",!1);case 73:console.log("Embeddings added!",{embedding:T});case 74:return null!=u&amp;&amp;u.aborted&amp;&amp;(console.log("User aborted."),x(!1),Pe.reset()),e.abrupt("return",!0);case 76:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o,i,l,u;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x("bulkPullAll"),t={page:1,limit:1e4,filters:{envId:ne,dbIndex:oe,dbNS:ce}},n=[],r=[],a=!1;case 5:if(a){e.next=14;break}return e.next=8,ct(t);case 8:(o=e.sent).vectors.length&lt;t.limit&amp;&amp;(a=!0),n=n.concat(o.vectors),t.page++,e.next=5;break;case 14:console.log("Remote vectors retrieved.",{remoteVectors:n}),a=!1,t.limit=20,t.page=0;case 18:if(a){e.next=27;break}return e.next=21,st(t);case 21:(i=e.sent).vectors.length&lt;t.limit&amp;&amp;(a=!0),r=r.concat(i.vectors),t.page++,e.next=18;break;case 27:if(r=r.map((function(e){return e.dbId})),console.log("Local vectors retrieved.",{vectors:r}),l=n.filter((function(e){return!r.includes(e)})),console.log("Vectors to pull from Vector DB to AI Engine.",{vectorsToPull:l}),l.length){e.next=35;break}return x(!1),alert("".concat(n.length," vectors were pulled from the remote database. They are already synchronized with the local database.")),e.abrupt("return");case 35:return u=l.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut({envId:ne,dbIndex:oe,dbNS:ce,dbId:e},n);case 2:return t.next=4,c.invalidateQueries({queryKey:["vectors"]});case 4:return t.abrupt("return",{success:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=38,Pe.start(u);case 38:x(!1),alert("All done! For more information, check the console (Chrome Developer Tools)."),Pe.reset();case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]&amp;&amp;o[0],x("bulkPushAll"),n=[],t||0===B.length?(r=Array.from(Array(Re).keys()),n=r.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(e,null,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))):(a=ke.vectors.filter((function(e){return B.includes(e.id)})),n=a.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("postId"!==e.type){t.next=5;break}return t.next=3,nt(0,e.refId,n);case 3:t.next=8;break;case 5:if("manual"!==e.type){t.next=8;break}return t.next=8,We(e,n);case 8:return t.abrupt("return",{success:!0});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))),e.next=6,Pe.start(n);case 6:x(!1),alert("All done! For more information, check the console (Chrome Developer Tools). Posts with very short content (or content that could not be retrieved) are skipped."),Pe.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Zr(Fr().mark((function e(){var t,n;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID to synchronize with:")){e.next=3;break}return e.abrupt("return");case 3:return x("singleRun"),e.prev=4,e.next=7,nt(0,t);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0),alert(null!==(n=null===e.t0||void 0===e.t0?void 0:e.t0.message)&amp;&amp;void 0!==n?n:e.t0);case 13:x(!1);case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),yt=Xr((function(){var e;return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.N,{scrolldown:!0,name:"environment",style:{flex:1,marginBottom:5},disabled:Me,value:null!==(e=null==se?void 0:se.id)&amp;&amp;void 0!==e?e:null,onChange:function(e){re(e),ie(null),ue(null)}},ee.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),!(null!=ee&amp;&amp;ee.length)&amp;&amp;React.createElement(Ee.Z,{value:null,label:"None"}))),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.N,{scrolldown:!0,name:"index",description:He.COMMON.EMBEDDINGS_ENV+" / "+He.COMMON.EMBEDDINGS_INDEX,style:{flex:1.5},disabled:Me,value:null!=oe?oe:null,onChange:function(e){return ie(e)}},fe.map((function(e){return React.createElement(Ee.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(Ee.Z,{value:null,label:"None"})),"pinecone"===(null==se?void 0:se.type)&amp;&amp;React.createElement(Ee.N,{scrolldown:!0,name:"namespace",disabled:!se||"none"===se.server||"gcp-starter"===se.server||Me,description:He.COMMON.NAMESPACE,style:{marginLeft:5,flex:1},value:null!=ce?ce:null,onChange:function(e){return ue(e)}},de.map((function(e){return React.createElement(Ee.Z,{key:e,value:e,label:e})})),React.createElement(Ee.Z,{value:null,label:"None"}))))}),[se,ee,fe,ce,Me]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{margin:10}},React.createElement("div",{style:{display:"flex"}},React.createElement(rr.P,{style:{flex:1,marginRight:15}},React.createElement(Gt.Q,{style:{marginRight:10},disabled:Me||!oe||!pe,onLabel:He.EMBEDDINGS.AI_SEARCH,offLabel:He.EMBEDDINGS.EDIT,width:110,onValue:"search",offValue:"edit",checked:"search"===S,onChange:N,onBackgroundColor:f.purple,offBackgroundColor:f.green}),"edit"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Me||!oe||!pe,onClick:function(){return V({type:"add",data:rt})}},"Add"))),React.createElement(rr.P,{style:{flex:"auto"}},"edit"===S&amp;&amp;React.createElement(React.Fragment,null,B.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Me||!oe,isBusy:"bulkPushAll"===v,onClick:function(){return it(!1)}},"Sync Selected"),React.createElement(E._,{className:"danger",disabled:Me||!oe||!pe,onClick:Ke},He.COMMON.DELETE_SELECTED)),B.length&gt;0&amp;&amp;React.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10}},B.length," selected"),React.createElement(Vt.U,{busy:Pe.busy,style:{flex:"auto"},value:Pe.value,max:Pe.max,onStopClick:Pe.stop})),"search"===S&amp;&amp;React.createElement("div",{style:{flex:"auto",display:"flex"}},React.createElement(we.A,{style:{flex:"auto",marginRight:5},placeholder:"Search",disabled:Me||!oe||!pe,value:C,onChange:I,onEnter:Ve,onReset:Ye}),React.createElement(E._,{className:"primary",onClick:Ve,disabled:Me||!oe||!pe||!C,isBusy:"searchVectors"===v},"Search"))))),React.createElement(g.z,{minimal:!0,style:{flex:3,marginRight:10}},React.createElement(w.v,{className:"primary",title:"Embeddings"},React.createElement(Bt.a,{busy:Me,sort:Se.sort,onSortChange:function(e,t){Ce(Ur(Ur({},Se),{},{sort:{accessor:e,by:t}}))},data:et,columns:je,onSelectRow:function(e){U([e])},onSelect:function(e){U([].concat(Gr(B),Gr(e)))},onUnselect:function(e){U(Gr(B.filter((function(t){return!e.includes(t)}))))},selectedItems:B}),React.createElement(xe.i,null),"search"!==S&amp;&amp;React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Zt.Q,{currentPage:Se.page,limit:Se.limit,total:$e,onClick:function(e){Ce(Ur(Ur({},Se),{},{page:e}))}}),React.createElement(E._,{className:"primary",style:{marginLeft:5},disabled:Ae||!oe,onClick:function(){c.invalidateQueries({queryKey:["vectors"]})}},He.COMMON.REFRESH),React.createElement(E._,{className:"primary",style:{marginLeft:5},onClick:function(){V({type:"export",data:{envId:ne,dbIndex:oe,dbNS:ce}})}},He.COMMON.EXPORT))),React.createElement(w.v,{className:"primary"},React.createElement("p",null,React.createElement("b",null,"If want to discuss embeddings with other users, visit the ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank",rel:"noreferrer"},"Meow Apps Discord Server"),".")),React.createElement("p",null,"An embedding is a textual piece of data (sentence, paragraph, a whole article) that has been converted by OpenAI into a vector. Vectors can then be used to find the most relevant data for a given query. In this dashboard, you can create embeddings, and they will be synchronized with ",React.createElement("a",{target:"_blank",href:"https://www.pinecone.io/",rel:"noreferrer"},"Pinecone"),", a very fast and affordable vector database."),React.createElement("p",null,"You can switch from EDIT to AI SEARCH and you will be able to query the database, and get your content, with a score. You can edit the content and it will be synchronized with Pinecone. Then make your content perfect so that the results are satisfying! You can use Sync and Sync One, it will go through your posts and create the embeddings if they don't exist yet, or update them if they do."),React.createElement("p",null,"Both the chatbots and the AI Forms can use embeddings to enrich their answers."))),React.createElement(g.z,{minimal:!0},React.createElement(xe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Index"},yt,oe&amp;&amp;!pe&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button.")),React.createElement(b.P,{title:"Settings"},yt,React.createElement(xe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{className:"primary",onClick:function(){return G(at)},style:{flex:1},isBusy:"addIndex"===v,disabled:Me},He.EMBEDDINGS.ADD_INDEX),React.createElement(E._,{className:"secondary",onClick:Ze,style:{flex:1},isBusy:"refreshIndexes"===v,disabled:Me},He.COMMON.REFRESH),React.createElement(E._,{className:"danger",onClick:Ue,style:{flex:1},isBusy:"deleteEmbeddings"===v,disabled:Me||!oe||!pe},He.COMMON.DELETE)),React.createElement(xe.i,null),oe&amp;&amp;!pe&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button."),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,marginRight:5}},React.createElement("label",null,"Minimum Score:"),React.createElement(we.A,{value:z,type:"number",min:0,max:98,step:.5,onFinalChange:function(e){De(Ur(Ur({},Y),{},{minScore:parseFloat(e)}))}})),React.createElement("div",{style:{flex:1,marginLeft:5}},React.createElement("label",null,"Max Embedding(s):"),React.createElement(we.A,{value:W,type:"number",min:1,max:20,step:1,onFinalChange:function(e){De(Ur(Ur({},Y),{},{maxSelect:parseInt(e)}))}}))),React.createElement("p",null,"The ",W," best embedding(s) with a minimum score of ",z," will be used to build the reply."))),React.createElement(xe.i,null),"search"!==S&amp;&amp;React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Sync Push",inversed:!0},React.createElement(Ht.b,{ref:q,onSelectFiles:Qe,accept:""},React.createElement(E._,{fullWidth:!0,className:"secondary",onClick:function(){return q.current.click()}},"Import CSV or JSON")),React.createElement(xe.i,{line:!0}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Ee.N,{id:"postType",scrolldown:!0,disabled:Me,name:"postType",style:{width:100},onChange:p,value:m},null==ve?void 0:ve.map((function(e){return React.createElement(Ee.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(E._,{fullWidth:!0,className:"primary",style:{marginLeft:10},disabled:Me||!oe,isBusy:"bulkPushAll"===v,onClick:function(){return it(!0)}},He.EMBEDDINGS.SYNC_ALL," ",!be&amp;&amp;React.createElement(React.Fragment,null,"(","".concat(Re),")"))),React.createElement(xe.i,{tiny:!0}),React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Me||!oe,isBusy:"singleRun"===v,onClick:ht},He.EMBEDDINGS.SYNC_ONE)),React.createElement(b.P,{title:"Sync Pull",inversed:!0},React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Me||!oe,isBusy:"bulkPullAll"===v,onClick:function(){return ot()}},He.EMBEDDINGS.SYNC_ALL)),React.createElement(b.P,{title:"Settings",inversed:!0},React.createElement(h.P,{label:He.EMBEDDINGS.REWRITE_CONTENT,disabled:v,checked:Y.rewriteContent,onChange:function(e){De(Ur(Ur({},Y),{},{rewriteContent:e}))},description:He.EMBEDDINGS.REWRITE_CONTENT_DESCRIPTION}),React.createElement(xe.i,null),Y.rewriteContent&amp;&amp;React.createElement(Dt.l,{value:Y.rewritePrompt,rows:5,disabled:v,onBlur:function(e){De(Ur(Ur({},Y),{},{rewritePrompt:e}))},description:He.EMBEDDINGS.REWRITE_PROMPT_DESCRIPTION}),React.createElement(xe.i,null),React.createElement(h.P,{label:He.EMBEDDINGS.FORCE_RECREATE,checked:Y.forceRecreate,disabled:v,onChange:function(e){De(Ur(Ur({},Y),{},{forceRecreate:e}))},description:He.EMBEDDINGS.FORCE_RECREATE_DESCRIPTION}),React.createElement(xe.i,{medium:!0,line:!0}),React.createElement("h3",{style:{marginTop:0}},"Auto Sync"),React.createElement(h.P,{label:He.EMBEDDINGS.AUTO_SYNC_POSTS,checked:Y.syncPosts,disabled:v,onChange:function(e){De(Ur(Ur({},Y),{},{syncPosts:e}))},description:He.EMBEDDINGS.AUTO_SYNC_POSTS_DESCRIPTION}),Y.syncPosts&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,!Y.syncPostsEnv&amp;&amp;"Auto Sync is not set.",Y.syncPostsEnv&amp;&amp;React.createElement(React.Fragment,null,React.createElement("ul",{style:{lineHeight:"10px",marginLeft:15,listStyle:"disc"}},React.createElement("li",null,"Environment: ",React.createElement("b",null,Fe)),React.createElement("li",null,"Index: ",React.createElement("b",null,Y.syncPostsEnv.dbIndex)),React.createElement("li",null,"Namespace: ",React.createElement("b",null,Y.syncPostsEnv.dbNS))))),Ge&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_e.S,{variant:"danger",style:{padding:"10px 20px",marginBottom:10}},"The current environment is different from the one set for Auto Sync. Do you want to use it instead?"),React.createElement(E._,{fullWidth:!0,className:"primary",onClick:function(){return De(Ur(Ur({},Y),{},{syncPostsEnv:{envId:ne,dbIndex:oe,dbNS:ce}}))},style:{flex:1},disabled:Me},"Use Current Environment"),React.createElement(xe.i,null)),React.createElement(we.A,{name:"syncPostTypes",value:Y.syncPostTypes,isCommaSeparatedArray:!0,description:He.HELP.POST_TYPES,onBlur:function(e){De(Ur(Ur({},Y),{},{syncPostTypes:e}))}}),React.createElement(xe.i,null),React.createElement(we.A,{name:"syncPostStatus",value:Y.syncPostStatus||"publish",isCommaSeparatedArray:!0,description:He.HELP.POST_STATUS,onBlur:function(e){De(Ur(Ur({},Y),{},{syncPostStatus:e}))}})))))),React.createElement(hr,{modal:Z,setModal:V,busy:v,onAddEmbedding:ze,onModifyEmbedding:We}),React.createElement(Or,{modal:Z,setModal:V,busy:v}),React.createElement(Mr,{modal:Z,setModal:V,busy:v,onAddEmbedding:ze,onModifyEmbedding:We}),React.createElement(Te.L,{isOpen:D,title:He.EMBEDDINGS.ADD_INDEX,onRequestClose:function(){return G(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,He.EMBEDDINGS.ADD_INDEX_DESCRIPTION),React.createElement(xe.i,{height:30}),React.createElement("label",null,"Name:"),React.createElement(xe.i,null),React.createElement(we.A,{value:null==D?void 0:D.name,placeholder:"Name for your index",onChange:function(e){return G(Ur(Ur({},D),{},{name:e}))}}),React.createElement(xe.i,null),React.createElement("label",null,"Type:"),React.createElement(xe.i,null),React.createElement(Ee.N,{scrolldown:!0,name:"podType",disabled:Me,value:null==D?void 0:D.podType,onChange:function(e){G(Ur(Ur({},D),{},{podType:e}))},description:React.createElement(React.Fragment,null,"Pick S1 only if you will have more than 1 million of embeddings. P2 is faster for querying, slower for adding, and more expensive if you are not using the ",React.createElement("a",{href:"https://www.pinecone.io/pricing/",target:"_blank",rel:"noreferrer"},"Starter Plan")," (free) of Pinecone. P2 is recommended.")},React.createElement(Ee.Z,{value:"s1",label:"S1 (5M Embeddings)"}),React.createElement(Ee.Z,{value:"p1",label:"P1 (1M Embeddings &amp; High Perf)"}),React.createElement(Ee.Z,{value:"p2",label:"P2 (1M Embeddings &amp; Max Perf)"}))),okButton:{label:He.EMBEDDINGS.ADD_INDEX,onClick:Be,disabled:!(null!=D&amp;&amp;D.name&amp;&amp;null!=D&amp;&amp;D.podType),busy:"addIndex"===v},cancelButton:{onClick:function(){return G(null)},disabled:v}}),Pe.TasksErrorModal)};function ra(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var aa=wp.element,oa=aa.useMemo,ia=aa.useState,la=function(e){var t,n,r=e.month,a=e.usageData,o=(new Date).toISOString().slice(0,7),i=(t=ia(o==r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1];return React.createElement("li",null,React.createElement("strong",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return c(!l)}},"🗓️ ",r," (",a[r].totalPrice.toFixed(2),"$)",React.createElement("span",{style:{marginLeft:5}},l?"🔽":"🔼")),React.createElement("ul",null,l&amp;&amp;a[r].data.map((function(e,t){var n=e.isImage?"images":e.isAudio?"seconds":"tokens",r=e.isImage?e.outUnits:e.inUnits+e.outUnits;return React.createElement("li",{key:t,style:{marginTop:5,marginLeft:18}},React.createElement("strong",null,"• ",e.name),": ".concat(r," ").concat(n),e.price&gt;0&amp;&amp;" (".concat(e.price.toFixed(4),"$)"))}))))};const ca=function(e){var t=e.options,n=lt(t,null,!0),r=n.models,a=n.getModelName,o=n.getModel,i=n.calculatePrice,l=null==t?void 0:t.openai_usage,c=oa((function(){var e={};try{var t=(new Date).toISOString().slice(0,7);Object.keys(l).forEach((function(n){var r=l[n];e[n]||(e[n]={totalPrice:0,data:[]}),Object.keys(r).forEach((function(l){var c=r[l],u=o(l);if(u){var s=null,f=null,d=!1,m=!1;"image"===u.type?(f=(null==c?void 0:c.images)||0,m=!0):"second"===u.type?(f=(null==c?void 0:c.seconds)||0,d=!0):(s=(null==c?void 0:c.prompt_tokens)||0,f=(null==c?void 0:c.completion_tokens)||0);var p=i(l,s,f);e[n].totalPrice+=p,e[n].data.push({name:a(l),isImage:m,isAudio:d,inUnits:s,outUnits:f,price:p})}else n===t&amp;&amp;console.warn("Cannot find price for model ".concat(l,"."))}))})),Object.keys(e).forEach((function(t){e[t].data.sort((function(e,t){return t.price-e.price}))}))}catch(e){console.error(e)}return React.createElement("ul",{style:{marginLeft:-7,marginTop:10,marginBottom:0,paddingBottom:0}},Object.keys(e).reverse().map((function(t,n){return React.createElement(la,{key:n,month:t,usageData:e})})))}),[l,r]);return React.createElement(React.Fragment,null,!!l&amp;&amp;!!Object.keys(l).length&amp;&amp;c)};var ua,sa,fa,da,ma=n(5576);function pa(e){return pa="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},pa(e)}function ha(e){return function(e){if(Array.isArray(e))return xa(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==pa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pa(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ga(){ga=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==pa(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(pa(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ba(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ea(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ba(o,r,a,i,l,"next",e)}function l(e){ba(o,r,a,i,l,"throw",e)}i(void 0)}))}}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ra(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){if(e){if("string"==typeof e)return xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xa(e,t):void 0}}function xa(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Oa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Sa=wp.element,Ta=Sa.useMemo,Na=Sa.useState,_a=Sa.useEffect,Ca=G.ZP.div(ua||(ua=Oa(["\n&nbsp; font-size: 12px;\n&nbsp; border-bottom: 1px solid black;\n"]))),Ia=G.ZP.span(sa||(sa=Oa(["\n&nbsp; font-weight: bold;\n&nbsp; text-transform: uppercase;\n"]))),La=G.ZP.div(fa||(fa=Oa(["\n&nbsp; font-size: 12px;\n&nbsp; color: #bdb8b8;\n&nbsp; background: #eeeeee;\n&nbsp; padding: 2px 8px;\n"]))),ka=G.ZP.div(da||(da=Oa(["\n&nbsp; font-size: 14px;\n&nbsp; padding: 10px;\n&nbsp; border: 1px solid #eaeaea;\n&nbsp; background: #f5f5f5;\n&nbsp; color: #333333;\n&nbsp; word-break: break-word;\n&nbsp; overflow-wrap: break-word;\n&nbsp; word-wrap: break-word;\n&nbsp; hyphens: auto;\n\n&nbsp; img {\n&nbsp; &nbsp; max-width: 100%;\n&nbsp; &nbsp; height: auto;\n&nbsp; }\n\n&nbsp; a {\n&nbsp; &nbsp; color: #333333;\n&nbsp; &nbsp; text-decoration: underline;\n&nbsp; }\n\n&nbsp; a:hover {\n&nbsp; &nbsp; color: #333333;\n&nbsp; &nbsp; text-decoration: none;\n&nbsp; }\n\n&nbsp; blockquote {\n&nbsp; &nbsp; border-left: 4px solid #dddddd;\n&nbsp; &nbsp; padding-left: 10px;\n&nbsp; &nbsp; margin-left: 0;\n&nbsp; &nbsp; font-style: italic;\n&nbsp; }\n\n&nbsp; pre {\n&nbsp; &nbsp; background: #eeeeee;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; overflow-x: auto;\n&nbsp; }\n\n&nbsp; code {\n&nbsp; &nbsp; background: #eeeeee;\n&nbsp; &nbsp; padding: 2px 5px;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; }\n\n&nbsp; table {\n&nbsp; &nbsp; border-collapse: collapse;\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; margin-bottom: 10px;\n&nbsp; }\n&nbsp; \n&nbsp; table td, table th {\n&nbsp; &nbsp; border: 1px solid #dddddd;\n&nbsp; &nbsp; text-align: left;\n&nbsp; &nbsp; padding: 5px;\n&nbsp; }\n\n&nbsp; table tr:nth-child(even) {\n&nbsp; &nbsp; background-color: #dddddd;\n&nbsp; }\n\n&nbsp; .mwai-dead-image {\n&nbsp; &nbsp; color: #ab5252;\n&nbsp; &nbsp; background: #ffd2d2;\n&nbsp; &nbsp; padding: 8px 8px;\n&nbsp; &nbsp; text-align: center;\n&nbsp; }\n"]))),Aa=function(e){var t=e.content,n=wa(Na(t||""),2),r=n[0],a=n[1];_a((function(){t&amp;&amp;i(t)}),[t]);var o=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}))},i=function(){var e=Ea(ga().mark((function e(t){var n,r,i,l;return ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=/!\[.*?\]\((.*?)\)/g,r=t;case 2:if(null===(i=n.exec(t))){e.next=10;break}return l=i[1],e.next=6,o(l);case 6:e.sent||(r=r.replace(i[0],'&lt;div class="mwai-dead-image"&gt;Image not available&lt;/div&gt;')),e.next=2;break;case 10:a(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(ka,null,React.createElement(ma.Z,null,r))},ja=function(e){var t,n,r,a,o=e.message,i=null!=o&amp;&amp;null!==(t=o.extra)&amp;&amp;void 0!==t&amp;&amp;t.embeddings?null==o||null===(n=o.extra)||void 0===n?void 0:n.embeddings:null!=o&amp;&amp;null!==(r=o.extra)&amp;&amp;void 0!==r&amp;&amp;r.embedding?[null==o||null===(a=o.extra)||void 0===a?void 0:a.embedding]:[];return React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement(Ca,null,React.createElement(Ia,null,o.role||o.type)),(null==i?void 0:i.length)&gt;0&amp;&amp;React.createElement(La,null,i.map((function(e){return React.createElement("div",{key:i.id},React.createElement("span",null,e.title)," (",React.createElement("span",null,(100*e.score.toFixed(4)).toFixed(2)),")")}))),React.createElement(Aa,{content:o.content||o.text}))},Pa=[{accessor:"updated",title:"Time",width:"80px",sortable:!0},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:He.HELP.USER_FILTER}},{accessor:"preview",title:He.COMMON.PREVIEW,filters:{type:"text"}},{accessor:"messages",title:"#",width:"45px"}],Ma=function(){var e=Ea(ga().mark((function e(t){var n;return ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/discussions/list"),{nonce:L,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,chats:n.chats}:{total:0,chats:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Da=function(){var e=Ea(ga().mark((function e(){var t,n,r=arguments;return ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length&gt;0&amp;&amp;void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/discussions/delete"),{nonce:L,method:"POST",json:{chatIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Ga=function(){var e,t,n,r,a,o,i,l,c,s=(0,u.NL)(),f=wa(Na(!1),2),d=f[0],m=f[1],p=wa(Na(!1),2),y=p[0],v=p[1],b=wa(Na((function(){return Pa.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:null}}))})),2),R=b[0],x=b[1],O=wa(Na([]),2),S=O[0],T=O[1],N=wa(Na({filters:R,sort:{accessor:"created",by:"desc"},page:1,limit:10}),2),_=N[0],C=N[1],I=(0,Ne.a)({queryKey:["chats",_],queryFn:function(){return Ma(_)},keepPreviousData:!0,refetchInterval:y?5e3:null}),L=I.isFetching,k=I.data;_a((function(){C(va(va({},_),{},{filters:R}))}),[R]);var A=Ta((function(){return(null==k?void 0:k.total)||0}),[k]),j=Ta((function(){return null!=k&amp;&amp;k.chats?null==k?void 0:k.chats.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n,r,a=JSON.parse(e.messages),o=JSON.parse(e.extra),i=ht(e.created),l=ht(e.updated),c=yt(null!==(t=e.userId)&amp;&amp;void 0!==t?t:null==o?void 0:o.userId,null!==(n=e.ip)&amp;&amp;void 0!==n?n:null==o?void 0:o.ip),u=null==a?void 0:a.filter((function(e){return"user"===e.role||"user"===e.type})),s=null!=u&amp;&amp;u.length?u[0].content||u[0].text:"",f=null!=u&amp;&amp;u.length?u[u.length-1].content||u[u.length-1].text:"";return{id:e.id,chatId:e.chatId,user:c,messages:null!==(r=null==a?void 0:a.length)&amp;&amp;void 0!==r?r:0,preview:React.createElement(React.Fragment,null,React.createElement("div",null,s),React.createElement("small",null,f)),extra:o.model,created:i,updated:l}})):[]}),[k]),P=Ta((function(){if(1!==(null==S?void 0:S.length))return null;var e=null==k?void 0:k.chats.find((function(e){return e.id===S[0]}));if(!e)return null;var t=[],n={};try{t=JSON.parse(e.messages),n=JSON.parse(e.extra)}catch(t){console.error("Could not parse discussion messages or extra.",{e:t,currentDiscussion:e})}return{id:e.id,chatId:e.chatId,botId:e.botId,messages:t,extra:n,created:e.created,updated:e.updated}}),[S,k]),M=function(){var e=Ea(ga().mark((function e(){var t,n;return ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),S.length){e.next=9;break}if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=5;break}return m(!1),e.abrupt("return");case 5:return e.next=7,Da();case 7:e.next=14;break;case 9:return t=null==k?void 0:k.chats.filter((function(e){return S.includes(e.id)})),n=t.map((function(e){return e.chatId})),e.next=13,Da(n);case 13:T([]);case 14:return e.next=16,s.invalidateQueries({queryKey:["chats"]});case 16:s.refetchQueries({queryKey:["chats"]}),m(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Ta((function(){return React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Zt.Q,{currentPage:_.page,limit:_.limit,total:A,onClick:function(e){C(va(va({},_),{},{page:e}))}})))}),[_,A]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2}},React.createElement(w.v,{className:"primary",title:He.COMMON.DISCUSSIONS,action:React.createElement(React.Fragment,null,React.createElement("div",null,!y&amp;&amp;React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:L,onClick:Ea(ga().mark((function e(){return ga().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.invalidateQueries({queryKey:["chats"]});case 2:s.refetchQueries({queryKey:["chats"]});case 3:case"end":return e.stop()}}),e)})))},He.COMMON.REFRESH),S.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:M},He.COMMON.DELETE))))},React.createElement(Bt.a,{busy:!y&amp;&amp;L||d,sort:_.sort,onSortChange:function(e,t){C(va(va({},_),{},{sort:{accessor:e,by:t}}))},filters:R,onFilterChange:function(e,t){var n=[].concat(ha(R.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);x(n)},data:j,columns:Pa,selectedItems:S,onSelectRow:function(e){T([e])},onSelect:function(e){T([].concat(ha(S),ha(e)))},onUnselect:function(e){T(ha(S.filter((function(t){return!e.includes(t)}))))}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(E._,{className:"danger",disabled:S.length,style:{marginRight:10},onClick:M},He.COMMON.DELETE_ALL),React.createElement(h.P,{name:"auto-refresh",label:"Auto Refresh",value:"1",checked:y,style:{width:180},onChange:function(){return v(!y)}}),React.createElement("div",{style:{flex:"auto"}}),D))),React.createElement(g.z,{minimal:!0,style:{flex:1}},React.createElement(w.v,{className:"primary",title:"Selected Discussion",action:React.createElement(React.Fragment,null)},!P&amp;&amp;React.createElement("div",{style:{textAlign:"center",padding:10}},"No discussion selected."),null==P||null===(e=P.messages)||void 0===e?void 0:e.map((function(e,t){return React.createElement(ja,{key:t,message:e})}))),!!P&amp;&amp;React.createElement(w.v,{className:"primary",title:"Information",action:React.createElement(React.Fragment,null)},React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Model"),React.createElement("div",null,null==P||null===(t=P.extra)||void 0===t?void 0:t.model)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Bot ID (or Custom ID)"),React.createElement("div",null,null==P?void 0:P.botId)),(null==P||null===(n=P.extra)||void 0===n?void 0:n.context)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Context"),React.createElement("div",null,null==P||null===(r=P.extra)||void 0===r?void 0:r.context)),(null==P||null===(a=P.extra)||void 0===a?void 0:a.assistantId)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Assistant ID"),React.createElement("div",null,null==P||null===(o=P.extra)||void 0===o?void 0:o.assistantId)),(null==P||null===(i=P.extra)||void 0===i?void 0:i.threadId)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Thread ID"),React.createElement("div",null,null==P||null===(l=P.extra)||void 0===l?void 0:l.threadId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Chat ID"),React.createElement("div",null,null==P?void 0:P.chatId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Session"),React.createElement("div",null,null==P||null===(c=P.extra)||void 0===c?void 0:c.session)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Created"),React.createElement("div",null,null==P?void 0:P.created)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Updated"),React.createElement("div",null,null==P?void 0:P.updated))))))};var Fa,Ba,Ua;function Ha(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Za=G.ZP.div(Fa||(Fa=Ha(["\n&nbsp; background: white;\n&nbsp; padding: 15px;\n&nbsp; border-radius: 5px;\n\n&nbsp; h2 {\n&nbsp; &nbsp; margin-bottom: 8px;\n&nbsp; }\n&nbsp; \n&nbsp; h2:first-child, h3:first-child {\n&nbsp; &nbsp; margin-top: 0;\n&nbsp; }\n\n&nbsp; label {\n&nbsp; &nbsp; display: block;\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; label {\n&nbsp; &nbsp; margin-top: 10px;\n&nbsp; }\n\n&nbsp; ul {\n&nbsp; &nbsp; margin: 20px 0 0 0;\n&nbsp; }\n\n&nbsp; li {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; border: 1px solid #e5e5e5;\n&nbsp; &nbsp; padding: 8px;\n&nbsp; &nbsp; background: #f5f5f5;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; &nbsp; position: relative;\n\n&nbsp; &nbsp; &amp;:last-child {\n&nbsp; &nbsp; &nbsp; margin-bottom: 0;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; &amp;:hover {\n&nbsp; &nbsp; &nbsp; background: #e5e5e5;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; &amp;.active {\n&nbsp; &nbsp; &nbsp; background: #007cba;\n&nbsp; &nbsp; &nbsp; color: white;\n&nbsp; &nbsp; &nbsp; border-color: #007cba;\n\n&nbsp; &nbsp; &nbsp; &amp;.modified {\n&nbsp; &nbsp; &nbsp; &nbsp; background: #ff8c00;\n&nbsp; &nbsp; &nbsp; &nbsp; border-color: #ff8c00;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .information {\n&nbsp; &nbsp; color: #a3a3a3;\n&nbsp; &nbsp; margin-top: 5px;\n&nbsp; &nbsp; font-size: 12px;\n&nbsp; &nbsp; line-height: 100%;\n&nbsp; }\n"]))),Va=(0,G.ZP)(we.A)(Ba||(Ba=Ha(["\n&nbsp; flex: auto !important;\n\n&nbsp; input {\n&nbsp; &nbsp; height: 50px !important;\n&nbsp; &nbsp; font-size: 13px !important;\n&nbsp; &nbsp; font-family: monospace !important;\n&nbsp; &nbsp; padding: 20px !important;\n&nbsp; &nbsp; border-color: #333d4e !important;\n&nbsp; &nbsp; background: #333d4e !important;\n&nbsp; &nbsp; color: white !important;\n&nbsp; }\n"]))),Ya=G.ZP.div(Ua||(Ua=Ha(["\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 3px;\n&nbsp; }\n\n&nbsp; .mwai-builder-row {\n&nbsp; &nbsp; margin-top: 10px;\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: row;\n\n&nbsp; &nbsp; .neko-color-picker {\n&nbsp; &nbsp; &nbsp; margin-left: 5px;\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .mwai-builder-col {\n&nbsp; &nbsp; flex: 1;\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; &nbsp; margin-right: 5px;\n&nbsp; }\n\n&nbsp; .mwai-builder-col:last-child {\n&nbsp; &nbsp; margin-right: 0;\n&nbsp; }\n\n&nbsp; pre {\n&nbsp; &nbsp; white-space: pre-wrap;\n&nbsp; &nbsp; background: #d4f0ff;\n&nbsp; &nbsp; color: #037cba;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; font-weight: bold;\n&nbsp; &nbsp; margin: 10px 0 10px 0;\n&nbsp; }\n\n&nbsp; .neko-spacer {\n&nbsp; &nbsp; margin-bottom: 0 !important;\n&nbsp; }\n\n&nbsp; .neko-input {\n&nbsp; }\n\n&nbsp; .nui-select-option {\n&nbsp; }\n\n\n"]))),za=["model","maxTokens","onRecommendedClick"];var Wa=wp.element.useMemo;const qa=function(e){var t=e.model,n=e.maxTokens,r=e.onRecommendedClick,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,za),o=null==t?void 0:t.maxContextualTokens,i=null==t?void 0:t.maxCompletionTokens,l=null==t?void 0:t.maxTokens,c=!!r;n=Math.floor(parseInt(n),0);var u=Wa((function(){return t?i||(o?Math.floor(o/2):l?Math.floor(l/2):null):null}),[i,o,l]),s=Wa((function(){return t?u===n?"var(--neko-green)":n&gt;i?"var(--neko-red)":"var(--neko-yellow)":null}),[i,n,u]);return React.createElement("span",a,!(null==t||!t.maxContextualTokens)&amp;&amp;React.createElement(React.Fragment,null,"Contextual: ",null==t?void 0:t.maxContextualTokens,React.createElement("br",null)),!(null==t||!t.maxCompletionTokens)&amp;&amp;React.createElement(React.Fragment,null,"Completion: ",null==t?void 0:t.maxCompletionTokens,React.createElement("br",null)),!(null!=t&amp;&amp;t.maxCompletionTokens)&amp;&amp;!(null==t||!t.maxTokens)&amp;&amp;React.createElement(React.Fragment,null,"Total Max Tokens: ",null==t?void 0:t.maxTokens,React.createElement("br",null)),!!u&amp;&amp;React.createElement(React.Fragment,null,"Recommended: ",React.createElement("b",{onClick:c?function(){return r(u)}:null,style:{color:s,cursor:c?"pointer":"inherit"}},u,n&gt;i&amp;&amp;React.createElement(React.Fragment,null,"❗️")),React.createElement("br",null)))};function Xa(e){return Xa="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Xa(e)}var Qa,Ka=["currentChatbot","isCustom","defaultChatbot"];function Ja(){Ja=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Xa(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xa(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function $a(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var no=wp.element,ro=no.useState,ao=no.useEffect,oo=G.ZP.div(Qa||(Qa=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; pre {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; align-items: center;\n&nbsp; &nbsp; background: #f8fcff;\n&nbsp; &nbsp; color: #779bb8;\n&nbsp; &nbsp; margin: 0px;\n&nbsp; &nbsp; padding: 3px 8px;\n&nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; border: 2px solid rgb(210 228 243);\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; font-family: system-ui;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; &nbsp; font-weight: 500;\n&nbsp; }\n\n&nbsp; .mwai-name {\n&nbsp; &nbsp; font-style: italic;\n&nbsp; }\n\n&nbsp; .mwai-value {\n&nbsp; &nbsp; color: var(--neko-green);\n&nbsp; }\n"])));const io=function(e){var t=e.currentChatbot,n=e.isCustom,r=void 0!==n&amp;&amp;n,a=e.defaultChatbot,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,Ka),i=eo(ro(null),2),l=i[0],c=i[1],u=eo(ro(""),2),s=u[0],f=u[1],d=eo(ro(""),2),m=d[0],p=d[1];ao((function(){if(!t)return f(null),void p(null);var e,n=[];if(r){for(var o in t)if(!(void 0===t[o]||null===t[o]||"botId"===o||"name"===o||"maxMessages"===o||""===t[o]||a&amp;&amp;a[o]===t[o])){var i=t[o];i&amp;&amp;"string"==typeof i&amp;&amp;i.includes('"')&amp;&amp;(i=i.replace(/"/g,"'")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("\n")&amp;&amp;(i=i.replace(/\n/g,"\\n")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("[")&amp;&amp;(i=i.replace(/\[/g,"&amp;#91;")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("]")&amp;&amp;(i=i.replace(/\]/g,"&amp;#93;"));var l=o.replace(/([A-Z])/g,(function(e){return"_".concat(e.toLowerCase())}));n.push("".concat(l,'="').concat(i,'"'))}e="[mwai_chatbot"+(n.length?" ".concat(n.join(" ")):"")+"]"}else{var c,u=null!==(c=t.botId)&amp;&amp;void 0!==c?c:"default";n.push('id="'.concat(u,'"')),e='[mwai_chatbot id="'.concat(u,'"]')}var s=React.createElement("span",null,"[mwai_chatbot ",n.map((function(e,t){var r=eo(e.split("="),2),a=r[0],o=r[1];return React.createElement("span",{key:t},React.createElement("span",{className:"mwai-name"},a),"=",React.createElement("span",{className:"mwai-value"},o),t&lt;n.length-1?" ":"")})),"]");f(s),p(e)}),[t,r]);var h=function(){var e,t=(e=Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=3;break}return alert("Clipboard is not enabled (only works with https)."),e.abrupt("return");case 3:return e.next=5,navigator.clipboard.writeText(m);case 5:c("Copied!"),setTimeout((function(){c(null)}),2e3);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$a(o,r,a,i,l,"next",e)}function l(e){$a(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return t?React.createElement(oo,o,React.createElement("pre",{onClick:h},!l&amp;&amp;s,l&amp;&amp;React.createElement("span",null,l))):null};var lo=wp.element,co=lo.useMemo,uo=lo.useEffect,so=["chat-openai.svg","chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"];const fo=function(e){var t,n,r,a,o,i,l,c=e.themes,u=e.shortcodeParams,s=e.updateShortcodeParams,f=e.defaultChatbot,d=e.deleteCurrentChatbot,m=e.resetCurrentChatbot,p=e.duplicateCurrentChatbot,y=e.options,v=lt(y,u.envId||null),b=v.completionModels,w=v.imageModels,x=v.isFineTunedModel,O=v.getModel,S=null!==(t="chat"===u.mode)&amp;&amp;void 0!==t?t:"chat",T=null!==(n="assistant"===u.mode)&amp;&amp;void 0!==n&amp;&amp;n,_=null!==(r="images"===u.mode)&amp;&amp;void 0!==r&amp;&amp;r,C=u.contentAware,L=u.context&amp;&amp;u.context.includes("{CONTENT}"),k=u.icon?u.icon:"chat-color-green.svg",A=(null==k?void 0:k.startsWith("https://"))||(null==k?void 0:k.startsWith("http://")),j=A?k:"".concat(N,"/images/").concat(k),P=(null==y?void 0:y.ai_envs)||[],M=co((function(){return P.find((function(e){return e.id===u.envId}))||null}),[P,u.envId]),D=(null==M?void 0:M.assistants)||[],G=co((function(){return D.find((function(e){return e.id===u.assistantId}))||null}),[D,u.assistantId]),F=(x(u.model),O(G?G.model:u.model)),B=y.embeddings_envs||[],U=co((function(){return B.find((function(e){return e.id===u.embeddingsEnvId}))||null}),[B,u.embeddingsEnvId]),H=co((function(){return(null==U?void 0:U.indexes)||[]}),[U]),Z=co((function(){return(null==U?void 0:U.namespaces)||[]}),[U]);return uo((function(){var e,t,n,r;if(!U&amp;&amp;u.embeddingsIndex&amp;&amp;s(null,"embeddingsIndex"),!U&amp;&amp;u.embeddingsNamespace&amp;&amp;s(null,"embeddingsNamespace"),null!=F&amp;&amp;null!==(e=F.tags)&amp;&amp;void 0!==e&amp;&amp;e.includes("image")&amp;&amp;!u.resolution){var a=F.options.map((function(e){return e.option})),o=a.includes("1024x1024")?"1024x1024":a[0];s(o,"resolution")}null!=F&amp;&amp;null!==(t=F.tags)&amp;&amp;void 0!==t&amp;&amp;t.includes("image")||!u.resolution||s(null,"resolution"),null!=F&amp;&amp;null!==(n=F.tags)&amp;&amp;void 0!==n&amp;&amp;n.includes("image")&amp;&amp;S&amp;&amp;s(null,"model"),T&amp;&amp;u.model&amp;&amp;s(null,"model"),!T&amp;&amp;u.assistantId&amp;&amp;s(null,"assistantId"),!u.imageUpload||null!=F&amp;&amp;null!==(r=F.tags)&amp;&amp;void 0!==r&amp;&amp;r.includes("vision")||s(null,"imageUpload"),u.fileUpload&amp;&amp;!T&amp;&amp;s(null,"fileUpload"),u.model&amp;&amp;!u.envId&amp;&amp;s(null,"model"),u.envId&amp;&amp;!M&amp;&amp;s(null,"envId")}),[u]),uo((function(){"gcp-starter"===(null==U?void 0:U.server)&amp;&amp;u.embeddingsNamespace&amp;&amp;s(null,"embeddingsNamespace")}),[U]),React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(Ya,null,React.createElement(Se.F,{keepState:"chatbotParams"},React.createElement(Se.L,{title:He.COMMON.CHATBOT},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(we.A,{name:"name","data-form-type":"other",disabled:"default"===u.botId,value:u.name,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(we.A,{name:"botId",type:"text",placeholder:"Optional",disabled:"default"===u.botId,value:u.botId,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.LOCAL_MEMORY,":"),React.createElement(h.P,{name:"localMemory",label:"Yes",checked:u.localMemory,value:"1",onChange:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===u.mode?76:"inherit"}},React.createElement("label",null,He.COMMON.MODE,":"),React.createElement(Ee.N,{scrolldown:!0,id:"mode",name:"mode",value:u.mode,onChange:s},React.createElement(Ee.Z,{value:"chat",label:"Chat"}),React.createElement(Ee.Z,{value:"assistant",label:"Assistant",isPro:!0,requirePro:!I}),React.createElement(Ee.Z,{value:"images",label:"Images"}))),S&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(Dt.l,{name:"context",rows:10,textAreaStyle:{resize:"none"},value:u.context,onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.POPUP_SETTINGS,hide:!u.window},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.POSITION,":"),React.createElement(Ee.N,{scrolldown:!0,name:"iconPosition",disabled:!u.window,value:u.iconPosition,onChange:s},React.createElement(Ee.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(Ee.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(Ee.Z,{value:"top-right",label:"Top Right"}),React.createElement(Ee.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ICON_TEXT,":"),React.createElement(we.A,{name:"iconText",disabled:!u.window,placeholder:"If set, appears next to icon",value:u.iconText,onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.AI_MODEL},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(Ee.N,{scrolldown:!0,name:"envId",value:null!==(a=u.envId)&amp;&amp;void 0!==a?a:"",onChange:s},P.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"Default"}))),(S||_)&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(Ee.N,{scrolldown:!0,name:"model",value:u.model,onChange:s},React.createElement(Ee.Z,{value:"",label:"Default"}),(null!==(o=_?w:b)&amp;&amp;void 0!==o?o:[]).map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),T&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ASSISTANT,":"),React.createElement(Ee.N,{scrolldown:!0,name:"assistantId",value:u.assistantId,onChange:s},React.createElement(Ee.Z,{value:"",label:"None"}),D.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})))),(null==F||null===(i=F.tags)||void 0===i?void 0:i.includes("image"))&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.RESOLUTION,":"),React.createElement(Ee.N,{scrolldown:!0,name:"resolution",value:u.resolution,onChange:s},F.options.map((function(e){return React.createElement(Ee.Z,{key:e.option,value:e.option,label:e.option})})))),(null==F||null===(l=F.tags)||void 0===l?void 0:l.includes("vision"))&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.VISION,":"),React.createElement(h.P,{name:"imageUpload",label:He.COMMON.ENABLE,checked:u.imageUpload,value:"1",onChange:s})),T&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FILE_UPLOAD,":"),React.createElement(Ee.N,{scrolldown:!0,name:"fileUpload",value:u.fileUpload,onChange:s},React.createElement(Ee.Z,{value:"",label:"None"}),React.createElement(Ee.Z,{value:"discussion",label:"For Discussion"})))),S&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:u.temperature,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",type:"number",description:React.createElement(qa,{model:F,maxTokens:u.maxTokens,onRecommendedClick:function(e){s(e,"maxTokens")},style:{fontSize:11,lineHeight:"8px"}}),value:u.maxTokens,onBlur:s,onEnter:s})))),(S||T)&amp;&amp;React.createElement(Se.L,{title:He.COMMON.CONTEXT},React.createElement("div",{style:{marginTop:15,fontWeight:"bold"}},He.COMMON.EMBEDDINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_ENV,":"),React.createElement(Ee.N,{scrolldown:!0,name:"embeddingsEnvId",requirePro:!0,isPro:I,disabled:!(null!=B&amp;&amp;B.length),value:u.embeddingsEnvId,onChange:s},B.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"None"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(Ee.N,{scrolldown:!0,name:"embeddingsIndex",requirePro:!0,isPro:I,disabled:!(null!=H&amp;&amp;H.length),value:u.embeddingsIndex,onChange:s},H.map((function(e){return React.createElement(Ee.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"None"}))),u.embeddingsEnvId&amp;&amp;"pinecone"===(null==U?void 0:U.type)&amp;&amp;React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAMESPACE,":"),React.createElement(Ee.N,{scrolldown:!0,name:"embeddingsNamespace",requirePro:!0,isPro:I,disabled:!(null!=H&amp;&amp;H.length),value:u.embeddingsNamespace,onChange:s},Z.map((function(e){return React.createElement(Ee.Z,{key:e,value:e,label:e})})),React.createElement(Ee.Z,{value:"",label:"None"})))),React.createElement("div",{style:{marginTop:15,fontWeight:"bold"}},He.COMMON.OTHERS),S&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"contentAware",label:"Yes",requirePro:!0,isPro:I,checked:u.contentAware,value:"1",onChange:s}))),C&amp;&amp;!L&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(He.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT)))),React.createElement(Se.L,{title:He.COMMON.THRESHOLDS},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.INPUT_MAX_LENGTH,":"),React.createElement(we.A,{name:"textInputMaxLength",type:"number",description:He.HELP.INPUT_MAX_LENGTH,step:"1",min:"8",max:"4096",value:u.textInputMaxLength,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_MESSAGES,":"),React.createElement(we.A,{name:"maxMessages",type:"number",description:He.HELP.MAX_MESSAGES,step:"1",min:"1",max:"512",value:u.maxMessages,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.CONTEXT_MAX_LENGTH,":"),React.createElement(we.A,{name:"contextMaxLength",type:"number",step:"1",description:He.HELP.CONTEXT_MAX_LENGTH,value:u.contextMaxLength||(null==y?void 0:y.context_max_length),onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.APPEARANCE},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.THEME,":"),React.createElement(Ee.N,{scrolldown:!0,name:"themeId",value:u.themeId,description:"",onChange:s},React.createElement(Ee.Z,{value:"none",label:"None"}),React.createElement(Ee.Z,{value:"chatgpt",label:"ChatGPT"}),React.createElement(Ee.Z,{value:"messages",label:"Messages (iOS)"}),null==c?void 0:c.filter((function(e){return"css"===e.type})).map((function(e){return React.createElement(Ee.Z,{key:e.themeId,value:e.themeId,label:e.name})}))))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.AI_NAME,":"),React.createElement(we.A,{name:"aiName","data-form-type":"other",value:u.aiName,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.START_SENTENCE,":"),React.createElement(we.A,{name:"startSentence",value:u.startSentence,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.USER_NAME,":"),React.createElement(we.A,{name:"userName","data-form-type":"other",value:u.userName,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.PLACEHOLDER,":"),React.createElement(we.A,{name:"textInputPlaceholder",value:u.textInputPlaceholder,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.SEND,":"),React.createElement(we.A,{name:"textSend",value:u.textSend,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.CLEAR,":"),React.createElement(we.A,{name:"textClear",value:u.textClear,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.COPY_BUTTON,":"),React.createElement(h.P,{name:"copyButton",label:"Yes",checked:u.copyButton,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:u.window,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:u.fullscreen,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.COMPLIANCE_TEXT,":"),React.createElement(we.A,{name:"textCompliance",value:u.textCompliance,onBlur:s,onEnter:s}))),(u.window||!u.aiName)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{marginTop:10,border:"2px solid #d2e4f3",borderRadius:8,padding:"10px 10px 10px 10px",background:"#f5fcff"}},React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.AI_AVATAR,":"),React.createElement("div",{style:{display:"flex"}},so.map((function(e){return React.createElement("img",{key:e,style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(N,"/images/").concat(e),onClick:function(){s(e,"icon")}})})),React.createElement(E._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){s("".concat(N,"/images/chat-color-green.svg"),"icon")}},He.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:0},width:48,height:48,src:"".concat(j)}))),A&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CUSTOM_ICON_URL,":"),React.createElement(we.A,{name:"icon",value:k,onBlur:s,onEnter:s})))))),React.createElement(Se.L,{title:He.COMMON.SHORTCODES},React.createElement(io,{currentChatbot:u,style:{marginTop:10}}),React.createElement("p",null,He.HELP.CUSTOM_SHORTCODE),React.createElement(io,{currentChatbot:u,isCustom:!0,defaultChatbot:f,style:{marginTop:10}})),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"primary",onClick:p},He.COMMON.DUPLICATE),React.createElement(E._,{className:"secondary",onClick:m},He.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"Default"===u.name,onClick:d},He.COMMON.DELETE))))))))};var mo,po=n(5651);function ho(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var vo=wp.element,go=vo.useState,bo=vo.useEffect,Eo=vo.useRef,wo=vo.useCallback,Ro=G.ZP.div(mo||(mo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; position: relative;\n\n&nbsp; .swatch {\n&nbsp; &nbsp; width: 24px;\n&nbsp; &nbsp; height: 24px;\n&nbsp; &nbsp; border: 3px solid #fff;\n&nbsp; &nbsp; box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; }\n&nbsp; \n&nbsp; .popover {\n&nbsp; &nbsp; position: absolute;\n&nbsp; &nbsp; top: -210px;\n&nbsp; &nbsp; left: -80px;\n&nbsp; &nbsp; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n&nbsp; &nbsp; z-index: 9999;\n&nbsp; &nbsp; border-radius: 8px;\n&nbsp; }\n"]))),xo=function(e){var t=e.name,n=e.value,r=e.onChange,a=Eo(),o=ho(go(!1),2),i=o[0],l=o[1],c=ho(go(n),2),u=c[0],s=c[1];bo((function(){s(n)}),[n]);var f,d,m=wo((function(){u!==n&amp;&amp;r(u,t),l(!1)}),[u,n]);return bo((function(){var e=!1,t=!1,n=function(n){!e&amp;&amp;t&amp;&amp;f.current&amp;&amp;!f.current.contains(n.target)&amp;&amp;d(n)},r=function(n){t=f.current,e=f.current&amp;&amp;f.current.contains(n.target)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("click",n),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("click",n)}}),[f=a,d=m]),React.createElement(Ro,{className:"neko-color-picker"},React.createElement("div",{className:"swatch",style:{backgroundColor:u},onClick:function(){return l(!0)}}),i&amp;&amp;React.createElement("div",{className:"popover",ref:a,style:{background:"white"}},React.createElement(po.gW,{color:u,onChange:s}),React.createElement("div",{style:{display:"flex",padding:5}},React.createElement(E._,{style:{flex:1},onClick:function(){return r(u,t)}},"Apply"))))};const Oo=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E=e.settings,w=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(Ya,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(we.A,{id:"spacing",name:"spacing",value:null!==(t=null==E?void 0:E.spacing)&amp;&amp;void 0!==t?t:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(we.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==E?void 0:E.borderRadius)&amp;&amp;void 0!==n?n:"10px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(we.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==E?void 0:E.fontSize)&amp;&amp;void 0!==r?r:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==E?void 0:E.fontColor)&amp;&amp;void 0!==a?a:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(xo,{id:"fontColor",name:"fontColor",value:null!==(o=null==E?void 0:E.fontColor)&amp;&amp;void 0!==o?o:"#FFFFFF",onChange:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==E?void 0:E.backgroundPrimaryColor)&amp;&amp;void 0!==i?i:"#454654",onBlur:w,onEnter:w}),React.createElement(xo,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==E?void 0:E.backgroundPrimaryColor)&amp;&amp;void 0!==l?l:"#454654",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",style:{flex:1},value:null!==(c=null==E?void 0:E.backgroundSecondaryColor)&amp;&amp;void 0!==c?c:"#343541",onBlur:w,onEnter:w}),React.createElement(xo,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(u=null==E?void 0:E.backgroundSecondaryColor)&amp;&amp;void 0!==u?u:"#343541",onChange:w,onEnter:w})))),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(we.A,{id:"width",name:"width",value:null!==(s=null==E?void 0:E.width)&amp;&amp;void 0!==s?s:"460px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(we.A,{id:"maxHeight",name:"maxHeight",value:null!==(f=null==E?void 0:E.maxHeight)&amp;&amp;void 0!==f?f:"40vh",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(d=null==E?void 0:E.iconTextBackgroundColor)&amp;&amp;void 0!==d?d:"#343541",onBlur:w,onEnter:w}),React.createElement(xo,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(m=null==E?void 0:E.iconTextBackgroundColor)&amp;&amp;void 0!==m?m:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(p=null==E?void 0:E.iconTextColor)&amp;&amp;void 0!==p?p:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(xo,{id:"iconTextColor",name:"iconTextColor",value:null!==(h=null==E?void 0:E.iconTextColor)&amp;&amp;void 0!==h?h:"#FFFFFF",onChange:w,onEnter:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(y=null==E?void 0:E.backgroundHeaderColor)&amp;&amp;void 0!==y?y:"#343541",onBlur:w,onEnter:w}),React.createElement(xo,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(v=null==E?void 0:E.backgroundHeaderColor)&amp;&amp;void 0!==v?v:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(g=null==E?void 0:E.headerButtonsColor)&amp;&amp;void 0!==g?g:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(xo,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(b=null==E?void 0:E.headerButtonsColor)&amp;&amp;void 0!==b?b:"#FFFFFF",onChange:w,onEnter:w}))))))};function So(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var To=wp.element,No=To.useMemo,_o=To.useState,Co=To.useEffect;const Io=function(e){var t,n,r=e.theme,a=e.onUpdateTheme,o=(t=_o(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return So(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?So(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];Co((function(){l(r.style)}),[r]);var c=No((function(){return i!==r.style}),[i,r]);return React.createElement(Ya,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(we.A,{name:"name","data-form-type":"other",value:r.name,onBlur:a,onEnter:a})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(we.A,{name:"themeId",type:"text",placeholder:"Optional",value:r.themeId,onBlur:a,onEnter:a})))),React.createElement(xe.i,null),React.createElement("label",null,"Custom CSS:"),React.createElement(Dt.l,{name:"css",value:i,onChange:l,rows:16,tabToSpaces:2}),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{fullWidth:!0,onClick:function(){l(".mwai-chat {\n&nbsp; --mwai-spacing: 10px;\n&nbsp; --mwai-fontSize: 13px;\n&nbsp; --mwai-fontColor: black;\n&nbsp; --mwai-backgroundPrimaryColor: white;\n&nbsp; --mwai-primaryColor: #0084ff;\n&nbsp; --mwai-secondaryColor: #f0f0f0;\n}\n\n.mwai-chat * {\n&nbsp; box-sizing: border-box;\n}\n\n.mwai-content {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n}\n\n.mwai-conversation {\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; overflow: auto;\n}\n\n.mwai-conversation .mwai-reply {\n&nbsp; margin-bottom: var(--mwai-spacing);\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 15px;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; min-width: 30%;\n}\n\n.mwai-conversation .mwai-reply *:first-child {\n&nbsp; margin-top: 0px;\n}\n\n.mwai-conversation .mwai-reply *:last-child {\n&nbsp; margin-bottom: 0px;\n}\n\n.mwai-conversation .mwai-reply.mwai-ai {\n&nbsp; align-self: flex-start;\n&nbsp; background: var(--mwai-secondaryColor);\n}\n\n.mwai-conversation .mwai-reply.mwai-user {\n&nbsp; align-self: flex-end;\n&nbsp; background: var(--mwai-primaryColor);\n&nbsp; color: white;\n}\n\n.mwai-conversation .mwai-avatar img {\n&nbsp; width: 24px;\n&nbsp; border-radius: 5px;\n}\n\n.mwai-conversation .mwai-reply.mwai-user .mwai-avatar {\n&nbsp; text-align: right;\n}\n\n.mwai-input {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.mwai-input textarea {\n&nbsp; flex: auto;\n&nbsp; padding: 5px 10px;\n&nbsp; height: 32px;\n&nbsp; font-family: inherit;\n}\n\n.mwai-input button {\n&nbsp; margin-left: var(--mwai-spacing);\n&nbsp; padding: 5px 15px;\n&nbsp; background-color: #0084ff;\n&nbsp; color: white;\n&nbsp; border: none;\n&nbsp; border-radius: 5px;\n&nbsp; cursor: pointer;\n&nbsp; height: 32px;\n&nbsp; width: 110px;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.mwai-input button:hover {\n&nbsp; filter: brightness(1.2);\n}\n\n.mwai-compliance {\n&nbsp; margin-top: 5px;\n&nbsp; font-size: 12px;\n}\n\n.mwai-chat.mwai-window {\n&nbsp; position: fixed;\n&nbsp; right: 15px;\n&nbsp; bottom: 15px;\n&nbsp; width: 400px;\n&nbsp; z-index: 9999;\n}\n\n.mwai-chat.mwai-window .mwai-header {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; margin-bottom: 5px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; opacity: 0.75;\n&nbsp; border: 2px solid black;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button {\n&nbsp; margin-left: 5px;\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before, .mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 2px;\n&nbsp; background: black;\n&nbsp; opacity: 0.75;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-content {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: 40vh;\noverflow: hidden;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.mwai-chat .mwai-open-button {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n&nbsp; cursor: pointer;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left .mwai-open-button {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.mwai-chat.mwai-window.mwai-top-right {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-right .mwai-open-button {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.mwai-chat.mwai-window.mwai-top-left {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-left .mwai-open-button {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.mwai-chat .mwai-gallery {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.mwai-chat .mwai-gallery img {\n&nbsp; width: 100%;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons {\n&nbsp; margin-bottom: 0px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-close-button {\n&nbsp; margin-left: -5px;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window), .mwai-chat.mwai-fullscreen.mwai-window.mwai-open {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n&nbsp; border-radius: inherit;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content .mwai-conversation, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content .mwai-conversation {\n&nbsp; flex: auto;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-header {\n&nbsp; display: flex;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-content {\n&nbsp; display: block;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-open-button {\n&nbsp; display: none;\n}")}},"Default CSS"),React.createElement(E._,{fullWidth:!0,onClick:function(){a(i,"style")},disabled:!c},"Apply CSS")))},Lo=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E,w,R,x,O=e.settings,S=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(Ya,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(we.A,{id:"spacing",name:"spacing",value:null!==(t=null==O?void 0:O.spacing)&amp;&amp;void 0!==t?t:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(we.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==O?void 0:O.borderRadius)&amp;&amp;void 0!==n?n:"10px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(we.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==O?void 0:O.fontSize)&amp;&amp;void 0!==r?r:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==O?void 0:O.fontColor)&amp;&amp;void 0!==a?a:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(xo,{id:"fontColor",name:"fontColor",value:null!==(o=null==O?void 0:O.fontColor)&amp;&amp;void 0!==o?o:"#FFFFFF",onChange:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==O?void 0:O.backgroundPrimaryColor)&amp;&amp;void 0!==i?i:"#fafafa",onBlur:S,onEnter:S}),React.createElement(xo,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==O?void 0:O.backgroundPrimaryColor)&amp;&amp;void 0!==l?l:"#fafafa",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_USER_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundUserColor",name:"backgroundUserColor",style:{flex:1},value:null!==(c=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==c?c:"#0084ff",onBlur:S,onEnter:S}),React.createElement(xo,{id:"backgroundUserColor",name:"backgroundUserColor",value:null!==(u=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==u?u:"#0084ff",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_AI_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundAiColor",name:"backgroundAiColor",style:{flex:1},value:null!==(s=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==s?s:"#eee",onBlur:S,onEnter:S}),React.createElement(xo,{id:"backgroundAiColor",name:"backgroundAiColor",value:null!==(f=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==f?f:"#eee",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_AI_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",style:{flex:1},value:null!==(d=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==d?d:"#ddd",onBlur:S,onEnter:S}),React.createElement(xo,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",value:null!==(m=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==m?m:"#ddd",onChange:S,onEnter:S})))),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(we.A,{id:"width",name:"width",value:null!==(p=null==O?void 0:O.width)&amp;&amp;void 0!==p?p:"460px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(we.A,{id:"maxHeight",name:"maxHeight",value:null!==(h=null==O?void 0:O.maxHeight)&amp;&amp;void 0!==h?h:"40vh",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(y=null==O?void 0:O.iconTextBackgroundColor)&amp;&amp;void 0!==y?y:"#343541",onBlur:S,onEnter:S}),React.createElement(xo,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(v=null==O?void 0:O.iconTextBackgroundColor)&amp;&amp;void 0!==v?v:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(g=null==O?void 0:O.iconTextColor)&amp;&amp;void 0!==g?g:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(xo,{id:"iconTextColor",name:"iconTextColor",value:null!==(b=null==O?void 0:O.iconTextColor)&amp;&amp;void 0!==b?b:"#FFFFFF",onChange:S,onEnter:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(E=null==O?void 0:O.backgroundHeaderColor)&amp;&amp;void 0!==E?E:"#343541",onBlur:S,onEnter:S}),React.createElement(xo,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(w=null==O?void 0:O.backgroundHeaderColor)&amp;&amp;void 0!==w?w:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(we.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(R=null==O?void 0:O.headerButtonsColor)&amp;&amp;void 0!==R?R:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(xo,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(x=null==O?void 0:O.headerButtonsColor)&amp;&amp;void 0!==x?x:"#FFFFFF",onChange:S,onEnter:S}))))))};function ko(e){return ko="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach((function(t){Po(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ko(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ko(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Mo=function(e){var t,n,r=e.theme,a=e.updateTheme,o=e.resetTheme,i=e.deleteTheme,l=function(e,t){var n=jo(jo({},r.settings),{},Po({},t,e));a(n,"settings")};return React.createElement(React.Fragment,null,"internal"===r.type&amp;&amp;"chatgpt"===r.themeId&amp;&amp;React.createElement(Oo,{settings:null!==(t=r.settings)&amp;&amp;void 0!==t?t:[],onUpdateSettings:l}),"internal"===r.type&amp;&amp;"messages"===r.themeId&amp;&amp;React.createElement(Lo,{settings:null!==(n=r.settings)&amp;&amp;void 0!==n?n:[],onUpdateSettings:l}),"internal"!==r.type&amp;&amp;React.createElement(Io,{theme:r,onUpdateTheme:a}),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.ACTIONS}),React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"secondary",onClick:function(){o()}},He.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"internal"===r.type,onClick:i},He.COMMON.DELETE)))};function Do(e){return Do="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Do(e)}function Go(){Go=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Do(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Do(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Fo(e){return function(e){if(Array.isArray(e))return zo(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bo(Object(n),!0).forEach((function(t){Ho(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ho(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Do(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Do(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zo(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Vo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Zo(o,r,a,i,l,"next",e)}function l(e){Zo(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Yo(e,t){if(e){if("string"==typeof e)return zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zo(e,t):void 0}}function zo(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Wo=wp.element.useState;const qo=function(e){var t,n,r=(0,u.NL)(),a=e.onSwitchTheme,o=void 0===a?function(){}:a,i=(t=Wo(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||Yo(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],s=(0,Ne.a)({queryKey:["themes"],queryFn:ln,initialData:j}).data,f=e.currentTheme,d=function(){var e=Vo(Go().mark((function e(t,n){var a,o,i;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),a=Uo(Uo({},f),{},Ho({},n,t)),o=Fo(s),i=o.findIndex((function(e){return e.themeId===f.themeId})),o[i]=a,e.next=8,un(o);case 8:o=e.sent,r.setQueryData(["themes"],o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=Vo(Go().mark((function e(){var t;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,un([].concat(Fo(s),[{type:"css",name:"New Theme",themeId:"theme-"+vt(),settings:[],style:""}]));case 4:t=e.sent,r.setQueryData(["themes"],t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Vo(Go().mark((function e(){var t,n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Fo(s.filter((function(e){return e.themeId!==f.themeId}))),n=t[0],o(n.themeId),e.next=6,un(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Vo(Go().mark((function e(){var t,n;return Go().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Fo(s),n=t.findIndex((function(e){return e.themeId===f.themeId})),t[n]={type:t[n].type,name:t[n].name,themeId:t[n].themeId,settings:[],style:""},e.next=6,un(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(b.c,{inversed:!0,onChange:function(e,t){var n=s.find((function(e){return e.themeId===t.key}));n&amp;&amp;o(n.themeId)},currentTab:null==f?void 0:f.themeId,action:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary-block",icon:"plus",onClick:m}))},null==s?void 0:s.map((function(e){return React.createElement(b.P,{key:e.themeId,title:e.name,busy:l},React.createElement(Mo,{theme:e,updateTheme:d,resetTheme:h,deleteTheme:p}))}))))};var Xo=n(3379),Qo=n.n(Xo),Ko=n(7795),Jo=n.n(Ko),$o=n(569),ei=n.n($o),ti=n(3565),ni=n.n(ti),ri=n(9216),ai=n.n(ri),oi=n(4589),ii=n.n(oi),li=n(9815),ci={};ci.styleTagTransform=ii(),ci.setAttributes=ni(),ci.insert=ei().bind(null,"head"),ci.domAPI=Jo(),ci.insertStyleElement=ai(),Qo()(li.Z,ci);const ui=li.Z&amp;&amp;li.Z.locals?li.Z.locals:void 0;var si=n(402),fi={};fi.styleTagTransform=ii(),fi.setAttributes=ni(),fi.insert=ei().bind(null,"head"),fi.domAPI=Jo(),fi.insertStyleElement=ai(),Qo()(si.Z,fi);const di=si.Z&amp;&amp;si.Z.locals?si.Z.locals:void 0;function mi(e){return mi="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},mi(e)}var pi=["active","disabled","style"],hi=["onUploadFile","uploadedFile","disabled","style","type"];function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){wi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},Ei.apply(this,arguments)}function wi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==mi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}var xi=wp.element,Oi=xi.useState,Si=xi.useMemo,Ti=xi.useEffect,Ni=xi.useRef,_i=xi.useImperativeHandle,Ci=function(e){var t=e.active,n=e.disabled,r=(e.style,Ri(e,pi));return wi(wi(wi(wi(wi({display:"inline-block",width:"16px"},"display","flex"),"alignItems","center"),"justifyContent","center"),"animation",t?"pulse 2s infinite":""),"WebkitAnimation",t?"pulse 2s infinite":""),React.createElement("div",Ei({active:t?"true":"false",disabled:n},r),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",dangerouslySetInnerHTML:{__html:'&lt;path d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"/&gt;'}}))},Ii=React.forwardRef((function(e,t){var n=e.onUploadFile,r=e.uploadedFile,a=e.disabled,o=e.style,i=e.type,l=Ri(e,hi),c=Ni(),u=function(e){n(e)};return _i(t,(function(){return{handleExternalFile:u}})),React.createElement("div",Ei({disabled:a,onClick:function(){null!=r&amp;&amp;r.localFile?n(null):a||c.current.click()},onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),!a){var t=e.dataTransfer.files;if(t.length&gt;0){var r=t[0];n(r)}}},onDragOver:function(e){e.preventDefault()},style:bi({cursor:a?"default":"pointer"},o)},l),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:"vision"===i?'\n&lt;svg fill="none" viewBox="0 0 3335 3335" xmlns="http://www.w3.org/2000/svg"&gt;\n&lt;path d="m2834 0h-2333.9c-275.78 0-500.12 224.34-500.12 500.12v2333.9c0 275.78 224.34 500.12 500.12 500.12h2333.9c275.78 0 500.12-224.34 500.12-500.12v-2333.9c0-275.78-224.34-500.12-500.12-500.12z" fill="url(#c)"/&gt;\n&lt;path d="m2539 1961.5c-55.51 28-122.51 42.82-193.89 42.82-148.23 0-292.47-61.05-376.72-159.38l-349.69-406.35c-116.81-136.42-281.48-214.57-451.76-214.57-170.29 0-334.96 78.15-451.6 214.41l-715.34 833.69v561.82c0 275.78 224.34 500.11 500.12 500.11h2333.9c275.78 0 500.12-224.33 500.12-500.11v-1270l-795.11 397.55z" fill="url(#b)"/&gt;\n&lt;path d="m2333.9 1500.3c276.21 0 500.12-223.91 500.12-500.11 0-276.21-223.91-500.12-500.12-500.12-276.2 0-500.11 223.91-500.11 500.12 0 276.2 223.91 500.11 500.11 500.11z" fill="url(#a)"/&gt;\n&lt;defs&gt;\n&lt;linearGradient id="c" x2="3334.1" y1="1667" y2="1667" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#BBDEFB" offset="0"/&gt;\n&lt;stop stop-color="#64B5F6" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;linearGradient id="b" x2="3334.1" y1="2279.2" y2="2279.2" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#42A5F5" offset="0"/&gt;\n&lt;stop stop-color="#1E88E5" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;linearGradient id="a" x1="1833.8" x2="2834" y1="1000.2" y2="1000.2" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#42A5F5" offset="0"/&gt;\n&lt;stop stop-color="#1E88E5" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;/defs&gt;\n&lt;/svg&gt;\n':'\n&lt;?xml version="1.0" encoding="UTF-8"?&gt;\n&lt;svg fill="none" viewBox="0 0 3335 3335" xmlns="http://www.w3.org/2000/svg"&gt;\n&lt;path d="m2834 0h-2333.9c-275.78 0-500.12 224.34-500.12 500.12v2333.9c0 275.78 224.34 500.12 500.12 500.12h2333.9c275.78 0 500.12-224.34 500.12-500.12v-2333.9c0-275.78-224.34-500.12-500.12-500.12z" fill="url(#a)"/&gt;\n&lt;g clip-path="url(#b)" fill="#2A92EB"&gt;\n&lt;path d="m2766.1 567.92c-233.22-233.22-611.33-233.22-844.55-5e-3l-499.12 499.12c-241.24 241.25-218.91 625.64 0 844.55 36.65 36.66 77.21 66.55 120.04 91.1l91.1-91.1c59.75-59.75 38.72-129.61 37.64-180.02-13.11-9.29-25.87-19.34-37.64-31.12-112.34-112.32-117.39-304.89 0-422.27 17.43-17.44 488.53-488.53 499.11-499.11 116.44-116.45 305.83-116.45 422.27 0 116.45 116.45 116.45 305.83 0 422.27l-329.91 329.91c9.54 52.79 66.8 177.83 37.35 384.1 1.43-1.41 3.16-2.32 4.59-3.75l499.12-499.12c233.21-233.22 233.21-611.33 0-844.55z"/&gt;\n&lt;path d="m1950.3 1383.7c-36.66-36.66-77.22-66.55-120.04-91.1l-91.09 91.1c-59.76 59.75-38.73 129.6-37.66 180.01 13.13 9.3 25.88 19.34 37.66 31.12 112.33 112.34 117.38 304.89 0 422.28-17.48 17.47-527.6 527.59-537.8 537.79-116.45 116.45-305.83 116.45-422.28 0-116.45-116.44-116.45-305.83 0-422.27l368.6-368.6c-9.54-52.79-66.8-177.83-37.34-384.1-1.44 1.41-3.17 2.34-4.61 3.76l-537.79 537.81c-233.21 233.22-233.21 611.33 0 844.55 233.22 233.21 611.33 233.21 844.55 0l537.8-537.8c236.76-236.76 223.82-620.73 0-844.55z"/&gt;\n&lt;/g&gt;\n&lt;defs&gt;\n&lt;linearGradient id="a" x2="3334.1" y1="1667" y2="1667" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#BBDEFB" offset="0"/&gt;\n&lt;stop stop-color="#64B5F6" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;clipPath id="b"&gt;\n&lt;rect transform="translate(393 393)" width="2548" height="2548" fill="#fff"/&gt;\n&lt;/clipPath&gt;\n&lt;/defs&gt;\n&lt;/svg&gt;\n'}}),React.createElement("span",null,r.uploadProgress&amp;&amp;"".concat(Math.round(r.uploadProgress),"%")),React.createElement("input",{type:"file",ref:c,onChange:function(e){var t=e.target.files;if(t.length&gt;0){var r=t[0];n(r)}},style:{display:"none"}}))})),Li=function(e){return{modCss:Si((function(){return function(t,n){var r=ui;return e&amp;&amp;"none"!==e.themeId&amp;&amp;"css"!==e.type||(r=null),"messages"===(null==e?void 0:e.themeId)&amp;&amp;(r=di),Array.isArray(t)||(t=[t]),n&amp;&amp;Object.entries(n).forEach((function(e){var n=yi(e,2),r=n[0];n[1]&amp;&amp;t.push(r)})),t.map((function(t){var n;return r?r[t]?"".concat(t," ").concat(r[t]):(console.warn('The class name "'.concat(t,'" is not defined in the "').concat(null!==(n=null==e?void 0:e.themeId)&amp;&amp;void 0!==n?n:"N/A",'" theme.')),t):t})).join(" ")}}),[e])}};function ki(e){return 0===e.indexOf("http")}function Ai(e){return Ai="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Ai(e)}function ji(e,t){for(var n=0;n&lt;t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&amp;&amp;(r.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==Ai(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Ai(a)?a:String(a)),r)}var a}var Pi=new(function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;this.chatbots=[],this.filters={},this.actions={},e.instance=this,"undefined"!=typeof window&amp;&amp;(window.MwaiAPI=e.instance)}var t,n;return t=e,n=[{key:"getChatbot",value:function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:null;return e?this.chatbots.find((function(t){return t.botId===e||t.customId===e})):this.chatbots[0]}},{key:"addFilter",value:function(e,t){var n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:10;this.filters[e]||(this.filters[e]=[]),this.filters[e].push({callback:t,priority:n}),this.filters[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"applyFilters",value:function(e,t){for(var n=arguments.length,r=new Array(n&gt;2?n-2:0),a=2;a&lt;n;a++)r[a-2]=arguments[a];return this.filters[e]?this.filters[e].reduce((function(e,t){return t.callback.apply(t,[e].concat(r))}),t):t}},{key:"addAction",value:function(e,t){var n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:10;this.actions[e]||(this.actions[e]=[]),this.actions[e].push({callback:t,priority:n}),this.actions[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"doAction",value:function(e){for(var t=arguments.length,n=new Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];this.actions[e]&amp;&amp;this.actions[e].forEach((function(e){e.callback.apply(e,n)}))}}],n&amp;&amp;ji(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Mi=function(e,t,n){return Pi.applyFilters(e,t,n)};function Di(){Di=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Hi(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Hi(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Bi(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ui(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bi(o,r,a,i,l,"next",e)}function l(e){Bi(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Hi(e){return Hi="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Hi(e)}var Zi=wp.element,Vi=Zi.useMemo,Yi=Zi.useEffect,zi=Zi.useState,Wi=function(){var e=new WeakSet;return function(t,n){if("object"===Hi(n)&amp;&amp;null!==n){if(e.has(n))throw new Error("Circular reference found. Cancelled.",{key:t,value:n});e.add(n)}return n}};function qi(e,t){return Xi.apply(this,arguments)}function Xi(){return Xi=Ui(Di().mark((function e(t,n){var r,a,o,i,l,c,u,s,f,d,m,p,h,y,v=arguments;return Di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length&gt;2&amp;&amp;void 0!==v[2]?v[2]:null,n){e.next=14;break}return e.prev=2,e.next=5,t.json();case 5:return a=e.sent,r&amp;&amp;console.log("[".concat(r,"] IN: "),a),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),console.error("Could not parse the regular response.",{err:e.t0,data}),e.abrupt("return",{success:!1,message:"Could not parse the regular response."});case 14:o=t.body.getReader(),i=new TextDecoder("utf-8"),l="",c="";case 18:return e.next=21,o.read();case 21:if(u=e.sent,s=u.value,f=u.done,l+=i.decode(s,{stream:!0}),!f){e.next=27;break}return e.abrupt("break",68);case 27:d=l.split("\n"),m=0;case 29:if(!(m&lt;d.length-1)){e.next=65;break}if(0===d[m].indexOf("data: ")){e.next=32;break}return e.abrupt("continue",62);case 32:if("live"!==(p=JSON.parse(d[m].replace("data: ",""))).type){e.next=39;break}r&amp;&amp;console.log("[".concat(r," STREAM] LIVE: "),p),c+=p.data,n&amp;&amp;n(c,p.data),e.next=62;break;case 39:if("error"!==p.type){e.next=51;break}return e.prev=40,r&amp;&amp;console.error("[".concat(r," STREAM] ERROR: "),p.data),e.abrupt("return",{success:!1,message:p.data});case 45:return e.prev=45,e.t1=e.catch(40),console.error("Could not parse the 'error' stream.",{err:e.t1,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'error' stream."});case 49:e.next=62;break;case 51:if("end"!==p.type){e.next=62;break}return e.prev=52,h=JSON.parse(p.data),r&amp;&amp;console.log("[".concat(r," STREAM] END: "),h),e.abrupt("return",h);case 58:return e.prev=58,e.t2=e.catch(52),console.error("Could not parse the 'end' stream.",{err:e.t2,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'end' stream."});case 62:m++,e.next=29;break;case 65:l=d[d.length-1],e.next=18;break;case 68:return e.prev=68,y=JSON.parse(l),r&amp;&amp;console.log("[".concat(r," STREAM] IN: "),y),e.abrupt("return",y);case 74:return e.prev=74,e.t3=e.catch(68),console.error("Could not parse the buffer.",{err:e.t3,buffer:l}),e.abrupt("return",{success:!1,message:"Could not parse the buffer."});case 78:case"end":return e.stop()}}),e,null,[[2,10],[40,45],[52,58],[68,74]])}))),Xi.apply(this,arguments)}function Qi(e,t,n,r){return Ki.apply(this,arguments)}function Ki(){return(Ki=Ui(Di().mark((function e(t,n,r,a){var o;return Di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={"Content-Type":"application/json"},r&amp;&amp;(o["X-WP-Nonce"]=r),a&amp;&amp;(o.Accept="text/event-stream"),e.next=5,fetch("".concat(t),{method:"POST",headers:o,body:JSON.stringify(n,Wi())});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t,n,r){return $i.apply(this,arguments)}function $i(){return $i=Ui(Di().mark((function e(t,n,r,a){var o,i=arguments;return Di().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length&gt;4&amp;&amp;void 0!==i[4]?i[4]:{},e.abrupt("return",new Promise((function(e,i){var l=new FormData;l.append("file",n);for(var c=0,u=Object.entries(o);c&lt;u.length;c++){var s=Gi(u[c],2),f=s[0],d=s[1];l.append(f,d)}var m=new XMLHttpRequest;m.open("POST",t,!0),r&amp;&amp;m.setRequestHeader("X-WP-Nonce",r),m.upload.onprogress=function(e){if(e.lengthComputable&amp;&amp;a){var t=e.loaded/e.total*100;a(t)}},m.onload=function(){if(m.status&gt;=200&amp;&amp;m.status&lt;300)try{var t=JSON.parse(m.responseText);e(t)}catch(e){i({status:m.status,statusText:m.statusText,error:"The server response is not valid JSON"})}else{try{var n=JSON.parse(m.responseText);return void i({status:m.status,message:n.message})}catch(e){}i({status:m.status,statusText:m.statusText})}},m.onerror=function(){i({status:m.status,statusText:m.statusText})},m.send(l)})));case 2:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function el(){return Math.random().toString(36).substring(2)}var tl=function(){var e=Gi(zi(!0),2),t=e[0],n=e[1];Yi((function(){var e=setTimeout((function(){var e=setInterval((function(){n((function(e){return!e}))}),500);return function(){return clearInterval(e)}}),200);return function(){return clearTimeout(e)}}),[]);var r={opacity:t?1:0,width:"1px",height:"1em",borderLeft:"8px solid",marginLeft:"2px"};return React.createElement("span",{style:r})},nl=function(e){var t,n=e.content,r=e.error,a=e.isStreaming,o=e.baseClass,i=void 0===o?"mwai-output-handler":o,l=null!==(t=r||n)&amp;&amp;void 0!==t?t:"";(l.match(/```/g)||[]).length%2!=0?l+="\n```":a&amp;&amp;(l+="&lt;BlinkingCursor /&gt;");var c=Vi((function(){var e=[i];return r&amp;&amp;e.push("mwai-error"),e}),[r]),u=Vi((function(){return{wrapper:"div",forceWrapper:!0,overrides:{BlinkingCursor:{component:tl},a:{props:{target:"_blank"}}}}}),[]);return React.createElement(ma.Z,{options:u,className:c.join(" "),children:l})};function rl(e){return rl="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},rl(e)}var al=["children"];function ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function il(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ol(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==rl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===rl(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(){ll=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==rl(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(rl(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function cl(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ul(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cl(o,r,a,i,l,"next",e)}function l(e){cl(o,r,a,i,l,"throw",e)}i(void 0)}))}}function sl(e){return function(e){if(Array.isArray(e))return ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||dl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dl(e,t){if(e){if("string"==typeof e)return ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ml(e,t):void 0}}function ml(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var pl=wp.element,hl=pl.useContext,yl=pl.createContext,vl=pl.useState,gl=pl.useMemo,bl=pl.useEffect,El=pl.useCallback,wl="AI: ",Rl=yl(),xl=function(){var e=hl(Rl);if(!e)throw new Error("useChatbotContext must be used within a ChatbotContextProvider");return e},Ol=function(e){var t,n,r,a,o,i=e.children,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,al),c=l.params,u=l.system,s=l.theme,f=l.atts,d=Li(s).modCss,m=(null==s?void 0:s.settings)||{},p=fl(vl([]),2),h=p[0],y=p[1],v=fl(vl(el()),2),g=v[0],b=v[1],E=fl(vl(""),2),w=E[0],R=E[1],x=fl(vl({localFile:null,uploadedId:null,uploadedUrl:null,uploadProgress:null}),2),O=x[0],S=x[1],T=fl(vl(null),2),N=T[0],_=T[1],C=fl(vl(!1),2),I=C[0],L=C[1],k=fl(vl(),2),A=k[0],j=k[1],P=u.stream||!1,M=u.botId,D=u.customId,G=u.userData,F=u.sessionId,B=u.contextId,U=u.restNonce,H=u.pluginUrl,Z=u.restUrl,V=u.debugMode,Y=null!==(t=null==u?void 0:u.typewriter)&amp;&amp;void 0!==t&amp;&amp;t,z=null!==(n=null==u?void 0:u.speech_recognition)&amp;&amp;void 0!==n&amp;&amp;n,W=null!==(r=null==u?void 0:u.speech_synthesis)&amp;&amp;void 0!==r&amp;&amp;r,q=null!==(a=null===(o=c.startSentence)||void 0===o?void 0:o.trim())&amp;&amp;void 0!==a?a:"",X=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E,w,R,x=null!==(t=null===(n=e.guestName)||void 0===n?void 0:n.trim())&amp;&amp;void 0!==t?t:"",O=null!==(r=null===(a=e.textSend)||void 0===a?void 0:a.trim())&amp;&amp;void 0!==r?r:"",S=null!==(o=null===(i=e.textClear)||void 0===i?void 0:i.trim())&amp;&amp;void 0!==o?o:"",T=parseInt(e.textInputMaxLength),N=null!==(l=null===(c=e.textInputPlaceholder)||void 0===c?void 0:c.trim())&amp;&amp;void 0!==l?l:"",_=null!==(u=null===(s=e.textCompliance)||void 0===s?void 0:s.trim())&amp;&amp;void 0!==u?u:"",C=Boolean(e.window),I=Boolean(e.copyButton),L=Boolean(e.fullscreen),k=null!==(f=null===(d=e.icon)||void 0===d?void 0:d.trim())&amp;&amp;void 0!==f?f:"",A=null!==(m=null===(p=e.iconText)||void 0===p?void 0:p.trim())&amp;&amp;void 0!==m?m:"",j=null!==(h=null===(y=e.iconAlt)||void 0===y?void 0:y.trim())&amp;&amp;void 0!==h?h:"",P=null!==(v=null===(g=e.iconPosition)||void 0===g?void 0:g.trim())&amp;&amp;void 0!==v?v:"",M=null!==(b=null===(E=e.aiName)||void 0===E?void 0:E.trim())&amp;&amp;void 0!==b?b:"",D=null!==(w=null===(R=e.userName)||void 0===R?void 0:R.trim())&amp;&amp;void 0!==w?w:"";return{textSend:O,textClear:S,textInputMaxLength:T,textInputPlaceholder:N,textCompliance:_,window:C,copyButton:I,fullscreen:L,localMemory:Boolean(e.localMemory),imageUpload:Boolean(e.imageUpload),fileUpload:Boolean(e.fileUpload),icon:k,iconText:A,iconAlt:j,iconPosition:P,aiName:M,userName:D,guestName:x}}(c),Q=X.aiName,K=X.userName,J=X.textSend,$=X.textClear,ee=X.textInputMaxLength,te=X.textInputPlaceholder,ne=X.textCompliance,re=X.guestName,ae=X.window,oe=X.copyButton,ie=X.fullscreen,le=X.localMemory,ce=X.icon,ue=X.iconText,se=X.iconAlt,fe=X.iconPosition,de=X.imageUpload,me=X.fileUpload,pe=le&amp;&amp;(!!D||!!M),he=pe?"mwai-chat-".concat(D||M):null,ye=gl((function(){var e=ce?ki(ce)?ce:H+"/images/"+ce:H+"/images/chat-green.svg";return{cssVariables:Object.keys(m).reduce((function(e,t){return e["--mwai-".concat(t)]=m[t],e}),{}),iconUrl:e}}),[ce,H,m]),ve=ye.cssVariables,ge=ye.iconUrl;Q=function(e,t,n,r){if(e)e=ki(e)?React.createElement("div",{className:r("mwai-avatar")},React.createElement("img",{src:e})):React.createElement("div",{className:r("mwai-name-text")},e);else{var a=n||"".concat(t,"/images/chat-openai.svg");e=React.createElement("div",{className:r(["mwai-avatar"])},React.createElement("img",{src:"".concat(a)}))}return e}(Q,H,ge,d),K=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length&gt;2?arguments[2]:void 0,r=arguments.length&gt;3?arguments[3]:void 0,a=arguments.length&gt;4?arguments[4]:void 0;return e?ki(e)?e=React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:e})):(e=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length&gt;2?arguments[2]:void 0;if(!n||0===Object.keys(n).length)return t;for(var r=0,a=Object.entries(n);r&lt;a.length;r++){var o=yi(a[r],2),i=o[0],l=o[1],c="{".concat(i,"}");e.includes(c)&amp;&amp;(e=e.replace(c,l))}return e||t||"Guest: "}(e,t,n),e=React.createElement("div",{className:a(["mwai-name-text"])},e)):e=n?React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:n.AVATAR_URL})):React.createElement("div",{className:a(["mwai-avatar","mwai-svg"])},React.createElement("img",{src:"".concat(r,"/images/avatar-user.svg")})),e}(K,re,G,H,d),bl((function(){we()}),[q]);var be=function(e){he&amp;&amp;localStorage.setItem(he,JSON.stringify({chatId:g,messages:e},Wi()))},Ee=function(){S({localFile:null,uploadedId:null,uploadedUrl:null,uploadProgress:null})},we=function(){if(Ee(),q){var e=[{id:el(),role:"assistant",content:q,who:wl,timestamp:(new Date).getTime()}];y(e)}else y([])},Re=El((function(){var e=[];if(he&amp;&amp;(e=localStorage.getItem(he)))return e=JSON.parse(e),y(e.messages),void b(e.chatId);we()}),[M]);bl((function(){Re()}),[M]),bl((function(){if(A){L(!1);var e=sl(h),t=e.length&gt;0?e[e.length-1]:null;if(!A.success)return"assistant"===t.role&amp;&amp;t.isQuerying&amp;&amp;e.pop(),e.pop(),e.push({id:el(),role:"system",content:A.message,who:wl,timestamp:(new Date).getTime()}),y(e),void be(e);if("assistant"===t.role&amp;&amp;t.isQuerying)t.content=Mi("ai.reply",A.reply),A.images&amp;&amp;(t.images=A.images),t.timestamp=(new Date).getTime(),delete t.isQuerying;else if("assistant"===t.role&amp;&amp;t.isStreaming)t.content=Mi("ai.reply",A.reply),A.images&amp;&amp;(t.images=A.images),t.timestamp=(new Date).getTime(),delete t.isStreaming;else{var n={id:el(),role:"assistant",content:Mi("ai.reply",A.reply),who:wl,timestamp:(new Date).getTime()};A.images&amp;&amp;(n.images=A.images),e.push(n)}y(e),be(e)}}),[A]);var xe=El(ul(ll().mark((function e(){return ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(el());case 2:he&amp;&amp;localStorage.removeItem(he),we(),R("");case 5:case"end":return e.stop()}}),e)}))),[M]),Oe=function(){var e=ul(ll().mark((function e(t){var n,r,a,o,i,l,c;return ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=3;break}return console.error("AI Engine: There is already a query in progress."),e.abrupt("return");case 3:return"string"!=typeof t&amp;&amp;(t=w),L(!0),R(""),Ee(),n=[].concat(sl(h),[{id:el(),role:"user",content:t,who:"User: ",timestamp:(new Date).getTime()}]),be(n),r=el(),a=[].concat(sl(n),[{id:r,role:"assistant",content:null,who:wl,timestamp:null,isQuerying:!P,isStreaming:!!P}]),y(a),o=il({botId:M,customId:D,session:F,chatId:g,contextId:B,messages:h,newMessage:t,newFileId:null==O?void 0:O.uploadedId,stream:P},f),e.prev=13,V&amp;&amp;console.log("[CHATBOT] OUT: ",o),i=P?function(e){y((function(t){var n=sl(t),a=n.length&gt;0?n[n.length-1]:null;return a&amp;&amp;a.id===r&amp;&amp;(a.content=e,a.timestamp=(new Date).getTime()),n}))}:null,e.next=18,Qi("".concat(Z,"/mwai-ui/v1/chats/submit"),o,U,P);case 18:return l=e.sent,e.next=21,qi(l,i,V?"CHATBOT":null);case 21:if((c=e.sent).success||!c.message){e.next=30;break}return _(c.message),a.pop(),a.pop(),y(a),be(a),L(!1),e.abrupt("return");case 30:j(c),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(13),console.error("An error happened in the handling of the chatbot response.",{err:e.t0}),L(!1);case 37:case"end":return e.stop()}}),e,null,[[13,33]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=ul(ll().mark((function e(t){var n,r;return ll().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==t){e.next=4;break}return Ee(),e.abrupt("return");case 4:return n=de?{type:"image",purpose:"vision"}:{type:"document",purpose:"assistant-in"},e.next=7,Ji("".concat(Z,"/mwai-ui/v1/files/upload"),t,U,(function(e){S({localFile:t,uploadedId:null,uploadedUrl:null,uploadProgress:e})}),n);case 7:r=e.sent,S({localFile:t,uploadedId:r.data.id,uploadedUrl:r.data.url,uploadProgress:null}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("onFileUpload Error",e.t0),_(e.t0.message||"An unknown error occurred"),Ee();case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Te={setInputText:R,saveMessages:be,initChatbot:Re,setMessages:y,setClientId:b,resetMessages:we,resetError:function(){_(null)},onClear:xe,onSubmit:Oe,onFileUpload:Se},Ne={botId:M,customId:D,userData:G,pluginUrl:H,inputText:w,messages:h,busy:I,error:N,setBusy:L,typewriter:Y,speechRecognition:z,speechSynthesis:W,modCss:d,localMemory:pe,imageUpload:de,uploadedFile:O,fileUpload:me,textSend:J,textClear:$,textInputMaxLength:ee,textInputPlaceholder:te,textCompliance:ne,aiName:Q,userName:K,guestName:re,isWindow:ae,copyButton:oe,fullscreen:ie,icon:ce,iconText:ue,iconAlt:se,iconPosition:fe,cssVariables:ve,iconUrl:ge};return React.createElement(Rl.Provider,{value:{state:Ne,actions:Te}},i)},Sl=n(9911);function Tl(e){return Tl="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Tl(e)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Tl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tl(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cl=function(e){var t={width:9,height:9,margin:"5px 0px 0px 5px",borderRadius:"50%",backgroundColor:"#a3a1a1",opacity:1,animation:"bouncing-loader 0.4s infinite alternate"};return React.createElement(React.Fragment,null,React.createElement("style",null,"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @keyframes bouncing-loader {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; opacity: 0.6;\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform: translateY(-10px);\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; &nbsp; &nbsp; "),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:26}},["0.1s","0.2s","0.3s"].map((function(e,n){return React.createElement("div",{key:n,style:_l(_l({},t),{},{animationDelay:e})})}))))};function Il(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Ll=wp.element.useState;const kl=function(e){var t,n,r=e.content,a=e.modCss,o=(t=Ll(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Il(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];return React.createElement("div",{className:a("mwai-copy-button",{"mwai-animate":i}),onClick:function(){try{navigator.clipboard.writeText(r),l(!0),setTimeout((function(){l(!1)}),1e3)}catch(e){console.warn("Not allowed to copy to clipboard. Make sure your website uses HTTPS.",{content:r})}}},React.createElement("div",{className:a("mwai-copy-button-one")}),React.createElement("div",{className:a("mwai-copy-button-two")}))};function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jl(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pl=wp.element,Ml=Pl.useState,Dl=Pl.useMemo,Gl=Pl.useEffect,Fl=Pl.useRef,Bl=function(e){var t,n=e.message,r=e.onRendered,a=void 0===r?function(){}:r,o=xl().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s="user"===n.role,f="assistant"===n.role,d=s?l:f?c:null,m=Al(Ml(n.isQuerying||n.isStreaming),1)[0],p=n.isQuerying,h=n.isStreaming,y=null!==(t=n.content)&amp;&amp;void 0!==t?t:"";(y.match(/```/g)||[]).length%2!=0?y+="\n```":n.isStreaming&amp;&amp;(y+="&lt;BlinkingCursor /&gt;"),Gl((function(){m&amp;&amp;(!m||p||h)||a()}),[m,p,h]);var v=Dl((function(){return{overrides:{BlinkingCursor:{component:tl},a:{props:{target:"_blank"}}}}}),[p,h,y]);return p||h&amp;&amp;!y?React.createElement(Cl,null):React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},d),React.createElement("span",{className:u("mwai-text")},React.createElement("span",null,s&amp;&amp;y.split("\n").map((function(e,t,n){return React.createElement(React.Fragment,null,e,t===n.length-1?null:React.createElement("br",null))})),!s&amp;&amp;React.createElement(ma.Z,{options:v},y))),i&amp;&amp;React.createElement(kl,{content:n.content,modCss:u}))},Ul=function(e){var t=e.message,n=e.onRendered,r=void 0===n?function(){}:n,a=xl().state,o=a.userName,i=a.aiName,l=a.modCss,c="user"===t.role,u="assistant"===t.role,s=c?o:u?i:null,f=Al(Ml(null==t?void 0:t.images),2),d=f[0],m=f[1];return Gl((function(){r()})),t.isQuerying?React.createElement(Cl,null):React.createElement(React.Fragment,null,React.createElement("span",{className:l("mwai-name")},s),React.createElement("span",{className:l("mwai-text")},React.createElement("div",{className:l("mwai-gallery")},null==d?void 0:d.map((function(e,t){return React.createElement("a",{key:t,href:e,target:"_blank",rel:"noopener noreferrer"},React.createElement("img",{key:t,src:e,onError:function(){return function(e){m((function(t){return t.map((function(t,n){return n===e?"https://placehold.co/600x200?text=Expired+Image":t}))}))}(t)}}))})))))},Hl=function(e){var t=e.message,n=e.conversationRef,r=e.onRendered,a=void 0===r?function(){}:r,o=xl().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s=Fl(null),f=Al(Ml(t.isQuerying),1)[0],d=Al(Ml(!t.isQuerying),2),m=d[0],p=d[1],h=Al(Ml(!1),2),y=h[0],v=h[1],g="user"===t.role?l:c,b=t.content;return function(e,t){var n=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2],r=Ni();Ti((function(){r.current=t}),[t]),Ti((function(){if(null!==e&amp;&amp;n){var t=setInterval((function(){r.current()}),e);return function(){return clearInterval(t)}}}),[e,n])}(200,(function(){n.current&amp;&amp;!y&amp;&amp;(n.current.scrollTop=n.current.scrollHeight)}),!m),Gl((function(){if(n.current){var e=function(){var e=n.current,t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;v(r-(t+a)&gt;20)};return n.current.addEventListener("scroll",e),function(){n.current&amp;&amp;n.current.removeEventListener("scroll",e)}}}),[n]),Gl((function(){if(f){if(s.current){var e={strings:[b],typeSpeed:Mi("typewriter.speed",15),showCursor:!1,onComplete:function(e){e.cursor&amp;&amp;e.cursor.remove(),a(),p((function(){return!0}))}},t=new Sl.Z(s.current,e);return function(){t.destroy()}}}else a()}),[t,t.isQuerying]),React.createElement(React.Fragment,null,t.isQuerying&amp;&amp;React.createElement(Cl,null),!t.isQuerying&amp;&amp;f&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text"),ref:s})),!t.isQuerying&amp;&amp;!f&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text")},React.createElement(ma.Z,null,b))),m&amp;&amp;i&amp;&amp;React.createElement(kl,{content:b,modCss:u}))};const Zl=function(e){var t,n=e.message,r=e.conversationRef,a=xl().state,o=a.typewriter,i=a.modCss,l=Fl(),c=i("mwai-reply",{"mwai-ai":"assistant"===n.role,"mwai-user":"user"===n.role,"mwai-system":"system"===n.role}),u=(null==n||null===(t=n.images)||void 0===t?void 0:t.length)&gt;0,s=function(){l.current&amp;&amp;(n.isQuerying||l.current.classList.contains("mwai-rendered")||"undefined"!=typeof hljs&amp;&amp;(l.current.classList.add("mwai-rendered"),l.current.querySelectorAll("pre code").forEach((function(e){hljs.highlightElement(e),["hljs","hljs-title","hljs-keyword","hljs-string"].forEach((function(t){e.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t);var n=i(t).split(" ");n&amp;&amp;n.length&gt;1?e.classList.add(n[1]):console.warn("Could not find class for "+t)}))}))}))))};return Dl((function(){return"user"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(Bl,{message:n})):"assistant"===n.role?u?React.createElement("div",{ref:l,className:c},React.createElement(Ul,{message:n,conversationRef:r,onRendered:s})):o&amp;&amp;!n.isStreaming?React.createElement("div",{ref:l,className:c},React.createElement(Hl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",{ref:l,className:c},React.createElement(Bl,{message:n,conversationRef:r,onRendered:s})):"system"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(Bl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",null,React.createElement("i",null,"Unhandled role."))}),[n,r,u,o])};var Vl=n(8514),Yl=wp.element,zl=Yl.useRef,Wl=Yl.useImperativeHandle;const ql=React.forwardRef((function(e,t){var n=e.onTypeText,r=e.onSubmitAction,a=e.onUploadFile,o=e.inputText,i=e.textInputMaxLength,l=e.textInputPlaceholder,c=e.busy,u=e.modCss,s=e.isListening,f=e.setIsListening,d=e.speechRecognitionAvailable,m=e.speechRecognition,p=e.fileUpload,h=e.imageUpload,y=e.uploadedFile,v=e.composing,g=e.setComposing,b=zl(),E=zl();return Wl(t,(function(){return{focusInput:function(){var e;null===(e=b.current)||void 0===e||e.focus()},currentElement:function(){return b.current}}})),React.createElement("div",{className:u("mwai-input-text"),onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),!c){var t=e.dataTransfer.files;t.length&amp;&amp;E.current.handleExternalFile(t[0])}},onDragOver:function(e){e.preventDefault()}},(h||p)&amp;&amp;React.createElement(Ii,{className:u("mwai-file-upload",{"mwai-enabled":null==y?void 0:y.uploadedId,"mwai-busy":(null==y?void 0:y.localFile)&amp;&amp;!(null!=y&amp;&amp;y.uploadedId)}),type:h?"vision":"assistant",disabled:c,ref:E,uploadedFile:y,onUploadFile:a}),React.createElement(Vl.Z,{ref:b,disabled:c,placeholder:l,value:o,maxLength:i,onCompositionStart:function(){return g(!0)},onCompositionEnd:function(){return g(!1)},onKeyDown:function(e){v||"Enter"!==e.code||e.shiftKey||(e.preventDefault(),r())},onChange:function(e){return n(e.target.value)}}),m&amp;&amp;React.createElement(Ci,{active:s,disabled:!d||c,className:u("mwai-microphone"),onClick:function(){return f(!s)}}))}));function Xl(e){return Xl="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Xl(e)}function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kl(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Xl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xl(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e){return function(e){if(Array.isArray(e))return ac(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $l(){$l=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Xl(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xl(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ec(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function tc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ec(o,r,a,i,l,"next",e)}function l(e){ec(o,r,a,i,l,"throw",e)}i(void 0)}))}}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||rc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(e,t){if(e){if("string"==typeof e)return ac(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ac(e,t):void 0}}function ac(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var oc=wp.element,ic=oc.useState,lc=oc.useMemo,cc=oc.useEffect,uc=oc.useLayoutEffect,sc=oc.useRef,fc={overrides:{a:{props:{target:"_blank"}}}};const dc=function(e){var t=e.theme,n=e.style,r=function(){var e=yi(Oi(null),2),t=e[0],n=e[1],r=Ni(null);return Ti((function(){return function(){clearInterval(r.current)}}),[]),{timeElapsed:t,startChrono:function(){if(null===r.current){var e=Date.now();r.current=setInterval((function(){var t,r,a,o=Math.floor((Date.now()-e)/1e3);n((t=o,r=Math.floor(t/60),a=t%60,"".concat(r,":").concat(a.toString().padStart(2,"0"))))}),500)}},stopChrono:function(){clearInterval(r.current),r.current=null,n(null)}}}(),a=r.timeElapsed,o=r.startChrono,i=r.stopChrono,l=nc(ic(!1),2),c=l[0],u=l[1],s=nc(ic(!1),2),f=s[0],d=s[1],m=nc(ic(!0),2),p=m[0],h=m[1],y=Li(t).modCss,v=lc((function(){return"css"===(null==t?void 0:t.type)?null==t?void 0:t.style:null}),[t]),g=sc(),b=sc(),E=sc(!1),w=document.innerWidth&lt;=768,R=xl(),x=R.state,O=R.actions,S=x.botId,T=x.customId,N=x.messages,_=x.inputText,C=x.textInputMaxLength,I=x.textSend,L=x.textClear,k=x.textInputPlaceholder,A=x.textCompliance,j=x.isWindow,P=x.fullscreen,M=x.iconText,D=x.iconAlt,G=x.iconPosition,F=x.cssVariables,B=x.error,U=x.iconUrl,H=x.busy,Z=x.speechRecognition,V=x.imageUpload,Y=x.uploadedFile,z=x.fileUpload,W=O.onClear,q=O.onSubmit,X=O.setInputText,Q=O.setMessages,K=O.setClientId,J=O.onFileUpload,$=O.resetError,ee=function(e){var t=yi(Oi(!1),2),n=t[0],r=t[1],a=yi(Oi(!1),2),o=a[0],i=a[1];return Ti((function(){"undefined"!=typeof window&amp;&amp;("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&amp;&amp;i(!0)}),[]),Ti((function(){if(o){var t=new(window.SpeechRecognition||window.webkitSpeechRecognition),r=/Android/i.test(navigator.userAgent),a="";t.interimResults=!0,t.continuous=!0;var i=function(t){var n=Array.from(t.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");if(r){var o=n.slice(a.length);a=n,e(o)}else e(n)};return n?(t.addEventListener("result",i),t.start()):(t.removeEventListener("result",i),t.abort()),function(){t.abort()}}}),[n,o]),{isListening:n,setIsListening:r,speechRecognitionAvailable:o}}((function(e){X((function(){return _+e}))})),te=ee.isListening,ne=ee.setIsListening,re=ee.speechRecognitionAvailable,ae=!(null==Y||!Y.uploadProgress),oe=sc(x);cc((function(){oe.current=x}),[x]);var ie=nc(ic([]),2),le=ie[0],ce=ie[1],ue=function(){var e=tc($l().mark((function e(){var t,n,r,a,o,i;return $l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.length&gt;0&amp;&amp;("ask"===(t=le[0]).action?(n=t.data,r=n.text,n.submit?q(r):X(r)):"toggle"===t.action?d(!f):"open"===t.action?d(!0):"close"===t.action?d(!1):"clear"===t.action?W():"setContext"===t.action&amp;&amp;(a=t.data,o=a.chatId,i=a.messages,K(o),Q(i)),ce((function(e){return e.slice(1)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();cc((function(){ue()}),[le]),cc((function(){(T||S)&amp;&amp;Pi.chatbots.push({botId:S,customId:T,open:function(){ce((function(e){return[].concat(Jl(e),[{action:"open"}])}))},close:function(){ce((function(e){return[].concat(Jl(e),[{action:"close"}])}))},clear:function(){ce((function(e){return[].concat(Jl(e),[{action:"clear"}])}))},toggle:function(){ce((function(e){return[].concat(Jl(e),[{action:"toggle"}])}))},ask:function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]&amp;&amp;arguments[1];ce((function(n){return[].concat(Jl(n),[{action:"ask",data:{text:e,submit:t}}])}))},setContext:function(e){var t=e.chatId,n=e.messages;ce((function(e){return[].concat(Jl(e),[{action:"setContext",data:{chatId:t,messages:n}}])}))}})}),[]),cc((function(){H?o():(!w&amp;&amp;E.current&amp;&amp;g.current.focusInput(),i())}),[H]),cc((function(){!w&amp;&amp;f&amp;&amp;g.current.focusInput(),b.current.scrollTop=b.current.scrollHeight}),[f]),uc((function(){b.current.scrollTop=b.current.scrollHeight}),[N]);var se=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:null;E.current=document.activeElement===g.current.currentElement(),e?q(e):_.length&gt;0&amp;&amp;q(_)},fe=y("mwai-chat",{"mwai-window":j,"mwai-open":f,"mwai-fullscreen":!p||!j&amp;&amp;P,"mwai-bottom-left":"bottom-left"===G,"mwai-top-right":"top-right"===G,"mwai-top-left":"top-left"===G}),de=_.length&lt;1&amp;&amp;(null==N?void 0:N.length)&gt;1,me=function(){var e=tc($l().mark((function e(t){return $l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B&amp;&amp;$(),e.abrupt("return",J(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{id:"mwai-chatbot-".concat(T||S),className:fe,style:Kl(Kl({},F),n)},v&amp;&amp;React.createElement("style",null,v),j&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:y("mwai-open-button")},M&amp;&amp;React.createElement("div",{className:y("mwai-icon-text"),onClick:function(){return d(!f)}},M),React.createElement("img",{width:"64",height:"64",alt:D,src:U,className:"no-lightbox",onClick:function(){return d(!f)}})),React.createElement("div",{className:y("mwai-header")},React.createElement("div",{className:y("mwai-buttons")},P&amp;&amp;React.createElement("div",{className:y("mwai-resize-button"),onClick:function(){return h(!p)}}),React.createElement("div",{className:y("mwai-close-button"),onClick:function(){return d(!f)}})))),React.createElement("div",{className:y("mwai-content")},React.createElement("div",{ref:b,className:y("mwai-conversation")},!!N&amp;&amp;N.map((function(e){return React.createElement(Zl,{key:e.id,conversationRef:b,message:e})}))),B&amp;&amp;React.createElement("div",{className:y("mwai-error"),onClick:function(){return $()}},React.createElement(ma.Z,{options:fc},B)),React.createElement("div",{className:y("mwai-input")},React.createElement(ql,{ref:g,onTypeText:function(e){te&amp;&amp;ne(!1),B&amp;&amp;$(),X(e)},onSubmitAction:se,onUploadFile:me,inputText:_,textInputMaxLength:C,textInputPlaceholder:k,busy:H,isListening:te,setIsListening:ne,speechRecognitionAvailable:re,speechRecognition:Z,uploadedFile:Y,composing:c,setComposing:u,modCss:y,imageUpload:V,fileUpload:z}),H&amp;&amp;React.createElement("button",{disabled:!0,className:y("mwai-busy")},a&amp;&amp;React.createElement("div",{className:y("mwai-timer")},a)),!H&amp;&amp;React.createElement("button",{disabled:ae,onClick:function(){te&amp;&amp;ne(!1),de?W():se()}},React.createElement("span",null,de?L:I))),A&amp;&amp;React.createElement("div",{className:y("mwai-compliance"),dangerouslySetInnerHTML:{__html:A}}))))},mc=function(e){return React.createElement(Ol,e,React.createElement(dc,e))};function pc(e){return pc="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},pc(e)}function hc(){hc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==pc(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(pc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function yc(e){return function(e){if(Array.isArray(e))return Oc(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){bc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ec(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function wc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ec(o,r,a,i,l,"next",e)}function l(e){Ec(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||xc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){if(e){if("string"==typeof e)return Oc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oc(e,t):void 0}}function Oc(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Sc=wp.element,Tc=Sc.useMemo,Nc=Sc.useState;const _c=function(e){var t,n,r=(0,u.NL)(),a=e.options,o=e.updateOption,i=e.busy,l=Rc(Nc(!0),2),c=l[0],s=l[1],f=Rc(Nc(!1),2),d=f[0],m=f[1],p=Rc(Nc(!0),2),h=p[0],y=p[1],v=Rc(Nc(!1),2),w=v[0],R=v[1],x=Rc(Nc(null!=(n=localStorage.getItem("mwai-admin-chatbotId"))?n:"default"),2),O=x[0],T=x[1],C=null==a?void 0:a.chatbot_defaults,I=(0,Ne.a)({queryKey:["chatbots"],queryFn:an,initialData:M}).data,k=(0,Ne.a)({queryKey:["themes"],queryFn:ln,initialData:j}).data,D=null!==(t=null==a?void 0:a.botId)&amp;&amp;void 0!==t?t:"none",G=i||w,F=Tc((function(){if(I)return I.find((function(e){return"default"===e.botId}))}),[I]),B=Tc((function(){if(I){var e=I.find((function(e){return e.botId===O}));return function(e){e?localStorage.setItem("mwai-admin-chatbotId",e):localStorage.removeItem("mwai-admin-chatbotId")}(null==e?void 0:e.botId),e}}),[I,O]),U=Tc((function(){return k&amp;&amp;B?k.find((function(e){return e.themeId===(null==B?void 0:B.themeId)})):k.find((function(e){return"chatgpt"===e.themeId}))}),[B,k,I]),H=function(){var e=wc(hc().mark((function e(t,n){var a,o,i;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("botId"!==n||"default"!==t){e.next=3;break}return alert("You cannot name a chatbot 'default'. Please choose another name."),e.abrupt("return");case 3:if("botId"!==n||""!==t){e.next=6;break}return alert("Your chatbot must have an ID."),e.abrupt("return");case 6:if("botId"!==n||!I.find((function(e){return e.botId===t}))){e.next=9;break}return alert("This chatbot ID is already in use. Please choose another ID."),e.abrupt("return");case 9:return"botId"===n&amp;&amp;t!==B[n]&amp;&amp;T(t),R(!0),a=gc(gc({},B),{},bc({},n,t)),o=yc(I),i=o.findIndex((function(e){return e.botId===B.botId})),o[i]=a,e.next=17,on(o);case 17:o=e.sent,r.setQueryData(["chatbots"],o),R(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=wc(hc().mark((function e(){var t,n,o,i=arguments;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:C,R(!0),n="chatbot-"+vt(),e.next=6,on([].concat(yc(I),[gc(gc({},t),{},{botId:n,name:"New Chatbot",envId:null==a?void 0:a.ai_default_env,model:null==a?void 0:a.ai_default_model})]));case 6:o=e.sent,r.setQueryData(["chatbots"],o),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=wc(hc().mark((function e(){var t;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=yc(I.filter((function(e){return e.botId!==B.botId}))),T("default"),e.next=5,on(t);case 5:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=wc(hc().mark((function e(){var t,n;return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=yc(I),n=t.findIndex((function(e){return e.botId===B.botId})),t[n]=gc(gc({},C),{},{botId:B.botId,name:B.name}),e.next=6,on(t);case 6:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=wc(hc().mark((function e(){return hc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(B);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0,style:{margin:10}},React.createElement(rr.P,null,React.createElement(io,{currentChatbot:B}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.CHATBOT_EDITOR,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:c,onChange:s}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.THEME_EDITOR,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:d,onChange:m}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.PREVIEW,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:h,onChange:y}),React.createElement("div",{style:{flex:"auto"}}),React.createElement("label",null,He.COMMON.SITE_WIDE_CHATBOT,":"),React.createElement(Ee.N,{scrolldown:!0,name:"botId",disabled:G,style:{minWidth:160},value:D,onChange:o},React.createElement(Ee.Z,{value:"none",label:"None"}),null==I?void 0:I.map((function(e){return React.createElement(Ee.Z,{key:e.botId,value:e.botId,label:e.name})}))))),(c||d)&amp;&amp;React.createElement(g.z,{minimal:!0,style:{margin:10}},c&amp;&amp;React.createElement(b.c,{inversed:!0,onChange:function(e,t){T(t.key)},currentTab:O,action:React.createElement(React.Fragment,null,React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){return Z()}}))},null==I?void 0:I.map((function(e){return React.createElement(b.P,{key:e.botId,title:e.name,busy:w},React.createElement(fo,{options:a,themes:k,defaultChatbot:F,deleteCurrentChatbot:V,resetCurrentChatbot:Y,duplicateCurrentChatbot:z,shortcodeParams:e,updateShortcodeParams:H}))}))),c&amp;&amp;d&amp;&amp;React.createElement(xe.i,{large:!0}),d&amp;&amp;React.createElement(qo,{themes:k,options:a,updateOption:o,currentTheme:U,onSwitchTheme:function(e){H(e,"themeId")}})),h&amp;&amp;React.createElement(g.z,{minimal:!0},React.createElement("small",{style:{marginLeft:15,marginBottom:-20}},"Chatbot: ",React.createElement("b",null,null==B?void 0:B.name)," - Theme: ",React.createElement("b",null,null==U?void 0:U.name)),React.createElement("div",{style:{position:"relative",margin:"5px 10px 10px 10px",minHeight:480,borderRadius:5,padding:10,border:"2px dashed rgb(0 0 0 / 20%)",background:"rgb(0 0 0 / 5%)"}},!!B&amp;&amp;React.createElement(mc,{system:{botId:B.botId,userData:_,sessionId:A,restNonce:L,pluginUrl:N,restUrl:S,stream:P,debugMode:null==a?void 0:a.debug_mode,typewriter:null==a?void 0:a.shortcode_chat_typewriter,speech_recognition:null==a?void 0:a.shortcode_chat_speech_recognition,speech_synthesis:null==a?void 0:a.shortcode_chat_speech_synthesis},params:B,theme:U,style:B.window||B.fullscreen?{position:"absolute"}:{}})),React.createElement("div",{style:{marginLeft:10,fontSize:11,lineHeight:"140%",opacity:.5}},"This is the actual chatbot, but there might be some differences when run on your front-end, depending on your theme and the other plugins you use."))))};var Cc=n(9133);function Ic(e){return Ic="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Ic(e)}function Lc(e){return function(e){if(Array.isArray(e))return Mc(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Ic(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ic(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Pc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e,t){if(e){if("string"==typeof e)return Mc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mc(e,t):void 0}}function Mc(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Dc(){Dc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Ic(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ic(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Gc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Fc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gc(o,r,a,i,l,"next",e)}function l(e){Gc(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Bc=wp.element,Uc=Bc.useMemo,Hc=Bc.useState,Zc=Bc.useEffect,Vc=[{accessor:"id",visible:!1},{accessor:"time",title:"Time",width:"80px",sortable:!0},{accessor:"scope",title:"Scope",width:"90px",filters:{type:"checkbox",options:[{value:"chatbot",label:"Chatbot"},{value:"form",label:"Form"},{value:"playground",label:"Playground"}]}},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:"Type an User ID, or an IP."}},{accessor:"model",title:"Model"},{accessor:"units",title:"Units",width:"65px",align:"right",sortable:!0},{accessor:"price",title:"Price",width:"85px",align:"right",sortable:!0}],Yc=function(){var e=Fc(Dc().mark((function e(t){var n;return Dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/system/logs/list"),{nonce:L,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,logs:n.logs}:{total:0,logs:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zc=function(){var e=Fc(Dc().mark((function e(){var t,n,r=arguments;return Dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length&gt;0&amp;&amp;void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/system/logs/delete"),{nonce:L,method:"POST",json:{logIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Wc=function(e){var t=e.setSelectedLogIds,n=e.selectedLogIds,r=(0,u.NL)(),a=jc(Hc(!1),2),o=a[0],i=a[1],l=lt(k,null,!0).getModelName,c=jc(Hc((function(){return Vc.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:[]}}))})),2),s=c[0],f=c[1],d=jc(Hc({filters:s,sort:{accessor:"time",by:"desc"},page:1,limit:20}),2),m=d[0],p=d[1],h=(0,Ne.a)({queryKey:["logs",m],queryFn:function(){return Yc(m)},keepPreviousData:!0}),y=h.isFetching,v=h.data;Zc((function(){p(Ac(Ac({},m),{},{filters:s}))}),[s]);var g=Uc((function(){return(null==v?void 0:v.total)||0}),[v]),b=Uc((function(){return null!=v&amp;&amp;v.logs?null==v?void 0:v.logs.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n=ht(e.time),r=yt(e.userId,e.ip),a=Math.round(1e3*e.price)/1e3,o=React.createElement(React.Fragment,null,"∞");e.price&gt;=.001&amp;&amp;(o=React.createElement("b",null,"$",a.toFixed(3))),e.price&gt;=.01&amp;&amp;(o=React.createElement("b",null,"$",a.toFixed(2))),e.price&gt;=.1&amp;&amp;(o=React.createElement("b",{style:{color:"red"}},"$",a.toFixed(2)));var i=(null==k||null===(t=k.ai_envs)||void 0===t||null===(t=t.find((function(t){return t.id===e.envId})))||void 0===t?void 0:t.name)||e.envId,c=React.createElement("div",null,React.createElement("span",{title:e.model},l(e.model),"assistant"===e.mode&amp;&amp;React.createElement("i",null," (Assistant)")),React.createElement("br",null),React.createElement("small",null,i));return{id:e.id,scope:React.createElement("div",null,e.scope,React.createElement("br",null),React.createElement("small",null,e.session)),user:r,model:c,units:React.createElement("div",{style:{textAlign:"right"}},e.units,React.createElement("br",null),React.createElement("small",null,e.type)),price:React.createElement(React.Fragment,null,o,React.createElement("br",null),React.createElement("small",null,"$",e.price)),time:n}})):[]}),[v]),R=function(){var e=Fc(Dc().mark((function e(){return Dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),n.length){e.next=9;break}if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=5;break}return i(!1),e.abrupt("return");case 5:return e.next=7,zc();case 7:e.next=12;break;case 9:return e.next=11,zc(n);case 11:t([]);case 12:return e.next=14,r.invalidateQueries({queryKey:["logs"]});case 14:return e.next=16,r.refetchQueries({queryKey:["logs"]});case 16:i(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(w.v,{className:"primary",title:He.COMMON.QUERIES,action:React.createElement(React.Fragment,null,React.createElement("div",null,React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:y,onClick:Fc(Dc().mark((function e(){return Dc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries({queryKey:["logs"]});case 2:r.refetchQueries({queryKey:["logs"]});case 3:case"end":return e.stop()}}),e)})))},He.COMMON.REFRESH),n.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:R},He.COMMON.DELETE))))},React.createElement(Bt.a,{busy:y||o,onSelectRow:function(e){t([e])},onSelect:function(e){t([].concat(Lc(n),Lc(e)))},onUnselect:function(e){t(Lc(null==n?void 0:n.filter((function(t){return!e.includes(t)}))))},selectedItems:n,sort:m.sort,onSortChange:function(e,t){p(Ac(Ac({},m),{},{sort:{accessor:e,by:t}}))},filters:s,onFilterChange:function(e,t){var n=[].concat(Lc(s.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);f(n)},data:b,columns:Vc}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:-5}},React.createElement(E._,{className:"danger",disabled:n.length,onClick:R},He.COMMON.DELETE_ALL),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Zt.Q,{currentPage:m.page,limit:m.limit,total:g,onClick:function(e){p(Ac(Ac({},m),{},{page:e}))}}))))};function qc(e){return qc="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},qc(e)}function Xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xc(Object(n),!0).forEach((function(t){Kc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==qc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==qc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $c(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function eu(){eu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==qc(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function tu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function nu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){tu(o,r,a,i,l,"next",e)}function l(e){tu(o,r,a,i,l,"throw",e)}i(void 0)}))}}var ru=wp.element,au=ru.useMemo,ou=ru.useState,iu=function(){var e=nu(eu().mark((function e(t){var n;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,R.PV)("".concat(T,"/system/logs/meta"),{nonce:L,method:"POST",json:{logId:t,metaKeys:["query","reply","fields"]}});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const lu=function(e){var t,n=e.options,r=e.updateOption,a=e.busy,o=Jc(ou([]),2),i=o[0],l=o[1],c=Jc(ou("users"),2),u=c[0],s=c[1],f=au((function(){return 1===i.length?i[0]:null}),[i]),d=null==n?void 0:n.limits,m=null==n?void 0:n.default_limits,p=(0,Ne.a)({queryKey:["logsMeta",f],queryFn:function(){return iu(f)},staleTime:864e5,keepPreviousData:!0}),y=p.isFetching,v=p.data,x=function(){var e=nu(eu().mark((function e(t,n){var a;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qc(Qc({},d),{},Kc({},n,t)),e.next=3,r(a,"limits");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=au((function(){return null!=d&amp;&amp;d[u]?null==d?void 0:d[u]:{credits:1,creditType:"price",timeFrame:"month",isAbsolute:!1,overLimitMessage:"You have reached the limit.",ignoredUsers:""}}),[d,u]),S=function(){var e=nu(eu().mark((function e(t,n){var a,o;return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&amp;&amp;(t=Math.max(0,t)),a=Qc(Qc({},O),{},Kc({},n,t)),o=Qc(Qc({},d),{},Kc({},u,a)),e.next=5,r(o,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=nu(eu().mark((function e(){return eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.ARE_YOU_SURE)){e.next=3;break}return e.next=3,r(m,"limits");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=au((function(){return Array.isArray(v)?null:v}),[v]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2.5}},React.createElement(Wc,{selectedLogIds:i,setSelectedLogIds:l})),React.createElement(g.z,{minimal:!0},f&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10,marginLeft:10}},React.createElement(b.P,{title:"Query"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Cc.he,{value:N.query,rootName:"query",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))),React.createElement(b.P,{title:"Reply"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Cc.he,{value:N.reply,rootName:"reply",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))),N&amp;&amp;N.fields&amp;&amp;React.createElement(b.P,{title:"Fields"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Cc.he,{value:N.fields,rootName:"fields",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))))),React.createElement(Ya,null,React.createElement(w.v,{className:"primary",busy:a,title:"Limits",style:{flex:1}},React.createElement(h.P,{name:"enabled",label:He.STATISTICS.ENABLE_LIMITS,checked:null==d?void 0:d.enabled,value:"1",onChange:x}),(null==d?void 0:d.enabled)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Ft.h,{value:u,busy:a,onChange:function(e){s(e)}},React.createElement(Ft.S,{title:He.COMMON.USERS,value:"users",disabled:!(null!=d&amp;&amp;d.enabled)}),React.createElement(Ft.S,{title:He.COMMON.GUESTS,value:"guests"}),React.createElement(Ft.S,{title:He.COMMON.SYSTEM,value:"system"})),"userId"===(null==d?void 0:d.target)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for Guests:"),React.createElement(we.A,{id:"guestMessage",name:"guestMessage",disabled:!(null!=d&amp;&amp;d.enabled),value:null==d?void 0:d.guestMessage,onEnter:S,onBlur:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CREDITS,":"),React.createElement(we.A,{id:"credits",name:"credits",type:"number",min:"0",max:"1000000",disabled:!(null!=d&amp;&amp;d.enabled),value:O.credits,onEnter:S,onBlur:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TYPE,":"),React.createElement(Ee.N,{scrolldown:!0,id:"creditType",name:"creditType",disabled:!(null!=d&amp;&amp;d.enabled),value:O.creditType,onChange:S},React.createElement(Ee.Z,{key:"queries",id:"queries",value:"queries",label:"Queries"}),React.createElement(Ee.Z,{key:"units",id:"units",value:"units",label:"Tokens"}),React.createElement(Ee.Z,{key:"price",id:"price",value:"price",label:"Dollars"})))),0!==O.credits&amp;&amp;React.createElement("p",null,"If you want to apply variable amount of credits, ",React.createElement("a",{href:"https://meowapps.com/ai-engine/faq/#limits",target:"_blank",rel:"noreferrer"},"click here"),"."),0!==O.credits&amp;&amp;"price"===O.creditType&amp;&amp;React.createElement("p",null,"The dollars represent the budget you spent through OpenAI."),0===O.credits&amp;&amp;React.createElement("p",null,"Since there are no credits, the Message for No Credits Message with be displayed."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TIMEFRAME,":"),React.createElement(Ee.N,{scrolldown:!0,id:"timeFrame",name:"timeFrame",disabled:!(null!=d&amp;&amp;d.enabled),value:O.timeFrame,onChange:S},React.createElement(Ee.Z,{key:"second",id:"second",value:"second",label:"Second"}),React.createElement(Ee.Z,{key:"minute",id:"minute",value:"minute",label:"Minute"}),React.createElement(Ee.Z,{key:"hour",id:"hour",value:"hour",label:"Hour"}),React.createElement(Ee.Z,{key:"day",id:"day",value:"day",label:"Day"}),React.createElement(Ee.Z,{key:"week",id:"week",value:"week",label:"Week"}),React.createElement(Ee.Z,{key:"month",id:"month",value:"month",label:"Month"}),React.createElement(Ee.Z,{key:"year",id:"year",value:"year",label:"Year"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.ABSOLUTE,":"),React.createElement(h.P,{name:"isAbsolute",label:"Yes",disabled:!(null!=d&amp;&amp;d.enabled),checked:O.isAbsolute,value:"1",onChange:S}))),O.isAbsolute&amp;&amp;React.createElement("p",null,(0,R.io)(He.STATISTICS.ABSOLUTE_HELP)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.NO_CREDITS_MESSAGE,":"),React.createElement(we.A,{id:"overLimitMessage",name:"overLimitMessage",disabled:!(null!=d&amp;&amp;d.enabled),value:O.overLimitMessage,onEnter:S,onBlur:S}))),"users"===u&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.FULL_ACCESS_USERS,":"),React.createElement(Ee.N,{scrolldown:!0,id:"ignoredUsers",name:"ignoredUsers",disabled:!(null!=d&amp;&amp;d.enabled),value:null==d||null===(t=d.users)||void 0===t?void 0:t.ignoredUsers,description:"",onChange:S},React.createElement(Ee.Z,{key:"none",id:"none",value:"",label:He.COMMON.NONE}),React.createElement(Ee.Z,{key:"editor",id:"editor",value:"administrator,editor",label:He.COMMON.EDITORS_ADMINS}),React.createElement(Ee.Z,{key:"admin",id:"admin",value:"administrator",label:He.COMMON.ADMINS_ONLY})))),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,className:"danger",onClick:T},He.COMMON.RESET_LIMITS)))))))};function cu(e){return cu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},cu(e)}function uu(){uu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==cu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(cu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function su(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const fu=function(e){var t=e.options,n=e.updateOption,r=(e.setOptions,null==t?void 0:t.debug_mode),a=function(){var e,t=(e=uu().mark((function e(){var t,n,r,a,o;return uu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID you want to retrieve the content from.")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,dt(null,null,t);case 5:n=e.sent,console.log("Data for Post ID ".concat(t),n),null!=n&amp;&amp;n.content&amp;&amp;(r=n.content.trim().replace(/&lt;[^&gt;]*&gt;?/gm,""),a=r.split(" ")[0],o=r.split(" ").pop(),console.log("Content First Word: ".concat(a)),console.log("Content Last Word: ".concat(o)));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){su(o,r,a,i,l,"next",e)}function l(e){su(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),o=React.createElement(m.r,{title:He.COMMON.DEBUG_MODE},React.createElement(h.P,{name:"debug_mode",label:He.COMMON.ENABLE,value:"1",checked:r,description:He.COMMON.DEBUG_MODE_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Debugging",className:"primary"},React.createElement(E._,{onClick:a},"Get Content"),React.createElement("p",null,"This button will display the content of the post, as seen by AI Engine, in your Developer Tools Console. That allows you to check what AI Engine uses when using Content Aware, Embeddings Sync, etc."))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Settings",className:"primary"},o))))};function du(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var mu=function(e){var t,n=e.env,r=e.updateEnvironment,a=e.ai_envs,o=e.options,i=lt(o,null==n?void 0:n.ai_embeddings_env).embeddingsModels;return React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.NAME},React.createElement(we.A,{name:"name",value:n.name,onFinalChange:function(e){return r(n.id,{name:e})}})),React.createElement(m.r,{title:He.COMMON.TYPE},React.createElement(Ee.N,{scrolldown:!0,name:"type",value:n.type,description:"qdrant"===n.type?(0,R.io)(He.HELP.QDRANT):null,onChange:function(e){return r(n.id,{type:e})}},React.createElement(Ee.Z,{value:"pinecone",label:"Pinecone"}),React.createElement(Ee.Z,{value:"qdrant",label:"Qdrant"}))),React.createElement(m.r,{title:He.COMMON.API_KEY},React.createElement(we.A,{name:"apikey",value:n.apikey,description:(0,R.io)("pinecone"===n.type?He.COMMON.PINECONE_APIKEY_HELP:He.COMMON.QDRANT_APIKEY_HELP),onFinalChange:function(e){return r(n.id,{apikey:e})}})),React.createElement(m.r,{title:He.COMMON.SERVER},"pinecone"===n.type&amp;&amp;React.createElement(Ee.N,{scrolldown:!0,name:"server",value:n.server,description:(0,R.io)(He.COMMON.PINECONE_SERVER_HELP),onChange:function(e){r(n.id,{server:e})}},React.createElement(Ee.Z,{value:"gcp-starter",label:"gcp-starter",description:(0,R.io)(He.EMBEDDINGS.NO_NAMESPACE_SUPPORT)}),React.createElement(Ee.Z,{value:"us-east1-gcp",label:"us-east1-gcp"}),React.createElement(Ee.Z,{value:"us-east4-gcp",label:"us-east4-gcp"}),React.createElement(Ee.Z,{value:"us-west1-gcp",label:"us-west1-gcp"}),React.createElement(Ee.Z,{value:"us-west1-gcp-free",label:"us-west1-gcp-free"}),React.createElement(Ee.Z,{value:"us-west4-gcp",label:"us-west4-gcp"}),React.createElement(Ee.Z,{value:"us-west4-gcp-free",label:"us-west4-gcp-free"}),React.createElement(Ee.Z,{value:"us-east-1-aws",label:"us-east-1-aws"}),React.createElement(Ee.Z,{value:"us-west-1-aws",label:"us-west-1-aws"}),React.createElement(Ee.Z,{value:"us-west-2-aws",label:"us-west-2-aws"}),React.createElement(Ee.Z,{value:"us-central1-gcp",label:"us-central1-gcp"}),React.createElement(Ee.Z,{value:"northamerica-northeast1-gcp",label:"northamerica-northeast1-gcp"}),React.createElement(Ee.Z,{value:"eu-west1-gcp",label:"eu-west1-gcp"}),React.createElement(Ee.Z,{value:"eu-west4-gcp",label:"eu-west4-gcp"}),React.createElement(Ee.Z,{value:"asia-northeast1-gcp",label:"asia-northeast1-gcp"}),React.createElement(Ee.Z,{value:"asia-southeast1-gcp-free",label:"asia-southeast1-gcp-free"}),React.createElement(Ee.Z,{value:"eastus-azure",label:"eastus-azure"})),"qdrant"===n.type&amp;&amp;React.createElement(we.A,{name:"server",value:n.server,description:(0,R.io)(He.COMMON.QDRANT_SERVER_HELP),onFinalChange:function(e){return r(n.id,{server:e})}})),"pinecone"===n.type&amp;&amp;React.createElement(m.r,{title:He.COMMON.NAMESPACES},React.createElement(we.A,{isCommaSeparatedArray:!0,name:"namespaces",value:n.namespaces,disabled:"gcp-starter"===n.server,description:(0,R.io)(He.COMMON.NAMESPACES_HELP),onFinalChange:function(e){r(n.id,{namespaces:e})}})),0===(null==n||null===(t=n.indexes)||void 0===t?void 0:t.length)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_e.S,{variant:"danger"},"Currently, AI Engine does not know about the indexes for this ",React.createElement("b",null,"API Key")," and this ",React.createElement("b",null,"Server"),". Visit the ",React.createElement("b",null,"Embeddings")," tab, then ",React.createElement("b",null,"Refresh")," your indexes or ",React.createElement("b",null,"Add")," a new one."),React.createElement(xe.i,null)),React.createElement(Se.F,{keepState:"embeddingsEnvs"},React.createElement(Se.L,{title:He.COMMON.AI_ENVIRONMENT},React.createElement("div",{style:{marginTop:10}},React.createElement(m.r,{title:He.COMMON.OVERRIDE_DEFAULTS},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==n?void 0:n.ai_embeddings_override,onChange:function(e){return r(n.id,{ai_embeddings_override:e})}})),(null==n?void 0:n.ai_embeddings_override)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_embeddings_env",value:null==n?void 0:n.ai_embeddings_env,onChange:function(e){return r(n.id,{ai_embeddings_env:e})}},a.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})))),React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_embeddings_model",value:n.ai_embeddings_model,onChange:function(e){return r(n.id,{ai_embeddings_model:e})}},i.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})}))))))),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",onClick:function(){return deleteEnvironment(n.id)}},He.COMMON.DELETE)))))};const pu=function(e){var t=e.environments,n=e.updateEnvironment,r=e.updateOption,a=e.options,o=e.busy;return null!=a&amp;&amp;a.ai_envs&amp;&amp;(null==a||a.ai_envs),React.createElement("div",{style:{padding:"0px 10px 20px 10px",marginTop:-5}},React.createElement(d.O,{h2:!0,style:{color:"white"}},"Environments for Embeddings"),React.createElement(b.c,{inversed:!0,keepTabOnReload:!0,style:{marginTop:-5},action:React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){var e,n=[].concat(function(e){if(Array.isArray(e))return du(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{name:"New Environment",type:"pinecone",apikey:"",server:"",indexes:[],namespaces:[]}]);r(n,"embeddings_envs")}})},t.map((function(e){return React.createElement(b.P,{key:e.id,title:e.name,busy:o},React.createElement(mu,{env:e,updateEnvironment:n,ai_envs:(null==a?void 0:a.ai_envs)||[],options:a}),React.createElement(E._,{className:"danger",onClick:function(){return function(e){if(1!==t.length){var n=t.filter((function(t){return t.id!==e}));r(n,"embeddings_envs")}else alert("You can't delete the last environment.")}(e.id)}},He.COMMON.DELETE))}))))};function hu(e){return hu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},hu(e)}function yu(){yu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==hu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(hu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function vu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function gu(e){return function(e){if(Array.isArray(e))return Eu(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||bu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(e,t){if(e){if("string"==typeof e)return Eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eu(e,t):void 0}}function Eu(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var wu=wp.element,Ru=wu.useCallback,xu=wu.useMemo,Ou=wu.useState,Su=function(e){var t=e.updateEnvironment,n=e.environmentId,r=e.deployments,a=e.options,o=function(e,a,o){var i=JSON.parse(JSON.stringify(r));i[e][a]=o,t(n,{deployments:i})};return React.createElement(m.r,{title:He.COMMON.OPENAI_AZURE_DEPLOYMENTS,style:{marginTop:10}},r.map((function(e,i){var l;return React.createElement("div",{key:i,style:{display:"flex",marginBottom:10}},React.createElement(we.A,{style:{flex:1},value:e.name,placeholder:He.COMMON.OPENAI_AZURE_DEPLOYMENT_NAME,onBlur:function(e){return o(i,"name",e)},onEnter:function(e){return o(i,"name",e)}}),React.createElement(Ee.N,{style:{flex:1,marginLeft:10},scrolldown:!0,id:"model",name:"model",value:e.model,onChange:function(e){return o(i,"model",e)}},null==a||null===(l=a.openai_models)||void 0===l?void 0:l.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(E._,{rounded:!0,isSmall:!0,style:{marginLeft:10,height:30},icon:"trash",onClick:function(){return function(e){var a=gu(r);a.splice(e,1),t(n,{deployments:a})}(i)}}))})),React.createElement(E._,{fullWidth:!0,icon:"plus",onClick:function(){var e=[].concat(gu(r),[{name:"",model:""}]);t(n,{deployments:e})}}))};const Tu=function(e){var t,n,r=e.options,a=e.environments,o=e.updateEnvironment,i=e.updateOption,l=e.busy,c=(t=Ou(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||bu(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=Ru((function(e){return"openai"===e.type?(0,R.io)(He.HELP.OPENAI_API_KEY):"azure"===e.type?(0,R.io)(He.HELP.AZURE_API_KEY):"openrouter"===e.type?(0,R.io)(He.HELP.OPENROUTER_API_KEY):""}),[]),p=xu((function(){var e;return null!==(e=null==r?void 0:r.openrouter_models)&amp;&amp;void 0!==e?e:[]}),[r]),h=xu((function(){var e;return null!==(e=null==r?void 0:r.google_models)&amp;&amp;void 0!==e?e:[]}),[r]);console.log({openRouterModels:p,googleModels:h});var y=Ru(function(){var e,t=(e=yu().mark((function e(t,n){var r,a;return yu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,(0,R.PV)("".concat(T,"/ai/models"),{method:"POST",nonce:L,json:{envId:t}});case 4:if(r=e.sent,s(!1),a=null==r?void 0:r.models){e.next=9;break}throw new Error("Could not fetch models.");case 9:i(a,"".concat(n,"_models")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.message),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){vu(o,r,a,i,l,"next",e)}function l(e){vu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[]);return React.createElement("div",{style:{padding:"0px 10px 5px 10px",marginTop:13,marginBottom:5}},React.createElement(d.O,{h2:!0,style:{color:"white",marginBottom:15}},"Environments for AI"),React.createElement(b.c,{inversed:!0,style:{marginTop:-5},action:React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){var e=[].concat(gu(a),[{name:"New Environment",type:"openai",apikey:""}]);i(e,"ai_envs")}})},a.map((function(e){var t;return React.createElement(b.P,{key:e.id,title:e.name,busy:l},React.createElement(m.r,{title:He.COMMON.NAME},React.createElement(we.A,{name:"name",value:e.name,onFinalChange:function(t){return o(e.id,{name:t})}})),React.createElement(m.r,{title:He.COMMON.TYPE},React.createElement(Ee.N,{scrolldown:!0,name:"type",value:e.type,onChange:function(t){return o(e.id,{type:t})}},React.createElement(Ee.Z,{value:"openai",label:"OpenAI"}),React.createElement(Ee.Z,{value:"azure",label:"Azure (OpenAI)"}),React.createElement(Ee.Z,{value:"google",label:"Google"}),React.createElement(Ee.Z,{value:"openrouter",label:"OpenRouter"}))),React.createElement(m.r,{title:He.COMMON.API_KEY},React.createElement(we.A,{name:"apikey",value:e.apikey,description:f(e),onFinalChange:function(t){return o(e.id,{apikey:t})}})),"openai"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.OPENAI_ORGANIZATION_ID},React.createElement(we.A,{name:"organizationId",value:e.organizationId,description:(0,R.io)(He.HELP.OPENAI_ORGANIZATION_ID),onFinalChange:function(t){return o(e.id,{organizationId:t})}}))),"azure"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.OPENAI_AZURE_ENDPOINT},React.createElement(we.A,{name:"endpoint",value:e.endpoint,description:(0,R.io)(He.HELP.AZURE_DEPLOYMENTS),onFinalChange:function(t){return o(e.id,{endpoint:t})}}))),"google"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.REGION},React.createElement(we.A,{name:"region",value:e.region,onFinalChange:function(t){return o(e.id,{region:t})}})),React.createElement(m.r,{title:He.COMMON.PROJECT_ID},React.createElement(we.A,{name:"projectId",value:e.projectId,onFinalChange:function(t){return o(e.id,{projectId:t})}})),React.createElement(_e.S,{variant:"danger"},"Compared to OpenAI, Google's Gemini is less stable and clearly in beta, with limitations like single-message processing (in the case of Vision) and frequent unclear errors. Let's discuss about Gemini on ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank"},"Discord"),"."),React.createElement(xe.i,null)),React.createElement(Se.F,{keepState:"environmentCategories"},("openrouter"===e.type||"google"===e.type)&amp;&amp;React.createElement(Se.L,{title:He.COMMON.MODELS},"openrouter"===e.type&amp;&amp;React.createElement("p",null,"There are currently ",React.createElement("b",null,p.length)," models available. OpenRouter models need to be refresh regularly. This button will fetch the latest models and their prices."),"google"===e.type&amp;&amp;React.createElement("p",null,"There are currently ",React.createElement("b",null,h.length)," models available. Google models need to be refresh regularly. This button will fetch the latest models and their prices."),React.createElement(E._,{fullWidth:!0,className:"primary",isBusy:u,onClick:function(){return y(e.id,e.type)}},He.COMMON.REFRESH_MODELS)),"azure"===e.type&amp;&amp;React.createElement(Se.L,{title:He.COMMON.OPENAI_AZURE_DEPLOYMENTS},React.createElement(Su,{deployments:null!==(t=e.deployments)&amp;&amp;void 0!==t?t:[],environmentId:e.id,updateEnvironment:o,options:r})),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",onClick:function(){return function(e){if(1!==a.length){var t=a.filter((function(t){return t.id!==e}));i(t,"ai_envs")}else alert("You can't delete the last environment.")}(e.id)}},He.COMMON.DELETE)))))}))))};function Nu(e){return Nu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Nu(e)}function _u(){_u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Nu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Nu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Cu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Iu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lu(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var ku=wp.element,Au=ku.useState,ju=ku.useEffect;const Pu=function(){var e=Iu(Au(""),2),t=e[0],n=e[1],r=Iu(Au(""),2),a=r[0],o=r[1],i=Iu(Au(""),2),l=i[0],c=i[1],u=Iu(Au(!1),2),s=u[0],f=u[1],d=Iu(Au("imageToText"),2),m=d[0],p=d[1],h=Iu(Au(null),2),y=h[0],v=h[1];ju((function(){n(""),o(""),c("")}),[m]);var x=function(){var e,n=(e=_u().mark((function e(){var n,r,a,i,c,u=arguments;return _u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="","textToJSON"!==(n=u.length&gt;0&amp;&amp;void 0!==u[0]?u[0]:"imageToText")){e.next=6;break}r="".concat(T,"/ai/json"),e.next=16;break;case 6:if("imageToText"!==n){e.next=10;break}r="".concat(T,"/ai/transcribe_image"),e.next=16;break;case 10:if("audioToText"!==n){e.next=14;break}r="".concat(T,"/ai/transcribe_audio"),e.next=16;break;case 14:return alert("Unknown transcription type: ".concat(n)),e.abrupt("return");case 16:return f(n),v(Date.now()),e.prev=18,e.next=21,(0,R.PV)(r,{method:"POST",nonce:L,json:{url:t,prompt:l}});case 21:i=e.sent,null!=(c=i.data)&amp;&amp;null!==(a=c.error)&amp;&amp;void 0!==a&amp;&amp;a.message?alert(c.error.message):o(c),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(18),alert(e.t0.message);case 29:return e.prev=29,f(!1),v(null),e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[18,26,29,33]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Cu(o,r,a,i,l,"next",e)}function l(e){Cu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Features",className:"raw"},React.createElement(b.c,{inversed:!0,onChange:function(e,t){p(t.key)}},React.createElement(b.P,{title:He.COMMON.IMAGE_TO_TEXT,key:"imageToText"},React.createElement("label",null,"Image URL:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{name:"url",rows:2,value:t,onChange:n}),React.createElement(xe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"imageToText"===s,startTime:y,onClick:function(){x("imageToText")}},"Transcribe Image"),React.createElement(xe.i,{tiny:!0}),React.createElement("p",null,"If you are looking for beautiful images to play with this, here are some URLs: ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Offbeat Japan"),", ",React.createElement("a",{target:"_blank",href:"https://unsplash.com"},"Unsplash"),", ",React.createElement("a",{target:"_blank",href:"https://www.pexels.com"},"Pexels"),".")),React.createElement(b.P,{title:He.COMMON.AUDIO_TO_TEXT,key:"audioToText"},React.createElement("label",null,"Audio URL:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{name:"url",rows:2,value:t,onChange:n}),React.createElement(xe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"audioToText"===s,startTime:y,onClick:function(){x("audioToText")}},"Transcribe Audio")),React.createElement(b.P,{title:He.COMMON.PROMPT_TO_JSON,key:"textToJSON"},React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"textToJSON"===s,startTime:y,onClick:function(){x("textToJSON")}},"Query AI"),React.createElement(xe.i,null),React.createElement("label",null,"Examples:"),React.createElement("ul",null,React.createElement("li",null,"👽 List the best science fiction books. Include the title, author, publication year, and a short synopsis."),React.createElement("li",null,"🎋 Identify the most beautiful gardens in Japan. Provide the garden name, location (gps: [lng, lat]), best visiting season, and features."),React.createElement("li",null,"💰 Identify the current top 10 richest individuals globally. For each person, include their name, estimated net worth, source of wealth, country of residence, and key tags (such as 'technology', 'retail', 'investor', etc.). Additionally, provide a brief description of their most notable business ventures or achievements."),React.createElement("li",null,"🦁 Compile a list of significant archaeological discoveries in the last decade. Include the discovery, location, date, and significance.")),React.createElement(xe.i,null))))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Transcription",className:"primary"},React.createElement(xe.i,{tiny:!0}),"textToJSON"===m&amp;&amp;React.createElement(Cc.he,{value:a,indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}),"textToJSON"!==m&amp;&amp;React.createElement(Dt.l,{name:"context",rows:21,value:a,disabled:!a}))))};var Mu=n(7363);function Du(e){return Du="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Du(e)}function Gu(e){return function(e){if(Array.isArray(e))return zu(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fu(){Fu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Du(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Du(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Bu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Uu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bu(o,r,a,i,l,"next",e)}function l(e){Bu(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Du(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Du(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Du(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Yu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yu(e,t){if(e){if("string"==typeof e)return zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zu(e,t):void 0}}function zu(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Wu=[{accessor:"name",title:"Name",verticalAlign:"top"},{accessor:"instructions",title:"Instructions",width:220,verticalAlign:"top"},{accessor:"parameters",title:"Parameters",verticalAlign:"top"},{accessor:"createdOn",title:"Created On",verticalAlign:"top"}],qu=[{accessor:"file",title:"File",verticalAlign:"top"},{accessor:"metadata",title:"Metadata",verticalAlign:"top"},{accessor:"userId",title:"User ID",verticalAlign:"top"},{accessor:"purpose",title:"Purpose",verticalAlign:"top"},{accessor:"created",title:"Created On",verticalAlign:"top"},{accessor:"actions",title:"Actions",verticalAlign:"top"}];const Xu=function(e){var t,n=e.options,r=e.refreshOptions,a=(0,u.NL)(),o=Vu((0,Mu.useState)(null),2),i=o[0],l=o[1],c=Vu((0,Mu.useState)(!1),2),s=c[0],f=c[1],m=Vu((0,Mu.useState)(null==n||null===(t=n.ai_envs)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id),2),p=m[0],h=m[1],y=(null==n?void 0:n.ai_envs)||[],v=Vu((0,Mu.useState)("all"),2),x=v[0],O=(v[1],Vu((0,Mu.useState)("assistants"),2)),S=O[0],T=O[1],N=Vu((0,Mu.useState)([]),2),_=N[0],C=N[1],I=(0,Mu.useMemo)((function(){return y.find((function(e){return e.id===p}))}),[p,y]),L=(null==I?void 0:I.assistants_deleted)||[],k=(null==I?void 0:I.assistants)||[],A=Vu((0,Mu.useState)({userId:null,purpose:["assistant-in","assistant-out"],metadata:null,envId:p,page:1,limit:10}),2),j=A[0],P=A[1],M=JSON.stringify(j);(0,Mu.useEffect)((function(){var e,t=function(){var e=localStorage.getItem("mwai-admin-assistants");try{return JSON.parse(e)}catch(e){return{}}}(),n=null!==(e=null==t?void 0:t.envId)&amp;&amp;void 0!==e?e:null;n&amp;&amp;h(n)}),[]),(0,Mu.useEffect)((function(){var e;e={envId:p||null},localStorage.setItem("mwai-admin-assistants",JSON.stringify(e))}),[p]),(0,Mu.useEffect)((function(){P(Zu(Zu({},j),{},{envId:p}))}),[p]);var D=(0,Ne.a)({queryKey:["assistants-files",M],enabled:"files"===S,keepPreviousData:!0,staleTime:3e5,queryFn:function(){return tn(j)}}),G=D.isFetching,F=(D.error,D.data),B=function(){var e=Uu(Fu().mark((function e(t){return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,$t(t);case 4:return e.next=6,a.invalidateQueries("assistants-files");case 6:C([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l(e.t0);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),U=(0,Mu.useMemo)((function(){return null==F?void 0:F.files.map((function(e){return Zu(Zu({},e),{},{file:(n=e.url,r=e.refId,React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("span",null,function(e){if(!e)return null;var t=e.split("/").pop();return React.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},t)}(n)),React.createElement("small",null,r))),purpose:(a=e.purpose,"assistant-out"===a?"Generated":"assistant-in"===a?"Uploaded":a),metadata:(t=e.metadata,t?React.createElement("small",null,React.createElement("ul",{style:{margin:0,padding:0}},Object.keys(t).map((function(e){return React.createElement("li",{key:e,style:{margin:0}},React.createElement("i",null,e),": ",t[e]," ","assistant_id"===e?"(".concat((n=t[e],(null==(r=k.find((function(e){return e.id===n})))?void 0:r.name)||"N/A"),")"):"");var n,r})))):null),created:new Date(e.created).toLocaleDateString(),actions:React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",disabled:W,onClick:function(){return B([e.id])}}))});var t,n,r,a}))}),[F]),H=(0,Mu.useMemo)((function(){return(null==F?void 0:F.total)||0}),[F]),Z=function(){var e=Uu(Fu().mark((function e(){return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,sn(p);case 3:return e.next=5,r();case 5:f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Uu(Fu().mark((function e(){return Fu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.invalidateQueries("assistants-files");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return L.includes(e.id)},z=(0,Mu.useMemo)((function(){var e=k;return"deleted"===x&amp;&amp;(e=e.filter(Y)),e.map((function(e){var t;return Zu(Zu({},e),{},{name:React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("span",null,e.name),React.createElement("small",null,e.id)),instructions:(null===(t=e.instructions)||void 0===t?void 0:t.length)&gt;100?"".concat(e.instructions.slice(0,100),"..."):e.instructions,parameters:React.createElement(React.Fragment,null,React.createElement("ul",{style:{margin:0,padding:0}},React.createElement("li",{style:{margin:0}},"Model: ",e.model),React.createElement("li",{style:{margin:0}},"Files: ",e.files_count),React.createElement("li",{style:{margin:0}},"Retrieval: ",e.has_retrieval?"Yes":"No"),React.createElement("li",{style:{margin:0}},"Code Interpreter: ",e.has_code_interpreter?"Yes":"No"))),createdOn:new Date(e.createdOn).toLocaleDateString()})}))}),[x,L,k]),W=s,q=(0,Mu.useMemo)((function(){return React.createElement(Ee.N,{scrolldown:!0,value:p,onChange:h,style:{marginLeft:5}},y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})))}),[p,y]),X=(0,Mu.useMemo)((function(){return React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Zt.Q,{currentPage:j.page,limit:j.limit,total:H,onClick:function(e){P(Zu(Zu({},j),{},{page:e}))}})))}),[j,H]);return React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{margin:8}},React.createElement(b.c,{inversed:!0,currentTab:S,onChange:function(e,t){T(t.key)},action:React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),_.length&gt;0&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:function(){return B(_)}},He.COMMON.DELETE)),"files"===S&amp;&amp;React.createElement(E._,{disabled:W,busy:W,onClick:V,className:"secondary"},"Refresh"),"assistants"===S&amp;&amp;React.createElement(E._,{disabled:W,busy:W,onClick:Z,className:"secondary"},"Refresh"),q)},React.createElement(b.P,{title:He.COMMON.ASSISTANTS,key:"assistants"},React.createElement(Bt.a,{busy:W,data:z,columns:Wu,emptyMessage:He.NO_ASSISTANTS_YET})),React.createElement(b.P,{title:He.COMMON.FILES,key:"files"},React.createElement(Bt.a,{busy:G||W,data:U,columns:qu,selectedItems:_,onSelect:function(e){C([].concat(Gu(_),Gu(e)))},onUnselect:function(e){C(Gu(_.filter((function(t){return!e.includes(t)}))))},emptyMessage:He.NO_FILES_YET}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),X)))),React.createElement(g.z,{fullWidth:!0,minimal:!0},React.createElement(w.v,{className:"primary"},React.createElement(d.O,{p:!0},(0,R.io)(He.HELP.ASSISTANTS_INTRO)),React.createElement(_e.S,{variant:"danger"},(0,R.io)(He.HELP.ASSISTANTS_WARNINGS))),React.createElement(xe.i,{tiny:!0}),i&amp;&amp;React.createElement(Te.L,{isOpen:!!i,title:"Error",onRequestClose:function(){return l(null)},okButton:{label:"Ok",onClick:function(){return l(null)}},content:React.createElement("p",null,null==i?void 0:i.message)})))};function Qu(e){return Qu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Qu(e)}function Ku(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ju(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ju(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function $u(){$u=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Qu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Qu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach((function(t){ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ns(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function as(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){rs(o,r,a,i,l,"next",e)}function l(e){rs(o,r,a,i,l,"throw",e)}i(void 0)}))}}var os=wp.element,is=os.useMemo,ls=os.useState,cs=os.useEffect,us=function(){var e=as($u().mark((function e(){var t,n;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/incidents"),{nonce:L});case 2:if(null==(t=e.sent)||!t.incidents){e.next=6;break}return n=t.incidents.map((function(e){var t=e.date,n=(t=new Date(1e3*t)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});return ts(ts({},e),{},{date:n})})),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ss=[{envKey:"ai_embeddings_default_env",modelKey:"ai_embeddings_default_model",defaultModel:"text-embedding-ada-002"},{envKey:"ai_vision_default_env",modelKey:"ai_vision_default_model",defaultModel:"gpt-4-vision-preview"},{envKey:"ai_images_default_env",modelKey:"ai_images_default_model",defaultModel:"dall-e-3-hd"},{envKey:"ai_audio_default_env",modelKey:"ai_audio_default_model",defaultModel:"whisper-1"},{envKey:"ai_json_default_env",modelKey:"ai_json_default_model",defaultModel:"gpt-4-1106-preview"}];const fs=function(){var e,t,n,r,a=Ku(ls(k),2),o=a[0],i=a[1],l=Ku(ls(null),2),c=l[0],u=l[1],s=Ku(ls(!1),2),f=s[0],v=s[1],S=(null==o?void 0:o.shortcode_chat_params)||{},N=null==o?void 0:o.module_suggestions,_=null==o?void 0:o.module_woocommerce,A=null==o?void 0:o.module_forms,j=null==o?void 0:o.module_finetunes,P=null==o?void 0:o.module_statistics,M=null==o?void 0:o.module_playground,D=null==o?void 0:o.module_generator_content,G=null==o?void 0:o.module_generator_images,F=null==o?void 0:o.module_moderation,B=null==o?void 0:o.module_embeddings,U=null==o?void 0:o.module_assistants,H=null==o?void 0:o.module_transcription,Z=null==o?void 0:o.module_devtools,V=null==o?void 0:o.shortcode_chat,Y=null!=o&amp;&amp;o.ai_envs?null==o?void 0:o.ai_envs:[],z=null==o?void 0:o.ai_default_env,W=null==o?void 0:o.ai_default_model,q=null==o?void 0:o.ai_vision_default_env,X=null==o?void 0:o.ai_vision_default_model,Q=null==o?void 0:o.ai_embeddings_default_env,K=null==o?void 0:o.ai_embeddings_default_model,J=null==o?void 0:o.ai_images_default_env,$=null==o?void 0:o.ai_images_default_model,ee=null==o?void 0:o.ai_audio_default_env,te=null==o?void 0:o.ai_audio_default_model,ne=null==o?void 0:o.ai_json_default_env,re=null==o?void 0:o.ai_json_default_model,ae=null!=o&amp;&amp;o.embeddings_envs?null==o?void 0:o.embeddings_envs:[],oe=null==o?void 0:o.embeddings_default_env,ie=null==o?void 0:o.shortcode_chat_syntax_highlighting,le=null==o?void 0:o.shortcode_chat_typewriter,ce=null==o?void 0:o.shortcode_chat_discussions,ue=null==o?void 0:o.shortcode_chat_stream,se=null==o?void 0:o.speech_recognition,fe=null==o?void 0:o.speech_synthesis,de=null==o?void 0:o.public_api,me=null==o?void 0:o.statistics_data,pe=null==o?void 0:o.statistics_forms_data,he=null==o?void 0:o.intro_message,ye=null==o?void 0:o.context_max_length,ve=null==o?void 0:o.banned_ips,ge=null==o?void 0:o.banned_words,be=null!==(e=null==o?void 0:o.admin_bar)&amp;&amp;void 0!==e?e:["settings"],_e=null==o?void 0:o.resolve_shortcodes,Ce=null==o?void 0:o.clean_uninstall,Ie=lt(o),Le=Ie.completionModels,ke=Ie.getModel,Ae=lt(o,null==o?void 0:o.ai_vision_default_env).visionModels,je=lt(o,null==o?void 0:o.ai_audio_default_env).audioModels,Pe=lt(o,null==o?void 0:o.ai_json_default_env).jsonModels,Me=lt(o,null==o?void 0:o.ai_images_default_env).imageModels,De=lt(o,null==o?void 0:o.ai_embeddings_default_env).embeddingsModels,Ge=ke(S.model),Be=(0,Ne.a)({queryKey:["incidents"],queryFn:us}),Ue=Be.isLoading,Ze=Be.data,Ve=is((function(){return null==Ze?void 0:Ze.filter((function(e){return new Date(e.date)&gt;new Date(Date.now()-864e5)})).length}),[Ze]),Ye=f,ze=function(){var e=as($u().mark((function e(){var t;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,cn();case 4:t=e.sent,i(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(He.ERROR.GETTING_OPTIONS,null!==e.t0&amp;&amp;void 0!==e.t0&amp;&amp;e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&amp;&amp;u(React.createElement(React.Fragment,null,React.createElement("div",null,He.ERROR.GETTING_OPTIONS),React.createElement("small",null,(0,R.io)(He.ERROR.CHECK_YOUR_CONSOLE))));case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=as($u().mark((function e(t){var n;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,JSON.stringify(t)!==JSON.stringify(o)){e.next=3;break}return e.abrupt("return");case 3:return v(!0),e.next=6,(0,R.PV)("".concat(T,"/settings/update"),{method:"POST",nonce:L,json:{options:t}});case 6:n=e.sent,i(n.options),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(He.ERROR.UPDATING_OPTIONS,null!==e.t0&amp;&amp;void 0!==e.t0&amp;&amp;e.t0.message?{message:e.t0.message,options:o,newOptions:t}:{err:e.t0,options:o,newOptions:t}),e.t0.message&amp;&amp;u(React.createElement(React.Fragment,null,React.createElement("div",null,He.ERROR.UPDATING_OPTIONS),React.createElement("small",null,(0,R.io)(He.ERROR.CHECK_YOUR_CONSOLE))));case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=as($u().mark((function e(t,n){var r;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ts(ts({},o),{},ns({},n,t)),e.next=3,We(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(){var e=as($u().mark((function e(t,n){var r;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ae.map((function(e){return e.id===t?ts(ts({},e),n):e})),qe(r,"embeddings_envs");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=as($u().mark((function e(t,n){var r;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Y.map((function(e){return e.id===t?ts(ts({},e),n):e})),qe(r,"ai_envs");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=as($u().mark((function e(){return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/settings/reset"),{method:"POST",nonce:L});case 6:alert("Settings reset. The page will now reload to reflect the changes."),window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Error while resetting settings. Please check your console."),console.log(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=as($u().mark((function e(){var t,n,r,a,o,i,l,c,u;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("exportSettings"),e.prev=1,e.next=4,an();case 4:return t=e.sent,e.next=7,ln();case 7:return n=e.sent,e.next=10,cn();case 10:r=e.sent,a={chatbots:t,themes:n,options:r},o=new Blob([JSON.stringify(a)],{type:"application/json"}),i=URL.createObjectURL(o),(l=document.createElement("a")).href=i,c=new Date,u="ai-engine-".concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate(),".json"),l.setAttribute("download",u),l.click(),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),alert("Error while exporting settings. Please check your console."),console.log(e.t0);case 26:return e.prev=26,v(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,22,26,29]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=as($u().mark((function e(){var t;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v("importSettings");try{(t=document.createElement("input")).type="file",t.accept="application/json",t.onchange=function(){var e=as($u().mark((function e(t){var n,r;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:(r=new FileReader).onload=function(){var e=as($u().mark((function e(t){var n,r,a,o;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t.target.result),r=n.chatbots,a=n.themes,o=n.options,e.next=4,on(r);case 4:return e.next=6,un(a);case 6:return e.next=8,We(o);case 8:alert("Settings imported. The page will now reload to reflect the changes."),window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click()}catch(e){alert("Error while importing settings. Please check your console."),console.log(e)}finally{v(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e,t,n){var r=function(){var r=as($u().mark((function r(){var a,o;return $u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=!1,o=ts({},t),ss.forEach((function(n){var r=n.envKey,i=n.modelKey,l=n.defaultModel,c=!1;if(t[r]&amp;&amp;(c=!!e.find((function(e){return e.id===t[r]}))),!c){var u=e.find((function(e){return"openai"===e.type}));u?o[r]===u.id&amp;&amp;o[i]===l||(a=!0,o[r]=u.id,o[i]=l):null===o[r]&amp;&amp;null===o[i]||(a=!0,o[r]=null,o[i]=null)}})),!a){r.next=6;break}return r.next=6,n(o);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();cs((function(){r()}),[e,t])}(Y,o,We),cs((function(){"chat"!==(null==Ge?void 0:Ge.mode)&amp;&amp;S.embeddings_index&amp;&amp;et("","embeddings_index")}),[S]);var et=function(){var e=as($u().mark((function e(t,n){var r;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ts(ts({},S),{},ns({},n,t)),e.next=3,qe(r,"shortcode_chat_params");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=React.createElement(m.r,{title:He.COMMON.UTILITIES},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_suggestions",label:He.COMMON.POSTS_SUGGESTIONS,value:"1",checked:N,description:He.COMMON.POSTS_SUGGESTIONS_HELP,onChange:qe}),React.createElement(h.P,{name:"module_woocommerce",label:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,value:"1",checked:_,description:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR_HELP,onChange:qe}))),nt=React.createElement(m.r,{title:He.COMMON.GENERATORS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_generator_content",label:He.COMMON.CONTENT_GENERATOR,value:"1",checked:D,description:He.COMMON.CONTENT_GENERATOR_HELP,onChange:qe}),React.createElement(h.P,{name:"module_generator_images",label:He.COMMON.IMAGES_GENERATOR,value:"1",checked:G,description:He.COMMON.IMAGES_GENERATOR_HELP,onChange:qe}))),rt=React.createElement(m.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{name:"module_playground",label:He.COMMON.ENABLE,value:"1",checked:M,description:He.COMMON.PLAYGROUND_HELP,onChange:qe})),at=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.FORMS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_forms",label:He.COMMON.ENABLE,value:"1",checked:A,requirePro:!0,isPro:I,description:He.COMMON.FORMS_HELP,onChange:qe})),it=React.createElement(m.r,{title:He.COMMON.FINETUNES},React.createElement(h.P,{name:"module_finetunes",label:He.COMMON.ENABLE,value:"1",checked:j,description:He.HELP.FINETUNES,onChange:qe})),ct=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.STATISTICS)},React.createElement(h.P,{name:"module_statistics",label:He.COMMON.ENABLE,value:"1",checked:P,requirePro:!0,isPro:I,description:He.COMMON.STATISTICS_HELP,onChange:qe})),ut=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.MODERATION)},React.createElement(h.P,{name:"module_moderation",label:He.COMMON.ENABLE,value:"1",checked:F,description:He.COMMON.MODERATION_HELP,onChange:qe})),st=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.TRANSCRIPTION)},React.createElement(h.P,{name:"module_transcription",label:He.COMMON.ENABLE,value:"1",checked:H,description:He.COMMON.TRANSCRIPTION_HELP,onChange:qe})),ft=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.EMBEDDINGS)},React.createElement(h.P,{name:"module_embeddings",label:He.COMMON.ENABLE,value:"1",checked:B,requirePro:!0,isPro:I,description:He.COMMON.EMBEDDINGS_HELP,onChange:qe})),dt=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.ASSISTANTS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_assistants",label:He.COMMON.ENABLE,value:"1",checked:U,requirePro:!0,isPro:I,description:He.HELP.ASSISTANTS,onChange:qe})),mt=React.createElement(m.r,{title:He.COMMON.CHATBOT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat",label:He.COMMON.ENABLE,value:"1",checked:V,description:He.COMMON.CHATBOT_HELP,onChange:qe}))),pt=React.createElement(m.r,{title:He.COMMON.QUERIES_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"statistics_data",label:He.COMMON.ENABLE,value:"1",checked:me,description:He.HELP.QUERIES_DATA,onChange:qe}))),ht=React.createElement(m.r,{title:He.COMMON.QUERIES_FORMS_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"statistics_forms_data",label:He.COMMON.ENABLE,value:"1",checked:pe,description:He.HELP.QUERIES_FORMS_DATA,onChange:qe}))),yt=React.createElement(m.r,{title:He.COMMON.INTRO_MESSAGE},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"intro_message",label:He.COMMON.ENABLE,value:"1",checked:he,description:He.HELP.INTRO_MESSAGE,onChange:qe}))),vt=React.createElement(m.r,{title:He.COMMON.WEBSPEECH_API},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_recognition",label:He.COMMON.SPEECH_RECOGNITION,value:"1",checked:se,description:He.HELP.SPEECH_RECOGNITION,onChange:qe})),React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_synthesis",label:He.COMMON.SPEECH_SYNTHESIS+" (SOON)",value:"1",disabled:!0,checked:fe,description:He.HELP.SPEECH_SYNTHESIS,onChange:qe}))),gt=React.createElement(m.r,{title:He.COMMON.STREAMING},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_stream",label:He.COMMON.ENABLE,value:"1",checked:ue,description:He.HELP.STREAMING,onChange:qe}))),bt=React.createElement(m.r,{title:He.SETTINGS.TYPEWRITER_EFFECT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_typewriter",label:He.COMMON.ENABLE,value:"1",checked:le,description:(0,R.io)(He.SETTINGS.TYPEWRITER_EFFECT_HELP),onChange:qe}))),Et=React.createElement(m.r,{title:He.COMMON.DISCUSSIONS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_discussions",label:He.COMMON.ENABLE,value:"1",checked:ce,description:He.HELP.DISCUSSIONS,onChange:qe}))),wt=React.createElement(m.r,{title:He.COMMON.SYNTAX_HIGHLIGHT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_syntax_highlighting",label:He.COMMON.ENABLE,value:"1",checked:ie,description:He.HELP.SYNTAX_HIGHLIGHT,onChange:qe}))),Rt=React.createElement(m.r,{title:He.COMMON.PUBLIC_API},React.createElement(h.P,{name:"public_api",label:He.COMMON.ENABLE,value:"1",checked:de,description:He.HELP.PUBLIC_API,onChange:qe})),xt=React.createElement(m.r,{title:"Local Upload"},React.createElement(Ee.N,{scrolldown:!0,name:"image_local_upload",value:null==o?void 0:o.image_local_upload,onChange:qe,description:"Images can be stored either in the filesystem or in the Media Library."},React.createElement(Ee.Z,{key:"uploads",value:"uploads",label:"Filesystem"}),React.createElement(Ee.Z,{key:"library",value:"library",label:"Media Library"}))),Ot=React.createElement(m.r,{title:"Remote Upload"},React.createElement(Ee.N,{scrolldown:!0,name:"image_remote_upload",value:null==o?void 0:o.image_remote_upload,onChange:qe,description:"Select Upload Data for private sites; Share URLs requires your WordPress to be online and reachable."},React.createElement(Ee.Z,{key:"data",value:"data",label:"Upload Data"}),React.createElement(Ee.Z,{key:"url",value:"url",label:"Share URLs"}))),St=React.createElement(m.r,{title:"Expiration"},React.createElement(Ee.N,{scrolldown:!0,name:"image_expires",value:null!==(t=null==o?void 0:o.image_expires)&amp;&amp;void 0!==t?t:"never",onChange:qe,description:"The images uploaded will be deleted after a certain amount of time."},React.createElement(Ee.Z,{key:3600,value:3600,label:"1 hour"}),React.createElement(Ee.Z,{key:21600,value:21600,label:"6 hours"}),React.createElement(Ee.Z,{key:86400,value:86400,label:"1 day"}),React.createElement(Ee.Z,{key:604800,value:604800,label:"1 week"}),React.createElement(Ee.Z,{key:2592e3,value:2592e3,label:"1 month"}),React.createElement(Ee.Z,{key:"Never",value:"never",label:"Never"}))),Tt=React.createElement(m.r,{title:"Local Download"},React.createElement(Ee.N,{scrolldown:!0,name:"image_local_download",value:null!==(n=null==o?void 0:o.image_local_download)&amp;&amp;void 0!==n?n:null,onChange:qe,description:"Images can be stored either in the filesystem or in the Media Library."},React.createElement(Ee.Z,{key:null,value:null,label:"None"}),React.createElement(Ee.Z,{key:"uploads",value:"uploads",label:"Filesystem"}),React.createElement(Ee.Z,{key:"library",value:"library",label:"Media Library"}))),Nt=React.createElement(m.r,{title:"Expiration"},React.createElement(Ee.N,{scrolldown:!0,name:"image_expires_download",value:null!==(r=null==o?void 0:o.image_expires_download)&amp;&amp;void 0!==r?r:"never",onChange:qe,description:"The download images will be deleted after a certain amount of time."},React.createElement(Ee.Z,{key:3600,value:3600,label:"1 hour"}),React.createElement(Ee.Z,{key:21600,value:21600,label:"6 hours"}),React.createElement(Ee.Z,{key:86400,value:86400,label:"1 day"}),React.createElement(Ee.Z,{key:604800,value:604800,label:"1 week"}),React.createElement(Ee.Z,{key:2592e3,value:2592e3,label:"1 month"}),React.createElement(Ee.Z,{key:"Never",value:"never",label:"Never"}))),_t=React.createElement(m.r,{title:He.COMMON.DEV_TOOLS},React.createElement(h.P,{name:"module_devtools",label:He.COMMON.ENABLE,value:"1",checked:Z,description:He.HELP.DEV_TOOLS,onChange:qe})),Ct=React.createElement(m.r,{title:He.COMMON.SHORTCODES},React.createElement(h.P,{name:"resolve_shortcodes",label:He.COMMON.RESOLVE,value:"1",checked:_e,description:He.HELP.RESOLVE_SHORTCODE,onChange:qe})),It=React.createElement(m.r,{title:He.COMMON.CONTEXT_MAX_LENGTH},React.createElement(we.A,{name:"context_max_length",value:ye,type:"number",step:"1",description:He.HELP.CONTEXT_MAX_LENGTH,onBlur:qe})),kt=React.createElement(m.r,{title:He.COMMON.BANNED_WORDS},React.createElement(we.A,{id:"banned_words",name:"banned_words",value:ge,isCommaSeparatedArray:!0,description:He.HELP.BANNED_WORDS,onBlur:qe})),At=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_default_model",value:W,onChange:qe},Le.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),jt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_embeddings_default_model",value:K,onChange:qe},De.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),Pt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_vision_default_model",value:X,onChange:qe},Ae.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),Mt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_audio_default_model",value:te,onChange:qe},je.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),Dt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_json_default_model",value:re,onChange:qe},Pe.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),Gt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(Ee.N,{scrolldown:!0,name:"ai_images_default_model",value:$,onChange:qe},Me.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})})))),Ft=React.createElement(m.r,{title:He.COMMON.BANNED_IPS},React.createElement(we.A,{id:"banned_ips",name:"banned_ips",value:ve,isCommaSeparatedArray:!0,description:He.HELP.BANNED_IPS,onBlur:qe})),Bt=React.createElement(m.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.playground,onChange:function(e){var t=ts(ts({},be),{},{playground:e});qe(t,"admin_bar")}})),Ut=React.createElement(m.r,{title:He.COMMON.GENERATE_CONTENT},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.content_generator,onChange:function(e){var t=ts(ts({},be),{},{content_generator:e});qe(t,"admin_bar")}})),Ht=React.createElement(m.r,{title:He.COMMON.GENERATE_IMAGES},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.images_generator,onChange:function(e){var t=ts(ts({},be),{},{images_generator:e});qe(t,"admin_bar")}})),Zt=React.createElement(m.r,{title:"AI Engine"},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.settings,onChange:function(e){var t=ts(ts({},be),{},{settings:e});qe(t,"admin_bar")}})),Vt=React.createElement("div",null,React.createElement("div",{style:{fontSize:12,marginTop:-5}},(0,R.io)(He.COMMON.USAGE_COSTS_HELP)),React.createElement(ca,{options:o})),Yt=Ve&gt;0?React.createElement(Re.J,{style:{marginLeft:5,marginRight:-5,display:"inline"},width:"16",icon:"alert",variant:"warning"}):null,zt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_default_env",value:z,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),Wt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_embeddings_default_env",value:Q,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),qt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_vision_default_env",value:q,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),Xt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_audio_default_env",value:ee,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),Qt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_json_default_env",value:ne,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),Kt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(Ee.N,{scrolldown:!0,name:"ai_images_default_env",value:J,onChange:qe},Y.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))))),Jt=React.createElement(Ee.N,{scrolldown:!0,name:"embeddings_default_env",value:oe,onChange:qe},ae.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})}))),$t=React.createElement(m.r,{title:He.COMMON.PLUGIN_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"clean_uninstall",label:He.COMMON.DELETE_ALL,description:He.COMMON.PLUGIN_DATA_DESCRIPTION,value:"1",checked:Ce,onChange:qe})));return React.createElement(y.s,null,React.createElement(Lt,{options:o}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:o}),he&amp;&amp;React.createElement(Oe.H,null,(0,R.io)(He.SETTINGS.INTRO)),React.createElement(b.c,{keepTabOnReload:!0},React.createElement(b.P,{key:"dashboard",title:He.COMMON.DASHBOARD},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.CLIENT_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),mt,at),React.createElement(w.v,{busy:Ye,title:He.COMMON.SERVER_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),dt,ct,ft,it,ut),React.createElement(w.v,{busy:Ye,title:He.COMMON.BACKEND_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),nt,rt,tt,st)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.USAGE_COSTS,className:"primary"},Vt)))),V&amp;&amp;React.createElement(b.P,{key:"chatbots",title:He.COMMON.CHATBOTS},React.createElement(_c,{options:o,updateOption:qe,busy:Ye})),V&amp;&amp;ce&amp;&amp;React.createElement(b.P,{key:"discussions",title:He.COMMON.DISCUSSIONS},React.createElement(Ga,null)),P&amp;&amp;React.createElement(b.P,{key:"queries",title:He.COMMON.QUERIES},React.createElement(lu,{options:o,updateOption:qe,busy:Ye})),B&amp;&amp;React.createElement(b.P,{key:"embeddings",title:He.COMMON.EMBEDDINGS},React.createElement(na,{options:o,updateEnvironment:Xe,updateOption:qe})),U&amp;&amp;React.createElement(b.P,{key:"assistants",title:He.COMMON.ASSISTANTS},React.createElement(Xu,{options:o,updateOption:qe,refreshOptions:ze})),j&amp;&amp;React.createElement(b.P,{key:"finetunes",title:He.COMMON.FINETUNES},React.createElement(Zn,{options:o,updateOption:qe,refreshOptions:ze})),F&amp;&amp;React.createElement(b.P,{key:"moderation",title:He.COMMON.MODERATION},React.createElement(nr,{options:o,updateOption:qe,busy:Ye})),H&amp;&amp;React.createElement(b.P,{key:"transcription",title:He.COMMON.TRANSCRIPTION},React.createElement(Pu,{options:o,updateOption:qe})),React.createElement(b.P,{key:"settings",title:React.createElement(React.Fragment,null,He.COMMON.SETTINGS,Yt)},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(Tu,{busy:Ye,options:o,environments:Y,updateEnvironment:Qe,updateOption:qe}),React.createElement("div",{style:{padding:"0px 10px 15px 10px",marginTop:13,marginBottom:5}},React.createElement(d.O,{h2:!0,style:{color:"white",marginBottom:15}},He.COMMON.AI_ENVIRONMENT_DEFAULTS),React.createElement(b.c,{inversed:!0},React.createElement(b.P,{key:"ai",title:He.COMMON.DEFAULT,busy:Ye},zt,At),React.createElement(b.P,{key:"vision",title:He.COMMON.VISION,busy:Ye},qt,Pt),React.createElement(b.P,{key:"images",title:He.COMMON.IMAGES,busy:Ye},Kt,Gt),React.createElement(b.P,{key:"embeddings",title:He.COMMON.EMBEDDINGS,busy:Ye},Wt,jt),React.createElement(b.P,{key:"audio",title:He.COMMON.AUDIO,busy:Ye},Xt,Mt),React.createElement(b.P,{key:"json",title:He.COMMON.JSON,busy:Ye},Qt,Dt))),B&amp;&amp;React.createElement(React.Fragment,null,React.createElement(pu,{busy:Ye,options:o,environments:ae,updateEnvironment:Xe,updateOption:qe}),React.createElement(w.v,{busy:Ye,title:He.COMMON.EMBEDDINGS_ENVIRONMENT_DEFAULT,className:"primary"},Jt)),React.createElement(w.v,{busy:Ue,title:React.createElement("div",{style:{display:"flex"}},He.COMMON.INCIDENTS_OPENAI,Yt),className:"primary",contentStyle:{padding:0}},React.createElement(qn,{incidents:Ze,isLoading:Ue})),React.createElement(w.v,{busy:Ye,title:He.COMMON.MAINTENANCE,className:"primary"},React.createElement(E._,{className:"blue",onClick:Je},"Export Settings"),React.createElement(E._,{className:"danger",onClick:$e},"Import Settings"),React.createElement(E._,{className:"danger",onClick:Ke},"Reset Settings"))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.GENERAL,className:"primary"},gt),React.createElement(w.v,{busy:Ye,title:He.COMMON.USER_INTERFACE,className:"primary"},yt),React.createElement(w.v,{busy:Ye,title:He.COMMON.CHATBOT,className:"primary"},Et,wt,vt),P&amp;&amp;React.createElement(w.v,{busy:Ye,title:He.COMMON.STATISTICS,className:"primary"},React.createElement("p",null,He.HELP.STATISTICS),pt,ht),React.createElement(w.v,{busy:Ye,title:He.COMMON.IMAGES,className:"primary"},React.createElement("p",null,React.createElement("b",null,"User Upload")),xt,Ot,St,React.createElement("p",null,React.createElement("b",null,"AI Generated")),Tt,null!==(null==o?void 0:o.image_local_download)&amp;&amp;Nt),React.createElement(w.v,{busy:Ye,title:He.COMMON.ADMIN_TOOLS,className:"primary"},React.createElement(Se.L,{title:He.COMMON.ADMIN_BAR}),Zt,Bt,Ut,Ht),React.createElement(w.v,{busy:Ye,title:He.COMMON.ADVANCED,className:"primary"},Ct,It,Rt,_t,$t),React.createElement(w.v,{busy:Ye,title:He.COMMON.SECURITY,className:"primary"},kt,Ft),React.createElement(w.v,{busy:Ye,title:He.COMMON.LEGACY_FEATURES,className:"primary"},bt)))),Z&amp;&amp;React.createElement(b.P,{key:"devtools",title:He.COMMON.DEV_TOOLS},React.createElement(fu,{options:o,setOptions:i,updateOption:qe})),React.createElement(b.P,{key:"license",title:He.COMMON.LICENSE_TAB},React.createElement(Fe,{domain:O,prefix:x,isPro:C,isRegistered:I}))))),React.createElement(Te.L,{isOpen:c,title:He.COMMON.ERROR,content:c,onRequestClose:function(){return u(!1)},okButton:{label:"Close",onClick:function(){return u(!1)}}}))};var ds=n(5307),ms=[{value:"informative",label:"Informative"},{value:"descriptive",label:"Descriptive"},{value:"creative",label:"Creative"},{value:"narrative",label:"Narrative"},{value:"persuasive",label:"Persuasive"},{value:"reflective",label:"Reflective"},{value:"argumentative",label:"Argumentative"},{value:"analytical",label:"Analytical"},{value:"evaluative",label:"Evaluative"},{value:"journalistic",label:"Journalistic"},{value:"technical",label:"Technical"}],ps=[{value:"neutral",label:"Neutral"},{value:"formal",label:"Formal"},{value:"assertive",label:"Assertive"},{value:"cheerful",label:"Cheerful"},{value:"humorous",label:"Humorous"},{value:"informal",label:"Informal"},{value:"inspirational",label:"Inspirational"},{value:"professional",label:"Professional"},{value:"confluent",label:"Confluent"},{value:"emotional",label:"Emotional"},{value:"persuasive",label:"Persuasive"},{value:"supportive",label:"Supportive"},{value:"sarcastic",label:"Sarcastic"},{value:"condescending",label:"Condescending"},{value:"skeptical",label:"Skeptical"},{value:"narrative",label:"Narrative"},{value:"journalistic",label:"Journalistic"}],hs="gpt-3.5-turbo",ys=[{id:"default",name:"Default",mode:"query",model:hs,temperature:.8,stopSequence:"",maxTokens:2048,prompt:""},{id:"article_translator",name:"Text Translator",mode:"query",model:hs,temperature:.3,stopSequence:"",maxTokens:2048,prompt:"Translate this article into French:\n\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town.\n"},{id:"restaurant_review",name:"Restaurant Review Writer",mode:"query",model:hs,temperature:.8,stopSequence:"",maxTokens:2048,prompt:"Write a review for a French restaurant located in Kagurazaka, Tokyo. Looks like an old restaurant, food is traditional, chef is talkative, it is always full. Not expensive, but not fancy.\n"},{id:"article_corrector",name:"Text Corrector",mode:"query",model:hs,temperature:.2,stopSequence:"",maxTokens:2048,prompt:"Fix the grammar and spelling mistakes in this text:\n\nI wake up at eleben yesderday, I will go bed eary tonigt.\n"},{id:"seo_assistant",name:"SEO Optimizer",mode:"query",model:hs,temperature:.6,stopSequence:"",maxTokens:1024,prompt:"For the following article, write a SEO-friendly and short title, keywords for Google, and a short excerpt to introduce it. Use this format:\n\nTitle: \nKeywords: \nExcerpt:\n\nArticle:\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town."}],vs=[{id:"default",name:"Default",model:"dall-e-3",maxResults:1,prompt:""},{id:"japan",name:"Ghibli Scene",model:"dall-e-3",maxResults:1,prompt:"Create an image in the style of a Ghibli-inspired anime oil painting, depicting a quaint, old house in the Japanese countryside. This house, reminiscent of a traditional izakaya, is surrounded by lush trees and overlooks vibrant rice fields. The scene is bathed in the warm, soft glow of a setting sun, casting gentle shadows and creating a tranquil, nostalgic atmosphere. The composition should be rich in texture, capturing the serene beauty of rural Japan in a whimsical, Ghibli-like manner."},{id:"steampunk",name:"Steampunk Architecture",model:"dall-e-3",maxResults:1,prompt:"Create an image showcasing steampunk architecture, focusing on the exterior view of a grand theater. The style should reflect award-winning architectural photography from a science fiction magazine. The theater, a masterpiece of steampunk design, combines Victorian influences with futuristic, mechanical elements. Its intricate facade features exposed gears, brass pipes, and steam vents, all integrated into the ornate, classical structure. The building should be set against a dramatic sky, highlighting its unique features and the interplay of light and shadow, capturing the essence of a high-quality, professional architectural photograph."},{id:"nyao-illustration",name:"Nyao Illustration",model:"dall-e-3",maxResults:1,prompt:"The character is an anthropomorphic cat with a whimsical and endearing design, featuring a blend of white and blue fur. The right side of the cat's face has a patch of blue fur that also covers the outer part of the ear, while the left side remains predominantly white, except that the eye is surrounded by a green patch of fur. The tail mirrors this pattern with white fur leading to a blue tip. The character's facial expression is joyous, with a wide, open-mouthed smile showcasing a single front tooth and a small, black nose.&nbsp; The cat's paws are also white, with defined fingers that suggest human-like dexterity. An orange collar encircles the neck, contrasting with the green and blue tones of the body. This collar is adorned with a blue and white emblem in the center, reminiscent of the WordPress logo. The drawing style of this image can be defined as a digital illustration with a cartoonish and whimsical aesthetic. It features bold outlines, flat colors, and simplified shapes which are typical of contemporary character design aimed at a broad, family-friendly audience. The style is reminiscent of modern vector art, which is often used for web graphics, animation, and media aimed at engaging a casual viewer with its clear, approachable, and vibrant visuals."}],gs=[{id:"default",name:"Default",mode:"single",topic:"",topics:"",topicsAreTitles:!1,title:"",sections:"",model:hs,temperature:.8,maxTokens:2048,sectionsCount:2,paragraphsCount:3,language:"en",customLanguage:"",writingStyle:"creative",writingTone:"cheerful",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'},{id:"",name:"Expore Japan",mode:"single",topic:"Tokyo, its main areas and attractions, one day tour for a first-time visitor. Simple vocabulary, short paragraphs.",topics:"",topicsAreTitles:!1,title:"",sections:"",model:hs,temperature:.8,maxTokens:2048,sectionsCount:3,paragraphsCount:2,language:"en",customLanguage:"",writingStyle:"informative",writingTone:"informal",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'}];function bs(e){return bs="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},bs(e)}function Es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ws(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==bs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==bs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===bs(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Es(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ns(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(){xs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==bs(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(bs(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Os(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ss(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Os(o,r,a,i,l,"next",e)}function l(e){Os(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ts(e){return function(e){if(Array.isArray(e))return _s(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ns(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ns(e,t){if(e){if("string"==typeof e)return _s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_s(e,t):void 0}}function _s(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Cs=wp.element,Is=Cs.useState,Ls=Cs.useEffect,ks=Cs.useMemo;function As(){return(new Date).getTime().toString(36)+Math.random().toString(36).substr(2,9)}var js=function(e){var t=Ts(e);return t.sort((function(e,t){return e.name.localeCompare(t.name)})),t},Ps=function(){var e=Ss(xs().mark((function e(t){var n,r,a;return xs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.PV)("".concat(T,"/system/templates?category=").concat(t),{nonce:L});case 3:return n=e.sent,r=[],"imagesGenerator"===t?r=vs:"playground"===t?r=ys:"contentGenerator"===t&amp;&amp;(r=gs),a=r.find((function(e){return"default"===e.id})),null!=n&amp;&amp;n.templates&amp;&amp;n.templates.length&gt;0&amp;&amp;(r=js(n.templates)),a?r.forEach((function(e){Object.keys(a).forEach((function(t){void 0===e[t]&amp;&amp;(e[t]=a[t])}))})):console.warn("Default template not found for category: "+t),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();const Ms=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:"playground",t=Rs(Is(),2),n=t[0],r=t[1],a=Rs(Is(!1),2),o=a[0],i=a[1],l=Rs(Is([]),2),c=l[0],u=l[1],s=(0,Ne.a)({queryKey:["templates-".concat(e)],queryFn:function(){return Ps(e)}}),f=s.isLoading,d=s.data;Ls((function(){for(var t=0;t&lt;c.length;t++){var n=c[t],r=!1;if(n&amp;&amp;(!n.envId||!n.model)){var a=(null==k?void 0:k.ai_default_env)||null,o=(null==k?void 0:k.ai_default_model)||null;"imagesGenerator"===e&amp;&amp;(o="dall-e-3-hd"),a&amp;&amp;o&amp;&amp;(n.envId=a,n.model=o,r=!0)}r&amp;&amp;u(Ts(c))}}),[c]),Ls((function(){d&amp;&amp;(u(d),r(d[0]))}),[d]);var m=function(){var t=Ss(xs().mark((function t(n){var r;return xs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=js(n),u(n),t.prev=2,t.next=5,(0,R.PV)("".concat(T,"/system/templates"),{method:"POST",nonce:L,json:{category:e,templates:n}});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),alert(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),p=ks((function(){if(!n||0===c.length)return!1;if(Object.keys(n).length!==Object.keys(c.find((function(e){return e.id===n.id}))).length)return!0;var e=c.find((function(e){return e.id===n.id}));return Object.keys(e).some((function(t){return e[t]!==n[t]}))}),[n,c]),h=function(){var e=c.find((function(e){return e.id===n.id}));e&amp;&amp;r(ws({},e))},y=function(){var e=prompt(He.COMMON.NAME,n.name||He.TEMPLATES.NEW_TEMPLATE_NAME);if(!e)return!1;var t=ws(ws({},n),{},{id:As(),name:e});m([].concat(Ts(c),[t])),r(ws({},t))},v=function(){var e=c.map((function(e){return e.id===n.id?n:e}));m(e),r(ws({},n))},g=function(){var e=prompt("Template Name",n.name),t=ws(ws({},c[0]),{},{id:As(),name:e});m([].concat(Ts(c),[t])),r(ws({},t))},b=function(){var e=prompt("Template Name",n.name);if(e){var t=c.map((function(t){return t.id===n.id?ws(ws({},t),{},{name:e}):t}));m(Ts(t)),r(ws({},t.find((function(e){return e.id===n.id}))))}},w=function(){if(confirm(He.TEMPLATES.DELETE_ALL_CONFIRM)){var t=[];"imagesGenerator"===e?t=Ts(vs):"playground"===e?t=Ts(ys):"contentGenerator"===e&amp;&amp;(t=Ts(gs)),m(t),r(ws({},t[0]))}},x=ks((function(){return p&amp;&amp;"default"!==n.id}),[n]),O=ks((function(){return React.createElement("div",{style:{margin:"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("h3",{style:{margin:0}},He.TEMPLATES.TEMPLATES),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(Gt.Q,{small:!0,onLabel:He.TEMPLATES.EDIT,offLabel:He.TEMPLATES.EDIT,width:60,onChange:i,checked:o}))),f&amp;&amp;React.createElement("div",{style:{display:"flex",marginTop:30,justifyContent:"center"}},React.createElement("div",{style:{width:60}},React.createElement(ds.S,{width:20}))),React.createElement("ul",null,c.filter((function(e){return"default"!==e.id})).map((function(e){return React.createElement("li",{key:e.id,className:n.id===e.id?"active"+(p&amp;&amp;o?" modified":""):"",onClick:function(){r(ws({},e))}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("div",{style:{flex:"auto"}},e.name),o&amp;&amp;"default"!==e.id&amp;&amp;React.createElement(E._,{rounded:!0,icon:"trash",className:"danger",style:{margin:-6,marginRight:-5},onClick:function(t){!function(e){if(confirm(He.TEMPLATES.DELETE_CONFIRM)){var t=c.filter((function(t){return t.id!==e.id}));m(Ts(t)),r(ws({},t[0]))}}(e)}})))}))),p&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(xe.i,null),o&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{fullWidth:!0,className:"primary",disabled:!x,onClick:v},"Save"),React.createElement(xe.i,{tiny:!0})),React.createElement(E._,{fullWidth:!0,className:"secondary",onClick:h},"Reset")),o&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(xe.i,null),React.createElement(xe.i,{line:!0},"Template Editor"),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{className:"primary",style:{flex:1},onClick:g},"New"),React.createElement(E._,{className:"primary",style:{flex:1},onClick:b},"Rename"),React.createElement(E._,{onClick:y,style:{flex:1}},"Duplicate")),React.createElement(xe.i,{tiny:!0}),React.createElement(E._,{className:"danger",onClick:w},"Reset All Templates")))}));return{template:n,clearTemplate:h,setTemplate:function(e){r(e)},jsxTemplates:O,isEdit:o}};function Ds(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Fs=wp.element,Bs=Fs.useState,Us=Fs.useMemo;const Hs=function(e){var t=Ds(Bs(0),2),n=t[0],r=t[1],a=Ds(Bs(0),2),o=a[0],i=a[1],l=function(){r(0),i(0)};return{addUsage:function(t,a,o){var l=e(t,a,o);i(l),r(n+l)},jsxUsageCosts:Us((function(){var e=(0,R.io)(He.COMMON.USAGE_COSTS_HELP);return I||(e=React.createElement(React.Fragment,null,e," ",(0,R.io)(He.COMMON.USAGE_COSTS_PRO_HELP))),React.createElement(Za,null,React.createElement("h3",null,He.COMMON.USAGE_COSTS),React.createElement("div",null,"Session: ",React.createElement("span",{style:{float:"right"}},"$",n.toFixed(4))),React.createElement("div",null,"Last Request: ",React.createElement("span",{style:{float:"right"}},"$",o.toFixed(4))),React.createElement(xe.i,{height:30}),React.createElement("p",{style:{fontSize:12,lineHeight:1.2,color:"var(--neko-dark-gray)"}},e),React.createElement(E._,{fullWidth:!0,onClick:l},"Reset Usage"))}),[n,o])}};function Zs(e){return Zs="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Zs(e)}var Vs;function Ys(){Ys=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Zs(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Zs(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function zs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qs(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){Xs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Zs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Zs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Zs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ks(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Js=wp.element,$s=Js.useState,ef=Js.useEffect,tf=(Js.useMemo,(0,G.ZP)(Dt.l)(Vs||(Vs=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; .neko-textarea-container {\n&nbsp; \n&nbsp; &nbsp; textarea {\n&nbsp; &nbsp; &nbsp; color: white;\n&nbsp; &nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; &nbsp; font-family: monospace;\n&nbsp; &nbsp; &nbsp; background: #333d4e;\n&nbsp; &nbsp; &nbsp; border: none;\n\n&nbsp; &nbsp; &nbsp; &amp;:focus {\n&nbsp; &nbsp; &nbsp; &nbsp; background-color: #333d4e;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n"]))));const nf=function(){var e,t,n,r,a,o,i,l=Ms("playground"),c=l.template,u=l.setTemplate,s=l.jsxTemplates,f=Qs($s(""),2),m=f[0],p=f[1],h=Qs($s(!1),2),v=h[0],b=h[1],w=Qs($s(""),2),x=w[0],O=w[1],S=Qs($s(),2),N=S[0],_=S[1],C=Qs($s(),2),I=C[0],j=C[1],M=null!==(e=null==c?void 0:c.prompt)&amp;&amp;void 0!==e?e:"",D=null!==(t=null==c?void 0:c.model)&amp;&amp;void 0!==t?t:"gpt-3.5-turbo",G=null!==(n=null==c?void 0:c.mode)&amp;&amp;void 0!==n?n:"query",F=null!==(r=null==c?void 0:c.temperature)&amp;&amp;void 0!==r?r:1,B=null!==(a=null==c?void 0:c.envId)&amp;&amp;void 0!==a?a:"",U=null!==(o=null==c?void 0:c.stopSequence)&amp;&amp;void 0!==o?o:"",H=null!==(i=null==c?void 0:c.maxTokens)&amp;&amp;void 0!==i?i:2048,Z=lt(k,B||null),V=Z.calculatePrice,Y=Z.completionModels,z=Hs(V),W=z.addUsage,q=z.jsxUsageCosts,X=(null==k?void 0:k.ai_envs)||[],Q=function(e,t){u(qs(qs({},c),{},Xs({},t,e)))},K=function(e){u(qs(qs({},c),{},{prompt:e}))};ef((function(){c&amp;&amp;p("")}),[c]);var J=function(){var e,t=(e=Ys().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return Ys().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length&gt;0&amp;&amp;void 0!==c[0]?c[0]:M,b(!0),_(new Date),e.prev=3,a=U.replace(/\\n/g,"\n"),o=P?function(e){p(e)}:null,e.next=8,Qi("".concat(T,"/ai/completions"),{env:"playground",session:A,prompt:t,temperature:F,envId:B,model:D,maxTokens:H,stop:a,stream:P},L,P);case 8:return i=e.sent,e.next=12,qi(i,o,null);case 12:if(!1!==(null==(l=e.sent)?void 0:l.success)){e.next=15;break}throw new Error(null==l?void 0:l.message);case 15:console.log("Completions",{prompt:t,result:l}),"continuous"===G?K(t+"\n"+l.data+"\n"):p(l.data),W(D,(null==l||null===(n=l.usage)||void 0===n?void 0:n.prompt_tokens)||0,(null==l||null===(r=l.usage)||void 0===r?void 0:r.completion_tokens)||0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),j(e.t0.message);case 23:_(),b(!1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){zs(o,r,a,i,l,"next",e)}function l(e){zs(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.PLAYGROUND}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(Oe.H,{style:{marginBottom:0}},React.createElement(d.O,{p:!0},(0,R.io)(He.PLAYGROUND.INTRO)))),React.createElement(g.z,null,React.createElement(Za,null,s)),React.createElement(g.z,{style:{flex:3}},React.createElement(Za,null,"continuous"!==G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(tf,{rows:12,onChange:K,value:M})),"continuous"===G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(tf,{rows:18,onChange:K,value:M}),React.createElement("div",{style:{display:"flex"}},React.createElement("span",{className:"dashicons dashicons-format-continuous",style:{position:"absolute",color:"white",zIndex:200,fontSize:28,marginTop:12,marginLeft:10}}),React.createElement(Va,{name:"continuousEntry",value:x,onChange:O,onEnter:function(){var e=M+"Human: "+x;K(e),O(""),J(e)},disabled:v})))),React.createElement(xe.i,null),(m||v)&amp;&amp;React.createElement(Za,null,React.createElement(nl,{content:m,isStreaming:P&amp;&amp;v}))),React.createElement(g.z,null,"query"===G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Za,null,React.createElement(E._,{fullWidth:!0,onClick:function(){J()},isBusy:v,startTime:N,style:{height:50,fontSize:14,flex:4}},He.COMMON.SUBMIT)),React.createElement(xe.i,null)),React.createElement(Za,null,React.createElement("h3",null,He.COMMON.SETTINGS),React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(Ee.N,{scrolldown:!0,name:"envId",value:null!=B?B:"",onChange:Q},X.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"None"})),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(Ee.N,{name:"model",value:D,scrolldown:!0,onChange:Q},Y.map((function(e){return React.createElement(Ee.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",value:F,type:"number",onChange:function(e){return Q(parseFloat(e),"temperature")},description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:F&gt;=0&amp;&amp;F&lt;=1?"inherit":"red"}},He.HELP.TEMPERATURE))}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",value:H,type:"number",onChange:function(e){return Q(parseInt(e),"maxTokens")},description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.MAX_TOKENS))}),React.createElement("label",null,He.COMMON.STOP_SEQUENCE,":"),React.createElement(we.A,{name:"stopSequence",value:U,type:"text",onChange:Q,description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.STOP_SEQUENCE))})),React.createElement(xe.i,null),q)),React.createElement(Te.L,{isOpen:I,onRequestClose:function(){j()},okButton:{onClick:function(){j()}},title:"Error",content:React.createElement("p",null,I)}))};var rf,af;function of(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lf=G.ZP.div(rf||(rf=of(["\n&nbsp; margin-bottom: 5px;\n"]))),cf=G.ZP.div(af||(af=of(["\n&nbsp; margin-top: 5px;\n&nbsp; padding: 10px;\n&nbsp; font-size: 14px;\n&nbsp; cursor: pointer;\n&nbsp; background: #dbf2ff;\n\n&nbsp; &amp;:hover {\n&nbsp; &nbsp; background: #037cba;\n&nbsp; &nbsp; color: white;\n&nbsp; }\n"])));function uf(e){return uf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},uf(e)}function sf(){sf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==uf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(uf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ff(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function df(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ff(o,r,a,i,l,"next",e)}function l(e){ff(o,r,a,i,l,"throw",e)}i(void 0)}))}}function mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var hf=wp.element,yf=hf.useState,vf=hf.useEffect,gf=hf.useMemo;const bf=function(e){var t=e.post,n=e.onTitleClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=mf(yf([]),2),l=i[0],c=i[1],u=mf(yf(!1),2),s=u[0],f=u[1],d=mf(yf(!1),2),m=d[0],p=d[1];vf((function(){t&amp;&amp;h(t)}),[t]);var h=function(){var e=df(sf().mark((function e(t){var n,r,a;return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,t.postTitle,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:"suggestTitles",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=df(sf().mark((function e(t){return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=df(sf().mark((function e(){return sf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=gf((function(){return s?React.createElement(ds.S,{type:"circle",size:"10%"}):m?React.createElement(React.Fragment,null,"Error: ",m):(null==l?void 0:l.length)&gt;0?React.createElement(React.Fragment,null,"Pick a new title by clicking on it.",React.createElement(lf,null,l.map((function(e){return React.createElement(cf,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,m]);return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:t,onRequestClose:v,title:'New title for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function Ef(e){return Ef="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Ef(e)}function wf(){wf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Ef(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ef(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Rf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function xf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rf(o,r,a,i,l,"next",e)}function l(e){Rf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Of(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Tf=wp.element,Nf=Tf.useState,_f=Tf.useEffect,Cf=Tf.useMemo;const If=function(e){var t=e.post,n=e.onExcerptClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Of(Nf([]),2),l=i[0],c=i[1],u=Of(Nf(!1),2),s=u[0],f=u[1],d=Of(Nf(!1),2),m=d[0],p=d[1];_f((function(){t&amp;&amp;h(t)}),[t]);var h=function(){var e=xf(wf().mark((function e(t){var n,r,a;return wf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:"suggestExcerpts",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=xf(wf().mark((function e(t){return wf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=xf(wf().mark((function e(){return wf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=Cf((function(){return s?React.createElement(ds.S,{type:"circle",size:"10%"}):m?React.createElement(React.Fragment,null,"Error: ",m):(null==l?void 0:l.length)&gt;0?React.createElement(React.Fragment,null,"Pick a new excerpt by clicking on it.",React.createElement(lf,null,l.map((function(e){return React.createElement(cf,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,m]);return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:t,onRequestClose:v,title:'New excerpt for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function Lf(e){return Lf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Lf(e)}function kf(){kf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Lf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Lf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Af(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function jf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Af(o,r,a,i,l,"next",e)}function l(e){Af(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Pf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Mf=wp.element,Df=Mf.useState,Gf=Mf.useEffect;const Ff=function(){var e,t,n=(e=Df(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];Gf((function(){document.querySelectorAll(".mwai-link-title").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"title"})}),!1)})),document.querySelectorAll(".mwai-link-excerpt").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"excerpt"})}),!1)}))}),[]);var o=function(){var e=jf(kf().mark((function e(t){var n,o,i,l;return kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_title"),{method:"POST",nonce:L,json:{postId:r.postId,title:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a(),(o=document.querySelector('tr[id="post-'.concat(r.postId,'"]')))&amp;&amp;(i=o.querySelector(".row-title"))&amp;&amp;(i.innerHTML=t),(l=o.querySelector(".hidden .post_title"))&amp;&amp;(l.innerHTML=t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=jf(kf().mark((function e(t){var n;return kf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_excerpt"),{method:"POST",nonce:L,json:{postId:r.postId,excerpt:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(bf,{post:"title"===(null==r?void 0:r.mode)?r:null,onTitleClick:o,onClose:function(){a()}}),React.createElement(If,{post:"excerpt"===(null==r?void 0:r.mode)?r:null,onExcerptClick:i,onClose:function(){a()}})))};function Bf(e){return Bf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Bf(e)}function Uf(){Uf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Bf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Bf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Hf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hf(o,r,a,i,l,"next",e)}function l(e){Hf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vf(Object(n),!0).forEach((function(t){zf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Bf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Bf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Bf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||qf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qf(e,t){if(e){if("string"==typeof e)return Xf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xf(e,t):void 0}}function Xf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Qf=wp.element,Kf=Qf.useState,Jf=Qf.useEffect,$f=Qf.useMemo;const ed=function(){var e,t,n,r,a,o,i,l,c,u,s,f,m,p,v,b,w,x,O,S=Wf(Kf(""),2),N=S[0],_=S[1],C=Wf(Kf(""),2),I=C[0],j=C[1],P=Ms("contentGenerator"),M=P.template,D=P.setTemplate,G=P.clearTemplate,F=P.jsxTemplates,B=(0,Yt.qj)(),U=Wf(Kf(!1),2),H=U[0],Z=U[1],V=Wf(Kf(),2),Y=V[0],z=V[1],W=Wf(Kf(!1),2),q=W[0],X=W[1],Q=Wf(Kf(!1),2),K=Q[0],J=Q[1],$=Wf(Kf(!1),2),ee=$[0],te=$[1],ne=Wf(Kf(),2),re=ne[0],ae=ne[1],oe=Wf(Kf("post"),2),ie=oe[0],le=oe[1],ce=Wf(Kf([]),2),ue=ce[0],se=ce[1],fe=Wf(Kf([]),2),de=fe[0],me=fe[1],pe=Wf(Kf({}),2),he=pe[0],ye=pe[1],ve=$f((function(){return function(e){if(!e)return null;var t=e.split(" ").length,n=e.length,r=[];return n?(t&lt;3?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):t&gt;8?r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG):n&lt;40?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):n&gt;70&amp;&amp;r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG_2),r.join(" ")):void 0}(Se)}),[Se]),ge=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),be=ge.isLoading,Re=ge.data,Oe=B.busy||H||be,Se=null!==(e=null==M?void 0:M.title)&amp;&amp;void 0!==e?e:"",_e=null!==(t=null==M?void 0:M.sections)&amp;&amp;void 0!==t?t:"",Ce=null!==(n=null==M?void 0:M.mode)&amp;&amp;void 0!==n?n:"single",Ie=null!==(r=null==M?void 0:M.topic)&amp;&amp;void 0!==r?r:"",Le=null!==(a=null==M?void 0:M.topics)&amp;&amp;void 0!==a?a:"",ke=null!==(o=null!==(i=null==M?void 0:M.model)&amp;&amp;void 0!==i?i:null==k?void 0:k.fallback_model)&amp;&amp;void 0!==o?o:null,Ae=null!==(l=null==M?void 0:M.sectionsCount)&amp;&amp;void 0!==l?l:2,je=null!==(c=null==M?void 0:M.paragraphsCount)&amp;&amp;void 0!==c?c:3,Pe=null!==(u=null==M?void 0:M.writingStyle)&amp;&amp;void 0!==u?u:"creative",Me=null!==(s=null==M?void 0:M.writingTone)&amp;&amp;void 0!==s?s:"cheerful",De=null!==(f=null==M?void 0:M.titlePromptFormat)&amp;&amp;void 0!==f?f:"",Ge=null!==(m=null==M?void 0:M.sectionsPromptFormat)&amp;&amp;void 0!==m?m:"",Fe=null!==(p=null==M?void 0:M.contentPromptFormat)&amp;&amp;void 0!==p?p:"",Be=null!==(v=null==M?void 0:M.excerptPromptFormat)&amp;&amp;void 0!==v?v:"",Ue=null!==(b=null==M?void 0:M.envId)&amp;&amp;void 0!==b?b:"",Ze=null!==(w=null==M?void 0:M.temperature)&amp;&amp;void 0!==w?w:.6,Ve=null!==(x=null==M?void 0:M.maxTokens)&amp;&amp;void 0!==x?x:2048,Ye=null!==(O=null==M?void 0:M.topicsAreTitles)&amp;&amp;void 0!==O&amp;&amp;O,ze=!Ge||!Ae,We=lt(k,Ue||null),qe=We.completionModels,Xe=We.calculatePrice,Qe=Hs(Xe),Ke=Qe.addUsage,Je=Qe.jsxUsageCosts,$e=(null==k?void 0:k.ai_envs)||[],et=it({options:k,language:null==M?void 0:M.language,customLanguage:null==M?void 0:M.customLanguage}),tt=et.jsxLanguageSelector,nt=et.currentLanguage,rt=et.isCustom,at=et.currentHumanLanguage,ct=function(e,t){D((function(n){return Yf(Yf({},n),{},zf({},t,e))}))};Jf((function(){var e=Le.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e}));se(e)}),[Le]),Jf((function(){M&amp;&amp;ct("","sections")}),[Se,Ae]),Jf((function(){_(""),j(""),ae()}),[_e,je]),Jf((function(){M&amp;&amp;(!rt&amp;&amp;M.customLanguage&amp;&amp;ct(null,"customLanguage"),rt&amp;&amp;M.customLanguage!==at&amp;&amp;ct(at,"customLanguage"),M.language!==nt&amp;&amp;ct(nt,"language"))}),[rt,nt,at]);var ut=function(e){return e.replace("{LANGUAGE}",at).replace("{WRITING_STYLE}",Pe).replace("{WRITING_TONE}",Me).replace("{PARAGRAPHS_PER_SECTION}",je).replace("{SECTIONS_COUNT}",Ae)},st=$f((function(){var e=function(e,t){return!!t.find((function(t){return t.includes(e)}))},t=[De,Ge,Fe,Be];return{language:e("{LANGUAGE}",t),writingStyle:e("{WRITING_STYLE}",t),writingTone:e("{WRITING_TONE}",t),sectionsCount:e("{SECTIONS_COUNT}",t),paragraphsCount:e("{PARAGRAPHS_PER_SECTION}",t)}}),[De,Ge,Fe,Be,Ae,je]),ft=function(){var e=Zf(Uf().mark((function e(t){var n,r,a,o,i,l,c=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length&gt;1&amp;&amp;void 0!==c[1]?c[1]:2048,r=c.length&gt;2&amp;&amp;void 0!==c[2]&amp;&amp;c[2],e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:L,json:{env:"admin-tools",envId:Ue||null,model:ke||null,session:A,prompt:t,temperature:Ze,maxTokens:n}});case 5:return i=e.sent,Ke(ke,(null==i||null===(a=i.usage)||void 0===a?void 0:a.prompt_tokens)||0,(null==i||null===(o=i.usage)||void 0===o?void 0:o.completion_tokens)||0),(l=i.data.trim()).startsWith('"')&amp;&amp;l.endsWith('"')&amp;&amp;(l=l.substring(1,l.length-1)),e.abrupt("return",l);case 12:if(e.prev=12,e.t0=e.catch(2),!r){e.next=16;break}throw new Error(e.t0.message);case 16:return console.error(e.t0),z(e.t0.message),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Zf(Uf().mark((function e(){var t,n,r,a,o,i=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Ie,r=i.length&gt;2&amp;&amp;void 0!==i[2]&amp;&amp;i[2],n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:Se){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return Z(!0),ct("","sections"),console.log("Sections Prompt:",{inTopic:t,inTitle:n,sectionsPromptFormat:Ge}),a=(a=Ge.replace("{TITLE}",n)).replace("{TOPIC}",t),a=ut(a),e.next=14,ft(a,512,r);case 14:return o=(l=o=e.sent)?l.split("\n").map((function(e){return(e=e.replace(/^\d+\.\s/,"")).startsWith('"')&amp;&amp;(e=e.slice(1)).endsWith('"')&amp;&amp;(e=e.slice(0,-1)),e})).filter((function(e){return e})).join("\n"):l,console.log("Sections:",{prompt:a,sections:o}),o&amp;&amp;ct(o,"sections"),Z(!1),e.abrupt("return",o);case 20:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Zf(Uf().mark((function e(){var t,n,r,a,o,i,l=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length&gt;0&amp;&amp;void 0!==l[0]?l[0]:Ie,r=l.length&gt;2&amp;&amp;void 0!==l[2]?l[2]:_e,a=l.length&gt;3&amp;&amp;void 0!==l[3]&amp;&amp;l[3],n=l.length&gt;1&amp;&amp;void 0!==l[1]?l[1]:Se){e.next=7;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 7:if(ze||r){e.next=10;break}return alert(He.CONTENT_GENERATOR.SECTIONS_MISSING),e.abrupt("return");case 10:return Z(!0),_((function(e){return""})),o=(o=(o=Fe.replace("{TITLE}",n)).replace("{SECTIONS}",r)).replace("{TOPIC}",t),o=ut(o),e.next=18,ft(o,Ve,a);case 18:return(i=e.sent)&amp;&amp;(i=(i=(i=(i=(i=(i=i.replace(/^===INTRO:\n/,"")).replace(/^===INTRO: \n/,"")).replace(/===INTRO: /,"")).replace(/===OUTRO:\n/,"")).replace(/===OUTRO: \n/,"")).replace(/===OUTRO: /,""),_((function(e){return i}))),console.log("Content:",{prompt:o,content:i}),Z(!1),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=Zf(Uf().mark((function e(){var t,n,r,a,o,i=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Ie,r=i.length&gt;2&amp;&amp;void 0!==i[2]&amp;&amp;i[2],n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:Se){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return Z(!0),j((function(e){return""})),a=(a=Be.replace("{TITLE}",n)).replace("{TOPIC}",t),a=ut(a),e.next=13,ft(a,256,r);case 13:return(o=e.sent)&amp;&amp;j((function(e){return o})),console.log("Excerpt:",{prompt:a,excerpt:o}),Z(!1),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Zf(Uf().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length&gt;0&amp;&amp;void 0!==c[0]?c[0]:Ie,n=c.length&gt;1&amp;&amp;void 0!==c[1]&amp;&amp;c[1],Z(!0),ye((function(){return Yf(Yf({},he),{},{all:new Date})})),e.prev=4,r=t,Ye&amp;&amp;n){e.next=12;break}return a=ut(De.replace("{TOPIC}",t)),e.next=10,ft(a,64,n);case 10:r=e.sent,console.log("Title:",{prompt:a,title:r});case 12:if(o=null,i=null,l=null,Z(!1),!r){e.next=41;break}if(ct(r,"title"),ze){e.next=25;break}return ye((function(e){return Yf(Yf({},e),{},{sections:new Date})})),e.next=22,dt(t,r,n);case 22:return o=e.sent,e.next=25,ye((function(e){return Yf(Yf({},e),{},{sections:null})}));case 25:if(!o&amp;&amp;!ze){e.next=41;break}return e.next=28,ye((function(e){return Yf(Yf({},e),{},{content:new Date})}));case 28:return e.next=30,mt(t,r,o,n);case 30:return i=e.sent,e.next=33,ye((function(e){return Yf(Yf({},e),{},{content:null})}));case 33:if(!i){e.next=41;break}return e.next=36,ye((function(e){return Yf(Yf({},e),{},{excerpt:new Date})}));case 36:return e.next=38,pt(t,r,n);case 38:return l=e.sent,e.next=41,ye((function(e){return Yf(Yf({},e),{},{excerpt:null})}));case 41:return e.abrupt("return",{title:r,heads:o,content:i,excerpt:l});case 44:throw e.prev=44,e.t0=e.catch(4),console.error(e.t0),Z(!1),ye({}),e.t0;case 50:case"end":return e.stop()}}),e,null,[[4,44]])})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=Zf(Uf().mark((function e(){var t,n,r,a,o,i=arguments;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Se,n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:N,r=i.length&gt;2&amp;&amp;void 0!==i[2]?i[2]:I,a=i.length&gt;3&amp;&amp;void 0!==i[3]&amp;&amp;i[3],Z(!0),e.prev=5,e.next=8,(0,R.PV)("".concat(T,"/helpers/create_post"),{method:"POST",nonce:L,json:{title:t,content:n,excerpt:r,postType:ie}});case 8:return o=e.sent,a||ae(o.postId),e.abrupt("return",o.postId);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),z(e.t0.message),e.abrupt("return",null);case 18:return e.prev=18,Z(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,13,18,21]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Zf(Uf().mark((function e(){var t;return Uf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me([]),t=ue.map((function(e,t){return Zf(Uf().mark((function n(){var r,a,o,i,l;return Uf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Topic "+t),n.prev=1,n.next=4,ht(e,!0);case 4:if(r=n.sent,a=r.title,o=r.content,i=r.excerpt,!(a&amp;&amp;o&amp;&amp;i)){n.next=15;break}return n.next=11,yt(a,o,i,!0);case 11:l=n.sent,me((function(t){return[].concat(function(e){if(Array.isArray(e))return Xf(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||qf(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{postId:l,topic:e,title:a,content:o,excerpt:i}]);var n})),n.next=16;break;case 15:console.warn("Could not generate the post for: "+e);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),confirm("An error was caught ("+n.t0.message+"). Should we continue?")||(B.stop(),B.reset(),Z(!1));case 21:return n.abrupt("return",{success:!0});case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))})),e.next=4,B.start(t);case 4:B.reset();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.CONTENT_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(d.O,{p:!0,style:{marginTop:0,marginBottom:0}},(0,R.io)(He.CONTENT_GENERATOR.INTRO))),React.createElement(g.z,{style:{flex:1}},React.createElement(Za,null,React.createElement("h2",{style:{marginTop:0}},"Topic"),React.createElement(Dt.l,{name:"topic",disabled:Oe||"bulk"===Ce,rows:5,value:Ie,onChange:ct}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,disabled:!Ie||"bulk"===Ce,isBusy:Oe,startTime:null==he?void 0:he.all,onClick:function(){return ht()}},He.COMMON.GENERATE)),React.createElement(xe.i,null),React.createElement(Za,null,F)),React.createElement(g.z,{style:{flex:3}},React.createElement(Ft.h,{name:"mode",value:Ce,disabled:Oe,onChange:ct},React.createElement(Ft.S,{title:He.CONTENT_GENERATOR.SINGLE_GENERATE,value:"single"}),React.createElement(Ft.S,{title:He.CONTENT_GENERATOR.BULK_GENERATE,value:"bulk",count:ue.length})),React.createElement(xe.i,null),"bulk"===Ce&amp;&amp;React.createElement(Za,null,React.createElement("p",{style:{marginTop:0,marginBottom:20}},(0,R.io)(He.CONTENT_GENERATOR.TOPICS_HELP)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:Oe||!ue.length,onClick:vt},He.COMMON.GENERATE),React.createElement(Vt.U,{busy:B.busy,style:{marginLeft:10,flex:"auto"},value:B.value,max:B.max,onStopClick:B.stop})),React.createElement(xe.i,null),React.createElement("h3",null,"Topics"),React.createElement(Dt.l,{name:"topics",rows:10,value:Le,onChange:ct}),React.createElement(h.P,{name:"topicsAreTitles",label:"Use Topics as Titles",value:"1",checked:Ye,onChange:ct}),React.createElement("h3",null,He.CONTENT_GENERATOR.GENERATED_POSTS),!de.length&amp;&amp;React.createElement("i",null,"Nothing yet."),de.length&gt;0&amp;&amp;React.createElement("ul",null,de.map((function(e){return React.createElement("li",{key:e.postId},e.title," ",React.createElement("a",{target:"_blank",href:"/?p=".concat(e.postId),rel:"noreferrer"},"View")," or ",React.createElement("a",{target:"_blank",href:"/wp-admin/post.php?post=".concat(e.postId,"&amp;action=edit"),rel:"noreferrer"},"Edit"))})))),"single"===Ce&amp;&amp;React.createElement(Za,null,React.createElement("h2",{style:{marginTop:0}},"Title"),React.createElement(we.A,{name:"title",disabled:Oe,value:Se,onChange:ct}),ve&amp;&amp;React.createElement("div",{className:"information"},"Advice: ",ve),Ge&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.SECTIONS),React.createElement("div",{style:{display:"flex",alignItems:"center"}},st.sectionsCount&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Sections: "),React.createElement(Ee.N,{scrolldown:!0,name:"sectionsCount",disabled:Oe,style:{marginRight:10},value:Ae,description:"",onChange:ct},React.createElement(Ee.Z,{key:2,value:2,label:2}),React.createElement(Ee.Z,{key:3,value:3,label:3}),React.createElement(Ee.Z,{key:4,value:4,label:4}),React.createElement(Ee.Z,{key:6,value:6,label:6}),React.createElement(Ee.Z,{key:8,value:8,label:8}),React.createElement(Ee.Z,{key:10,value:10,label:10}),React.createElement(Ee.Z,{key:12,value:12,label:12}))),Ae&gt;0&amp;&amp;React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.sections,onClick:function(){return dt()}},He.CONTENT_GENERATOR.GENERATE_SECTIONS))),Ae&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Dt.l,{name:"sections",disabled:Oe,rows:4,value:_e,description:He.CONTENT_GENERATOR.SECTIONS_HELP,onChange:ct}))),React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.COMMON.CONTENT),React.createElement("div",{style:{display:"flex",alignItems:"center"}},st.paragraphsCount&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},He.CONTENT_GENERATOR.PARAGRAPHS_PER_SECTION,": "),React.createElement(Ee.N,{scrolldown:!0,name:"paragraphsCount",disabled:Oe,style:{marginRight:10},value:je,description:"",onChange:ct},React.createElement(Ee.Z,{key:1,value:1,label:1}),React.createElement(Ee.Z,{key:2,value:2,label:2}),React.createElement(Ee.Z,{key:3,value:3,label:3}),React.createElement(Ee.Z,{key:4,value:4,label:4}),React.createElement(Ee.Z,{key:6,value:6,label:6}),React.createElement(Ee.Z,{key:8,value:8,label:8}),React.createElement(Ee.Z,{key:10,value:10,label:10}))),React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.content,onClick:function(){return mt()}},He.CONTENT_GENERATOR.GENERATE_CONTENT))),React.createElement(xe.i,null),React.createElement(Dt.l,{countable:"words",disabled:Oe,rows:12,value:N,description:He.CONTENT_GENERATOR.CONTENT_HELP,onChange:_}),React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.COMMON.EXCERPT),React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.excerpt,onClick:function(){return pt()}},He.CONTENT_GENERATOR.GENERATE_EXCERPT)),React.createElement(xe.i,null),React.createElement(Dt.l,{disabled:Oe,value:I,onBlur:j,rows:3}),React.createElement(xe.i,{line:!0,height:40}),React.createElement(Ee.N,{scrolldown:!0,disabled:Oe,name:"postType",onChange:le,value:ie},null==Re?void 0:Re.map((function(e){return React.createElement(Ee.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:60},onClick:function(){return yt()},isBusy:Oe,disabled:!Se||!N},He.CONTENT_GENERATOR.CREATE_POST))),React.createElement(g.z,null,React.createElement(Za,null,React.createElement("h2",{style:{marginTop:0}},He.CONTENT_GENERATOR.CONTENT_PARAMS),!st.language&amp;&amp;!st.writingStyle&amp;&amp;!st.writingTone&amp;&amp;React.createElement("div",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.CONTENT_PARAMS_INTRO),st.language&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.LANGUAGE,":"),tt),st.writingStyle&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_STYLE,":"),React.createElement(Ee.N,{scrolldown:!0,name:"writingStyle",disabled:Oe,value:Pe,description:"",onChange:ct},ms.map((function(e){return React.createElement(Ee.Z,{key:e.value,value:e.value,label:e.label})})))),st.writingTone&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_TONE,":"),React.createElement(Ee.N,{scrolldown:!0,name:"writingTone",disabled:Oe,value:Me,description:"",onChange:ct},ps.map((function(e){return React.createElement(Ee.Z,{key:e.value,value:e.value,label:e.label})}))))),React.createElement(xe.i,null),React.createElement(Za,null,React.createElement(kt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.POST_PARAMS),React.createElement(E._,{onClick:function(){return J(!K)}},K?He.COMMON.HIDE:He.COMMON.SHOW)),K&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.POST_TYPE,":"),React.createElement(Ee.N,{scrolldown:!0,disabled:Oe,name:"postType",onChange:le,value:ie},null==Re?void 0:Re.map((function(e){return React.createElement(Ee.Z,{key:e.type,value:e.type,label:e.name})}))))),React.createElement(xe.i,null),React.createElement(Za,null,React.createElement(kt,null,React.createElement("h2",null,He.COMMON.MODEL_PARAMS),React.createElement(E._,{onClick:function(){return X(!q)}},q?He.COMMON.HIDE:He.COMMON.SHOW)),q&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(Ee.N,{scrolldown:!0,name:"envId",value:null!=Ue?Ue:"",onChange:ct},$e.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"None"})),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(Ee.N,{name:"model",value:ke,description:He.CONTENT_GENERATOR.MODEL_HELP,scrolldown:!0,onChange:ct},qe.map((function(e){return React.createElement(Ee.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(we.A,{name:"temperature",value:Ze,type:"number",onChange:ct,onBlur:ct,description:He.HELP.TEMPERATURE}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(we.A,{name:"maxTokens",value:Ve,type:"number",onChange:ct,onBlur:ct,description:He.HELP.MAX_TOKENS}))),React.createElement(xe.i,null),React.createElement(Za,null,React.createElement(kt,null,React.createElement("h2",null,(0,R.io)(He.COMMON.PROMPTS)),React.createElement(E._,{onClick:function(){return te(!ee)}},ee?"Hide":"Show")),ee&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.PROMPTS_INTRO),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_TITLE)),React.createElement(Dt.l,{disabled:Oe,name:"titlePromptFormat",value:De,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_SECTIONS)),React.createElement(Dt.l,{disabled:Oe,name:"sectionsPromptFormat",value:Ge,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_CONTENT)),React.createElement(Dt.l,{disabled:Oe,name:"contentPromptFormat",value:Fe,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_EXCERPT)),React.createElement(Dt.l,{disabled:Oe,name:"excerptPromptFormat",value:Be,onChange:ct}))),React.createElement(xe.i,null),Je)),React.createElement(Te.L,{isOpen:re,onRequestClose:function(){return ae()},okButton:{label:He.CONTENT_GENERATOR.EDIT_POST,onClick:function(){window.open("/wp-admin/post.php?post=".concat(re,"&amp;action=edit"),"_blank"),G(),ae()}},cancelButton:{label:"Close",onClick:function(){ae()}},title:He.CONTENT_GENERATOR.POST_CREATED,content:React.createElement("p",null,He.CONTENT_GENERATOR.POST_CREATED_AS_DRAFT)}),React.createElement(Te.L,{isOpen:Y,onRequestClose:function(){z()},okButton:{onClick:function(){z()}},title:"Error",content:React.createElement("p",null,Y)}))};function td(e){return td="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},td(e)}var nd;function rd(){rd=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==td(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(td(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ad(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function od(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ad(o,r,a,i,l,"next",e)}function l(e){ad(o,r,a,i,l,"throw",e)}i(void 0)}))}}function id(e){return function(e){if(Array.isArray(e))return dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cd(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(n),!0).forEach((function(t){ud(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ud(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==td(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==td(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===td(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||fd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fd(e,t){if(e){if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dd(e,t):void 0}}function dd(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var md=wp.element,pd=md.useState,hd=md.useEffect,yd=md.useMemo,vd=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,40,60,80,100],gd=G.ZP.div(nd||(nd=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; margin-bottom: 5px;\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; display: block;\n&nbsp; }\n"])));const bd=function(){var e,t,n,r,a=Ms("imagesGenerator"),o=a.template,i=a.setTemplate,l=a.jsxTemplates,c=sd(pd(),2),u=c[0],s=c[1],f=sd(pd(!0),2),m=f[0],p=f[1],v=sd(pd(!1),2),b=v[0],w=v[1],x=sd(pd(!1),2),O=x[0],S=x[1],N=(null==k?void 0:k.ai_envs)||[],_=lt(k,(null==o?void 0:o.envId)||null),C=_.imageModels,I=(0,_.getModel)(null==o?void 0:o.model),j=sd(pd([]),2),P=j[0],M=j[1],D=sd(pd([]),2),G=D[0],F=D[1],B=sd(pd(),2),U=B[0],H=B[1],Z=sd(pd(""),2),V=Z[0],Y=Z[1],z=sd(pd(""),2),W=z[0],q=z[1],X=sd(pd(""),2),Q=X[0],K=X[1],J=sd(pd(""),2),$=J[0],ee=J[1],te=sd(pd(""),2),ne=te[0],re=te[1],ae=sd(pd([]),2),oe=ae[0],ie=ae[1],le=yd((function(){return G.indexOf(U)}),[U,G]),ce=null==o?void 0:o.prompt,ue=sd(pd(1),2),se=ue[0],fe=ue[1],de=sd(pd(0),2),me=de[0],pe=de[1],he=sd(pd(0),2),ye=he[0],ve=he[1],ge=new AbortController,be=null!==(e=null==o?void 0:o.style)&amp;&amp;void 0!==e?e:null,Re=function(e,t){i((function(n){return cd(cd({},n),{},ud({},t,e))}))};hd((function(){var e;if(null!=o&amp;&amp;o.envId&amp;&amp;(null==o||!o.model)&amp;&amp;(null==C?void 0:C.length)&gt;0){var t=C.find((function(e){return"dall-e-3"===e.model}))||C[0];i(cd(cd({},o),{},{model:t.model}))}if(null!=o&amp;&amp;o.model&amp;&amp;(null==o||!o.resolution)&amp;&amp;(null==I||null===(e=I.options)||void 0===e?void 0:e.length)&gt;0){var n=I.options.map((function(e){return e.option})),r=n.includes("1024x1024")?"1024x1024":n[0];i(cd(cd({},o),{},{resolution:r}))}}),[o]),hd((function(){if(U){var e=function(e){for(var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:42,n=e.replace(/[\s|,]+/g,"-"),r=(n=n.replace(/--+/g,"-")).split("-"),a=r[0],o=1;o&lt;r.length&amp;&amp;r[o]&amp;&amp;a.length+r[o].length&lt;t;)a+="-"+r[o],o++;return a.length&gt;t+1&amp;&amp;(a=a.slice(0,t+2)),a}(ce)+".png";re(e),Y(ce),q(ce),K(ce),ee(ce)}}),[U]);var Se=function(){if(ce){for(var e=function(){var e={prompt:ce,envId:o.envId,model:o.model,resolution:o.resolution,style:o.style};M((function(t){return[].concat(id(t),[e])}))},t=0;t&lt;se;t++)e();pe((function(e){return e+se}))}else console.error("Prompt is empty, cannot add to queue.")},Ne=function(){var e=od(rd().mark((function e(){var t,n;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==P.length&amp;&amp;!b){e.next=2;break}return e.abrupt("return");case 2:return w(!0),t=P[0],e.prev=4,e.next=7,(0,R.PV)("".concat(T,"/ai/images"),{method:"POST",nonce:L,signal:ge.signal,json:{env:"admin-tools",envId:t.envId,model:t.model,resolution:t.resolution,style:t.style,session:A,prompt:t.prompt,maxResults:1}});case 7:(n=e.sent).data&amp;&amp;n.data.length&gt;0&amp;&amp;F((function(e){return[].concat(id(e),[n.data[0]])})),M((function(e){return e.slice(1)})),ve((function(e){return e+1})),1===P.length&amp;&amp;(pe(0),ve(0)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),"AbortError"!==e.t0.name&amp;&amp;(console.error(e.t0),s(e.t0.message+(P.length&gt;1?" The other tasks will continue.":"")),M((function(e){return e.slice(1)})),pe((function(e){return e-1})));case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(){return e.apply(this,arguments)}}();hd((function(){P.length&gt;0&amp;&amp;!b&amp;&amp;Ne()}),[P,b]);var Ce=function(){var e=od(rd().mark((function e(){var t;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/helpers/create_image"),{method:"POST",nonce:L,json:{url:U,title:V,description:W,caption:Q,alt:$,filename:ne}});case 4:t=e.sent,ie([].concat(id(oe),[{id:t.attachmentId,url:U}])),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),s(e.t0.message);case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),Ie=yd((function(){var e=oe.find((function(e){return e.url===U}));return e?e.id:null}),[U,oe]);return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.IMAGES_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(d.O,{p:!0,style:{marginTop:0,marginBottom:0}},"This will also be available in the Post Editor soon. If you have any idea or request, please join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/",rel:"noreferrer"},"Support Forum"),"! 🎵")),React.createElement(g.z,null,React.createElement(Za,{style:{marginBottom:25}},l)),React.createElement(g.z,{style:{flex:3}},React.createElement(Vt.U,{busy:b,value:ye,max:me,onStopClick:function(){ge.abort(),M([]),pe(0),ve(0),w(!1)},status:function(){return"".concat(ye," / ").concat(me)}}),React.createElement(xe.i,null),React.createElement(Oe.H,null,U&amp;&amp;React.createElement(React.Fragment,null,React.createElement(kt,{style:{paddingBottom:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{disabled:le&lt;1||b,onClick:function(){le&gt;0&amp;&amp;H(G[le-1])}},"&lt;"),React.createElement(E._,{onClick:function(){return H()}},"Back to Results"),React.createElement(E._,{disabled:le&gt;=G.length-1||b,onClick:function(){le&lt;G.length-1&amp;&amp;H(G[le+1])}},"&gt;"))),React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("div",{style:{flex:2}},React.createElement("a",{href:U,target:"_blank",rel:"noreferrer"},React.createElement("img",{src:U,style:{width:"100%"}}))),React.createElement("div",{style:{flex:1,marginLeft:10,display:"flex",flexDirection:"column"}},React.createElement(gd,null,React.createElement("label",null,"Title:"),React.createElement(Dt.l,{value:V,onBlur:Y,rows:2})),React.createElement(gd,null,React.createElement("label",null,"Caption:"),React.createElement(Dt.l,{value:Q,onBlur:K,rows:2})),React.createElement(gd,null,React.createElement("label",null,"Description:"),React.createElement(Dt.l,{value:W,onBlur:q,rows:2})),React.createElement(gd,null,React.createElement("label",null,"Alternative Text:"),React.createElement(Dt.l,{value:$,onBlur:ee,rows:2})),React.createElement(gd,null,React.createElement("label",null,"Filename:"),React.createElement(we.A,{value:ne,onChange:re})),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:42},onClick:Ce,isBusy:O},"Add to Media Library"),React.createElement(xe.i,{tiny:!0}),Ie&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(_e.S,{variant:"success"},"The media has been created! You can edit it here: ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(Ie,"&amp;action=edit"),target:"_blank",rel:"noreferrer"},"Edit Media #",Ie),"."))))),!U&amp;&amp;React.createElement(React.Fragment,null,React.createElement(kt,null,React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{disabled:!ce,isBusy:b,onClick:Se},"Generate"),React.createElement(Ee.N,{scrolldown:!0,id:"totalImagesToGenerate",name:"totalImagesToGenerate",style:{marginLeft:10,marginRight:10,width:120},value:se,onChange:function(e){return fe(e)}},vd.map((function(e){return React.createElement(Ee.Z,{key:e,id:e,value:e,label:"".concat(e," ").concat(e&gt;1?"Images":"Image")})}))),b&amp;&amp;React.createElement(E._,{disabled:!ce,onClick:Se},"Add to Queue"),G.length&gt;0&amp;&amp;React.createElement(E._,{onClick:function(){F([])}},"Clear"))),React.createElement(xe.i,null),React.createElement(Dt.l,{value:ce,onChange:function(e){i(cd(cd({},o),{},{prompt:e}))}}),React.createElement(At,null,G.map((function(e){return React.createElement("img",{src:e,onClick:function(){return H(e)}})})),id(Array(Math.max(3-G.length,0)).keys()).map((function(){return React.createElement("div",{className:"empty-image"})})))))),React.createElement(g.z,null,React.createElement(Oe.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Template"),React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"envId",value:null!==(t=null==o?void 0:o.envId)&amp;&amp;void 0!==t?t:"",onChange:Re},N.map((function(e){return React.createElement(Ee.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(Ee.Z,{value:"",label:"None"})),React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"model",value:null==o?void 0:o.model,onChange:Re},C.map((function(e){return React.createElement(Ee.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.RESOLUTION,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"resolution",value:null==o?void 0:o.resolution,onChange:Re},null==I||null===(n=I.options)||void 0===n?void 0:n.map((function(e){return React.createElement(Ee.Z,{key:e.option,value:e.option,label:e.option})}))),(null==I||null===(r=I.model)||void 0===r?void 0:r.startsWith("dall-e-3"))&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.STYLE,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.N,{scrolldown:!0,name:"style",value:be,onChange:Re},React.createElement(Ee.Z,{key:"none",value:null,label:"None"}),React.createElement(Ee.Z,{key:"natural",value:"natural",label:"Natural"}),React.createElement(Ee.Z,{key:"vivid",value:"vivid",label:"Vivid"})))),React.createElement(Oe.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Settings"),React.createElement(h.P,{id:"continuous_mode ",label:"Continuous",value:"1",checked:m,description:"New images will be added to the already generated images.",onChange:p})))),React.createElement(Te.L,{isOpen:u,onRequestClose:function(){s()},okButton:{onClick:function(){s()}},title:"Error",content:React.createElement("p",null,u)}))};var Ed=wp.element,wd=(Ed.useState,Ed.useEffect,Ed.useMemo);const Rd=function(e){var t=e.isOpen,n=void 0!==t&amp;&amp;t,r=e.title,a=e.error,o=e.results,i=e.busy,l=void 0!==i&amp;&amp;i,c=e.onClick,u=void 0===c?function(){}:c,f=function(e){var t=0;if(0===e.length)return t;for(var n=0;n&lt;e.length;n++)t=(t&lt;&lt;5)-t+e.charCodeAt(n),t&amp;=t;return t},d=wd((function(){return l?React.createElement(ds.S,{type:"circle",size:"10%"}):a?React.createElement(React.Fragment,null,"Error: ",a):(null==o?void 0:o.length)&gt;0?React.createElement(React.Fragment,null,"Pick one of those results:",React.createElement(lf,null,o.map((function(e){return React.createElement(cf,{key:f(e),onClick:function(){u(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[o,a]);return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Te.L,{isOpen:n,title:null!=r?r:"Results",content:d,onRequestClose:function(){return u()},okButton:{label:"Close",onClick:function(){return u()}}})))};function xd(e){return xd="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},xd(e)}function Od(){Od=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==xd(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(xd(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Sd(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Td(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Sd(o,r,a,i,l,"next",e)}function l(e){Sd(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Nd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _d(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Cd=wp.element,Id=Cd.useState,Ld=Cd.useEffect,kd=wp.i18n.__,Ad=wp.plugins.registerPlugin,jd=wp.components,Pd=jd.Button,Md=jd.ToolbarDropdownMenu,Dd=jd.ToolbarGroup,Gd=jd.Spinner,Fd=jd.MenuGroup,Bd=jd.MenuItem,Ud=wp.blockEditor.BlockControls,Hd=wp.editPost.PluginDocumentSettingPanel,Zd=wp.richText.registerFormatType,Vd=wp.data.useSelect;function Yd(){var e=Nd(Id(!1),2),t=e[0],n=e[1],r=Nd(Id([]),2),a=r[0],o=r[1],i=Vd((function(e){return e("core/block-editor").getSelectedBlock()}),[]);if(!i)return null;if("core/paragraph"===i.name){var l=function(e){e.style.opacity=.15,e.style.pointerEvents="none",e.style.userSelect="none",e.style.animation="neko-fade-animation 0.85s infinite linear"},c=function(e){e.style.opacity=1,e.style.pointerEvents="auto",e.style.userSelect="auto",e.style.animation="none"};Ld((function(){if(null!=i&amp;&amp;i.clientId){var e=document.getElementById("block-"+i.clientId);e?t?l(e):c(e):console.warn("AI Engine: Could not find block element.")}}),[t,i]);var u=function(){var e=document.getElementById("block-"+i.clientId);e?c(e):console.warn("AI Engine: Could not find block element.")},s=function(e){wp.data.dispatch("core/block-editor").updateBlockAttributes(i.clientId,{content:e})},f=i.attributes.content,d=window.getSelection().toString(),m=function(){var e=Td(Od().mark((function e(t){var r,a,c,m,p,h,y,v,g,b,E,w,x,O,S,N;return Od().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wp.data.select("core/editor"),a=r.getSelectedBlockClientId,c=r.getBlockIndex,m=r.getCurrentPost,p=a(),h=c(p),y=m(),v=y.id,n(!0),void 0,(_=document.getElementById("block-"+i.clientId))?l(_):console.warn("AI Engine: Could not find block element."),document.activeElement.blur(),e.prev=7,e.next=10,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:t,data:{postId:v,text:f,selectedText:d}}});case 10:g=e.sent,u(),n(!1),b=g.data,E=b.mode,w=b.result,x=b.results,"replace"===E?s(w):"suggest"===E?o(x):"insertMedia"===E&amp;&amp;(O=g.data.media,S=wp.blocks.createBlock,N=S("core/image",{id:O.id,url:O.url,title:O.title,caption:O.caption,alt:O.alt}),wp.data.dispatch("core/block-editor").insertBlock(N,h+1)),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(7),u(),n(!1),alert("Error: "+e.t0.message),console.log("ERROR",e.t0);case 23:case"end":return e.stop()}var _}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("style",null,"\n&nbsp; &nbsp; &nbsp; &nbsp; @keyframes neko-fade-animation {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0% { opacity: 0.15; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 50% { opacity: 0.3; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100% { opacity: 0.15; }\n&nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; "),React.createElement(Ud,null,React.createElement(Dd,null,React.createElement(Md,{icon:t?React.createElement(Gd,null):React.createElement(St,{icon:"wand",style:{marginRight:0}}),label:kd("AI Wand")},(function(){return React.createElement(React.Fragment,null,React.createElement(Fd,null,React.createElement(Bd,{onClick:function(){return m("correctText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Correct Text"),React.createElement("small",null,"Grammar &amp; Spelling"))),React.createElement(Bd,{onClick:function(){return m("enhanceText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Enhance Text"),React.createElement("small",null,"Readibility &amp; Quality"))),React.createElement(Bd,{onClick:function(){return m("longerText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Longer Text"),React.createElement("small",null,"Readibility"))),React.createElement(Bd,{onClick:function(){return m("shorterText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Shorter Text"),React.createElement("small",null,"Readibility"))),React.createElement(Bd,{onClick:function(){return m("translateText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Translate Text"),React.createElement("small",null,"To Post Language")))),React.createElement(Fd,null,React.createElement(Bd,{disabled:!d,onClick:function(){return m("suggestSynonyms")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Suggest Synonyms"),React.createElement("small",null,"For Selected Words")))),React.createElement(Fd,null,React.createElement(Bd,{onClick:function(){return m("generateImage")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Generate Image"),React.createElement("small",null,"For this Text")))))})))),React.createElement(Rd,{isOpen:null==a?void 0:a.length,results:a,onClick:function(e){o([]),e&amp;&amp;function(e){var t=wp.data.select("core/block-editor"),n=t.getSelectionStart,r=t.getSelectionEnd,a=wp.data.select("core/block-editor").getSelectedBlock(),o=a.attributes.content,i=n().offset,l=r().offset,c=o.substring(0,i)+e+o.substring(l);wp.data.dispatch("core/block-editor").updateBlockAttributes(a.clientId,{content:c})}(e)},onClose:function(){return o([])}}))}}var zd=function(){var e=null==k?void 0:k.module_suggestions,t=Nd(Id(),2),n=t[0],r=t[1],a=Nd(Id(),2),o=a[0],i=a[1],l=function(){var e=Td(Od().mark((function e(t){return Od().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({title:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Td(Od().mark((function e(t){return Od().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({excerpt:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e?React.createElement(s.Z,null,React.createElement(Hd,{name:"mwai-document-settings",title:React.createElement(React.Fragment,null,React.createElement(St,null)," AI Engine"),className:"mwai-document-settings"},React.createElement("p",null,"Suggest:"),React.createElement("div",{style:{display:"flex"}},React.createElement(Pd,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;r({postId:t,postTitle:n})},style:{flex:1,marginRight:10}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Titles"),React.createElement(Pd,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;i({postId:t,postTitle:n})},style:{flex:1}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Excerpts")),React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(bf,{post:n,onTitleClick:l,onClose:r}),React.createElement(If,{post:o,onExcerptClick:c,onClose:i}))))):null};function Wd(e){return Wd="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Wd(e)}function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xd(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Wd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Wd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wd(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qd(){Qd=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Wd(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Wd(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Kd(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Jd(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kd(o,r,a,i,l,"next",e)}function l(e){Kd(o,r,a,i,l,"throw",e)}i(void 0)}))}}function $d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?em(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var tm=wp.hooks.addFilter,nm=wp.element,rm=nm.useState,am=nm.useRef,om=nm.useEffect,im=wp.components,lm=im.TextControl,cm=im.Spinner;var um,sm=["children","type","title","hint"];function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},fm.apply(this,arguments)}var dm=React.createElement(St,{icon:"ai",style:{width:20,height:20}}),mm=G.ZP.div(um||(um=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tcolor: black;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid black;\n\tfont-size: 15px;\n\tbox-sizing: content-box;\n\tfont-weight: 400;\n&nbsp; font-size: 13px;\n\tpadding: 10px;\n\tbackground: hsl(0deg 0% 100% / 75%);\n\n\t.mwai-title-container {\n\t\tflex: inherit;\n\t\tpadding: 5px 0px 5px 10px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: black;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\n\t\t.mwai-hint {\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: 400;\n\t\t\ttext-align: right;\n\t\t\tflex: auto;\n\n\t\t\t.mwai-pill {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-cyan-blue);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.mwai-pill-purple {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-purple);\n\t\t\t}\n\t\t}\n\t}\n\n\t.mwai-block-container-content&nbsp; {\n\t\tdisplay: none;\n\t\tflex: auto;\n\t\tpadding: 0px 10px;\n\n\t\t.mwai-block-container {\n\t\t\tborder: 1px solid black;\n\t\t\tmargin: 10px 0;\n\n\t\t\t.mwai-title-container {\n\t\t\t\tbackground: white;\n\t\t\t}\n\n\t\t\t.mwai-block-container-content {\n\t\t\t\tbackground: white;\n\t\t\t}\n\t\t}\n\t}\n\n\t&amp;.mwai-chatbot {\n\t\t.mwai-title-container {\n\t\t\tbackground: white;\n\t\t}\n\n\t\t.mwai-block-container-content {\n\t\t\tbackground: white;\n\t\t}\n\t}\n\n\t&amp;.mwai-container &gt; .mwai-block-container-content {\n\t\tdisplay: block;\n\t}\n\n\t.is-selected {\n\n\t\t&amp;:after {\n\t\t\tborder: 1px solid ",";\n\t\t}\n\n\t\t&amp; &gt; .mwai-block-container:not(.mwai-container) {\n\n\t\t\t.mwai-block-container-content {\n\t\t\t padding: 10px;\n\t\t\t display: flex;\n\t\t\t}\n\t\t}\n\t}\n\t\n"])),Ut.ZP.blue),pm=function(e){var t=e.children,n=e.type,r=void 0===n?"":n,a=e.title,o=void 0===a?"":a,i=e.hint,l=void 0===i?"":i,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,sm),u=(0,Yt.F0)("mwai-block-container","mwai-"+r);return React.createElement(mm,fm({className:u},c),React.createElement("div",{className:"mwai-title-container"},React.createElement(St,{icon:"ai",style:{width:20,height:20}}),React.createElement("div",null,o),React.createElement("div",{className:"mwai-hint"},l)),React.createElement("div",{className:"mwai-block-container-content"},t))};function hm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ym(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ym(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ym(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var vm=wp.blocks.registerBlockType,gm=wp.element.useMemo,bm=wp.components,Em=bm.PanelBody,wm=bm.SelectControl,Rm=wp.blockEditor.InspectorControls,xm=function(e){var t={id:{value:e.attributes.chatbotId,insertIfNull:!0}},n=Object.entries(t).filter((function(e){var t=hm(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=hm(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai_chatbot");return"".concat(n,"]")},Om=function(e){var t=e.attributes.chatbotId,n=e.setAttributes,r=gm((function(){var e=M.map((function(e){return{label:e.name,value:e.botId}}));return e.unshift({label:"None",value:null}),e}),[M]),a=gm((function(){return M.find((function(e){return e.botId===t}))}),[t]),o=gm((function(){return a?"Chatbot (".concat(a.name,")"):"Chatbot"}),[t]);return React.createElement(React.Fragment,null,React.createElement(pm,{title:o,type:"chatbot"}),React.createElement(Rm,null,React.createElement(Em,{title:He.COMMON.CHATBOT},r&amp;&amp;r.length&gt;0&amp;&amp;React.createElement(wm,{label:He.COMMON.CHATBOT,value:t,options:r,onChange:function(e){return n({chatbotId:e})}})),React.createElement(Em,{title:He.COMMON.SETTINGS})))};function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},Sm.apply(this,arguments)}var Tm=wp.i18n.__,Nm=wp.blocks.registerBlockType,_m=wp.element.useEffect,Cm=wp.components,Im=Cm.PanelBody,Lm=Cm.SelectControl,km=wp.blockEditor,Am=km.InspectorControls,jm=km.InnerBlocks,Pm=km.useBlockProps,Mm=function(e){var t=Pm.save(),n=e.attributes,r=n.id,a=n.theme,o='[mwai-form-container id="'.concat(r,'" theme="').concat(a,'"]');return React.createElement("div",Sm({},t,{id:"mwai-form-container-".concat(r),className:"mwai-form-container"}),o,React.createElement(jm.Content,null))},Dm=function(e){var t=e.attributes,n=t.id,r=t.theme,a=e.setAttributes,o=Pm();return _m((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(pm,{title:"Container",type:"container"},React.createElement(jm,null))),React.createElement(Am,null,React.createElement(Im,{title:He.COMMON.STYLE},React.createElement("p",null,"The theme will be applied to all the AI elements in this container."),React.createElement(Lm,{label:"Theme",value:r,onChange:function(e){return a({theme:e})},options:[{label:"None",value:"none"},{label:"ChatGPT",value:"ChatGPT"}]}))))};function Gm(e){return function(e){if(Array.isArray(e))return Fm(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fm(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Bm=wp.i18n.__,Um=wp.blocks.registerBlockType,Hm=wp.element.useEffect,Zm=wp.components,Vm=Zm.Button,Ym=Zm.PanelBody,zm=Zm.TextControl,Wm=Zm.SelectControl,qm=Zm.CheckboxControl,Xm=wp.blockEditor,Qm=Xm.useBlockProps,Km=Xm.InspectorControls,Jm=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.type,o=t.name,i=t.options,l=void 0===i?[]:i,c=t.placeholder,u=t.rows,s=t.defaultValue,f=t.maxlength,d=t.required,m=encodeURIComponent(JSON.stringify(l)),p=Qm.save(),h="[mwai-form-field";return n&amp;&amp;(h+=' id="'.concat(n,'"')),r&amp;&amp;(h+=' label="'.concat(r,'"')),a&amp;&amp;(h+=' type="'.concat(a,'"')),o&amp;&amp;(h+=' name="'.concat(o,'"')),m&amp;&amp;(h+=' options="'.concat(m,'"')),c&amp;&amp;(h+=' placeholder="'.concat(c,'"')),"textarea"===a&amp;&amp;u&amp;&amp;(h+=' rows="'.concat(u,'"')),s&amp;&amp;(h+=' default="'.concat(s,'"')),f&amp;&amp;(h+=' maxlength="'.concat(f,'"')),d&amp;&amp;(h+=' required="'.concat(d,'"')),h+="]",React.createElement("div",p,h)},$m=function(e){var t,n=e.attributes,r=n.id,a=n.type,o=n.name,i=n.options,l=void 0===i?[]:i,c=n.label,u=n.placeholder,s=n.rows,f=n.defaultValue,d=n.maxlength,m=n.required,p=e.setAttributes,h=Qm();return Hm((function(){if(!r){var e=Math.random().toString(36).substr(2,9);p({id:"mwai-"+e})}}),[r]),React.createElement(React.Fragment,null,React.createElement("div",h,React.createElement(pm,{title:"".concat((t=a,t.charAt(0).toUpperCase()+t.slice(1))),type:"field",hint:React.createElement("span",{className:"mwai-pill"},"{",o,"}")},React.createElement("div",null,c),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,o))),React.createElement(Km,null,React.createElement(Ym,{title:Bm("Field")},React.createElement(zm,{label:"Label Text",value:c,onChange:function(e){p({label:e});var t=e.trim().replace(/ /g,"_").replace(/[^\w-]+/g,"").toUpperCase();t&amp;&amp;p({name:t})}}),React.createElement(zm,{label:"Field Name",value:o,onChange:function(e){return p({name:e})}}),React.createElement(Wm,{label:"Field Type",value:a,onChange:function(e){return p({type:e})},options:[{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"},{label:"Text Area",value:"textarea"}]}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(zm,{label:"Placeholder",value:u,onChange:function(e){return p({placeholder:e})}}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(zm,{label:"Default Value",value:f,onChange:function(e){return p({defaultValue:e})}}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(zm,{label:"Max Length",value:d,onChange:function(e){return p({maxlength:e})}}),"textarea"===a&amp;&amp;React.createElement(zm,{label:He.COMMON.ROWS,value:s,onChange:function(e){return p({rows:e})},type:"number",step:"1",min:"1",max:"100"}),React.createElement(qm,{label:"Required",checked:m,onChange:function(e){return p({required:e})}})),("select"===a||"radio"===a||"checkbox"===a)&amp;&amp;React.createElement(Ym,{title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},React.createElement("div",null,Bm("Options")))},l.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex",marginBottom:-25}},React.createElement("div",{style:{marginRight:5}},React.createElement(zm,{style:{marginRight:10},label:"Label",isInline:!0,value:e.label,onChange:function(e){var n=Gm(l);n[t].label=e,p({options:n})}})),React.createElement(zm,{style:{},label:"Value",isSubtle:!0,value:e.value,onChange:function(e){var n=Gm(l);n[t].value=e,p({options:n})}}),React.createElement("div",{style:{marginLeft:5,position:"relative",top:23}},React.createElement(Vm,{style:{height:30},isDestructive:!0,icon:"trash",isSmall:!0,onClick:function(){var e=Gm(l);e.splice(t,1),p({options:e})}})))})),React.createElement(Vm,{isPrimary:!0,style:{width:"100%",marginTop:10},onClick:function(){var e=Gm(l);e.push({label:"",value:""}),p({options:e})}},"Add Option")),React.createElement(Ym,{title:He.COMMON.SYSTEM},React.createElement(zm,{label:"ID",value:r,onChange:function(e){return p({id:e})}}))))};function ep(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var np=wp.i18n.__,rp=wp.blocks.registerBlockType,ap=wp.element.useEffect,op=wp.components,ip=op.PanelBody,lp=op.TextControl,cp=op.CheckboxControl,up=wp.blockEditor,sp=up.InspectorControls,fp=up.useBlockProps,dp=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=fp.save(),o={id:{value:n,insertIfNull:!0},copy_button:{value:r,insertIfNull:!0}},i=Object.entries(o).filter((function(e){var t=ep(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=ep(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-output");return i="".concat(i,"]"),React.createElement("div",a,i)},mp=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=e.setAttributes,o=fp();return ap((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:"mwai-"+e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(pm,{title:"Output",type:"output",hint:React.createElement("span",{className:"mwai-pill mwai-pill-purple"},"#",n)},React.createElement("div",null),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,"#",n))),React.createElement(sp,null,React.createElement(ip,{title:He.FORMS.OUTPUT},React.createElement(cp,{label:"Copy Button",checked:r,onChange:function(e){return a({copyButton:e})}}),React.createElement(lp,{label:"ID",value:n,onChange:function(e){return a({id:e})}}))))};function pp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var yp=wp.i18n.__,vp=wp.blocks.registerBlockType,gp=wp.element,bp=gp.useMemo,Ep=gp.useEffect,Rp=wp.components,xp=Rp.PanelBody,Op=Rp.TextControl,Sp=Rp.TextareaControl,Tp=Rp.SelectControl,Np=Rp.CheckboxControl,_p=wp.blockEditor,Cp=_p.InspectorControls,Ip=_p.useBlockProps,Lp=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.prompt,o=t.outputElement,i=t.aiEnvId,l=t.embeddingsEnvId,c=t.index,u=t.namespace,s=t.model,f=t.temperature,d=t.maxTokens,m=t.isAssistant,p=t.assistantId,h=t.resolution,y=encodeURIComponent(a),v=Ip.save(),g={id:{value:n,insertIfNull:!0},label:{value:r,insertIfNull:!0},prompt:{value:y,insertIfNull:!0},output_element:{value:o,insertIfNull:!0},model:{value:s,insertIfNull:!1},temperature:{value:f,insertIfNull:!1},max_tokens:{value:d,insertIfNull:!1},is_assistant:{value:m,insertIfNull:!1},env_id:{value:i,insertIfNull:!1},embeddings_env_id:{value:l,insertIfNull:!1},embeddings_index:{value:c,insertIfNull:!1},embeddings_namespace:{value:u,insertIfNull:!1},assistant_id:{value:p,insertIfNull:!1},resolution:{value:h,insertIfNull:!1}},b=Object.entries(g).filter((function(e){var t=pp(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=pp(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-submit");return b="".concat(b,"]"),React.createElement("div",v,b)},kp=function(e){var t=Ip(),n=e.attributes,r=n.id,a=n.label,o=n.prompt,i=n.model,l=n.temperature,c=n.maxTokens,u=n.aiEnvId,s=n.embeddingsEnvId,f=n.index,d=n.namespace,m=n.assistantId,p=n.resolution,h=n.isAssistant,y=n.outputElement,v=n.placeholders,g=void 0===v?[]:v,b=e.setAttributes,E=k.embeddings_envs||[],w=bp((function(){return E.find((function(e){return e.id===s}))||null}),[E,s]),R=bp((function(){return(null==w?void 0:w.indexes)||[]}),[w]),x=bp((function(){return(null==w?void 0:w.namespaces)||[]}),[w]),O=k.ai_envs||[],S=lt(k,u),T=S.models,N=(0,S.getModel)(i),_="image"===(null==N?void 0:N.type),C=bp((function(){return O.find((function(e){return e.id===u}))||null}),[O,u]),I=(null==C?void 0:C.assistants)||[],L=bp((function(){return I.find((function(e){return e.id===m}))||null}),[I,m]);Ep((function(){!u&amp;&amp;!i||C||b({aiEnvId:null,model:null})}),[u]),Ep((function(){(s||f||d)&amp;&amp;!w&amp;&amp;b({embeddingsEnvId:null,index:null,namespace:null})}),[s]),Ep((function(){L&amp;&amp;L.model&amp;&amp;L.model!==i&amp;&amp;b({model:L.model})}),[L]),Ep((function(){h||b({assistantId:""})}),[h]),Ep((function(){if(!r){var e=Math.random().toString(36).substr(2,9);b({id:"mwai-"+e})}}),[r]),Ep((function(){var e=o.match(/{([^}]+)}/g);if(e){var t=e.map((function(e){return e.replace("{","").replace("}","")}));t.join(",")!==g.join(",")&amp;&amp;b({placeholders:t})}else b({placeholders:[]})}),[o]);var A=bp((function(){return g?g.length:0}),[g]),j=bp((function(){var e=I.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"None",value:""}),e}),[I]),P=bp((function(){var e=T.map((function(e){return{label:e.rawName,value:e.model}}));return e.unshift({label:"Default",value:""}),e}),[T]),M=bp((function(){var e;if(!N||!_)return[];var t=(null==N||null===(e=N.options)||void 0===e?void 0:e.map((function(e){return{label:e.option,value:e.option}})))||[];return t.unshift({label:"None",value:""}),t}),[N]),D=bp((function(){var e=R.map((function(e){return{label:e.name,value:e.name}}));return e.unshift({label:"None",value:""}),e}),[R]),G=bp((function(){var e=O.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"Default",value:""}),e}),[O]),F=bp((function(){var e=E.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"None",value:""}),e}),[E]),B=bp((function(){var e=x.map((function(e){return{label:e,value:e}}));return e.unshift({label:"None",value:""}),e}),[x]),U=bp((function(){return 0===A?"N/A":React.createElement("span",{className:"mwai-pill"},A," field",A&gt;1?"s":"")}),[A]);return React.createElement(React.Fragment,null,React.createElement("div",t,React.createElement(pm,{title:"Submit",type:"submit",hint:React.createElement(React.Fragment,null,"IN:"," ",React.createElement("span",{className:"mwai-pill"},U)," ","OUT:"," ",React.createElement("span",{className:"mwai-pill mwai-pill-purple"},y||"N/A"))},"Input Fields: ",g.join(", "),React.createElement("br",null),"Prompt: ",o,React.createElement("br",null),"Output Element: ",y)),React.createElement(Cp,null,React.createElement(xp,{title:He.COMMON.OUTPUT},React.createElement(Op,{label:He.COMMON.LABEL,value:a,onChange:function(e){return b({label:e})}}),React.createElement(Sp,{label:He.COMMON.PROMPT,value:o,onChange:function(e){return b({prompt:e})},help:He.FORMS.PROMPT_INFO}),React.createElement(Op,{label:He.FORMS.OUTPUT_ELEMENT,value:y,onChange:function(e){return b({outputElement:e})},help:He.FORMS.OUTPUT_ELEMENT_INFO})),React.createElement(xp,{title:He.COMMON.MODEL_PARAMS},O&amp;&amp;O.length&gt;0&amp;&amp;React.createElement(Tp,{label:He.COMMON.ENVIRONMENT,value:u,options:G,onChange:function(e){return b({aiEnvId:e})}}),O&amp;&amp;O.length&gt;0&amp;&amp;React.createElement(Np,{label:"Assistant Mode",checked:h,onChange:function(e){return b({isAssistant:e})}}),h&amp;&amp;I&amp;&amp;I.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Tp,{label:He.COMMON.ASSISTANT,value:m,options:j,onChange:function(e){return b({assistantId:e})}})),!h&amp;&amp;React.createElement(React.Fragment,null,T&amp;&amp;T.length&gt;0&amp;&amp;React.createElement(Tp,{label:He.COMMON.MODEL,value:i,options:P,onChange:function(e){return b({model:e})}}),!_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Op,{label:He.COMMON.TEMPERATURE,value:l,onChange:function(e){return b({temperature:parseFloat(e)})},type:"number",step:"0.1",min:"0",max:"1",help:He.HELP.TEMPERATURE}),React.createElement(Op,{label:He.COMMON.MAX_TOKENS,value:c,onChange:function(e){return b({maxTokens:parseInt(e)})},type:"number",step:"16",min:"32",max:"4096",help:React.createElement(qa,{model:N,maxTokens:c,onRecommendedClick:function(e){return b({maxTokens:e})}})})),_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Tp,{label:He.COMMON.RESOLUTION,value:p,options:M,onChange:function(e){return b({resolution:e})}})))),!_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xp,{title:He.COMMON.CONTEXT_PARAMS},E&amp;&amp;E.length&gt;0&amp;&amp;React.createElement(Tp,{label:He.COMMON.EMBEDDINGS_ENV,value:s,options:F,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({embeddingsEnvId:e})}}),R&amp;&amp;R.length&gt;0&amp;&amp;React.createElement(Tp,{label:He.COMMON.EMBEDDINGS_INDEX,value:f,options:D,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({index:e})}}),"pinecone"===(null==w?void 0:w.type)&amp;&amp;x&amp;&amp;x.length&gt;0&amp;&amp;React.createElement(Tp,{label:He.COMMON.NAMESPACE,value:d,options:B,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({namespace:e})}}))),React.createElement(xp,{title:He.COMMON.SYSTEM},React.createElement(Op,{label:"ID",value:r,onChange:function(e){return b({id:e})}}))))};var Ap=function(){vm("ai-engine/chatbot",{title:"AI Chatbot",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"being built"),". I will allow to create a chatbot. Coming soon!"),icon:dm,category:"layout",keywords:["ai","openai","chatbot"],attributes:{id:{type:"string",default:""},chatbotId:{type:"string",default:"default"}},edit:Om,save:xm})};function jp(e){return jp="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},jp(e)}function Pp(){Pp=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==jp(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(jp(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Mp(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Dp(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mp(o,r,a,i,l,"next",e)}function l(e){Mp(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Gp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Bp=wp.element,Up=Bp.useState,Hp=Bp.useEffect;const Zp=function(e){var t=e.isOpen,n=void 0!==t&amp;&amp;t,r=(e.title,e.onClose),a=void 0===r?{}:r,o=Gp(Up(""),2),i=o[0],l=o[1],c=Gp(Up("Logitech MK270 Wireless Keyboard"),2),u=c[0],s=c[1],f=it({options:k}),d=f.currentHumanLanguage,m=f.jsxLanguageSelector,p=Gp(Up(""),2),h=p[0],y=p[1],v=Gp(Up(""),2),b=v[0],w=v[1],x=Gp(Up(""),2),O=x[0],S=x[1],N=Gp(Up(!1),2),_=N[0],C=N[1],I=Gp(Up(!1),2),j=(I[0],I[1]);function P(e){var t=e.split("\n"),n={};return t.forEach((function(e){e.startsWith("DESCRIPTION:")?n.description=e.replace("DESCRIPTION:","").trim():e.startsWith("SHORT_DESCRIPTION:")?n.shortDescription=e.replace("SHORT_DESCRIPTION:","").trim():e.startsWith("SEO_TITLE:")?n.seoTitle=e.replace("SEO_TITLE:","").trim():e.startsWith("TAGS:")&amp;&amp;(n.keywords=e.replace("TAGS:","").trim().split(", "))})),n}Hp((function(){var e=document.getElementById("title");e&amp;&amp;s(e.value)}),[n]);var M=function(){var e=Dp(Pp().mark((function e(){var t,n,r;return Pp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t=(t="Here is the product: {USER_ENTRY}\n\nBased on the product, write a description of this product (between 120 and 240 words), a short description (between 20-49 words), a SEO-friendly title, and tags, separated by commas. Write it in {LANGUAGE}. Use this format:\nDESCRIPTION: \nSHORT_DESCRIPTION: \nSEO_TITLE: \nTAGS: \n\n".replace("{USER_ENTRY}",u)).replace("{LANGUAGE}",d),e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:L,json:{env:"admin-tools",session:A,prompt:t}});case 5:n=e.sent,C(!1),n.success&amp;&amp;(r=P(n.data),l(r.description),y(r.shortDescription),w(r.seoTitle),S(r.keywords.join(", ")));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=document.getElementById("title");e?e.value=b:alert("The title cannot be written (the field could not be found).")},G=function(){var e=tinyMCE.get("content");e?e.setContent(i):alert("The content cannot be written (the field could not be found).")},F=function(){var e=tinyMCE.get("excerpt");e?e.setContent(h):alert("The content cannot be written (the field could not be found).")},B=function(){var e=document.getElementById("new-tag-product_tag");e?e.value=O:alert("The tags cannot be written (the field could not be found).")},U=function(){var e=Dp(Pp().mark((function e(){return Pp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(),G(),F(),B(),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Dp(Pp().mark((function e(){return Pp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),j(),C(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:n,onRequestClose:H,title:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,content:React.createElement(jt,null,React.createElement("label",null,"Define your product:"),React.createElement(Dt.l,{disabled:_,name:"userEntry",value:u,rows:3,onChange:s,style:{flex:"auto"},placeholder:"What's your product?"}),React.createElement("div",{className:"form-row"},React.createElement("div",{style:{flex:"auto"}},m),React.createElement(E._,{isBusy:_,onClick:M,style:{marginLeft:5}},"Generate Fields")),React.createElement(xe.i,{height:30,line:!0}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Title"),React.createElement(E._,{small:!0,disabled:!b,onClick:D,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(we.A,{disabled:_,value:b,onChange:w}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Description"),React.createElement(E._,{small:!0,disabled:!i,onClick:G,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Dt.l,{disabled:_,rows:4,value:i,onChange:l}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Short Description"),React.createElement(E._,{small:!0,disabled:!h,onClick:F,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Dt.l,{disabled:_,rows:4,value:h,onChange:y}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Product Tags"),React.createElement(E._,{small:!0,disabled:!O,onClick:B,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(we.A,{small:!0,disabled:_,value:O,onChange:S})),okButton:{label:"Write all fields",onClick:U}}))};function Vp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Yp=wp.element,zp=Yp.useState,Wp=(Yp.useEffect,Yp.useMemo,wp.i18n.__,wp.components.Button);const qp=function(){var e,t,n=(e=zp(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return React.createElement(React.Fragment,null,React.createElement("p",null,"Generate the WooCommerce fields."),React.createElement("div",{style:{display:"flex"}},React.createElement(Wp,{variant:"primary",onClick:function(){a(!0)},style:{flex:1,marginRight:10}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Generate Fields")),React.createElement(g.o,null,React.createElement(Zp,{isOpen:r,onClose:function(){a(!1)}})))};var Xp=wp.element.render,Qp=new c.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1}}}),Kp=k.module_chatbots,Jp=k.module_suggestions,$p=k.module_forms,eh=k.module_woocommerce;Kp&amp;&amp;Ap(),$p&amp;&amp;(Ap(),Um("ai-engine/form-field",{apiVersion:3,title:"AI Form Field",icon:dm,category:"layout",keywords:[Bm("ai"),Bm("openai"),Bm("form")],supports:{dimensions:{width:!0}},attributes:{id:{type:"string",default:""},name:{type:"string",default:"LABEL"},type:{type:"string",default:"input"},options:{type:"array",default:[]},label:{type:"string",default:"Label: "},placeholder:{type:"string",default:""},defaultValue:{type:"string",default:""},maxlength:{type:"string",default:""},rows:{type:"rows",default:4},required:{type:"boolean",default:!0}},edit:$m,save:Jm}),rp("ai-engine/form-output",{title:"AI Form Output",icon:dm,category:"layout",keywords:[np("ai"),np("openai"),np("form")],supports:{dimensions:{minHeight:!0}},attributes:{id:{type:"string",default:""},copyButton:{type:"boolean",default:!0}},edit:mp,save:dp}),vp("ai-engine/form-submit",{title:"AI Form Submit",icon:dm,category:"layout",keywords:[yp("ai"),yp("openai"),yp("form")],supports:{dimensions:{minHeight:!1}},attributes:{id:{type:"string",default:""},label:{type:"string",default:"Submit"},prompt:{type:"string",default:""},outputElement:{type:"string",default:""},model:{type:"string",default:""},temperature:{type:"number",default:.8},maxTokens:{type:"number",default:4096},placeholders:{type:"array",default:[]},aiEnvId:{type:"string",default:""},embeddingsEnvId:{type:"string",default:""},index:{type:"string",default:""},namespace:{type:"string",default:null},isAssistant:{type:"boolean",default:!1},assistantId:{type:"string",default:""},resolution:{type:"string",default:null}},edit:kp,save:Lp}),Nm("ai-engine/form-container",{title:"AI Form Container",icon:dm,category:"layout",keywords:[Tm("ai"),Tm("openai"),Tm("form")],attributes:{id:{type:"string",default:""},theme:{type:"string",default:"ChatGPT"}},edit:Dm,save:Mm})),Jp&amp;&amp;(Ad("ai-engine-document-settings",{render:zd}),Zd("ai-wand/actions",{title:"AI Wand",tagName:"mwai",className:null,edit:Yd}),tm("editor.BlockEdit","mwai-copilot/module",(function(e){return function(t){var n=am(),r=$d(rm(!1),2),a=r[0],o=r[1],i=$d(rm(""),2),l=i[0],c=i[1],u=$d(rm(!1),2),s=u[0],f=u[1],d=$d(rm(!1),2),m=d[0],p=d[1],h=t.attributes.content,y=function(){var e=Jd(Qd().mark((function e(n){var r;return Qd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,(0,R.PV)("".concat(T,"/ai/copilot"),{method:"POST",nonce:L,json:{action:"write",prompt:n}});case 4:r=e.sent,t.setAttributes({content:r.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Error: "+e.t0.message),console.log("ERROR",e.t0);case 12:return e.prev=12,f(!1),o(!1),c(""),e.finish(12);case 17:case"end":return e.stop()}}),e,null,[[0,8,12,17]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Jd(Qd().mark((function e(t){return Qd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:"Enter"===t.code&amp;&amp;(t.preventDefault(),y(l)),("Escape"===t.code||"Backspace"===t.code&amp;&amp;!l)&amp;&amp;(t.preventDefault(),o(!1),c(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return om((function(){a&amp;&amp;n.current&amp;&amp;n.current.focus()}),[a]),"core/paragraph"===t.name?a?React.createElement("div",{style:{position:"relative"}},React.createElement(lm,{ref:n,label:React.createElement(React.Fragment,null,React.createElement(St,{icon:"wand",style:{marginBottom:-4}}),"AI Copilot"),value:l,disabled:s,placeholder:"Write about...",onChange:function(e){return c(e)},onKeyDown:v,onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)}}),s&amp;&amp;React.createElement(cm,{style:{position:"absolute",top:30,right:0}})):React.createElement("div",{onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)},onKeyDown:function(e){m||"Space"!==e.code||h||(e.preventDefault(),o(!0))}},React.createElement(e,t)):React.createElement(e,t)}})),tm("blocks.registerBlockType","mwai-copilot/placeholder",(function(e,t){if("core/paragraph"===t){var n=e.edit;e.edit=function(e){return e=Xd(Xd({},e),{},{attributes:Xd(Xd({},e.attributes),{},{placeholder:"Type / to choose a block, or press space to summon the AI Copilot"})}),n(e)}}return e}))),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("mwai-admin-settings");e&amp;&amp;Xp(React.createElement(u.aH,{client:Qp},React.createElement(s.Z,null,React.createElement(fs,null))),e);var t=document.getElementById("mwai-content-generator");t&amp;&amp;Xp(React.createElement(u.aH,{client:Qp},React.createElement(s.Z,null,React.createElement(ed,null))),t);var n=document.getElementById("mwai-image-generator");n&amp;&amp;Xp(React.createElement(u.aH,{client:Qp},React.createElement(s.Z,null,React.createElement(bd,null))),n);var r=document.getElementById("mwai-playground");if(r&amp;&amp;Xp(React.createElement(u.aH,{client:Qp},React.createElement(s.Z,null,React.createElement(nf,null))),r),Jp){var a=document.getElementById("mwai-admin-postsList");a&amp;&amp;Xp(React.createElement(s.Z,null,React.createElement(Ff,null)),a)}if(eh){var o=document.getElementById("mwai-admin-wcAssistant");o&amp;&amp;Xp(React.createElement(s.Z,null,React.createElement(qp,null)),o)}var i=document.getElementById("meow-common-dashboard");i&amp;&amp;Xp</del>(React.createElement(s.Z,null,React.createElement(be,null)),i)}))},9815:(e,t,n)=&gt;{n.d(t,{Z:()=&gt;l});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".iOqlDdBnATVpadGvx1YX, .lndjoRWjp3ye2x5XZ29y {\n&nbsp; --mwai-spacing: 15px;\n&nbsp; --mwai-fontSize: 15px;\n&nbsp; --mwai-lineHeight: 1.5;\n&nbsp; --mwai-borderRadius: 10px;\n&nbsp; --mwai-width: 460px;\n&nbsp; --mwai-maxHeight: 40vh;\n&nbsp; --mwai-iconTextColor: white;\n&nbsp; --mwai-iconTextBackgroundColor: #343541;\n&nbsp; --mwai-fontColor: #FFFFFF;\n&nbsp; --mwai-backgroundPrimaryColor: #454654;\n&nbsp; --mwai-backgroundHeaderColor: #343541;\n&nbsp; --mwai-headerButtonsColor: #FFFFFF;\n&nbsp; --mwai-conversationsBackgroundColor: #202123;\n&nbsp; --mwai-conversationsTextColor: #FFFFFF;\n&nbsp; --mwai-backgroundSecondaryColor: #343541;\n&nbsp; --mwai-errorBackgroundColor: #6d2f2a;\n&nbsp; --mwai-errorTextColor: #FFFFFF;\n}\n\n.iOqlDdBnATVpadGvx1YX button, .lndjoRWjp3ye2x5XZ29y button {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; border: 1px solid var(--mwai-backgroundPrimaryColor);\n&nbsp; padding: calc(var(--mwai-spacing) / 2) var(--mwai-spacing);\n&nbsp; min-width: 90px;\n&nbsp; border-radius: 5px;\n&nbsp; cursor: pointer;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; font-size: 90%;\n&nbsp; position: relative;\n}\n\n.iOqlDdBnATVpadGvx1YX button .M1bTKgon3yJn1pg388Aw, .lndjoRWjp3ye2x5XZ29y button .M1bTKgon3yJn1pg388Aw {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: 5px;\n&nbsp; font-size: 11px;\n}\n\n.iOqlDdBnATVpadGvx1YX button:hover, .lndjoRWjp3ye2x5XZ29y button:hover {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled], .lndjoRWjp3ye2x5XZ29y button[disabled] {\n&nbsp; cursor: not-allowed;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled] span, .lndjoRWjp3ye2x5XZ29y button[disabled] span {\n&nbsp; opacity: 0.5;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled].v3cfCHqnK8iZsl1KBxr5 span, .lndjoRWjp3ye2x5XZ29y button[disabled].v3cfCHqnK8iZsl1KBxr5 span {\n&nbsp; display: none;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled].v3cfCHqnK8iZsl1KBxr5:before, .lndjoRWjp3ye2x5XZ29y button[disabled].v3cfCHqnK8iZsl1KBxr5:before {\n&nbsp; content: '';\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin: auto;\n&nbsp; border: 3px solid transparent;\n&nbsp; border-top-color: var(--mwai-fontColor);\n&nbsp; border-radius: 50%;\n&nbsp; animation: Q8R59WRCXYK3JY7gl3Nw 1s ease infinite;\n}\n\n.iOqlDdBnATVpadGvx1YX {\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n&nbsp; overflow: hidden;\n}\n\n.iOqlDdBnATVpadGvx1YX * {\n&nbsp; box-sizing: border-box;\n}\n\n.iOqlDdBnATVpadGvx1YX .a48TtMrGohiplJihDv4a {\n&nbsp; color: var(--mwai-headerButtonsColor);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; display: flex;\n&nbsp; justify-content: space-between;\n&nbsp; align-items: center;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw {\n&nbsp; background: var(--mwai-conversationsBackgroundColor);\n&nbsp; list-style: none;\n&nbsp; padding: calc(var(--mwai-spacing) / 2);\n&nbsp; margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw .OmmzQgRvsKUxTPnN1NGA {\n&nbsp; margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li {\n&nbsp; color: var(--mwai-conversationsTextColor);\n&nbsp; font-size: 75%;\n&nbsp; padding: calc(var(--mwai-spacing) / 2);\n&nbsp; opacity: 0.65;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li.Ru4QsUQBo4Gov_bTpbJC {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; opacity: 1;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li:hover {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y * {\n&nbsp; box-sizing: border-box;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Aml8NHGXmSBh_55anACw {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; overflow: hidden;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.lndjoRWjp3ye2x5XZ29y .smw5eGNuW8ar3Rq6KsU5 {\n&nbsp; overflow: auto;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n&nbsp; display: flex;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; position: relative;\n&nbsp; line-height: var(--mwai-lineHeight);\n&nbsp; transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.LkkwYvlzeIMIzf7mtUwW {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.ND9ujQp2hjVwNQTPWDSf {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.xVfQe9VEYvuzMaqLoXuP {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; margin-right: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .V_Rv657Z7bGmaqPXFjGG {\n&nbsp; opacity: 0.50;\n&nbsp; white-space: nowrap;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh {\n&nbsp; margin-right: 10px;\n&nbsp; width: 40px;\n&nbsp; height: 40px;\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; border-radius: 5px;\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh img {\n&nbsp; max-width: 100%;\n&nbsp; max-height: 100%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh.weQ0XGKhJgBusnPzOtWH img {\n&nbsp; width: 28px;\n&nbsp; height: 28px;\n&nbsp; filter: brightness(0) invert(1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox {\n&nbsp; flex: auto;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; line-height: var(--mwai-lineHeight);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox * {\n&nbsp; font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox a {\n&nbsp; color: #2196f3;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h1 {\n&nbsp; font-size: 200%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h2 {\n&nbsp; font-size: 160%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h3 {\n&nbsp; font-size: 140%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h4 {\n&nbsp; font-size: 120%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox p code {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; padding: 2px 6px;\n&nbsp; border-radius: 8px;\n&nbsp; font-size: 90%;\n&nbsp; font-family: system-ui;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; padding: calc(var(--mwai-spacing) * 2 / 3) var(--mwai-spacing);\n&nbsp; break-after: auto;\n&nbsp; white-space: pre-wrap;\n&nbsp; font-size: 95%;\n&nbsp; max-width: 100%;\n&nbsp; width: 100%;\n&nbsp; font-family: system-ui;\n&nbsp; background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre code {\n&nbsp; padding: 0 !important;\n&nbsp; font-family: system-ui;\n&nbsp; background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ul {\n&nbsp; padding: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ol {\n&nbsp; padding: 0;\n&nbsp; margin: 0 0 0 20px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox table {\n&nbsp; width: 100%;\n&nbsp; border: 2px solid var(--mwai-backgroundSecondaryColor);\n&nbsp; border-collapse: collapse;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox thead {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox tr, .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n&nbsp; padding: 2px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n&nbsp; border: 2px solid var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m {\n&nbsp; display: inline-block;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m &gt; :first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox &gt; *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox &gt; *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ {\n&nbsp; background: var(--mwai-errorBackgroundColor);\n&nbsp; color: var(--mwai-errorFontColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; display: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n&nbsp; display: flex;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-top: 1px solid var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi {\n&nbsp; flex: auto;\n&nbsp; position: relative;\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; flex: auto;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border: none;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; resize: none;\n&nbsp; font-family: inherit;\n&nbsp; margin: 0;\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea:focus {\n&nbsp; outline: none;\n&nbsp; box-shadow: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea::placeholder {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; height: 100%;\n&nbsp; cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f svg {\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; width: 34px;\n&nbsp; height: 34px;\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n&nbsp; filter: grayscale(100%);\n&nbsp; transition: opacity 0.3s ease-out;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[active=true] svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f[active=true] svg {\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[disabled] svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f[disabled] svg {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: -12px;\n&nbsp; z-index: 100;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f svg {\n&nbsp; width: 42px;\n&nbsp; height: 42px;\n&nbsp; padding: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f span {\n&nbsp; position: absolute;\n&nbsp; font-size: 55%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f.qdmpzjfc2pvlu3qNoc7U svg {\n&nbsp; opacity: 1;\n&nbsp; filter: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 svg {\n&nbsp; padding: 5px 10px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n&nbsp; margin-left: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .fHnh9J6mBICuMbL1YTu6 {\n&nbsp; opacity: 0.50;\n&nbsp; margin-top: calc( -1 * var(--mwai-spacing));\n&nbsp; padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n&nbsp; font-size: smaller;\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; text-align: left;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda img {\n&nbsp; width: 100%;\n}\n\n.CWHqlUDu9z_VhM1iNYox img {\n&nbsp; max-width: 100%;\n}\n\n.P8gokhAqzYbmwRSdIX15 {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n}\n\n.P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n&nbsp; background: var(--mwai-iconTextBackgroundColor);\n&nbsp; color: var(--mwai-iconTextColor);\n&nbsp; max-width: 200px;\n&nbsp; font-size: 13px;\n&nbsp; margin-bottom: 15px;\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 8px;\n}\n\n.P8gokhAqzYbmwRSdIX15 img {\n&nbsp; filter: drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.15));\n}\n\n.P8gokhAqzYbmwRSdIX15:hover {\n&nbsp; cursor: pointer;\n&nbsp; filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt {\n&nbsp; position: fixed;\n&nbsp; right: 30px;\n&nbsp; bottom: 30px;\n&nbsp; width: var(--mwai-width);\n&nbsp; z-index: 9999;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 22px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before, .T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 1px;\n&nbsp; background-color: var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .Aml8NHGXmSBh_55anACw {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n&nbsp; align-items: flex-start;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n&nbsp; flex-direction: column-reverse;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n&nbsp; margin-bottom: 0;\n&nbsp; margin-top: 15px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n&nbsp; margin-bottom: 0px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt), .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5 {\n&nbsp; flex: auto;\n&nbsp; max-height: none;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .a48TtMrGohiplJihDv4a {\n&nbsp; display: flex;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n&nbsp; display: flex;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .P8gokhAqzYbmwRSdIX15 {\n&nbsp; display: none;\n}\n\n.Oq1uZhJCX5aY36MMcVO2 {\n&nbsp; margin: var(--mwai-spacing);\n&nbsp; color: white;\n&nbsp; background: rgba(180, 55, 55, 0.55);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.Oq1uZhJCX5aY36MMcVO2:hover {\n&nbsp; cursor: pointer;\n&nbsp; background: rgba(180, 44, 44, 0.85);\n}\n\n@keyframes Q8R59WRCXYK3JY7gl3Nw {\n&nbsp; from {\n&nbsp; &nbsp; transform: rotate(0turn);\n&nbsp; }\n&nbsp; to {\n&nbsp; &nbsp; transform: rotate(1turn);\n&nbsp; }\n}\n\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt),\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n&nbsp; top: 32px;\n}\n\n@media (max-width: 760px) {\n&nbsp; .lndjoRWjp3ye2x5XZ29y.T9GqU1_HCj_oHtw9lgwt {\n&nbsp; &nbsp; width: calc(100% - 40px);\n&nbsp; &nbsp; z-index: 9999999999;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n}\n\n.s6pfLhxkG5kdsInHIBwB {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y pre code.qGLvA_pwzQhRx17Qp2qG {\n&nbsp; display: block;\n&nbsp; overflow-x: auto;\n&nbsp; padding: 1em;\n}\n\n.lndjoRWjp3ye2x5XZ29y code.qGLvA_pwzQhRx17Qp2qG {\n&nbsp; padding: 3px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qGLvA_pwzQhRx17Qp2qG {\n&nbsp; color: #fff;\n&nbsp; background: #1c1b1b;\n}\n\n.lndjoRWjp3ye2x5XZ29y .dll3BbdRvJ0qjOH7C1R0 {\n&nbsp; color: #fff;\n}\n\n.lndjoRWjp3ye2x5XZ29y .P6sxeXNm3ulh2o2h5Yjy {\n&nbsp; color: #999;\n}\n\n.lndjoRWjp3ye2x5XZ29y .pDFfJSc0CJxgez6eAYCl, .lndjoRWjp3ye2x5XZ29y .S3p1X8o3KwAIaXfZTWEv, .lndjoRWjp3ye2x5XZ29y .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .ZrrOZX4MogzT4SIVWJv9, .lndjoRWjp3ye2x5XZ29y .Ezj9i_PFTu6NXnm5bQ2W {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .lw3VjK3cUsfdCH7g29ni {\n&nbsp; color: #c59bc1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qUDlP2cGSktxjMwFtugR, .lndjoRWjp3ye2x5XZ29y ._fxVWJ7gNhOogvHgiiEW, .lndjoRWjp3ye2x5XZ29y .PAeDFMLA7yrPh2m_Jolt, .lndjoRWjp3ye2x5XZ29y .IJOz0y4nuAjuKEH5ad4S, .lndjoRWjp3ye2x5XZ29y .o2piLhFaxLQLXgCkfz4l, .lndjoRWjp3ye2x5XZ29y .iO5fcUq9dmiH1asdr3Cl {\n&nbsp; color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .uTq62uTnFfexkPglNKKQ {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .cuNs_mMtNSndHrBLDBun, .lndjoRWjp3ye2x5XZ29y .VOLYON7Lm2ixjT0lfJqb, .lndjoRWjp3ye2x5XZ29y .Dht1W1O3irfcnSwHUkVD, .lndjoRWjp3ye2x5XZ29y .l8x1cPyd6xYPxh0UxFki, .lndjoRWjp3ye2x5XZ29y .gmwyH9Q5KoURCSuZX3RW, .lndjoRWjp3ye2x5XZ29y .pG2Tm8XNiaqF15bzqowa, .lndjoRWjp3ye2x5XZ29y .ShtyZatv6a_Np09d9ZhL {\n&nbsp; color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI, .lndjoRWjp3ye2x5XZ29y .s4pdbTkxzyKUiMhqzSgw {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .hnH6CCiD_bvKHZauHgmD, .lndjoRWjp3ye2x5XZ29y .hV3GpUw8Q6uCKZMVukYw, .lndjoRWjp3ye2x5XZ29y .eMKSdPjINy50n4pZn4GN {\n&nbsp; color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Pym4asdLc5qgFVu49au7, .lndjoRWjp3ye2x5XZ29y .T6J4Iul5eF5H9v2uEUHB {\n&nbsp; color: #ccc;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .l8x1cPyd6xYPxh0UxFki {\n&nbsp; color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .YCa9eRFA9Uy7fX7inEM1 {\n&nbsp; color: #de7176;\n}\n\n.lndjoRWjp3ye2x5XZ29y .A3lgF_mx1w0dOoKUrUi0 {\n&nbsp; color: #76c490;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GofZXHORfmng7GRoPDfO {\n&nbsp; font-style: italic;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GalxnJ2lz2qqZgZPtQ_J {\n&nbsp; font-weight: 700;\n}\n\n@media (max-width: 760px) {\n&nbsp; .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n&nbsp; &nbsp; margin: 15px 0 0 0;\n&nbsp; &nbsp; height: 40px;\n&nbsp; &nbsp; width: inherit;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; &nbsp; margin-right: 0;\n&nbsp; &nbsp; max-width: inherit;\n&nbsp; }\n}\n",""]),i.locals={"mwai-discussions":"iOqlDdBnATVpadGvx1YX","mwai-chat":"lndjoRWjp3ye2x5XZ29y","mwai-timer":"M1bTKgon3yJn1pg388Aw","mwai-busy":"v3cfCHqnK8iZsl1KBxr5","mwai-button-spinner":"Q8R59WRCXYK3JY7gl3Nw","mwai-header":"a48TtMrGohiplJihDv4a","mwai-content":"Aml8NHGXmSBh_55anACw","mwai-discussion":"OmmzQgRvsKUxTPnN1NGA","mwai-active":"Ru4QsUQBo4Gov_bTpbJC","mwai-conversation":"smw5eGNuW8ar3Rq6KsU5","mwai-reply":"F0C5IedgFBoZ1NVujRQZ","mwai-copy-button":"s6pfLhxkG5kdsInHIBwB","mwai-copy-button-one":"yPOP1Mu_LbAFIAA1DiLC","mwai-copy-button-two":"Vo_Ic5uNSqGTmWJTRoUw","mwai-animate":"saS9VjjVMXioL4CweV81","mwai-fade-out":"LkkwYvlzeIMIzf7mtUwW","mwai-user":"ND9ujQp2hjVwNQTPWDSf","mwai-ai":"xVfQe9VEYvuzMaqLoXuP","mwai-name":"mVKuMauVy4SrhOGg0tO7","mwai-name-text":"V_Rv657Z7bGmaqPXFjGG","mwai-avatar":"hsW5GDpr7mGWbevVTphh","mwai-svg":"weQ0XGKhJgBusnPzOtWH","mwai-text":"CWHqlUDu9z_VhM1iNYox","mwai-typewriter":"fJyiPz2f5_C8IfUzgD1m","mwai-system":"CbsFIeB3668vSID0A4iZ","mwai-input":"kgqpqavmCnlczZVXZMNw","mwai-input-text":"ikW2DMZ6yprkNfgHcqIi","mwai-microphone":"mNSHwda3gI7RQiK8_gv7","mwai-file-upload":"hjMPRhlRyJZ70Vnwp52f","mwai-enabled":"qdmpzjfc2pvlu3qNoc7U","mwai-compliance":"fHnh9J6mBICuMbL1YTu6","mwai-gallery":"Bp49so_uw3KdIe3QrEda","mwai-open-button":"P8gokhAqzYbmwRSdIX15","mwai-icon-text":"FbJjBUnddAFF1XtQEVP4","mwai-window":"T9GqU1_HCj_oHtw9lgwt","mwai-buttons":"hTngPMta9JE4rNszvmBn","mwai-resize-button":"Q4YDXTlKM6ODOACM138U","mwai-close-button":"Ro3ozFQUTLKZlgVIqTSB","mwai-bottom-left":"ajsqo2U9G1IzQDXbBkAj","mwai-top-right":"mg6G7Y1UduAmrmebUMpO","mwai-top-left":"XfXb_vsh1m3bAaFnERsy","mwai-fullscreen":"jiSqg50xKsenI9wptcuo","mwai-open":"EVEzwxiR59HKfU7cbdai","mwai-error":"Oq1uZhJCX5aY36MMcVO2","admin-bar":"qEeiVUrkYtpxDyZZ5FzQ",hljs:"qGLvA_pwzQhRx17Qp2qG","hljs-subst":"dll3BbdRvJ0qjOH7C1R0","hljs-comment":"P6sxeXNm3ulh2o2h5Yjy","hljs-attr":"pDFfJSc0CJxgez6eAYCl","hljs-doctag":"S3p1X8o3KwAIaXfZTWEv","hljs-keyword":"eNaDX_BT2XHi1fmpHhjK","hljs-meta":"b42b1C0mh0UtxZtJEaXI","hljs-section":"ZrrOZX4MogzT4SIVWJv9","hljs-selector-tag":"Ezj9i_PFTu6NXnm5bQ2W","hljs-attribute":"lw3VjK3cUsfdCH7g29ni","hljs-name":"qUDlP2cGSktxjMwFtugR","hljs-number":"_fxVWJ7gNhOogvHgiiEW","hljs-quote":"PAeDFMLA7yrPh2m_Jolt","hljs-selector-id":"IJOz0y4nuAjuKEH5ad4S","hljs-template-tag":"o2piLhFaxLQLXgCkfz4l","hljs-type":"iO5fcUq9dmiH1asdr3Cl","hljs-selector-class":"uTq62uTnFfexkPglNKKQ","hljs-link":"cuNs_mMtNSndHrBLDBun","hljs-regexp":"VOLYON7Lm2ixjT0lfJqb","hljs-selector-attr":"Dht1W1O3irfcnSwHUkVD","hljs-string":"l8x1cPyd6xYPxh0UxFki","hljs-symbol":"gmwyH9Q5KoURCSuZX3RW","hljs-template-variable":"pG2Tm8XNiaqF15bzqowa","hljs-variable":"ShtyZatv6a_Np09d9ZhL","hljs-selector-pseudo":"s4pdbTkxzyKUiMhqzSgw","hljs-built_in":"hnH6CCiD_bvKHZauHgmD","hljs-literal":"hV3GpUw8Q6uCKZMVukYw","hljs-title":"eMKSdPjINy50n4pZn4GN","hljs-bullet":"Pym4asdLc5qgFVu49au7","hljs-code":"T6J4Iul5eF5H9v2uEUHB","hljs-deletion":"YCa9eRFA9Uy7fX7inEM1","hljs-addition":"A3lgF_mx1w0dOoKUrUi0","hljs-emphasis":"GofZXHORfmng7GRoPDfO","hljs-strong":"GalxnJ2lz2qqZgZPtQ_J"};const l=i},402:(e,t,n)=&gt;{n.d(t,{Z:()=&gt;l});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".yAdyblrtoeLBR0jQpw50 {\n&nbsp; --mwai-spacing: 10px;\n&nbsp; --mwai-fontSize: 13px;\n&nbsp; --mwai-lineHeight: 1.5;\n&nbsp; --mwai-borderRadius: 10px;\n&nbsp; --mwai-width: 460px;\n&nbsp; --mwai-maxHeight: 40vh;\n&nbsp; --mwai-iconTextColor: black;\n&nbsp; --mwai-iconTextBackgroundColor: white;\n&nbsp; --mwai-fontColor: black;\n&nbsp; --mwai-backgroundPrimaryColor: #fafafa;\n&nbsp; --mwai-backgroundHeaderColor: #0084ff;\n&nbsp; --mwai-headerButtonsColor: white;\n&nbsp; --mwai-backgroundUserColor: #0084ff;\n&nbsp; --mwai-backgroundAiColor: #eee;\n&nbsp; --mwai-backgroundAiSecondaryColor: #ddd;\n}\n\n.yAdyblrtoeLBR0jQpw50 * {\n&nbsp; box-sizing: border-box;\n}\n\n.yAdyblrtoeLBR0jQpw50 .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; flex-direction: column;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 {\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; overflow: auto;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY {\n&nbsp; margin-bottom: var(--mwai-spacing);\n&nbsp; padding: 7px 12px;\n&nbsp; border-radius: 15px;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; position: relative;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .iNYH5nYgNZAe4RXsoGlM {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .YrCYLibUvvIBdWDUNfm0 {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:first-child {\n&nbsp; margin-top: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:last-child {\n&nbsp; margin-bottom: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w {\n&nbsp; align-self: flex-start;\n&nbsp; background: var(--mwai-backgroundAiColor);\n&nbsp; margin-left: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::after {\n&nbsp; content: \"\";\n&nbsp; position: absolute;\n&nbsp; z-index: 1;\n&nbsp; bottom: 0;\n&nbsp; left: -10px;\n&nbsp; width: 10px;\n&nbsp; height: 20px;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-bottom-right-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before {\n&nbsp; z-index: 0;\n&nbsp; left: -7px;\n&nbsp; height: 20px;\n&nbsp; width: 20px;\n&nbsp; background: var(--mwai-backgroundAiColor);\n&nbsp; border-bottom-right-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4 {\n&nbsp; align-self: flex-end;\n&nbsp; background: var(--mwai-backgroundUserColor);\n&nbsp; color: white;\n&nbsp; margin-right: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::after {\n&nbsp; content: \"\";\n&nbsp; position: absolute;\n&nbsp; z-index: 1;\n&nbsp; bottom: 0;\n&nbsp; right: -10px;\n&nbsp; width: 10px;\n&nbsp; height: 20px;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-bottom-left-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before {\n&nbsp; z-index: 0;\n&nbsp; right: -10px;\n&nbsp; height: 20px;\n&nbsp; width: 20px;\n&nbsp; background: var(--mwai-backgroundUserColor);\n&nbsp; background-attachment: fixed;\n&nbsp; border-bottom-left-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD {\n&nbsp; flex: auto;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD a {\n&nbsp; color: #2196f3;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h1 {\n&nbsp; font-size: 200%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h2 {\n&nbsp; font-size: 160%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h3 {\n&nbsp; font-size: 140%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h4 {\n&nbsp; font-size: 120%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p {\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; line-height: var(--mwai-lineHeight);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p code {\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n&nbsp; padding: 2px 6px;\n&nbsp; border-radius: 8px;\n&nbsp; font-size: 90%;\n&nbsp; font-family: system-ui;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; break-after: auto;\n&nbsp; white-space: pre-wrap;\n&nbsp; max-width: 100%;\n&nbsp; width: 100%;\n&nbsp; font-family: system-ui;\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre code {\n&nbsp; padding: 0 !important;\n&nbsp; font-family: system-ui;\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD ol {\n&nbsp; padding: 0;\n&nbsp; margin: 0 0 0 20px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD table {\n&nbsp; width: 100%;\n&nbsp; border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n&nbsp; border-collapse: collapse;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD thead {\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD tr, .yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n&nbsp; padding: 2px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n&nbsp; border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny {\n&nbsp; display: inline-block;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny &gt; :first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD &gt; *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD &gt; *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .kpvcOwh9XehTKS0BEnBZ img {\n&nbsp; width: 24px;\n&nbsp; border-radius: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm {\n&nbsp; flex: auto;\n&nbsp; position: relative;\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; border: 1px solid var(--mwai-backgroundAiSecondaryColor);\n&nbsp; overflow: hidden;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; flex: auto;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border: none;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; resize: none;\n&nbsp; font-family: inherit;\n&nbsp; margin: 0;\n&nbsp; overflow: hidden;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea:focus {\n&nbsp; outline: none;\n&nbsp; box-shadow: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea::placeholder {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; height: 100%;\n&nbsp; cursor: pointer;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ svg {\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; width: 34px;\n&nbsp; height: 34px;\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n&nbsp; transition: opacity 0.3s ease-out;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E[active=true] svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ[active=true] svg {\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E[disabled] svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ[disabled] svg {\n&nbsp; opacity: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: -5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ svg {\n&nbsp; width: 42px;\n&nbsp; height: 42px;\n&nbsp; padding: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ span {\n&nbsp; position: absolute;\n&nbsp; font-size: 55%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ.SRrSUq0OFU6GUhaNh6U5 svg {\n&nbsp; opacity: 1;\n&nbsp; filter: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E svg {\n&nbsp; padding: 5px 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button {\n&nbsp; margin-left: var(--mwai-spacing);\n&nbsp; padding: 5px 15px;\n&nbsp; background-color: var(--mwai-backgroundUserColor);\n&nbsp; color: white;\n&nbsp; border: none;\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; cursor: pointer;\n&nbsp; height: 32px;\n&nbsp; width: 110px;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button .Q0xqGDBOEyagc8uXx5DV {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: 5px;\n&nbsp; font-size: 11px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button:hover {\n&nbsp; filter: brightness(1.2);\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled] {\n&nbsp; cursor: not-allowed;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled] span {\n&nbsp; opacity: 0.5;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled].RY9Q90iUrGOisGzgtLXR span {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled].RY9Q90iUrGOisGzgtLXR:before {\n&nbsp; content: '';\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin: auto;\n&nbsp; border: 3px solid transparent;\n&nbsp; border-top-color: var(--mwai-fontColor);\n&nbsp; border-radius: 50%;\n&nbsp; animation: kcxVvKjrfUjU3fcCEUwW 1s ease infinite;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xH6u22ybM6UxY6UZq9wL {\n&nbsp; opacity: 0.50;\n&nbsp; margin-top: calc( -1 * var(--mwai-spacing));\n&nbsp; padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n&nbsp; font-size: smaller;\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; text-align: left;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv img {\n&nbsp; width: 100%;\n}\n\n.g9XrXMpQH3afixCzXMWD img {\n&nbsp; max-width: 100%;\n}\n\n.P6TcWInHsZqb3Yw9izPm {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n}\n\n.P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n&nbsp; background: var(--mwai-iconTextBackgroundColor);\n&nbsp; color: var(--mwai-iconTextColor);\n&nbsp; max-width: 200px;\n&nbsp; font-size: 13px;\n&nbsp; margin-bottom: 15px;\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 8px;\n}\n\n.P6TcWInHsZqb3Yw9izPm img {\n&nbsp; filter: drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.15));\n}\n\n.P6TcWInHsZqb3Yw9izPm:hover {\n&nbsp; cursor: pointer;\n&nbsp; filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 {\n&nbsp; position: fixed;\n&nbsp; right: 30px;\n&nbsp; bottom: 30px;\n&nbsp; width: var(--mwai-width);\n&nbsp; z-index: 9999;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 22px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before, .keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 1px;\n&nbsp; background-color: var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n&nbsp; align-items: flex-start;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n&nbsp; flex-direction: column-reverse;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n&nbsp; margin-bottom: 0;\n&nbsp; margin-top: 15px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n&nbsp; margin-bottom: 0px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99), .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5 {\n&nbsp; flex: auto;\n&nbsp; max-height: none;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .EFYD0gYrcn2YeXJRD0WV {\n&nbsp; display: flex;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: flex;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .P6TcWInHsZqb3Yw9izPm {\n&nbsp; display: none;\n}\n\n.zDfyMxj0yGdsNteB9YAO {\n&nbsp; margin: var(--mwai-spacing);\n&nbsp; color: white;\n&nbsp; background: rgba(180, 55, 55, 0.55);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.zDfyMxj0yGdsNteB9YAO:hover {\n&nbsp; cursor: pointer;\n&nbsp; background: rgba(180, 44, 44, 0.85);\n}\n\n@keyframes kcxVvKjrfUjU3fcCEUwW {\n&nbsp; from {\n&nbsp; &nbsp; transform: rotate(0turn);\n&nbsp; }\n&nbsp; to {\n&nbsp; &nbsp; transform: rotate(1turn);\n&nbsp; }\n}\n\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99),\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n&nbsp; top: 32px;\n}\n\n@media (max-width: 760px) {\n&nbsp; .yAdyblrtoeLBR0jQpw50.keao6Pc78Z5oHVQWtY99 {\n&nbsp; &nbsp; width: calc(100% - 40px);\n&nbsp; &nbsp; z-index: 9999999999;\n&nbsp; }\n&nbsp; .yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n&nbsp; .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n}\n\n.TAnzuJcUIsixvTVM25tX {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.TAnzuJcUIsixvTVM25tX .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX .N46y7rqrhy2tzzzomY5d {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .N46y7rqrhy2tzzzomY5d {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; opacity: 0;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .N46y7rqrhy2tzzzomY5d {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY:hover .TAnzuJcUIsixvTVM25tX {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 pre code.K9oFUDNcGmB0ATgNV0ST {\n&nbsp; display: block;\n&nbsp; overflow-x: auto;\n&nbsp; padding: 1em;\n}\n\n.yAdyblrtoeLBR0jQpw50 code.K9oFUDNcGmB0ATgNV0ST {\n&nbsp; padding: 3px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .K9oFUDNcGmB0ATgNV0ST {\n&nbsp; color: #333;\n&nbsp; background: #f0f0f0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .lLt71LeUCI2dLUCgq7AU {\n&nbsp; color: #333;\n}\n\n.yAdyblrtoeLBR0jQpw50 .HA402qGMSWKG4t0EGzdg {\n&nbsp; color: #888;\n}\n\n.yAdyblrtoeLBR0jQpw50 .cQpLwIZKjny07jYmPo3p, .yAdyblrtoeLBR0jQpw50 .Jxhy79a1SNFyXENuzjDg, .yAdyblrtoeLBR0jQpw50 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .AfTHR4GhdOoWBx0RjPpl, .yAdyblrtoeLBR0jQpw50 .lrvGhnwjfdsrj9rsMU11 {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .gdno_EWs27fV8wEOLX1t {\n&nbsp; color: #aa3377;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RtZMlFmUr2KdIWYGzgo6, .yAdyblrtoeLBR0jQpw50 .zAA51c5xsauvaWSsFnYs, .yAdyblrtoeLBR0jQpw50 .CkiNwidxkM1TX2hVifdR, .yAdyblrtoeLBR0jQpw50 .AS6L1vDJK9hqn1N__Q8O, .yAdyblrtoeLBR0jQpw50 .UTeoKTnCxYuD6cwP7DSI, .yAdyblrtoeLBR0jQpw50 .R1Ll1bIkZrDNqdGKzu7N {\n&nbsp; color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .C2E3Mf1LGY1Y17x_MXkw {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ghxUruKjSSgGnkeQ_C47, .yAdyblrtoeLBR0jQpw50 .EHXSSqQDbJEbZMJpLqhJ, .yAdyblrtoeLBR0jQpw50 .tQiSja56rZjMGu4OzUoP, .yAdyblrtoeLBR0jQpw50 .yymbCWSJXq5zvavvp5yI, .yAdyblrtoeLBR0jQpw50 .dll7uWpUdCjDgQ9sB6KR, .yAdyblrtoeLBR0jQpw50 .HmzLYjzX4cozkpDASneB, .yAdyblrtoeLBR0jQpw50 .j_jSbYBzKPLq_4Nt9J7U {\n&nbsp; color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4, .yAdyblrtoeLBR0jQpw50 .iehdPIMlAfBLVSBYRV7K {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .bICYT9lOoJSdToKxDmES, .yAdyblrtoeLBR0jQpw50 .pzRTlYK3lcIcDR5xk8lD, .yAdyblrtoeLBR0jQpw50 .wHpd9fy4uE7OShmwbe_t {\n&nbsp; color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .qVWXajM2t2YLr9MdtqMm, .yAdyblrtoeLBR0jQpw50 .aojzfjvK10eMBfggXtoE {\n&nbsp; color: #555;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .yymbCWSJXq5zvavvp5yI {\n&nbsp; color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .rRaTdGI_iyoXk18A5qYs {\n&nbsp; color: #b71c1c;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xYEkcugANxMOMJKtEsca {\n&nbsp; color: #1b5e20;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xjpyawH646564Y2wahS4 {\n&nbsp; font-style: italic;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RMtGZ3SVSmv3CK3csAch {\n&nbsp; font-weight: 700;\n}\n\n.TAnzuJcUIsixvTVM25tX {\n&nbsp; position: absolute;\n&nbsp; left: 15px;\n&nbsp; zoom: 0.5;\n&nbsp; top: 18px;\n&nbsp; filter: revert;\n}\n\n.NQtBPR0S0WX0SVKcVj1w .TAnzuJcUIsixvTVM25tX {\n&nbsp; right: 15px;\n&nbsp; left: inherit;\n&nbsp; filter: brightness(0.4);\n}\n",""]),i.locals={"mwai-chat":"yAdyblrtoeLBR0jQpw50","mwai-content":"zkhI8eZp8yg4BwXhijY1","mwai-conversation":"ichONrqIibIDVVVhDor5","mwai-reply":"XLY_VCZMFRIbTEVL1rvY","mwai-name":"iNYH5nYgNZAe4RXsoGlM","mwai-name-text":"YrCYLibUvvIBdWDUNfm0","mwai-ai":"NQtBPR0S0WX0SVKcVj1w","mwai-user":"_fj65BIE29IpCwq2fEp4","mwai-text":"g9XrXMpQH3afixCzXMWD","mwai-typewriter":"tiqvZ2tbFuTxjFtwFMny","mwai-avatar":"kpvcOwh9XehTKS0BEnBZ","mwai-input":"mwCGHr8abHQqvLOrnOHj","mwai-input-text":"puulPV56uqMX9ozNpIwm","mwai-microphone":"T5qX8SQASgSBYT_f9n0E","mwai-file-upload":"aic0R2G3dOW1FVu7bBPQ",enabled:"SRrSUq0OFU6GUhaNh6U5","mwai-timer":"Q0xqGDBOEyagc8uXx5DV","mwai-busy":"RY9Q90iUrGOisGzgtLXR","mwai-button-spinner":"kcxVvKjrfUjU3fcCEUwW","mwai-compliance":"xH6u22ybM6UxY6UZq9wL","mwai-gallery":"Ek1v6SpIgQDHpWd9RoOv","mwai-open-button":"P6TcWInHsZqb3Yw9izPm","mwai-icon-text":"JXp_cuKGU6bcchnY6DHM","mwai-window":"keao6Pc78Z5oHVQWtY99","mwai-header":"EFYD0gYrcn2YeXJRD0WV","mwai-buttons":"uMRxh8i5ZvhvTfLMVWcN","mwai-resize-button":"CHPyUOyEp_j91BCBin8u","mwai-close-button":"SDjNHcRvmNBYlGvVIqpw","mwai-bottom-left":"tVArsR0xkv3lOdQxAOIY","mwai-top-right":"iufdbptCdiEfK8YvcpMK","mwai-top-left":"M01s0OrVIyRcjgmpfAJe","mwai-fullscreen":"jkzTuixmBwVu89_bt_46","mwai-open":"NAGMlVFptiqhjxViA0KP","mwai-error":"zDfyMxj0yGdsNteB9YAO","admin-bar":"pmB9tbhLYWFLYDumAv2h","mwai-copy-button":"TAnzuJcUIsixvTVM25tX","mwai-copy-button-one":"Jz1WxIOi9me2FSDpOAIV","mwai-copy-button-two":"N46y7rqrhy2tzzzomY5d","mwai-animate":"ALG12GB3CG3CRfJF2Qoa",hljs:"K9oFUDNcGmB0ATgNV0ST","hljs-subst":"lLt71LeUCI2dLUCgq7AU","hljs-comment":"HA402qGMSWKG4t0EGzdg","hljs-attr":"cQpLwIZKjny07jYmPo3p","hljs-doctag":"Jxhy79a1SNFyXENuzjDg","hljs-keyword":"syxmeAMp2BfjAjNiX_gU","hljs-meta":"veUanKogf43u6_65Zvn4","hljs-section":"AfTHR4GhdOoWBx0RjPpl","hljs-selector-tag":"lrvGhnwjfdsrj9rsMU11","hljs-attribute":"gdno_EWs27fV8wEOLX1t","hljs-name":"RtZMlFmUr2KdIWYGzgo6","hljs-number":"zAA51c5xsauvaWSsFnYs","hljs-quote":"CkiNwidxkM1TX2hVifdR","hljs-selector-id":"AS6L1vDJK9hqn1N__Q8O","hljs-template-tag":"UTeoKTnCxYuD6cwP7DSI","hljs-type":"R1Ll1bIkZrDNqdGKzu7N","hljs-selector-class":"C2E3Mf1LGY1Y17x_MXkw","hljs-link":"ghxUruKjSSgGnkeQ_C47","hljs-regexp":"EHXSSqQDbJEbZMJpLqhJ","hljs-selector-attr":"tQiSja56rZjMGu4OzUoP","hljs-string":"yymbCWSJXq5zvavvp5yI","hljs-symbol":"dll7uWpUdCjDgQ9sB6KR","hljs-template-variable":"HmzLYjzX4cozkpDASneB","hljs-variable":"j_jSbYBzKPLq_4Nt9J7U","hljs-selector-pseudo":"iehdPIMlAfBLVSBYRV7K","hljs-built_in":"bICYT9lOoJSdToKxDmES","hljs-literal":"pzRTlYK3lcIcDR5xk8lD","hljs-title":"wHpd9fy4uE7OShmwbe_t","hljs-bullet":"qVWXajM2t2YLr9MdtqMm","hljs-code":"aojzfjvK10eMBfggXtoE","hljs-deletion":"rRaTdGI_iyoXk18A5qYs","hljs-addition":"xYEkcugANxMOMJKtEsca","hljs-emphasis":"xjpyawH646564Y2wahS4","hljs-strong":"RMtGZ3SVSmv3CK3csAch"};const l=i},7363:e=&gt;{e.exports=React},1533:e=&gt;{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=&gt;{if(!n){var i=1/0;for(s=0;s&lt;e.length;s++){for(var[n,a,o]=e[s],l=!0,c=0;c&lt;n.length;c++)(!1&amp;o||i&gt;=o)&amp;&amp;Object.keys(r.O).every((e=&gt;r.O[e](n[c])))?n.splice(c--,1):(l=!1,o&lt;i&amp;&amp;(i=o));if(l){e.splice(s--,1);var u=a();void 0!==u&amp;&amp;(t=u)}}return t}o=o||0;for(var s=e.length;s&gt;0&amp;&amp;e[s-1][2]&gt;o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=&gt;{var t=e&amp;&amp;e.__esModule?()=&gt;e.default:()=&gt;e;return r.d(t,{a:t}),t},r.d=(e,t)=&gt;{for(var n in t)r.o(t,n)&amp;&amp;!r.o(e,n)&amp;&amp;Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t),r.r=e=&gt;{"undefined"!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=&gt;{var e={826:0};r.O.j=t=&gt;0===e[t];var t=(t,n)=&gt;{var a,o,[i,l,c]=n,u=0;if(i.some((t=&gt;0!==e[t]))){for(a in l)r.o(l,a)&amp;&amp;(r.m[a]=l[a]);if(c)var s=c(r)}for(t&amp;&amp;t(n);u&lt;i.length;u++)o=i[u],r.o(e,o)&amp;&amp;e[o]&amp;&amp;e[o][0](),e[o]=0;return r.O(s)},n=self.wpJsonMwai=self.wpJsonMwai||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=&gt;r(7460)));a=r.O(a)})();</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>2</th><td class="r"><span>(()=&gt;{"use strict";var e,t={7460:(e,t,n)=&gt;{var r,a,o,i,l,c=n(6488),u=n(5945),s=n(7098),f=n(8100),d=n(6160),m=n(2110),p=n(1630),h=n(4694),y=n(1497),v=n(8168),g=n(9317),b=n(1488),E=n(7818),w=n(146),R=n(5458),x=mwai.prefix,O=mwai.domain,S=mwai.rest_url.replace(/\/+$/,""),T=mwai.api_url.replace(/\/+$/,""),N=mwai.plugin_url.replace(/\/+$/,""),_=mwai.user_data,C="1"===mwai.is_pro,I=C&amp;&amp;"1"===mwai.is_registered,L=mwai.rest_nonce,k=mwai.options,A=mwai.session,j=mwai.themes,P=!!mwai.stream,M=mwai.chatbots,D=n(8406),G=n(8414);function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=G.ZP.div(r||(r=F(["\n&nbsp; color: white;\n&nbsp; padding: 15px;\n&nbsp; margin-bottom: -15px;\n\n&nbsp; a {\n&nbsp; &nbsp; color: #7dedff;\n&nbsp; &nbsp; text-decoration: none;\n&nbsp; }\n\n&nbsp; p {\n&nbsp; &nbsp; font-size: 15px;\n&nbsp; }\n"]))),U=(0,G.ZP)(w.v)(a||(a=F(["\n\n&nbsp; .neko-block-title {\n&nbsp; &nbsp; display: none;\n&nbsp; }\n\n&nbsp; .plugin-desc {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; &nbsp; justify-content: center;\n&nbsp; &nbsp; margin-left: 20px;\n&nbsp; }\n\n&nbsp; .neko-block-content {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; item-align: center;\n\n&nbsp; &nbsp; h2 {\n&nbsp; &nbsp; &nbsp; color: #055082;\n&nbsp; &nbsp; &nbsp; font-size: 18px;\n&nbsp; &nbsp; &nbsp; margin: 0;\n\n&nbsp; &nbsp; &nbsp; a {\n&nbsp; &nbsp; &nbsp; &nbsp; text-decoration: none;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p {\n&nbsp; &nbsp; &nbsp; margin: 0px;\n&nbsp; &nbsp; &nbsp; margin-top: 5px;\n&nbsp; &nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; &nbsp; line-height: 1.2;\n&nbsp; &nbsp; }\n&nbsp; }\n"]))),H=G.ZP.img(o||(o=F(["\n&nbsp; width: 85px;\n&nbsp; height: 85px;\n&nbsp; padding-right: 10px;\n"]))),Z=G.ZP.div(i||(i=F(["\n\n&nbsp; margin: 15px;\n\n&nbsp; .center {\n&nbsp; &nbsp; background: white;\n&nbsp; &nbsp; color: black;\n&nbsp; &nbsp; border-radius: 10px;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; max-width: 100%\n&nbsp; &nbsp; overflow: none;\n\n&nbsp; &nbsp; h2 {\n&nbsp; &nbsp; &nbsp; font-size: 26px;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; table {\n&nbsp; &nbsp; &nbsp; width: 100%;\n\n&nbsp; &nbsp; &nbsp; tr td:first-child {\n&nbsp; &nbsp; &nbsp; &nbsp; width: 220px;\n&nbsp; &nbsp; &nbsp; &nbsp; font-weight: bold;\n&nbsp; &nbsp; &nbsp; &nbsp; color: #1e7cba;\n&nbsp; &nbsp; &nbsp; }\n\n&nbsp; &nbsp; &nbsp; * {\n&nbsp; &nbsp; &nbsp; &nbsp; overflow-wrap: anywhere;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; hr {\n&nbsp; &nbsp; border-color: #1e7cba;\n&nbsp; }\n"]))),V=G.ZP.ul(l||(l=F(["\n&nbsp; margin-top: 10px;\n&nbsp; background: rgb(0, 72, 88);\n&nbsp; padding: 10px;\n&nbsp; color: rgb(58, 212, 58);\n&nbsp; max-height: 600px;\n&nbsp; min-height: 200px;\n&nbsp; display: block;\n&nbsp; font-family: monospace;\n&nbsp; font-size: 12px;\n&nbsp; white-space: pre;\n&nbsp; overflow-x: auto;\n&nbsp; width: calc(100vw - 276px);\n&nbsp; color: white;\n\n&nbsp; .log-date {\n&nbsp; &nbsp; color: var(--neko-yellow);\n&nbsp; &nbsp; margin-left: 8px;\n&nbsp; }\n\n&nbsp; .log-type {\n&nbsp; &nbsp; background: #0000004d;\n&nbsp; &nbsp; padding: 2px 5px;\n&nbsp; &nbsp; border-radius: 8px;\n&nbsp; &nbsp; text-transform: uppercase;\n&nbsp; }\n\n&nbsp; .log-content {\n&nbsp; &nbsp; display: block;\n&nbsp; }\n\n&nbsp; .log-warning .log-type {\n&nbsp; &nbsp; background: var(--neko-yellow);\n&nbsp; &nbsp; color: white;\n&nbsp; }\n\n&nbsp; .log-fatal .log-type {\n&nbsp; &nbsp; background: var(--neko-red);\n&nbsp; &nbsp; color: white;\n&nbsp; }\n"])));function Y(e){return Y="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Y(e)}function z(){z=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Y(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Y(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function W(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){W(o,r,a,i,l,"next",e)}function l(e){W(o,r,a,i,l,"throw",e)}i(void 0)}))}}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var J=wp.element,$=J.useState,ee=J.useEffect,te="".concat(S,"/meow-common/v1"),ne=function(e){var t=e.request,n=e.title,r=e.max,a=X($(!1),2),o=a[0],i=a[1],l=X($([]),2),c=l[0],u=l[1],s=c.length&gt;0?c.reduce((function(e,t){return e+t})):0,f=c.length&gt;0?Math.ceil(s/c.length):0,m=!c.length&amp;&amp;o;return ee((function(){o&amp;&amp;setTimeout(q(z().mark((function e(){var n,r,a;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),e.next=3,(0,R.PV)("".concat(te,"/").concat(t),{method:"POST",nonce:L});case 3:r=(new Date).getTime(),a=r-n,u((function(e){return[].concat(function(e){if(Array.isArray(e))return K(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[c]),React.createElement(B,{style:{width:200,textAlign:"center"}},React.createElement(d.O,{h2:!0,style:{color:"white"}},n),React.createElement(D._,{size:200,value:m?r:f,max:r},React.createElement("span",{style:{fontSize:20}},m?"START":f+" ms"),React.createElement("span",{style:{fontSize:12}},m?"YOUR ENGINE":c.length+" requests")),React.createElement(E._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||u([]),i(!o)}},o?"Stop":"Start"))};function re(e){return re="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},re(e)}function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==re(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(re(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===re(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){le(o,r,a,i,l,"next",e)}function l(e){le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var fe=wp.element,de=fe.useState,me=fe.useEffect;T&amp;&amp;S&amp;&amp;N||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var pe="".concat(S,"/meow-common/v1"),he=React.createElement(B,null,React.createElement(d.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://jordymeow.com"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),ye=React.createElement(B,null,React.createElement(d.O,{p:!0},"The ",React.createElement("b",null,"Empty Request Time")," measures your installation's basic performance by showing the average time needed to process an empty request on your server. To see how disabling plugins affects the results, turn some off and run the test again. Aim for a time under 2,000 ms, but ideally, keep it below 500 ms. The ",React.createElement("b",null,"File Operation Time")," creates a temporary 10MB file each time it runs. ",React.createElement("b",null,"The SQL Request Time")," calculates the total number of posts. This process should be quick and have a similar duration to the Empty Request Time.")),ve=React.createElement(B,null,React.createElement(d.O,{p:!0},"Maintain a streamlined WordPress setup by using essential plugins and a dependable hosting provider. Refrain from self-hosting unless you're an expert. Go further by reading our tutorials:",React.createElement("ul",null,React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist &amp; Optimization")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"⭐️ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),ge=["".concat(pe,"/all_settings/"),{headers:{"X-WP-Nonce":L}}],be=function(){var e=ue(de(!1),2),t=e[0],n=e[1],r=(0,f.ZP)(ge,R.SG),a=r.data,o=r.mutate,i=r.error,l=null==a?void 0:a.data,c=null==l?void 0:l.meowapps_hide_meowapps,u=null==l?void 0:l.force_sslverify,s=ue(de(!1),2),x=s[0],O=s[1],S=ue(de([]),2),T=S[0],N=S[1],_=ue(de(""),2),C=_[0],I=_[1];me((function(){i&amp;&amp;!t&amp;&amp;(n(!0),console.error("Error from UseSWR",i.message))}),[i]),me((function(){var e=document.getElementById("meow-common-phpinfo");I(e.innerHTML)}),[]);var k=function(){var e=ce(ae().mark((function e(t,n){var r,i;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ie({},a.data))[n]=t,console.log({value:t,id:n,newSettingsData:r}),o(ie(ie({},a),{},{data:r}),!1),O(!0),e.next=7,(0,R.PV)("".concat(pe,"/update_option"),{method:"POST",nonce:L,json:{name:n,value:t}});case 7:i=e.sent,O(!1),i.success||alert(i.message),o();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=ce(ae().mark((function e(){var t,n;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("isLoadingErrorLogs"),e.next=3,(0,R.PV)("".concat(pe,"/error_logs"),{method:"POST",nonce:L});case 3:t=e.sent,n=t&amp;&amp;t.data?t.data:[],N(n.reverse()),O(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=React.createElement(m.r,{title:"Main Menu"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(d.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings → General."),value:"1",disabled:x,checked:c,onChange:k}))),P=React.createElement(m.r,{title:"SSL Verify"},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(d.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:u,onChange:k})));return React.createElement(y.s,{showRestError:t},React.createElement(v.B,{title:"The Dashboard"}),React.createElement(g.o,null,React.createElement(g.z,{full:!0},React.createElement(b.c,null,React.createElement(b.P,{title:"Meow Apps"},he,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"AI Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-engine/"},"AI Engine")),React.createElement("p",null,"GPT for WordPress. ChatGPT chatbot, image &amp; content generator, finetune/train models, etc. Ultra customizable, extensible, sleek UI. You will love it!"))),React.createElement(U,{title:"Media Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Clean your WordPress! Eliminate unused and broken media files. For a faster, and better website."))),React.createElement(U,{title:"Database Cleaner",className:"primary"},React.createElement(H,{src:"https://ps.w.org/database-cleaner/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Not only does Database Cleaner have a user-friendly UI, but it's also equipped to handle large DBs, giving it an edge over other plugins."))),React.createElement(U,{title:"Media File Renamer",className:"primary"},React.createElement(H,{src:"https://ps.w.org/media-file-renamer/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename and move files directly from the dashboard, manually, automatically or via AI, either individually or in bulk."))),React.createElement(U,{title:"Social Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/social-engine/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Effortlessly schedule and automate the perfect posts for all your networks. Unlimited capabilities and infinite extensibility, for free!"))),React.createElement(U,{title:"Meow Analytics",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-analytics/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(g.z,{minimal:!0},React.createElement(U,{title:"Photo Engine",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wplr-sync/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(U,{title:"Meow Gallery",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-gallery/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(U,{title:"Meow Lightbox",className:"primary"},React.createElement(H,{src:"https://ps.w.org/meow-lightbox/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(U,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(H,{src:"https://ps.w.org/wp-retina-2x/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Manage, Optimize, Replace your images with Perfect Images."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/contact-form-block/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block."))),React.createElement(U,{title:"Contact Form Block",className:"primary"},React.createElement(H,{src:"https://ps.w.org/ai-seo/assets/icon-256x256.png"}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/ai-seo/"},"AI-SEO")),React.createElement("p",null,"Optimize your content for SEO. Keep everything simple and fast.")))))),React.createElement(b.P,{title:"Performance"},ye,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(ne,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(ne,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(ne,{title:"SQL Request Time",request:"sql_request",max:2800})),ve),React.createElement(b.P,{title:"PHP Info"},React.createElement(Z,{dangerouslySetInnerHTML:{__html:C}})),React.createElement(b.P,{title:"PHP Error Logs"},React.createElement(B,null,React.createElement(E._,{style:{marginBottom:10},color:"#ccb027",onClick:A,disabled:x,isBusy:"isLoadingErrorLogs"===x},"Load PHP Error Logs"),React.createElement(V,null,T.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(d.O,{p:!0},"If you don't see any errors, your host might not allow remote access to PHP error logs. Contact them for assistance, or look in your hosting control panel."))),React.createElement(b.P,{title:"Settings"},React.createElement(w.v,{title:"Settings",className:"primary"},j,P))))))},Ee=n(<ins>1492),we=n(5133),Re=n(8178),xe=n(2622),Oe=n(2719),Se=n(2785),Te=n(1203),Ne=n(477),_e=n(3506);function Ce(e){return Ce="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ie(){Ie=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Ce(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Ce(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ke(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Le(o,r,a,i,l,"next",e)}function l(e){Le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pe=wp.element,Me=Pe.useState,De=Pe.useEffect,Ge="".concat(S,"/meow-licenser/").concat(x,"/v1"),Fe=function(){var e=Ae(Me(!1),2),t=e[0],n=e[1],r=Ae(Me(!1),2),a=r[0],o=r[1],i=Ae(Me(null),2),l=i[0],c=i[1],u=Ae(Me(null),2),s=u[0],f=u[1],m=Ae(Me(""),2),p=m[0],h=m[1],y=I&amp;&amp;(!s||"valid"!==s.license),v=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return n(!0),e.next=5,(0,R.PV)("".concat(Ge,"/get_license"),{method:"POST",nonce:L});case 5:t=e.sent,f(t.data),t.data.key&amp;&amp;h(t.data.key),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=ke(Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:null}});case 3:e.sent.success&amp;&amp;(h(""),f(null),c("licenseRemoved")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:p,override:!0}});case 3:(t=e.sent).success&amp;&amp;(f(t.data),t.data&amp;&amp;!t.data.issue&amp;&amp;c("licenseAdded")),n(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=ke(Ie().mark((function e(){var t;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==p){e.next=5;break}return o(!0),f(null),h(""),e.abrupt("return");case 5:return n(!0),e.next=8,(0,R.PV)("".concat(Ge,"/set_license"),{method:"POST",nonce:L,json:{serialKey:p}});case 8:(t=e.sent).success&amp;&amp;(f(t.data),t.data&amp;&amp;!t.data.issue&amp;&amp;c("licenseAdded")),n(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();De((function(){v()}),[]);var O=y?"Forced License":I?"Enabled":"Disabled",S=y||s&amp;&amp;"valid"===s.license,T="Your license is active. Thanks a lot for your support :)";y&amp;&amp;(T="This license has been force-enabled for you.",s&amp;&amp;s.check_url&amp;&amp;(T=React.createElement(React.Fragment,null,React.createElement("span",null,T),React.createElement("br",null),React.createElement("small",null,"To check your license status, please click ",React.createElement("a",{target:"_blank",href:s.check_url+"&amp;cache="+642e3*Math.random(),rel:"noreferrer"},"here"),".")))),S||(s?"no_activations_left"===s.issue?T=React.createElement("span",null,"There are no activations left for this license. You can visit your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===s.issue?T=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps"),"."):"missing"===s.issue?T="This license does not exist.":"disabled"===s.issue?T="This license has been disabled.":"item_name_mismatch"===s.issue?T="This license seems to be for a different plugin... isn't it? :)":"forced"===s.issue?T="ABC":(T=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:s})):T="Unknown error :(");var N=React.createElement(w.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps"),"."),_=React.createElement(w.v,{title:"Pro Version (".concat(O,")"),busy:t,className:"primary"},!y&amp;&amp;!(s&amp;&amp;s.key===p)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{marginBottom:10}},"License Key:"),React.createElement(Ee.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:p,onChange:function(e){return h(e)},placeholder:"Type your license key..."}),React.createElement(d.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button.")),s&amp;&amp;!S&amp;&amp;React.createElement(_e.S,{variant:"danger"},T),(y||s)&amp;&amp;S&amp;&amp;React.createElement(_e.S,{variant:"success"},T),React.createElement("div",{style:{marginTop:15,display:"flex",justifyContent:"end"}},s&amp;&amp;!S&amp;&amp;React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:x},"Retry to validate"),s&amp;&amp;s.key===p&amp;&amp;React.createElement(E._,{className:"secondary",disabled:t||!p,onClick:g},"Remove License"),React.createElement(E._,{disabled:t||!p||s&amp;&amp;s.key===p,onClick:x},"Validate License"),a&amp;&amp;!S&amp;&amp;React.createElement(E._,{disabled:t||!p||s&amp;&amp;s.key===p,onClick:b,className:"danger"},"Force License")),React.createElement(Te.L,{isOpen:"licenseAdded"===l,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}),React.createElement(Te.L,{isOpen:"licenseRemoved"===l,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",okButton:{label:"Reload",onClick:function(){return location.reload()}}}));return C?_:N};const{__:Be}=wp.i18n,Ue={};Ue.COMMON={GENERAL:Be("General","ai-engine"),MODULES:Be("Modules","ai-engine"),CLIENT_MODULES:Be("Client Modules","ai-engine"),BACKEND_MODULES:Be("Admin Modules","ai-engine"),SERVER_MODULES:Be("Server Modules","ai-engine"),SETTINGS:Be("Settings","ai-engine"),CHATBOT:Be("Chatbot","ai-engine"),CHATBOTS:Be("Chatbots","ai-engine"),CHATBOT_HELP:Be("Highly customizable chatbot.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STYLE:Be("Style","ai-engine"),ENABLE:Be("Enable","ai-engine"),NAME:Be("Name","ai-engine"),SUBMIT:Be("Submit","ai-engine"),MODEL:Be("Model","ai-engine"),AI_MODEL:Be("AI Model","ai-engine"),TEMPERATURE:Be("Temperature","ai-engine"),MAX_TOKENS:Be("Max Tokens","ai-engine"),CONTEXT_MAX_LENGTH:Be("Context Max Length","ai-engine"),STOP_SEQUENCE:Be("Stop Sequence","ai-engine"),MODE:Be("Mode","ai-engine"),CONTEXT:Be("Context","ai-engine"),IMAGES_NUMBER:Be("Number of Images","ai-engine"),AI_NAME:Be("AI Name","ai-engine"),USER_NAME:Be("User Name","ai-engine"),PLACEHOLDER:Be("Placeholder","ai-engine"),START_SENTENCE:Be("Start Sentence","ai-engine"),SEND:Be("Send","ai-engine"),CLEAR:Be("Clear","ai-engine"),SYSTEM_NAME:Be("System Name","ai-engine"),ID:Be("ID","ai-engine"),POPUP:Be("Popup","ai-engine"),POSITION:Be("Position","ai-engine"),ICON_TEXT:Be("Icon Text","ai-engine"),FULL_SCREEN:Be("Full Screen","ai-engine"),CASUALLY_FINE_TUNED:Be("Casually Fine-Tuned","ai-engine"),CONTENT_AWARE:Be("Content Aware","ai-engine"),SPACING:Be("Spacing","ai-engine"),BORDER_RADIUS:Be("Border Radius","ai-engine"),FONT_SIZE:Be("Font Size","ai-engine"),FONT_COLOR:Be("Font Color","ai-engine"),BACK_PRIMARY_COLOR:Be("Back Primary Color","ai-engine"),BACK_SECONDARY_COLOR:Be("Back 2nd Color","ai-engine"),HEADER_BUTTONS_COLOR:Be("Header Buttons Color","ai-engine"),HEADER_BACKGROUND_COLOR:Be("Header Back Color","ai-engine"),BACK_USER_COLOR:Be("Back User Color","ai-engine"),BACK_AI_COLOR:Be("Back AI Color","ai-engine"),BACK_AI_SECONDARY_COLOR:Be("Back AI 2nd Color","ai-engine"),AVATAR_MESSAGE_BACKGROUND_COLOR:Be("Message Background","ai-engine"),AVATAR_MESSAGE_FONT_COLOR:Be("Message Color","ai-engine"),POPUP_ICON:Be("Popup Icon","ai-engine"),CUSTOM_ICON_URL:Be("Custom Icon URL","ai-engine"),FEATURES:Be("Features","ai-engine"),TIMEFRAME:Be("Timeframe","ai-engine"),ABSOLUTE:Be("Absolute","ai-engine"),NONE:Be("None","ai-engine"),EDITORS_ADMINS:Be("Editors &amp; Admins","ai-engine"),ADMINS_ONLY:Be("Admins Only","ai-engine"),CREDITS:Be("Credits","ai-engine"),TYPE:Be("Type","ai-engine"),USERS:Be("Users","ai-engine"),USER:Be("User","ai-engine"),GUESTS:Be("Guests","ai-engine"),GUEST:Be("Guest","ai-engine"),OPENAI:Be("Open AI","ai-engine"),LICENSE_TAB:Be("License","ai-engine"),FINETUNES:Be("Finetunes","ai-engine"),MODELS:Be("Models","ai-engine"),DATASETS:Be("Datasets","ai-engine"),ASSISTANT:Be("Assistant","ai-engine"),ASSISTANTS:Be("Assistants","ai-engine"),UTILITIES:Be("Utilities","ai-engine"),POSTS_SUGGESTIONS:Be("AI Copilot, AI Suggestions, Magic Wands","ai-engine"),POSTS_SUGGESTIONS_HELP:Be("Tools to brainstorm/write faster and better.","ai-engine"),GENERATORS:Be("Generators","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR:Be("WooCommerce Product Generator","ai-engine"),WOOCOMMERCE_PRODUCT_GENERATOR_HELP:Be("Write all the WooCommerce fields for a given product.","ai-engine"),CONTENT_GENERATOR:Be("Content Generator","ai-engine"),CONTENT_GENERATOR_HELP:Be("Generate articles. Support templates.","ai-engine"),IMAGES_GENERATOR:Be("Images Generator","ai-engine"),IMAGES_GENERATOR_HELP:Be("Generate images. Support templates.","ai-engine"),PLAYGROUND:Be("Playground","ai-engine"),PLAYGROUND_HELP:Be("Play with AI or let it perform various tasks for you. Support templates.","ai-engine"),FORMS:Be("Forms","ai-engine"),FORMS_HELP:Be("Build AI forms. Based on fields, users will be given answers or suggestions.","ai-engine"),STATISTICS:Be("Statistics","ai-engine"),STATISTICS_HELP:Be("Track AI interactions, check statistics, set limits, and more!","ai-engine"),DEBUG_MODE:Be("Debug Mode","ai-engine"),DEBUG_MODE_HELP:Be("Debugging information will be displayed in the console.","ai-engine"),API_KEY:Be("API Key","ai-engine"),USAGE_COSTS_HELP:Be('For the exact amounts, please check your &lt;a href="https://beta.openai.com/account/usage" target="_blank"&gt;OpenAI account&lt;/a&gt;.',"ai-engine"),USAGE_COSTS_PRO_HELP:Be('If you would like to have better control on the amounts, add conditions or set limits to the usage of the AI, consider &lt;a href="https://meowapps.com/ai-engine/" target="_blank"&gt;AI Engine Pro&lt;/a&gt;.',"ai-engine"),LANGUAGE:Be("Language","ai-engine"),HIDE:Be("Hide","ai-engine"),SHOW:Be("Show","ai-engine"),CONTENT:Be("Content","ai-engine"),IMAGES:Be("Images","ai-engine"),EXCERPT:Be("Excerpt","ai-engine"),GENERATE:Be("Generate","ai-engine"),MODEL_PARAMS:Be("Model Params","ai-engine"),CONTEXT_PARAMS:Be("Context Params","ai-engine"),PROMPT:Be("Prompt","ai-engine"),PROMPTS:Be("Prompts","ai-engine"),LABEL:Be("Label","ai-engine"),SYSTEM:Be("System","ai-engine"),SHORTCODE:Be("Shortcode","ai-engine"),SHORTCODES:Be("Shortcodes","ai-engine"),RESOLVE:Be("Resolve","ai-engine"),MAX_MESSAGES:Be("Max Messages","ai-engine"),INPUT_MAX_LENGTH:Be("Input Max Length","ai-engine"),COMPLIANCE_TEXT:Be("Compliance Text","ai-engine"),MODERATION:Be("Moderation","ai-engine"),MODERATION_HELP:Be("Moderation features with AI.","ai-engine"),FORMATTING:Be("Formatting","ai-engine"),FORMATTING_HELP:Be("Format the reply from AI into HTML. This is already done automatically if Markdown is detected in the reply.","ai-engine"),LOGS:Be("Logs","ai-engine"),CODE:Be("Code","ai-engine"),EMBEDDINGS:Be("Embeddings","ai-engine"),EMBEDDINGS_HELP:Be("Create searchable data that can be reused to feed the chatbot and other AI or UI elements.","ai-engine"),OTHERS:Be("Others","ai-engine"),PINECONE_APIKEY_HELP:Be('You can get your API Keys in your &lt;a href="https://app.pinecone.io/organizations/keys" target="_blank"&gt;Pinecone Account&lt;/a&gt;.',"ai-engine"),QDRANT_APIKEY_HELP:Be('You can get your API Keys in your &lt;a href="https://cloud.qdrant.io/accounts/" target="_blank"&gt;Qdrant Account&lt;/a&gt;.',"ai-engine"),SERVER:Be("Server","ai-engine"),PINECONE_SERVER_HELP:Be("The region which was set for your account.","ai-engine"),QDRANT_SERVER_HELP:Be("The URL of your cluster (known as Cluster URL).","ai-engine"),COST:Be("Cost","ai-engine"),USAGE_COSTS:Be("Usage Costs","ai-engine"),TRANSCRIPTION:Be("Transcription","ai-engine"),TRANSCRIPTION_HELP:Be("Introduces a 'Transcribe' tab to easily transform audio/images into text and get AI answers in JSON format.","ai-engine"),AUDIO_TRANSCRIPTION:Be("Audio-to-Text","ai-engine"),IMAGE_TRANSCRIPTION:Be("Image-to-Text","ai-engine"),AUDIO_TO_TEXT:Be("Audio ➡ Text","ai-engine"),IMAGE_TO_TEXT:Be("Image ➡ Text","ai-engine"),EMBEDDINGS_ENV:Be("Environment","ai-engine"),EMBEDDINGS_INDEX:Be("Index","ai-engine"),NAMESPACE:Be("Namespace","ai-engine"),NAMESPACES:Be("Namespaces","ai-engine"),NAMESPACE_HELP:Be("The namespace is used to separate the data from other data. This allows you to use the same index on more than one website.","ai-engine"),NAMESPACES_HELP:Be("Enter the namespaces you would like to use on this site, separated by commas.","ai-engine"),ERROR:Be("Error","ai-engine"),RETRY:Be("Retry","ai-engine"),AUTO_RETRY:Be("Auto Retry","ai-engine"),SKIP:Be("Skip","ai-engine"),AUTO_SKIP:Be("Auto Skip","ai-engine"),STOP:Be("Stop","ai-engine"),AUTO_RETRY_DESCRIPTION:Be("Auto Retry retries actions up to 10 times with increasing delay to avoid timeouts.","ai-engine"),WIDTH:Be("Width","ai-engine"),MAX_HEIGHT:Be("Max Height","ai-engine"),APPEARANCE:Be("Appearance","ai-engine"),THRESHOLDS:Be("Thresholds","ai-engine"),DASHBOARD:Be("Dashboard","ai-engine"),ADVANCED:Be("Advanced","ai-engine"),DISCUSSIONS:Be("Discussions","ai-engine"),ROWS:Be("Rows","ai-engine"),POST_TYPE:Be("Post Type","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_IMAGES:Be("Generate Images","ai-engine"),ADMIN_BAR:Be("Admin Bar","ai-engine"),ADMIN_TOOLS:Be("Admin Tools","ai-engine"),REFRESH:Be("Refresh","ai-engine"),DELETE:Be("Delete","ai-engine"),DELETE_ALL:Be("Delete All","ai-engine"),DELETE_SELECTED:Be("Delete Selected","ai-engine"),OPENAI_ORGANIZATION_ID:Be("Organization ID","ai-engine"),OPENAI_AZURE_ENDPOINT:Be("Endpoint","ai-engine"),OPENAI_AZURE_API_KEY:Be("API Key","ai-engine"),OPENAI_AZURE_DEPLOYMENT_NAME:Be("Deployment Name","ai-engine"),OPENAI_AZURE_DEPLOYMENTS:Be("Deployments","ai-engine"),HUGGINGFACE_MODELS:Be("Models","ai-engine"),HUGGINGFACE_MODEL_NAME:Be("Name","ai-engine"),HUGGINGFACE_MODEL_URL:Be("API URL","ai-engine"),THEME:Be("Theme","ai-engine"),THEMES:Be("Themes","ai-engine"),BANNED_WORDS:Be("Banned Words","ai-engine"),BANNED_IPS:Be("Banned IPs","ai-engine"),SECURITY:Be("Security","ai-engine"),POST_TYPES:Be("Post Types","ai-engine"),COPY_BUTTON:Be("Copy Button","ai-engine"),POPUP_SETTINGS:Be("Popup Settings","ai-engine"),AI_AVATAR:Be("Avatar","ai-engine"),SITE_WIDE_CHATBOT:Be("Site-Wide Chatbot","ai-engine"),QUERIES_DATA:Be("Queries Data","ai-engine"),QUERIES_FORMS_DATA:Be("Queries Form Data","ai-engine"),WEBSPEECH_API:Be("Web Speech API","ai-engine"),SPEECH_RECOGNITION:Be("Speech Recognition","ai-engine"),SPEECH_SYNTHESIS:Be("Speech Synthesis","ai-engine"),QUERY:Be("Query","ai-engine"),QUERIES:Be("Queries","ai-engine"),LOCAL_MEMORY:Be("Local Memory","ai-engine"),ACTIONS:Be("Actions","ai-engine"),RESET:Be("Reset","ai-engine"),INCIDENTS_OPENAI:Be("Incidents (OpenAI)","ai-engine"),PREVIEW:Be("Preview","ai-engine"),LEGACY_FORMS:Be("Legacy Forms","ai-engine"),LEGACY_FEATURES:Be("Legacy Features","ai-engine"),DUPLICATE:Be("Duplicate","ai-engine"),CHATBOT_EDITOR:Be("Chatbot Editor","ai-engine"),THEME_EDITOR:Be("Theme Editor","ai-engine"),SHORTCODE:Be("Shortcodes","ai-engine"),STREAMING:Be("Streaming","ai-engine"),SYNTAX_HIGHLIGHT:Be("Syntax Highlight","ai-engine"),DATA_NOT_AVAILABLE:Be("Data not available.","ai-engine"),EXPORT:Be("Export","ai-engine"),IMPORT:Be("Import","ai-engine"),MODIFY_EMBEDDING:Be("Modify Embedding","ai-engine"),ADD_EMBEDDING:Be("Add Embedding","ai-engine"),DEV_TOOLS:Be("Dev Tools","ai-engine"),SINGLE_GENERATE:Be("Single Generate","ai-engine"),PUBLIC_API:Be("Public API","ai-engine"),USER_INTERFACE:Be("User Interface","ai-engine"),INTRO_MESSAGE:Be("Intro Message","ai-engine"),AI_ENVIRONMENT_DEFAULTS:Be("Default Environments for AI","ai-engine"),EMBEDDINGS_ENVIRONMENT_DEFAULT:Be("Default Embeddings Environment","ai-engine"),ENVIRONMENT:Be("Environment","ai-engine"),PLUGIN_DATA:Be("Plugin Data","ai-engine"),PLUGIN_DATA_DESCRIPTION:Be("The database and all the options of the plugin will be removed on uninstall.","ai-engine"),RESET_LIMITS:Be("Reset Limits","ai-engine"),VISION:Be("Vision","ai-engine"),FILE_UPLOAD:Be("File Upload","ai-engine"),PROMPT_TO_JSON:Be("Prompt ➡ JSON","ai-engine"),RESOLUTION:Be("Resolution","ai-engine"),DEFAULT:Be("Default","ai-engine"),REFRESH_MODELS:Be("Refresh Models","ai-engine"),AUDIO:Be("Audio","ai-engine"),JSON:Be("JSON","ai-engine"),FILES:Be("Files","ai-engine"),AI_ENVIRONMENT:Be("AI Environment","ai-engine"),OVERRIDE_DEFAULTS:Be("Override Defaults","ai-engine"),REGION:Be("Region","ai-engine"),PROJECT_ID:Be("Project ID","ai-engine"),BEARER_TOKEN:Be("Bearer Token","ai-engine")},Ue.FORMS={PROMPT_INFO:Be("The template of your prompt. To re-use the data entered by the user, use the name of that field between curly braces. Example: Recommend me {MUSIC_TYPE} artists. You can also use an ID as an input, like this: ${#myfield}. Finally, if you wish the output to be formatted, add: 'Use Markdown.'.\"","ai-engine"),OUTPUT:Be("Output","ai-engine"),OUTPUT_ELEMENT:Be("Output Element","ai-engine"),OUTPUT_ELEMENT_INFO:Be("The result will be written to this element. If you wish to simply display the result in an Output Block, use its ID. For instance, if its ID is mwai-666, use '#mwai-666'.","ai-engine")},Ue.HELP={TEMPERATURE:Be("Between 0 and 1. Higher values means the model will take more risks.","ai-engine"),MAX_TOKENS:Be("The maximum number of tokens to generate. The model will stop generating once it hits this limit.","ai-engine"),STOP_SEQUENCE:Be("The sequence of tokens that will cause the model to stop generating text. You absolutely need this with fine-tuned models.","ai-engine"),COST:Be("Keeps track of the current costs.","ai-engine"),RESOLVE_SHORTCODE:Be("Will resolve the shortcode in your content when needed (Content-Aware will use this, for instance).","ai-engine"),FINETUNES:Be("Train your own AI models.","ai-engine"),DISCUSSIONS:Be("Keep the conversations and enable browsing them via the Conversations tab.","ai-engine"),AZURE_DEPLOYMENTS:Be("Add your deployments below and define what kind of model they are.","ai-engine"),BANNED_WORDS:Be("Reject queries containing these words; separate with commas.","ai-engine"),BANNED_IPS:Be("Block access from specified IP addresses or ranges using CIDR notation; separate with commas.","ai-engine"),POST_TYPES:Be("Enable for these post types; separate with commas.","ai-engine"),POST_STATUS:Be("Enable for these post statuses (publish, draft, future, private, etc); separate with commas.","ai-engine"),CONTEXT_MAX_LENGTH:Be("Truncate the context (Content-Aware, Embeddings, etc) to make sure it is below this number of characters.","ai-engine"),MAX_MESSAGES:Be("Maximum number of historical messages that is sent to the AI model.","ai-engine"),INPUT_MAX_LENGTH:Be("Maximum number of characters that can be input by the user.","ai-engine"),STATISTICS:Be(" In the Queries tab, you can browse through all your users' activity. Contextual data is excluded unless you activate the options below. Make sure your users are aware of this.","ai-engine"),QUERIES_DATA:Be("Record the queries and their replies.","ai-engine"),QUERIES_FORMS_DATA:Be("Capture form data neatly for simple reuse.","ai-engine"),SPEECH_RECOGNITION:Be("Enable speech-to-text. Depends on the browser and OS used by the user.","ai-engine"),SPEECH_SYNTHESIS:Be("Enable text-to-speech.","ai-engine"),CUSTOM_SHORTCODE:Be("Prefer the above version. If you need many chatbots, you can custom shortcodes, like the one below. Custom shortcodes are based on the default chatbot, and their attributes override the default ones.","ai-engine"),USER_FILTER:Be("Type an User ID, or an IP.","ai-engine"),STREAMING:Be("The AI's response will appear as it's being created. Be cautious: this feature's ability to manage statistics, limits, and filters is still in its beta phase.","ai-engine"),SYNTAX_HIGHLIGHT:Be("Enable syntax highlighting for the code blocks.","ai-engine"),DEV_TOOLS:Be("Enable a new tab with debugging tools. For developers only.","ai-engine"),PUBLIC_API:Be("Enable the Public REST API.","ai-engine"),INTRO_MESSAGE:Be("Enable the introduction text at the top of this page.","ai-engine"),OPENAI_API_KEY:Be('You can get your API Keys in your &lt;a href="https://beta.openai.com/account/api-keys" target="_blank"&gt;OpenAI Account&lt;/a&gt;.',"ai-engine"),OPENAI_ORGANIZATION_ID:Be('You can link this environment to an &lt;a href="https://platform.openai.com/account/organization" target="_blank"&gt;Organization&lt;/a&gt;. This is optional.',"ai-engine"),AZURE_API_KEY:Be('You can get your API Keys in your &lt;a href="https://oai.azure.com/portal" target="_blank"&gt;Azure Account&lt;/a&gt;.',"ai-engine"),OPENROUTER_API_KEY:Be('You can get your API Keys in your &lt;a href="https://openrouter.ai/keys" target="_blank"&gt;OpenRouter Account&lt;/a&gt;.',"ai-engine"),QDRANT:Be('Use the code &lt;b&gt;#AIENGINE5&lt;/b&gt; when you &lt;a href="https://qdrant.to/cloud" target="_blank"&gt;Create a Qdrant Account&lt;/a&gt;. You will get 5% off.',"ai-engine"),ASSISTANTS:Be("The Assistants API is designed to help developers build powerful AI assistants capable of performing a variety of tasks.","ai-engine"),ASSISTANTS_INTRO:Be('The Assistants API is designed to help developers build powerful AI assistants capable of performing a variety of tasks. To create them, head to the &lt;a href="https://beta.openai.com/assistants" target="_blank"&gt;OpenAI Assistants&lt;/a&gt; dashboard, then &lt;b&gt;Refresh Assistants&lt;/b&gt; here. You can use an assistant in your chatbots by switching the &lt;b&gt;Mode&lt;/b&gt; to &lt;b&gt;Assistant&lt;/b&gt;.',"ai-engine"),ASSISTANTS_WARNINGS:Be('Assistants are also &lt;a href="https://platform.openai.com/docs/api-reference/assistants" target="_blank"&gt;in beta&lt;/a&gt;, both for OpenAI and AI Engine. OpenAI did not add streaming support for them yet. Pricing is still quite unclear and &lt;a href="https://openai.com/pricing" target="_blank"&gt;tricky&lt;/a&gt;. AI Engine can only perform an estimation. If you want to discuss assistants with other users, visit the &lt;a href="https://discord.gg/bHDGh38" target="_blank"&gt;Meow Apps Discord Server&lt;/a&gt;.',"ai-engine"),BEARER_TOKEN:Be('The Public API will be usable by using this Bearer Token. If not set, you will need to &lt;a href="https://meowapps.com/ai-engine/api/#public-rest-api" target="_blank"&gt;build your own authentication&lt;/a&gt; by using the &lt;i&gt;mwai_allow_public_api&lt;/i&gt; filter.',"ai-engine")},Ue.SETTINGS={AI_ENV_SETUP:Be('To leverage the functionalities of AI Engine, it needs to be connected directly to AI services. We recommend starting with OpenAI. Create an account and generate an API Key by visiting the &lt;a href="https://beta.openai.com/account/api-keys" target="_blank"&gt;OpenAI&lt;/a&gt; website. Once obtained, navigate to the &lt;b&gt;Settings&lt;/b&gt; tab and input your OpenAI API Key in the "Environments for AI" section.',"ai-engine"),PINECONE_SETUP:Be('You choose to use Embeddings. To use them, you need to a Pinecone account. Visit the &lt;a href="https://app.pinecone.io" target="_blank"&gt;Pinecone&lt;/a&gt; website to create an account, then insert your Pinecone API Key in the &lt;b&gt;Settings&lt;/b&gt; tab.',"ai-engine"),INTRO:Be('Boost your WordPress with AI! Don\'t forget to visit AI Engine\'s &lt;a href="https://meowapps.com/ai-engine/" target="_blank"&gt;website&lt;/a&gt; for more information. Also make sure you read the &lt;a href="https://meowapps.com/ai-engine/disclaimer/" target="_blank"&gt;disclaimer&lt;/a&gt;. Have fun! 🎵',"ai-engine"),MODULES_INTRO:Be("To avoid cluttering the UI and your WP, only enable the features you need.","ai-engine"),ALERT_INJECT_BUT_NO_POPUP:Be("You choose to inject the chatbot in your website. You probably also want to use the chatbot in a Popup.","ai-engine"),ALERT_CASUALLY_BUT_NO_FINETUNE:Be("Normally, you should not check the Casually Fine Tuned option with a non-finetuned model. Make sure that's what you want.","ai-engine"),ALERT_CONTENTAWARE_BUT_NO_CONTENT:Be('Content Aware requires your Context to use the {CONTENT} placeholder. It will be replaced by the content of page the chatbot is on. More info &lt;a href="https://meowapps.com/ai-engine/tutorial/#contextualization" target="_blank"&gt;here&lt;/a&gt;.',"ai-engine"),SET_AS_DEFAULT_PARAMETERS:Be("Set as Default Parameters","ai-engine"),SET_AS_DEFAULT_PARAMETERS_HELP:Be("Set the parameters above as the default parameters for the chatbot. You can then use the shortcode [mwai_chat] anywhere on your website.","ai-engine"),INJECT_DEFAULT_CHATBOT:Be("Inject Default Chatbot in Entire Website","ai-engine"),INJECT_DEFAULT_CHATBOT_HELP:Be("Inject the chatbot [mwai_chat] in the entire website.","ai-engine"),CHATGPT_STYLE_INTRO:Be('Keep in mind that you can also style the chatbot (or a specific chatbot, if you use many) by injecting CSS. Have a look &lt;a target="_blank" href="https://meowapps.com/ai-engine/tutorial/#apply-custom-style-to-the-chatbot"&gt;here&lt;/a&gt;. More information in the &lt;a target="_blank" href="https://meowapps.com/ai-engine/faq"&gt;FAQ&lt;/a&gt;.',"ai-engine"),TYPEWRITER_EFFECT:Be("Typewriter Effect","ai-engine"),TYPEWRITER_EFFECT_HELP:Be("The reply from AI will be typewrited. This delays the final output! Absolutely not recommended. Please use &lt;b&gt;Streaming&lt;/b&gt; instead.","ai-engine"),CHATBOT_MODERATION_HELP:Be("If the conversation seems offensive, the chatbot will reject it.","ai-engine"),CUSTOM_URL:Be("Custom URL","ai-engine")},Ue.CHATBOT={CHATBOT_BUILDER:Be("Chatbot Builder","ai-engine"),RESET_PARAMS:Be("Reset Parameters","ai-engine")},Ue.STATISTICS={ABSOLUTE_HELP:Be("Using Absolute, Day represents &lt;i&gt;today&lt;/i&gt;. Otherwise, the &lt;i&gt;past 24 hours&lt;/i&gt;. Same logic applies to the other timeframes.","ai-engine"),NO_CREDITS_MESSAGE:Be("Message for No Credits","ai-engine"),FULL_ACCESS_USERS:Be("Full-Access Users","ai-engine"),ENABLE_LIMITS:Be("Enable Limits","ai-engine")},Ue.CONTENT_GENERATOR={INTRO:Be("The Content Generator is a powerful tool that can generate content for you. It can be used to generate articles, emails, or even code. It can also be used to generate content for your chatbot. &lt;b&gt;Let me know if there are any new features you would like to see!&lt;/b&gt; Have fun 🥳","ai-engine"),TITLE_MISSING:Be("Title is missing!","ai-engine"),SECTIONS_MISSING:Be("Sections are missing!","ai-engine"),SINGLE_GENERATE:Be("Single Generate","ai-engine"),BULK_GENERATE:Be("Bulk Generate","ai-engine"),CONTENT_PARAMS:Be("Content Params","ai-engine"),POST_PARAMS:Be("Post Params","ai-engine"),CONTENT_PARAMS_INTRO:Be("Input fields are displayed for certain placeholders used in prompts, such as {LANGUAGE} or {WRITING_TONE}","ai-engine"),CUSTOM_LANGUAGE:Be("Custom Language","ai-engine"),WRITING_STYLE:Be("Writing Style","ai-engine"),WRITING_TONE:Be("Writing Tone","ai-engine"),CUSTOM_LANGUAGE_HELP:Be('All the languages are &lt;i&gt;somehow&lt;/i&gt; supported by AI. &lt;a href="https://meowapps.com/ai-engine/faq/#languages" target="_blank"&gt;Learn more&lt;/a&gt;.',"ai-engine"),MODEL_HELP:Be("It is recommended to use Turbo or GPT-4 to write texts.","ai-engine"),PROMPTS_INTRO:Be("Prompts represent the exact request sent to the AI. The variables between curly braces will be replaced by the content of the corresponding field. Prompts are saved in your templates.","ai-engine"),PROMPT_TITLE:Be("Prompt for &lt;b&gt;Title&lt;/b&gt;","ai-engine"),PROMPT_SECTIONS:Be("Prompt for &lt;b&gt;Sections&lt;/b&gt;","ai-engine"),PROMPT_CONTENT:Be("Prompt for &lt;b&gt;Content&lt;/b&gt;","ai-engine"),PROMPT_EXCERPT:Be("Prompt for &lt;b&gt;Excerpt&lt;/b&gt;","ai-engine"),POST_CREATED:Be("Post Created","ai-engine"),POST_CREATED_AS_DRAFT:Be("The post was created as a draft.","ai-engine"),CONTENT_HELP:Be('You can modify the content before using "Create Post". Markdown is supported, and will be converted to HTML when the post is created.',"ai-engine"),SECTIONS_HELP:Be('Add, rewrite, remove, or reorganize those sections as you wish before (re)clicking on "Generate Content". Markdown format is recommended.',"ai-engine"),GENERATE_EXCERPT:Be("Generate Excerpt","ai-engine"),GENERATE_CONTENT:Be("Generate Content","ai-engine"),GENERATE_SECTIONS:Be("Generate Sections","ai-engine"),PARAGRAPHS_PER_SECTION:Be("# of Paragraphs per Section","ai-engine"),SECTIONS:Be("Sections","ai-engine"),TOPICS_HELP:Be("Write or paste your topics below. Each line will be used as a topic. The same &lt;b&gt;Params&lt;/b&gt; and &lt;b&gt;Prompts&lt;/b&gt; will be used as with the &lt;b&gt;Single Generate&lt;/b&gt;, so make sure you get satisfying results with it first. This &lt;b&gt;takes time&lt;/b&gt;, so relax and enjoy some coffee ☕️ and tea 🍵 :)","ai-engine"),GENERATED_POSTS:Be("Generated Posts","ai-engine"),GENERATE_ALL:Be("Generate All","ai-engine"),EDIT_POST:Be("Edit Post","ai-engine"),CREATE_POST:Be("Create Post","ai-engine"),TITLE_TOO_SHORT:Be("The title is too short. It should be at least 3 words.","ai-engine"),TITLE_TOO_SHORT_2:Be("The title is too short.&nbsp; It should be at least 40 characters.","ai-engine"),TITLE_TOO_LONG:Be("The title is too long. It should be less than 8 words.","ai-engine"),TITLE_TOO_LONG_2:Be("The title is too long. It should be less than 70 characters.","ai-engine")},Ue.TEMPLATES={TEMPLATES:Be("Templates","ai-engine"),DELETE_CONFIRM:Be("Are you sure you want to delete this template?","ai-engine"),DELETE_ALL_CONFIRM:Be("Are you sure you want to delete all the templates?","ai-engine"),NEW_TEMPLATE_NAME:Be("New Template","ai-engine"),EDIT:Be("EDIT","ai-engine")},Ue.PLAYGROUND={INTRO:Be("Welcome to the AI Playground! Here, you can play with different AI models and ask the UI to perform various tasks for you. You can ask it to write, rewrite, or translate an article, categorize words or elements into groups, write an email, etc. &lt;b&gt;Let me know if there are any new features you would like to see!&lt;/b&gt; Have fun 🥳","ai-engine"),PROMPT:Be("Query / Prompt","ai-engine"),REPLY:Be("Reply","ai-engine")},Ue.ALERTS={FINETUNING_STARTED:Be("Fine-tuning started! Check its progress in the Models section. Depending on your dataset size, it may take a while (from a few minutes to days).","ai-engine"),RESET_BUILDER:Be("This will delete all the rows in the builder. Are you sure?","ai-engine"),DELETE_FINETUNE:Be("You are going to delete this fine-tune. Are you sure?\n\nPlease note that it will take a while before it is actually deleted. This might be a temporary issue of OpenAI.","ai-engine"),FINETUNE_ALREADY_DELETED:Be("This fine-tune was already deleted. It will be removed from the list.","ai-engine"),CHECK_CONSOLE:Be("Error! Check your console for more details.","ai-engine"),DATASET_UPLOADED:Be("Uploaded successfully! You can now train a model based on this dataset.","ai-engine"),ONLY_SUPPORTS_FILES:Be("This only supports JSON, JSONL, and CSV files.","ai-engine"),EMPTY_LINES_DATASET:Be("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'prompt' and 'completion'. For debugging, an empty line was logged to the console.","ai-engine"),EMPTY_LINES_EMBEDDINGS:Be("Some lines were empty. Make sure the CSV has a header row and that the columns are named 'title' and 'content'. For debugging, an empty line was logged to the console.","ai-engine"),ARE_YOU_SURE:Be("Are you sure?","ai-engine")},Ue.FINETUNING={CONTEXT_DESCRIPTION:Be("In Easy mode, this context will be automatically used for every message. This context will need to be re-used in your chatbot as well.","ai-engine"),MODELS_INTRO:Be("The AI models you have fine-tuned. To create more, visit &lt;b&gt;Datasets&lt;/b&gt;.","ai-engine"),LEGACY_MODELS_INTRO:Be('The AI models you have fine-tuned. &lt;b&gt;Do not use legacy fine-tuning anymore (based on models prior to GPT 3.5). Their deprecation has been &lt;a href="https://platform.openai.com/docs/guides/legacy-fine-tuning" target="_blank"&gt;announced by OpenAI&lt;/a&gt; for January 4th, 2024.&lt;/b&gt;&lt;br /&gt;',"ai-engine"),DATASETS_INTRO:Be("The datasets you have uploaded to OpenAI. To create a new dataset, switch from &lt;b&gt;Model Finetuner&lt;/b&gt; to &lt;b&gt;Dataset Builder&lt;/b&gt;. To train a new model, click on the &lt;i&gt;magic wand&lt;/i&gt;.","ai-engine"),MODEL_FINETUNE:Be("Model Finetune","ai-engine"),MODELS_DATASETS:Be("Models &amp; Datasets","ai-engine"),DATASET_EDITOR:Be("Dataset Editor","ai-engine"),DATASET_BUILDER:Be("Dataset Builder","ai-engine"),ENTRIES_EDITOR:Be("Entries Editor","ai-engine"),ENTRIES_GENERATOR:Be("Entries Generator","ai-engine"),HUGE_DATASET_WARNING:Be("Caution: The data is too large to be saved in your browser's local storage.","ai-engine"),NO_FINETUNES_YET:Be("No fine-tunes found. Refresh the list, or create a new one (via a dataset).","ai-engine"),CLEAN_MODELS_LIST:Be("Clean Models List","ai-engine"),DELETED_FINETUNE_ISSUE:Be("For some reason, OpenAI still return the models even after you deleted them. Don't worry, AI Engine will do the cleanup for you! You can force the cleanup by using this button. It takes a bit of time depending on the total of models you have.","ai-engine")},Ue.EMBEDDINGS={EDIT:Be("EDIT","ai-engine"),AI_SEARCH:Be("AI SEARCH","ai-engine"),AUTO_SYNC_POSTS:Be("Auto Sync Posts","ai-engine"),AUTO_SYNC_POSTS_DESCRIPTION:Be("Embeddings will be created, updated or removed based on the activity related to your posts.","ai-engine"),REWRITE_CONTENT:Be("Rewrite Content","ai-engine"),REWRITE_CONTENT_DESCRIPTION:Be("Shorten and improve the content for your embedding using the default model.","ai-engine"),FORCE_RECREATE:Be("Force Recreate","ai-engine"),FORCE_RECREATE_DESCRIPTION:Be("Recreate embeddings on sync even if the content has not changed.","ai-engine"),REWRITE_PROMPT_DESCRIPTION:Be("Prompt for the rewrite. Supports {CONTENT}, {TITLE}, {URL}, {EXCERPT}, {LANGUAGE}, {ID}.","ai-engine"),SYNC_ALL:Be("Sync All","ai-engine"),SYNC_ONE:Be("Sync One","ai-engine"),ADD_INDEX:Be("Add Index","ai-engine"),ADD_INDEX_DESCRIPTION:Be("An index is like a database, and contains embeddings. You can have many indexes and switch between them. The indexes are hosted on Pinecone.","ai-engine"),NO_NAMESPACE_SUPPORT:Be("Note: This server does not support namespaces.","ai-engine")},Ue.ERROR={UPDATING_OPTIONS:Be("An error occured while updating the options."),GETTING_OPTIONS:Be("An error occured while getting the options."),CHECK_YOUR_CONSOLE:Be('For more information, check &lt;a target="_blank" href="https://meowapps.com/tutorial-network-activity-dev-tools/"&gt;your console&lt;/a&gt;. You might also want to check your &lt;a target="_blank" href="https://meowapps.com/tutorial-php-error-logs/"&gt;PHP Error Logs&lt;/a&gt;.',"ai-engine")};const He=Ue;function Ze(){Ze=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ze(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ze(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Ve(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ve(o,r,a,i,l,"next",e)}function l(e){Ve(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ze(e){return ze="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ze(e)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ze(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e){return function(e){if(Array.isArray(e))return Je(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var $e=wp.element,et=$e.useMemo,tt=$e.useState,nt=$e.useEffect,rt={title:"",content:"",refId:null,type:"manual",behavior:"context"},at={name:"",podType:"p2"},ot=function(e){var t=e.options,n=t.ai_envs.find((function(e){return e.apikey&amp;&amp;e.apikey.length&gt;0})),r=!(null!=t&amp;&amp;t.module_embeddings)||(null==t?void 0:t.embeddings_envs)&amp;&amp;(null==t?void 0:t.embeddings_envs.length)&gt;0;return React.createElement(React.Fragment,null,!n&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.AI_ENV_SETUP)),!r&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},(0,R.io)(He.SETTINGS.PINECONE_SETUP)))},it=function(e){var t=e.disabled,n=e.options,r=e.language,a=e.customLanguage,o=Qe(tt(null!=r?r:"en"),2),i=o[0],l=o[1],c=Qe(tt(!1),2),u=c[0],s=c[1],f=Qe(tt(""),2),d=f[0],m=f[1],p=(null==n?void 0:n.languages)||[],h=et((function(){return Object.keys(p).map((function(e){return{value:e,label:p[e]}}))}),[p]);nt((function(){a?(s(!0),m(a)):(s(!1),m(""),l(null!=r?r:"en"))}),[a]),nt((function(){l(r)}),[r]),nt((function(){var e=localStorage.getItem("mwai_preferred_language");if(e&amp;&amp;h.find((function(t){return t.value===e})))l(e);else{var t=(document.querySelector("html").lang||navigator.language||navigator.userLanguage).substr(0,2);h.find((function(e){return e.value===t}))&amp;&amp;l(t)}}),[]);var y=et((function(){if(u)return d;var e=h.find((function(e){return e.value===i}));return e?e.label:(console.warn("A system language or a custom language should be set."),"English")}),[i,d]),v=function(e,t){"custom"!==e?(l(e,t),localStorage.setItem("mwai_preferred_language",e)):s(!0)};return{jsxLanguageSelector:et((function(){return React.createElement(React.Fragment,null,u&amp;&amp;React.createElement(Ee.A,{name:"customLanguage",disabled:t,onReset:function(){s(!1)},description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:d,onChange:m}),!u&amp;&amp;React.createElement(we.N,{scrolldown:!0,name:"language",disabled:t,description:(0,R.io)(He.CONTENT_GENERATOR.CUSTOM_LANGUAGE_HELP),value:i,onChange:v},h.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})})),React.createElement(we.Z,{key:"custom",value:"custom",label:"Other"})))}),[i,y,h,u]),currentLanguage:u?"custom":i,currentHumanLanguage:y,isCustom:u}},lt=function(e,t){var n,r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]&amp;&amp;arguments[2],a=Qe(tt(null==e?void 0:e.ai_default_model),2),o=a[0],i=a[1],l=t||(null==e?void 0:e.ai_default_env),c=null!==(n=null==e?void 0:e.ai_envs)&amp;&amp;void 0!==n?n:[],u=et((function(){if(r&amp;&amp;null!=e&amp;&amp;e.ai_envs){var t={fake:!0,finetunes:[],legacy_finetunes:[],legacy_finetunes_deleted:[],finetunes_deleted:[],deployments:[]};return c.forEach((function(e){var n,r,a,o,i;e.finetunes&amp;&amp;(n=t.finetunes).push.apply(n,Xe(e.finetunes)),e.legacy_finetunes&amp;&amp;(r=t.legacy_finetunes).push.apply(r,Xe(e.legacy_finetunes)),e.legacy_finetunes_deleted&amp;&amp;(a=t.legacy_finetunes_deleted).push.apply(a,Xe(e.legacy_finetunes_deleted)),e.finetunes_deleted&amp;&amp;(o=t.finetunes_deleted).push.apply(o,Xe(e.finetunes_deleted)),e.deployments&amp;&amp;(i=t.deployments).push.apply(i,Xe(e.deployments))})),t}return null}),[c,r]),s=et((function(){var t;return r?u:l?(null==e||null===(t=e.ai_envs)||void 0===t?void 0:t.find((function(e){return e.id===l})))||(console.warn("useModels: Environment with ID ".concat(l," could not be resolved."),{envs:c,envId:l}),null):(console.warn("useModels: Environment ID is null. Please provide a valid envId."),null)}),[c,l,r,u]),f=et((function(){var e=(null==s?void 0:s.finetunes_deleted)||[];return Array.isArray(null==s?void 0:s.legacy_finetunes_deleted)&amp;&amp;(e=[].concat(Xe(e),Xe(s.legacy_finetunes_deleted))),e}),[s]),d=function(e){return{background:{deprecated:"var(--neko-red)",tuned:"var(--neko-green)",preview:"var(--neko-orange)"}[e],color:"white",padding:"3px 4px",margin:"1px 0px 0px 3px",borderRadius:4,fontSize:9,lineHeight:"100%"}},m={deprecated:"DEPRECATED",tuned:"TUNED",preview:"PREVIEW"},p=function(e,t){var n,r,a,o=(null===(n=e.tags)||void 0===n?void 0:n.find((function(e){return["deprecated","preview"].includes(e)})))||(t?"tuned":"");return React.createElement(React.Fragment,null,null!==(r=null!==(a=e.name)&amp;&amp;void 0!==a?a:e.suffix)&amp;&amp;void 0!==r?r:e.model,o&amp;&amp;React.createElement("small",{style:d(o)},m[o]))},h=et((function(){var t,n,r,a,o=[];if(!0===(null==s?void 0:s.fake))o=[].concat(Xe(null!==(r=e.openai_models)&amp;&amp;void 0!==r?r:[]),Xe(null!==(a=e.openrouter_models)&amp;&amp;void 0!==a?a:[]));else if("openai"===(null==s?void 0:s.type)){var i;o=null!==(i=null==e?void 0:e.openai_models)&amp;&amp;void 0!==i?i:[]}else if("azure"===(null==s?void 0:s.type)){var l,c;o=null!==(l=null==e||null===(c=e.openai_models)||void 0===c?void 0:c.filter((function(e){var t;return null===(t=s.deployments)||void 0===t?void 0:t.find((function(t){return t.model===e.model}))})))&amp;&amp;void 0!==l?l:[]}else if("openrouter"===(null==s?void 0:s.type)){var u;o=null!==(u=null==e?void 0:e.openrouter_models)&amp;&amp;void 0!==u?u:[]}else if("google"===(null==s?void 0:s.type)){var f;o=null!==(f=null==e?void 0:e.google_models)&amp;&amp;void 0!==f?f:[]}else if("huggingface"===(null==s?void 0:s.type)){var d,m;o=null!==(d=null==s||null===(m=s.customModels)||void 0===m?void 0:m.map((function(e){var t=e.tags?Xe(new Set([].concat(Xe(e.tags),["core","chat"]))):["core","chat"],n=t.includes("image")?"image":"chat";return{model:e.name,name:e.name,mode:n,tags:t,options:[]}})))&amp;&amp;void 0!==d?d:[],console.log("Hugging Face",{models:o,env:s})}else console.warn("useModels: Environment Type is not supported.",{env:s});var h="string"==typeof(null==e?void 0:e.extra_models)?null==e?void 0:e.extra_models:"",y=null!==(t=null==s?void 0:s.finetunes)&amp;&amp;void 0!==t?t:[];return Array.isArray(null==s?void 0:s.legacy_finetunes)&amp;&amp;(y=[].concat(Xe(y),Xe(s.legacy_finetunes))),y=y.filter((function(e){return"succeeded"===e.status&amp;&amp;e.model})),o=o.map((function(e){return qe(qe({},e),{},{name:p(e),rawName:e.name})})),y.length&amp;&amp;(o=[].concat(Xe(o),Xe(y.map((function(e){var t="completion",n=e.model.split(":")[0];return e.model.includes("ft:gpt-3.5")?(t="chat",n="turbo"):e.model.includes("ft:gpt-4")&amp;&amp;(t="chat",n="gpt4"),{model:e.model,name:p(e,!0),rawName:e.suffix,suffix:e.suffix,mode:t,family:n,description:"finetuned",finetuned:!0,tags:["finetune"]}}))))),(h=null===(n=h)||void 0===n?void 0:n.split(",").filter((function(e){return e}))).length&amp;&amp;(o=[].concat(Xe(o),Xe(h.map((function(e){return{id:e,model:e,description:"Extra"}}))))),o}),[e,s]),y=et((function(){return h.filter((function(e){return!f.includes(e.model)}))}),[h,f]),v=et((function(){return h.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("core")}))}),[h]),g=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("image")}))}),[y]),b=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("embedding")}))}),[y]),E=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("vision")}))}),[y]),w=et((function(){return y.filter((function(e){return"completion"===(null==e?void 0:e.mode)||"chat"===(null==e?void 0:e.mode)}))}),[y]),R=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("audio")}))}),[y]),x=et((function(){return y.filter((function(e){var t;return null==e||null===(t=e.tags)||void 0===t?void 0:t.includes("json")}))}),[y]),O=function(e){return"gpt-3.5-turbo-0301"===e||"gpt-35-turbo"===e||"gpt-3.5-turbo-0613"===e?e="gpt-3.5-turbo":"gpt-4-0314"!==e&amp;&amp;"gpt-4-0613"!==e||(e="gpt-4"),h.find((function(t){return t.model===e}))},S=function(e){var t=O(e);return v.find((function(e){return(null==e?void 0:e.family)===(null==t?void 0:t.family)}))||null},T=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"1024x1024",n=S(e);if("image"===(null==n?void 0:n.type)&amp;&amp;null!=n&amp;&amp;n.options){var r=n.options.find((function(e){return e.option===t}));return(null==r?void 0:r.price)||null}return(null==n?void 0:n.price)||null};return{allModels:h,model:o,models:y,completionModels:w,imageModels:g,visionModels:E,coreModels:v,embeddingsModels:b,audioModels:R,jsonModels:x,setModel:i,isFineTunedModel:function(e){var t=O(e);return(null==t?void 0:t.finetuned)||!1},getModelName:function(e){var t=O(e);return(null==t?void 0:t.name)||(null==t?void 0:t.model)||e},getFamilyName:function(e){var t=O(e);return(null==t?void 0:t.family)||null},getPrice:T,getModel:O,calculatePrice:function(e,t,n){var r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:"1024x1024",a=S(e),o=T(e,r),i=o,l=o;return"object"===ze(o)&amp;&amp;null!==o&amp;&amp;(i=o.in,l=o.out),i&amp;&amp;l?i*t*a.unit+l*n*a.unit:(console.warn("Price not found for model",e),0)}}},ct=function(){var e=Ye(Ze().mark((function e(t){var n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/remote_list"),{nonce:L,method:"POST",json:t});case 2:return n=e.sent,e.abrupt("return",n?{total:n.total,vectors:n.vectors}:{total:0,vectors:[]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Ye(Ze().mark((function e(t,n){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/vectors/add_from_remote"),{nonce:L,method:"POST",json:t,signal:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),st=function(){var e=Ye(Ze().mark((function e(t){var n,r,a,o,i,l;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!==(null==t||null===(n=t.filters)||void 0===n?void 0:n.search),""!==(null==t||null===(r=t.filters)||void 0===r?void 0:r.search)){e.next=3;break}return e.abrupt("return",[]);case 3:if(t.filters.envId&amp;&amp;t.filters.dbIndex){e.next=5;break}return e.abrupt("return",{total:0,vectors:[]});case 5:return e.next=7,(0,R.PV)("".concat(T,"/vectors/list"),{nonce:L,method:"POST",json:t});case 7:return i=e.sent,o&amp;&amp;null!=i&amp;&amp;null!==(a=i.vectors)&amp;&amp;void 0!==a&amp;&amp;a.length&amp;&amp;(l=i.vectors.sort((function(e,n){var r;return"asc"===(null==t||null===(r=t.sort)||void 0===r?void 0:r.by)?e.score-n.score:n.score-e.score})),i.vectors=l),e.abrupt("return",i?{total:i.total,vectors:i.vectors}:{total:0,vectors:[]});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Ye(Ze().mark((function e(t){var n,r,a=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length&gt;1&amp;&amp;void 0!==a[1]?a[1]:"publish",e.next=3,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t,"&amp;postStatus=").concat(n),{nonce:L});case 3:return r=e.sent,e.abrupt("return",null!=r&amp;&amp;r.count?parseInt(null==r?void 0:r.count):null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Ye(Ze().mark((function e(t){var n,r,a=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length&gt;1&amp;&amp;void 0!==a[1]?a[1]:"publish",e.next=3,(0,R.PV)("".concat(T,"/helpers/posts_ids?postType=").concat(t,"&amp;postStatus=").concat(n),{nonce:L});case 3:return r=e.sent,e.abrupt("return",null!=r&amp;&amp;r.postIds?r.postIds:[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Ye(Ze().mark((function e(t){var n,r,a,o,i=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:0,r=i.length&gt;2&amp;&amp;void 0!==i[2]?i[2]:0,a=i.length&gt;3&amp;&amp;void 0!==i[3]?i[3]:"publish",e.next=5,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&amp;postStatus=").concat(a,"&amp;offset=").concat(n,"&amp;postId=").concat(r),{nonce:L});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Ye(Ze().mark((function e(t){var n,r,a,o,i=arguments;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.vectorId,r=t.postId,a=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:null,e.next=4,(0,R.PV)("".concat(T,"/vectors/sync"),{nonce:L,method:"POST",json:{vectorId:n,postId:r},signal:a});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ht(e){var t=new Date(e),n=(t=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),r=t.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return React.createElement("div",{style:{textAlign:"right"}},n,React.createElement("br",null),React.createElement("small",null,r))}function yt(e,t){var n,r=t?(n=t.substring(0,12)).length&lt;t.length?(n.endsWith(".")&amp;&amp;(n=n.slice(0,-1)),n+"~"):n:"";return React.createElement(React.Fragment,null,!e&amp;&amp;React.createElement(React.Fragment,null,He.COMMON.GUEST),e&amp;&amp;React.createElement(React.Fragment,null,React.createElement("a",{target:"_blank",href:"/wp-admin/user-edit.php?user_id=".concat(e),rel:"noreferrer"},He.COMMON.USER," #",e)),React.createElement("br",null),React.createElement("small",null,r))}var vt=function(){for(var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:6,t="",n=0;n&lt;e;n++)t+="abcdefghijklmnopqrstuvwxyz0123456789"[Math.floor(36*Math.random())];return t};function gt(e){return gt="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},gt(e)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gt(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=wp.element,Rt=(wt.useState,wt.useEffect,wt.useMemo),xt=React.createElement("g",null,React.createElement("g",null,React.createElement("path",{d:"m391 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m331 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m271 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#39326c"}),React.createElement("path",{d:"m211 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m151 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m91 81h30v-66c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15z",fill:"#5f55af"}),React.createElement("path",{d:"m406 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m346 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("path",{d:"m286 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z",fill:"#39326c"}),React.createElement("g",{fill:"#5f55af"},React.createElement("path",{d:"m226 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m166 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m106 512c8.284 0 15-6.716 15-15v-66h-30v66c0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 121h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 181h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 241h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 301h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 361h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"}),React.createElement("path",{d:"m15 421h66v-30h-66c-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15z"})),React.createElement("path",{d:"m431 91v30h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15z",fill:"#39326c"}),React.createElement("path",{d:"m431 181h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 241h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 301h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 361h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"}),React.createElement("path",{d:"m431 421h66c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15h-66z",fill:"#39326c"})),React.createElement("g",null,React.createElement("path",{d:"m446 51h-380c-8.284 0-15 6.716-15 15v380c0 8.284 6.716 15 15 15h380c8.284 0 15-6.716 15-15v-380c0-8.284-6.716-15-15-15z",fill:"#aed0ff"}),React.createElement("g",null,React.createElement("path",{d:"m461 446v-380c0-8.284-6.716-15-15-15h-190v410h190c8.284 0 15-6.716 15-15z",fill:"#7c84e8"})),React.createElement("path",{d:"m386 111h-260c-8.284 0-15 6.716-15 15v260c0 8.284 6.716 15 15 15h260c8.284 0 15-6.716 15-15v-260c0-8.284-6.716-15-15-15z",fill:"#5f55af"}),React.createElement("g",null,React.createElement("path",{d:"m401 386v-260c0-8.284-6.716-15-15-15h-130v290h130c8.284 0 15-6.716 15-15z",fill:"#39326c"}))),React.createElement("g",null,React.createElement("path",{d:"m247.626 192.389c-.052-.138-.106-.274-.162-.411-2.744-6.671-9.175-10.978-16.387-10.978-.006 0-.012 0-.018 0-7.219.007-13.65 4.329-16.383 11.01-.046.113-.091.227-.134.341l-45.06 118.31c-2.949 7.742.937 16.408 8.679 19.356 7.742 2.95 16.408-.937 19.356-8.679l7.543-19.804h51.691l7.458 19.762c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33zm-31.14 79.146 14.538-38.171 14.406 38.171z",fill:"#f9f9f9"}),React.createElement("g",{fill:"#e2dff4"},React.createElement("path",{d:"m264.209 321.296c2.267 6.007 7.974 9.708 14.036 9.708 1.76 0 3.55-.312 5.294-.97 7.75-2.925 11.663-11.579 8.737-19.33l-36.276-96.126v86.956h.751z"}),React.createElement("path",{d:"m328.5 181c-8.284 0-15 6.716-15 15v120c0 8.284 6.716 15 15 15s15-6.716 15-15v-120c0-8.284-6.716-15-15-15z"})))),Ot=React.createElement("g",null,React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06-17.32-17.32-16.37-45.67 2.06-61.8l156.08-139.26s13.46-2.54 29.46 13.46 13.46 29.46 13.46 29.46z",fill:"#0052be"}),React.createElement("path",{d:"m213.46 341.461-139.26 156.08c-16.17 18.48-44.53 19.33-61.8 2.06l187.6-187.6c16 16 13.46 29.46 13.46 29.46z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46c-14.997-14.997-27.922-27.922-42.92-42.92l101.46-90.54z",fill:"#00429b"}),React.createElement("path",{d:"m304 240.001-90.54 101.46-21.46-21.46 96-96z",fill:"#00337a"}),React.createElement("path",{d:"m400 279.001h-64.4l-42.47 57.87c-7.88 10.735-24.824 6.606-26.91-6.52l-11.56-73.01-73.01-11.56c-13.139-2.087-17.244-19.042-6.52-26.91l57.87-42.47v-64.4c0-12.176 13.797-19.289 23.72-12.21l50.15 35.83 70.92-19.9c11.25-3.168 21.656 7.245 18.49 18.49l-19.9 70.92 35.83 50.15c7.071 9.913-.02 23.72-12.21 23.72z",fill:"#ffdd54"}),React.createElement("path",{d:"m412.21 255.281c7.071 9.913-.02 23.72-12.21 23.72h-64.4l-42.47 57.87c-7.875 10.728-24.823 6.616-26.91-6.52l-11.56-73.01 137.79-137.79c3.83 3.84 5.3 9.44 3.83 14.66l-19.9 70.92z",fill:"#ffb454"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9h-9c-8.28 0-15-6.72-15-15s6.72-15 15-15h9v-9c0-8.28 6.72-15 15-15s15 6.72 15 15v9h9c8.28 0 15 6.719 15 15z",fill:"#bee75e"}),React.createElement("path",{d:"m512 39.001c0 8.28-6.72 15-15 15h-9v9c0 8.28-6.72 15-15 15s-15-6.72-15-15v-9l30-30h9c8.28 0 15 6.719 15 15z",fill:"#00cb75"}),React.createElement("path",{d:"m336 41.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#f6f9f9"}),React.createElement("path",{d:"m441 224.001c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9z",fill:"#e2dff4"}),React.createElement("path",{d:"m497 329.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff4a4a"}),React.createElement("path",{d:"m192 24.001h-9v-9c0-8.284-6.716-15-15-15s-15 6.716-15 15v9h-9c-8.284 0-15 6.716-15 15s6.716 15 15 15h9v9c0 8.284 6.716 15 15 15s15-6.716 15-15v-9h9c8.284 0 15-6.716 15-15s-6.716-15-15-15z",fill:"#ff8659"}),React.createElement("path",{d:"m159.442 122.977-56-32c-7.191-4.109-16.355-1.611-20.466 5.581-4.11 7.193-1.611 16.355 5.581 20.466l56 32c7.16 4.093 16.337 1.644 20.466-5.581 4.111-7.193 1.612-16.355-5.581-20.466z",fill:"#f6f9f9"}),React.createElement("path",{d:"m118.14 169.117-64 8c-8.221 1.027-14.052 8.524-13.023 16.744 1.027 8.218 8.523 14.054 16.744 13.023l64-8c8.221-1.027 14.052-8.524 13.023-16.744-1.028-8.22-8.527-14.062-16.744-13.023z",fill:"#acceff"}),React.createElement("path",{d:"m389.023 352.558c-4.111-7.193-13.274-9.693-20.466-5.581-7.192 4.11-9.691 13.272-5.581 20.466l32 56c2.769 4.845 7.83 7.561 13.037 7.561 11.319 0 18.784-12.341 13.01-22.445z",fill:"#e2dff4"}),React.createElement("path",{d:"m329.86 377.117c-8.222-1.031-15.717 4.804-16.744 13.023l-8 64c-1.117 8.925 5.834 16.862 14.902 16.862 7.455 0 13.917-5.553 14.865-13.142l8-64c1.029-8.219-4.802-15.716-13.023-16.743z",fill:"#6ba7ff"}));const St=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:{},t=e.icon,n=void 0===t?"ai":t,r=e.size,a=void 0===r?20:r,o=e.style,i=void 0===o?{}:o,l=Rt((function(){switch(n){case"ai":default:return xt;case"wand":return Ot}}),[n]);return React.createElement("svg",{style:Et({width:a,height:a,marginRight:5},i),"enable-background":"new 0 0 512 512",height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg"},l)};var Tt,Nt,_t,Ct;function It(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Lt=function(e){var t=e.title,n=void 0===t?He.COMMON.SETTINGS:t,r=e.options,a=void 0===r?k:r,o=null==a?void 0:a.module_playground,i=null==a?void 0:a.module_generator_content,l=null==a?void 0:a.module_generator_images;return React.createElement(v.B,{title:"AI Engine | ".concat(n),subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i&amp;&amp;React.createElement(E._,{className:"header",onClick:function(){return location.href="edit.php?page=mwai_content_generator"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.CONTENT),l&amp;&amp;React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="edit.php?page=mwai_images_generator"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.IMAGES),o&amp;&amp;React.createElement(E._,{className:"header",icon:"",onClick:function(){return location.href="tools.php?page=mwai_dashboard"}},React.createElement(St,{icon:"wand",style:{marginRight:8}}),He.COMMON.PLAYGROUND),React.createElement(E._,{className:"header",icon:"tools",onClick:function(){return location.href="admin.php?page=mwai_settings"}})))},kt=((0,G.ZP)(E._)(Tt||(Tt=It(["\n"]))),G.ZP.div(Nt||(Nt=It(["\n&nbsp; display: flex;\n&nbsp; justify-content: unset;\n&nbsp; align-items: center;\n&nbsp; justify-content: space-between;\n&nbsp; padding: 0 0 2px 0;\n\n&nbsp; h2 {\n&nbsp; &nbsp; margin: 7px 0 0 0;\n&nbsp; &nbsp; padding: 0;\n&nbsp; }\n"])))),At=G.ZP.div(_t||(_t=It(["\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(auto-fit, minmax(30%, 1fr));\n&nbsp; grid-template-rows: repeat(auto-fit, minmax(30%, 1fr));\n&nbsp; grid-gap: 10px;\n&nbsp; margin-top: 20px;\n\n&nbsp; img, div {\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; }\n&nbsp; .empty-image {\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; padding-bottom: 100%;\n&nbsp; &nbsp; background-color: #f5f5f5;\n&nbsp; }\n"]))),jt=G.ZP.div(Ct||(Ct=It(["\n\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; display: block;\n&nbsp; }\n\n&nbsp; .nui-button {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .neko-textarea {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .neko-input {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; .form-row {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; .nui-button, .neko-textarea, .neko-input {\n&nbsp; &nbsp; &nbsp; margin: 0;\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .form-row-label {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; justify-content: space-between;\n&nbsp; &nbsp; align-items: center;\n&nbsp; }\n"]))),Pt=n(338),Mt=n.n(Pt),Dt=n(3895),Gt=n(9378),Ft=n(3103),Bt=n(3594),Ut=n(9995),Ht=n(2625),Zt=n(776),Vt=n(8281),Yt=n(4291);function zt(e){return zt="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Wt(){Wt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==zt(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zt(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function qt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Xt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){qt(o,r,a,i,l,"next",e)}function l(e){qt(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Qt=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/post_types"),{nonce:L});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(t.message);case 5:return e.abrupt("return",t.postTypes);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kt=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/count_posts?postType=").concat(t),{nonce:L});case 2:return n=e.sent,e.abrupt("return",null!=n&amp;&amp;n.count?parseInt(null==n?void 0:n.count):null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length&gt;1&amp;&amp;void 0!==o[1]?o[1]:0,r=o.length&gt;2&amp;&amp;void 0!==o[2]?o[2]:0,e.next=4,(0,R.PV)("".concat(T,"/helpers/post_content?postType=").concat(t,"&amp;offset=").concat(n,"&amp;postId=").concat(r),{nonce:L});case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$t=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(S,"/mwai-ui/v1/files/delete"),{nonce:L,method:"POST",json:{files:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),en=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,e.next=3,(0,R.PV)("".concat(T,"/openai/files/list?envId=").concat(n),{nonce:L});case 3:if((r=e.sent).success){e.next=6;break}throw new Error(r.message);case 6:return e.abrupt("return",null==r||null===(t=r.files)||void 0===t?void 0:t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o,i,l,c,u,s,f,d,m,p;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=void 0===n?null:n,a=t.purpose,o=void 0===a?null:a,i=t.metadata,l=void 0===i?null:i,c=t.envId,u=void 0===c?null:c,s=t.limit,f=void 0===s?10:s,d=t.page,m=void 0===d?0:d,e.next=3,(0,R.PV)("".concat(S,"/mwai-ui/v1/files/list"),{nonce:L,method:"POST",json:{userId:r,purpose:o,metadata:l,envId:u,limit:f,page:m}});case 3:if((p=e.sent).success){e.next=6;break}throw new Error(p.message);case 6:return e.abrupt("return",null==p?void 0:p.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nn=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,n=a.length&gt;1&amp;&amp;void 0!==a[1]&amp;&amp;a[1],e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/list_deleted?envId=").concat(t,"&amp;legacy=").concat(n),{nonce:L});case 4:if((r=e.sent).success){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",null==r?void 0:r.finetunes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=Xt(Wt().mark((function e(){var t,n,r,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length&gt;0&amp;&amp;void 0!==a[0]?a[0]:null,n=a.length&gt;1&amp;&amp;void 0!==a[1]&amp;&amp;a[1],e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/list?envId=").concat(t,"&amp;legacy=").concat(n),{nonce:L});case 4:if((r=e.sent).success){e.next=7;break}throw new Error(r.message);case 7:return e.abrupt("return",null==r?void 0:r.finetunes);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"GET",nonce:L});case 2:if((t=e.sent).success){e.next=5;break}throw new Error(null==t?void 0:t.message);case 5:return e.abrupt("return",null==t?void 0:t.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/chatbots"),{method:"POST",nonce:L,json:{chatbots:t}});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(null==n?void 0:n.message);case 5:return e.abrupt("return",null==n?void 0:n.chatbots);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/themes"),{method:"GET",nonce:L});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.themes);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cn=function(){var e=Xt(Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/settings/options"),{method:"GET",nonce:L});case 2:return t=e.sent,e.abrupt("return",null==t?void 0:t.options);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),un=function(){var e=Xt(Wt().mark((function e(t){var n,r,a,o,i;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],r=0;r&lt;t.length;r++){if(a=t[r].themeId,n.includes(a)){for(o=1;n.includes(a+"-"+o);)o++;a=a+"-"+o}n.push(a),t[r].themeId=a}return e.next=4,(0,R.PV)("".concat(T,"/settings/themes"),{method:"POST",nonce:L,json:{themes:t}});case 4:return i=e.sent,e.abrupt("return",null==i?void 0:i.themes);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=Xt(Wt().mark((function e(t){var n;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/assistants/list?envId=").concat(t),{nonce:L});case 2:if((n=e.sent).success){e.next=5;break}throw new Error(n.message);case 5:return e.abrupt("return",null==n?void 0:n.assistants);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function fn(e){return fn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},fn(e)}function dn(){dn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==fn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(fn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function mn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function pn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){mn(o,r,a,i,l,"next",e)}function l(e){mn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function hn(e){return function(e){if(Array.isArray(e))return gn(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||vn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vn(e,t){if(e){if("string"==typeof e)return gn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gn(e,t):void 0}}function gn(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var bn=wp.element.useState;const En=function(e){e.options;var t=e.setMessages,n=yn(bn("post"),2),r=n[0],a=n[1],o=yn(bn(0),2),i=o[0],l=o[1],c=yn(bn(!1),2),u=c[0],s=c[1],f=yn(bn("Generate 30 questions and answers from this text. Questions use a neutral tone. Answers use the same tone as the text."),2),d=f[0],m=f[1],p=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),h=p.isLoading,y=p.data,v=(0,Ne.a)({queryKey:["postsCount-"+r],queryFn:function(){return Kt(r)}}),g=v.isLoading,b=v.data,w=(0,Yt.qj)({i18n:He,onStop:function(){s(),w.reset()}}),x=u||w.busy||g||h,O=function(e){if(!e)return[];for(var t=e.split("\n").filter((function(e){return""!==e.trim()})),n=[],r=[],a=0;a&lt;t.length;a++)t[a].startsWith("Q:")?(r.length&amp;&amp;(n.push({messages:hn(r)}),r=[]),r.push({role:"user",content:t[a].slice(2).trim()})):t[a].startsWith("A:")&amp;&amp;(r.push({role:"assistant",content:t[a].slice(2).trim()}),n.push({messages:hn(r)}),r=[]);return r.length&amp;&amp;n.push({messages:r}),n},S=function(){var e=pn(dn().mark((function e(){var t,n,a,o,i,c,u,s,f,m,p,h,y,v,g,b,E,w=arguments;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.length&gt;0&amp;&amp;void 0!==w[0]?w[0]:0,n=w.length&gt;1&amp;&amp;void 0!==w[1]?w[1]:void 0,a=w.length&gt;2&amp;&amp;void 0!==w[2]?w[2]:void 0,o=d+"\n\nUse this format:\n\nQ: Question?\nA: Answer.\n\nQ: Question?\nA: Answer.\nText:\n\n{CONTENT}",e.next=6,Jt(r,t,n||void 0);case 6:if(i=e.sent,c=null,u=null,s=null==i?void 0:i.content,f=null==i?void 0:i.url,m=null==i?void 0:i.title,p=0,i.success){e.next=18;break}alert(i.message),c=i.message,e.next=35;break;case 18:if(!(s.length&lt;64)){e.next=22;break}console.log("Issue: Content is too short! Skipped.",{content:s}),e.next=35;break;case 22:return o=(o=(o=o.replace("{CONTENT}",s)).replace("{URL}",f)).replace("{TITLE}",m),e.next=27,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",json:{env:"admin-tools",session:A,prompt:o},signal:a,nonce:L});case 27:if((y=e.sent).success){e.next=33;break}if(null===(v=y.error)||void 0===v||!v.cancelledByUser){e.next=31;break}return e.abrupt("return",null);case 31:throw console.error(y),new Error(null!==(g=y.message)&amp;&amp;void 0!==g?g:"Unknown error, check your console logs.");case 33:u=null==y?void 0:y.data,null!=y&amp;&amp;null!==(h=y.usage)&amp;&amp;void 0!==h&amp;&amp;h.total_tokens&amp;&amp;(p=y.usage.total_tokens,l((function(e){return e+y.usage.total_tokens})));case 35:return null!=a&amp;&amp;a.aborted&amp;&amp;N(),b=O(u),E={content:s,prompt:o,rawData:u,entries:b,error:c,tokens:p},console.log("Result:",E),e.abrupt("return",E);case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){console.log("User aborted."),setBusy(!1),w.reset()},_=function(){var e=pn(dn().mark((function e(){var n,r,a;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(0),n=Array.from(Array(b).keys()),r=prompt("There are "+n.length+" entries. If you want to start from a certain entry offset, type it here. Otherwise, just press OK, and everything will be processed."),a=n.map((function(e){return function(){var n=pn(dn().mark((function n(a){var o,i;return dn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Task "+e),!(r&amp;&amp;e&lt;r)){n.next=3;break}return n.abrupt("return",{success:!0});case 3:return n.next=5,S(e,null,a);case 5:return(null==(i=n.sent)||null===(o=i.entries)||void 0===o?void 0:o.length)&gt;0&amp;&amp;t((function(e){return[].concat(hn(e),hn(i.entries))})),n.abrupt("return",{success:!0});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),e.next=6,w.start(a);case 6:s(!1),alert("All done!"),w.reset();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=pn(dn().mark((function e(){var n,r;return dn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l(0),null!==(n=prompt("Enter the ID of a post (leave blank to use the very first one)."))){e.next=5;break}return e.abrupt("return");case 5:return s("singleGenerate"),e.next=8,S(0,n);case 8:(r=e.sent).entries.length?confirm("Got ".concat(r.entries.length," entries! Do you want to add them to your data? If not, they will be displayed in your console."))&amp;&amp;t((function(e){return[].concat(hn(e),hn(r.entries))})):alert("No entries were generated. Check the console for more information."),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:x,onClick:C,isBusy:"singleGenerate"===u},He.COMMON.SINGLE_GENERATE),React.createElement(E._,{disabled:x,onClick:function(){return _()}},"Run Bulk Generate"),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Based on ",g&amp;&amp;"...",!g&amp;&amp;b),React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:x,name:"postType",style:{width:100,marginLeft:10},onChange:a,value:r},null==y?void 0:y.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(Vt.U,{busy:w.busy,style:{marginLeft:10,flex:"auto"},value:w.value,max:w.max,onStopClick:w.stop}),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:10}},"Tokens: ",i)),React.createElement(Dt.l,{id:"generatePrompt",name:"generatePrompt",rows:2,style:{marginTop:15},value:d,onBlur:m,disabled:x}),w.TasksErrorModal)};function wn(e){return wn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},wn(e)}function Rn(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||In(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(){xn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==wn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(wn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function On(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?On(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):On(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==wn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===wn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function _n(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nn(o,r,a,i,l,"next",e)}function l(e){Nn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||In(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function In(e,t){if(e){if("string"==typeof e)return Ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ln(e,t):void 0}}function Ln(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var kn=wp.element,An=kn.useState,jn=kn.useMemo,Pn=kn.useRef,Mn=kn.useEffect,Dn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"question",title:"Question",verticalAlign:"top"},{accessor:"answer",title:"Answer",verticalAlign:"top"},{accessor:"actions",title:"",width:36,align:"center"}],Gn=[{accessor:"row",title:"#",width:25,verticalAlign:"top"},{accessor:"messages",title:"Messages",verticalAlign:"top"},{accessor:"actions",title:"",width:68,align:"top"}],Fn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"filename",title:"File"},{accessor:"purpose",title:"Purpose"},{accessor:"filesize",title:"Size",sortable:!0},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"190px"}],Bn=[{accessor:"status",title:"Status",sortable:!0,width:"100px"},{accessor:"id",title:"ID",width:"120px"},{accessor:"suffix",title:"Suffix"},{accessor:"model",title:"Model"},{accessor:"base_model",title:"Based On",width:"200px"},{accessor:"createdOn",title:"Date",sortable:!0,width:"80px"},{accessor:"actions",title:""}],Un=function(e){var t=e.status,n=e.includeText,r=void 0!==n&amp;&amp;n,a=(0,s.r)().colors,o=a.orange,i=a.green,l=a.red,c=null;switch(t){case"pending":case"running":c=React.createElement(Re.J,{title:t,icon:"replay",spinning:!0,width:24,color:o});break;case"succeeded":case"processed":c=React.createElement(Re.J,{title:t,icon:"check-circle",width:24,color:i});break;case"failed":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:l});break;case"cancelled":c=React.createElement(Re.J,{title:t,icon:"close",width:24,color:o});break;default:c=React.createElement(Re.J,{title:t,icon:"alert",width:24,color:o})}return r?React.createElement("div",{style:{display:"flex",alignItems:"center"}},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},t)):c},Hn=function(e){var t=e.children,n=e.data,r=e.onChange,a=void 0===r?function(){}:r,o=Cn(An(!1),2),i=o[0],l=o[1],c=function(e){l(!1),e!==n&amp;&amp;a(e)};return i?React.createElement("div",{onKeyUp:function(e){"Escape"===e.key&amp;&amp;c(n)},style:{height:"100%",display:"flex",flexDirection:"column",width:"100%"}},React.createElement(Dt.l,{onBlurForce:!0,autoFocus:!0,fullHeight:!0,rows:3,style:{height:"100%",width:"100%"},onEnter:c,onBlur:c,value:n}),React.createElement(E._,{onClick:c,fullWidth:!0,style:{marginTop:2,height:35}},"Save")):React.createElement("pre",{style:{width:"100%",height:"100%",whiteSpace:"break-spaces",margin:0,padding:0,fontSize:13,fontFamily:"inherit"},onClick:function(){return l(!0)}},t)};const Zn=function(e){var t,n,r,a,o=e.options,i=e.updateOption,l=e.refreshOptions,c=(0,s.r)().colors,f=(0,u.NL)(),d=Cn(An(!1),2),m=d[0],p=d[1],y=Cn(An(),2),v=y[0],g=y[1],b=Cn(An(!1),2),w=b[0],x=b[1],O=Cn(An("finetunes"),2),S=O[0],N=O[1],_=Cn(An("editor"),2),C=_[0],I=_[1],k=Cn(An(!0),2),A=k[0],j=k[1],P=Cn(An("current"),2),M=P[0],D=P[1],G=Cn(An("meow"),2),F=G[0],B=G[1],U=Cn(An(!1),2),H=U[0],Z=U[1],V=Cn(An(4),2),Y=V[0],z=V[1],W=Cn(An(4),2),q=W[0],X=W[1],Q=Cn(An(.1),2),K=Q[0],J=Q[1],$=Cn(An(.01),2),ee=$[0],te=$[1],ne=Cn(An(!1),2),re=ne[0],ae=ne[1],oe=Cn(An(null==o||null===(t=o.ai_envs)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id),2),ie=oe[0],le=oe[1],ce=(null==o?void 0:o.ai_envs)||[],ue=jn((function(){return null==ce?void 0:ce.find((function(e){return e.id===ie}))}),[ie,ce]),se=(null==ue?void 0:ue.finetunes_deleted)||[],fe=(null==ue?void 0:ue.finetunes)||[],de=(0,Ne.a)({queryKey:["datasets-"+ie],enabled:re,queryFn:function(){return en(ie)}}),me=de.isFetching,pe=de.error,he=de.data,ye=lt(o,ie),ve=ye.models,ge=ye.model,be=ye.setModel,Re=ye.getModel,Se=ye.isFineTunedModel,Ce=function(){var e=_n(xn().mark((function e(t,n){var r;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ce.map((function(e){return e.id===ie?Sn(Sn({},e),{},Tn({},t,n)):e})),e.abrupt("return",i(r,"ai_envs"));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=jn((function(){return ve.filter((function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.includes("finetune")}))}),[ve]);Mn((function(){"files"!==S||re||ae(!0)}),[S]),Mn((function(){pe&amp;&amp;!m&amp;&amp;p(pe)}),[pe]);var Le=10,ke=Cn(An(!0),2),Ae=ke[0],je=ke[1],Pe=Cn(An(1),2),Me=Pe[0],De=Pe[1],Ge=Cn(An([]),2),Fe=Ge[0],Be=Ge[1],Ue=Cn(An(!0),2),Ze=Ue[0],Ve=Ue[1],Ye=Cn(An("You are Chihiro, an AI Assistant. Your primary objective is to assist website visitors by directing them to the appropriate page or succinctly answering their questions with precision."),2),ze=Ye[0],We=Ye[1],qe=Cn(An(""),2),Xe=qe[0],Qe=qe[1],Ke=jn((function(){return Fe.length}),[Fe]),Je=function(e){var t=e.messages,n=e.currentRow,r=e.onUpdateDataRow,a=e.onDeleteDataRow;return React.createElement(React.Fragment,null,t.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex"}},React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return a(n,t+1)}}),React.createElement("div",{style:{width:120,paddingLeft:5,paddingTop:0,paddingBottom:4,marginRight:10}},React.createElement(we.N,{scrolldown:!0,name:"role",value:e.role,style:{width:120},onChange:function(a){return r(n,a,e.content,t+1)}},React.createElement(we.Z,{value:"assistant",label:"Assistant"}),React.createElement(we.Z,{value:"user",label:"User"}),React.createElement(we.Z,{value:"system",label:"System"}))),React.createElement(Hn,{data:e.content,style:{flex:"auto"},onChange:function(a){return r(n,e.role,a,t+1)}},e.content))})))},$e=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.invalidateQueries("datasets");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,$e();case 3:x(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=function(){var e=_n(xn().mark((function e(){var t,n,r,a,o,i;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v,n=F,r=Re(ge),x(!0),a=Se(ge),o={envId:ie,fileId:t,model:a?r.model:r.family,suffix:n},H&amp;&amp;(o=Sn(Sn({},o),{},{nEpochs:Y,batchSize:q,learningRateMultiplier:K,promptLossWeight:ee})),e.prev=7,e.next=10,(0,R.PV)("".concat(T,"/openai/files/finetune"),{method:"POST",nonce:L,json:o});case 10:(i=e.sent).success?(nt(),alert(He.ALERTS.FINETUNING_STARTED),N("finetunes"),g()):alert(i.message),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0.message),alert(e.t0.message);case 18:x(!1);case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),nt=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x("finetunes"),fe.length){e.next=6;break}return e.next=4,nn(ie);case 4:e.next=8;break;case 6:return e.next=8,rn(ie);case 8:return e.next=10,l();case 10:x(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=_n(xn().mark((function e(){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x("clean"),e.next=3,nn(ie);case 3:return e.next=5,l();case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){(!(arguments.length&gt;0&amp;&amp;void 0!==arguments[0])||arguments[0])&amp;&amp;!confirm(He.ALERTS.RESET_BUILDER)||(Be([]),it({context:ze,entries:[]}))};Mn((function(){if(!Fe||0===Fe.length){var e=localStorage.getItem("mwai_builder_data_v2");if(e){var t=JSON.parse(e);Be(t.entries),t.context&amp;&amp;We(t.context)}}}),[]);var ot=function(e){We(e),function(e){for(var t,n=!1,r=function(){var t=Fe[a];if(t.messages&amp;&amp;t.messages.length&gt;0&amp;&amp;"system"===t.messages[0].role&amp;&amp;t.messages[0].content!==e){if(!n){if(!confirm("The context in your data does not match the one in your entries. Do you want to replace it for every entries?"))return{v:void 0};n=!0}var r=Rn(Fe);r[a].messages[0].content=e,Be((function(){return r}))}},a=0;a&lt;Fe.length;a++)if(t=r())return t.v}(e)},it=function(e){!function(){var e=new Date,t=e.toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});t=t.replace(/\//g,"."),t+="-"+e.getHours().toString().padStart(2,"0")+"."+e.getMinutes().toString().padStart(2,"0"),Qe("MEOW-".concat(t,".jsonl"))}();try{e?localStorage.setItem("mwai_builder_data_v2",JSON.stringify(e)):localStorage.removeItem("mwai_builder_data_v2"),je(!0)}catch(e){localStorage.removeItem("mwai_builder_data_v2"),je(!1)}};Mn((function(){Fe&amp;&amp;(null==Fe?void 0:Fe.length)&gt;0&amp;&amp;it({context:ze,entries:Fe})}),[Fe]),Mn((function(){ze&amp;&amp;(null==ze?void 0:ze.length)&gt;0&amp;&amp;it({context:ze,entries:Fe})}),[ze]);var ct=function(e,t){var n=Rn(Fe);n[e-1].messages.splice(t-1,1),Be(n)},ut=function(e,t,n){var r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:null,a=Fe.map((function(a,o){if(o===e-1){if(r)return Sn(Sn({},a),{},{messages:a.messages.map((function(e,a){return a===r-1?Sn(Sn({},e),{},{role:t,content:n}):e}))});if("assistant"===t)return Sn(Sn({},a),{},{messages:a.messages.map((function(e){return"assistant"===e.role?Sn(Sn({},e),{},{content:n}):e}))});if("user"===t)return Sn(Sn({},a),{},{messages:a.messages.map((function(e){return"user"===e.role?Sn(Sn({},e),{},{content:n}):e}))})}return a}));Be(a)},st=jn((function(){var e=(Me-1)*Le,t=null==Fe?void 0:Fe.slice((Me-1)*Le,(Me-1)*Le+Le);return null==t?void 0:t.map((function(t){var n=++e,r="",a="",o=[];if(Ze)o=t.messages;else{var i=t.messages.find((function(e){return"user"===e.role}));i&amp;&amp;(r=i.content);var l=t.messages.find((function(e){return"assistant"===e.role}));l&amp;&amp;(a=l.content)}return{row:n,messages:React.createElement(Je,{entries:Fe,messages:o,currentRow:n,onUpdateDataRow:ut,onDeleteDataRow:ct}),question:React.createElement(Hn,{data:r,onChange:function(e){return ut(n,"user",e)}},r),answer:React.createElement(Hn,{data:a,onChange:function(e){return ut(n,"assistant",e)}},a),actions:React.createElement(React.Fragment,null,Ze&amp;&amp;React.createElement(E._,{rounded:!0,icon:"plus",onClick:function(){return St(n)}}),React.createElement(E._,{rounded:!0,icon:"trash",onClick:function(){return e=n,t=Fe.filter((function(t,n){return n!==e-1})),Be(t),void(0===t.length&amp;&amp;it({context:ze,entries:[]}));var e,t}}))}}))}),[Fe,Me,Le,Ze,ut,ct]),ft=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/delete"),{method:"POST",nonce:L,json:{envId:ie,fileId:t}});case 4:if(!(n=e.sent).success){e.next=10;break}return e.next=8,$e();case 8:e.next=11;break;case 10:alert(n.message);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 17:x(!1);case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/finetunes/cancel"),{method:"POST",nonce:L,json:{envId:ie,finetuneId:t}});case 4:(n=e.sent).success?nt():alert(n.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=_n(xn().mark((function e(t){return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.prev=3,e.next=6,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=_n(xn().mark((function e(t){var n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.DELETE_FINETUNE)){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/openai/finetunes/delete"),{method:"POST",nonce:L,json:{envId:ie,modelId:t}});case 6:if(!(n=e.sent).success){e.next=12;break}return e.next=10,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 10:e.next=19;break;case 12:if(!(n.message.indexOf("does not exist")&gt;-1)){e.next=18;break}return alert(He.ALERTS.FINETUNE_ALREADY_DELETED),e.next=16,Ce("finetunes_deleted",[].concat(Rn(se),[t]));case 16:e.next=19;break;case 18:alert(n.message);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 25:x(!1);case 26:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=_n(xn().mark((function e(t,n){var r,a,o,i;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/openai/files/download"),{method:"POST",nonce:L,json:{envId:ie,fileId:t}});case 4:(r=e.sent).success?(a=new Blob([r.data],{type:"text/plain"}),o=window.URL.createObjectURL(a),(i=document.createElement("a")).setAttribute("href",o),i.setAttribute("download","".concat(n)),document.body.appendChild(i),i.click(),i.remove()):alert(r.message),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 12:x(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),yt=jn((function(){return null==he?void 0:he.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t=e.id,n=e.filename,r=new Date(1e3*e.created_at),a="fine-tune"===e.purpose;return{status:React.createElement(Un,{status:e.status,includeText:!0}),id:t,filename:n,purpose:e.purpose,filesize:(0,R.td)(e.bytes),createdOn:React.createElement(React.Fragment,null,r.toLocaleDateString(),React.createElement("br",null),r.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,React.createElement(E._,{disabled:!a,icon:"wand",onClick:function(){return g(t)}},"Train Model"),React.createElement(E._,{rounded:!0,icon:"arrow-down",onClick:function(){return ht(t,n)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return ft(t)}}))}}))}),[he]),vt=function(e){return se.includes(e.model)||se.includes(e.id)},gt=function(e){return"failed"===e.status||"cancelled"===e.status},bt=function(e){return!gt(e)&amp;&amp;!vt(e)},Et=jn((function(){if(!fe)return[];var e=fe;return"current"===M?e=e.filter(bt):"deleted"===M?e=e.filter(vt):"failed"===M&amp;&amp;(e=e.filter(gt)),e.map((function(e){var t=new Date(e.createdOn);return Sn(Sn({},e),{},{status:React.createElement(Un,{status:e.status,includeText:!0}),createdOn:React.createElement(React.Fragment,null,t.toLocaleDateString(),React.createElement("br",null),t.toLocaleTimeString()),actions:React.createElement(React.Fragment,null,"succeeded"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return pt(e.model)}}),"cancelled"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return mt(e.id)}}),"failed"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",onClick:function(){return mt(e.id)}}),"pending"===e.status&amp;&amp;React.createElement(E._,{className:"danger",rounded:!0,icon:"close",onClick:function(){return dt(e.id)}}))})}))}),[M,se,fe]),wt=me||w,Rt=function(){var e=_n(xn().mark((function e(){var t,n;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,t=Fe.map((function(e){return JSON.stringify(e)})).join("\n"),e.next=5,(0,R.PV)("".concat(T,"/openai/files/upload"),{method:"POST",nonce:L,json:{envId:ie,filename:Xe,data:t}});case 5:return n=e.sent,e.next=8,$e();case 8:n.success?(at(!1),alert(He.ALERTS.DATASET_UPLOADED),N("files"),j(!0)):alert(n.message),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0),alert(He.ALERTS.CHECK_CONSOLE);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),xt=jn((function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),l=Re(ge);return"".concat(null==l?void 0:l.family,":ft-your-org:").concat(F,"-").concat(t,"-").concat(n&lt;10?"0"+n:n,"-").concat(r&lt;10?"0"+r:r,"-").concat(a&lt;10?"0"+a:a,"-").concat(o&lt;10?"0"+o:o,"-").concat(i&lt;10?"0"+i:i)}),[F,ge]),Ot=function(){var e=_n(xn().mark((function e(t){var n,r;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=xn().mark((function e(){var n,a,o,i,l,c;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),c=!1,o||i||l){e.next=10;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),console.warn(n),e.abrupt("return",1);case 10:a.onload=function(){var e=_n(xn().mark((function e(t){var n,r,a,u;return xn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(t){return console.error(t,e),null}})),r.every((function(e){return e.messages}))||(c=!0)):l&amp;&amp;(u=Mt().parse(n,{header:!0,skipEmptyLines:!0}),r=u.data,console.log("The CSV was loaded!",r),c=!0),c&amp;&amp;(r=r.map((function(e){var t=Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{});c=!0;var n=["prompt","question","q"].find((function(e){return t[e]})),r=["completion","reply","a"].find((function(e){return t[e]})),a=t[n],o=t[r],i=null==o?void 0:o.replace(/\n\n$/g,""),l=null==a?void 0:a.replace(/\n\n###\n\n$/g,"");return a&amp;&amp;o?{messages:[{role:"system",content:ze},{role:"user",content:l.trim()},{role:"assistant",content:i.trim()}]}:null}))),(r=r.filter((function(e){return e}))).every((function(e){return null==e?void 0:e.messages}))){e.next=9;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return");case 9:Be(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 12:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r&lt;t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"user",n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:"Hello!",r=Fe.map((function(r,a){return a===e-1?Sn(Sn({},r),{},{messages:[].concat(Rn(r.messages),[{role:t,content:n}])}):r}));Be(r)},Tt=Pn(null),Nt=null==fe?void 0:fe.filter(bt).length,_t=null==fe?void 0:fe.filter(gt).length,Ct=null==fe?void 0:fe.filter(vt).length,It=jn((function(){return React.createElement(we.N,{scrolldown:!0,value:ie,onChange:le,style:{marginRight:5}},ce.filter((function(e){return"openai"===e.type})).map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})))}),[ie,ce]);return React.createElement(React.Fragment,null,React.createElement(Oe.H,{style:{margin:"10px 10px 25px 10px"},contentStyle:{padding:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(Gt.Q,{style:{marginRight:10},onLabel:He.FINETUNING.DATASET_EDITOR,offLabel:He.FINETUNING.MODELS_DATASETS,width:165,onBackgroundColor:c.purple,offBackgroundColor:c.green,onChange:function(e){j(!e)},checked:!A}),A&amp;&amp;React.createElement(Ft.h,{value:S,busy:wt,onChange:function(e){N(e)}},React.createElement(Ft.S,{title:He.COMMON.MODELS,value:"finetunes",count:null!==(n=null==Et?void 0:Et.length)&amp;&amp;void 0!==n?n:"-"}),React.createElement(Ft.S,{title:He.COMMON.DATASETS,value:"files",count:null!==(r=null==yt?void 0:yt.length)&amp;&amp;void 0!==r?r:"-"})),A&amp;&amp;"finetunes"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),It,React.createElement(E._,{disabled:w,busy:"finetunes"===w,onClick:nt,className:"primary"},He.COMMON.REFRESH_MODELS)),A&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),It,React.createElement(E._,{disabled:w,onClick:et,className:"primary"},"Refresh Datasets")),!A&amp;&amp;React.createElement("div",{style:{display:"flex",alignItems:"center",flex:"auto"}},React.createElement(Ft.h,{value:C,onChange:function(e){I(e)}},React.createElement(Ft.S,{title:He.FINETUNING.ENTRIES_EDITOR,value:"editor",count:null!==(a=null==Fe?void 0:Fe.length)&amp;&amp;void 0!==a?a:null}),React.createElement(Ft.S,{title:He.FINETUNING.ENTRIES_GENERATOR,value:"generator"})),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("label",{style:{marginRight:10}},"Filename:"),React.createElement(Ee.A,{disabled:!Ke||w,value:Ke?Xe:"",onChange:Qe,style:{width:220,marginRight:5}}),It,React.createElement(E._,{disabled:!Ke||w,icon:"upload",onClick:Rt,className:"primary"},"Upload to OpenAI"))))),React.createElement(Oe.H,{style:{margin:10}},A&amp;&amp;"finetunes"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("div",null,(0,R.io)(He.FINETUNING.MODELS_INTRO)),React.createElement(Ft.h,{value:M,onChange:function(e){D(e)}},React.createElement(Ft.S,{title:"Current",value:"current",count:null!=Nt?Nt:"-"}),React.createElement(Ft.S,{title:"Failed",value:"failed",count:null!=_t?_t:"-"}),React.createElement(Ft.S,{title:"Deleted",value:"deleted",count:null!=Ct?Ct:"-"}))),React.createElement(xe.i,null),React.createElement(Bt.a,{busy:wt,data:Et,columns:Bn,emptyMessage:He.FINETUNING.NO_FINETUNES_YET}),React.createElement("div",{style:{marginTop:5,display:"flex",justifyContent:"end",lineHeight:"12px",alignItems:"center"}},React.createElement(E._,{small:!0,disabled:w,busy:"clean"===w,onClick:rt,className:"primary"},He.FINETUNING.CLEAN_MODELS_LIST),React.createElement("small",{style:{marginLeft:5}},He.FINETUNING.DELETED_FINETUNE_ISSUE))),A&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,(0,R.io)(He.FINETUNING.DATASETS_INTRO)),React.createElement(Bt.a,{busy:wt,data:yt,columns:Fn,emptyMessage:React.createElement(React.Fragment,null,"You do not have any dataset files yet.")})),!A&amp;&amp;"generator"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement(En,{options:o,setMessages:Be})),!A&amp;&amp;"editor"===C&amp;&amp;React.createElement(React.Fragment,null,!Ae&amp;&amp;React.createElement("p",{style:{color:Ut.ZP.red}},He.FINETUNING.HUGE_DATASET_WARNING),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{icon:"plus",onClick:function(){return function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:"Question?",t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Answer.";Be([].concat(Rn(Fe),[{messages:[{role:"system",content:ze},{role:"user",content:e},{role:"assistant",content:t}]}]))}()}},"Add Entry"),React.createElement(Gt.Q,{style:{marginLeft:10},onLabel:"Expert",offLabel:"Easy",width:90,onBackgroundColor:c.purple,offBackgroundColor:c.green,onChange:Ve,checked:Ze}),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Ht.b,{ref:Tt,onSelectFiles:Ot,accept:"",style:{paddingLeft:5}},React.createElement(E._,{className:"secondary",onClick:function(){return Tt.current.click()}},"Import")))),!A&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Bt.a,{busy:w,data:st,columns:Ze?Gn:Dn,emptyMessage:React.createElement(React.Fragment,null,"You can import a file, or create manually each entry by clicking ",React.createElement("b",null,"Add"),".")}),React.createElement(xe.i,null),!Ze&amp;&amp;"editor"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(Dt.l,{id:"context",name:"context",rows:2,description:He.FINETUNING.CONTEXT_DESCRIPTION,value:ze,onBlur:ot,onEnter:ot})),React.createElement(xe.i,null)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:!Ke,onClick:at,className:"danger"},"Reset Entries"),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Zt.Q,{currentPage:Me,limit:Le,total:Ke,onCurrentPageChanged:De,onClick:De}),React.createElement(E._,{disabled:!Ke,style:{marginLeft:5},onClick:function(){var e=JSON.stringify(Fe,null,2),t=new Blob([e],{type:"text/plain"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n;var a=new Date,o="".concat(a.getFullYear(),"-").concat(a.getMonth()+1,"-").concat(a.getDate(),"-WP.json");r.download=o,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},"Export as JSON")),React.createElement(xe.i,{height:40,line:!0,style:{marginBottom:0}}),"generator"===C&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:0,marginBottom:25}},"Use this feature with caution. The AI will generate questions and answers for each of your post based on the given prompt, and they will be added to your dataset. Keep in mind that this process may be ",React.createElement("u",null,"extremely slow")," and require a ",React.createElement("u",null,"significant number of API calls"),", resulting in a costs (the tokens count is displayed next to the progress bar). Also, please note that for now, for some reason, the model doesn't seem to provide as many questions as we ask (contrary to ChatGPT)."),"editor"===C&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,"You can create your dataset by importing a file (two columns, in the CSV, JSON or JSONL format) or manually by clicking ",React.createElement("b",null,"Add Entry"),". To avoid losing your work, this data is kept in your browser's local storage. ",React.createElement("b",null,"This is actually complex, so learn how to write datasets by studying ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/conditional-generation",target:"_blank",rel:"noreferrer"},"case studies"),". Please also check my ",React.createElement("a",{href:"https://meowapps.com/wordpress-chatbot-finetuned-model-ai/",target:"_blank",rel:"noreferrer"},"simplified tutorial"),".")," Is your dataset ready? Modify the filename to your liking and click ",React.createElement("b",null,"Upload to OpenAI"),"! 😎"))),React.createElement(Te.L,{isOpen:m,title:"Error",onRequestClose:function(){return p()},okButton:{label:"Ok",onClick:function(){return p()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,null==m?void 0:m.message))}),React.createElement(Te.L,{isOpen:v,title:"Train a new model",onRequestClose:function(){return g()},okButton:{label:"Start",disabled:w,onClick:tt},cancelButton:{label:"Close",disabled:w,onClick:function(){return g()}},content:React.createElement(React.Fragment,null,React.createElement("p",null,"Exciting! 🎵 You are about to create your own new model, based on your dataset. You simply need to select a base model, and optionally, to modify the ",React.createElement("a",{href:"https://beta.openai.com/docs/guides/fine-tuning/hyperparameters",target:"_blank",rel:"noreferrer"},"hyperparameters"),". Before starting the process, make sure that:"),React.createElement("ul",null,React.createElement("li",null,"✅ The dataset is well-defined."),React.createElement("li",null,"✅ You understand ",React.createElement("a",{href:"https://openai.com/api/pricing/#faq-fine-tuning-pricing-calculation",target:"_blank",rel:"noreferrer"},"OpenAI pricing")," about fine-tuning.")),React.createElement("label",null,"Base model:"),React.createElement(xe.i,{height:5}),React.createElement(we.N,{value:ge,scrolldown:!0,onChange:be},Ie.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(xe.i,{height:5}),React.createElement("small",null,"For now, the hyperparameters can't be modified - they are set automatically by OpenAI."),React.createElement(xe.i,{height:10}),React.createElement("label",null,"Suffix (for new model name):"),React.createElement(xe.i,{height:5}),React.createElement(Ee.A,{value:F,onChange:B}),React.createElement(xe.i,{height:5}),React.createElement("small",null,"The name of the new model name will be decided by OpenAI. You can customize it a bit with this ",React.createElement("a",{href:"https://beta.openai.com/docs/api-reference/fine-tunes/list#fine-tunes/create-suffix",target:"_blank",rel:"noreferrer"},"prefix"),". Preview: ",React.createElement("b",null,xt),"."),React.createElement(xe.i,{line:!0,height:20}),React.createElement(h.P,{label:"Enable HyperParams",checked:H,onChange:Z}),H&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Number of Epochs:"),React.createElement(Ee.A,{style:{marginRight:5},value:Y,onChange:z,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Batch Size:"),React.createElement(Ee.A,{value:q,onChange:X,type:"number"})),React.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},React.createElement("label",{style:{marginRight:5}},"Learning Rate Multiplier:"),React.createElement(Ee.A,{style:{marginRight:5},value:K,onChange:J,type:"number"}),React.createElement("label",{style:{marginRight:5}},"Prompt Loss Weight:"),React.createElement(Ee.A,{value:ee,onChange:te,type:"number"}))))})))};var Vn;wp.element.useMemo;var Yn,zn,Wn=G.ZP.div(Vn||(Yn=["\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; width: 100%;\n&nbsp; max-height: 290px;\n&nbsp; overflow: auto;\n&nbsp; box-sizing: border-box;\n&nbsp; padding: 15px;\n\n&nbsp; h3 {\n&nbsp; &nbsp; margin-top: 20px;\n&nbsp; &nbsp; padding-bottom: 5px;\n&nbsp; &nbsp; font-size: 14px;\n&nbsp; &nbsp; border-bottom: 1px solid black;\n&nbsp; }\n\n&nbsp; .description {\n&nbsp; &nbsp; border-radius: 5px;\n\n&nbsp; &nbsp; p {\n&nbsp; &nbsp; &nbsp; small {\n&nbsp; &nbsp; &nbsp; &nbsp; color: var(--neko-blue);\n&nbsp; &nbsp; &nbsp; &nbsp; font-size: 12px;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p:first-child {\n&nbsp; &nbsp; &nbsp; margin-top: 0;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; p:last-child {\n&nbsp; &nbsp; &nbsp; margin-bottom: 0;\n&nbsp; &nbsp; }\n&nbsp; }\n"],zn||(zn=Yn.slice(0)),Vn=Object.freeze(Object.defineProperties(Yn,{raw:{value:Object.freeze(zn)}}))));const qn=function(e){var t,n,r=e.incidents,a=e.isLoading,o=(t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"America/Los_Angeles"})),((t-n)/36e5).toFixed(0));return React.createElement(Wn,null,React.createElement(d.O,null,"Only the incidents which occured ",React.createElement("b",null,"less than a week ago")," are displayed. The time difference between the PST time used by OpenAI and your local time is ",o," hours."),!a&amp;&amp;null==r&amp;&amp;React.createElement("p",null,React.createElement("i",null,"Could not load the incidents.")),!a&amp;&amp;0===(null==r?void 0:r.length)&amp;&amp;React.createElement("p",null,React.createElement("i",null,"Currently no incidents.")),r&amp;&amp;r.map((function(e){return React.createElement("div",{key:e.guid},React.createElement("h3",null,e.date,": ",e.title),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description}}))})))};function Xn(e){return Xn="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Xn(e)}function Qn(){Qn=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Xn(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Xn(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Kn(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var er=wp.element,tr=er.useState;er.useEffect,er.useMemo;const nr=function(e){var t=e.options,n=e.updateOption,r=e.busy,a=Jn(tr("I would love to live on a tropical island with beautiful and sexy felines, where we could bask in the sun on the sandy beaches, sip on refreshing coconut milk, and enjoy each other's company. While we might occasionally fight in the trees, our days would mostly be spent in peaceful slumber. However, I am not sure of how we would handle any potential disruptions to our idyllic existence if human were to come..."),2),o=a[0],i=a[1],l=Jn(tr([]),2),c=l[0],u=l[1],s=Jn(tr(""),2),f=(s[0],s[1]),d=Jn(tr(!1),2),p=d[0],y=d[1],v=null==t?void 0:t.shortcode_chat_moderation,b=p||r,x=function(){var e,t=(e=Qn().mark((function e(){var t,n;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,(0,R.PV)("".concat(T,"/ai/moderate"),{method:"POST",nonce:L,json:{text:o}});case 3:(t=e.sent).success?(n=t.results,u(null==n?void 0:n.results)):f(t.message),y(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Kn(o,r,a,i,l,"next",e)}function l(e){Kn(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=React.createElement(m.r,{title:He.COMMON.CHATBOT},React.createElement(h.P,{name:"shortcode_chat_moderation",label:He.COMMON.ENABLE,value:"1",checked:v,description:He.SETTINGS.CHATBOT_MODERATION_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:He.COMMON.SETTINGS,className:"primary"},React.createElement("p",null,"You can enable moderation various parts of WordPress. It will slow down the processing a little."),O)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:b,title:"AI Moderation Tester",className:"primary"},React.createElement("p",null,"Paste a text below, and check if it is safe for your website. ",React.createElement("b",null,"OpenAI Moderation Model is free!")," Learn more about it ",React.createElement("a",{href:"https://platform.openai.com/docs/guides/moderation/overview",target:"_blank"},"here"),"."),React.createElement(Dt.l,{name:"context",rows:8,value:o,onChange:i}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,onClick:x},"Moderation Check"),React.createElement(xe.i,null),React.createElement("label",null,"Results:"),React.createElement("pre",null,JSON.stringify(c,null,2))))))};var rr=n(5231);function ar(e){return ar="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ar(e)}function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ar(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ar(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lr(){lr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ar(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ar(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function cr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cr(o,r,a,i,l,"next",e)}function l(e){cr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function sr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var fr=wp.element,dr=fr.useState,mr=fr.useEffect,pr=fr.useMemo;const hr=function(e){var t,n,r=e.modal,a=e.busy,o=e.setModal,i=e.onAddEmbedding,l=e.onModifyEmbedding,c=(t=dr(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return sr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=a;mr((function(){"edit"!==(null==r?void 0:r.type)&amp;&amp;"add"!==(null==r?void 0:r.type)||s((null==r?void 0:r.data)||{})}),[r]);var d=pr((function(){var e,t,n,a,o;return null==r||!r.data||(null==r||null===(e=r.data)||void 0===e?void 0:e.title)!==(null==u?void 0:u.title)||(null==r||null===(t=r.data)||void 0===t?void 0:t.content)!==(null==u?void 0:u.content)||(null==r||null===(n=r.data)||void 0===n?void 0:n.behavior)!==(null==u?void 0:u.behavior)||(null==r||null===(a=r.data)||void 0===a?void 0:a.type)!==(null==u?void 0:u.type)||(null==r||null===(o=r.data)||void 0===o?void 0:o.refId)!==(null==u?void 0:u.refId)})),m=function(){var e=ur(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=ur(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(u);case 3:o(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"edit"===(null==r?void 0:r.type)||"add"===(null==r?void 0:r.type),title:"edit"===(null==r?void 0:r.type)?He.COMMON.MODIFY_EMBEDDING:He.COMMON.ADD_EMBEDDING,okButton:{label:"edit"===(null==r?void 0:r.type)?He.COMMON.MODIFY_EMBEDDING:He.COMMON.ADD_EMBEDDING,disabled:!d||a,isBusy:"addEmbedding"===a,onClick:function(){"edit"===r.type?m():p()}},cancelButton:{disabled:a,onClick:function(){return o(null)}},onRequestClose:function(){return o(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,"A custom embedding can be a sentence, a paragraph or a whole article. When an user input is made, the AI will search for the best embedding that matches the user input and will be able to reply with more accuracy."),React.createElement(xe.i,null),React.createElement("label",null,"Title:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.A,{value:null==u?void 0:u.title,placeholder:'Title, like "My Website Information"',description:"This is for your convenience only, it's not used anywhere.",onChange:function(e){return s(ir(ir({},u),{},{title:e}))}}),React.createElement(xe.i,null),React.createElement("label",null,"Content:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{countable:"chars",maxLength:64e3,description:"The content of your embeddings that will be used by the AI if it matches the user input.",value:null==u?void 0:u.content,onChange:function(e){return s(ir(ir({},u),{},{content:e}))}}),React.createElement(xe.i,null),React.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},React.createElement("div",{style:{flex:3}},React.createElement("label",null,"Behavior:"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"behavior",disabled:f||!0,value:null==u?void 0:u.behavior,onChange:function(e){s(ir(ir({},u),{},{behavior:e}))}},React.createElement(we.Z,{value:"context",label:"Context"}),React.createElement(we.Z,{value:"reply",label:"Reply"}))),React.createElement("div",{style:{flex:3,marginLeft:5}},React.createElement("label",null,"Type:"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"type",disabled:f||!0,value:null==u?void 0:u.type,onChange:function(e){s(ir(ir({},u),{},{type:e}))}},React.createElement(we.Z,{value:"manual",label:"Manual"}),React.createElement(we.Z,{value:"postId",label:"Related to Post"}))),"postId"===(null==u?void 0:u.type)&amp;&amp;React.createElement("div",{style:{flex:1,marginLeft:5}},React.createElement("label",null,"Post ID:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Ee.A,{value:null==u?void 0:u.refId,disabled:!0,onChange:function(e){return s(ir(ir({},u),{},{refId:e}))}}))))}))};function yr(e){return yr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},yr(e)}function vr(){vr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==yr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(yr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function gr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function br(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){gr(o,r,a,i,l,"next",e)}function l(e){gr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Rr=wp.element.useState;function xr(e,t){var n=new Blob([e],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}const Or=function(e){var t=e.modal,n=e.setModal,r=Er(Rr(!1),2),a=r[0],o=r[1],i=Er(Rr(0),2),l=i[0],c=i[1],u=Er(Rr(0),2),s=u[0],f=u[1],d=null==t?void 0:t.data,m=function(){var e=br(vr().mark((function e(){var t,n,r,a,i,l;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=JSON.stringify(t,null,2),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),xr(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".json")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=br(vr().mark((function e(){var t,n,r,a,i,l;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,h();case 4:t=e.sent,n=Mt().unparse(t),r=new Date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),xr(n,"vectors-".concat(a,"-").concat(i,"-").concat(l,".csv")),setTimeout((function(){c(0)}),1e3),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),alert("An error occured while exporting vectors. Check your console.");case 18:return e.prev=18,o(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=br(vr().mark((function e(){var t,n,r,a;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,n={page:1,limit:20,filters:{envId:d.envId,dbIndex:d.dbIndex,dbNS:d.dbNS}},r=[],a=vr().mark((function e(){var a;return vr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(n);case 2:(a=e.sent).vectors.length&lt;2&amp;&amp;(t=!0),c((function(){return a.total})),r=r.concat(a.vectors),f((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 4:if(t){e.next=8;break}return e.delegateYield(a(),"t0",6);case 6:e.next=4;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"export"===(null==t?void 0:t.type),title:"Export Embeddings",onRequestClose:function(){return n(null)},okButton:{label:"Close",disabled:"addEmbedding"===a,onClick:function(){return n(null)}},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:p,disabled:a},"Export CSV"),React.createElement(E._,{onClick:m,disabled:a},"Export JSON")),content:React.createElement(React.Fragment,null,React.createElement(Vt.U,{busy:a,style:{flex:"auto"},value:s,max:l}))}))};function Sr(e){return Sr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Sr(e)}function Tr(){Tr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Sr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Sr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Sr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sr(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cr(e,t){var n="undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ar(e))||t&amp;&amp;e&amp;&amp;"number"==typeof e.length){n&amp;&amp;(e=n);var r=0,a=function(){};return{s:a,n:function(){return r&gt;=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Ir(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Lr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ir(o,r,a,i,l,"next",e)}function l(e){Ir(o,r,a,i,l,"throw",e)}i(void 0)}))}}function kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Ar(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pr=wp.element.useState;const Mr=function(e){var t,n,r=e.modal,a=e.setModal,o=e.onAddEmbedding,i=e.onModifyEmbedding,l=kr(Pr(!1),2),c=l[0],u=l[1],s=kr(Pr(0),2),f=s[0],d=s[1],m=kr(Pr(0),2),p=m[0],y=m[1],v=kr(Pr({add:[],modify:[],same:[],total:0,isReady:!1}),2),g=v[0],b=v[1],w=null!==(t=null==r||null===(n=r.data)||void 0===n?void 0:n.importVectors)&amp;&amp;void 0!==t?t:[],R=kr(Pr({envId:!1,dbId:!1,dbIndex:!1,dbNS:!1,title:!0,refId:!0}),2),x=R[0],O=R[1],S=null==r?void 0:r.data,T=function(e){var t,n,r,a,o,i,l,c,u,s;return{id:null!==(t=e.id)&amp;&amp;void 0!==t?t:null,type:null!==(n=e.type)&amp;&amp;void 0!==n?n:"manual",title:null!==(r=e.title)&amp;&amp;void 0!==r?r:"N/A",behavior:null!==(a=e.behavior)&amp;&amp;void 0!==a?a:"context",envId:null!==(o=null==S?void 0:S.envId)&amp;&amp;void 0!==o?o:null,dbId:null!==(i=e.dbId)&amp;&amp;void 0!==i?i:null,dbIndex:null!==(l=S.dbIndex)&amp;&amp;void 0!==l?l:null,dbNS:null!==(c=S.dbNS)&amp;&amp;void 0!==c?c:null,content:null!==(u=e.content)&amp;&amp;void 0!==u?u:"",refId:null!==(s=e.refId)&amp;&amp;void 0!==s?s:null}},N=function(e,t,n){return Object.keys(n).every((function(r){return!n[r]||e[r]===t[r]}))},_=function(){var e=Lr(Tr().mark((function e(t,n){var r,a,o,i,l,c,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=[],o=[],console.log("Calculate Diff",{currentVectors:t,importVectors:n}),i=Cr(n),e.prev=5,c=Tr().mark((function e(){var n,i,c,u;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.value,i=T(n),c=t.find((function(e){return N(e,i,x)})),console.log("Matched Vector",{cleanVector:_r({},i),matchedVector:_r({},c)}),c?i.id=c.id:delete i.id,(u=t.find((function(e){return e.id===i.id})))&amp;&amp;i.content===u.content&amp;&amp;i.title===u.title?o.push(i):i.id?a.push(i):r.push(i);case 7:case"end":return e.stop()}}),e)})),i.s();case 8:if((l=i.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),i.e(e.t1);case 17:return e.prev=17,i.f(),e.finish(17);case 20:u=r.length+a.length,b({add:r,modify:a,same:o,total:u,isReady:!0}),console.log("Embeddings Diff",{add:r,modify:a,same:o,total:u});case 23:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Lr(Tr().mark((function e(){var t,n,r,a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=!1,n={page:1,limit:20,filters:{envId:S.envId,dbIndex:S.dbIndex,dbNS:S.dbNS}},r=[],u("stepOne"),a=Tr().mark((function e(){var a;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(n);case 2:(a=e.sent).vectors.length&lt;2&amp;&amp;(t=!0),d((function(){return a.total})),r=r.concat(a.vectors),y((function(){return r.length})),n.page++;case 8:case"end":return e.stop()}}),e)}));case 6:if(t){e.next=10;break}return e.delegateYield(a(),"t0",8);case 8:e.next=6;break;case 10:_(r,w),e.next=17;break;case 13:e.prev=13,e.t1=e.catch(0),console.error(e.t1),alert("An error occured while retrieving your current embeddings. Check your console.");case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Lr(Tr().mark((function e(){var t,n,r,a,l,c;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,d(g.add.length+g.modify.length),y(0),u("stepTwo"),t=Cr(g.add),e.prev=5,t.s();case 7:if((n=t.n()).done){e.next=14;break}return r=n.value,e.next=11,o(r,!0);case 11:y((function(e){return e+1}));case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:a=Cr(g.modify),e.prev=23,a.s();case 25:if((l=a.n()).done){e.next=32;break}return c=l.value,e.next=29,i(c,!0);case 29:y((function(e){return e+1}));case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(23),a.e(e.t1);case 37:return e.prev=37,a.f(),e.finish(37);case 40:alert("All embeddings have been updated."),b({add:[],modify:[],same:[],total:0,isReady:!1}),L(),e.next=49;break;case 45:e.prev=45,e.t2=e.catch(0),console.error(e.t2),alert("An error occured while updating embeddings. Check your console.");case 49:return e.prev=49,u(!1),e.finish(49);case 52:case"end":return e.stop()}}),e,null,[[0,45,49,52],[5,16,19,22],[23,34,37,40]])})));return function(){return e.apply(this,arguments)}}(),L=function(){a(null),u(!1),d(0),y(0),b({add:[],modify:[],same:[],total:0,isReady:!1})};return React.createElement(React.Fragment,null,React.createElement(Te.L,{isOpen:"import"===(null==r?void 0:r.type),title:"Import Embeddings",onRequestClose:L,okButton:{label:"Close",onClick:L,disabled:c},customButtons:React.createElement(React.Fragment,null,React.createElement(E._,{onClick:C,disabled:c},"Check Differences"),React.createElement(E._,{onClick:I,disabled:c||0===g.total},"Apply Changes")),content:React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",React.createElement("b",null,w.length," embeddings")," in the file."),React.createElement(xe.i,null),React.createElement(Se.L,{title:"1 - Check Differences"}),React.createElement("p",null,"Calculates the differences between the embeddings in your file and the ones currently registered in AI Engine. Based on that, a list of changes will be created. Please note that the environment, index and namespace that might be set in the file will be ignored."),React.createElement("p",{style:{marginTop:10}},"An embedding will be considered the same entry based on:"),React.createElement(xe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"DB ID",disabled:!1,checked:x.dbId,onChange:function(){return O(_r(_r({},x),{},{dbId:!x.dbId}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Title",disabled:!1,checked:x.title,onChange:function(){return O(_r(_r({},x),{},{title:!x.title}))}})),React.createElement("div",{style:{marginLeft:15}},React.createElement(h.P,{small:!0,label:"Ref (Post ID)",disabled:!1,checked:x.refId,onChange:function(){return O(_r(_r({},x),{},{refId:!x.refId}))}}))),"stepOne"===c&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Vt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(xe.i,null),React.createElement(Se.L,{title:"2 - Apply Changes"}),!g.isReady&amp;&amp;React.createElement("i",null,"Waiting for diff..."),g.isReady&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,"There are ",g.same.length&gt;=1&amp;&amp;React.createElement("span",null,React.createElement("b",null,g.same.length," identical embeddings")," (with the same title and content). They will be ignored. "),React.createElement("span",null,"Changes to apply:")),React.createElement("ul",null,React.createElement("li",null,"👉 Add: ",React.createElement("b",null,g.add.length)),React.createElement("li",null,"👉 Modify: ",React.createElement("b",null,g.modify.length)))),"stepTwo"===c&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Vt.U,{busy:c,style:{flex:"auto"},value:p,max:f})),React.createElement(xe.i,null))}))};function Dr(e){return Dr="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Dr(e)}function Gr(e){return function(e){if(Array.isArray(e))return zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(){Fr=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Dr(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Dr(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Dr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Dr(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hr(o,r,a,i,l,"next",e)}function l(e){Hr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Yr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){if(e){if("string"==typeof e)return zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zr(e,t):void 0}}function zr(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Wr=wp.element,qr=Wr.useState,Xr=Wr.useMemo,Qr=Wr.useEffect,Kr=Wr.useRef,Jr=[{accessor:"status",title:"Status",width:"80px"},{accessor:"title",title:"Title / Model",sortable:!1},{accessor:"type",title:"Ref",sortable:!1,width:"60px"},{accessor:"score",title:"Score",sortable:!0,width:"65px"},{accessor:"updated",title:"Updated",sortable:!1,width:"80px"},{accessor:"actions",title:"",width:"100px"}],$r=[{accessor:"status",title:"Status",sortable:!0,width:"80px"},{accessor:"title",title:"Title / Model",sortable:!1},{accessor:"type",title:"Ref",sortable:!0,width:"60px"},{accessor:"updated",title:"Updated",sortable:!0,width:"80px"},{accessor:"actions",title:"",width:"100px"}],ea=function(e){var t=e.id,n=e.status,r=e.includeText,a=void 0!==r&amp;&amp;r,o=e.title,i=void 0===o?null:o,l=(0,s.r)().colors,c=null;switch(n){case"outdated":default:c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.orange});break;case"ok":c=React.createElement(Re.J,{title:t||n,icon:"check-circle",width:24,color:l.green});break;case"error":c=React.createElement(Re.J,{title:i||n,icon:"alert",width:24,color:l.red})}return a?React.createElement("div",{style:{display:"flex",alignItems:"center"},title:i||n},c,React.createElement("span",{style:{textTransform:"uppercase",fontSize:9,marginLeft:3}},n)):c},ta=function(e){var t={environmentId:e.environmentId||null,index:e.index||null,namespace:e.namespace||null};localStorage.setItem("mwai-admin-embeddings",JSON.stringify(t))};const na=function(e){var t,n,r=e.options,a=e.updateEnvironment,o=e.updateOption,i=(0,u.NL)(),l=(0,s.r)().colors,c=Vr(qr("post"),2),f=c[0],d=c[1],m=Vr(qr(!1),2),p=m[0],y=m[1],v=Vr(qr("edit"),2),x=v[0],O=v[1],S=Vr(qr(null),2),N=S[0],_=S[1],C=Vr(qr(!1),2),I=C[0],k=C[1],A=Vr(qr(!1),2),j=A[0],P=A[1],M=Vr(qr([]),2),D=M[0],G=M[1],F=Vr(qr({type:null,data:null}),2),B=F[0],U=F[1],H=r.embeddings||{},Z=(null==H?void 0:H.minScore)&gt;0?H.minScore:35,V=(null==H?void 0:H.maxSelect)&gt;0?H.maxSelect:10,Y=Kr(null),z=lt(r),W=lt(r,!1,!0),q=Xr((function(){return z.getModel(r.ai_default_model)}),[r.ai_default_model]),X=(null!==(t=null==q?void 0:q.model)&amp;&amp;void 0!==t?t:null==r?void 0:r.fallback_model,null==q?void 0:q.maxTokens,r.embeddings_envs||[]),Q=Vr(qr(null),2),K=Q[0],J=Q[1],$=Vr(qr(null),2),ee=$[0],te=$[1],ne=Vr(qr(null),2),re=ne[0],ae=ne[1],oe=Xr((function(){return X.find((function(e){return e.id===K}))||null}),[X,K]),ie=Xr((function(){return(null==oe?void 0:oe.indexes)||[]}),[oe]),le=Xr((function(){return(null==oe?void 0:oe.namespaces)||[]}),[oe]);Qr((function(){var e,t,n,r=function(){var e=localStorage.getItem("mwai-admin-embeddings");try{return JSON.parse(e)}catch(e){return{}}}(),a=null!==(e=null==r?void 0:r.environmentId)&amp;&amp;void 0!==e?e:null,o=null!==(t=null==r?void 0:r.index)&amp;&amp;void 0!==t?t:null,i=null!==(n=null==r?void 0:r.namespace)&amp;&amp;void 0!==n?n:null;J(a),te(o),ae(i)}),[]),Qr((function(){ta({environmentId:K,index:ee,namespace:re})}),[K,ee,re]);var ce=Xr((function(){return null!=oe&amp;&amp;oe.ai_embeddings_override&amp;&amp;null!=oe&amp;&amp;oe.ai_embeddings_env&amp;&amp;null!=oe&amp;&amp;oe.ai_embeddings_model?W.getModel(oe.ai_embeddings_model):W.getModel(r.ai_embeddings_default_model)}),[oe,H.model]),ue=Xr((function(){var e=ie.find((function(e){return(null==e?void 0:e.name)===ee}))||null;return!(null==e||!e.ready)}),[ie,ee]),se=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),fe=se.isLoading,de=se.data,me=(0,Ne.a)({queryKey:[null!==(n="postsCount-"+f+"-"+(null==H?void 0:H.syncPostStatus))&amp;&amp;void 0!==n?n:"publish"],queryFn:function(){var e;return ft(f,null!==(e=null==H?void 0:H.syncPostStatus)&amp;&amp;void 0!==e?e:"publish")}}),pe=me.isLoading,he=me.data,ye=Vr(qr({filters:{envId:K,dbIndex:ee,dbNS:re,search:N},sort:{accessor:"created",by:"desc"},page:1,limit:20}),2),ve=ye[0],ge=ye[1],be=(0,Ne.a)({queryKey:["vectors",ve],queryFn:function(){return st(ve)},keepPreviousData:!0}),Re=be.isFetching,Oe=be.data,Se=Re||"searchVectors"===p,Ce="search"===x?Jr:$r,Ie=(0,Yt.qj)({i18n:He,onStop:function(){y(),Ie.reset()}}),Le=p||Se||Ie.isBusy||fe,ke=function(){var e=Zr(Fr().mark((function e(t){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("updateSettings"),e.next=3,o(Ur({},t),"embeddings");case 3:y(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=Xr((function(){var e,t=null!==(e=H.syncPostsEnv)&amp;&amp;void 0!==e?e:{};return t.envId!==K||t.dbIndex!==ee||t.dbNS!==re})),je=Xr((function(){var e,t,n=null!==(e=H.syncPostsEnv)&amp;&amp;void 0!==e?e:{},r=X.find((function(e){return e.id===n.envId}))||null;return null!==(t=null==r?void 0:r.name)&amp;&amp;void 0!==t?t:null}));Qr((function(){"gcp-starter"!==(null==oe?void 0:oe.server)&amp;&amp;ee||!re?(ge(Ur(Ur({},ve),{},{filters:{envId:K,dbIndex:null!=ee?ee:null,dbNS:null!=re?re:null,search:N}})),ta({environmentId:K,index:ee,namespace:re})):ae(null)}),[ee,re]),Qr((function(){var e="edit"===x?null:"";_("edit"===x?null:""),ge(Ur(Ur({},ve),{},{filters:Ur(Ur({},ve.filters),{},{search:e}),sort:{accessor:"edit"===x?"created":"score",by:"desc"},page:1,limit:20}))}),[x]),Qr((function(){var e,t;null!=H&amp;&amp;null!==(e=H.syncPostTypes)&amp;&amp;void 0!==e&amp;&amp;e.length&amp;&amp;null!=H&amp;&amp;null!==(t=H.syncPostStatus)&amp;&amp;void 0!==t&amp;&amp;t.length||ke(Ur(Ur({},H),{},{syncPostTypes:["post","page","product"],syncPostStatus:["publish"]}))}),[H.syncPostTypes]);var Pe=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("addIndex"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/add"),{nonce:L,method:"POST",json:{envId:oe.id,name:j.name,podType:j.podType}});case 4:return t=e.sent,e.next=7,a(oe.id,{indexes:t.indexes});case 7:P(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 14:y(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm('Are you sure you want to delete the index "'.concat(ee,'"? All the related embeddings will be deleted as well.'))){e.next=2;break}return e.abrupt("return");case 2:return y("deleteIndex"),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/indexes/delete"),{nonce:L,method:"POST",json:{envId:oe.id,name:ee}});case 6:return t=e.sent,e.next=9,a(oe.id,{index:null,indexes:t.indexes});case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0),alert(e.t0.message);case 15:y(!1);case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Zr(Fr().mark((function e(){var t;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("refreshIndexes"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/indexes/list"),{nonce:L,method:"POST",json:{envId:oe.id}});case 4:return t=e.sent,e.next=7,a(oe.id,{indexes:t.indexes});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),alert(e.t0.message);case 13:y(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N!==ve.filters.search){e.next=3;break}return i.invalidateQueries({queryKey:["vectors"]}),e.abrupt("return");case 3:ge(Ur(Ur({},ve),{},{filters:Ur(Ur({},ve.filters),{},{search:N})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(""),ge(Ur(Ur({},ve),{},{filters:Ur(Ur({},ve.filters),{},{search:""})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]?o[0]:I,(n=o.length&gt;1&amp;&amp;void 0!==o[1]&amp;&amp;o[1])||y("addEmbedding"),e.prev=3,(r=Ur({},t)).envId||(r.envId=oe.id),r.dbIndex||(r.dbIndex=ee),r.dbNS||(r.dbNS=re),e.next=10,(0,R.PV)("".concat(T,"/vectors/add"),{nonce:L,method:"POST",json:{vector:r}});case 10:k(!1),console.log("Embedding Added",t),i.invalidateQueries({queryKey:["vectors"]}),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&amp;&amp;void 0!==a?a:"Unknown error, check your console logs.");case 19:return e.prev=19,n||y(!1),e.finish(19);case 22:return e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]?o[0]:I,(n=o.length&gt;1?o[1]:void 0)||y("addEmbedding"),e.prev=3,(r=Ur({},t)).envId||(r.envId=oe.id),r.dbIndex||(r.dbIndex=ee),r.dbNS||(r.dbNS=re),r.envId=oe.id,e.next=11,(0,R.PV)("".concat(T,"/vectors/update"),{nonce:L,method:"POST",json:{vector:r}});case 11:k(!1),console.log("Embeddings updated.",t),i.invalidateQueries({queryKey:["vectors"]}),e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),console.error(e.t0),new Error(null!==(a=e.t0.message)&amp;&amp;void 0!==a?a:"Unknown error, check your console logs.");case 20:return e.prev=20,n||y(!1),e.finish(20);case 23:return e.abrupt("return",!0);case 24:case"end":return e.stop()}}),e,null,[[3,16,20,23]])})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Zr(Fr().mark((function e(t,n){var r;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||y("deleteEmbedding"),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:L,method:"POST",json:{envId:oe.id,index:ee,ids:t}});case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),console.error(e.t0),confirm("Got an error from the vector database:\n\n".concat(e.t0.message,"\n\nDo you want to force the deletion locally?"))){e.next=11;break}throw new Error(null!==(r=e.t0.message)&amp;&amp;void 0!==r?r:"Unknown error, check your console logs.");case 11:return e.next=13,(0,R.PV)("".concat(T,"/vectors/delete"),{nonce:L,method:"POST",json:{envId:oe.id,index:ee,ids:t,force:!0}});case 13:return e.prev=13,n||y(!1),e.finish(13);case 16:console.log("Embeddings deleted.",{ids:t}),i.invalidateQueries({queryKey:["vectors"]}),"search"===x&amp;&amp;console.error("We should update the vectors data with the deleted embeddings.");case 19:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),Ve=function(){var e=Zr(Fr().mark((function e(t){var n,r;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fr().mark((function e(){var n,a,o,i,l;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[r],a=new FileReader,o=n.name.endsWith(".json"),i=n.name.endsWith(".jsonl"),l=n.name.endsWith(".csv"),o||i||l){e.next=8;break}return alert(He.ALERTS.ONLY_SUPPORTS_FILES),e.abrupt("return",1);case 8:a.onload=function(){var e=Zr(Fr().mark((function e(t){var n,r,a,c,u,s,f;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,r=[],o?r=JSON.parse(n):i?(a=n.split("\n"),r=a.map((function(e){e=e.trim();try{return JSON.parse(e)}catch(e){return console.error(e),null}}))):l&amp;&amp;(c=Mt().parse(n,{header:!0,skipEmptyLines:!0}),r=c.data,console.log("The CSV for Embeddings Import was loaded.",r)),s=(u=r).filter((function(e){return e.title&amp;&amp;e.content})),u.length!==s.length&amp;&amp;(alert(He.ALERTS.EMPTY_LINES_EMBEDDINGS),f=u.find((function(e){return!e.prompt||!e.completion})),console.warn("Empty line: ",f)),U({type:"import",data:{importVectors:s,envId:K,dbIndex:ee,dbNS:re}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(n);case 10:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r&lt;t.length)){e.next=9;break}return e.delegateYield(n(),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:r++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Zr(Fr().mark((function e(){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete the selected embeddings?")){e.next=2;break}return e.abrupt("return");case 2:return y("deleteEmbeddings"),e.next=5,Ze(D);case 5:G([]),y(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=Xr((function(){return(null==Oe?void 0:Oe.total)||0}),[Oe]),We=Xr((function(){var e=Oe;return null!=e&amp;&amp;e.vectors?null==e?void 0:e.vectors.map((function(e){var t,n,r=new Date(e.updated),a=(r=new Date(r.getTime()-60*r.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),o=new Date(e.created),i=(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),c=e.score?React.createElement("span",{style:{color:e.score&gt;Z/100?"var(--neko-green)":"inherit"}},(100*e.score.toFixed(4)).toFixed(2)):"-",u=null;e.subType&amp;&amp;"string"==typeof e.subType&amp;&amp;(u=e.subType.toUpperCase());var s=null!==(t=null===(n=W.getModel(e.model))||void 0===n?void 0:n.name)&amp;&amp;void 0!==t?t:e.model;return{id:e.id,type:React.createElement("small",null,e.refId?React.createElement(React.Fragment,null,"ID ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(e.refId,"&amp;action=edit"),target:"_blank",rel:"noreferrer"},"#",e.refId),React.createElement("br",null),React.createElement("div",{style:{fontSize:"80%",marginTop:-5}},u)):"MANUAL"),score:c,title:React.createElement(React.Fragment,null,React.createElement("span",null,e.title),React.createElement("br",null),React.createElement("small",{style:{color:e.model===(null==ce?void 0:ce.model)?l.black:l.red}},s,e.envId!==K&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{style:{color:"red"}}," (Wrong EnvID: ",e.envId,")")))),status:React.createElement(ea,{id:e.id,status:e.status,title:e.error||null,includeText:!0}),updated:a,created:i,actions:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",rounded:!0,icon:"pencil",disabled:Le,onClick:function(){return U({type:"edit",data:e})}}),React.createElement(E._,{className:"primary",rounded:!0,icon:"replay",disabled:Le||!e.refId||"ok"===e.status,onClick:function(){return qe(e.id)}}),React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",disabled:Le,onClick:function(){return Ze([e.id])}}))}})):[]}),[x,Oe,Le]),qe=function(){var e=Zr(Fr().mark((function e(t){return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y("syncEmbedding"),e.next=3,Qe(t);case 3:y(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xe=function(e){var t=i.getQueryData(["vectors",ve]);if(t&amp;&amp;t.vectors){var n=!1,r=t.vectors.map((function(t){return t.refId===e.refId||t.id===e.id?(n=!0,Ur(Ur({},t),e)):t}));n||(r=[e].concat(Gr(r)));var a=Ur(Ur({},t),{},{vectors:r});i.setQueryData(["vectors",ve],a)}},Qe=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length&gt;0&amp;&amp;void 0!==o[0]?o[0]:null,n=o.length&gt;1&amp;&amp;void 0!==o[1]?o[1]:null,r=o.length&gt;2&amp;&amp;void 0!==o[2]?o[2]:void 0,e.next=5,pt({vectorId:t,postId:n},r);case 5:(a=e.sent).success&amp;&amp;Xe(a.vector);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o,l,c,u;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y("bulkPullAll"),t={page:1,limit:1e4,filters:{envId:K,dbIndex:ee,dbNS:re}},n=[],r=[],a=!1;case 5:if(a){e.next=14;break}return e.next=8,ct(t);case 8:(o=e.sent).vectors.length&lt;t.limit&amp;&amp;(a=!0),n=n.concat(o.vectors),t.page++,e.next=5;break;case 14:console.log("Remote vectors retrieved.",{remoteVectors:n}),a=!1,t.limit=20,t.page=0;case 18:if(a){e.next=27;break}return e.next=21,st(t);case 21:(l=e.sent).vectors.length&lt;t.limit&amp;&amp;(a=!0),r=r.concat(l.vectors),t.page++,e.next=18;break;case 27:if(r=r.map((function(e){return e.dbId})),console.log("Local vectors retrieved.",{vectors:r}),c=n.filter((function(e){return!r.includes(e)})),console.log("Vectors to pull from Vector DB to AI Engine.",{vectorsToPull:c}),c.length){e.next=35;break}return y(!1),alert("".concat(n.length," vectors were pulled from the remote database. They are already synchronized with the local database.")),e.abrupt("return");case 35:return u=c.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ut({envId:K,dbIndex:ee,dbNS:re,dbId:e},n);case 2:return t.next=4,i.invalidateQueries({queryKey:["vectors"]});case 4:return t.abrupt("return",{success:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=38,Ie.start(u);case 38:y(!1),alert("All done! For more information, check the console (Chrome Developer Tools)."),Ie.reset();case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Zr(Fr().mark((function e(){var t,n,r,a,o=arguments;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length&gt;0&amp;&amp;void 0!==o[0]&amp;&amp;o[0],y("bulkPushAll"),n=[],!t&amp;&amp;0!==D.length){e.next=10;break}return e.next=6,dt(f,H.syncPostStatus);case 6:r=e.sent,n=r.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe(null,e,n);case 2:return t.abrupt("return",{success:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=12;break;case 10:a=Oe.vectors.filter((function(e){return D.includes(e.id)})),n=a.map((function(e){return function(){var t=Zr(Fr().mark((function t(n){return Fr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("postId"!==e.type){t.next=5;break}return t.next=3,Qe(e.id,null,n);case 3:t.next=8;break;case 5:if("manual"!==e.type){t.next=8;break}return t.next=8,Ue(e,n);case 8:return t.abrupt("return",{success:!0});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}));case 12:return e.next=14,Ie.start(n);case 14:y(!1),alert("All done! For more information, check the console (Chrome Developer Tools). Posts with very short content (or content that could not be retrieved) are skipped."),Ie.reset();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Zr(Fr().mark((function e(){var t,n;return Fr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID to synchronize with:")){e.next=3;break}return e.abrupt("return");case 3:return y("singleRun"),e.prev=4,e.next=7,Qe(null,t);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),console.error(e.t0),alert(null!==(n=null===e.t0||void 0===e.t0?void 0:e.t0.message)&amp;&amp;void 0!==n?n:e.t0);case 13:y(!1);case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),et=Xr((function(){var e;return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"flex"}},React.createElement(we.N,{scrolldown:!0,name:"environment",style:{flex:1,marginBottom:5},disabled:Le,value:null!==(e=null==oe?void 0:oe.id)&amp;&amp;void 0!==e?e:null,onChange:function(e){J(e),te(null),ae(null)}},X.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),!(null!=X&amp;&amp;X.length)&amp;&amp;React.createElement(we.Z,{value:null,label:"None"}))),React.createElement("div",{style:{display:"flex"}},React.createElement(we.N,{scrolldown:!0,name:"index",description:He.COMMON.EMBEDDINGS_ENV+" / "+He.COMMON.EMBEDDINGS_INDEX,style:{flex:1.5},disabled:Le,value:null!=ee?ee:null,onChange:function(e){return te(e)}},ie.map((function(e){return React.createElement(we.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(we.Z,{value:null,label:"None"})),"pinecone"===(null==oe?void 0:oe.type)&amp;&amp;React.createElement(we.N,{scrolldown:!0,name:"namespace",disabled:!oe||"none"===oe.server||"gcp-starter"===oe.server||Le,description:He.COMMON.NAMESPACE,style:{marginLeft:5,flex:1},value:null!=re?re:null,onChange:function(e){return ae(e)}},le.map((function(e){return React.createElement(we.Z,{key:e,value:e,label:e})})),React.createElement(we.Z,{value:null,label:"None"}))))}),[oe,X,ie,re,Le]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{margin:10}},React.createElement("div",{style:{display:"flex"}},React.createElement(rr.P,{style:{flex:1,marginRight:15}},React.createElement(Gt.Q,{style:{marginRight:10},disabled:Le||!ee||!ue,onLabel:He.EMBEDDINGS.AI_SEARCH,offLabel:He.EMBEDDINGS.EDIT,width:110,onValue:"search",offValue:"edit",checked:"search"===x,onChange:O,onBackgroundColor:l.purple,offBackgroundColor:l.green}),"edit"===x&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Le||!ee||!ue,onClick:function(){return U({type:"add",data:rt})}},"Add"))),React.createElement(rr.P,{style:{flex:"auto"}},"edit"===x&amp;&amp;React.createElement(React.Fragment,null,D.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary",disabled:Le||!ee,isBusy:"bulkPushAll"===p,onClick:function(){return Je(!1)}},"Sync Selected"),React.createElement(E._,{className:"danger",disabled:Le||!ee||!ue,onClick:Ye},He.COMMON.DELETE_SELECTED)),D.length&gt;0&amp;&amp;React.createElement("div",{style:{display:"flex",alignItems:"center",marginLeft:10,marginRight:10}},D.length," selected"),React.createElement(Vt.U,{busy:Ie.busy,style:{flex:"auto"},value:Ie.value,max:Ie.max,onStopClick:Ie.stop})),"search"===x&amp;&amp;React.createElement("div",{style:{flex:"auto",display:"flex"}},React.createElement(Ee.A,{style:{flex:"auto",marginRight:5},placeholder:"Search",disabled:Le||!ee||!ue,value:N,onChange:_,onEnter:Ge,onReset:Fe}),React.createElement(E._,{className:"primary",onClick:Ge,disabled:Le||!ee||!ue||!N,isBusy:"searchVectors"===p},"Search"))))),React.createElement(g.z,{minimal:!0,style:{flex:3,marginRight:10}},React.createElement(w.v,{className:"primary",title:"Embeddings"},React.createElement(Bt.a,{busy:Le,sort:ve.sort,onSortChange:function(e,t){ge(Ur(Ur({},ve),{},{sort:{accessor:e,by:t}}))},data:We,columns:Ce,onSelectRow:function(e){G([e])},onSelect:function(e){G([].concat(Gr(D),Gr(e)))},onUnselect:function(e){G(Gr(D.filter((function(t){return!e.includes(t)}))))},selectedItems:D}),React.createElement(xe.i,null),"search"!==x&amp;&amp;React.createElement("div",{style:{display:"flex",justifyContent:"end"}},React.createElement(Zt.Q,{currentPage:ve.page,limit:ve.limit,total:ze,onClick:function(e){ge(Ur(Ur({},ve),{},{page:e}))}}),React.createElement(E._,{className:"primary",style:{marginLeft:5},disabled:Se||!ee,onClick:function(){i.invalidateQueries({queryKey:["vectors"]})}},He.COMMON.REFRESH),React.createElement(E._,{className:"primary",style:{marginLeft:5},onClick:function(){U({type:"export",data:{envId:K,dbIndex:ee,dbNS:re}})}},He.COMMON.EXPORT))),React.createElement(w.v,{className:"primary"},React.createElement("p",null,React.createElement("b",null,"If want to discuss embeddings with other users, visit the ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank",rel:"noreferrer"},"Meow Apps Discord Server"),".")),React.createElement("p",null,"An embedding is a textual piece of data (sentence, paragraph, a whole article) that has been converted by OpenAI into a vector. Vectors can then be used to find the most relevant data for a given query. In this dashboard, you can create embeddings, and they will be synchronized with ",React.createElement("a",{target:"_blank",href:"https://www.pinecone.io/",rel:"noreferrer"},"Pinecone"),", a very fast and affordable vector database."),React.createElement("p",null,"You can switch from EDIT to AI SEARCH and you will be able to query the database, and get your content, with a score. You can edit the content and it will be synchronized with Pinecone. Then make your content perfect so that the results are satisfying! You can use Sync and Sync One, it will go through your posts and create the embeddings if they don't exist yet, or update them if they do."),React.createElement("p",null,"Both the chatbots and the AI Forms can use embeddings to enrich their answers."))),React.createElement(g.z,{minimal:!0},React.createElement(xe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Index"},et,ee&amp;&amp;!ue&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button.")),React.createElement(b.P,{title:"Settings"},et,React.createElement(xe.i,null),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{className:"primary",onClick:function(){return P(at)},style:{flex:1},isBusy:"addIndex"===p,disabled:Le},He.EMBEDDINGS.ADD_INDEX),React.createElement(E._,{className:"secondary",onClick:De,style:{flex:1},isBusy:"refreshIndexes"===p,disabled:Le},He.COMMON.REFRESH),React.createElement(E._,{className:"danger",onClick:Me,style:{flex:1},isBusy:"deleteEmbeddings"===p,disabled:Le||!ee||!ue},He.COMMON.DELETE)),React.createElement(xe.i,null),ee&amp;&amp;!ue&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"8px 12px"}},"This index is currently being build by Pinecone. Wait a few minutes, then use the ",React.createElement("b",null,"Refresh")," button."),React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,marginRight:5}},React.createElement("label",null,"Minimum Score:"),React.createElement(Ee.A,{value:Z,type:"number",min:0,max:98,step:.5,onFinalChange:function(e){ke(Ur(Ur({},H),{},{minScore:parseFloat(e)}))}})),React.createElement("div",{style:{flex:1,marginLeft:5}},React.createElement("label",null,"Max Embedding(s):"),React.createElement(Ee.A,{value:V,type:"number",min:1,max:20,step:1,onFinalChange:function(e){ke(Ur(Ur({},H),{},{maxSelect:parseInt(e)}))}}))),React.createElement("p",null,"The ",V," best embedding(s) with a minimum score of ",Z," will be used to build the reply."))),React.createElement(xe.i,null),"search"!==x&amp;&amp;React.createElement(b.c,{inversed:!0,style:{marginRight:10}},React.createElement(b.P,{title:"Sync Push",inversed:!0},React.createElement(Ht.b,{ref:Y,onSelectFiles:Ve,accept:""},React.createElement(E._,{fullWidth:!0,className:"secondary",onClick:function(){return Y.current.click()}},"Import CSV or JSON")),React.createElement(xe.i,{line:!0}),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(we.N,{id:"postType",scrolldown:!0,disabled:Le,name:"postType",style:{width:100},onChange:d,value:f},null==de?void 0:de.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(E._,{fullWidth:!0,className:"primary",style:{marginLeft:10},disabled:Le||!ee,isBusy:"bulkPushAll"===p,onClick:function(){return Je(!0)}},He.EMBEDDINGS.SYNC_ALL," ",!pe&amp;&amp;React.createElement(React.Fragment,null,"(","".concat(he),")"))),React.createElement(xe.i,{tiny:!0}),React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Le||!ee,isBusy:"singleRun"===p,onClick:$e},He.EMBEDDINGS.SYNC_ONE)),React.createElement(b.P,{title:"Sync Pull",inversed:!0},React.createElement(E._,{fullWidth:!0,className:"primary",disabled:Le||!ee,isBusy:"bulkPullAll"===p,onClick:function(){return Ke()}},He.EMBEDDINGS.SYNC_ALL)),React.createElement(b.P,{title:"Settings",inversed:!0},React.createElement(h.P,{label:He.EMBEDDINGS.REWRITE_CONTENT,disabled:p,checked:H.rewriteContent,onChange:function(e){ke(Ur(Ur({},H),{},{rewriteContent:e}))},description:He.EMBEDDINGS.REWRITE_CONTENT_DESCRIPTION}),React.createElement(xe.i,null),H.rewriteContent&amp;&amp;React.createElement(Dt.l,{value:H.rewritePrompt,rows:5,disabled:p,onBlur:function(e){ke(Ur(Ur({},H),{},{rewritePrompt:e}))},description:He.EMBEDDINGS.REWRITE_PROMPT_DESCRIPTION}),React.createElement(xe.i,null),React.createElement(h.P,{label:He.EMBEDDINGS.FORCE_RECREATE,checked:H.forceRecreate,disabled:p,onChange:function(e){ke(Ur(Ur({},H),{},{forceRecreate:e}))},description:He.EMBEDDINGS.FORCE_RECREATE_DESCRIPTION}),React.createElement(xe.i,{medium:!0,line:!0}),React.createElement("h3",{style:{marginTop:0}},"Auto Sync"),React.createElement(h.P,{label:He.EMBEDDINGS.AUTO_SYNC_POSTS,checked:H.syncPosts,disabled:p,onChange:function(e){ke(Ur(Ur({},H),{},{syncPosts:e}))},description:He.EMBEDDINGS.AUTO_SYNC_POSTS_DESCRIPTION}),H.syncPosts&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",null,!H.syncPostsEnv&amp;&amp;"Auto Sync is not set.",H.syncPostsEnv&amp;&amp;React.createElement(React.Fragment,null,React.createElement("ul",{style:{lineHeight:"10px",marginLeft:15,listStyle:"disc"}},React.createElement("li",null,"Environment: ",React.createElement("b",null,je)),React.createElement("li",null,"Index: ",React.createElement("b",null,H.syncPostsEnv.dbIndex)),React.createElement("li",null,"Namespace: ",React.createElement("b",null,H.syncPostsEnv.dbNS))))),Ae&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_e.S,{variant:"danger",style:{padding:"10px 20px",marginBottom:10}},"The current environment is different from the one set for Auto Sync. Do you want to use it instead?"),React.createElement(E._,{fullWidth:!0,className:"primary",onClick:function(){return ke(Ur(Ur({},H),{},{syncPostsEnv:{envId:K,dbIndex:ee,dbNS:re}}))},style:{flex:1},disabled:Le},"Use Current Environment"),React.createElement(xe.i,null)),React.createElement(Ee.A,{name:"syncPostTypes",value:H.syncPostTypes,isCommaSeparatedArray:!0,description:He.HELP.POST_TYPES,onBlur:function(e){ke(Ur(Ur({},H),{},{syncPostTypes:e}))}}),React.createElement(xe.i,null),React.createElement(Ee.A,{name:"syncPostStatus",value:H.syncPostStatus||"publish",isCommaSeparatedArray:!0,description:He.HELP.POST_STATUS,onBlur:function(e){ke(Ur(Ur({},H),{},{syncPostStatus:e}))}})))))),React.createElement(hr,{modal:B,setModal:U,busy:p,onAddEmbedding:Be,onModifyEmbedding:Ue}),React.createElement(Or,{modal:B,setModal:U,busy:p}),React.createElement(Mr,{modal:B,setModal:U,busy:p,onAddEmbedding:Be,onModifyEmbedding:Ue}),React.createElement(Te.L,{isOpen:j,title:He.EMBEDDINGS.ADD_INDEX,onRequestClose:function(){return P(null)},content:React.createElement(React.Fragment,null,React.createElement("p",null,He.EMBEDDINGS.ADD_INDEX_DESCRIPTION),React.createElement(xe.i,{height:30}),React.createElement("label",null,"Name:"),React.createElement(xe.i,null),React.createElement(Ee.A,{value:null==j?void 0:j.name,placeholder:"Name for your index",onChange:function(e){return P(Ur(Ur({},j),{},{name:e}))}}),React.createElement(xe.i,null),React.createElement("label",null,"Type:"),React.createElement(xe.i,null),React.createElement(we.N,{scrolldown:!0,name:"podType",disabled:Le,value:null==j?void 0:j.podType,onChange:function(e){P(Ur(Ur({},j),{},{podType:e}))},description:React.createElement(React.Fragment,null,"Pick S1 only if you will have more than 1 million of embeddings. P2 is faster for querying, slower for adding, and more expensive if you are not using the ",React.createElement("a",{href:"https://www.pinecone.io/pricing/",target:"_blank",rel:"noreferrer"},"Starter Plan")," (free) of Pinecone. P2 is recommended.")},React.createElement(we.Z,{value:"s1",label:"S1 (5M Embeddings)"}),React.createElement(we.Z,{value:"p1",label:"P1 (1M Embeddings &amp; High Perf)"}),React.createElement(we.Z,{value:"p2",label:"P2 (1M Embeddings &amp; Max Perf)"}))),okButton:{label:He.EMBEDDINGS.ADD_INDEX,onClick:Pe,disabled:!(null!=j&amp;&amp;j.name&amp;&amp;null!=j&amp;&amp;j.podType),busy:"addIndex"===p},cancelButton:{onClick:function(){return P(null)},disabled:p}}),Ie.TasksErrorModal)};function ra(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var aa=wp.element,oa=aa.useMemo,ia=aa.useState,la=function(e){var t,n,r=e.month,a=e.usageData,o=(new Date).toISOString().slice(0,7),i=(t=ia(o==r),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1];return React.createElement("li",null,React.createElement("strong",{style:{marginLeft:5,cursor:"pointer"},onClick:function(){return c(!l)}},"🗓️ ",r," (",a[r].totalPrice.toFixed(2),"$)",React.createElement("span",{style:{marginLeft:5}},l?"🔽":"🔼")),React.createElement("ul",null,l&amp;&amp;a[r].data.map((function(e,t){var n=e.isImage?"images":e.isAudio?"seconds":"tokens",r=e.isImage?e.outUnits:e.inUnits+e.outUnits;return React.createElement("li",{key:t,style:{marginTop:5,marginLeft:18}},React.createElement("strong",null,"• ",e.name),": ".concat(r," ").concat(n),e.price&gt;0&amp;&amp;" (".concat(e.price.toFixed(4),"$)"))}))))};const ca=function(e){var t=e.options,n=lt(t,null,!0),r=n.models,a=n.getModelName,o=n.getModel,i=n.calculatePrice,l=null==t?void 0:t.openai_usage,c=oa((function(){var e={};try{var t=(new Date).toISOString().slice(0,7);Object.keys(l).forEach((function(n){var r=l[n];e[n]||(e[n]={totalPrice:0,data:[]}),Object.keys(r).forEach((function(l){var c=r[l],u=o(l);if(u){var s=null,f=null,d=!1,m=!1;"image"===u.type?(f=(null==c?void 0:c.images)||0,m=!0):"second"===u.type?(f=(null==c?void 0:c.seconds)||0,d=!0):(s=(null==c?void 0:c.prompt_tokens)||0,f=(null==c?void 0:c.completion_tokens)||0);var p=i(l,s,f);e[n].totalPrice+=p,e[n].data.push({name:a(l),isImage:m,isAudio:d,inUnits:s,outUnits:f,price:p})}else n===t&amp;&amp;console.warn("Cannot find price for model ".concat(l,"."))}))})),Object.keys(e).forEach((function(t){e[t].data.sort((function(e,t){return t.price-e.price}))}))}catch(e){console.error(e)}return React.createElement("ul",{style:{marginLeft:-7,marginTop:10,marginBottom:0,paddingBottom:0}},Object.keys(e).reverse().map((function(t,n){return React.createElement(la,{key:n,month:t,usageData:e})})))}),[l,r]);return React.createElement(React.Fragment,null,!!l&amp;&amp;!!Object.keys(l).length&amp;&amp;c)};var ua=n(5576);function sa(e){return sa="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},sa(e)}var fa,da,ma,pa,ha=["children"],ya=["children"];function va(e){return function(e){if(Array.isArray(e))return Sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Oa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==sa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===sa(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ea(){Ea=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==sa(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(sa(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function wa(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wa(o,r,a,i,l,"next",e)}function l(e){wa(o,r,a,i,l,"throw",e)}i(void 0)}))}}function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Oa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(e,t){if(e){if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sa(e,t):void 0}}function Sa(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Ta(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}function Na(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _a=wp.element,Ca=_a.useMemo,Ia=_a.useState,La=_a.useEffect,ka=G.ZP.div(fa||(fa=Na(["\n&nbsp; font-size: 12px;\n&nbsp; border-bottom: 1px solid black;\n"]))),Aa=G.ZP.span(da||(da=Na(["\n&nbsp; font-weight: bold;\n&nbsp; text-transform: uppercase;\n"]))),ja=G.ZP.div(ma||(ma=Na(["\n&nbsp; font-size: 12px;\n&nbsp; color: #bdb8b8;\n&nbsp; background: #eeeeee;\n&nbsp; padding: 2px 8px;\n"]))),Pa=G.ZP.div(pa||(pa=Na(["\n&nbsp; font-size: 14px;\n&nbsp; padding: 10px;\n&nbsp; border: 1px solid #eaeaea;\n&nbsp; background: #f5f5f5;\n&nbsp; color: #333333;\n&nbsp; word-break: break-word;\n&nbsp; overflow-wrap: break-word;\n&nbsp; word-wrap: break-word;\n&nbsp; hyphens: auto;\n\n&nbsp; img {\n&nbsp; &nbsp; max-width: 100%;\n&nbsp; &nbsp; height: auto;\n&nbsp; }\n\n&nbsp; a {\n&nbsp; &nbsp; color: #333333;\n&nbsp; &nbsp; text-decoration: underline;\n&nbsp; }\n\n&nbsp; a:hover {\n&nbsp; &nbsp; color: #333333;\n&nbsp; &nbsp; text-decoration: none;\n&nbsp; }\n\n&nbsp; blockquote {\n&nbsp; &nbsp; border-left: 4px solid #dddddd;\n&nbsp; &nbsp; padding-left: 10px;\n&nbsp; &nbsp; margin-left: 0;\n&nbsp; &nbsp; font-style: italic;\n&nbsp; }\n\n&nbsp; pre {\n&nbsp; &nbsp; background: #eeeeee;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; overflow-x: auto;\n&nbsp; }\n\n&nbsp; code {\n&nbsp; &nbsp; background: #eeeeee;\n&nbsp; &nbsp; padding: 2px 5px;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; }\n\n&nbsp; table {\n&nbsp; &nbsp; border-collapse: collapse;\n&nbsp; &nbsp; width: 100%;\n&nbsp; &nbsp; margin-bottom: 10px;\n&nbsp; }\n&nbsp; \n&nbsp; table td, table th {\n&nbsp; &nbsp; border: 1px solid #dddddd;\n&nbsp; &nbsp; text-align: left;\n&nbsp; &nbsp; padding: 5px;\n&nbsp; }\n\n&nbsp; table tr:nth-child(even) {\n&nbsp; &nbsp; background-color: #dddddd;\n&nbsp; }\n\n&nbsp; .mwai-dead-image {\n&nbsp; &nbsp; color: #ab5252;\n&nbsp; &nbsp; background: #ffd2d2;\n&nbsp; &nbsp; padding: 8px 8px;\n&nbsp; &nbsp; text-align: center;\n&nbsp; }\n"]))),Ma={overrides:{object:{component:function(e){var t=e.children,n=Ta(e,ha);return"&lt;object ".concat(Object.keys(n).map((function(e){return"".concat(e,'="').concat(n[e],'"')})).join(" "),"&gt;").concat(t,"&lt;/object&gt;")}},script:{component:function(e){var t=e.children,n=Ta(e,ya);return"&lt;script ".concat(Object.keys(n).map((function(e){return"".concat(e,'="').concat(n[e],'"')})).join(" "),"&gt;").concat(t,"&lt;\/script&gt;")}}}},Da=function(e){var t=e.content,n=xa(Ia(t||""),2),r=n[0],a=n[1];La((function(){t&amp;&amp;i(t)}),[t]);var o=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}))},i=function(){var e=Ra(Ea().mark((function e(t){var n,r,i,l;return Ea().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=/!\[.*?\]\((.*?)\)/g,r=t;case 2:if(null===(i=n.exec(t))){e.next=10;break}return l=i[1],e.next=6,o(l);case 6:e.sent||(r=r.replace(i[0],'&lt;div class="mwai-dead-image"&gt;Image not available&lt;/div&gt;')),e.next=2;break;case 10:a(r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(Pa,null,React.createElement(ua.Z,{options:Ma},r))},Ga=function(e){var t,n,r,a,o=e.message,i=null!=o&amp;&amp;null!==(t=o.extra)&amp;&amp;void 0!==t&amp;&amp;t.embeddings?null==o||null===(n=o.extra)||void 0===n?void 0:n.embeddings:null!=o&amp;&amp;null!==(r=o.extra)&amp;&amp;void 0!==r&amp;&amp;r.embedding?[null==o||null===(a=o.extra)||void 0===a?void 0:a.embedding]:[];return React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement(ka,null,React.createElement(Aa,null,o.role||o.type)),(null==i?void 0:i.length)&gt;0&amp;&amp;React.createElement(ja,null,i.map((function(e){return React.createElement("div",{key:i.id},React.createElement("span",null,e.title)," (",React.createElement("span",null,(100*e.score.toFixed(4)).toFixed(2)),")")}))),React.createElement(Da,{content:o.content||o.text}))},Fa=[{accessor:"updated",title:"Time",width:"80px",sortable:!0},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:He.HELP.USER_FILTER}},{accessor:"preview",title:He.COMMON.PREVIEW,filters:{type:"text"}},{accessor:"messages",title:"#",width:"45px"}],Ba=function(){var e=Ra(Ea().mark((function e(t){var n;return Ea().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/discussions/list"),{nonce:L,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,chats:n.chats}:{total:0,chats:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ua=function(){var e=Ra(Ea().mark((function e(){var t,n,r=arguments;return Ea().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length&gt;0&amp;&amp;void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/discussions/delete"),{nonce:L,method:"POST",json:{chatIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Ha=function(){var e,t,n,r,a,o,i,l,c,s=(0,u.NL)(),f=xa(Ia(!1),2),d=f[0],m=f[1],p=xa(Ia(!1),2),y=p[0],v=p[1],b=xa(Ia((function(){return Fa.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:null}}))})),2),R=b[0],x=b[1],O=xa(Ia([]),2),S=O[0],T=O[1],N=xa(Ia({filters:R,sort:{accessor:"created",by:"desc"},page:1,limit:10}),2),_=N[0],C=N[1],I=(0,Ne.a)({queryKey:["chats",_],queryFn:function(){return Ba(_)},keepPreviousData:!0,refetchInterval:y?5e3:null}),L=I.isFetching,k=I.data;La((function(){C(ba(ba({},_),{},{filters:R}))}),[R]);var A=Ca((function(){return(null==k?void 0:k.total)||0}),[k]),j=Ca((function(){return null!=k&amp;&amp;k.chats?null==k?void 0:k.chats.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n,r,a=JSON.parse(e.messages),o=JSON.parse(e.extra),i=ht(e.created),l=ht(e.updated),c=yt(null!==(t=e.userId)&amp;&amp;void 0!==t?t:null==o?void 0:o.userId,null!==(n=e.ip)&amp;&amp;void 0!==n?n:null==o?void 0:o.ip),u=null==a?void 0:a.filter((function(e){return"user"===e.role||"user"===e.type})),s=null!=u&amp;&amp;u.length?u[0].content||u[0].text:"",f=null!=u&amp;&amp;u.length?u[u.length-1].content||u[u.length-1].text:"";return{id:e.id,chatId:e.chatId,user:c,messages:null!==(r=null==a?void 0:a.length)&amp;&amp;void 0!==r?r:0,preview:React.createElement(React.Fragment,null,React.createElement("div",null,s),React.createElement("small",null,f)),extra:o.model,created:i,updated:l}})):[]}),[k]),P=Ca((function(){if(1!==(null==S?void 0:S.length))return null;var e=null==k?void 0:k.chats.find((function(e){return e.id===S[0]}));if(!e)return null;var t=[],n={};try{t=JSON.parse(e.messages),n=JSON.parse(e.extra)}catch(t){console.error("Could not parse discussion messages or extra.",{e:t,currentDiscussion:e})}return{id:e.id,chatId:e.chatId,botId:e.botId,messages:t,extra:n,created:e.created,updated:e.updated}}),[S,k]),M=function(){var e=Ra(Ea().mark((function e(){var t,n;return Ea().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),S.length){e.next=9;break}if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=5;break}return m(!1),e.abrupt("return");case 5:return e.next=7,Ua();case 7:e.next=14;break;case 9:return t=null==k?void 0:k.chats.filter((function(e){return S.includes(e.id)})),n=t.map((function(e){return e.chatId})),e.next=13,Ua(n);case 13:T([]);case 14:return e.next=16,s.invalidateQueries({queryKey:["chats"]});case 16:s.refetchQueries({queryKey:["chats"]}),m(!1);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Ca((function(){return React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Zt.Q,{currentPage:_.page,limit:_.limit,total:A,onClick:function(e){C(ba(ba({},_),{},{page:e}))}})))}),[_,A]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2}},React.createElement(w.v,{className:"primary",title:He.COMMON.DISCUSSIONS,action:React.createElement(React.Fragment,null,React.createElement("div",null,!y&amp;&amp;React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:L,onClick:Ra(Ea().mark((function e(){return Ea().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.invalidateQueries({queryKey:["chats"]});case 2:s.refetchQueries({queryKey:["chats"]});case 3:case"end":return e.stop()}}),e)})))},He.COMMON.REFRESH),S.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:M},He.COMMON.DELETE))))},React.createElement(Bt.a,{busy:!y&amp;&amp;L||d,sort:_.sort,onSortChange:function(e,t){C(ba(ba({},_),{},{sort:{accessor:e,by:t}}))},filters:R,onFilterChange:function(e,t){var n=[].concat(va(R.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);x(n)},data:j,columns:Fa,selectedItems:S,onSelectRow:function(e){T([e])},onSelect:function(e){T([].concat(va(S),va(e)))},onUnselect:function(e){T(va(S.filter((function(t){return!e.includes(t)}))))}}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(E._,{className:"danger",disabled:S.length,style:{marginRight:10},onClick:M},He.COMMON.DELETE_ALL),React.createElement(h.P,{name:"auto-refresh",label:"Auto Refresh",value:"1",checked:y,style:{width:180},onChange:function(){return v(!y)}}),React.createElement("div",{style:{flex:"auto"}}),D))),React.createElement(g.z,{minimal:!0,style:{flex:1}},React.createElement(w.v,{className:"primary",title:"Selected Discussion",action:React.createElement(React.Fragment,null)},!P&amp;&amp;React.createElement("div",{style:{textAlign:"center",padding:10}},"No discussion selected."),null==P||null===(e=P.messages)||void 0===e?void 0:e.map((function(e,t){return React.createElement(Ga,{key:t,message:e})}))),!!P&amp;&amp;React.createElement(w.v,{className:"primary",title:"Information",action:React.createElement(React.Fragment,null)},React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Model"),React.createElement("div",null,null==P||null===(t=P.extra)||void 0===t?void 0:t.model)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Bot ID (or Custom ID)"),React.createElement("div",null,null==P?void 0:P.botId)),(null==P||null===(n=P.extra)||void 0===n?void 0:n.context)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Context"),React.createElement("div",null,null==P||null===(r=P.extra)||void 0===r?void 0:r.context)),(null==P||null===(a=P.extra)||void 0===a?void 0:a.assistantId)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Assistant ID"),React.createElement("div",null,null==P||null===(o=P.extra)||void 0===o?void 0:o.assistantId)),(null==P||null===(i=P.extra)||void 0===i?void 0:i.threadId)&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Thread ID"),React.createElement("div",null,null==P||null===(l=P.extra)||void 0===l?void 0:l.threadId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Chat ID"),React.createElement("div",null,null==P?void 0:P.chatId)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Session"),React.createElement("div",null,null==P||null===(c=P.extra)||void 0===c?void 0:c.session)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Created"),React.createElement("div",null,null==P?void 0:P.created)),React.createElement("div",{style:{display:"flex",flexDirection:"column",marginBottom:5}},React.createElement("div",{style:{fontWeight:"bold"}},"Updated"),React.createElement("div",null,null==P?void 0:P.updated))))))};var Za,Va,Ya;function za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Wa=G.ZP.div(Za||(Za=za(["\n&nbsp; background: white;\n&nbsp; padding: 15px;\n&nbsp; border-radius: 5px;\n\n&nbsp; h2 {\n&nbsp; &nbsp; margin-bottom: 8px;\n&nbsp; }\n&nbsp; \n&nbsp; h2:first-child, h3:first-child {\n&nbsp; &nbsp; margin-top: 0;\n&nbsp; }\n\n&nbsp; label {\n&nbsp; &nbsp; display: block;\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; }\n\n&nbsp; label {\n&nbsp; &nbsp; margin-top: 10px;\n&nbsp; }\n\n&nbsp; ul {\n&nbsp; &nbsp; margin: 20px 0 0 0;\n&nbsp; }\n\n&nbsp; li {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; border: 1px solid #e5e5e5;\n&nbsp; &nbsp; padding: 8px;\n&nbsp; &nbsp; background: #f5f5f5;\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; &nbsp; position: relative;\n\n&nbsp; &nbsp; &amp;:last-child {\n&nbsp; &nbsp; &nbsp; margin-bottom: 0;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; &amp;:hover {\n&nbsp; &nbsp; &nbsp; background: #e5e5e5;\n&nbsp; &nbsp; }\n\n&nbsp; &nbsp; &amp;.active {\n&nbsp; &nbsp; &nbsp; background: #007cba;\n&nbsp; &nbsp; &nbsp; color: white;\n&nbsp; &nbsp; &nbsp; border-color: #007cba;\n\n&nbsp; &nbsp; &nbsp; &amp;.modified {\n&nbsp; &nbsp; &nbsp; &nbsp; background: #ff8c00;\n&nbsp; &nbsp; &nbsp; &nbsp; border-color: #ff8c00;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .information {\n&nbsp; &nbsp; color: #a3a3a3;\n&nbsp; &nbsp; margin-top: 5px;\n&nbsp; &nbsp; font-size: 12px;\n&nbsp; &nbsp; line-height: 100%;\n&nbsp; }\n"]))),qa=(0,G.ZP)(Ee.A)(Va||(Va=za(["\n&nbsp; flex: auto !important;\n\n&nbsp; input {\n&nbsp; &nbsp; height: 50px !important;\n&nbsp; &nbsp; font-size: 13px !important;\n&nbsp; &nbsp; font-family: monospace !important;\n&nbsp; &nbsp; padding: 20px !important;\n&nbsp; &nbsp; border-color: #333d4e !important;\n&nbsp; &nbsp; background: #333d4e !important;\n&nbsp; &nbsp; color: white !important;\n&nbsp; }\n"]))),Xa=G.ZP.div(Ya||(Ya=za(["\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 3px;\n&nbsp; }\n\n&nbsp; .mwai-builder-row {\n&nbsp; &nbsp; margin-top: 10px;\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: row;\n\n&nbsp; &nbsp; .neko-color-picker {\n&nbsp; &nbsp; &nbsp; margin-left: 5px;\n&nbsp; &nbsp; }\n&nbsp; }\n\n&nbsp; .mwai-builder-col {\n&nbsp; &nbsp; flex: 1;\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; &nbsp; margin-right: 5px;\n&nbsp; }\n\n&nbsp; .mwai-builder-col:last-child {\n&nbsp; &nbsp; margin-right: 0;\n&nbsp; }\n\n&nbsp; pre {\n&nbsp; &nbsp; white-space: pre-wrap;\n&nbsp; &nbsp; background: #d4f0ff;\n&nbsp; &nbsp; color: #037cba;\n&nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; font-weight: bold;\n&nbsp; &nbsp; margin: 10px 0 10px 0;\n&nbsp; }\n\n&nbsp; .neko-spacer {\n&nbsp; &nbsp; margin-bottom: 0 !important;\n&nbsp; }\n\n&nbsp; .neko-input {\n&nbsp; }\n\n&nbsp; .nui-select-option {\n&nbsp; }\n\n\n"]))),Qa=["model","maxTokens","onRecommendedClick"];var Ka=wp.element.useMemo;const Ja=function(e){var t=e.model,n=e.maxTokens,r=e.onRecommendedClick,a=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,Qa),o=null==t?void 0:t.maxContextualTokens,i=null==t?void 0:t.maxCompletionTokens,l=null==t?void 0:t.maxTokens,c=!!r;n=Math.floor(parseInt(n),0);var u=Ka((function(){return t?i||(o?Math.floor(o/2):l?Math.floor(l/2):null):null}),[i,o,l]),s=Ka((function(){return t?u===n?"var(--neko-green)":n&gt;i?"var(--neko-red)":"var(--neko-yellow)":null}),[i,n,u]);return React.createElement("span",a,!(null==t||!t.maxContextualTokens)&amp;&amp;React.createElement(React.Fragment,null,"Contextual: ",null==t?void 0:t.maxContextualTokens,React.createElement("br",null)),!(null==t||!t.maxCompletionTokens)&amp;&amp;React.createElement(React.Fragment,null,"Completion: ",null==t?void 0:t.maxCompletionTokens,React.createElement("br",null)),!(null!=t&amp;&amp;t.maxCompletionTokens)&amp;&amp;!(null==t||!t.maxTokens)&amp;&amp;React.createElement(React.Fragment,null,"Total Max Tokens: ",null==t?void 0:t.maxTokens,React.createElement("br",null)),!!u&amp;&amp;React.createElement(React.Fragment,null,"Recommended: ",React.createElement("b",{onClick:c?function(){return r(u)}:null,style:{color:s,cursor:c?"pointer":"inherit"}},u,n&gt;i&amp;&amp;React.createElement(React.Fragment,null,"❗️")),React.createElement("br",null)))};function $a(e){return $a="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},$a(e)}var eo,to=["currentChatbot","isCustom","defaultChatbot"];function no(){no=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==$a(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($a(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ro(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ao(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oo(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var io=wp.element,lo=io.useState,co=io.useEffect,uo=G.ZP.div(eo||(eo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; pre {\n&nbsp; &nbsp; display: flex;\n&nbsp; &nbsp; align-items: center;\n&nbsp; &nbsp; background: #f8fcff;\n&nbsp; &nbsp; color: #779bb8;\n&nbsp; &nbsp; margin: 0px;\n&nbsp; &nbsp; padding: 3px 8px;\n&nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; border: 2px solid rgb(210 228 243);\n&nbsp; &nbsp; border-radius: 5px;\n&nbsp; &nbsp; font-family: system-ui;\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; &nbsp; font-weight: 500;\n&nbsp; }\n\n&nbsp; .mwai-name {\n&nbsp; &nbsp; font-style: italic;\n&nbsp; }\n\n&nbsp; .mwai-value {\n&nbsp; &nbsp; color: var(--neko-green);\n&nbsp; }\n"])));const so=function(e){var t=e.currentChatbot,n=e.isCustom,r=void 0!==n&amp;&amp;n,a=e.defaultChatbot,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,to),i=ao(lo(null),2),l=i[0],c=i[1],u=ao(lo(""),2),s=u[0],f=u[1],d=ao(lo(""),2),m=d[0],p=d[1];co((function(){if(!t)return f(null),void p(null);var e,n=[];if(r){for(var o in t)if(!(void 0===t[o]||null===t[o]||"botId"===o||"name"===o||"maxMessages"===o||""===t[o]||a&amp;&amp;a[o]===t[o])){var i=t[o];i&amp;&amp;"string"==typeof i&amp;&amp;i.includes('"')&amp;&amp;(i=i.replace(/"/g,"'")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("\n")&amp;&amp;(i=i.replace(/\n/g,"\\n")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("[")&amp;&amp;(i=i.replace(/\[/g,"&amp;#91;")),i&amp;&amp;"string"==typeof i&amp;&amp;i.includes("]")&amp;&amp;(i=i.replace(/\]/g,"&amp;#93;"));var l=o.replace(/([A-Z])/g,(function(e){return"_".concat(e.toLowerCase())}));n.push("".concat(l,'="').concat(i,'"'))}e="[mwai_chatbot"+(n.length?" ".concat(n.join(" ")):"")+"]"}else{var c,u=null!==(c=t.botId)&amp;&amp;void 0!==c?c:"default";n.push('id="'.concat(u,'"')),e='[mwai_chatbot id="'.concat(u,'"]')}var s=React.createElement("span",null,"[mwai_chatbot ",n.map((function(e,t){var r=ao(e.split("="),2),a=r[0],o=r[1];return React.createElement("span",{key:t},React.createElement("span",{className:"mwai-name"},a),"=",React.createElement("span",{className:"mwai-value"},o),t&lt;n.length-1?" ":"")})),"]");f(s),p(e)}),[t,r]);var h=function(){var e,t=(e=no().mark((function e(){return no().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=3;break}return alert("Clipboard is not enabled (only works with https)."),e.abrupt("return");case 3:return e.next=5,navigator.clipboard.writeText(m);case 5:c("Copied!"),setTimeout((function(){c(null)}),2e3);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ro(o,r,a,i,l,"next",e)}function l(e){ro(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return t?React.createElement(uo,o,React.createElement("pre",{onClick:h},!l&amp;&amp;s,l&amp;&amp;React.createElement("span",null,l))):null};var fo=wp.element,mo=fo.useMemo,po=fo.useEffect,ho=["chat-openai.svg","chat-robot-1.svg","chat-robot-2.svg","chat-robot-3.svg","chat-robot-4.svg","chat-robot-5.svg","chat-robot-6.svg","chat-color-blue.svg","chat-color-green.svg","chat-color-red.svg","chat-traditional-1.svg","chat-traditional-2.svg","chat-traditional-3.svg"];const yo=function(e){var t,n,r,a,o,i,l,c=e.themes,u=e.shortcodeParams,s=e.updateShortcodeParams,f=e.defaultChatbot,d=e.deleteCurrentChatbot,m=e.resetCurrentChatbot,p=e.duplicateCurrentChatbot,y=e.options,v=lt(y,u.envId||null),b=v.completionModels,w=v.imageModels,x=v.isFineTunedModel,O=v.getModel,S=null!==(t="chat"===u.mode)&amp;&amp;void 0!==t?t:"chat",T=null!==(n="assistant"===u.mode)&amp;&amp;void 0!==n&amp;&amp;n,_=null!==(r="images"===u.mode)&amp;&amp;void 0!==r&amp;&amp;r,C=u.contentAware,L=u.context&amp;&amp;u.context.includes("{CONTENT}"),k=u.icon?u.icon:"chat-color-green.svg",A=(null==k?void 0:k.startsWith("https://"))||(null==k?void 0:k.startsWith("http://")),j=A?k:"".concat(N,"/images/").concat(k),P=(null==y?void 0:y.ai_envs)||[],M=mo((function(){return P.find((function(e){return e.id===u.envId}))||null}),[P,u.envId]),D=(null==M?void 0:M.assistants)||[],G=mo((function(){return D.find((function(e){return e.id===u.assistantId}))||null}),[D,u.assistantId]),F=(x(u.model),O(G?G.model:u.model)),B=y.embeddings_envs||[],U=mo((function(){return B.find((function(e){return e.id===u.embeddingsEnvId}))||null}),[B,u.embeddingsEnvId]),H=mo((function(){return(null==U?void 0:U.indexes)||[]}),[U]),Z=mo((function(){return(null==U?void 0:U.namespaces)||[]}),[U]);return po((function(){var e,t,n,r;if(!U&amp;&amp;u.embeddingsIndex&amp;&amp;s(null,"embeddingsIndex"),!U&amp;&amp;u.embeddingsNamespace&amp;&amp;s(null,"embeddingsNamespace"),null!=F&amp;&amp;null!==(e=F.tags)&amp;&amp;void 0!==e&amp;&amp;e.includes("image")&amp;&amp;!u.resolution){var a=F.options.map((function(e){return e.option})),o=a.includes("1024x1024")?"1024x1024":a[0];s(o,"resolution")}null!=F&amp;&amp;null!==(t=F.tags)&amp;&amp;void 0!==t&amp;&amp;t.includes("image")||!u.resolution||s(null,"resolution"),null!=F&amp;&amp;null!==(n=F.tags)&amp;&amp;void 0!==n&amp;&amp;n.includes("image")&amp;&amp;S&amp;&amp;s(null,"model"),T&amp;&amp;u.model&amp;&amp;s(null,"model"),!T&amp;&amp;u.assistantId&amp;&amp;s(null,"assistantId"),!u.imageUpload||null!=F&amp;&amp;null!==(r=F.tags)&amp;&amp;void 0!==r&amp;&amp;r.includes("vision")||s(null,"imageUpload"),u.fileUpload&amp;&amp;!T&amp;&amp;s(null,"fileUpload"),u.model&amp;&amp;!u.envId&amp;&amp;s(null,"model"),u.envId&amp;&amp;!M&amp;&amp;s(null,"envId")}),[u]),po((function(){"gcp-starter"===(null==U?void 0:U.server)&amp;&amp;u.embeddingsNamespace&amp;&amp;s(null,"embeddingsNamespace")}),[U]),React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(Xa,null,React.createElement(Se.F,{keepState:"chatbotParams"},React.createElement(Se.L,{title:He.COMMON.CHATBOT},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(Ee.A,{name:"name","data-form-type":"other",disabled:"default"===u.botId,value:u.name,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(Ee.A,{name:"botId",type:"text",placeholder:"Optional",disabled:"default"===u.botId,value:u.botId,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.LOCAL_MEMORY,":"),React.createElement(h.P,{name:"localMemory",label:"Yes",checked:u.localMemory,value:"1",onChange:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{height:"chat"===u.mode?76:"inherit"}},React.createElement("label",null,He.COMMON.MODE,":"),React.createElement(we.N,{scrolldown:!0,id:"mode",name:"mode",value:u.mode,onChange:s},React.createElement(we.Z,{value:"chat",label:"Chat"}),React.createElement(we.Z,{value:"assistant",label:"Assistant",isPro:!0,requirePro:!I}),React.createElement(we.Z,{value:"images",label:"Images"}))),S&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:5}},React.createElement("label",null,He.COMMON.CONTEXT,":"),React.createElement(Dt.l,{name:"context",rows:10,textAreaStyle:{resize:"none"},value:u.context,onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.POPUP_SETTINGS,hide:!u.window},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.POSITION,":"),React.createElement(we.N,{scrolldown:!0,name:"iconPosition",disabled:!u.window,value:u.iconPosition,onChange:s},React.createElement(we.Z,{value:"bottom-right",label:"Bottom Right"}),React.createElement(we.Z,{value:"bottom-left",label:"Bottom Left"}),React.createElement(we.Z,{value:"top-right",label:"Top Right"}),React.createElement(we.Z,{value:"top-left",label:"Top Left"}))),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ICON_TEXT,":"),React.createElement(Ee.A,{name:"iconText",disabled:!u.window,placeholder:"If set, appears next to icon",value:u.iconText,onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.AI_MODEL},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(we.N,{scrolldown:!0,name:"envId",value:null!==(a=u.envId)&amp;&amp;void 0!==a?a:"",onChange:s},P.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"Default"}))),(S||_)&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(we.N,{scrolldown:!0,name:"model",value:u.model,onChange:s},React.createElement(we.Z,{value:"",label:"Default"}),(null!==(o=_?w:b)&amp;&amp;void 0!==o?o:[]).map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),T&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.ASSISTANT,":"),React.createElement(we.N,{scrolldown:!0,name:"assistantId",value:u.assistantId,onChange:s},React.createElement(we.Z,{value:"",label:"None"}),D.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})))),(null==F||null===(i=F.tags)||void 0===i?void 0:i.includes("image"))&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.RESOLUTION,":"),React.createElement(we.N,{scrolldown:!0,name:"resolution",value:u.resolution,onChange:s},F.options.map((function(e){return React.createElement(we.Z,{key:e.option,value:e.option,label:e.option})})))),(null==F||null===(l=F.tags)||void 0===l?void 0:l.includes("vision"))&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.VISION,":"),React.createElement(h.P,{name:"imageUpload",label:He.COMMON.ENABLE,checked:u.imageUpload,value:"1",onChange:s})),T&amp;&amp;React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FILE_UPLOAD,":"),React.createElement(we.N,{scrolldown:!0,name:"fileUpload",value:u.fileUpload,onChange:s},React.createElement(we.Z,{value:"",label:"None"}),React.createElement(we.Z,{value:"discussion",label:"For Discussion"})))),S&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",type:"number",step:"0.1",min:"0",max:"1",value:u.temperature,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",type:"number",description:React.createElement(Ja,{model:F,maxTokens:u.maxTokens,onRecommendedClick:function(e){s(e,"maxTokens")},style:{fontSize:11,lineHeight:"8px"}}),value:u.maxTokens,onBlur:s,onEnter:s})))),(S||T)&amp;&amp;React.createElement(Se.L,{title:He.COMMON.CONTEXT},React.createElement("div",{style:{marginTop:15,fontWeight:"bold"}},He.COMMON.EMBEDDINGS),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_ENV,":"),React.createElement(we.N,{scrolldown:!0,name:"embeddingsEnvId",requirePro:!0,isPro:I,disabled:!(null!=B&amp;&amp;B.length),value:u.embeddingsEnvId,onChange:s},B.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.EMBEDDINGS_INDEX,":"),React.createElement(we.N,{scrolldown:!0,name:"embeddingsIndex",requirePro:!0,isPro:I,disabled:!(null!=H&amp;&amp;H.length),value:u.embeddingsIndex,onChange:s},H.map((function(e){return React.createElement(we.Z,{key:e.name,value:e.name,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"}))),u.embeddingsEnvId&amp;&amp;"pinecone"===(null==U?void 0:U.type)&amp;&amp;React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAMESPACE,":"),React.createElement(we.N,{scrolldown:!0,name:"embeddingsNamespace",requirePro:!0,isPro:I,disabled:!(null!=H&amp;&amp;H.length),value:u.embeddingsNamespace,onChange:s},Z.map((function(e){return React.createElement(we.Z,{key:e,value:e,label:e})})),React.createElement(we.Z,{value:"",label:"None"})))),React.createElement("div",{style:{marginTop:15,fontWeight:"bold"}},He.COMMON.OTHERS),S&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CONTENT_AWARE,":"),React.createElement(h.P,{name:"contentAware",label:"Yes",requirePro:!0,isPro:I,checked:u.contentAware,value:"1",onChange:s}))),C&amp;&amp;!L&amp;&amp;React.createElement(_e.S,{variant:"danger",style:{marginTop:15,padding:"10px 15px"}},React.createElement("p",null,(0,R.io)(He.SETTINGS.ALERT_CONTENTAWARE_BUT_NO_CONTENT)))),React.createElement(Se.L,{title:He.COMMON.THRESHOLDS},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.INPUT_MAX_LENGTH,":"),React.createElement(Ee.A,{name:"textInputMaxLength",type:"number",description:He.HELP.INPUT_MAX_LENGTH,step:"1",min:"8",max:"4096",value:u.textInputMaxLength,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.MAX_MESSAGES,":"),React.createElement(Ee.A,{name:"maxMessages",type:"number",description:He.HELP.MAX_MESSAGES,step:"1",min:"1",max:"512",value:u.maxMessages,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.CONTEXT_MAX_LENGTH,":"),React.createElement(Ee.A,{name:"contextMaxLength",type:"number",step:"1",description:He.HELP.CONTEXT_MAX_LENGTH,value:u.contextMaxLength||(null==y?void 0:y.context_max_length),onBlur:s,onEnter:s})))),React.createElement(Se.L,{title:He.COMMON.APPEARANCE},React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.THEME,":"),React.createElement(we.N,{scrolldown:!0,name:"themeId",value:u.themeId,description:"",onChange:s},React.createElement(we.Z,{value:"none",label:"None"}),React.createElement(we.Z,{value:"chatgpt",label:"ChatGPT"}),React.createElement(we.Z,{value:"messages",label:"Messages (iOS)"}),null==c?void 0:c.filter((function(e){return"css"===e.type})).map((function(e){return React.createElement(we.Z,{key:e.themeId,value:e.themeId,label:e.name})}))))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.AI_NAME,":"),React.createElement(Ee.A,{name:"aiName","data-form-type":"other",value:u.aiName,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.START_SENTENCE,":"),React.createElement(Ee.A,{name:"startSentence",value:u.startSentence,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.USER_NAME,":"),React.createElement(Ee.A,{name:"userName","data-form-type":"other",value:u.userName,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:3}},React.createElement("label",null,He.COMMON.PLACEHOLDER,":"),React.createElement(Ee.A,{name:"textInputPlaceholder",value:u.textInputPlaceholder,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.SEND,":"),React.createElement(Ee.A,{name:"textSend",value:u.textSend,onBlur:s,onEnter:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1.5}},React.createElement("label",null,He.COMMON.CLEAR,":"),React.createElement(Ee.A,{name:"textClear",value:u.textClear,onBlur:s,onEnter:s}))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.COPY_BUTTON,":"),React.createElement(h.P,{name:"copyButton",label:"Yes",checked:u.copyButton,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.POPUP,":"),React.createElement(h.P,{name:"window",label:"Yes",checked:u.window,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FULL_SCREEN,":"),React.createElement(h.P,{name:"fullscreen",label:"Yes",checked:u.fullscreen,value:"1",onChange:s})),React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.COMPLIANCE_TEXT,":"),React.createElement(Ee.A,{name:"textCompliance",value:u.textCompliance,onBlur:s,onEnter:s}))),(u.window||!u.aiName)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{style:{marginTop:10,border:"2px solid #d2e4f3",borderRadius:8,padding:"10px 10px 10px 10px",background:"#f5fcff"}},React.createElement("div",{className:"mwai-builder-row",style:{marginTop:0}},React.createElement("div",{className:"mwai-builder-col",style:{flex:2}},React.createElement("label",null,He.COMMON.AI_AVATAR,":"),React.createElement("div",{style:{display:"flex"}},ho.map((function(e){return React.createElement("img",{key:e,style:{marginRight:2,cursor:"pointer"},width:24,height:24,src:"".concat(N,"/images/").concat(e),onClick:function(){s(e,"icon")}})})),React.createElement(E._,{small:!0,className:"primary",style:{marginLeft:5},onClick:function(){s("".concat(N,"/images/chat-color-green.svg"),"icon")}},He.SETTINGS.CUSTOM_URL))),React.createElement("div",{className:"mwai-builder-col",style:{width:48,display:"flex",alignItems:"end"}},React.createElement("img",{style:{marginRight:0,paddingTop:0},width:48,height:48,src:"".concat(j)}))),A&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CUSTOM_ICON_URL,":"),React.createElement(Ee.A,{name:"icon",value:k,onBlur:s,onEnter:s})))))),React.createElement(Se.L,{title:He.COMMON.SHORTCODES},React.createElement(so,{currentChatbot:u,style:{marginTop:10}}),React.createElement("p",null,He.HELP.CUSTOM_SHORTCODE),React.createElement(so,{currentChatbot:u,isCustom:!0,defaultChatbot:f,style:{marginTop:10}})),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"primary",onClick:p},He.COMMON.DUPLICATE),React.createElement(E._,{className:"secondary",onClick:m},He.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"Default"===u.name,onClick:d},He.COMMON.DELETE))))))))};var vo,go=n(5651);function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Eo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Eo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eo(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var wo=wp.element,Ro=wo.useState,xo=wo.useEffect,Oo=wo.useRef,So=wo.useCallback,To=G.ZP.div(vo||(vo=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; position: relative;\n\n&nbsp; .swatch {\n&nbsp; &nbsp; width: 24px;\n&nbsp; &nbsp; height: 24px;\n&nbsp; &nbsp; border: 3px solid #fff;\n&nbsp; &nbsp; box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(0, 0, 0, 0.1);\n&nbsp; &nbsp; cursor: pointer;\n&nbsp; }\n&nbsp; \n&nbsp; .popover {\n&nbsp; &nbsp; position: absolute;\n&nbsp; &nbsp; top: -210px;\n&nbsp; &nbsp; left: -80px;\n&nbsp; &nbsp; box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n&nbsp; &nbsp; z-index: 9999;\n&nbsp; &nbsp; border-radius: 8px;\n&nbsp; }\n"]))),No=function(e){var t=e.name,n=e.value,r=e.onChange,a=Oo(),o=bo(Ro(!1),2),i=o[0],l=o[1],c=bo(Ro(n),2),u=c[0],s=c[1];xo((function(){s(n)}),[n]);var f,d,m=So((function(){u!==n&amp;&amp;r(u,t),l(!1)}),[u,n]);return xo((function(){var e=!1,t=!1,n=function(n){!e&amp;&amp;t&amp;&amp;f.current&amp;&amp;!f.current.contains(n.target)&amp;&amp;d(n)},r=function(n){t=f.current,e=f.current&amp;&amp;f.current.contains(n.target)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),document.addEventListener("click",n),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r),document.removeEventListener("click",n)}}),[f=a,d=m]),React.createElement(To,{className:"neko-color-picker"},React.createElement("div",{className:"swatch",style:{backgroundColor:u},onClick:function(){return l(!0)}}),i&amp;&amp;React.createElement("div",{className:"popover",ref:a,style:{background:"white"}},React.createElement(go.gW,{color:u,onChange:s}),React.createElement("div",{style:{display:"flex",padding:5}},React.createElement(E._,{style:{flex:1},onClick:function(){return r(u,t)}},"Apply"))))};const _o=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E=e.settings,w=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(Xa,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(Ee.A,{id:"spacing",name:"spacing",value:null!==(t=null==E?void 0:E.spacing)&amp;&amp;void 0!==t?t:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(Ee.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==E?void 0:E.borderRadius)&amp;&amp;void 0!==n?n:"10px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(Ee.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==E?void 0:E.fontSize)&amp;&amp;void 0!==r?r:"15px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==E?void 0:E.fontColor)&amp;&amp;void 0!==a?a:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(No,{id:"fontColor",name:"fontColor",value:null!==(o=null==E?void 0:E.fontColor)&amp;&amp;void 0!==o?o:"#FFFFFF",onChange:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==E?void 0:E.backgroundPrimaryColor)&amp;&amp;void 0!==i?i:"#454654",onBlur:w,onEnter:w}),React.createElement(No,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==E?void 0:E.backgroundPrimaryColor)&amp;&amp;void 0!==l?l:"#454654",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",style:{flex:1},value:null!==(c=null==E?void 0:E.backgroundSecondaryColor)&amp;&amp;void 0!==c?c:"#343541",onBlur:w,onEnter:w}),React.createElement(No,{id:"backgroundSecondaryColor",name:"backgroundSecondaryColor",value:null!==(u=null==E?void 0:E.backgroundSecondaryColor)&amp;&amp;void 0!==u?u:"#343541",onChange:w,onEnter:w})))),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(Ee.A,{id:"width",name:"width",value:null!==(s=null==E?void 0:E.width)&amp;&amp;void 0!==s?s:"460px",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(Ee.A,{id:"maxHeight",name:"maxHeight",value:null!==(f=null==E?void 0:E.maxHeight)&amp;&amp;void 0!==f?f:"40vh",onBlur:w,onEnter:w})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(d=null==E?void 0:E.iconTextBackgroundColor)&amp;&amp;void 0!==d?d:"#343541",onBlur:w,onEnter:w}),React.createElement(No,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(m=null==E?void 0:E.iconTextBackgroundColor)&amp;&amp;void 0!==m?m:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(p=null==E?void 0:E.iconTextColor)&amp;&amp;void 0!==p?p:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(No,{id:"iconTextColor",name:"iconTextColor",value:null!==(h=null==E?void 0:E.iconTextColor)&amp;&amp;void 0!==h?h:"#FFFFFF",onChange:w,onEnter:w})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(y=null==E?void 0:E.backgroundHeaderColor)&amp;&amp;void 0!==y?y:"#343541",onBlur:w,onEnter:w}),React.createElement(No,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(v=null==E?void 0:E.backgroundHeaderColor)&amp;&amp;void 0!==v?v:"#343541",onChange:w,onEnter:w}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(g=null==E?void 0:E.headerButtonsColor)&amp;&amp;void 0!==g?g:"#FFFFFF",onBlur:w,onEnter:w}),React.createElement(No,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(b=null==E?void 0:E.headerButtonsColor)&amp;&amp;void 0!==b?b:"#FFFFFF",onChange:w,onEnter:w}))))))};function Co(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Io=wp.element,Lo=Io.useMemo,ko=Io.useState,Ao=Io.useEffect;const jo=function(e){var t,n,r=e.theme,a=e.onUpdateTheme,o=(t=ko(""),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Co(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];Ao((function(){l(r.style)}),[r]);var c=Lo((function(){return i!==r.style}),[i,r]);return React.createElement(Xa,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.NAME,":"),React.createElement(Ee.A,{name:"name","data-form-type":"other",value:r.name,onBlur:a,onEnter:a})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("div",null,React.createElement("label",{style:{display:"block"}},He.COMMON.ID,":"),React.createElement(Ee.A,{name:"themeId",type:"text",placeholder:"Optional",value:r.themeId,onBlur:a,onEnter:a})))),React.createElement(xe.i,null),React.createElement("label",null,"Custom CSS:"),React.createElement(Dt.l,{name:"css",value:i,onChange:l,rows:16,tabToSpaces:2}),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{fullWidth:!0,onClick:function(){l(".mwai-chat {\n&nbsp; --mwai-spacing: 10px;\n&nbsp; --mwai-fontSize: 13px;\n&nbsp; --mwai-fontColor: black;\n&nbsp; --mwai-backgroundPrimaryColor: white;\n&nbsp; --mwai-primaryColor: #0084ff;\n&nbsp; --mwai-secondaryColor: #f0f0f0;\n}\n\n.mwai-chat * {\n&nbsp; box-sizing: border-box;\n}\n\n.mwai-content {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n}\n\n.mwai-conversation {\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; overflow: auto;\n}\n\n.mwai-conversation .mwai-reply {\n&nbsp; margin-bottom: var(--mwai-spacing);\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 15px;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; min-width: 30%;\n}\n\n.mwai-conversation .mwai-reply *:first-child {\n&nbsp; margin-top: 0px;\n}\n\n.mwai-conversation .mwai-reply *:last-child {\n&nbsp; margin-bottom: 0px;\n}\n\n.mwai-conversation .mwai-reply.mwai-ai {\n&nbsp; align-self: flex-start;\n&nbsp; background: var(--mwai-secondaryColor);\n}\n\n.mwai-conversation .mwai-reply.mwai-user {\n&nbsp; align-self: flex-end;\n&nbsp; background: var(--mwai-primaryColor);\n&nbsp; color: white;\n}\n\n.mwai-conversation .mwai-avatar img {\n&nbsp; width: 24px;\n&nbsp; border-radius: 5px;\n}\n\n.mwai-conversation .mwai-reply.mwai-user .mwai-avatar {\n&nbsp; text-align: right;\n}\n\n.mwai-input {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.mwai-input textarea {\n&nbsp; flex: auto;\n&nbsp; padding: 5px 10px;\n&nbsp; height: 32px;\n&nbsp; font-family: inherit;\n}\n\n.mwai-input button {\n&nbsp; margin-left: var(--mwai-spacing);\n&nbsp; padding: 5px 15px;\n&nbsp; background-color: #0084ff;\n&nbsp; color: white;\n&nbsp; border: none;\n&nbsp; border-radius: 5px;\n&nbsp; cursor: pointer;\n&nbsp; height: 32px;\n&nbsp; width: 110px;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.mwai-input button:hover {\n&nbsp; filter: brightness(1.2);\n}\n\n.mwai-compliance {\n&nbsp; margin-top: 5px;\n&nbsp; font-size: 12px;\n}\n\n.mwai-chat.mwai-window {\n&nbsp; position: fixed;\n&nbsp; right: 15px;\n&nbsp; bottom: 15px;\n&nbsp; width: 400px;\n&nbsp; z-index: 9999;\n}\n\n.mwai-chat.mwai-window .mwai-header {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; margin-bottom: 5px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; opacity: 0.75;\n&nbsp; border: 2px solid black;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button {\n&nbsp; margin-left: 5px;\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:before, .mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 2px;\n&nbsp; background: black;\n&nbsp; opacity: 0.75;\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.mwai-chat.mwai-window .mwai-header .mwai-buttons .mwai-close-button:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.mwai-chat.mwai-window .mwai-content {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: 40vh;\noverflow: hidden;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.mwai-chat .mwai-open-button {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n&nbsp; cursor: pointer;\n}\n\n.mwai-chat.mwai-window.mwai-bottom-left .mwai-open-button {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.mwai-chat.mwai-window.mwai-top-right {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-right .mwai-open-button {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.mwai-chat.mwai-window.mwai-top-left {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.mwai-chat.mwai-window.mwai-top-left .mwai-open-button {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.mwai-chat .mwai-gallery {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.mwai-chat .mwai-gallery img {\n&nbsp; width: 100%;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons {\n&nbsp; margin-bottom: 0px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-resize-button:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.mwai-chat.mwai-window.mwai-fullscreen .mwai-header .mwai-buttons .mwai-close-button {\n&nbsp; margin-left: -5px;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window), .mwai-chat.mwai-fullscreen.mwai-window.mwai-open {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n&nbsp; border-radius: inherit;\n}\n\n.mwai-chat.mwai-fullscreen:not(.mwai-window) .mwai-content .mwai-conversation, .mwai-chat.mwai-fullscreen.mwai-window.mwai-open .mwai-content .mwai-conversation {\n&nbsp; flex: auto;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-header {\n&nbsp; display: flex;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-content {\n&nbsp; display: block;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.mwai-chat.mwai-window.mwai-open .mwai-open-button {\n&nbsp; display: none;\n}")}},"Default CSS"),React.createElement(E._,{fullWidth:!0,onClick:function(){a(i,"style")},disabled:!c},"Apply CSS")))},Po=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E,w,R,x,O=e.settings,S=e.onUpdateSettings;return React.createElement(React.Fragment,null,React.createElement(Xa,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.SPACING,":"),React.createElement(Ee.A,{id:"spacing",name:"spacing",value:null!==(t=null==O?void 0:O.spacing)&amp;&amp;void 0!==t?t:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.BORDER_RADIUS,":"),React.createElement(Ee.A,{id:"borderRadius",name:"borderRadius",value:null!==(n=null==O?void 0:O.borderRadius)&amp;&amp;void 0!==n?n:"10px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.66}},React.createElement("label",null,He.COMMON.FONT_SIZE,":"),React.createElement(Ee.A,{id:"fontSize",name:"fontSize",value:null!==(r=null==O?void 0:O.fontSize)&amp;&amp;void 0!==r?r:"15px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:1}},React.createElement("label",null,He.COMMON.FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"fontColor",name:"fontColor",value:null!==(a=null==O?void 0:O.fontColor)&amp;&amp;void 0!==a?a:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(No,{id:"fontColor",name:"fontColor",value:null!==(o=null==O?void 0:O.fontColor)&amp;&amp;void 0!==o?o:"#FFFFFF",onChange:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_PRIMARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",style:{flex:1},value:null!==(i=null==O?void 0:O.backgroundPrimaryColor)&amp;&amp;void 0!==i?i:"#fafafa",onBlur:S,onEnter:S}),React.createElement(No,{id:"backgroundPrimaryColor",name:"backgroundPrimaryColor",value:null!==(l=null==O?void 0:O.backgroundPrimaryColor)&amp;&amp;void 0!==l?l:"#fafafa",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_USER_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundUserColor",name:"backgroundUserColor",style:{flex:1},value:null!==(c=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==c?c:"#0084ff",onBlur:S,onEnter:S}),React.createElement(No,{id:"backgroundUserColor",name:"backgroundUserColor",value:null!==(u=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==u?u:"#0084ff",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_AI_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundAiColor",name:"backgroundAiColor",style:{flex:1},value:null!==(s=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==s?s:"#eee",onBlur:S,onEnter:S}),React.createElement(No,{id:"backgroundAiColor",name:"backgroundAiColor",value:null!==(f=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==f?f:"#eee",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.BACK_AI_SECONDARY_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",style:{flex:1},value:null!==(d=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==d?d:"#ddd",onBlur:S,onEnter:S}),React.createElement(No,{id:"backgroundAiSecondaryColor",name:"backgroundAiSecondaryColor",value:null!==(m=null==O?void 0:O.backgroundSecondaryColor)&amp;&amp;void 0!==m?m:"#ddd",onChange:S,onEnter:S})))),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.POPUP,isCollapsed:!1}),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.WIDTH,":"),React.createElement(Ee.A,{id:"width",name:"width",value:null!==(p=null==O?void 0:O.width)&amp;&amp;void 0!==p?p:"460px",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col",style:{flex:.75}},React.createElement("label",null,He.COMMON.MAX_HEIGHT,":"),React.createElement(Ee.A,{id:"maxHeight",name:"maxHeight",value:null!==(h=null==O?void 0:O.maxHeight)&amp;&amp;void 0!==h?h:"40vh",onBlur:S,onEnter:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(y=null==O?void 0:O.iconTextBackgroundColor)&amp;&amp;void 0!==y?y:"#343541",onBlur:S,onEnter:S}),React.createElement(No,{id:"iconTextBackgroundColor",name:"iconTextBackgroundColor",value:null!==(v=null==O?void 0:O.iconTextBackgroundColor)&amp;&amp;void 0!==v?v:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.AVATAR_MESSAGE_FONT_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"iconTextColor",name:"iconTextColor",value:null!==(g=null==O?void 0:O.iconTextColor)&amp;&amp;void 0!==g?g:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(No,{id:"iconTextColor",name:"iconTextColor",value:null!==(b=null==O?void 0:O.iconTextColor)&amp;&amp;void 0!==b?b:"#FFFFFF",onChange:S,onEnter:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BACKGROUND_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",style:{flex:1},value:null!==(E=null==O?void 0:O.backgroundHeaderColor)&amp;&amp;void 0!==E?E:"#343541",onBlur:S,onEnter:S}),React.createElement(No,{id:"backgroundHeaderColor",name:"backgroundHeaderColor",value:null!==(w=null==O?void 0:O.backgroundHeaderColor)&amp;&amp;void 0!==w?w:"#343541",onChange:S,onEnter:S}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.HEADER_BUTTONS_COLOR,":"),React.createElement("div",{style:{display:"flex"}},React.createElement(Ee.A,{id:"headerButtonsColor",name:"headerButtonsColor",style:{flex:1},value:null!==(R=null==O?void 0:O.headerButtonsColor)&amp;&amp;void 0!==R?R:"#FFFFFF",onBlur:S,onEnter:S}),React.createElement(No,{id:"headerButtonsColor",name:"headerButtonsColor",value:null!==(x=null==O?void 0:O.headerButtonsColor)&amp;&amp;void 0!==x?x:"#FFFFFF",onChange:S,onEnter:S}))))))};function Mo(e){return Mo="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Mo(e)}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(Object(n),!0).forEach((function(t){Fo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Mo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Mo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Bo=function(e){var t,n,r=e.theme,a=e.updateTheme,o=e.resetTheme,i=e.deleteTheme,l=function(e,t){var n=Go(Go({},r.settings),{},Fo({},t,e));a(n,"settings")};return React.createElement(React.Fragment,null,"internal"===r.type&amp;&amp;"chatgpt"===r.themeId&amp;&amp;React.createElement(_o,{settings:null!==(t=r.settings)&amp;&amp;void 0!==t?t:[],onUpdateSettings:l}),"internal"===r.type&amp;&amp;"messages"===r.themeId&amp;&amp;React.createElement(Po,{settings:null!==(n=r.settings)&amp;&amp;void 0!==n?n:[],onUpdateSettings:l}),"internal"!==r.type&amp;&amp;React.createElement(jo,{theme:r,onUpdateTheme:a}),React.createElement(xe.i,null),React.createElement(Se.L,{title:He.COMMON.ACTIONS}),React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement(E._,{className:"secondary",onClick:function(){o()}},He.COMMON.RESET),React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",disabled:"internal"===r.type,onClick:i},He.COMMON.DELETE)))};function Uo(e){return Uo="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Uo(e)}function Ho(){Ho=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Uo(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Uo(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Zo(e){return function(e){if(Array.isArray(e))return Qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Uo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Uo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wo(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qo(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wo(o,r,a,i,l,"next",e)}function l(e){Wo(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Xo(e,t){if(e){if("string"==typeof e)return Qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qo(e,t):void 0}}function Qo(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Ko=wp.element.useState;const Jo=function(e){var t,n,r=(0,u.NL)(),a=e.onSwitchTheme,o=void 0===a?function(){}:a,i=(t=Ko(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||Xo(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],c=i[1],s=(0,Ne.a)({queryKey:["themes"],queryFn:ln,initialData:j}).data,f=e.currentTheme,d=function(){var e=qo(Ho().mark((function e(t,n){var a,o,i;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),a=Yo(Yo({},f),{},zo({},n,t)),o=Zo(s),i=o.findIndex((function(e){return e.themeId===f.themeId})),o[i]=a,e.next=8,un(o);case 8:o=e.sent,r.setQueryData(["themes"],o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:c(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=qo(Ho().mark((function e(){var t;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,un([].concat(Zo(s),[{type:"css",name:"New Theme",themeId:"theme-"+vt(),settings:[],style:""}]));case 4:t=e.sent,r.setQueryData(["themes"],t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:c(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=qo(Ho().mark((function e(){var t,n;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Zo(s.filter((function(e){return e.themeId!==f.themeId}))),n=t[0],o(n.themeId),e.next=6,un(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=qo(Ho().mark((function e(){var t,n;return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),t=Zo(s),n=t.findIndex((function(e){return e.themeId===f.themeId})),t[n]={type:t[n].type,name:t[n].name,themeId:t[n].themeId,settings:[],style:""},e.next=6,un(t);case 6:return e.next=8,r.setQueryData(["themes"],t);case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(b.c,{inversed:!0,onChange:function(e,t){var n=s.find((function(e){return e.themeId===t.key}));n&amp;&amp;o(n.themeId)},currentTab:null==f?void 0:f.themeId,action:React.createElement(React.Fragment,null,React.createElement(E._,{className:"primary-block",icon:"plus",onClick:m}))},null==s?void 0:s.map((function(e){return React.createElement(b.P,{key:e.themeId,title:e.name,busy:l},React.createElement(Bo,{theme:e,updateTheme:d,resetTheme:h,deleteTheme:p}))}))))};var $o=n(3379),ei=n.n($o),ti=n(7795),ni=n.n(ti),ri=n(569),ai=n.n(ri),oi=n(3565),ii=n.n(oi),li=n(9216),ci=n.n(li),ui=n(4589),si=n.n(ui),fi=n(9815),di={};di.styleTagTransform=si(),di.setAttributes=ii(),di.insert=ai().bind(null,"head"),di.domAPI=ni(),di.insertStyleElement=ci(),ei()(fi.Z,di);const mi=fi.Z&amp;&amp;fi.Z.locals?fi.Z.locals:void 0;var pi=n(402),hi={};hi.styleTagTransform=si(),hi.setAttributes=ii(),hi.insert=ai().bind(null,"head"),hi.domAPI=ni(),hi.insertStyleElement=ci(),ei()(pi.Z,hi);const yi=pi.Z&amp;&amp;pi.Z.locals?pi.Z.locals:void 0;function vi(e){return vi="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},vi(e)}var gi=["active","disabled","style"],bi=["onUploadFile","uploadedFile","disabled","style","type"];function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wi(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Si(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},Oi.apply(this,arguments)}function Si(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==vi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}var Ni=wp.element,_i=Ni.useState,Ci=Ni.useMemo,Ii=Ni.useEffect,Li=Ni.useRef,ki=Ni.useImperativeHandle,Ai=function(e){var t=e.active,n=e.disabled,r=(e.style,Ti(e,gi));return Si(Si(Si(Si(Si({display:"inline-block",width:"16px"},"display","flex"),"alignItems","center"),"justifyContent","center"),"animation",t?"pulse 2s infinite":""),"WebkitAnimation",t?"pulse 2s infinite":""),React.createElement("div",Oi({active:t?"true":"false",disabled:n},r),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",dangerouslySetInnerHTML:{__html:'&lt;path d="M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"/&gt;'}}))},ji=React.forwardRef((function(e,t){var n=e.onUploadFile,r=e.uploadedFile,a=e.disabled,o=e.style,i=e.type,l=Ti(e,bi),c=Li(),u=function(e){n(e)};return ki(t,(function(){return{handleExternalFile:u}})),React.createElement("div",Oi({disabled:a,onClick:function(){null!=r&amp;&amp;r.localFile?n(null):a||c.current.click()},onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),!a){var t=e.dataTransfer.files;if(t.length&gt;0){var r=t[0];n(r)}}},onDragOver:function(e){e.preventDefault()},style:xi({cursor:a?"default":"pointer"},o)},l),React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",dangerouslySetInnerHTML:{__html:"vision"===i?'\n&lt;svg fill="none" viewBox="0 0 3335 3335" xmlns="http://www.w3.org/2000/svg"&gt;\n&lt;path d="m2834 0h-2333.9c-275.78 0-500.12 224.34-500.12 500.12v2333.9c0 275.78 224.34 500.12 500.12 500.12h2333.9c275.78 0 500.12-224.34 500.12-500.12v-2333.9c0-275.78-224.34-500.12-500.12-500.12z" fill="url(#c)"/&gt;\n&lt;path d="m2539 1961.5c-55.51 28-122.51 42.82-193.89 42.82-148.23 0-292.47-61.05-376.72-159.38l-349.69-406.35c-116.81-136.42-281.48-214.57-451.76-214.57-170.29 0-334.96 78.15-451.6 214.41l-715.34 833.69v561.82c0 275.78 224.34 500.11 500.12 500.11h2333.9c275.78 0 500.12-224.33 500.12-500.11v-1270l-795.11 397.55z" fill="url(#b)"/&gt;\n&lt;path d="m2333.9 1500.3c276.21 0 500.12-223.91 500.12-500.11 0-276.21-223.91-500.12-500.12-500.12-276.2 0-500.11 223.91-500.11 500.12 0 276.2 223.91 500.11 500.11 500.11z" fill="url(#a)"/&gt;\n&lt;defs&gt;\n&lt;linearGradient id="c" x2="3334.1" y1="1667" y2="1667" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#BBDEFB" offset="0"/&gt;\n&lt;stop stop-color="#64B5F6" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;linearGradient id="b" x2="3334.1" y1="2279.2" y2="2279.2" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#42A5F5" offset="0"/&gt;\n&lt;stop stop-color="#1E88E5" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;linearGradient id="a" x1="1833.8" x2="2834" y1="1000.2" y2="1000.2" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#42A5F5" offset="0"/&gt;\n&lt;stop stop-color="#1E88E5" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;/defs&gt;\n&lt;/svg&gt;\n':'\n&lt;?xml version="1.0" encoding="UTF-8"?&gt;\n&lt;svg fill="none" viewBox="0 0 3335 3335" xmlns="http://www.w3.org/2000/svg"&gt;\n&lt;path d="m2834 0h-2333.9c-275.78 0-500.12 224.34-500.12 500.12v2333.9c0 275.78 224.34 500.12 500.12 500.12h2333.9c275.78 0 500.12-224.34 500.12-500.12v-2333.9c0-275.78-224.34-500.12-500.12-500.12z" fill="url(#a)"/&gt;\n&lt;g clip-path="url(#b)" fill="#2A92EB"&gt;\n&lt;path d="m2766.1 567.92c-233.22-233.22-611.33-233.22-844.55-5e-3l-499.12 499.12c-241.24 241.25-218.91 625.64 0 844.55 36.65 36.66 77.21 66.55 120.04 91.1l91.1-91.1c59.75-59.75 38.72-129.61 37.64-180.02-13.11-9.29-25.87-19.34-37.64-31.12-112.34-112.32-117.39-304.89 0-422.27 17.43-17.44 488.53-488.53 499.11-499.11 116.44-116.45 305.83-116.45 422.27 0 116.45 116.45 116.45 305.83 0 422.27l-329.91 329.91c9.54 52.79 66.8 177.83 37.35 384.1 1.43-1.41 3.16-2.32 4.59-3.75l499.12-499.12c233.21-233.22 233.21-611.33 0-844.55z"/&gt;\n&lt;path d="m1950.3 1383.7c-36.66-36.66-77.22-66.55-120.04-91.1l-91.09 91.1c-59.76 59.75-38.73 129.6-37.66 180.01 13.13 9.3 25.88 19.34 37.66 31.12 112.33 112.34 117.38 304.89 0 422.28-17.48 17.47-527.6 527.59-537.8 537.79-116.45 116.45-305.83 116.45-422.28 0-116.45-116.44-116.45-305.83 0-422.27l368.6-368.6c-9.54-52.79-66.8-177.83-37.34-384.1-1.44 1.41-3.17 2.34-4.61 3.76l-537.79 537.81c-233.21 233.22-233.21 611.33 0 844.55 233.22 233.21 611.33 233.21 844.55 0l537.8-537.8c236.76-236.76 223.82-620.73 0-844.55z"/&gt;\n&lt;/g&gt;\n&lt;defs&gt;\n&lt;linearGradient id="a" x2="3334.1" y1="1667" y2="1667" gradientUnits="userSpaceOnUse"&gt;\n&lt;stop stop-color="#BBDEFB" offset="0"/&gt;\n&lt;stop stop-color="#64B5F6" offset="1"/&gt;\n&lt;/linearGradient&gt;\n&lt;clipPath id="b"&gt;\n&lt;rect transform="translate(393 393)" width="2548" height="2548" fill="#fff"/&gt;\n&lt;/clipPath&gt;\n&lt;/defs&gt;\n&lt;/svg&gt;\n'}}),React.createElement("span",null,r.uploadProgress&amp;&amp;"".concat(Math.round(r.uploadProgress),"%")),React.createElement("input",{type:"file",ref:c,onChange:function(e){var t=e.target.files;if(t.length&gt;0){var r=t[0];n(r)}},style:{display:"none"}}))})),Pi=function(e){return{modCss:Ci((function(){return function(t,n){var r=mi;return e&amp;&amp;"none"!==e.themeId&amp;&amp;"css"!==e.type||(r=null),"messages"===(null==e?void 0:e.themeId)&amp;&amp;(r=yi),Array.isArray(t)||(t=[t]),n&amp;&amp;Object.entries(n).forEach((function(e){var n=Ei(e,2),r=n[0];n[1]&amp;&amp;t.push(r)})),t.map((function(t){var n;return r?r[t]?"".concat(t," ").concat(r[t]):(console.warn('The class name "'.concat(t,'" is not defined in the "').concat(null!==(n=null==e?void 0:e.themeId)&amp;&amp;void 0!==n?n:"N/A",'" theme.')),t):t})).join(" ")}}),[e])}};function Mi(e){return 0===e.indexOf("http")}function Di(e){return Di="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Di(e)}function Gi(e,t){for(var n=0;n&lt;t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&amp;&amp;(r.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==Di(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Di(a)?a:String(a)),r)}var a}var Fi=new(function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.instance)return e.instance;this.chatbots=[],this.filters={},this.actions={},e.instance=this,"undefined"!=typeof window&amp;&amp;(window.MwaiAPI=e.instance)}var t,n;return t=e,n=[{key:"getChatbot",value:function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:null;return e?this.chatbots.find((function(t){return t.botId===e||t.customId===e})):this.chatbots[0]}},{key:"addFilter",value:function(e,t){var n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:10;this.filters[e]||(this.filters[e]=[]),this.filters[e].push({callback:t,priority:n}),this.filters[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"applyFilters",value:function(e,t){for(var n=arguments.length,r=new Array(n&gt;2?n-2:0),a=2;a&lt;n;a++)r[a-2]=arguments[a];return this.filters[e]?this.filters[e].reduce((function(e,t){return t.callback.apply(t,[e].concat(r))}),t):t}},{key:"addAction",value:function(e,t){var n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:10;this.actions[e]||(this.actions[e]=[]),this.actions[e].push({callback:t,priority:n}),this.actions[e].sort((function(e,t){return e.priority-t.priority}))}},{key:"doAction",value:function(e){for(var t=arguments.length,n=new Array(t&gt;1?t-1:0),r=1;r&lt;t;r++)n[r-1]=arguments[r];this.actions[e]&amp;&amp;this.actions[e].forEach((function(e){e.callback.apply(e,n)}))}}],n&amp;&amp;Gi(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()),Bi=function(e,t,n){return Fi.applyFilters(e,t,n)};function Ui(){Ui=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==zi(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(zi(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Hi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zi(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Vi(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vi(o,r,a,i,l,"next",e)}function l(e){Vi(o,r,a,i,l,"throw",e)}i(void 0)}))}}function zi(e){return zi="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},zi(e)}var Wi=wp.element,qi=Wi.useMemo,Xi=Wi.useEffect,Qi=Wi.useState,Ki=function(){var e=new WeakSet;return function(t,n){if("object"===zi(n)&amp;&amp;null!==n){if(e.has(n))throw new Error("Circular reference found. Cancelled.",{key:t,value:n});e.add(n)}return n}};function Ji(e,t){return $i.apply(this,arguments)}function $i(){return $i=Yi(Ui().mark((function e(t,n){var r,a,o,i,l,c,u,s,f,d,m,p,h,y,v=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.length&gt;2&amp;&amp;void 0!==v[2]?v[2]:null,n){e.next=14;break}return e.prev=2,e.next=5,t.json();case 5:return a=e.sent,r&amp;&amp;console.log("[".concat(r,"] IN: "),a),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),console.error("Could not parse the regular response.",{err:e.t0,data}),e.abrupt("return",{success:!1,message:"Could not parse the regular response."});case 14:o=t.body.getReader(),i=new TextDecoder("utf-8"),l="",c="";case 18:return e.next=21,o.read();case 21:if(u=e.sent,s=u.value,f=u.done,l+=i.decode(s,{stream:!0}),!f){e.next=27;break}return e.abrupt("break",68);case 27:d=l.split("\n"),m=0;case 29:if(!(m&lt;d.length-1)){e.next=65;break}if(0===d[m].indexOf("data: ")){e.next=32;break}return e.abrupt("continue",62);case 32:if("live"!==(p=JSON.parse(d[m].replace("data: ",""))).type){e.next=39;break}r&amp;&amp;console.log("[".concat(r," STREAM] LIVE: "),p),c+=p.data,n&amp;&amp;n(c,p.data),e.next=62;break;case 39:if("error"!==p.type){e.next=51;break}return e.prev=40,r&amp;&amp;console.error("[".concat(r," STREAM] ERROR: "),p.data),e.abrupt("return",{success:!1,message:p.data});case 45:return e.prev=45,e.t1=e.catch(40),console.error("Could not parse the 'error' stream.",{err:e.t1,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'error' stream."});case 49:e.next=62;break;case 51:if("end"!==p.type){e.next=62;break}return e.prev=52,h=JSON.parse(p.data),r&amp;&amp;console.log("[".concat(r," STREAM] END: "),h),e.abrupt("return",h);case 58:return e.prev=58,e.t2=e.catch(52),console.error("Could not parse the 'end' stream.",{err:e.t2,data:p}),e.abrupt("return",{success:!1,message:"Could not parse the 'end' stream."});case 62:m++,e.next=29;break;case 65:l=d[d.length-1],e.next=18;break;case 68:return e.prev=68,y=JSON.parse(l),r&amp;&amp;console.log("[".concat(r," STREAM] IN: "),y),e.abrupt("return",y);case 74:return e.prev=74,e.t3=e.catch(68),console.error("Could not parse the buffer.",{err:e.t3,buffer:l}),e.abrupt("return",{success:!1,message:"Could not parse the buffer."});case 78:case"end":return e.stop()}}),e,null,[[2,10],[40,45],[52,58],[68,74]])}))),$i.apply(this,arguments)}function el(e,t,n,r){return tl.apply(this,arguments)}function tl(){return(tl=Yi(Ui().mark((function e(t,n,r,a){var o;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={"Content-Type":"application/json"},r&amp;&amp;(o["X-WP-Nonce"]=r),a&amp;&amp;(o.Accept="text/event-stream"),e.next=5,fetch("".concat(t),{method:"POST",headers:o,body:JSON.stringify(n,Ki())});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nl(e,t,n,r){return rl.apply(this,arguments)}function rl(){return rl=Yi(Ui().mark((function e(t,n,r,a){var o,i=arguments;return Ui().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.length&gt;4&amp;&amp;void 0!==i[4]?i[4]:{},e.abrupt("return",new Promise((function(e,i){var l=new FormData;l.append("file",n);for(var c=0,u=Object.entries(o);c&lt;u.length;c++){var s=Hi(u[c],2),f=s[0],d=s[1];l.append(f,d)}var m=new XMLHttpRequest;m.open("POST",t,!0),r&amp;&amp;m.setRequestHeader("X-WP-Nonce",r),m.upload.onprogress=function(e){if(e.lengthComputable&amp;&amp;a){var t=e.loaded/e.total*100;a(t)}},m.onload=function(){if(m.status&gt;=200&amp;&amp;m.status&lt;300)try{var t=JSON.parse(m.responseText);e(t)}catch(e){i({status:m.status,statusText:m.statusText,error:"The server response is not valid JSON"})}else{try{var n=JSON.parse(m.responseText);return void i({status:m.status,message:n.message})}catch(e){}i({status:m.status,statusText:m.statusText})}},m.onerror=function(){i({status:m.status,statusText:m.statusText})},m.send(l)})));case 2:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function al(){return Math.random().toString(36).substring(2)}var ol=function(){var e=Hi(Qi(!0),2),t=e[0],n=e[1];Xi((function(){var e=setTimeout((function(){var e=setInterval((function(){n((function(e){return!e}))}),500);return function(){return clearInterval(e)}}),200);return function(){return clearTimeout(e)}}),[]);var r={opacity:t?1:0,width:"1px",height:"1em",borderLeft:"8px solid",marginLeft:"2px"};return React.createElement("span",{style:r})},il=function(e){var t,n=e.content,r=e.error,a=e.isStreaming,o=e.baseClass,i=void 0===o?"mwai-output-handler":o,l=null!==(t=r||n)&amp;&amp;void 0!==t?t:"";(l.match(/```/g)||[]).length%2!=0?l+="\n```":a&amp;&amp;(l+="&lt;BlinkingCursor /&gt;");var c=qi((function(){var e=[i];return r&amp;&amp;e.push("mwai-error"),e}),[r]),u=qi((function(){return{wrapper:"div",forceWrapper:!0,overrides:{BlinkingCursor:{component:ol},a:{props:{target:"_blank"}}}}}),[]);return React.createElement(ua.Z,{options:u,className:c.join(" "),children:l})};function ll(e){return ll="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ll(e)}var cl=["children"];function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sl(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==ll(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ll(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fl(){fl=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ll(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ll(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function dl(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ml(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){dl(o,r,a,i,l,"next",e)}function l(e){dl(o,r,a,i,l,"throw",e)}i(void 0)}))}}function pl(e){return function(e){if(Array.isArray(e))return vl(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||yl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yl(e,t){if(e){if("string"==typeof e)return vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vl(e,t):void 0}}function vl(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var gl=wp.element,bl=gl.useContext,El=gl.createContext,wl=gl.useState,Rl=gl.useMemo,xl=gl.useEffect,Ol=gl.useCallback,Sl="AI: ",Tl=El(),Nl=function(){var e=bl(Tl);if(!e)throw new Error("useChatbotContext must be used within a ChatbotContextProvider");return e},_l=function(e){var t,n,r,a,o,i=e.children,l=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,cl),c=l.params,u=l.system,s=l.theme,f=l.atts,d=Pi(s).modCss,m=(null==s?void 0:s.settings)||{},p=hl(wl([]),2),h=p[0],y=p[1],v=hl(wl(al()),2),g=v[0],b=v[1],E=hl(wl(""),2),w=E[0],R=E[1],x=hl(wl({localFile:null,uploadedId:null,uploadedUrl:null,uploadProgress:null}),2),O=x[0],S=x[1],T=hl(wl(null),2),N=T[0],_=T[1],C=hl(wl(!1),2),I=C[0],L=C[1],k=hl(wl(),2),A=k[0],j=k[1],P=u.stream||!1,M=u.botId,D=u.customId,G=u.userData,F=u.sessionId,B=u.contextId,U=u.restNonce,H=u.pluginUrl,Z=u.restUrl,V=u.debugMode,Y=null!==(t=null==u?void 0:u.typewriter)&amp;&amp;void 0!==t&amp;&amp;t,z=null!==(n=null==u?void 0:u.speech_recognition)&amp;&amp;void 0!==n&amp;&amp;n,W=null!==(r=null==u?void 0:u.speech_synthesis)&amp;&amp;void 0!==r&amp;&amp;r,q=null!==(a=null===(o=c.startSentence)||void 0===o?void 0:o.trim())&amp;&amp;void 0!==a?a:"",X=function(e){var t,n,r,a,o,i,l,c,u,s,f,d,m,p,h,y,v,g,b,E,w,R,x=null!==(t=null===(n=e.guestName)||void 0===n?void 0:n.trim())&amp;&amp;void 0!==t?t:"",O=null!==(r=null===(a=e.textSend)||void 0===a?void 0:a.trim())&amp;&amp;void 0!==r?r:"",S=null!==(o=null===(i=e.textClear)||void 0===i?void 0:i.trim())&amp;&amp;void 0!==o?o:"",T=parseInt(e.textInputMaxLength),N=null!==(l=null===(c=e.textInputPlaceholder)||void 0===c?void 0:c.trim())&amp;&amp;void 0!==l?l:"",_=null!==(u=null===(s=e.textCompliance)||void 0===s?void 0:s.trim())&amp;&amp;void 0!==u?u:"",C=Boolean(e.window),I=Boolean(e.copyButton),L=Boolean(e.fullscreen),k=null!==(f=null===(d=e.icon)||void 0===d?void 0:d.trim())&amp;&amp;void 0!==f?f:"",A=null!==(m=null===(p=e.iconText)||void 0===p?void 0:p.trim())&amp;&amp;void 0!==m?m:"",j=null!==(h=null===(y=e.iconAlt)||void 0===y?void 0:y.trim())&amp;&amp;void 0!==h?h:"",P=null!==(v=null===(g=e.iconPosition)||void 0===g?void 0:g.trim())&amp;&amp;void 0!==v?v:"",M=null!==(b=null===(E=e.aiName)||void 0===E?void 0:E.trim())&amp;&amp;void 0!==b?b:"",D=null!==(w=null===(R=e.userName)||void 0===R?void 0:R.trim())&amp;&amp;void 0!==w?w:"";return{textSend:O,textClear:S,textInputMaxLength:T,textInputPlaceholder:N,textCompliance:_,window:C,copyButton:I,fullscreen:L,localMemory:Boolean(e.localMemory),imageUpload:Boolean(e.imageUpload),fileUpload:Boolean(e.fileUpload),icon:k,iconText:A,iconAlt:j,iconPosition:P,aiName:M,userName:D,guestName:x}}(c),Q=X.aiName,K=X.userName,J=X.textSend,$=X.textClear,ee=X.textInputMaxLength,te=X.textInputPlaceholder,ne=X.textCompliance,re=X.guestName,ae=X.window,oe=X.copyButton,ie=X.fullscreen,le=X.localMemory,ce=X.icon,ue=X.iconText,se=X.iconAlt,fe=X.iconPosition,de=X.imageUpload,me=X.fileUpload,pe=le&amp;&amp;(!!D||!!M),he=pe?"mwai-chat-".concat(D||M):null,ye=Rl((function(){var e=ce?Mi(ce)?ce:H+"/images/"+ce:H+"/images/chat-green.svg";return{cssVariables:Object.keys(m).reduce((function(e,t){return e["--mwai-".concat(t)]=m[t],e}),{}),iconUrl:e}}),[ce,H,m]),ve=ye.cssVariables,ge=ye.iconUrl;Q=function(e,t,n,r){if(e)e=Mi(e)?React.createElement("div",{className:r("mwai-avatar")},React.createElement("img",{src:e})):React.createElement("div",{className:r("mwai-name-text")},e);else{var a=n||"".concat(t,"/images/chat-openai.svg");e=React.createElement("div",{className:r(["mwai-avatar"])},React.createElement("img",{src:"".concat(a)}))}return e}(Q,H,ge,d),K=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length&gt;2?arguments[2]:void 0,r=arguments.length&gt;3?arguments[3]:void 0,a=arguments.length&gt;4?arguments[4]:void 0;return e?Mi(e)?e=React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:e})):(e=function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:"Guest: ",n=arguments.length&gt;2?arguments[2]:void 0;if(!n||0===Object.keys(n).length)return t;for(var r=0,a=Object.entries(n);r&lt;a.length;r++){var o=Ei(a[r],2),i=o[0],l=o[1],c="{".concat(i,"}");e.includes(c)&amp;&amp;(e=e.replace(c,l))}return e||t||"Guest: "}(e,t,n),e=React.createElement("div",{className:a(["mwai-name-text"])},e)):e=n?React.createElement("div",{className:a(["mwai-avatar"])},React.createElement("img",{src:n.AVATAR_URL})):React.createElement("div",{className:a(["mwai-avatar","mwai-svg"])},React.createElement("img",{src:"".concat(r,"/images/avatar-user.svg")})),e}(K,re,G,H,d),xl((function(){we()}),[q]);var be=function(e){he&amp;&amp;localStorage.setItem(he,JSON.stringify({chatId:g,messages:e},Ki()))},Ee=function(){S({localFile:null,uploadedId:null,uploadedUrl:null,uploadProgress:null})},we=function(){if(Ee(),q){var e=[{id:al(),role:"assistant",content:q,who:Sl,timestamp:(new Date).getTime()}];y(e)}else y([])},Re=Ol((function(){var e=[];if(he&amp;&amp;(e=localStorage.getItem(he)))return e=JSON.parse(e),y(e.messages),void b(e.chatId);we()}),[M]);xl((function(){Re()}),[M]),xl((function(){if(A){L(!1);var e=pl(h),t=e.length&gt;0?e[e.length-1]:null;if(!A.success)return"assistant"===t.role&amp;&amp;t.isQuerying&amp;&amp;e.pop(),e.pop(),e.push({id:al(),role:"system",content:A.message,who:Sl,timestamp:(new Date).getTime()}),y(e),void be(e);if("assistant"===t.role&amp;&amp;t.isQuerying)t.content=Bi("ai.reply",A.reply),A.images&amp;&amp;(t.images=A.images),t.timestamp=(new Date).getTime(),delete t.isQuerying;else if("assistant"===t.role&amp;&amp;t.isStreaming)t.content=Bi("ai.reply",A.reply),A.images&amp;&amp;(t.images=A.images),t.timestamp=(new Date).getTime(),delete t.isStreaming;else{var n={id:al(),role:"assistant",content:Bi("ai.reply",A.reply),who:Sl,timestamp:(new Date).getTime()};A.images&amp;&amp;(n.images=A.images),e.push(n)}y(e),be(e)}}),[A]);var xe=Ol(ml(fl().mark((function e(){return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(al());case 2:he&amp;&amp;localStorage.removeItem(he),we(),R("");case 5:case"end":return e.stop()}}),e)}))),[M]),Oe=function(){var e=ml(fl().mark((function e(t){var n,r,a,o,i,l,c;return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=3;break}return console.error("AI Engine: There is already a query in progress."),e.abrupt("return");case 3:return"string"!=typeof t&amp;&amp;(t=w),L(!0),R(""),Ee(),n=[].concat(pl(h),[{id:al(),role:"user",content:t,who:"User: ",timestamp:(new Date).getTime()}]),be(n),r=al(),a=[].concat(pl(n),[{id:r,role:"assistant",content:null,who:Sl,timestamp:null,isQuerying:!P,isStreaming:!!P}]),y(a),o=sl({botId:M,customId:D,session:F,chatId:g,contextId:B,messages:h,newMessage:t,newFileId:null==O?void 0:O.uploadedId,stream:P},f),e.prev=13,V&amp;&amp;console.log("[CHATBOT] OUT: ",o),i=P?function(e){y((function(t){var n=pl(t),a=n.length&gt;0?n[n.length-1]:null;return a&amp;&amp;a.id===r&amp;&amp;(a.content=e,a.timestamp=(new Date).getTime()),n}))}:null,e.next=18,el("".concat(Z,"/mwai-ui/v1/chats/submit"),o,U,P);case 18:return l=e.sent,e.next=21,Ji(l,i,V?"CHATBOT":null);case 21:if((c=e.sent).success||!c.message){e.next=30;break}return _(c.message),a.pop(),a.pop(),y(a),be(a),L(!1),e.abrupt("return");case 30:j(c),e.next=37;break;case 33:e.prev=33,e.t0=e.catch(13),console.error("An error happened in the handling of the chatbot response.",{err:e.t0}),L(!1);case 37:case"end":return e.stop()}}),e,null,[[13,33]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=ml(fl().mark((function e(t){var n,r;return fl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==t){e.next=4;break}return Ee(),e.abrupt("return");case 4:return n=de?{type:"image",purpose:"vision"}:{type:"document",purpose:"assistant-in"},e.next=7,nl("".concat(Z,"/mwai-ui/v1/files/upload"),t,U,(function(e){S({localFile:t,uploadedId:null,uploadedUrl:null,uploadProgress:e})}),n);case 7:r=e.sent,S({localFile:t,uploadedId:r.data.id,uploadedUrl:r.data.url,uploadProgress:null}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("onFileUpload Error",e.t0),_(e.t0.message||"An unknown error occurred"),Ee();case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Te={setInputText:R,saveMessages:be,initChatbot:Re,setMessages:y,setClientId:b,resetMessages:we,resetError:function(){_(null)},onClear:xe,onSubmit:Oe,onFileUpload:Se},Ne={botId:M,customId:D,userData:G,pluginUrl:H,inputText:w,messages:h,busy:I,error:N,setBusy:L,typewriter:Y,speechRecognition:z,speechSynthesis:W,modCss:d,localMemory:pe,imageUpload:de,uploadedFile:O,fileUpload:me,textSend:J,textClear:$,textInputMaxLength:ee,textInputPlaceholder:te,textCompliance:ne,aiName:Q,userName:K,guestName:re,isWindow:ae,copyButton:oe,fullscreen:ie,icon:ce,iconText:ue,iconAlt:se,iconPosition:fe,cssVariables:ve,iconUrl:ge};return React.createElement(Tl.Provider,{value:{state:Ne,actions:Te}},i)},Cl=n(9911);function Il(e){return Il="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Il(e)}function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Il(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Il(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Al=function(e){var t={width:9,height:9,margin:"5px 0px 0px 5px",borderRadius:"50%",backgroundColor:"#a3a1a1",opacity:1,animation:"bouncing-loader 0.4s infinite alternate"};return React.createElement(React.Fragment,null,React.createElement("style",null,"\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; @keyframes bouncing-loader {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; opacity: 0.6;\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transform: translateY(-10px);\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; &nbsp; &nbsp; "),React.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:26}},["0.1s","0.2s","0.3s"].map((function(e,n){return React.createElement("div",{key:n,style:kl(kl({},t),{},{animationDelay:e})})}))))};function jl(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Pl=wp.element.useState;const Ml=function(e){var t,n,r=e.content,a=e.modCss,o=(t=Pl(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1];return React.createElement("div",{className:a("mwai-copy-button",{"mwai-animate":i}),onClick:function(){try{navigator.clipboard.writeText(r),l(!0),setTimeout((function(){l(!1)}),1e3)}catch(e){console.warn("Not allowed to copy to clipboard. Make sure your website uses HTTPS.",{content:r})}}},React.createElement("div",{className:a("mwai-copy-button-one")}),React.createElement("div",{className:a("mwai-copy-button-two")}))};function Dl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Fl=wp.element,Bl=Fl.useState,Ul=Fl.useMemo,Hl=Fl.useEffect,Zl=Fl.useRef,Vl=function(e){var t,n=e.message,r=e.onRendered,a=void 0===r?function(){}:r,o=Nl().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s="user"===n.role,f="assistant"===n.role,d=s?l:f?c:null,m=Dl(Bl(n.isQuerying||n.isStreaming),1)[0],p=n.isQuerying,h=n.isStreaming,y=null!==(t=n.content)&amp;&amp;void 0!==t?t:"";(y.match(/```/g)||[]).length%2!=0?y+="\n```":n.isStreaming&amp;&amp;(y+="&lt;BlinkingCursor /&gt;"),Hl((function(){m&amp;&amp;(!m||p||h)||a()}),[m,p,h]);var v=Ul((function(){return{overrides:{BlinkingCursor:{component:ol},a:{props:{target:"_blank"}}}}}),[p,h,y]);return p||h&amp;&amp;!y?React.createElement(Al,null):React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},d),React.createElement("span",{className:u("mwai-text")},React.createElement("span",null,s&amp;&amp;y.split("\n").map((function(e,t,n){return React.createElement(React.Fragment,null,e,t===n.length-1?null:React.createElement("br",null))})),!s&amp;&amp;React.createElement(ua.Z,{options:v},y))),i&amp;&amp;React.createElement(Ml,{content:n.content,modCss:u}))},Yl=function(e){var t=e.message,n=e.onRendered,r=void 0===n?function(){}:n,a=Nl().state,o=a.userName,i=a.aiName,l=a.modCss,c="user"===t.role,u="assistant"===t.role,s=c?o:u?i:null,f=Dl(Bl(null==t?void 0:t.images),2),d=f[0],m=f[1];return Hl((function(){r()})),t.isQuerying?React.createElement(Al,null):React.createElement(React.Fragment,null,React.createElement("span",{className:l("mwai-name")},s),React.createElement("span",{className:l("mwai-text")},React.createElement("div",{className:l("mwai-gallery")},null==d?void 0:d.map((function(e,t){return React.createElement("a",{key:t,href:e,target:"_blank",rel:"noopener noreferrer"},React.createElement("img",{key:t,src:e,onError:function(){return function(e){m((function(t){return t.map((function(t,n){return n===e?"https://placehold.co/600x200?text=Expired+Image":t}))}))}(t)}}))})))))},zl=function(e){var t=e.message,n=e.conversationRef,r=e.onRendered,a=void 0===r?function(){}:r,o=Nl().state,i=o.copyButton,l=o.userName,c=o.aiName,u=o.modCss,s=Zl(null),f=Dl(Bl(t.isQuerying),1)[0],d=Dl(Bl(!t.isQuerying),2),m=d[0],p=d[1],h=Dl(Bl(!1),2),y=h[0],v=h[1],g="user"===t.role?l:c,b=t.content;return function(e,t){var n=!(arguments.length&gt;2&amp;&amp;void 0!==arguments[2])||arguments[2],r=Li();Ii((function(){r.current=t}),[t]),Ii((function(){if(null!==e&amp;&amp;n){var t=setInterval((function(){r.current()}),e);return function(){return clearInterval(t)}}}),[e,n])}(200,(function(){n.current&amp;&amp;!y&amp;&amp;(n.current.scrollTop=n.current.scrollHeight)}),!m),Hl((function(){if(n.current){var e=function(){var e=n.current,t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;v(r-(t+a)&gt;20)};return n.current.addEventListener("scroll",e),function(){n.current&amp;&amp;n.current.removeEventListener("scroll",e)}}}),[n]),Hl((function(){if(f){if(s.current){var e={strings:[b],typeSpeed:Bi("typewriter.speed",15),showCursor:!1,onComplete:function(e){e.cursor&amp;&amp;e.cursor.remove(),a(),p((function(){return!0}))}},t=new Cl.Z(s.current,e);return function(){t.destroy()}}}else a()}),[t,t.isQuerying]),React.createElement(React.Fragment,null,t.isQuerying&amp;&amp;React.createElement(Al,null),!t.isQuerying&amp;&amp;f&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text"),ref:s})),!t.isQuerying&amp;&amp;!f&amp;&amp;React.createElement(React.Fragment,null,React.createElement("span",{className:u("mwai-name")},g),React.createElement("span",{className:u("mwai-text")},React.createElement(ua.Z,null,b))),m&amp;&amp;i&amp;&amp;React.createElement(Ml,{content:b,modCss:u}))};const Wl=function(e){var t,n=e.message,r=e.conversationRef,a=Nl().state,o=a.typewriter,i=a.modCss,l=Zl(),c=i("mwai-reply",{"mwai-ai":"assistant"===n.role,"mwai-user":"user"===n.role,"mwai-system":"system"===n.role}),u=(null==n||null===(t=n.images)||void 0===t?void 0:t.length)&gt;0,s=function(){l.current&amp;&amp;(n.isQuerying||l.current.classList.contains("mwai-rendered")||"undefined"!=typeof hljs&amp;&amp;(l.current.classList.add("mwai-rendered"),l.current.querySelectorAll("pre code").forEach((function(e){hljs.highlightElement(e),["hljs","hljs-title","hljs-keyword","hljs-string"].forEach((function(t){e.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t);var n=i(t).split(" ");n&amp;&amp;n.length&gt;1?e.classList.add(n[1]):console.warn("Could not find class for "+t)}))}))}))))};return Ul((function(){return"user"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(Vl,{message:n})):"assistant"===n.role?u?React.createElement("div",{ref:l,className:c},React.createElement(Yl,{message:n,conversationRef:r,onRendered:s})):o&amp;&amp;!n.isStreaming?React.createElement("div",{ref:l,className:c},React.createElement(zl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",{ref:l,className:c},React.createElement(Vl,{message:n,conversationRef:r,onRendered:s})):"system"===n.role?React.createElement("div",{ref:l,className:c},React.createElement(Vl,{message:n,conversationRef:r,onRendered:s})):React.createElement("div",null,React.createElement("i",null,"Unhandled role."))}),[n,r,u,o])};var ql=n(8514),Xl=wp.element,Ql=Xl.useRef,Kl=Xl.useImperativeHandle;const Jl=React.forwardRef((function(e,t){var n=e.onTypeText,r=e.onSubmitAction,a=e.onUploadFile,o=e.inputText,i=e.textInputMaxLength,l=e.textInputPlaceholder,c=e.busy,u=e.modCss,s=e.isListening,f=e.setIsListening,d=e.speechRecognitionAvailable,m=e.speechRecognition,p=e.fileUpload,h=e.imageUpload,y=e.uploadedFile,v=e.composing,g=e.setComposing,b=Ql(),E=Ql();return Kl(t,(function(){return{focusInput:function(){var e;null===(e=b.current)||void 0===e||e.focus()},currentElement:function(){return b.current}}})),React.createElement("div",{className:u("mwai-input-text"),onDrop:function(e){if(e.preventDefault(),e.stopPropagation(),!c){var t=e.dataTransfer.files;t.length&amp;&amp;E.current.handleExternalFile(t[0])}},onDragOver:function(e){e.preventDefault()}},(h||p)&amp;&amp;React.createElement(ji,{className:u("mwai-file-upload",{"mwai-enabled":null==y?void 0:y.uploadedId,"mwai-busy":(null==y?void 0:y.localFile)&amp;&amp;!(null!=y&amp;&amp;y.uploadedId)}),type:h?"vision":"assistant",disabled:c,ref:E,uploadedFile:y,onUploadFile:a}),React.createElement(ql.Z,{ref:b,disabled:c,placeholder:l,value:o,maxLength:i,onCompositionStart:function(){return g(!0)},onCompositionEnd:function(){return g(!1)},onKeyDown:function(e){v||"Enter"!==e.code||e.shiftKey||(e.preventDefault(),r())},onChange:function(e){return n(e.target.value)}}),m&amp;&amp;React.createElement(Ai,{active:s,disabled:!d||c,className:u("mwai-microphone"),onClick:function(){return f(!s)}}))}));function $l(e){return $l="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},$l(e)}function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==$l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$l(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(e){return function(e){if(Array.isArray(e))return cc(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rc(){rc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==$l(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError($l(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ac(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function oc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ac(o,r,a,i,l,"next",e)}function l(e){ac(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ic(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||lc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lc(e,t){if(e){if("string"==typeof e)return cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cc(e,t):void 0}}function cc(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var uc=wp.element,sc=uc.useState,fc=uc.useMemo,dc=uc.useEffect,mc=uc.useLayoutEffect,pc=uc.useRef,hc={overrides:{a:{props:{target:"_blank"}}}};const yc=function(e){var t=e.theme,n=e.style,r=function(){var e=Ei(_i(null),2),t=e[0],n=e[1],r=Li(null);return Ii((function(){return function(){clearInterval(r.current)}}),[]),{timeElapsed:t,startChrono:function(){if(null===r.current){var e=Date.now();r.current=setInterval((function(){var t,r,a,o=Math.floor((Date.now()-e)/1e3);n((t=o,r=Math.floor(t/60),a=t%60,"".concat(r,":").concat(a.toString().padStart(2,"0"))))}),500)}},stopChrono:function(){clearInterval(r.current),r.current=null,n(null)}}}(),a=r.timeElapsed,o=r.startChrono,i=r.stopChrono,l=ic(sc(!1),2),c=l[0],u=l[1],s=ic(sc(!1),2),f=s[0],d=s[1],m=ic(sc(!0),2),p=m[0],h=m[1],y=Pi(t).modCss,v=fc((function(){return"css"===(null==t?void 0:t.type)?null==t?void 0:t.style:null}),[t]),g=pc(),b=pc(),E=pc(!1),w=document.innerWidth&lt;=768,R=Nl(),x=R.state,O=R.actions,S=x.botId,T=x.customId,N=x.messages,_=x.inputText,C=x.textInputMaxLength,I=x.textSend,L=x.textClear,k=x.textInputPlaceholder,A=x.textCompliance,j=x.isWindow,P=x.fullscreen,M=x.iconText,D=x.iconAlt,G=x.iconPosition,F=x.cssVariables,B=x.error,U=x.iconUrl,H=x.busy,Z=x.speechRecognition,V=x.imageUpload,Y=x.uploadedFile,z=x.fileUpload,W=O.onClear,q=O.onSubmit,X=O.setInputText,Q=O.setMessages,K=O.setClientId,J=O.onFileUpload,$=O.resetError,ee=function(e){var t=Ei(_i(!1),2),n=t[0],r=t[1],a=Ei(_i(!1),2),o=a[0],i=a[1];return Ii((function(){"undefined"!=typeof window&amp;&amp;("SpeechRecognition"in window||"webkitSpeechRecognition"in window)&amp;&amp;i(!0)}),[]),Ii((function(){if(o){var t=new(window.SpeechRecognition||window.webkitSpeechRecognition),r=/Android/i.test(navigator.userAgent),a="";t.interimResults=!0,t.continuous=!0;var i=function(t){var n=Array.from(t.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");if(r){var o=n.slice(a.length);a=n,e(o)}else e(n)};return n?(t.addEventListener("result",i),t.start()):(t.removeEventListener("result",i),t.abort()),function(){t.abort()}}}),[n,o]),{isListening:n,setIsListening:r,speechRecognitionAvailable:o}}((function(e){X((function(){return _+e}))})),te=ee.isListening,ne=ee.setIsListening,re=ee.speechRecognitionAvailable,ae=!(null==Y||!Y.uploadProgress),oe=pc(x);dc((function(){oe.current=x}),[x]);var ie=ic(sc([]),2),le=ie[0],ce=ie[1],ue=function(){var e=oc(rc().mark((function e(){var t,n,r,a,o,i;return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le.length&gt;0&amp;&amp;("ask"===(t=le[0]).action?(n=t.data,r=n.text,n.submit?q(r):X(r)):"toggle"===t.action?d(!f):"open"===t.action?d(!0):"close"===t.action?d(!1):"clear"===t.action?W():"setContext"===t.action&amp;&amp;(a=t.data,o=a.chatId,i=a.messages,K(o),Q(i)),ce((function(e){return e.slice(1)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();dc((function(){ue()}),[le]),dc((function(){(T||S)&amp;&amp;Fi.chatbots.push({botId:S,customId:T,open:function(){ce((function(e){return[].concat(nc(e),[{action:"open"}])}))},close:function(){ce((function(e){return[].concat(nc(e),[{action:"close"}])}))},clear:function(){ce((function(e){return[].concat(nc(e),[{action:"clear"}])}))},toggle:function(){ce((function(e){return[].concat(nc(e),[{action:"toggle"}])}))},ask:function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]&amp;&amp;arguments[1];ce((function(n){return[].concat(nc(n),[{action:"ask",data:{text:e,submit:t}}])}))},setContext:function(e){var t=e.chatId,n=e.messages;ce((function(e){return[].concat(nc(e),[{action:"setContext",data:{chatId:t,messages:n}}])}))}})}),[]),dc((function(){H?o():(!w&amp;&amp;E.current&amp;&amp;g.current.focusInput(),i())}),[H]),dc((function(){!w&amp;&amp;f&amp;&amp;g.current.focusInput(),b.current.scrollTop=b.current.scrollHeight}),[f]),mc((function(){b.current.scrollTop=b.current.scrollHeight}),[N]);var se=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:null;E.current=document.activeElement===g.current.currentElement(),e?q(e):_.length&gt;0&amp;&amp;q(_)},fe=y("mwai-chat",{"mwai-window":j,"mwai-open":f,"mwai-fullscreen":!p||!j&amp;&amp;P,"mwai-bottom-left":"bottom-left"===G,"mwai-top-right":"top-right"===G,"mwai-top-left":"top-left"===G}),de=_.length&lt;1&amp;&amp;(null==N?void 0:N.length)&gt;1,me=function(){var e=oc(rc().mark((function e(t){return rc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B&amp;&amp;$(),e.abrupt("return",J(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("div",{id:"mwai-chatbot-".concat(T||S),className:fe,style:tc(tc({},F),n)},v&amp;&amp;React.createElement("style",null,v),j&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:y("mwai-open-button")},M&amp;&amp;React.createElement("div",{className:y("mwai-icon-text"),onClick:function(){return d(!f)}},M),React.createElement("img",{width:"64",height:"64",alt:D,src:U,className:"no-lightbox",onClick:function(){return d(!f)}})),React.createElement("div",{className:y("mwai-header")},React.createElement("div",{className:y("mwai-buttons")},P&amp;&amp;React.createElement("div",{className:y("mwai-resize-button"),onClick:function(){return h(!p)}}),React.createElement("div",{className:y("mwai-close-button"),onClick:function(){return d(!f)}})))),React.createElement("div",{className:y("mwai-content")},React.createElement("div",{ref:b,className:y("mwai-conversation")},!!N&amp;&amp;N.map((function(e){return React.createElement(Wl,{key:e.id,conversationRef:b,message:e})}))),B&amp;&amp;React.createElement("div",{className:y("mwai-error"),onClick:function(){return $()}},React.createElement(ua.Z,{options:hc},B)),React.createElement("div",{className:y("mwai-input")},React.createElement(Jl,{ref:g,onTypeText:function(e){te&amp;&amp;ne(!1),B&amp;&amp;$(),X(e)},onSubmitAction:se,onUploadFile:me,inputText:_,textInputMaxLength:C,textInputPlaceholder:k,busy:H,isListening:te,setIsListening:ne,speechRecognitionAvailable:re,speechRecognition:Z,uploadedFile:Y,composing:c,setComposing:u,modCss:y,imageUpload:V,fileUpload:z}),H&amp;&amp;React.createElement("button",{disabled:!0,className:y("mwai-busy")},a&amp;&amp;React.createElement("div",{className:y("mwai-timer")},a)),!H&amp;&amp;React.createElement("button",{disabled:ae,onClick:function(){te&amp;&amp;ne(!1),de?W():se()}},React.createElement("span",null,de?L:I))),A&amp;&amp;React.createElement("div",{className:y("mwai-compliance"),dangerouslySetInnerHTML:{__html:A}}))))},vc=function(e){return React.createElement(_l,e,React.createElement(yc,e))};function gc(e){return gc="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},gc(e)}function bc(){bc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==gc(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(gc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Ec(e){return function(e){if(Array.isArray(e))return _c(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rc(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==gc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Sc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Oc(o,r,a,i,l,"next",e)}function l(e){Oc(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Nc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nc(e,t){if(e){if("string"==typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(e,t):void 0}}function _c(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Cc=wp.element,Ic=Cc.useMemo,Lc=Cc.useState;const kc=function(e){var t,n,r=(0,u.NL)(),a=e.options,o=e.updateOption,i=e.busy,l=Tc(Lc(!0),2),c=l[0],s=l[1],f=Tc(Lc(!1),2),d=f[0],m=f[1],p=Tc(Lc(!0),2),h=p[0],y=p[1],v=Tc(Lc(!1),2),w=v[0],R=v[1],x=Tc(Lc(null!=(n=localStorage.getItem("mwai-admin-chatbotId"))?n:"default"),2),O=x[0],T=x[1],C=null==a?void 0:a.chatbot_defaults,I=(0,Ne.a)({queryKey:["chatbots"],queryFn:an,initialData:M}).data,k=(0,Ne.a)({queryKey:["themes"],queryFn:ln,initialData:j}).data,D=null!==(t=null==a?void 0:a.botId)&amp;&amp;void 0!==t?t:"none",G=i||w,F=Ic((function(){if(I)return I.find((function(e){return"default"===e.botId}))}),[I]),B=Ic((function(){if(I){var e=I.find((function(e){return e.botId===O}));return function(e){e?localStorage.setItem("mwai-admin-chatbotId",e):localStorage.removeItem("mwai-admin-chatbotId")}(null==e?void 0:e.botId),e}}),[I,O]),U=Ic((function(){return k&amp;&amp;B?k.find((function(e){return e.themeId===(null==B?void 0:B.themeId)})):k.find((function(e){return"chatgpt"===e.themeId}))}),[B,k,I]),H=function(){var e=Sc(bc().mark((function e(t,n){var a,o,i;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("botId"!==n||"default"!==t){e.next=3;break}return alert("You cannot name a chatbot 'default'. Please choose another name."),e.abrupt("return");case 3:if("botId"!==n||""!==t){e.next=6;break}return alert("Your chatbot must have an ID."),e.abrupt("return");case 6:if("botId"!==n||!I.find((function(e){return e.botId===t}))){e.next=9;break}return alert("This chatbot ID is already in use. Please choose another ID."),e.abrupt("return");case 9:return"botId"===n&amp;&amp;t!==B[n]&amp;&amp;T(t),R(!0),a=Rc(Rc({},B),{},xc({},n,t)),o=Ec(I),i=o.findIndex((function(e){return e.botId===B.botId})),o[i]=a,e.next=17,on(o);case 17:o=e.sent,r.setQueryData(["chatbots"],o),R(!1);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=Sc(bc().mark((function e(){var t,n,o,i=arguments;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:C,R(!0),n="chatbot-"+vt(),e.next=6,on([].concat(Ec(I),[Rc(Rc({},t),{},{botId:n,name:"New Chatbot",envId:null==a?void 0:a.ai_default_env,model:null==a?void 0:a.ai_default_model})]));case 6:o=e.sent,r.setQueryData(["chatbots"],o),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Sc(bc().mark((function e(){var t;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=Ec(I.filter((function(e){return e.botId!==B.botId}))),T("default"),e.next=5,on(t);case 5:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Sc(bc().mark((function e(){var t,n;return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),t=Ec(I),n=t.findIndex((function(e){return e.botId===B.botId})),t[n]=Rc(Rc({},C),{},{botId:B.botId,name:B.name}),e.next=6,on(t);case 6:t=e.sent,r.setQueryData(["chatbots"],t),R(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Sc(bc().mark((function e(){return bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(B);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,fullWidth:!0,style:{margin:10}},React.createElement(rr.P,null,React.createElement(so,{currentChatbot:B}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.CHATBOT_EDITOR,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:c,onChange:s}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.THEME_EDITOR,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:d,onChange:m}),React.createElement("label",{style:{marginLeft:5}},He.COMMON.PREVIEW,":"),React.createElement(Gt.Q,{style:{marginLeft:5},disabled:G,onLabel:"",offLabel:"",width:42,checked:h,onChange:y}),React.createElement("div",{style:{flex:"auto"}}),React.createElement("label",null,He.COMMON.SITE_WIDE_CHATBOT,":"),React.createElement(we.N,{scrolldown:!0,name:"botId",disabled:G,style:{minWidth:160},value:D,onChange:o},React.createElement(we.Z,{value:"none",label:"None"}),null==I?void 0:I.map((function(e){return React.createElement(we.Z,{key:e.botId,value:e.botId,label:e.name})}))))),(c||d)&amp;&amp;React.createElement(g.z,{minimal:!0,style:{margin:10}},c&amp;&amp;React.createElement(b.c,{inversed:!0,onChange:function(e,t){T(t.key)},currentTab:O,action:React.createElement(React.Fragment,null,React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){return Z()}}))},null==I?void 0:I.map((function(e){return React.createElement(b.P,{key:e.botId,title:e.name,busy:w},React.createElement(yo,{options:a,themes:k,defaultChatbot:F,deleteCurrentChatbot:V,resetCurrentChatbot:Y,duplicateCurrentChatbot:z,shortcodeParams:e,updateShortcodeParams:H}))}))),c&amp;&amp;d&amp;&amp;React.createElement(xe.i,{large:!0}),d&amp;&amp;React.createElement(Jo,{themes:k,options:a,updateOption:o,currentTheme:U,onSwitchTheme:function(e){H(e,"themeId")}})),h&amp;&amp;React.createElement(g.z,{minimal:!0},React.createElement("small",{style:{marginLeft:15,marginBottom:-20}},"Chatbot: ",React.createElement("b",null,null==B?void 0:B.name)," - Theme: ",React.createElement("b",null,null==U?void 0:U.name)),React.createElement("div",{style:{position:"relative",margin:"5px 10px 10px 10px",minHeight:480,borderRadius:5,padding:10,border:"2px dashed rgb(0 0 0 / 20%)",background:"rgb(0 0 0 / 5%)"}},!!B&amp;&amp;React.createElement(vc,{system:{botId:B.botId,userData:_,sessionId:A,restNonce:L,pluginUrl:N,restUrl:S,stream:P,debugMode:null==a?void 0:a.debug_mode,typewriter:null==a?void 0:a.shortcode_chat_typewriter,speech_recognition:null==a?void 0:a.shortcode_chat_speech_recognition,speech_synthesis:null==a?void 0:a.shortcode_chat_speech_synthesis},params:B,theme:U,style:B.window||B.fullscreen?{position:"absolute"}:{}})),React.createElement("div",{style:{marginLeft:10,fontSize:11,lineHeight:"140%",opacity:.5}},"This is the actual chatbot, but there might be some differences when run on your front-end, depending on your theme and the other plugins you use."))))};var Ac=n(9133);function jc(e){return jc="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},jc(e)}function Pc(e){return function(e){if(Array.isArray(e))return Bc(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dc(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==jc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===jc(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Fc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fc(e,t){if(e){if("string"==typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bc(e,t):void 0}}function Bc(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function Uc(){Uc=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==jc(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(jc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Hc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Zc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Hc(o,r,a,i,l,"next",e)}function l(e){Hc(o,r,a,i,l,"throw",e)}i(void 0)}))}}var Vc=wp.element,Yc=Vc.useMemo,zc=Vc.useState,Wc=Vc.useEffect,qc=[{accessor:"id",visible:!1},{accessor:"time",title:"Time",width:"80px",sortable:!0},{accessor:"scope",title:"Scope",width:"90px",filters:{type:"checkbox",options:[{value:"chatbot",label:"Chatbot"},{value:"form",label:"Form"},{value:"playground",label:"Playground"}]}},{accessor:"user",title:"User",width:"85px",filters:{type:"text",description:"Type an User ID, or an IP."}},{accessor:"model",title:"Model"},{accessor:"units",title:"Units",width:"65px",align:"right",sortable:!0},{accessor:"price",title:"Price",width:"85px",align:"right",sortable:!0}],Xc=function(){var e=Zc(Uc().mark((function e(t){var n;return Uc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.offset=(t.page-1)*t.limit,e.next=3,(0,R.PV)("".concat(T,"/system/logs/list"),{nonce:L,method:"POST",json:t});case 3:return n=e.sent,e.abrupt("return",n?{total:n.total,logs:n.logs}:{total:0,logs:[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qc=function(){var e=Zc(Uc().mark((function e(){var t,n,r=arguments;return Uc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length&gt;0&amp;&amp;void 0!==r[0]?r[0]:[],e.next=3,(0,R.PV)("".concat(T,"/system/logs/delete"),{nonce:L,method:"POST",json:{logIds:t}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Kc=function(e){var t=e.setSelectedLogIds,n=e.selectedLogIds,r=(0,u.NL)(),a=Gc(zc(!1),2),o=a[0],i=a[1],l=lt(k,null,!0).getModelName,c=Gc(zc((function(){return qc.filter((function(e){return e.filters})).map((function(e){return{accessor:e.accessor,value:[]}}))})),2),s=c[0],f=c[1],d=Gc(zc({filters:s,sort:{accessor:"time",by:"desc"},page:1,limit:20}),2),m=d[0],p=d[1],h=(0,Ne.a)({queryKey:["logs",m],queryFn:function(){return Xc(m)},keepPreviousData:!0}),y=h.isFetching,v=h.data;Wc((function(){p(Dc(Dc({},m),{},{filters:s}))}),[s]);var g=Yc((function(){return(null==v?void 0:v.total)||0}),[v]),b=Yc((function(){return null!=v&amp;&amp;v.logs?null==v?void 0:v.logs.sort((function(e,t){return t.created_at-e.created_at})).map((function(e){var t,n=ht(e.time),r=yt(e.userId,e.ip),a=Math.round(1e3*e.price)/1e3,o=React.createElement(React.Fragment,null,"∞");e.price&gt;=.001&amp;&amp;(o=React.createElement("b",null,"$",a.toFixed(3))),e.price&gt;=.01&amp;&amp;(o=React.createElement("b",null,"$",a.toFixed(2))),e.price&gt;=.1&amp;&amp;(o=React.createElement("b",{style:{color:"red"}},"$",a.toFixed(2)));var i=(null==k||null===(t=k.ai_envs)||void 0===t||null===(t=t.find((function(t){return t.id===e.envId})))||void 0===t?void 0:t.name)||e.envId,c=React.createElement("div",null,React.createElement("span",{title:e.model},l(e.model),"assistant"===e.mode&amp;&amp;React.createElement("i",null," (Assistant)")),React.createElement("br",null),React.createElement("small",null,i));return{id:e.id,scope:React.createElement("div",null,e.scope,React.createElement("br",null),React.createElement("small",null,e.session)),user:r,model:c,units:React.createElement("div",{style:{textAlign:"right"}},e.units,React.createElement("br",null),React.createElement("small",null,e.type)),price:React.createElement(React.Fragment,null,o,React.createElement("br",null),React.createElement("small",null,"$",e.price)),time:n}})):[]}),[v]),R=function(){var e=Zc(Uc().mark((function e(){return Uc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),n.length){e.next=9;break}if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=5;break}return i(!1),e.abrupt("return");case 5:return e.next=7,Qc();case 7:e.next=12;break;case 9:return e.next=11,Qc(n);case 11:t([]);case 12:return e.next=14,r.invalidateQueries({queryKey:["logs"]});case 14:return e.next=16,r.refetchQueries({queryKey:["logs"]});case 16:i(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement(w.v,{className:"primary",title:He.COMMON.QUERIES,action:React.createElement(React.Fragment,null,React.createElement("div",null,React.createElement(E._,{className:"secondary",style:{marginLeft:5},disabled:y,onClick:Zc(Uc().mark((function e(){return Uc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.invalidateQueries({queryKey:["logs"]});case 2:r.refetchQueries({queryKey:["logs"]});case 3:case"end":return e.stop()}}),e)})))},He.COMMON.REFRESH),n.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:R},He.COMMON.DELETE))))},React.createElement(Bt.a,{busy:y||o,onSelectRow:function(e){t([e])},onSelect:function(e){t([].concat(Pc(n),Pc(e)))},onUnselect:function(e){t(Pc(null==n?void 0:n.filter((function(t){return!e.includes(t)}))))},selectedItems:n,sort:m.sort,onSortChange:function(e,t){p(Dc(Dc({},m),{},{sort:{accessor:e,by:t}}))},filters:s,onFilterChange:function(e,t){var n=[].concat(Pc(s.filter((function(t){return t.accessor!==e}))),[{accessor:e,value:t}]);f(n)},data:b,columns:qc}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:-5}},React.createElement(E._,{className:"danger",disabled:n.length,onClick:R},He.COMMON.DELETE_ALL),React.createElement("div",{style:{flex:"auto"}}),React.createElement(Zt.Q,{currentPage:m.page,limit:m.limit,total:g,onClick:function(e){p(Dc(Dc({},m),{},{page:e}))}}))))};function Jc(e){return Jc="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Jc(e)}function $c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eu(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$c(Object(n),!0).forEach((function(t){tu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Jc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Jc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ru(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ru(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ru(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function au(){au=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Jc(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Jc(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ou(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function iu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ou(o,r,a,i,l,"next",e)}function l(e){ou(o,r,a,i,l,"throw",e)}i(void 0)}))}}var lu=wp.element,cu=lu.useMemo,uu=lu.useState,su=function(){var e=iu(au().mark((function e(t){var n;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,(0,R.PV)("".concat(T,"/system/logs/meta"),{nonce:L,method:"POST",json:{logId:t,metaKeys:["query","reply","fields"]}});case 4:return n=e.sent,e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const fu=function(e){var t,n=e.options,r=e.updateOption,a=e.busy,o=nu(uu([]),2),i=o[0],l=o[1],c=nu(uu("users"),2),u=c[0],s=c[1],f=cu((function(){return 1===i.length?i[0]:null}),[i]),d=null==n?void 0:n.limits,m=null==n?void 0:n.default_limits,p=(0,Ne.a)({queryKey:["logsMeta",f],queryFn:function(){return su(f)},staleTime:864e5,keepPreviousData:!0}),y=p.isFetching,v=p.data,x=function(){var e=iu(au().mark((function e(t,n){var a;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=eu(eu({},d),{},tu({},n,t)),e.next=3,r(a,"limits");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=cu((function(){return null!=d&amp;&amp;d[u]?null==d?void 0:d[u]:{credits:1,creditType:"price",timeFrame:"month",isAbsolute:!1,overLimitMessage:"You have reached the limit.",ignoredUsers:""}}),[d,u]),S=function(){var e=iu(au().mark((function e(t,n){var a,o;return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"credits"===n&amp;&amp;(t=Math.max(0,t)),a=eu(eu({},O),{},tu({},n,t)),o=eu(eu({},d),{},tu({},u,a)),e.next=5,r(o,"limits");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=iu(au().mark((function e(){return au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(He.ALERTS.ARE_YOU_SURE)){e.next=3;break}return e.next=3,r(m,"limits");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=cu((function(){return Array.isArray(v)?null:v}),[v]);return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0,style:{flex:2.5}},React.createElement(Kc,{selectedLogIds:i,setSelectedLogIds:l})),React.createElement(g.z,{minimal:!0},f&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,{large:!0}),React.createElement(b.c,{inversed:!0,style:{marginRight:10,marginLeft:10}},React.createElement(b.P,{title:"Query"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Ac.he,{value:N.query,rootName:"query",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))),React.createElement(b.P,{title:"Reply"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Ac.he,{value:N.reply,rootName:"reply",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))),N&amp;&amp;N.fields&amp;&amp;React.createElement(b.P,{title:"Fields"},React.createElement("div",{style:{height:380,overflow:"auto",maxHeight:380}},y&amp;&amp;React.createElement("i",{style:{color:"gray"}},"Loading..."),!y&amp;&amp;!N&amp;&amp;React.createElement("i",{style:{color:"gray"}},He.COMMON.DATA_NOT_AVAILABLE),!y&amp;&amp;N&amp;&amp;React.createElement(Ac.he,{value:N.fields,rootName:"fields",indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}))))),React.createElement(Xa,null,React.createElement(w.v,{className:"primary",busy:a,title:"Limits",style:{flex:1}},React.createElement(h.P,{name:"enabled",label:He.STATISTICS.ENABLE_LIMITS,checked:null==d?void 0:d.enabled,value:"1",onChange:x}),(null==d?void 0:d.enabled)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Ft.h,{value:u,busy:a,onChange:function(e){s(e)}},React.createElement(Ft.S,{title:He.COMMON.USERS,value:"users",disabled:!(null!=d&amp;&amp;d.enabled)}),React.createElement(Ft.S,{title:He.COMMON.GUESTS,value:"guests"}),React.createElement(Ft.S,{title:He.COMMON.SYSTEM,value:"system"})),"userId"===(null==d?void 0:d.target)&amp;&amp;React.createElement(React.Fragment,null,React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,"Message for Guests:"),React.createElement(Ee.A,{id:"guestMessage",name:"guestMessage",disabled:!(null!=d&amp;&amp;d.enabled),value:null==d?void 0:d.guestMessage,onEnter:S,onBlur:S})))),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.CREDITS,":"),React.createElement(Ee.A,{id:"credits",name:"credits",type:"number",min:"0",max:"1000000",disabled:!(null!=d&amp;&amp;d.enabled),value:O.credits,onEnter:S,onBlur:S})),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TYPE,":"),React.createElement(we.N,{scrolldown:!0,id:"creditType",name:"creditType",disabled:!(null!=d&amp;&amp;d.enabled),value:O.creditType,onChange:S},React.createElement(we.Z,{key:"queries",id:"queries",value:"queries",label:"Queries"}),React.createElement(we.Z,{key:"units",id:"units",value:"units",label:"Tokens"}),React.createElement(we.Z,{key:"price",id:"price",value:"price",label:"Dollars"})))),0!==O.credits&amp;&amp;React.createElement("p",null,"If you want to apply variable amount of credits, ",React.createElement("a",{href:"https://meowapps.com/ai-engine/faq/#limits",target:"_blank",rel:"noreferrer"},"click here"),"."),0!==O.credits&amp;&amp;"price"===O.creditType&amp;&amp;React.createElement("p",null,"The dollars represent the budget you spent through OpenAI."),0===O.credits&amp;&amp;React.createElement("p",null,"Since there are no credits, the Message for No Credits Message with be displayed."),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.TIMEFRAME,":"),React.createElement(we.N,{scrolldown:!0,id:"timeFrame",name:"timeFrame",disabled:!(null!=d&amp;&amp;d.enabled),value:O.timeFrame,onChange:S},React.createElement(we.Z,{key:"second",id:"second",value:"second",label:"Second"}),React.createElement(we.Z,{key:"minute",id:"minute",value:"minute",label:"Minute"}),React.createElement(we.Z,{key:"hour",id:"hour",value:"hour",label:"Hour"}),React.createElement(we.Z,{key:"day",id:"day",value:"day",label:"Day"}),React.createElement(we.Z,{key:"week",id:"week",value:"week",label:"Week"}),React.createElement(we.Z,{key:"month",id:"month",value:"month",label:"Month"}),React.createElement(we.Z,{key:"year",id:"year",value:"year",label:"Year"}))),React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.COMMON.ABSOLUTE,":"),React.createElement(h.P,{name:"isAbsolute",label:"Yes",disabled:!(null!=d&amp;&amp;d.enabled),checked:O.isAbsolute,value:"1",onChange:S}))),O.isAbsolute&amp;&amp;React.createElement("p",null,(0,R.io)(He.STATISTICS.ABSOLUTE_HELP)),React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.NO_CREDITS_MESSAGE,":"),React.createElement(Ee.A,{id:"overLimitMessage",name:"overLimitMessage",disabled:!(null!=d&amp;&amp;d.enabled),value:O.overLimitMessage,onEnter:S,onBlur:S}))),"users"===u&amp;&amp;React.createElement("div",{className:"mwai-builder-row"},React.createElement("div",{className:"mwai-builder-col"},React.createElement("label",null,He.STATISTICS.FULL_ACCESS_USERS,":"),React.createElement(we.N,{scrolldown:!0,id:"ignoredUsers",name:"ignoredUsers",disabled:!(null!=d&amp;&amp;d.enabled),value:null==d||null===(t=d.users)||void 0===t?void 0:t.ignoredUsers,description:"",onChange:S},React.createElement(we.Z,{key:"none",id:"none",value:"",label:He.COMMON.NONE}),React.createElement(we.Z,{key:"editor",id:"editor",value:"administrator,editor",label:He.COMMON.EDITORS_ADMINS}),React.createElement(we.Z,{key:"admin",id:"admin",value:"administrator",label:He.COMMON.ADMINS_ONLY})))),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,className:"danger",onClick:T},He.COMMON.RESET_LIMITS)))))))};function du(e){return du="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},du(e)}function mu(){mu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==du(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(du(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function pu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}const hu=function(e){var t=e.options,n=e.updateOption,r=(e.setOptions,null==t?void 0:t.debug_mode),a=function(){var e,t=(e=mu().mark((function e(){var t,n,r,a,o;return mu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=prompt("Enter the Post ID you want to retrieve the content from.")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,mt(null,null,t);case 5:n=e.sent,console.log("Data for Post ID ".concat(t),n),null!=n&amp;&amp;n.content&amp;&amp;(r=n.content.trim().replace(/&lt;[^&gt;]*&gt;?/gm,""),a=r.split(" ")[0],o=r.split(" ").pop(),console.log("Content First Word: ".concat(a)),console.log("Content Last Word: ".concat(o)));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pu(o,r,a,i,l,"next",e)}function l(e){pu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),o=React.createElement(m.r,{title:He.COMMON.DEBUG_MODE},React.createElement(h.P,{name:"debug_mode",label:He.COMMON.ENABLE,value:"1",checked:r,description:He.COMMON.DEBUG_MODE_HELP,onChange:n}));return React.createElement(React.Fragment,null,React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Debugging",className:"primary"},React.createElement(E._,{onClick:a},"Get Content"),React.createElement("p",null,"This button will display the content of the post, as seen by AI Engine, in your Developer Tools Console. That allows you to check what AI Engine uses when using Content Aware, Embeddings Sync, etc."))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Settings",className:"primary"},o))))};function yu(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var vu=function(e){var t,n=e.env,r=e.updateEnvironment,a=e.ai_envs,o=e.options,i=lt(o,null==n?void 0:n.ai_embeddings_env).embeddingsModels;return React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.NAME},React.createElement(Ee.A,{name:"name",value:n.name,onFinalChange:function(e){return r(n.id,{name:e})}})),React.createElement(m.r,{title:He.COMMON.TYPE},React.createElement(we.N,{scrolldown:!0,name:"type",value:n.type,description:"qdrant"===n.type?(0,R.io)(He.HELP.QDRANT):null,onChange:function(e){return r(n.id,{type:e})}},React.createElement(we.Z,{value:"pinecone",label:"Pinecone"}),React.createElement(we.Z,{value:"qdrant",label:"Qdrant"}))),React.createElement(m.r,{title:He.COMMON.API_KEY},React.createElement(Ee.A,{name:"apikey",value:n.apikey,description:(0,R.io)("pinecone"===n.type?He.COMMON.PINECONE_APIKEY_HELP:He.COMMON.QDRANT_APIKEY_HELP),onFinalChange:function(e){return r(n.id,{apikey:e})}})),React.createElement(m.r,{title:He.COMMON.SERVER},"pinecone"===n.type&amp;&amp;React.createElement(we.N,{scrolldown:!0,name:"server",value:n.server,description:(0,R.io)(He.COMMON.PINECONE_SERVER_HELP),onChange:function(e){r(n.id,{server:e})}},React.createElement(we.Z,{value:"gcp-starter",label:"gcp-starter",description:(0,R.io)(He.EMBEDDINGS.NO_NAMESPACE_SUPPORT)}),React.createElement(we.Z,{value:"us-east1-gcp",label:"us-east1-gcp"}),React.createElement(we.Z,{value:"us-east4-gcp",label:"us-east4-gcp"}),React.createElement(we.Z,{value:"us-west1-gcp",label:"us-west1-gcp"}),React.createElement(we.Z,{value:"us-west1-gcp-free",label:"us-west1-gcp-free"}),React.createElement(we.Z,{value:"us-west4-gcp",label:"us-west4-gcp"}),React.createElement(we.Z,{value:"us-west4-gcp-free",label:"us-west4-gcp-free"}),React.createElement(we.Z,{value:"us-east-1-aws",label:"us-east-1-aws"}),React.createElement(we.Z,{value:"us-west-1-aws",label:"us-west-1-aws"}),React.createElement(we.Z,{value:"us-west-2-aws",label:"us-west-2-aws"}),React.createElement(we.Z,{value:"us-central1-gcp",label:"us-central1-gcp"}),React.createElement(we.Z,{value:"northamerica-northeast1-gcp",label:"northamerica-northeast1-gcp"}),React.createElement(we.Z,{value:"eu-west1-gcp",label:"eu-west1-gcp"}),React.createElement(we.Z,{value:"eu-west4-gcp",label:"eu-west4-gcp"}),React.createElement(we.Z,{value:"asia-northeast1-gcp",label:"asia-northeast1-gcp"}),React.createElement(we.Z,{value:"asia-southeast1-gcp-free",label:"asia-southeast1-gcp-free"}),React.createElement(we.Z,{value:"eastus-azure",label:"eastus-azure"})),"qdrant"===n.type&amp;&amp;React.createElement(Ee.A,{name:"server",value:n.server,description:(0,R.io)(He.COMMON.QDRANT_SERVER_HELP),onFinalChange:function(e){return r(n.id,{server:e})}})),"pinecone"===n.type&amp;&amp;React.createElement(m.r,{title:He.COMMON.NAMESPACES},React.createElement(Ee.A,{isCommaSeparatedArray:!0,name:"namespaces",value:n.namespaces,disabled:"gcp-starter"===n.server,description:(0,R.io)(He.COMMON.NAMESPACES_HELP),onFinalChange:function(e){r(n.id,{namespaces:e})}})),0===(null==n||null===(t=n.indexes)||void 0===t?void 0:t.length)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_e.S,{variant:"danger"},"Currently, AI Engine does not know about the indexes for this ",React.createElement("b",null,"API Key")," and this ",React.createElement("b",null,"Server"),". Visit the ",React.createElement("b",null,"Embeddings")," tab, then ",React.createElement("b",null,"Refresh")," your indexes or ",React.createElement("b",null,"Add")," a new one."),React.createElement(xe.i,null)),React.createElement(Se.F,{keepState:"embeddingsEnvs"},React.createElement(Se.L,{title:He.COMMON.AI_ENVIRONMENT},React.createElement("div",{style:{marginTop:10}},React.createElement(m.r,{title:He.COMMON.OVERRIDE_DEFAULTS},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==n?void 0:n.ai_embeddings_override,onChange:function(e){return r(n.id,{ai_embeddings_override:e})}})),(null==n?void 0:n.ai_embeddings_override)&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_embeddings_env",value:null==n?void 0:n.ai_embeddings_env,onChange:function(e){return r(n.id,{ai_embeddings_env:e})}},a.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})))),React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_embeddings_model",value:n.ai_embeddings_model,onChange:function(e){return r(n.id,{ai_embeddings_model:e})}},i.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})}))))))),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",onClick:function(){return deleteEnvironment(n.id)}},He.COMMON.DELETE)))))};const gu=function(e){var t=e.environments,n=e.updateEnvironment,r=e.updateOption,a=e.options,o=e.busy;return null!=a&amp;&amp;a.ai_envs&amp;&amp;(null==a||a.ai_envs),React.createElement("div",{style:{padding:"0px 10px 20px 10px",marginTop:-5}},React.createElement(d.O,{h2:!0,style:{color:"white"}},"Environments for Embeddings"),React.createElement(b.c,{inversed:!0,keepTabOnReload:!0,style:{marginTop:-5},action:React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){var e,n=[].concat(function(e){if(Array.isArray(e))return yu(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{name:"New Environment",type:"pinecone",apikey:"",server:"",indexes:[],namespaces:[]}]);r(n,"embeddings_envs")}})},t.map((function(e){return React.createElement(b.P,{key:e.id,title:e.name,busy:o},React.createElement(vu,{env:e,updateEnvironment:n,ai_envs:(null==a?void 0:a.ai_envs)||[],options:a}),React.createElement(E._,{className:"danger",onClick:function(){return function(e){if(1!==t.length){var n=t.filter((function(t){return t.id!==e}));r(n,"embeddings_envs")}else alert("You can't delete the last environment.")}(e.id)}},He.COMMON.DELETE))}))))};function bu(e){return bu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},bu(e)}function Eu(){Eu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==bu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(bu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function wu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ru(e){return function(e){if(Array.isArray(e))return Ou(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xu(e,t){if(e){if("string"==typeof e)return Ou(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ou(e,t):void 0}}function Ou(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Su=wp.element,Tu=Su.useCallback,Nu=Su.useMemo,_u=Su.useState,Cu=function(e){var t=e.updateEnvironment,n=e.environmentId,r=e.deployments,a=e.options,o=function(e,a,o){var i=JSON.parse(JSON.stringify(r));i[e][a]=o,t(n,{deployments:i})};return React.createElement(m.r,{title:He.COMMON.OPENAI_AZURE_DEPLOYMENTS,style:{marginTop:10}},r.map((function(e,i){var l;return React.createElement("div",{key:i,style:{display:"flex",marginBottom:10}},React.createElement(Ee.A,{style:{flex:1},value:e.name,placeholder:He.COMMON.OPENAI_AZURE_DEPLOYMENT_NAME,onBlur:function(e){return o(i,"name",e)},onEnter:function(e){return o(i,"name",e)}}),React.createElement(we.N,{style:{flex:1,marginLeft:10},scrolldown:!0,id:"model",name:"model",value:e.model,onChange:function(e){return o(i,"model",e)}},null==a||null===(l=a.openai_models)||void 0===l?void 0:l.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(E._,{rounded:!0,isSmall:!0,style:{marginLeft:10,height:30},icon:"trash",onClick:function(){return function(e){var a=Ru(r);a.splice(e,1),t(n,{deployments:a})}(i)}}))})),React.createElement(E._,{fullWidth:!0,icon:"plus",onClick:function(){var e=[].concat(Ru(r),[{name:"",model:""}]);t(n,{deployments:e})}}))},Iu=function(e){var t=e.updateEnvironment,n=e.environmentId,r=e.customModels,a=(e.options,function(e,a,o){var i=JSON.parse(JSON.stringify(r));i[e][a]=o,t(n,{customModels:i})});return React.createElement(m.r,{title:He.COMMON.HUGGINGFACE_MODELS,style:{marginTop:10}},r.map((function(e,o){var i,l;return React.createElement("div",{key:o,style:{display:"flex",flexDirection:"column",marginBottom:10}},React.createElement("div",{key:o,style:{display:"flex",marginBottom:2}},React.createElement(Ee.A,{style:{flex:1},value:e.name,placeholder:He.COMMON.HUGGINGFACE_MODEL_NAME,onBlur:function(e){return a(o,"name",e)},onEnter:function(e){return a(o,"name",e)}}),React.createElement(Ee.A,{style:{flex:2,marginLeft:5},value:e.apiUrl,placeholder:He.COMMON.HUGGINGFACE_MODEL_URL,onBlur:function(e){return a(o,"apiUrl",e)},onEnter:function(e){return a(o,"apiUrl",e)}}),React.createElement(E._,{rounded:!0,isSmall:!0,style:{marginLeft:5,height:30},icon:"trash",onClick:function(){return function(e){var a=Ru(r);a.splice(e,1),t(n,{customModels:a})}(o)}})),React.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},React.createElement("span",{style:{marginRight:5}},"Image Model"),React.createElement(h.P,{style:{marginTop:o?0:5,marginRight:10},disabled:!0,checked:null===(i=e.tags)||void 0===i?void 0:i.includes("image"),onChange:function(e){var a=JSON.parse(JSON.stringify(r));a[o].tags||(a[o].tags=["core","chat"]),e?a[o].tags.push("image"):a[o].tags=a[o].tags.filter((function(e){return"image"!==e})),t(n,{customModels:a})}}),React.createElement("span",{style:{marginRight:5}},"Vision Model"),React.createElement(h.P,{style:{marginTop:o?0:5,marginRight:33},disabled:!0,checked:null===(l=e.tags)||void 0===l?void 0:l.includes("vision"),onChange:function(e){var a=JSON.parse(JSON.stringify(r));a[o].tags||(a[o].tags=["core","chat"]),e?a[o].tags.push("vision"):a[o].tags=a[o].tags.filter((function(e){return"vision"!==e})),t(n,{customModels:a})}})))})),React.createElement(E._,{fullWidth:!0,icon:"plus",onClick:function(){var e=[].concat(Ru(r),[{name:"",apiUrl:"",tags:["core","chat"]}]);t(n,{customModels:e})}}))};const Lu=function(e){var t,n,r=e.options,a=e.environments,o=e.updateEnvironment,i=e.updateOption,l=e.busy,c=(t=_u(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||xu(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=c[0],s=c[1],f=Tu((function(e){return"openai"===e.type?(0,R.io)(He.HELP.OPENAI_API_KEY):"azure"===e.type?(0,R.io)(He.HELP.AZURE_API_KEY):"openrouter"===e.type?(0,R.io)(He.HELP.OPENROUTER_API_KEY):""}),[]),p=Nu((function(){var e;return null!==(e=null==r?void 0:r.openrouter_models)&amp;&amp;void 0!==e?e:[]}),[r]),h=Nu((function(){var e;return null!==(e=null==r?void 0:r.google_models)&amp;&amp;void 0!==e?e:[]}),[r]),y=Tu(function(){var e,t=(e=Eu().mark((function e(t,n){var r,a;return Eu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,(0,R.PV)("".concat(T,"/ai/models"),{method:"POST",nonce:L,json:{envId:t}});case 4:if(r=e.sent,s(!1),a=null==r?void 0:r.models){e.next=9;break}throw new Error("Could not fetch models.");case 9:i(a,"".concat(n,"_models")),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.message),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){wu(o,r,a,i,l,"next",e)}function l(e){wu(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[]);return React.createElement("div",{style:{padding:"0px 10px 5px 10px",marginTop:13,marginBottom:5}},React.createElement(d.O,{h2:!0,style:{color:"white",marginBottom:15}},"Environments for AI"),React.createElement(b.c,{inversed:!0,style:{marginTop:-5},action:React.createElement(E._,{rounded:!0,className:"primary-block",icon:"plus",onClick:function(){var e=[].concat(Ru(a),[{name:"New Environment",type:"openai",apikey:""}]);i(e,"ai_envs")}})},a.map((function(e){var t,n;return React.createElement(b.P,{key:e.id,title:e.name,busy:l},React.createElement(m.r,{title:He.COMMON.NAME},React.createElement(Ee.A,{name:"name",value:e.name,onFinalChange:function(t){return o(e.id,{name:t})}})),React.createElement(m.r,{title:He.COMMON.TYPE},React.createElement(we.N,{scrolldown:!0,name:"type",value:e.type,onChange:function(t){return o(e.id,{type:t})}},React.createElement(we.Z,{value:"openai",label:"OpenAI"}),React.createElement(we.Z,{value:"azure",label:"Azure (OpenAI)"}),React.createElement(we.Z,{value:"google",label:"Google"}),React.createElement(we.Z,{value:"openrouter",label:"OpenRouter"}),React.createElement(we.Z,{value:"huggingface",label:"Hugging Face"}))),React.createElement(m.r,{title:He.COMMON.API_KEY},React.createElement(Ee.A,{name:"apikey",value:e.apikey,description:f(e),onFinalChange:function(t){return o(e.id,{apikey:t})}})),"openai"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.OPENAI_ORGANIZATION_ID},React.createElement(Ee.A,{name:"organizationId",value:e.organizationId,description:(0,R.io)(He.HELP.OPENAI_ORGANIZATION_ID),onFinalChange:function(t){return o(e.id,{organizationId:t})}}))),"azure"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.OPENAI_AZURE_ENDPOINT},React.createElement(Ee.A,{name:"endpoint",value:e.endpoint,description:(0,R.io)(He.HELP.AZURE_DEPLOYMENTS),onFinalChange:function(t){return o(e.id,{endpoint:t})}}))),"google"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(m.r,{title:He.COMMON.REGION},React.createElement(Ee.A,{name:"region",value:e.region,onFinalChange:function(t){return o(e.id,{region:t})}})),React.createElement(m.r,{title:He.COMMON.PROJECT_ID},React.createElement(Ee.A,{name:"projectId",value:e.projectId,onFinalChange:function(t){return o(e.id,{projectId:t})}})),React.createElement(_e.S,{variant:"danger"},"Compared to OpenAI, Google's Gemini is less stable and clearly in beta, with limitations like single-message processing (in the case of Vision) and frequent unclear errors. Let's discuss about Gemini on ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank"},"Discord"),"."),React.createElement(xe.i,null)),"huggingface"===e.type&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_e.S,{variant:"danger"},"Support for Hugging Face is experimental and may not work as expected. Also, AI Engine is ready for Image and Vision but Hugging Face is not (hence the disabled checkboxes). Let's discuss about Hugging Face on ",React.createElement("a",{href:"https://discord.gg/bHDGh38",target:"_blank"},"Discord"),"."),React.createElement(xe.i,null)),React.createElement(Se.F,{keepState:"environmentCategories"},("openrouter"===e.type||"google"===e.type)&amp;&amp;React.createElement(Se.L,{title:He.COMMON.MODELS},"openrouter"===e.type&amp;&amp;React.createElement("p",null,"There are currently ",React.createElement("b",null,p.length)," models available. OpenRouter models need to be refresh regularly. This button will fetch the latest models and their prices."),"google"===e.type&amp;&amp;React.createElement("p",null,"There are currently ",React.createElement("b",null,h.length)," models available. Google models need to be refresh regularly. This button will fetch the latest models and their prices."),React.createElement(E._,{fullWidth:!0,className:"primary",isBusy:u,onClick:function(){return y(e.id,e.type)}},He.COMMON.REFRESH_MODELS)),"azure"===e.type&amp;&amp;React.createElement(Se.L,{title:He.COMMON.OPENAI_AZURE_DEPLOYMENTS},React.createElement(Cu,{deployments:null!==(t=e.deployments)&amp;&amp;void 0!==t?t:[],environmentId:e.id,updateEnvironment:o,options:r})),"huggingface"===e.type&amp;&amp;React.createElement(Se.L,{title:He.COMMON.HUGGINGFACE_MODELS},React.createElement("p",null,"Browse the ",React.createElement("a",{href:"https://huggingface.co/models",target:"_blank"},"Models on Hugging Face"),". Use the Deploy button (Inference API Serverless) in order to get the API URL. Paste it below with the name of your choice and you're done!"),React.createElement(Iu,{customModels:null!==(n=e.customModels)&amp;&amp;void 0!==n?n:[],environmentId:e.id,updateEnvironment:o,options:r})),React.createElement(Se.L,{title:He.COMMON.ACTIONS},React.createElement("div",{style:{display:"flex",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),React.createElement(E._,{className:"danger",onClick:function(){return function(e){if(1!==a.length){var t=a.filter((function(t){return t.id!==e}));i(t,"ai_envs")}else alert("You can't delete the last environment.")}(e.id)}},He.COMMON.DELETE)))))}))))};function ku(e){return ku="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ku(e)}function Au(){Au=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ku(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ku(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ju(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mu(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Du=wp.element,Gu=Du.useState,Fu=Du.useEffect;const Bu=function(){var e=Pu(Gu(""),2),t=e[0],n=e[1],r=Pu(Gu(""),2),a=r[0],o=r[1],i=Pu(Gu(""),2),l=i[0],c=i[1],u=Pu(Gu(!1),2),s=u[0],f=u[1],d=Pu(Gu("imageToText"),2),m=d[0],p=d[1],h=Pu(Gu(null),2),y=h[0],v=h[1];Fu((function(){n(""),o(""),c("")}),[m]);var x=function(){var e,n=(e=Au().mark((function e(){var n,r,a,i,c,u=arguments;return Au().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="","textToJSON"!==(n=u.length&gt;0&amp;&amp;void 0!==u[0]?u[0]:"imageToText")){e.next=6;break}r="".concat(T,"/ai/json"),e.next=16;break;case 6:if("imageToText"!==n){e.next=10;break}r="".concat(T,"/ai/transcribe_image"),e.next=16;break;case 10:if("audioToText"!==n){e.next=14;break}r="".concat(T,"/ai/transcribe_audio"),e.next=16;break;case 14:return alert("Unknown transcription type: ".concat(n)),e.abrupt("return");case 16:return f(n),v(Date.now()),e.prev=18,e.next=21,(0,R.PV)(r,{method:"POST",nonce:L,json:{url:t,prompt:l}});case 21:i=e.sent,null!=(c=i.data)&amp;&amp;null!==(a=c.error)&amp;&amp;void 0!==a&amp;&amp;a.message?alert(c.error.message):o(c),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(18),alert(e.t0.message);case 29:return e.prev=29,f(!1),v(null),e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[18,26,29,33]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ju(o,r,a,i,l,"next",e)}function l(e){ju(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Features",className:"raw"},React.createElement(b.c,{inversed:!0,onChange:function(e,t){p(t.key)}},React.createElement(b.P,{title:He.COMMON.IMAGE_TO_TEXT,key:"imageToText"},React.createElement("label",null,"Image URL:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{name:"url",rows:2,value:t,onChange:n}),React.createElement(xe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"imageToText"===s,startTime:y,onClick:function(){x("imageToText")}},"Transcribe Image"),React.createElement(xe.i,{tiny:!0}),React.createElement("p",null,"If you are looking for beautiful images to play with this, here are some URLs: ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Offbeat Japan"),", ",React.createElement("a",{target:"_blank",href:"https://unsplash.com"},"Unsplash"),", ",React.createElement("a",{target:"_blank",href:"https://www.pexels.com"},"Pexels"),".")),React.createElement(b.P,{title:He.COMMON.AUDIO_TO_TEXT,key:"audioToText"},React.createElement("label",null,"Audio URL:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{name:"url",rows:2,value:t,onChange:n}),React.createElement(xe.i,null),React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"audioToText"===s,startTime:y,onClick:function(){x("audioToText")}},"Transcribe Audio")),React.createElement(b.P,{title:He.COMMON.PROMPT_TO_JSON,key:"textToJSON"},React.createElement("label",null,"Prompt:"),React.createElement(xe.i,{tiny:!0}),React.createElement(Dt.l,{rows:2,value:l,onChange:c}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:40},disabled:s,isBusy:"textToJSON"===s,startTime:y,onClick:function(){x("textToJSON")}},"Query AI"),React.createElement(xe.i,null),React.createElement("label",null,"Examples:"),React.createElement("ul",null,React.createElement("li",null,"👽 List the best science fiction books. Include the title, author, publication year, and a short synopsis."),React.createElement("li",null,"🎋 Identify the most beautiful gardens in Japan. Provide the garden name, location (gps: [lng, lat]), best visiting season, and features."),React.createElement("li",null,"💰 Identify the current top 10 richest individuals globally. For each person, include their name, estimated net worth, source of wealth, country of residence, and key tags (such as 'technology', 'retail', 'investor', etc.). Additionally, provide a brief description of their most notable business ventures or achievements."),React.createElement("li",null,"🦁 Compile a list of significant archaeological discoveries in the last decade. Include the discovery, location, date, and significance.")),React.createElement(xe.i,null))))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{title:"Transcription",className:"primary"},React.createElement(xe.i,{tiny:!0}),"textToJSON"===m&amp;&amp;React.createElement(Ac.he,{value:a,indentWidth:2,displayDataTypes:!1,displayObjectSize:!1,displayArrayKey:!1,enableClipboard:!1,style:{fontSize:12}}),"textToJSON"!==m&amp;&amp;React.createElement(Dt.l,{name:"context",rows:21,value:a,disabled:!a}))))};var Uu=n(7363);function Hu(e){return Hu="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Hu(e)}function Zu(e){return function(e){if(Array.isArray(e))return Ku(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vu(){Vu=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Hu(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Hu(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Yu(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function zu(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Yu(o,r,a,i,l,"next",e)}function l(e){Yu(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Hu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Hu(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||Qu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(e,t){if(e){if("string"==typeof e)return Ku(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ku(e,t):void 0}}function Ku(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Ju=[{accessor:"name",title:"Name",verticalAlign:"top"},{accessor:"instructions",title:"Instructions",width:220,verticalAlign:"top"},{accessor:"parameters",title:"Parameters",verticalAlign:"top"},{accessor:"createdOn",title:"Created On",verticalAlign:"top"}],$u=[{accessor:"file",title:"File",verticalAlign:"top"},{accessor:"metadata",title:"Metadata",verticalAlign:"top"},{accessor:"userId",title:"User ID",verticalAlign:"top"},{accessor:"purpose",title:"Purpose",verticalAlign:"top"},{accessor:"created",title:"Created On",verticalAlign:"top"},{accessor:"actions",title:"Actions",verticalAlign:"top"}];const es=function(e){var t,n=e.options,r=e.refreshOptions,a=(0,u.NL)(),o=Xu((0,Uu.useState)(null),2),i=o[0],l=o[1],c=Xu((0,Uu.useState)(!1),2),s=c[0],f=c[1],m=Xu((0,Uu.useState)(null==n||null===(t=n.ai_envs)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.id),2),p=m[0],h=m[1],y=(null==n?void 0:n.ai_envs)||[],v=Xu((0,Uu.useState)("all"),2),x=v[0],O=(v[1],Xu((0,Uu.useState)("assistants"),2)),S=O[0],T=O[1],N=Xu((0,Uu.useState)([]),2),_=N[0],C=N[1],I=(0,Uu.useMemo)((function(){return y.find((function(e){return e.id===p}))}),[p,y]),L=(null==I?void 0:I.assistants_deleted)||[],k=(null==I?void 0:I.assistants)||[],A=Xu((0,Uu.useState)({userId:null,purpose:["assistant-in","assistant-out"],metadata:null,envId:p,page:1,limit:10}),2),j=A[0],P=A[1],M=JSON.stringify(j);(0,Uu.useEffect)((function(){var e,t=function(){var e=localStorage.getItem("mwai-admin-assistants");try{return JSON.parse(e)}catch(e){return{}}}(),n=null!==(e=null==t?void 0:t.envId)&amp;&amp;void 0!==e?e:null;n&amp;&amp;h(n)}),[]),(0,Uu.useEffect)((function(){var e;e={envId:p||null},localStorage.setItem("mwai-admin-assistants",JSON.stringify(e))}),[p]),(0,Uu.useEffect)((function(){P(qu(qu({},j),{},{envId:p}))}),[p]);var D=(0,Ne.a)({queryKey:["assistants-files",M],enabled:"files"===S,keepPreviousData:!0,staleTime:3e5,queryFn:function(){return tn(j)}}),G=D.isFetching,F=(D.error,D.data),B=function(){var e=zu(Vu().mark((function e(t){return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,$t(t);case 4:return e.next=6,a.invalidateQueries("assistants-files");case 6:C([]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),l(e.t0);case 12:f(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),U=(0,Uu.useMemo)((function(){return null==F?void 0:F.files.map((function(e){return qu(qu({},e),{},{file:(n=e.url,r=e.refId,React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("span",null,function(e){if(!e)return null;var t=e.split("/").pop();return React.createElement("a",{href:e,target:"_blank",rel:"noreferrer"},t)}(n)),React.createElement("small",null,r))),purpose:(a=e.purpose,"assistant-out"===a?"Generated":"assistant-in"===a?"Uploaded":a),metadata:(t=e.metadata,t?React.createElement("small",null,React.createElement("ul",{style:{margin:0,padding:0}},Object.keys(t).map((function(e){return React.createElement("li",{key:e,style:{margin:0}},React.createElement("i",null,e),": ",t[e]," ","assistant_id"===e?"(".concat((n=t[e],(null==(r=k.find((function(e){return e.id===n})))?void 0:r.name)||"N/A"),")"):"");var n,r})))):null),created:new Date(e.created).toLocaleDateString(),actions:React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",rounded:!0,icon:"trash",disabled:W,onClick:function(){return B([e.id])}}))});var t,n,r,a}))}),[F]),H=(0,Uu.useMemo)((function(){return(null==F?void 0:F.total)||0}),[F]),Z=function(){var e=zu(Vu().mark((function e(){return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,sn(p);case 3:return e.next=5,r();case 5:f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=zu(Vu().mark((function e(){return Vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.invalidateQueries("assistants-files");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return L.includes(e.id)},z=(0,Uu.useMemo)((function(){var e=k;return"deleted"===x&amp;&amp;(e=e.filter(Y)),e.map((function(e){var t;return qu(qu({},e),{},{name:React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("span",null,e.name),React.createElement("small",null,e.id)),instructions:(null===(t=e.instructions)||void 0===t?void 0:t.length)&gt;100?"".concat(e.instructions.slice(0,100),"..."):e.instructions,parameters:React.createElement(React.Fragment,null,React.createElement("ul",{style:{margin:0,padding:0}},React.createElement("li",{style:{margin:0}},"Model: ",e.model),React.createElement("li",{style:{margin:0}},"Files: ",e.files_count),React.createElement("li",{style:{margin:0}},"Retrieval: ",e.has_retrieval?"Yes":"No"),React.createElement("li",{style:{margin:0}},"Code Interpreter: ",e.has_code_interpreter?"Yes":"No"))),createdOn:new Date(e.createdOn).toLocaleDateString()})}))}),[x,L,k]),W=s,q=(0,Uu.useMemo)((function(){return React.createElement(we.N,{scrolldown:!0,value:p,onChange:h,style:{marginLeft:5}},y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})))}),[p,y]),X=(0,Uu.useMemo)((function(){return React.createElement("div",null,React.createElement("div",{style:{display:"flex",flexDirection:"row"}},React.createElement(Zt.Q,{currentPage:j.page,limit:j.limit,total:H,onClick:function(e){P(qu(qu({},j),{},{page:e}))}})))}),[j,H]);return React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0,minimal:!0,style:{margin:8}},React.createElement(b.c,{inversed:!0,currentTab:S,onChange:function(e,t){T(t.key)},action:React.createElement(React.Fragment,null,React.createElement("div",{style:{flex:"auto"}}),_.length&gt;0&amp;&amp;"files"===S&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{className:"danger",disabled:!1,onClick:function(){return B(_)}},He.COMMON.DELETE)),"files"===S&amp;&amp;React.createElement(E._,{disabled:W,busy:W,onClick:V,className:"secondary"},"Refresh"),"assistants"===S&amp;&amp;React.createElement(E._,{disabled:W,busy:W,onClick:Z,className:"secondary"},"Refresh"),q)},React.createElement(b.P,{title:He.COMMON.ASSISTANTS,key:"assistants"},React.createElement(Bt.a,{busy:W,data:z,columns:Ju,emptyMessage:He.NO_ASSISTANTS_YET})),React.createElement(b.P,{title:He.COMMON.FILES,key:"files"},React.createElement(Bt.a,{busy:G||W,data:U,columns:$u,selectedItems:_,onSelect:function(e){C([].concat(Zu(_),Zu(e)))},onUnselect:function(e){C(Zu(_.filter((function(t){return!e.includes(t)}))))},emptyMessage:He.NO_FILES_YET}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement("div",{style:{flex:"auto"}}),X)))),React.createElement(g.z,{fullWidth:!0,minimal:!0},React.createElement(w.v,{className:"primary"},React.createElement(d.O,{p:!0},(0,R.io)(He.HELP.ASSISTANTS_INTRO)),React.createElement(_e.S,{variant:"danger"},(0,R.io)(He.HELP.ASSISTANTS_WARNINGS))),React.createElement(xe.i,{tiny:!0}),i&amp;&amp;React.createElement(Te.L,{isOpen:!!i,title:"Error",onRequestClose:function(){return l(null)},okButton:{label:"Ok",onClick:function(){return l(null)}},content:React.createElement("p",null,null==i?void 0:i.message)})))};function ts(e){return ts="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},ts(e)}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rs(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}function as(){as=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==ts(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(ts(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function is(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ts(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ts(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function us(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){cs(o,r,a,i,l,"next",e)}function l(e){cs(o,r,a,i,l,"throw",e)}i(void 0)}))}}var ss=wp.element,fs=ss.useMemo,ds=ss.useState,ms=ss.useEffect,ps=function(){var e=us(as().mark((function e(){var t,n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/openai/incidents"),{nonce:L});case 2:if(null==(t=e.sent)||!t.incidents){e.next=6;break}return n=t.incidents.map((function(e){var t=e.date,n=(t=new Date(1e3*t)).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"});return is(is({},e),{},{date:n})})),e.abrupt("return",n);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hs=[{envKey:"ai_embeddings_default_env",modelKey:"ai_embeddings_default_model",defaultModel:"text-embedding-ada-002"},{envKey:"ai_vision_default_env",modelKey:"ai_vision_default_model",defaultModel:"gpt-4-vision-preview"},{envKey:"ai_images_default_env",modelKey:"ai_images_default_model",defaultModel:"dall-e-3-hd"},{envKey:"ai_audio_default_env",modelKey:"ai_audio_default_model",defaultModel:"whisper-1"},{envKey:"ai_json_default_env",modelKey:"ai_json_default_model",defaultModel:"gpt-4-1106-preview"}];const ys=function(){var e,t,n,r,a=ns(ds(k),2),o=a[0],i=a[1],l=ns(ds(null),2),c=l[0],u=l[1],s=ns(ds(!1),2),f=s[0],v=s[1],S=(null==o?void 0:o.shortcode_chat_params)||{},N=null==o?void 0:o.module_suggestions,_=null==o?void 0:o.module_woocommerce,A=null==o?void 0:o.module_forms,j=null==o?void 0:o.module_finetunes,P=null==o?void 0:o.module_statistics,M=null==o?void 0:o.module_playground,D=null==o?void 0:o.module_generator_content,G=null==o?void 0:o.module_generator_images,F=null==o?void 0:o.module_moderation,B=null==o?void 0:o.module_embeddings,U=null==o?void 0:o.module_assistants,H=null==o?void 0:o.module_transcription,Z=null==o?void 0:o.module_devtools,V=null==o?void 0:o.shortcode_chat,Y=null!=o&amp;&amp;o.ai_envs?null==o?void 0:o.ai_envs:[],z=null==o?void 0:o.ai_default_env,W=null==o?void 0:o.ai_default_model,q=null==o?void 0:o.ai_vision_default_env,X=null==o?void 0:o.ai_vision_default_model,Q=null==o?void 0:o.ai_embeddings_default_env,K=null==o?void 0:o.ai_embeddings_default_model,J=null==o?void 0:o.ai_images_default_env,$=null==o?void 0:o.ai_images_default_model,ee=null==o?void 0:o.ai_audio_default_env,te=null==o?void 0:o.ai_audio_default_model,ne=null==o?void 0:o.ai_json_default_env,re=null==o?void 0:o.ai_json_default_model,ae=null!=o&amp;&amp;o.embeddings_envs?null==o?void 0:o.embeddings_envs:[],oe=null==o?void 0:o.embeddings_default_env,ie=null==o?void 0:o.shortcode_chat_syntax_highlighting,le=null==o?void 0:o.shortcode_chat_typewriter,ce=null==o?void 0:o.shortcode_chat_discussions,ue=null==o?void 0:o.shortcode_chat_stream,se=null==o?void 0:o.speech_recognition,fe=null==o?void 0:o.speech_synthesis,de=null==o?void 0:o.public_api,me=null==o?void 0:o.statistics_data,pe=null==o?void 0:o.statistics_forms_data,he=null==o?void 0:o.intro_message,ye=null==o?void 0:o.context_max_length,ve=null==o?void 0:o.banned_ips,ge=null==o?void 0:o.banned_words,be=null!==(e=null==o?void 0:o.admin_bar)&amp;&amp;void 0!==e?e:["settings"],_e=null==o?void 0:o.resolve_shortcodes,Ce=null==o?void 0:o.clean_uninstall,Ie=lt(o),Le=Ie.completionModels,ke=Ie.getModel,Ae=lt(o,null==o?void 0:o.ai_vision_default_env).visionModels,je=lt(o,null==o?void 0:o.ai_audio_default_env).audioModels,Pe=lt(o,null==o?void 0:o.ai_json_default_env).jsonModels,Me=lt(o,null==o?void 0:o.ai_images_default_env).imageModels,De=lt(o,null==o?void 0:o.ai_embeddings_default_env).embeddingsModels,Ge=ke(S.model),Be=(0,Ne.a)({queryKey:["incidents"],queryFn:ps}),Ue=Be.isLoading,Ze=Be.data,Ve=fs((function(){return null==Ze?void 0:Ze.filter((function(e){return new Date(e.date)&gt;new Date(Date.now()-864e5)})).length}),[Ze]),Ye=f,ze=function(){var e=us(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,cn();case 4:t=e.sent,i(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(He.ERROR.GETTING_OPTIONS,null!==e.t0&amp;&amp;void 0!==e.t0&amp;&amp;e.t0.message?{message:e.t0.message}:{err:e.t0}),e.t0.message&amp;&amp;u(React.createElement(React.Fragment,null,React.createElement("div",null,He.ERROR.GETTING_OPTIONS),React.createElement("small",null,(0,R.io)(He.ERROR.CHECK_YOUR_CONSOLE))));case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=us(as().mark((function e(t){var n;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,JSON.stringify(t)!==JSON.stringify(o)){e.next=3;break}return e.abrupt("return");case 3:return v(!0),e.next=6,(0,R.PV)("".concat(T,"/settings/update"),{method:"POST",nonce:L,json:{options:t}});case 6:n=e.sent,i(n.options),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(He.ERROR.UPDATING_OPTIONS,null!==e.t0&amp;&amp;void 0!==e.t0&amp;&amp;e.t0.message?{message:e.t0.message,options:o,newOptions:t}:{err:e.t0,options:o,newOptions:t}),e.t0.message&amp;&amp;u(React.createElement(React.Fragment,null,React.createElement("div",null,He.ERROR.UPDATING_OPTIONS),React.createElement("small",null,(0,R.io)(He.ERROR.CHECK_YOUR_CONSOLE))));case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=us(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(is({},o),{},ls({},n,t)),e.next=3,We(r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(){var e=us(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ae.map((function(e){return e.id===t?is(is({},e),n):e})),qe(r,"embeddings_envs");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qe=function(){var e=us(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Y.map((function(e){return e.id===t?is(is({},e),n):e})),qe(r,"ai_envs");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=us(as().mark((function e(){return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(He.ALERTS.ARE_YOU_SURE)){e.next=2;break}return e.abrupt("return");case 2:return v(!0),e.prev=3,e.next=6,(0,R.PV)("".concat(T,"/settings/reset"),{method:"POST",nonce:L});case 6:alert("Settings reset. The page will now reload to reflect the changes."),window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Error while resetting settings. Please check your console."),console.log(e.t0);case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=us(as().mark((function e(){var t,n,r,a,o,i,l,c,u;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v("exportSettings"),e.prev=1,e.next=4,an();case 4:return t=e.sent,e.next=7,ln();case 7:return n=e.sent,e.next=10,cn();case 10:r=e.sent,a={chatbots:t,themes:n,options:r},o=new Blob([JSON.stringify(a)],{type:"application/json"}),i=URL.createObjectURL(o),(l=document.createElement("a")).href=i,c=new Date,u="ai-engine-".concat(c.getFullYear(),"-").concat(c.getMonth()+1,"-").concat(c.getDate(),".json"),l.setAttribute("download",u),l.click(),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),alert("Error while exporting settings. Please check your console."),console.log(e.t0);case 26:return e.prev=26,v(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,22,26,29]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=us(as().mark((function e(){var t;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v("importSettings");try{(t=document.createElement("input")).type="file",t.accept="application/json",t.onchange=function(){var e=us(as().mark((function e(t){var n,r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:(r=new FileReader).onload=function(){var e=us(as().mark((function e(t){var n,r,a,o;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(t.target.result),r=n.chatbots,a=n.themes,o=n.options,e.next=4,on(r);case 4:return e.next=6,un(a);case 6:return e.next=8,We(o);case 8:alert("Settings imported. The page will now reload to reflect the changes."),window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.readAsText(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.click()}catch(e){alert("Error while importing settings. Please check your console."),console.log(e)}finally{v(!1)}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e,t,n){var r=function(){var r=us(as().mark((function r(){var a,o;return as().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=!1,o=is({},t),hs.forEach((function(n){var r=n.envKey,i=n.modelKey,l=n.defaultModel,c=!1;if(t[r]&amp;&amp;(c=!!e.find((function(e){return e.id===t[r]}))),!c){var u=e.find((function(e){return"openai"===e.type}));u?o[r]===u.id&amp;&amp;o[i]===l||(a=!0,o[r]=u.id,o[i]=l):null===o[r]&amp;&amp;null===o[i]||(a=!0,o[r]=null,o[i]=null)}})),!a){r.next=6;break}return r.next=6,n(o);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();ms((function(){r()}),[e,t])}(Y,o,We),ms((function(){"chat"!==(null==Ge?void 0:Ge.mode)&amp;&amp;S.embeddings_index&amp;&amp;et("","embeddings_index")}),[S]);var et=function(){var e=us(as().mark((function e(t,n){var r;return as().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=is(is({},S),{},ls({},n,t)),e.next=3,qe(r,"shortcode_chat_params");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=React.createElement(m.r,{title:He.COMMON.UTILITIES},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_suggestions",label:He.COMMON.POSTS_SUGGESTIONS,value:"1",checked:N,description:He.COMMON.POSTS_SUGGESTIONS_HELP,onChange:qe}),React.createElement(h.P,{name:"module_woocommerce",label:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,value:"1",checked:_,description:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR_HELP,onChange:qe}))),nt=React.createElement(m.r,{title:He.COMMON.GENERATORS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"module_generator_content",label:He.COMMON.CONTENT_GENERATOR,value:"1",checked:D,description:He.COMMON.CONTENT_GENERATOR_HELP,onChange:qe}),React.createElement(h.P,{name:"module_generator_images",label:He.COMMON.IMAGES_GENERATOR,value:"1",checked:G,description:He.COMMON.IMAGES_GENERATOR_HELP,onChange:qe}))),rt=React.createElement(m.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{name:"module_playground",label:He.COMMON.ENABLE,value:"1",checked:M,description:He.COMMON.PLAYGROUND_HELP,onChange:qe})),at=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.FORMS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_forms",label:He.COMMON.ENABLE,value:"1",checked:A,requirePro:!0,isPro:I,description:He.COMMON.FORMS_HELP,onChange:qe})),it=React.createElement(m.r,{title:He.COMMON.FINETUNES},React.createElement(h.P,{name:"module_finetunes",label:He.COMMON.ENABLE,value:"1",checked:j,description:He.HELP.FINETUNES,onChange:qe})),ct=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.STATISTICS)},React.createElement(h.P,{name:"module_statistics",label:He.COMMON.ENABLE,value:"1",checked:P,requirePro:!0,isPro:I,description:He.COMMON.STATISTICS_HELP,onChange:qe})),ut=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.MODERATION)},React.createElement(h.P,{name:"module_moderation",label:He.COMMON.ENABLE,value:"1",checked:F,description:He.COMMON.MODERATION_HELP,onChange:qe})),st=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.TRANSCRIPTION)},React.createElement(h.P,{name:"module_transcription",label:He.COMMON.ENABLE,value:"1",checked:H,description:He.COMMON.TRANSCRIPTION_HELP,onChange:qe})),ft=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.EMBEDDINGS)},React.createElement(h.P,{name:"module_embeddings",label:He.COMMON.ENABLE,value:"1",checked:B,requirePro:!0,isPro:I,description:He.COMMON.EMBEDDINGS_HELP,onChange:qe})),dt=React.createElement(m.r,{title:React.createElement(React.Fragment,null,He.COMMON.ASSISTANTS,React.createElement("small",{style:{position:"relative",top:-3,fontSize:8}}," BETA"))},React.createElement(h.P,{name:"module_assistants",label:He.COMMON.ENABLE,value:"1",checked:U,requirePro:!0,isPro:I,description:He.HELP.ASSISTANTS,onChange:qe})),mt=React.createElement(m.r,{title:He.COMMON.CHATBOT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat",label:He.COMMON.ENABLE,value:"1",checked:V,description:He.COMMON.CHATBOT_HELP,onChange:qe}))),pt=React.createElement(m.r,{title:He.COMMON.QUERIES_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"statistics_data",label:He.COMMON.ENABLE,value:"1",checked:me,description:He.HELP.QUERIES_DATA,onChange:qe}))),ht=React.createElement(m.r,{title:He.COMMON.QUERIES_FORMS_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"statistics_forms_data",label:He.COMMON.ENABLE,value:"1",checked:pe,description:He.HELP.QUERIES_FORMS_DATA,onChange:qe}))),yt=React.createElement(m.r,{title:He.COMMON.INTRO_MESSAGE},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"intro_message",label:He.COMMON.ENABLE,value:"1",checked:he,description:He.HELP.INTRO_MESSAGE,onChange:qe}))),vt=React.createElement(m.r,{title:He.COMMON.WEBSPEECH_API},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_recognition",label:He.COMMON.SPEECH_RECOGNITION,value:"1",checked:se,description:He.HELP.SPEECH_RECOGNITION,onChange:qe})),React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"speech_synthesis",label:He.COMMON.SPEECH_SYNTHESIS+" (SOON)",value:"1",disabled:!0,checked:fe,description:He.HELP.SPEECH_SYNTHESIS,onChange:qe}))),gt=React.createElement(m.r,{title:He.COMMON.STREAMING},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_stream",label:He.COMMON.ENABLE,value:"1",checked:ue,description:He.HELP.STREAMING,onChange:qe}))),bt=React.createElement(m.r,{title:He.SETTINGS.TYPEWRITER_EFFECT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_typewriter",label:He.COMMON.ENABLE,value:"1",checked:le,description:(0,R.io)(He.SETTINGS.TYPEWRITER_EFFECT_HELP),onChange:qe}))),Et=React.createElement(m.r,{title:He.COMMON.DISCUSSIONS},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_discussions",label:He.COMMON.ENABLE,value:"1",checked:ce,description:He.HELP.DISCUSSIONS,onChange:qe}))),wt=React.createElement(m.r,{title:He.COMMON.SYNTAX_HIGHLIGHT},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"shortcode_chat_syntax_highlighting",label:He.COMMON.ENABLE,value:"1",checked:ie,description:He.HELP.SYNTAX_HIGHLIGHT,onChange:qe}))),Rt=React.createElement(m.r,{title:He.COMMON.PUBLIC_API},React.createElement(h.P,{name:"public_api",label:He.COMMON.ENABLE,value:"1",checked:de,description:He.HELP.PUBLIC_API,onChange:qe})),xt=React.createElement(m.r,{title:He.COMMON.BEARER_TOKEN},React.createElement(Ee.A,{name:"public_api_bearer_token",value:null==o?void 0:o.public_api_bearer_token,description:(0,R.io)(He.HELP.BEARER_TOKEN),onBlur:qe})),Ot=React.createElement(m.r,{title:"Local Upload"},React.createElement(we.N,{scrolldown:!0,name:"image_local_upload",value:null==o?void 0:o.image_local_upload,onChange:qe,description:"Images can be stored either in the filesystem or in the Media Library."},React.createElement(we.Z,{key:"uploads",value:"uploads",label:"Filesystem"}),React.createElement(we.Z,{key:"library",value:"library",label:"Media Library"}))),St=React.createElement(m.r,{title:"Remote Upload"},React.createElement(we.N,{scrolldown:!0,name:"image_remote_upload",value:null==o?void 0:o.image_remote_upload,onChange:qe,description:"Select Upload Data for private sites; Share URLs requires your WordPress to be online and reachable."},React.createElement(we.Z,{key:"data",value:"data",label:"Upload Data"}),React.createElement(we.Z,{key:"url",value:"url",label:"Share URLs"}))),Tt=React.createElement(m.r,{title:"Expiration"},React.createElement(we.N,{scrolldown:!0,name:"image_expires",value:null!==(t=null==o?void 0:o.image_expires)&amp;&amp;void 0!==t?t:"never",onChange:qe,description:"The images uploaded will be deleted after a certain amount of time."},React.createElement(we.Z,{key:3600,value:3600,label:"1 hour"}),React.createElement(we.Z,{key:21600,value:21600,label:"6 hours"}),React.createElement(we.Z,{key:86400,value:86400,label:"1 day"}),React.createElement(we.Z,{key:604800,value:604800,label:"1 week"}),React.createElement(we.Z,{key:2592e3,value:2592e3,label:"1 month"}),React.createElement(we.Z,{key:"Never",value:"never",label:"Never"}))),Nt=React.createElement(m.r,{title:"Local Download"},React.createElement(we.N,{scrolldown:!0,name:"image_local_download",value:null!==(n=null==o?void 0:o.image_local_download)&amp;&amp;void 0!==n?n:null,onChange:qe,description:"Images can be stored either in the filesystem or in the Media Library."},React.createElement(we.Z,{key:null,value:null,label:"None"}),React.createElement(we.Z,{key:"uploads",value:"uploads",label:"Filesystem"}),React.createElement(we.Z,{key:"library",value:"library",label:"Media Library"}))),_t=React.createElement(m.r,{title:"Expiration"},React.createElement(we.N,{scrolldown:!0,name:"image_expires_download",value:null!==(r=null==o?void 0:o.image_expires_download)&amp;&amp;void 0!==r?r:"never",onChange:qe,description:"The download images will be deleted after a certain amount of time."},React.createElement(we.Z,{key:3600,value:3600,label:"1 hour"}),React.createElement(we.Z,{key:21600,value:21600,label:"6 hours"}),React.createElement(we.Z,{key:86400,value:86400,label:"1 day"}),React.createElement(we.Z,{key:604800,value:604800,label:"1 week"}),React.createElement(we.Z,{key:2592e3,value:2592e3,label:"1 month"}),React.createElement(we.Z,{key:"Never",value:"never",label:"Never"}))),Ct=React.createElement(m.r,{title:He.COMMON.DEV_TOOLS},React.createElement(h.P,{name:"module_devtools",label:He.COMMON.ENABLE,value:"1",checked:Z,description:He.HELP.DEV_TOOLS,onChange:qe})),It=React.createElement(m.r,{title:He.COMMON.SHORTCODES},React.createElement(h.P,{name:"resolve_shortcodes",label:He.COMMON.RESOLVE,value:"1",checked:_e,description:He.HELP.RESOLVE_SHORTCODE,onChange:qe})),kt=React.createElement(m.r,{title:He.COMMON.CONTEXT_MAX_LENGTH},React.createElement(Ee.A,{name:"context_max_length",value:ye,type:"number",step:"1",description:He.HELP.CONTEXT_MAX_LENGTH,onBlur:qe})),At=React.createElement(m.r,{title:He.COMMON.BANNED_WORDS},React.createElement(Ee.A,{id:"banned_words",name:"banned_words",value:ge,isCommaSeparatedArray:!0,description:He.HELP.BANNED_WORDS,onBlur:qe})),jt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_default_model",value:W,onChange:qe},Le.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Pt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_embeddings_default_model",value:K,onChange:qe},De.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Mt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_vision_default_model",value:X,onChange:qe},Ae.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Dt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_audio_default_model",value:te,onChange:qe},je.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Gt=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_json_default_model",value:re,onChange:qe},Pe.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Ft=React.createElement(m.r,{title:He.COMMON.MODEL},React.createElement(we.N,{scrolldown:!0,name:"ai_images_default_model",value:$,onChange:qe},Me.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})})))),Bt=React.createElement(m.r,{title:He.COMMON.BANNED_IPS},React.createElement(Ee.A,{id:"banned_ips",name:"banned_ips",value:ve,isCommaSeparatedArray:!0,description:He.HELP.BANNED_IPS,onBlur:qe})),Ut=React.createElement(m.r,{title:He.COMMON.PLAYGROUND},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.playground,onChange:function(e){var t=is(is({},be),{},{playground:e});qe(t,"admin_bar")}})),Ht=React.createElement(m.r,{title:He.COMMON.GENERATE_CONTENT},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.content_generator,onChange:function(e){var t=is(is({},be),{},{content_generator:e});qe(t,"admin_bar")}})),Zt=React.createElement(m.r,{title:He.COMMON.GENERATE_IMAGES},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.images_generator,onChange:function(e){var t=is(is({},be),{},{images_generator:e});qe(t,"admin_bar")}})),Vt=React.createElement(m.r,{title:"AI Engine"},React.createElement(h.P,{label:He.COMMON.ENABLE,value:"1",checked:null==be?void 0:be.settings,onChange:function(e){var t=is(is({},be),{},{settings:e});qe(t,"admin_bar")}})),Yt=React.createElement("div",null,React.createElement("div",{style:{fontSize:12,marginTop:-5}},(0,R.io)(He.COMMON.USAGE_COSTS_HELP)),React.createElement(ca,{options:o})),zt=Ve&gt;0?React.createElement(Re.J,{style:{marginLeft:5,marginRight:-5,display:"inline"},width:"16",icon:"alert",variant:"warning"}):null,Wt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_default_env",value:z,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),qt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_embeddings_default_env",value:Q,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),Xt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_vision_default_env",value:q,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),Qt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_audio_default_env",value:ee,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),Kt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_json_default_env",value:ne,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),Jt=React.createElement(React.Fragment,null,React.createElement(xe.i,{height:5}),React.createElement(m.r,{title:He.COMMON.ENVIRONMENT},React.createElement(we.N,{scrolldown:!0,name:"ai_images_default_env",value:J,onChange:qe},Y.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))))),$t=React.createElement(we.N,{scrolldown:!0,name:"embeddings_default_env",value:oe,onChange:qe},ae.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})}))),en=React.createElement(m.r,{title:He.COMMON.PLUGIN_DATA},React.createElement(p.l,{max:"1"},React.createElement(h.P,{name:"clean_uninstall",label:He.COMMON.DELETE_ALL,description:He.COMMON.PLUGIN_DATA_DESCRIPTION,value:"1",checked:Ce,onChange:qe})));return React.createElement(y.s,null,React.createElement(Lt,{options:o}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:o}),he&amp;&amp;React.createElement(Oe.H,null,(0,R.io)(He.SETTINGS.INTRO)),React.createElement(b.c,{keepTabOnReload:!0},React.createElement(b.P,{key:"dashboard",title:He.COMMON.DASHBOARD},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.CLIENT_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),mt,at),React.createElement(w.v,{busy:Ye,title:He.COMMON.SERVER_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),dt,ct,ft,it,ut),React.createElement(w.v,{busy:Ye,title:He.COMMON.BACKEND_MODULES,className:"primary"},React.createElement("p",null,He.SETTINGS.MODULES_INTRO),React.createElement(xe.i,null),nt,rt,tt,st)),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.USAGE_COSTS,className:"primary"},Yt)))),V&amp;&amp;React.createElement(b.P,{key:"chatbots",title:He.COMMON.CHATBOTS},React.createElement(kc,{options:o,updateOption:qe,busy:Ye})),V&amp;&amp;ce&amp;&amp;React.createElement(b.P,{key:"discussions",title:He.COMMON.DISCUSSIONS},React.createElement(Ha,null)),P&amp;&amp;React.createElement(b.P,{key:"queries",title:He.COMMON.QUERIES},React.createElement(fu,{options:o,updateOption:qe,busy:Ye})),B&amp;&amp;React.createElement(b.P,{key:"embeddings",title:He.COMMON.EMBEDDINGS},React.createElement(na,{options:o,updateEnvironment:Xe,updateOption:qe})),U&amp;&amp;React.createElement(b.P,{key:"assistants",title:He.COMMON.ASSISTANTS},React.createElement(es,{options:o,updateOption:qe,refreshOptions:ze})),j&amp;&amp;React.createElement(b.P,{key:"finetunes",title:He.COMMON.FINETUNES},React.createElement(Zn,{options:o,updateOption:qe,refreshOptions:ze})),F&amp;&amp;React.createElement(b.P,{key:"moderation",title:He.COMMON.MODERATION},React.createElement(nr,{options:o,updateOption:qe,busy:Ye})),H&amp;&amp;React.createElement(b.P,{key:"transcription",title:He.COMMON.TRANSCRIPTION},React.createElement(Bu,{options:o,updateOption:qe})),React.createElement(b.P,{key:"settings",title:React.createElement(React.Fragment,null,He.COMMON.SETTINGS,zt)},React.createElement(g.o,null,React.createElement(g.z,{minimal:!0},React.createElement(Lu,{busy:Ye,options:o,environments:Y,updateEnvironment:Qe,updateOption:qe}),React.createElement("div",{style:{padding:"0px 10px 15px 10px",marginTop:13,marginBottom:5}},React.createElement(d.O,{h2:!0,style:{color:"white",marginBottom:15}},He.COMMON.AI_ENVIRONMENT_DEFAULTS),React.createElement(b.c,{inversed:!0},React.createElement(b.P,{key:"ai",title:He.COMMON.DEFAULT,busy:Ye},Wt,jt),React.createElement(b.P,{key:"vision",title:He.COMMON.VISION,busy:Ye},Xt,Mt),React.createElement(b.P,{key:"images",title:He.COMMON.IMAGES,busy:Ye},Jt,Ft),React.createElement(b.P,{key:"embeddings",title:He.COMMON.EMBEDDINGS,busy:Ye},qt,Pt),React.createElement(b.P,{key:"audio",title:He.COMMON.AUDIO,busy:Ye},Qt,Dt),React.createElement(b.P,{key:"json",title:He.COMMON.JSON,busy:Ye},Kt,Gt))),B&amp;&amp;React.createElement(React.Fragment,null,React.createElement(gu,{busy:Ye,options:o,environments:ae,updateEnvironment:Xe,updateOption:qe}),React.createElement(w.v,{busy:Ye,title:He.COMMON.EMBEDDINGS_ENVIRONMENT_DEFAULT,className:"primary"},$t)),React.createElement(w.v,{busy:Ue,title:React.createElement("div",{style:{display:"flex"}},He.COMMON.INCIDENTS_OPENAI,zt),className:"primary",contentStyle:{padding:0}},React.createElement(qn,{incidents:Ze,isLoading:Ue})),React.createElement(w.v,{busy:Ye,title:He.COMMON.MAINTENANCE,className:"primary"},React.createElement(E._,{className:"blue",onClick:Je},"Export Settings"),React.createElement(E._,{className:"danger",onClick:$e},"Import Settings"),React.createElement(E._,{className:"danger",onClick:Ke},"Reset Settings"))),React.createElement(g.z,{minimal:!0},React.createElement(w.v,{busy:Ye,title:He.COMMON.GENERAL,className:"primary"},gt),React.createElement(w.v,{busy:Ye,title:He.COMMON.USER_INTERFACE,className:"primary"},yt),React.createElement(w.v,{busy:Ye,title:He.COMMON.CHATBOT,className:"primary"},Et,wt,vt),P&amp;&amp;React.createElement(w.v,{busy:Ye,title:He.COMMON.STATISTICS,className:"primary"},React.createElement("p",null,He.HELP.STATISTICS),pt,ht),React.createElement(w.v,{busy:Ye,title:He.COMMON.IMAGES,className:"primary"},React.createElement("p",null,React.createElement("b",null,"User Upload")),Ot,St,Tt,React.createElement("p",null,React.createElement("b",null,"AI Generated")),Nt,null!==(null==o?void 0:o.image_local_download)&amp;&amp;_t),React.createElement(w.v,{busy:Ye,title:He.COMMON.ADMIN_TOOLS,className:"primary"},React.createElement(Se.L,{title:He.COMMON.ADMIN_BAR}),Vt,Ut,Ht,Zt),React.createElement(w.v,{busy:Ye,title:He.COMMON.ADVANCED,className:"primary"},It,kt,Rt,xt,Ct,en),React.createElement(w.v,{busy:Ye,title:He.COMMON.SECURITY,className:"primary"},At,Bt),React.createElement(w.v,{busy:Ye,title:He.COMMON.LEGACY_FEATURES,className:"primary"},bt)))),Z&amp;&amp;React.createElement(b.P,{key:"devtools",title:He.COMMON.DEV_TOOLS},React.createElement(hu,{options:o,setOptions:i,updateOption:qe})),React.createElement(b.P,{key:"license",title:He.COMMON.LICENSE_TAB},React.createElement(Fe,{domain:O,prefix:x,isPro:C,isRegistered:I}))))),React.createElement(Te.L,{isOpen:c,title:He.COMMON.ERROR,content:c,onRequestClose:function(){return u(!1)},okButton:{label:"Close",onClick:function(){return u(!1)}}}))};var vs=n(5307),gs=[{value:"informative",label:"Informative"},{value:"descriptive",label:"Descriptive"},{value:"creative",label:"Creative"},{value:"narrative",label:"Narrative"},{value:"persuasive",label:"Persuasive"},{value:"reflective",label:"Reflective"},{value:"argumentative",label:"Argumentative"},{value:"analytical",label:"Analytical"},{value:"evaluative",label:"Evaluative"},{value:"journalistic",label:"Journalistic"},{value:"technical",label:"Technical"}],bs=[{value:"neutral",label:"Neutral"},{value:"formal",label:"Formal"},{value:"assertive",label:"Assertive"},{value:"cheerful",label:"Cheerful"},{value:"humorous",label:"Humorous"},{value:"informal",label:"Informal"},{value:"inspirational",label:"Inspirational"},{value:"professional",label:"Professional"},{value:"confluent",label:"Confluent"},{value:"emotional",label:"Emotional"},{value:"persuasive",label:"Persuasive"},{value:"supportive",label:"Supportive"},{value:"sarcastic",label:"Sarcastic"},{value:"condescending",label:"Condescending"},{value:"skeptical",label:"Skeptical"},{value:"narrative",label:"Narrative"},{value:"journalistic",label:"Journalistic"}],Es="gpt-3.5-turbo",ws=[{id:"default",name:"Default",mode:"query",model:Es,temperature:.8,stopSequence:"",maxTokens:2048,prompt:""},{id:"article_translator",name:"Text Translator",mode:"query",model:Es,temperature:.3,stopSequence:"",maxTokens:2048,prompt:"Translate this article into French:\n\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town.\n"},{id:"restaurant_review",name:"Restaurant Review Writer",mode:"query",model:Es,temperature:.8,stopSequence:"",maxTokens:2048,prompt:"Write a review for a French restaurant located in Kagurazaka, Tokyo. Looks like an old restaurant, food is traditional, chef is talkative, it is always full. Not expensive, but not fancy.\n"},{id:"article_corrector",name:"Text Corrector",mode:"query",model:Es,temperature:.2,stopSequence:"",maxTokens:2048,prompt:"Fix the grammar and spelling mistakes in this text:\n\nI wake up at eleben yesderday, I will go bed eary tonigt.\n"},{id:"seo_assistant",name:"SEO Optimizer",mode:"query",model:Es,temperature:.6,stopSequence:"",maxTokens:1024,prompt:"For the following article, write a SEO-friendly and short title, keywords for Google, and a short excerpt to introduce it. Use this format:\n\nTitle: \nKeywords: \nExcerpt:\n\nArticle:\nUchiko is located in Ehime prefecture, in the west of the island. The town was prosperous at the end of the 19th century thanks to its production of very good quality white wax. This economic boom allowed wealthy local merchants to build beautiful properties, whose heritage is still visible throughout the town."}],Rs=[{id:"default",name:"Default",model:"dall-e-3",maxResults:1,prompt:""},{id:"japan",name:"Ghibli Scene",model:"dall-e-3",maxResults:1,prompt:"Create an image in the style of a Ghibli-inspired anime oil painting, depicting a quaint, old house in the Japanese countryside. This house, reminiscent of a traditional izakaya, is surrounded by lush trees and overlooks vibrant rice fields. The scene is bathed in the warm, soft glow of a setting sun, casting gentle shadows and creating a tranquil, nostalgic atmosphere. The composition should be rich in texture, capturing the serene beauty of rural Japan in a whimsical, Ghibli-like manner."},{id:"steampunk",name:"Steampunk Architecture",model:"dall-e-3",maxResults:1,prompt:"Create an image showcasing steampunk architecture, focusing on the exterior view of a grand theater. The style should reflect award-winning architectural photography from a science fiction magazine. The theater, a masterpiece of steampunk design, combines Victorian influences with futuristic, mechanical elements. Its intricate facade features exposed gears, brass pipes, and steam vents, all integrated into the ornate, classical structure. The building should be set against a dramatic sky, highlighting its unique features and the interplay of light and shadow, capturing the essence of a high-quality, professional architectural photograph."},{id:"nyao-illustration",name:"Nyao Illustration",model:"dall-e-3",maxResults:1,prompt:"The character is an anthropomorphic cat with a whimsical and endearing design, featuring a blend of white and blue fur. The right side of the cat's face has a patch of blue fur that also covers the outer part of the ear, while the left side remains predominantly white, except that the eye is surrounded by a green patch of fur. The tail mirrors this pattern with white fur leading to a blue tip. The character's facial expression is joyous, with a wide, open-mouthed smile showcasing a single front tooth and a small, black nose.&nbsp; The cat's paws are also white, with defined fingers that suggest human-like dexterity. An orange collar encircles the neck, contrasting with the green and blue tones of the body. This collar is adorned with a blue and white emblem in the center, reminiscent of the WordPress logo. The drawing style of this image can be defined as a digital illustration with a cartoonish and whimsical aesthetic. It features bold outlines, flat colors, and simplified shapes which are typical of contemporary character design aimed at a broad, family-friendly audience. The style is reminiscent of modern vector art, which is often used for web graphics, animation, and media aimed at engaging a casual viewer with its clear, approachable, and vibrant visuals."}],xs=[{id:"default",name:"Default",mode:"single",topic:"",topics:"",topicsAreTitles:!1,title:"",sections:"",model:Es,temperature:.8,maxTokens:2048,sectionsCount:2,paragraphsCount:3,language:"en",customLanguage:"",writingStyle:"creative",writingTone:"cheerful",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'},{id:"",name:"Expore Japan",mode:"single",topic:"Tokyo, its main areas and attractions, one day tour for a first-time visitor. Simple vocabulary, short paragraphs.",topics:"",topicsAreTitles:!1,title:"",sections:"",model:Es,temperature:.8,maxTokens:2048,sectionsCount:3,paragraphsCount:2,language:"en",customLanguage:"",writingStyle:"informative",writingTone:"informal",titlePromptFormat:'Write a title for an article about "{TOPIC}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.',sectionsPromptFormat:'Write {SECTIONS_COUNT} consecutive headings for an article about "{TITLE}", in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Each heading is between 40 and 60 characters. Use Markdown for the headings (## ).',contentPromptFormat:'Write an article about "{TITLE}" in {LANGUAGE}. The article is organized by the following headings:\n\n{SECTIONS}\n\nWrite {PARAGRAPHS_PER_SECTION} paragraphs per heading. Use Markdown for formatting. Add an introduction prefixed by "===INTRO: ", and a conclusion prefixed by "===OUTRO: ". Style: {WRITING_STYLE}. Tone: {WRITING_TONE}.',excerptPromptFormat:'Write an excerpt for an article about "{TITLE}" in {LANGUAGE}. Style: {WRITING_STYLE}. Tone: {WRITING_TONE}. Must be between 40 and 60 characters.'}];function Os(e){return Os="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Os(e)}function Ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Os(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Os(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||ks(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _s(){_s=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Os(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Os(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Cs(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Is(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Cs(o,r,a,i,l,"next",e)}function l(e){Cs(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ls(e){return function(e){if(Array.isArray(e))return As(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ks(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){if(e){if("string"==typeof e)return As(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?As(e,t):void 0}}function As(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var js=wp.element,Ps=js.useState,Ms=js.useEffect,Ds=js.useMemo;function Gs(){return(new Date).getTime().toString(36)+Math.random().toString(36).substr(2,9)}var Fs=function(e){var t=Ls(e);return t.sort((function(e,t){return e.name.localeCompare(t.name)})),t},Bs=function(){var e=Is(_s().mark((function e(t){var n,r,a;return _s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.PV)("".concat(T,"/system/templates?category=").concat(t),{nonce:L});case 3:return n=e.sent,r=[],"imagesGenerator"===t?r=Rs:"playground"===t?r=ws:"contentGenerator"===t&amp;&amp;(r=xs),a=r.find((function(e){return"default"===e.id})),null!=n&amp;&amp;n.templates&amp;&amp;n.templates.length&gt;0&amp;&amp;(r=Fs(n.templates)),a?r.forEach((function(e){Object.keys(a).forEach((function(t){void 0===e[t]&amp;&amp;(e[t]=a[t])}))})):console.warn("Default template not found for category: "+t),e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();const Us=function(){var e=arguments.length&gt;0&amp;&amp;void 0!==arguments[0]?arguments[0]:"playground",t=Ns(Ps(),2),n=t[0],r=t[1],a=Ns(Ps(!1),2),o=a[0],i=a[1],l=Ns(Ps([]),2),c=l[0],u=l[1],s=(0,Ne.a)({queryKey:["templates-".concat(e)],queryFn:function(){return Bs(e)}}),f=s.isLoading,d=s.data;Ms((function(){for(var t=0;t&lt;c.length;t++){var n=c[t],r=!1;if(n&amp;&amp;(!n.envId||!n.model)){var a=(null==k?void 0:k.ai_default_env)||null,o=(null==k?void 0:k.ai_default_model)||null;"imagesGenerator"===e&amp;&amp;(o="dall-e-3-hd"),a&amp;&amp;o&amp;&amp;(n.envId=a,n.model=o,r=!0)}r&amp;&amp;u(Ls(c))}}),[c]),Ms((function(){d&amp;&amp;(u(d),r(d[0]))}),[d]);var m=function(){var t=Is(_s().mark((function t(n){var r;return _s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Fs(n),u(n),t.prev=2,t.next=5,(0,R.PV)("".concat(T,"/system/templates"),{method:"POST",nonce:L,json:{category:e,templates:n}});case 5:return r=t.sent,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),alert(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),p=Ds((function(){if(!n||0===c.length)return!1;if(Object.keys(n).length!==Object.keys(c.find((function(e){return e.id===n.id}))).length)return!0;var e=c.find((function(e){return e.id===n.id}));return Object.keys(e).some((function(t){return e[t]!==n[t]}))}),[n,c]),h=function(){var e=c.find((function(e){return e.id===n.id}));e&amp;&amp;r(Ts({},e))},y=function(){var e=prompt(He.COMMON.NAME,n.name||He.TEMPLATES.NEW_TEMPLATE_NAME);if(!e)return!1;var t=Ts(Ts({},n),{},{id:Gs(),name:e});m([].concat(Ls(c),[t])),r(Ts({},t))},v=function(){var e=c.map((function(e){return e.id===n.id?n:e}));m(e),r(Ts({},n))},g=function(){var e=prompt("Template Name",n.name),t=Ts(Ts({},c[0]),{},{id:Gs(),name:e});m([].concat(Ls(c),[t])),r(Ts({},t))},b=function(){var e=prompt("Template Name",n.name);if(e){var t=c.map((function(t){return t.id===n.id?Ts(Ts({},t),{},{name:e}):t}));m(Ls(t)),r(Ts({},t.find((function(e){return e.id===n.id}))))}},w=function(){if(confirm(He.TEMPLATES.DELETE_ALL_CONFIRM)){var t=[];"imagesGenerator"===e?t=Ls(Rs):"playground"===e?t=Ls(ws):"contentGenerator"===e&amp;&amp;(t=Ls(xs)),m(t),r(Ts({},t[0]))}},x=Ds((function(){return p&amp;&amp;"default"!==n.id}),[n]),O=Ds((function(){return React.createElement("div",{style:{margin:"0"}},React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement("h3",{style:{margin:0}},He.TEMPLATES.TEMPLATES),React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},React.createElement(Gt.Q,{small:!0,onLabel:He.TEMPLATES.EDIT,offLabel:He.TEMPLATES.EDIT,width:60,onChange:i,checked:o}))),f&amp;&amp;React.createElement("div",{style:{display:"flex",marginTop:30,justifyContent:"center"}},React.createElement("div",{style:{width:60}},React.createElement(vs.S,{width:20}))),React.createElement("ul",null,c.filter((function(e){return"default"!==e.id})).map((function(e){return React.createElement("li",{key:e.id,className:n.id===e.id?"active"+(p&amp;&amp;o?" modified":""):"",onClick:function(){r(Ts({},e))}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("div",{style:{flex:"auto"}},e.name),o&amp;&amp;"default"!==e.id&amp;&amp;React.createElement(E._,{rounded:!0,icon:"trash",className:"danger",style:{margin:-6,marginRight:-5},onClick:function(t){!function(e){if(confirm(He.TEMPLATES.DELETE_CONFIRM)){var t=c.filter((function(t){return t.id!==e.id}));m(Ls(t)),r(Ts({},t[0]))}}(e)}})))}))),p&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(xe.i,null),o&amp;&amp;React.createElement(React.Fragment,null,React.createElement(E._,{fullWidth:!0,className:"primary",disabled:!x,onClick:v},"Save"),React.createElement(xe.i,{tiny:!0})),React.createElement(E._,{fullWidth:!0,className:"secondary",onClick:h},"Reset")),o&amp;&amp;React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement(xe.i,null),React.createElement(xe.i,{line:!0},"Template Editor"),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{className:"primary",style:{flex:1},onClick:g},"New"),React.createElement(E._,{className:"primary",style:{flex:1},onClick:b},"Rename"),React.createElement(E._,{onClick:y,style:{flex:1}},"Duplicate")),React.createElement(xe.i,{tiny:!0}),React.createElement(E._,{className:"danger",onClick:w},"Reset All Templates")))}));return{template:n,clearTemplate:h,setTemplate:function(e){r(e)},jsxTemplates:O,isEdit:o}};function Hs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Zs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Vs=wp.element,Ys=Vs.useState,zs=Vs.useMemo;const Ws=function(e){var t=Hs(Ys(0),2),n=t[0],r=t[1],a=Hs(Ys(0),2),o=a[0],i=a[1],l=function(){r(0),i(0)};return{addUsage:function(t,a,o){var l=e(t,a,o);i(l),r(n+l)},jsxUsageCosts:zs((function(){var e=(0,R.io)(He.COMMON.USAGE_COSTS_HELP);return I||(e=React.createElement(React.Fragment,null,e," ",(0,R.io)(He.COMMON.USAGE_COSTS_PRO_HELP))),React.createElement(Wa,null,React.createElement("h3",null,He.COMMON.USAGE_COSTS),React.createElement("div",null,"Session: ",React.createElement("span",{style:{float:"right"}},"$",n.toFixed(4))),React.createElement("div",null,"Last Request: ",React.createElement("span",{style:{float:"right"}},"$",o.toFixed(4))),React.createElement(xe.i,{height:30}),React.createElement("p",{style:{fontSize:12,lineHeight:1.2,color:"var(--neko-dark-gray)"}},e),React.createElement(E._,{fullWidth:!0,onClick:l},"Reset Usage"))}),[n,o])}};function qs(e){return qs="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},qs(e)}var Xs;function Qs(){Qs=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==qs(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(qs(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Ks(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Js(Object(n),!0).forEach((function(t){ef(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==qs(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var rf=wp.element,af=rf.useState,of=rf.useEffect,lf=(rf.useMemo,(0,G.ZP)(Dt.l)(Xs||(Xs=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; .neko-textarea-container {\n&nbsp; \n&nbsp; &nbsp; textarea {\n&nbsp; &nbsp; &nbsp; color: white;\n&nbsp; &nbsp; &nbsp; font-size: 13px;\n&nbsp; &nbsp; &nbsp; padding: 10px;\n&nbsp; &nbsp; &nbsp; font-family: monospace;\n&nbsp; &nbsp; &nbsp; background: #333d4e;\n&nbsp; &nbsp; &nbsp; border: none;\n\n&nbsp; &nbsp; &nbsp; &amp;:focus {\n&nbsp; &nbsp; &nbsp; &nbsp; background-color: #333d4e;\n&nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; }\n&nbsp; }\n"]))));const cf=function(){var e,t,n,r,a,o,i,l=Us("playground"),c=l.template,u=l.setTemplate,s=l.jsxTemplates,f=tf(af(""),2),m=f[0],p=f[1],h=tf(af(!1),2),v=h[0],b=h[1],w=tf(af(""),2),x=w[0],O=w[1],S=tf(af(),2),N=S[0],_=S[1],C=tf(af(),2),I=C[0],j=C[1],M=null!==(e=null==c?void 0:c.prompt)&amp;&amp;void 0!==e?e:"",D=null!==(t=null==c?void 0:c.model)&amp;&amp;void 0!==t?t:"gpt-3.5-turbo",G=null!==(n=null==c?void 0:c.mode)&amp;&amp;void 0!==n?n:"query",F=null!==(r=null==c?void 0:c.temperature)&amp;&amp;void 0!==r?r:1,B=null!==(a=null==c?void 0:c.envId)&amp;&amp;void 0!==a?a:"",U=null!==(o=null==c?void 0:c.stopSequence)&amp;&amp;void 0!==o?o:"",H=null!==(i=null==c?void 0:c.maxTokens)&amp;&amp;void 0!==i?i:2048,Z=lt(k,B||null),V=Z.calculatePrice,Y=Z.completionModels,z=Ws(V),W=z.addUsage,q=z.jsxUsageCosts,X=(null==k?void 0:k.ai_envs)||[],Q=function(e,t){u($s($s({},c),{},ef({},t,e)))},K=function(e){u($s($s({},c),{},{prompt:e}))};of((function(){c&amp;&amp;p("")}),[c]);var J=function(){var e,t=(e=Qs().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return Qs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length&gt;0&amp;&amp;void 0!==c[0]?c[0]:M,b(!0),_(new Date),e.prev=3,a=U.replace(/\\n/g,"\n"),o=P?function(e){p(e)}:null,e.next=8,el("".concat(T,"/ai/completions"),{env:"playground",session:A,prompt:t,temperature:F,envId:B,model:D,maxTokens:H,stop:a,stream:P},L,P);case 8:return i=e.sent,e.next=12,Ji(i,o,null);case 12:if(!1!==(null==(l=e.sent)?void 0:l.success)){e.next=15;break}throw new Error(null==l?void 0:l.message);case 15:console.log("Completions",{prompt:t,result:l}),"continuous"===G?K(t+"\n"+l.data+"\n"):p(l.data),W(D,(null==l||null===(n=l.usage)||void 0===n?void 0:n.prompt_tokens)||0,(null==l||null===(r=l.usage)||void 0===r?void 0:r.completion_tokens)||0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),j(e.t0.message);case 23:_(),b(!1);case 25:case"end":return e.stop()}}),e,null,[[3,20]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ks(o,r,a,i,l,"next",e)}function l(e){Ks(o,r,a,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.PLAYGROUND}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(Oe.H,{style:{marginBottom:0}},React.createElement(d.O,{p:!0},(0,R.io)(He.PLAYGROUND.INTRO)))),React.createElement(g.z,null,React.createElement(Wa,null,s)),React.createElement(g.z,{style:{flex:3}},React.createElement(Wa,null,"continuous"!==G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(lf,{rows:12,onChange:K,value:M})),"continuous"===G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(lf,{rows:18,onChange:K,value:M}),React.createElement("div",{style:{display:"flex"}},React.createElement("span",{className:"dashicons dashicons-format-continuous",style:{position:"absolute",color:"white",zIndex:200,fontSize:28,marginTop:12,marginLeft:10}}),React.createElement(qa,{name:"continuousEntry",value:x,onChange:O,onEnter:function(){var e=M+"Human: "+x;K(e),O(""),J(e)},disabled:v})))),React.createElement(xe.i,null),(m||v)&amp;&amp;React.createElement(Wa,null,React.createElement(il,{content:m,isStreaming:P&amp;&amp;v}))),React.createElement(g.z,null,"query"===G&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Wa,null,React.createElement(E._,{fullWidth:!0,onClick:function(){J()},isBusy:v,startTime:N,style:{height:50,fontSize:14,flex:4}},He.COMMON.SUBMIT)),React.createElement(xe.i,null)),React.createElement(Wa,null,React.createElement("h3",null,He.COMMON.SETTINGS),React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(we.N,{scrolldown:!0,name:"envId",value:null!=B?B:"",onChange:Q},X.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"})),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(we.N,{name:"model",value:D,scrolldown:!0,onChange:Q},Y.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",value:F,type:"number",onChange:function(e){return Q(parseFloat(e),"temperature")},description:React.createElement(React.Fragment,null,React.createElement("span",{style:{color:F&gt;=0&amp;&amp;F&lt;=1?"inherit":"red"}},He.HELP.TEMPERATURE))}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",value:H,type:"number",onChange:function(e){return Q(parseInt(e),"maxTokens")},description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.MAX_TOKENS))}),React.createElement("label",null,He.COMMON.STOP_SEQUENCE,":"),React.createElement(Ee.A,{name:"stopSequence",value:U,type:"text",onChange:Q,description:React.createElement(React.Fragment,null,React.createElement("span",null,He.HELP.STOP_SEQUENCE))})),React.createElement(xe.i,null),q)),React.createElement(Te.L,{isOpen:I,onRequestClose:function(){j()},okButton:{onClick:function(){j()}},title:"Error",content:React.createElement("p",null,I)}))};var uf,sf;function ff(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var df=G.ZP.div(uf||(uf=ff(["\n&nbsp; margin-bottom: 5px;\n"]))),mf=G.ZP.div(sf||(sf=ff(["\n&nbsp; margin-top: 5px;\n&nbsp; padding: 10px;\n&nbsp; font-size: 14px;\n&nbsp; cursor: pointer;\n&nbsp; background: #dbf2ff;\n\n&nbsp; &amp;:hover {\n&nbsp; &nbsp; background: #037cba;\n&nbsp; &nbsp; color: white;\n&nbsp; }\n"])));function pf(e){return pf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},pf(e)}function hf(){hf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==pf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(pf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function yf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function vf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yf(o,r,a,i,l,"next",e)}function l(e){yf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function gf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Ef=wp.element,wf=Ef.useState,Rf=Ef.useEffect,xf=Ef.useMemo;const Of=function(e){var t=e.post,n=e.onTitleClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=gf(wf([]),2),l=i[0],c=i[1],u=gf(wf(!1),2),s=u[0],f=u[1],d=gf(wf(!1),2),m=d[0],p=d[1];Rf((function(){t&amp;&amp;h(t)}),[t]);var h=function(){var e=vf(hf().mark((function e(t){var n,r,a;return hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,t.postTitle,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:"suggestTitles",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=vf(hf().mark((function e(t){return hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=vf(hf().mark((function e(){return hf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=xf((function(){return s?React.createElement(vs.S,{type:"circle",size:"10%"}):m?React.createElement(React.Fragment,null,"Error: ",m):(null==l?void 0:l.length)&gt;0?React.createElement(React.Fragment,null,"Pick a new title by clicking on it.",React.createElement(df,null,l.map((function(e){return React.createElement(mf,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,m]);return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:t,onRequestClose:v,title:'New title for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function Sf(e){return Sf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Sf(e)}function Tf(){Tf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Sf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Sf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Nf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function _f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Nf(o,r,a,i,l,"next",e)}function l(e){Nf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Cf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return If(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?If(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function If(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Lf=wp.element,kf=Lf.useState,Af=Lf.useEffect,jf=Lf.useMemo;const Pf=function(e){var t=e.post,n=e.onExcerptClick,r=void 0===n?{}:n,a=e.onClose,o=void 0===a?{}:a,i=Cf(kf([]),2),l=i[0],c=i[1],u=Cf(kf(!1),2),s=u[0],f=u[1],d=Cf(kf(!1),2),m=d[0],p=d[1];Af((function(){t&amp;&amp;h(t)}),[t]);var h=function(){var e=_f(Tf().mark((function e(t){var n,r,a;return Tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postId,f(!0),e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:"suggestExcerpts",data:{postId:n}}});case 5:a=e.sent,c(null===(r=a.data)||void 0===r?void 0:r.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),p(e.t0.message);case 13:f(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=_f(Tf().mark((function e(t){return Tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r(t);case 4:v(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),p(e.t0.message);case 10:f(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=_f(Tf().mark((function e(){return Tf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),c([]),p(),f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=jf((function(){return s?React.createElement(vs.S,{type:"circle",size:"10%"}):m?React.createElement(React.Fragment,null,"Error: ",m):(null==l?void 0:l.length)&gt;0?React.createElement(React.Fragment,null,"Pick a new excerpt by clicking on it.",React.createElement(df,null,l.map((function(e){return React.createElement(mf,{key:e,onClick:function(){y(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[s,l,m]);return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:t,onRequestClose:v,title:'New excerpt for "'.concat(null==t?void 0:t.postTitle,'"'),content:b,okButton:{label:"Close",onClick:v}}))};function Mf(e){return Mf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Mf(e)}function Df(){Df=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Mf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Mf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Gf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ff(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gf(o,r,a,i,l,"next",e)}function l(e){Gf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Bf(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Uf=wp.element,Hf=Uf.useState,Zf=Uf.useEffect;const Vf=function(){var e,t,n=(e=Hf(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];Zf((function(){document.querySelectorAll(".mwai-link-title").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"title"})}),!1)})),document.querySelectorAll(".mwai-link-excerpt").forEach((function(e){var t=e.getAttribute("data-id"),n=e.getAttribute("data-title");e.addEventListener("click",(function(){a({postId:t,postTitle:n,mode:"excerpt"})}),!1)}))}),[]);var o=function(){var e=Ff(Df().mark((function e(t){var n,o,i,l;return Df().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_title"),{method:"POST",nonce:L,json:{postId:r.postId,title:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a(),(o=document.querySelector('tr[id="post-'.concat(r.postId,'"]')))&amp;&amp;(i=o.querySelector(".row-title"))&amp;&amp;(i.innerHTML=t),(l=o.querySelector(".hidden .post_title"))&amp;&amp;(l.innerHTML=t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Ff(Df().mark((function e(t){var n;return Df().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,R.PV)("".concat(T,"/helpers/update_post_excerpt"),{method:"POST",nonce:L,json:{postId:r.postId,excerpt:t}});case 2:if((n=e.sent).success){e.next=7;break}throw new Error(n.message);case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Of,{post:"title"===(null==r?void 0:r.mode)?r:null,onTitleClick:o,onClose:function(){a()}}),React.createElement(Pf,{post:"excerpt"===(null==r?void 0:r.mode)?r:null,onExcerptClick:i,onClose:function(){a()}})))};function Yf(e){return Yf="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Yf(e)}function zf(){zf=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Yf(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Yf(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Wf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function qf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Wf(o,r,a,i,l,"next",e)}function l(e){Wf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(n),!0).forEach((function(t){Kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kf(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Yf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Yf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Yf(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||$f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $f(e,t){if(e){if("string"==typeof e)return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ed(e,t):void 0}}function ed(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var td=wp.element,nd=td.useState,rd=td.useEffect,ad=td.useMemo;const od=function(){var e,t,n,r,a,o,i,l,c,u,s,f,m,p,v,b,w,x,O,S=Jf(nd(""),2),N=S[0],_=S[1],C=Jf(nd(""),2),I=C[0],j=C[1],P=Us("contentGenerator"),M=P.template,D=P.setTemplate,G=P.clearTemplate,F=P.jsxTemplates,B=(0,Yt.qj)(),U=Jf(nd(!1),2),H=U[0],Z=U[1],V=Jf(nd(),2),Y=V[0],z=V[1],W=Jf(nd(!1),2),q=W[0],X=W[1],Q=Jf(nd(!1),2),K=Q[0],J=Q[1],$=Jf(nd(!1),2),ee=$[0],te=$[1],ne=Jf(nd(),2),re=ne[0],ae=ne[1],oe=Jf(nd("post"),2),ie=oe[0],le=oe[1],ce=Jf(nd([]),2),ue=ce[0],se=ce[1],fe=Jf(nd([]),2),de=fe[0],me=fe[1],pe=Jf(nd({}),2),he=pe[0],ye=pe[1],ve=ad((function(){return function(e){if(!e)return null;var t=e.split(" ").length,n=e.length,r=[];return n?(t&lt;3?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):t&gt;8?r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG):n&lt;40?r.push(He.CONTENT_GENERATOR.TITLE_TOO_SHORT):n&gt;70&amp;&amp;r.push(He.CONTENT_GENERATOR.TITLE_TOO_LONG_2),r.join(" ")):void 0}(Se)}),[Se]),ge=(0,Ne.a)({queryKey:["postTypes"],queryFn:Qt}),be=ge.isLoading,Re=ge.data,Oe=B.busy||H||be,Se=null!==(e=null==M?void 0:M.title)&amp;&amp;void 0!==e?e:"",_e=null!==(t=null==M?void 0:M.sections)&amp;&amp;void 0!==t?t:"",Ce=null!==(n=null==M?void 0:M.mode)&amp;&amp;void 0!==n?n:"single",Ie=null!==(r=null==M?void 0:M.topic)&amp;&amp;void 0!==r?r:"",Le=null!==(a=null==M?void 0:M.topics)&amp;&amp;void 0!==a?a:"",ke=null!==(o=null!==(i=null==M?void 0:M.model)&amp;&amp;void 0!==i?i:null==k?void 0:k.fallback_model)&amp;&amp;void 0!==o?o:null,Ae=null!==(l=null==M?void 0:M.sectionsCount)&amp;&amp;void 0!==l?l:2,je=null!==(c=null==M?void 0:M.paragraphsCount)&amp;&amp;void 0!==c?c:3,Pe=null!==(u=null==M?void 0:M.writingStyle)&amp;&amp;void 0!==u?u:"creative",Me=null!==(s=null==M?void 0:M.writingTone)&amp;&amp;void 0!==s?s:"cheerful",De=null!==(f=null==M?void 0:M.titlePromptFormat)&amp;&amp;void 0!==f?f:"",Ge=null!==(m=null==M?void 0:M.sectionsPromptFormat)&amp;&amp;void 0!==m?m:"",Fe=null!==(p=null==M?void 0:M.contentPromptFormat)&amp;&amp;void 0!==p?p:"",Be=null!==(v=null==M?void 0:M.excerptPromptFormat)&amp;&amp;void 0!==v?v:"",Ue=null!==(b=null==M?void 0:M.envId)&amp;&amp;void 0!==b?b:"",Ze=null!==(w=null==M?void 0:M.temperature)&amp;&amp;void 0!==w?w:.6,Ve=null!==(x=null==M?void 0:M.maxTokens)&amp;&amp;void 0!==x?x:2048,Ye=null!==(O=null==M?void 0:M.topicsAreTitles)&amp;&amp;void 0!==O&amp;&amp;O,ze=!Ge||!Ae,We=lt(k,Ue||null),qe=We.completionModels,Xe=We.calculatePrice,Qe=Ws(Xe),Ke=Qe.addUsage,Je=Qe.jsxUsageCosts,$e=(null==k?void 0:k.ai_envs)||[],et=it({options:k,language:null==M?void 0:M.language,customLanguage:null==M?void 0:M.customLanguage}),tt=et.jsxLanguageSelector,nt=et.currentLanguage,rt=et.isCustom,at=et.currentHumanLanguage,ct=function(e,t){D((function(n){return Qf(Qf({},n),{},Kf({},t,e))}))};rd((function(){var e=Le.split("\n").map((function(e){return e.trim()})).filter((function(e){return!!e}));se(e)}),[Le]),rd((function(){M&amp;&amp;ct("","sections")}),[Se,Ae]),rd((function(){_(""),j(""),ae()}),[_e,je]),rd((function(){M&amp;&amp;(!rt&amp;&amp;M.customLanguage&amp;&amp;ct(null,"customLanguage"),rt&amp;&amp;M.customLanguage!==at&amp;&amp;ct(at,"customLanguage"),M.language!==nt&amp;&amp;ct(nt,"language"))}),[rt,nt,at]);var ut=function(e){return e.replace("{LANGUAGE}",at).replace("{WRITING_STYLE}",Pe).replace("{WRITING_TONE}",Me).replace("{PARAGRAPHS_PER_SECTION}",je).replace("{SECTIONS_COUNT}",Ae)},st=ad((function(){var e=function(e,t){return!!t.find((function(t){return t.includes(e)}))},t=[De,Ge,Fe,Be];return{language:e("{LANGUAGE}",t),writingStyle:e("{WRITING_STYLE}",t),writingTone:e("{WRITING_TONE}",t),sectionsCount:e("{SECTIONS_COUNT}",t),paragraphsCount:e("{PARAGRAPHS_PER_SECTION}",t)}}),[De,Ge,Fe,Be,Ae,je]),ft=function(){var e=qf(zf().mark((function e(t){var n,r,a,o,i,l,c=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length&gt;1&amp;&amp;void 0!==c[1]?c[1]:2048,r=c.length&gt;2&amp;&amp;void 0!==c[2]&amp;&amp;c[2],e.prev=2,e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:L,json:{env:"admin-tools",envId:Ue||null,model:ke||null,session:A,prompt:t,temperature:Ze,maxTokens:n}});case 5:return i=e.sent,Ke(ke,(null==i||null===(a=i.usage)||void 0===a?void 0:a.prompt_tokens)||0,(null==i||null===(o=i.usage)||void 0===o?void 0:o.completion_tokens)||0),(l=i.data.trim()).startsWith('"')&amp;&amp;l.endsWith('"')&amp;&amp;(l=l.substring(1,l.length-1)),e.abrupt("return",l);case 12:if(e.prev=12,e.t0=e.catch(2),!r){e.next=16;break}throw new Error(e.t0.message);case 16:return console.error(e.t0),z(e.t0.message),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=qf(zf().mark((function e(){var t,n,r,a,o,i=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Ie,r=i.length&gt;2&amp;&amp;void 0!==i[2]&amp;&amp;i[2],n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:Se){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return Z(!0),ct("","sections"),console.log("Sections Prompt:",{inTopic:t,inTitle:n,sectionsPromptFormat:Ge}),a=(a=Ge.replace("{TITLE}",n)).replace("{TOPIC}",t),a=ut(a),e.next=14,ft(a,512,r);case 14:return o=(l=o=e.sent)?l.split("\n").map((function(e){return(e=e.replace(/^\d+\.\s/,"")).startsWith('"')&amp;&amp;(e=e.slice(1)).endsWith('"')&amp;&amp;(e=e.slice(0,-1)),e})).filter((function(e){return e})).join("\n"):l,console.log("Sections:",{prompt:a,sections:o}),o&amp;&amp;ct(o,"sections"),Z(!1),e.abrupt("return",o);case 20:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=qf(zf().mark((function e(){var t,n,r,a,o,i,l=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length&gt;0&amp;&amp;void 0!==l[0]?l[0]:Ie,r=l.length&gt;2&amp;&amp;void 0!==l[2]?l[2]:_e,a=l.length&gt;3&amp;&amp;void 0!==l[3]&amp;&amp;l[3],n=l.length&gt;1&amp;&amp;void 0!==l[1]?l[1]:Se){e.next=7;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 7:if(ze||r){e.next=10;break}return alert(He.CONTENT_GENERATOR.SECTIONS_MISSING),e.abrupt("return");case 10:return Z(!0),_((function(e){return""})),o=(o=(o=Fe.replace("{TITLE}",n)).replace("{SECTIONS}",r)).replace("{TOPIC}",t),o=ut(o),e.next=18,ft(o,Ve,a);case 18:return(i=e.sent)&amp;&amp;(i=(i=(i=(i=(i=(i=i.replace(/^===INTRO:\n/,"")).replace(/^===INTRO: \n/,"")).replace(/===INTRO: /,"")).replace(/===OUTRO:\n/,"")).replace(/===OUTRO: \n/,"")).replace(/===OUTRO: /,""),_((function(e){return i}))),console.log("Content:",{prompt:o,content:i}),Z(!1),e.abrupt("return",i);case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=qf(zf().mark((function e(){var t,n,r,a,o,i=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Ie,r=i.length&gt;2&amp;&amp;void 0!==i[2]&amp;&amp;i[2],n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:Se){e.next=6;break}return alert(He.CONTENT_GENERATOR.TITLE_MISSING),e.abrupt("return");case 6:return Z(!0),j((function(e){return""})),a=(a=Be.replace("{TITLE}",n)).replace("{TOPIC}",t),a=ut(a),e.next=13,ft(a,256,r);case 13:return(o=e.sent)&amp;&amp;j((function(e){return o})),console.log("Excerpt:",{prompt:a,excerpt:o}),Z(!1),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=qf(zf().mark((function e(){var t,n,r,a,o,i,l,c=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length&gt;0&amp;&amp;void 0!==c[0]?c[0]:Ie,n=c.length&gt;1&amp;&amp;void 0!==c[1]&amp;&amp;c[1],Z(!0),ye((function(){return Qf(Qf({},he),{},{all:new Date})})),e.prev=4,r=t,Ye&amp;&amp;n){e.next=12;break}return a=ut(De.replace("{TOPIC}",t)),e.next=10,ft(a,64,n);case 10:r=e.sent,console.log("Title:",{prompt:a,title:r});case 12:if(o=null,i=null,l=null,Z(!1),!r){e.next=41;break}if(ct(r,"title"),ze){e.next=25;break}return ye((function(e){return Qf(Qf({},e),{},{sections:new Date})})),e.next=22,dt(t,r,n);case 22:return o=e.sent,e.next=25,ye((function(e){return Qf(Qf({},e),{},{sections:null})}));case 25:if(!o&amp;&amp;!ze){e.next=41;break}return e.next=28,ye((function(e){return Qf(Qf({},e),{},{content:new Date})}));case 28:return e.next=30,mt(t,r,o,n);case 30:return i=e.sent,e.next=33,ye((function(e){return Qf(Qf({},e),{},{content:null})}));case 33:if(!i){e.next=41;break}return e.next=36,ye((function(e){return Qf(Qf({},e),{},{excerpt:new Date})}));case 36:return e.next=38,pt(t,r,n);case 38:return l=e.sent,e.next=41,ye((function(e){return Qf(Qf({},e),{},{excerpt:null})}));case 41:return e.abrupt("return",{title:r,heads:o,content:i,excerpt:l});case 44:throw e.prev=44,e.t0=e.catch(4),console.error(e.t0),Z(!1),ye({}),e.t0;case 50:case"end":return e.stop()}}),e,null,[[4,44]])})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=qf(zf().mark((function e(){var t,n,r,a,o,i=arguments;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length&gt;0&amp;&amp;void 0!==i[0]?i[0]:Se,n=i.length&gt;1&amp;&amp;void 0!==i[1]?i[1]:N,r=i.length&gt;2&amp;&amp;void 0!==i[2]?i[2]:I,a=i.length&gt;3&amp;&amp;void 0!==i[3]&amp;&amp;i[3],Z(!0),e.prev=5,e.next=8,(0,R.PV)("".concat(T,"/helpers/create_post"),{method:"POST",nonce:L,json:{title:t,content:n,excerpt:r,postType:ie}});case 8:return o=e.sent,a||ae(o.postId),e.abrupt("return",o.postId);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),z(e.t0.message),e.abrupt("return",null);case 18:return e.prev=18,Z(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,13,18,21]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=qf(zf().mark((function e(){var t;return zf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me([]),t=ue.map((function(e,t){return qf(zf().mark((function n(){var r,a,o,i,l;return zf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("Topic "+t),n.prev=1,n.next=4,ht(e,!0);case 4:if(r=n.sent,a=r.title,o=r.content,i=r.excerpt,!(a&amp;&amp;o&amp;&amp;i)){n.next=15;break}return n.next=11,yt(a,o,i,!0);case 11:l=n.sent,me((function(t){return[].concat(function(e){if(Array.isArray(e))return ed(e)}(n=t)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||$f(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{postId:l,topic:e,title:a,content:o,excerpt:i}]);var n})),n.next=16;break;case 15:console.warn("Could not generate the post for: "+e);case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(1),confirm("An error was caught ("+n.t0.message+"). Should we continue?")||(B.stop(),B.reset(),Z(!1));case 21:return n.abrupt("return",{success:!0});case 22:case"end":return n.stop()}}),n,null,[[1,18]])})))})),e.next=4,B.start(t);case 4:B.reset();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.CONTENT_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(d.O,{p:!0,style:{marginTop:0,marginBottom:0}},(0,R.io)(He.CONTENT_GENERATOR.INTRO))),React.createElement(g.z,{style:{flex:1}},React.createElement(Wa,null,React.createElement("h2",{style:{marginTop:0}},"Topic"),React.createElement(Dt.l,{name:"topic",disabled:Oe||"bulk"===Ce,rows:5,value:Ie,onChange:ct}),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,disabled:!Ie||"bulk"===Ce,isBusy:Oe,startTime:null==he?void 0:he.all,onClick:function(){return ht()}},He.COMMON.GENERATE)),React.createElement(xe.i,null),React.createElement(Wa,null,F)),React.createElement(g.z,{style:{flex:3}},React.createElement(Ft.h,{name:"mode",value:Ce,disabled:Oe,onChange:ct},React.createElement(Ft.S,{title:He.CONTENT_GENERATOR.SINGLE_GENERATE,value:"single"}),React.createElement(Ft.S,{title:He.CONTENT_GENERATOR.BULK_GENERATE,value:"bulk",count:ue.length})),React.createElement(xe.i,null),"bulk"===Ce&amp;&amp;React.createElement(Wa,null,React.createElement("p",{style:{marginTop:0,marginBottom:20}},(0,R.io)(He.CONTENT_GENERATOR.TOPICS_HELP)),React.createElement("div",{style:{display:"flex"}},React.createElement(E._,{disabled:Oe||!ue.length,onClick:vt},He.COMMON.GENERATE),React.createElement(Vt.U,{busy:B.busy,style:{marginLeft:10,flex:"auto"},value:B.value,max:B.max,onStopClick:B.stop})),React.createElement(xe.i,null),React.createElement("h3",null,"Topics"),React.createElement(Dt.l,{name:"topics",rows:10,value:Le,onChange:ct}),React.createElement(h.P,{name:"topicsAreTitles",label:"Use Topics as Titles",value:"1",checked:Ye,onChange:ct}),React.createElement("h3",null,He.CONTENT_GENERATOR.GENERATED_POSTS),!de.length&amp;&amp;React.createElement("i",null,"Nothing yet."),de.length&gt;0&amp;&amp;React.createElement("ul",null,de.map((function(e){return React.createElement("li",{key:e.postId},e.title," ",React.createElement("a",{target:"_blank",href:"/?p=".concat(e.postId),rel:"noreferrer"},"View")," or ",React.createElement("a",{target:"_blank",href:"/wp-admin/post.php?post=".concat(e.postId,"&amp;action=edit"),rel:"noreferrer"},"Edit"))})))),"single"===Ce&amp;&amp;React.createElement(Wa,null,React.createElement("h2",{style:{marginTop:0}},"Title"),React.createElement(Ee.A,{name:"title",disabled:Oe,value:Se,onChange:ct}),ve&amp;&amp;React.createElement("div",{className:"information"},"Advice: ",ve),Ge&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.SECTIONS),React.createElement("div",{style:{display:"flex",alignItems:"center"}},st.sectionsCount&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},"# of Sections: "),React.createElement(we.N,{scrolldown:!0,name:"sectionsCount",disabled:Oe,style:{marginRight:10},value:Ae,description:"",onChange:ct},React.createElement(we.Z,{key:2,value:2,label:2}),React.createElement(we.Z,{key:3,value:3,label:3}),React.createElement(we.Z,{key:4,value:4,label:4}),React.createElement(we.Z,{key:6,value:6,label:6}),React.createElement(we.Z,{key:8,value:8,label:8}),React.createElement(we.Z,{key:10,value:10,label:10}),React.createElement(we.Z,{key:12,value:12,label:12}))),Ae&gt;0&amp;&amp;React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.sections,onClick:function(){return dt()}},He.CONTENT_GENERATOR.GENERATE_SECTIONS))),Ae&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(Dt.l,{name:"sections",disabled:Oe,rows:4,value:_e,description:He.CONTENT_GENERATOR.SECTIONS_HELP,onChange:ct}))),React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.COMMON.CONTENT),React.createElement("div",{style:{display:"flex",alignItems:"center"}},st.paragraphsCount&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",{style:{margin:"0 5px 0 0"}},He.CONTENT_GENERATOR.PARAGRAPHS_PER_SECTION,": "),React.createElement(we.N,{scrolldown:!0,name:"paragraphsCount",disabled:Oe,style:{marginRight:10},value:je,description:"",onChange:ct},React.createElement(we.Z,{key:1,value:1,label:1}),React.createElement(we.Z,{key:2,value:2,label:2}),React.createElement(we.Z,{key:3,value:3,label:3}),React.createElement(we.Z,{key:4,value:4,label:4}),React.createElement(we.Z,{key:6,value:6,label:6}),React.createElement(we.Z,{key:8,value:8,label:8}),React.createElement(we.Z,{key:10,value:10,label:10}))),React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.content,onClick:function(){return mt()}},He.CONTENT_GENERATOR.GENERATE_CONTENT))),React.createElement(xe.i,null),React.createElement(Dt.l,{countable:"words",disabled:Oe,rows:12,value:N,description:He.CONTENT_GENERATOR.CONTENT_HELP,onChange:_}),React.createElement(xe.i,null),React.createElement(kt,null,React.createElement("h2",null,He.COMMON.EXCERPT),React.createElement(E._,{disabled:!Se,isBusy:Oe,startTime:null==he?void 0:he.excerpt,onClick:function(){return pt()}},He.CONTENT_GENERATOR.GENERATE_EXCERPT)),React.createElement(xe.i,null),React.createElement(Dt.l,{disabled:Oe,value:I,onBlur:j,rows:3}),React.createElement(xe.i,{line:!0,height:40}),React.createElement(we.N,{scrolldown:!0,disabled:Oe,name:"postType",onChange:le,value:ie},null==Re?void 0:Re.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:60},onClick:function(){return yt()},isBusy:Oe,disabled:!Se||!N},He.CONTENT_GENERATOR.CREATE_POST))),React.createElement(g.z,null,React.createElement(Wa,null,React.createElement("h2",{style:{marginTop:0}},He.CONTENT_GENERATOR.CONTENT_PARAMS),!st.language&amp;&amp;!st.writingStyle&amp;&amp;!st.writingTone&amp;&amp;React.createElement("div",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.CONTENT_PARAMS_INTRO),st.language&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.LANGUAGE,":"),tt),st.writingStyle&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_STYLE,":"),React.createElement(we.N,{scrolldown:!0,name:"writingStyle",disabled:Oe,value:Pe,description:"",onChange:ct},gs.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})})))),st.writingTone&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.CONTENT_GENERATOR.WRITING_TONE,":"),React.createElement(we.N,{scrolldown:!0,name:"writingTone",disabled:Oe,value:Me,description:"",onChange:ct},bs.map((function(e){return React.createElement(we.Z,{key:e.value,value:e.value,label:e.label})}))))),React.createElement(xe.i,null),React.createElement(Wa,null,React.createElement(kt,null,React.createElement("h2",null,He.CONTENT_GENERATOR.POST_PARAMS),React.createElement(E._,{onClick:function(){return J(!K)}},K?He.COMMON.HIDE:He.COMMON.SHOW)),K&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.POST_TYPE,":"),React.createElement(we.N,{scrolldown:!0,disabled:Oe,name:"postType",onChange:le,value:ie},null==Re?void 0:Re.map((function(e){return React.createElement(we.Z,{key:e.type,value:e.type,label:e.name})}))))),React.createElement(xe.i,null),React.createElement(Wa,null,React.createElement(kt,null,React.createElement("h2",null,He.COMMON.MODEL_PARAMS),React.createElement(E._,{onClick:function(){return X(!q)}},q?He.COMMON.HIDE:He.COMMON.SHOW)),q&amp;&amp;React.createElement(React.Fragment,null,React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(we.N,{scrolldown:!0,name:"envId",value:null!=Ue?Ue:"",onChange:ct},$e.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"})),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(we.N,{name:"model",value:ke,description:He.CONTENT_GENERATOR.MODEL_HELP,scrolldown:!0,onChange:ct},qe.map((function(e){return React.createElement(we.Z,{value:e.model,label:e.name})}))),React.createElement("label",null,He.COMMON.TEMPERATURE,":"),React.createElement(Ee.A,{name:"temperature",value:Ze,type:"number",onChange:ct,onBlur:ct,description:He.HELP.TEMPERATURE}),React.createElement("label",null,He.COMMON.MAX_TOKENS,":"),React.createElement(Ee.A,{name:"maxTokens",value:Ve,type:"number",onChange:ct,onBlur:ct,description:He.HELP.MAX_TOKENS}))),React.createElement(xe.i,null),React.createElement(Wa,null,React.createElement(kt,null,React.createElement("h2",null,(0,R.io)(He.COMMON.PROMPTS)),React.createElement(E._,{onClick:function(){return te(!ee)}},ee?"Hide":"Show")),ee&amp;&amp;React.createElement(React.Fragment,null,React.createElement("p",{style:{fontSize:11,lineHeight:"14px"}},He.CONTENT_GENERATOR.PROMPTS_INTRO),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_TITLE)),React.createElement(Dt.l,{disabled:Oe,name:"titlePromptFormat",value:De,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_SECTIONS)),React.createElement(Dt.l,{disabled:Oe,name:"sectionsPromptFormat",value:Ge,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_CONTENT)),React.createElement(Dt.l,{disabled:Oe,name:"contentPromptFormat",value:Fe,onChange:ct}),React.createElement("label",null,(0,R.io)(He.CONTENT_GENERATOR.PROMPT_EXCERPT)),React.createElement(Dt.l,{disabled:Oe,name:"excerptPromptFormat",value:Be,onChange:ct}))),React.createElement(xe.i,null),Je)),React.createElement(Te.L,{isOpen:re,onRequestClose:function(){return ae()},okButton:{label:He.CONTENT_GENERATOR.EDIT_POST,onClick:function(){window.open("/wp-admin/post.php?post=".concat(re,"&amp;action=edit"),"_blank"),G(),ae()}},cancelButton:{label:"Close",onClick:function(){ae()}},title:He.CONTENT_GENERATOR.POST_CREATED,content:React.createElement("p",null,He.CONTENT_GENERATOR.POST_CREATED_AS_DRAFT)}),React.createElement(Te.L,{isOpen:Y,onRequestClose:function(){z()},okButton:{onClick:function(){z()}},title:"Error",content:React.createElement("p",null,Y)}))};function id(e){return id="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},id(e)}var ld;function cd(){cd=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==id(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(id(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function ud(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function sd(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ud(o,r,a,i,l,"next",e)}function l(e){ud(o,r,a,i,l,"throw",e)}i(void 0)}))}}function fd(e){return function(e){if(Array.isArray(e))return vd(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function md(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pd(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==id(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==id(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===id(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||yd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yd(e,t){if(e){if("string"==typeof e)return vd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vd(e,t):void 0}}function vd(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var gd=wp.element,bd=gd.useState,Ed=gd.useEffect,wd=gd.useMemo,Rd=[1,2,3,4,5,6,7,8,9,10,12,14,16,18,20,40,60,80,100],xd=G.ZP.div(ld||(ld=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n&nbsp; margin-bottom: 5px;\n&nbsp; label {\n&nbsp; &nbsp; margin-bottom: 5px;\n&nbsp; &nbsp; display: block;\n&nbsp; }\n"])));const Od=function(){var e,t,n,r,a=Us("imagesGenerator"),o=a.template,i=a.setTemplate,l=a.jsxTemplates,c=hd(bd(),2),u=c[0],s=c[1],f=hd(bd(!0),2),m=f[0],p=f[1],v=hd(bd(!1),2),b=v[0],w=v[1],x=hd(bd(!1),2),O=x[0],S=x[1],N=(null==k?void 0:k.ai_envs)||[],_=lt(k,(null==o?void 0:o.envId)||null),C=_.imageModels,I=(0,_.getModel)(null==o?void 0:o.model),j=hd(bd([]),2),P=j[0],M=j[1],D=hd(bd([]),2),G=D[0],F=D[1],B=hd(bd(),2),U=B[0],H=B[1],Z=hd(bd(""),2),V=Z[0],Y=Z[1],z=hd(bd(""),2),W=z[0],q=z[1],X=hd(bd(""),2),Q=X[0],K=X[1],J=hd(bd(""),2),$=J[0],ee=J[1],te=hd(bd(""),2),ne=te[0],re=te[1],ae=hd(bd([]),2),oe=ae[0],ie=ae[1],le=wd((function(){return G.indexOf(U)}),[U,G]),ce=null==o?void 0:o.prompt,ue=hd(bd(1),2),se=ue[0],fe=ue[1],de=hd(bd(0),2),me=de[0],pe=de[1],he=hd(bd(0),2),ye=he[0],ve=he[1],ge=new AbortController,be=null!==(e=null==o?void 0:o.style)&amp;&amp;void 0!==e?e:null,Re=function(e,t){i((function(n){return md(md({},n),{},pd({},t,e))}))};Ed((function(){var e;if(null!=o&amp;&amp;o.envId&amp;&amp;(null==o||!o.model)&amp;&amp;(null==C?void 0:C.length)&gt;0){var t=C.find((function(e){return"dall-e-3"===e.model}))||C[0];i(md(md({},o),{},{model:t.model}))}if(null!=o&amp;&amp;o.model&amp;&amp;(null==o||!o.resolution)&amp;&amp;(null==I||null===(e=I.options)||void 0===e?void 0:e.length)&gt;0){var n=I.options.map((function(e){return e.option})),r=n.includes("1024x1024")?"1024x1024":n[0];i(md(md({},o),{},{resolution:r}))}}),[o]),Ed((function(){if(U){var e=function(e){for(var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:42,n=e.replace(/[\s|,]+/g,"-"),r=(n=n.replace(/--+/g,"-")).split("-"),a=r[0],o=1;o&lt;r.length&amp;&amp;r[o]&amp;&amp;a.length+r[o].length&lt;t;)a+="-"+r[o],o++;return a.length&gt;t+1&amp;&amp;(a=a.slice(0,t+2)),a}(ce)+".png";re(e),Y(ce),q(ce),K(ce),ee(ce)}}),[U]);var Se=function(){if(ce){for(var e=function(){var e={prompt:ce,envId:o.envId,model:o.model,resolution:o.resolution,style:o.style};M((function(t){return[].concat(fd(t),[e])}))},t=0;t&lt;se;t++)e();pe((function(e){return e+se}))}else console.error("Prompt is empty, cannot add to queue.")},Ne=function(){var e=sd(cd().mark((function e(){var t,n;return cd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==P.length&amp;&amp;!b){e.next=2;break}return e.abrupt("return");case 2:return w(!0),t=P[0],e.prev=4,e.next=7,(0,R.PV)("".concat(T,"/ai/images"),{method:"POST",nonce:L,signal:ge.signal,json:{env:"admin-tools",envId:t.envId,model:t.model,resolution:t.resolution,style:t.style,session:A,prompt:t.prompt,maxResults:1}});case 7:(n=e.sent).data&amp;&amp;n.data.length&gt;0&amp;&amp;F((function(e){return[].concat(fd(e),[n.data[0]])})),M((function(e){return e.slice(1)})),ve((function(e){return e+1})),1===P.length&amp;&amp;(pe(0),ve(0)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),"AbortError"!==e.t0.name&amp;&amp;(console.error(e.t0),s(e.t0.message+(P.length&gt;1?" The other tasks will continue.":"")),M((function(e){return e.slice(1)})),pe((function(e){return e-1})));case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(){return e.apply(this,arguments)}}();Ed((function(){P.length&gt;0&amp;&amp;!b&amp;&amp;Ne()}),[P,b]);var Ce=function(){var e=sd(cd().mark((function e(){var t;return cd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,(0,R.PV)("".concat(T,"/helpers/create_image"),{method:"POST",nonce:L,json:{url:U,title:V,description:W,caption:Q,alt:$,filename:ne}});case 4:t=e.sent,ie([].concat(fd(oe),[{id:t.attachmentId,url:U}])),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0),s(e.t0.message);case 12:return e.prev=12,S(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}(),Ie=wd((function(){var e=oe.find((function(e){return e.url===U}));return e?e.id:null}),[U,oe]);return React.createElement(y.s,{nekoErrors:[]},React.createElement(Lt,{title:He.COMMON.IMAGES_GENERATOR}),React.createElement(g.o,null,React.createElement(g.z,{fullWidth:!0},React.createElement(ot,{options:k}),React.createElement(d.O,{p:!0,style:{marginTop:0,marginBottom:0}},"This will also be available in the Post Editor soon. If you have any idea or request, please join us on the ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/support/plugin/ai-engine/",rel:"noreferrer"},"Support Forum"),"! 🎵")),React.createElement(g.z,null,React.createElement(Wa,{style:{marginBottom:25}},l)),React.createElement(g.z,{style:{flex:3}},React.createElement(Vt.U,{busy:b,value:ye,max:me,onStopClick:function(){ge.abort(),M([]),pe(0),ve(0),w(!1)},status:function(){return"".concat(ye," / ").concat(me)}}),React.createElement(xe.i,null),React.createElement(Oe.H,null,U&amp;&amp;React.createElement(React.Fragment,null,React.createElement(kt,{style:{paddingBottom:10}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{disabled:le&lt;1||b,onClick:function(){le&gt;0&amp;&amp;H(G[le-1])}},"&lt;"),React.createElement(E._,{onClick:function(){return H()}},"Back to Results"),React.createElement(E._,{disabled:le&gt;=G.length-1||b,onClick:function(){le&lt;G.length-1&amp;&amp;H(G[le+1])}},"&gt;"))),React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("div",{style:{flex:2}},React.createElement("a",{href:U,target:"_blank",rel:"noreferrer"},React.createElement("img",{src:U,style:{width:"100%"}}))),React.createElement("div",{style:{flex:1,marginLeft:10,display:"flex",flexDirection:"column"}},React.createElement(xd,null,React.createElement("label",null,"Title:"),React.createElement(Dt.l,{value:V,onBlur:Y,rows:2})),React.createElement(xd,null,React.createElement("label",null,"Caption:"),React.createElement(Dt.l,{value:Q,onBlur:K,rows:2})),React.createElement(xd,null,React.createElement("label",null,"Description:"),React.createElement(Dt.l,{value:W,onBlur:q,rows:2})),React.createElement(xd,null,React.createElement("label",null,"Alternative Text:"),React.createElement(Dt.l,{value:$,onBlur:ee,rows:2})),React.createElement(xd,null,React.createElement("label",null,"Filename:"),React.createElement(Ee.A,{value:ne,onChange:re})),React.createElement(xe.i,null),React.createElement(E._,{fullWidth:!0,style:{height:42},onClick:Ce,isBusy:O},"Add to Media Library"),React.createElement(xe.i,{tiny:!0}),Ie&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,null),React.createElement(_e.S,{variant:"success"},"The media has been created! You can edit it here: ",React.createElement("a",{href:"/wp-admin/post.php?post=".concat(Ie,"&amp;action=edit"),target:"_blank",rel:"noreferrer"},"Edit Media #",Ie),"."))))),!U&amp;&amp;React.createElement(React.Fragment,null,React.createElement(kt,null,React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(E._,{disabled:!ce,isBusy:b,onClick:Se},"Generate"),React.createElement(we.N,{scrolldown:!0,id:"totalImagesToGenerate",name:"totalImagesToGenerate",style:{marginLeft:10,marginRight:10,width:120},value:se,onChange:function(e){return fe(e)}},Rd.map((function(e){return React.createElement(we.Z,{key:e,id:e,value:e,label:"".concat(e," ").concat(e&gt;1?"Images":"Image")})}))),b&amp;&amp;React.createElement(E._,{disabled:!ce,onClick:Se},"Add to Queue"),G.length&gt;0&amp;&amp;React.createElement(E._,{onClick:function(){F([])}},"Clear"))),React.createElement(xe.i,null),React.createElement(Dt.l,{value:ce,onChange:function(e){i(md(md({},o),{},{prompt:e}))}}),React.createElement(At,null,G.map((function(e){return React.createElement("img",{src:e,onClick:function(){return H(e)}})})),fd(Array(Math.max(3-G.length,0)).keys()).map((function(){return React.createElement("div",{className:"empty-image"})})))))),React.createElement(g.z,null,React.createElement(Oe.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Template"),React.createElement("label",null,He.COMMON.ENVIRONMENT,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"envId",value:null!==(t=null==o?void 0:o.envId)&amp;&amp;void 0!==t?t:"",onChange:Re},N.map((function(e){return React.createElement(we.Z,{key:e.id,value:e.id,label:e.name})})),React.createElement(we.Z,{value:"",label:"None"})),React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.MODEL,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"model",value:null==o?void 0:o.model,onChange:Re},C.map((function(e){return React.createElement(we.Z,{key:e.model,value:e.model,label:e.name})}))),React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.RESOLUTION,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"resolution",value:null==o?void 0:o.resolution,onChange:Re},null==I||null===(n=I.options)||void 0===n?void 0:n.map((function(e){return React.createElement(we.Z,{key:e.option,value:e.option,label:e.option})}))),(null==I||null===(r=I.model)||void 0===r?void 0:r.startsWith("dall-e-3"))&amp;&amp;React.createElement(React.Fragment,null,React.createElement(xe.i,{tiny:!0}),React.createElement("label",null,He.COMMON.STYLE,":"),React.createElement(xe.i,{tiny:!0}),React.createElement(we.N,{scrolldown:!0,name:"style",value:be,onChange:Re},React.createElement(we.Z,{key:"none",value:null,label:"None"}),React.createElement(we.Z,{key:"natural",value:"natural",label:"Natural"}),React.createElement(we.Z,{key:"vivid",value:"vivid",label:"Vivid"})))),React.createElement(Oe.H,{style:{marginBottom:25}},React.createElement("h2",{style:{marginTop:0}},"Settings"),React.createElement(h.P,{id:"continuous_mode ",label:"Continuous",value:"1",checked:m,description:"New images will be added to the already generated images.",onChange:p})))),React.createElement(Te.L,{isOpen:u,onRequestClose:function(){s()},okButton:{onClick:function(){s()}},title:"Error",content:React.createElement("p",null,u)}))};var Sd=wp.element,Td=(Sd.useState,Sd.useEffect,Sd.useMemo);const Nd=function(e){var t=e.isOpen,n=void 0!==t&amp;&amp;t,r=e.title,a=e.error,o=e.results,i=e.busy,l=void 0!==i&amp;&amp;i,c=e.onClick,u=void 0===c?function(){}:c,f=function(e){var t=0;if(0===e.length)return t;for(var n=0;n&lt;e.length;n++)t=(t&lt;&lt;5)-t+e.charCodeAt(n),t&amp;=t;return t},d=Td((function(){return l?React.createElement(vs.S,{type:"circle",size:"10%"}):a?React.createElement(React.Fragment,null,"Error: ",a):(null==o?void 0:o.length)&gt;0?React.createElement(React.Fragment,null,"Pick one of those results:",React.createElement(df,null,o.map((function(e){return React.createElement(mf,{key:f(e),onClick:function(){u(e)}},e)})))):React.createElement(React.Fragment,null,"Nothing to display.")}),[o,a]);return React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Te.L,{isOpen:n,title:null!=r?r:"Results",content:d,onRequestClose:function(){return u()},okButton:{label:"Close",onClick:function(){return u()}}})))};function _d(e){return _d="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},_d(e)}function Cd(){Cd=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==_d(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(_d(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Id(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ld(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Id(o,r,a,i,l,"next",e)}function l(e){Id(o,r,a,i,l,"throw",e)}i(void 0)}))}}function kd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ad(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ad(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ad(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var jd=wp.element,Pd=jd.useState,Md=jd.useEffect,Dd=wp.i18n.__,Gd=wp.plugins.registerPlugin,Fd=wp.components,Bd=Fd.Button,Ud=Fd.ToolbarDropdownMenu,Hd=Fd.ToolbarGroup,Zd=Fd.Spinner,Vd=Fd.MenuGroup,Yd=Fd.MenuItem,zd=wp.blockEditor.BlockControls,Wd=wp.editPost.PluginDocumentSettingPanel,qd=wp.richText.registerFormatType,Xd=wp.data.useSelect;function Qd(){var e=kd(Pd(!1),2),t=e[0],n=e[1],r=kd(Pd([]),2),a=r[0],o=r[1],i=Xd((function(e){return e("core/block-editor").getSelectedBlock()}),[]);if(!i)return null;if("core/paragraph"===i.name){var l=function(e){e.style.opacity=.15,e.style.pointerEvents="none",e.style.userSelect="none",e.style.animation="neko-fade-animation 0.85s infinite linear"},c=function(e){e.style.opacity=1,e.style.pointerEvents="auto",e.style.userSelect="auto",e.style.animation="none"};Md((function(){if(null!=i&amp;&amp;i.clientId){var e=document.getElementById("block-"+i.clientId);e?t?l(e):c(e):console.warn("AI Engine: Could not find block element.")}}),[t,i]);var u=function(){var e=document.getElementById("block-"+i.clientId);e?c(e):console.warn("AI Engine: Could not find block element.")},s=function(e){wp.data.dispatch("core/block-editor").updateBlockAttributes(i.clientId,{content:e})},f=i.attributes.content,d=window.getSelection().toString(),m=function(){var e=Ld(Cd().mark((function e(t){var r,a,c,m,p,h,y,v,g,b,E,w,x,O,S,N;return Cd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wp.data.select("core/editor"),a=r.getSelectedBlockClientId,c=r.getBlockIndex,m=r.getCurrentPost,p=a(),h=c(p),y=m(),v=y.id,n(!0),void 0,(_=document.getElementById("block-"+i.clientId))?l(_):console.warn("AI Engine: Could not find block element."),document.activeElement.blur(),e.prev=7,e.next=10,(0,R.PV)("".concat(T,"/ai/magic_wand"),{method:"POST",nonce:L,json:{action:t,data:{postId:v,text:f,selectedText:d}}});case 10:g=e.sent,u(),n(!1),b=g.data,E=b.mode,w=b.result,x=b.results,"replace"===E?s(w):"suggest"===E?o(x):"insertMedia"===E&amp;&amp;(O=g.data.media,S=wp.blocks.createBlock,N=S("core/image",{id:O.id,url:O.url,title:O.title,caption:O.caption,alt:O.alt}),wp.data.dispatch("core/block-editor").insertBlock(N,h+1)),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(7),u(),n(!1),alert("Error: "+e.t0.message),console.log("ERROR",e.t0);case 23:case"end":return e.stop()}var _}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return React.createElement(React.Fragment,null,React.createElement("style",null,"\n&nbsp; &nbsp; &nbsp; &nbsp; @keyframes neko-fade-animation {\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0% { opacity: 0.15; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 50% { opacity: 0.3; }\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100% { opacity: 0.15; }\n&nbsp; &nbsp; &nbsp; &nbsp; }\n&nbsp; &nbsp; "),React.createElement(zd,null,React.createElement(Hd,null,React.createElement(Ud,{icon:t?React.createElement(Zd,null):React.createElement(St,{icon:"wand",style:{marginRight:0}}),label:Dd("AI Wand")},(function(){return React.createElement(React.Fragment,null,React.createElement(Vd,null,React.createElement(Yd,{onClick:function(){return m("correctText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Correct Text"),React.createElement("small",null,"Grammar &amp; Spelling"))),React.createElement(Yd,{onClick:function(){return m("enhanceText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Enhance Text"),React.createElement("small",null,"Readibility &amp; Quality"))),React.createElement(Yd,{onClick:function(){return m("longerText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Longer Text"),React.createElement("small",null,"Readibility"))),React.createElement(Yd,{onClick:function(){return m("shorterText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Shorter Text"),React.createElement("small",null,"Readibility"))),React.createElement(Yd,{onClick:function(){return m("translateText")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Translate Text"),React.createElement("small",null,"To Post Language")))),React.createElement(Vd,null,React.createElement(Yd,{disabled:!d,onClick:function(){return m("suggestSynonyms")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Suggest Synonyms"),React.createElement("small",null,"For Selected Words")))),React.createElement(Vd,null,React.createElement(Yd,{onClick:function(){return m("generateImage")}},React.createElement("div",{style:{display:"flex",flexDirection:"column"}},React.createElement("b",null,"Generate Image"),React.createElement("small",null,"For this Text")))))})))),React.createElement(Nd,{isOpen:null==a?void 0:a.length,results:a,onClick:function(e){o([]),e&amp;&amp;function(e){var t=wp.data.select("core/block-editor"),n=t.getSelectionStart,r=t.getSelectionEnd,a=wp.data.select("core/block-editor").getSelectedBlock(),o=a.attributes.content,i=n().offset,l=r().offset,c=o.substring(0,i)+e+o.substring(l);wp.data.dispatch("core/block-editor").updateBlockAttributes(a.clientId,{content:c})}(e)},onClose:function(){return o([])}}))}}var Kd=function(){var e=null==k?void 0:k.module_suggestions,t=kd(Pd(),2),n=t[0],r=t[1],a=kd(Pd(),2),o=a[0],i=a[1],l=function(){var e=Ld(Cd().mark((function e(t){return Cd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({title:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Ld(Cd().mark((function e(t){return Cd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wp.data.dispatch("core/editor").editPost({excerpt:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return e?React.createElement(s.Z,null,React.createElement(Wd,{name:"mwai-document-settings",title:React.createElement(React.Fragment,null,React.createElement(St,null)," AI Engine"),className:"mwai-document-settings"},React.createElement("p",null,"Suggest:"),React.createElement("div",{style:{display:"flex"}},React.createElement(Bd,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;r({postId:t,postTitle:n})},style:{flex:1,marginRight:10}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Titles"),React.createElement(Bd,{variant:"primary",onClick:function(){var e=(0,wp.data.select("core/editor").getCurrentPost)(),t=e.id,n=e.title;i({postId:t,postTitle:n})},style:{flex:1}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Excerpts")),React.createElement(s.Z,null,React.createElement(g.o,null,React.createElement(Of,{post:n,onTitleClick:l,onClose:r}),React.createElement(Pf,{post:o,onExcerptClick:c,onClose:i}))))):null};function Jd(e){return Jd="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Jd(e)}function $d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&amp;&amp;(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function em(e){for(var t=1;t&lt;arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$d(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=function(e){var t=function(e,t){if("object"!==Jd(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Jd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Jd(t)?t:String(t)}(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tm(){tm=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Jd(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Jd(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function nm(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function rm(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){nm(o,r,a,i,l,"next",e)}function l(e){nm(o,r,a,i,l,"throw",e)}i(void 0)}))}}function am(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return om(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?om(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var im=wp.hooks.addFilter,lm=wp.element,cm=lm.useState,um=lm.useRef,sm=lm.useEffect,fm=wp.components,dm=fm.TextControl,mm=fm.Spinner;var pm,hm=["children","type","title","hint"];function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},ym.apply(this,arguments)}var vm=React.createElement(St,{icon:"ai",style:{width:20,height:20}}),gm=G.ZP.div(pm||(pm=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n\tcolor: black;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder: 1px solid black;\n\tfont-size: 15px;\n\tbox-sizing: content-box;\n\tfont-weight: 400;\n&nbsp; font-size: 13px;\n\tpadding: 10px;\n\tbackground: hsl(0deg 0% 100% / 75%);\n\n\t.mwai-title-container {\n\t\tflex: inherit;\n\t\tpadding: 5px 0px 5px 10px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: black;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\n\t\t.mwai-hint {\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: 400;\n\t\t\ttext-align: right;\n\t\t\tflex: auto;\n\n\t\t\t.mwai-pill {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-cyan-blue);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcolor: white;\n\t\t\t}\n\n\t\t\t.mwai-pill-purple {\n\t\t\t\tbackground: var(--wp--preset--color--vivid-purple);\n\t\t\t}\n\t\t}\n\t}\n\n\t.mwai-block-container-content&nbsp; {\n\t\tdisplay: none;\n\t\tflex: auto;\n\t\tpadding: 0px 10px;\n\n\t\t.mwai-block-container {\n\t\t\tborder: 1px solid black;\n\t\t\tmargin: 10px 0;\n\n\t\t\t.mwai-title-container {\n\t\t\t\tbackground: white;\n\t\t\t}\n\n\t\t\t.mwai-block-container-content {\n\t\t\t\tbackground: white;\n\t\t\t}\n\t\t}\n\t}\n\n\t&amp;.mwai-chatbot {\n\t\t.mwai-title-container {\n\t\t\tbackground: white;\n\t\t}\n\n\t\t.mwai-block-container-content {\n\t\t\tbackground: white;\n\t\t}\n\t}\n\n\t&amp;.mwai-container &gt; .mwai-block-container-content {\n\t\tdisplay: block;\n\t}\n\n\t.is-selected {\n\n\t\t&amp;:after {\n\t\t\tborder: 1px solid ",";\n\t\t}\n\n\t\t&amp; &gt; .mwai-block-container:not(.mwai-container) {\n\n\t\t\t.mwai-block-container-content {\n\t\t\t padding: 10px;\n\t\t\t display: flex;\n\t\t\t}\n\t\t}\n\t}\n\t\n"])),Ut.ZP.blue),bm=function(e){var t=e.children,n=e.type,r=void 0===n?"":n,a=e.title,o=void 0===a?"":a,i=e.hint,l=void 0===i?"":i,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r&lt;o.length;r++)n=o[r],t.indexOf(n)&gt;=0||Object.prototype.propertyIsEnumerable.call(e,n)&amp;&amp;(a[n]=e[n])}return a}(e,hm),u=(0,Yt.F0)("mwai-block-container","mwai-"+r);return React.createElement(gm,ym({className:u},c),React.createElement("div",{className:"mwai-title-container"},React.createElement(St,{icon:"ai",style:{width:20,height:20}}),React.createElement("div",null,o),React.createElement("div",{className:"mwai-hint"},l)),React.createElement("div",{className:"mwai-block-container-content"},t))};function Em(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wm(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Rm=wp.blocks.registerBlockType,xm=wp.element.useMemo,Om=wp.components,Sm=Om.PanelBody,Tm=Om.SelectControl,Nm=wp.blockEditor.InspectorControls,_m=function(e){var t={id:{value:e.attributes.chatbotId,insertIfNull:!0}},n=Object.entries(t).filter((function(e){var t=Em(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=Em(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai_chatbot");return"".concat(n,"]")},Cm=function(e){var t=e.attributes.chatbotId,n=e.setAttributes,r=xm((function(){var e=M.map((function(e){return{label:e.name,value:e.botId}}));return e.unshift({label:"None",value:null}),e}),[M]),a=xm((function(){return M.find((function(e){return e.botId===t}))}),[t]),o=xm((function(){return a?"Chatbot (".concat(a.name,")"):"Chatbot"}),[t]);return React.createElement(React.Fragment,null,React.createElement(bm,{title:o,type:"chatbot"}),React.createElement(Nm,null,React.createElement(Sm,{title:He.COMMON.CHATBOT},r&amp;&amp;r.length&gt;0&amp;&amp;React.createElement(Tm,{label:He.COMMON.CHATBOT,value:t,options:r,onChange:function(e){return n({chatbotId:e})}})),React.createElement(Sm,{title:He.COMMON.SETTINGS})))};function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},Im.apply(this,arguments)}var Lm=wp.i18n.__,km=wp.blocks.registerBlockType,Am=wp.element.useEffect,jm=wp.components,Pm=jm.PanelBody,Mm=jm.SelectControl,Dm=wp.blockEditor,Gm=Dm.InspectorControls,Fm=Dm.InnerBlocks,Bm=Dm.useBlockProps,Um=function(e){var t=Bm.save(),n=e.attributes,r=n.id,a=n.theme,o='[mwai-form-container id="'.concat(r,'" theme="').concat(a,'"]');return React.createElement("div",Im({},t,{id:"mwai-form-container-".concat(r),className:"mwai-form-container"}),o,React.createElement(Fm.Content,null))},Hm=function(e){var t=e.attributes,n=t.id,r=t.theme,a=e.setAttributes,o=Bm();return Am((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(bm,{title:"Container",type:"container"},React.createElement(Fm,null))),React.createElement(Gm,null,React.createElement(Pm,{title:He.COMMON.STYLE},React.createElement("p",null,"The theme will be applied to all the AI elements in this container."),React.createElement(Mm,{label:"Theme",value:r,onChange:function(e){return a({theme:e})},options:[{label:"None",value:"none"},{label:"ChatGPT",value:"ChatGPT"}]}))))};function Zm(e){return function(e){if(Array.isArray(e))return Vm(e)}(e)||function(e){if("undefined"!=typeof Symbol&amp;&amp;null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Vm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vm(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Ym=wp.i18n.__,zm=wp.blocks.registerBlockType,Wm=wp.element.useEffect,qm=wp.components,Xm=qm.Button,Qm=qm.PanelBody,Km=qm.TextControl,Jm=qm.SelectControl,$m=qm.CheckboxControl,ep=wp.blockEditor,tp=ep.useBlockProps,np=ep.InspectorControls,rp=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.type,o=t.name,i=t.options,l=void 0===i?[]:i,c=t.placeholder,u=t.rows,s=t.defaultValue,f=t.maxlength,d=t.required,m=encodeURIComponent(JSON.stringify(l)),p=tp.save(),h="[mwai-form-field";return n&amp;&amp;(h+=' id="'.concat(n,'"')),r&amp;&amp;(h+=' label="'.concat(r,'"')),a&amp;&amp;(h+=' type="'.concat(a,'"')),o&amp;&amp;(h+=' name="'.concat(o,'"')),m&amp;&amp;(h+=' options="'.concat(m,'"')),c&amp;&amp;(h+=' placeholder="'.concat(c,'"')),"textarea"===a&amp;&amp;u&amp;&amp;(h+=' rows="'.concat(u,'"')),s&amp;&amp;(h+=' default="'.concat(s,'"')),f&amp;&amp;(h+=' maxlength="'.concat(f,'"')),d&amp;&amp;(h+=' required="'.concat(d,'"')),h+="]",React.createElement("div",p,h)},ap=function(e){var t,n=e.attributes,r=n.id,a=n.type,o=n.name,i=n.options,l=void 0===i?[]:i,c=n.label,u=n.placeholder,s=n.rows,f=n.defaultValue,d=n.maxlength,m=n.required,p=e.setAttributes,h=tp();return Wm((function(){if(!r){var e=Math.random().toString(36).substr(2,9);p({id:"mwai-"+e})}}),[r]),React.createElement(React.Fragment,null,React.createElement("div",h,React.createElement(bm,{title:"".concat((t=a,t.charAt(0).toUpperCase()+t.slice(1))),type:"field",hint:React.createElement("span",{className:"mwai-pill"},"{",o,"}")},React.createElement("div",null,c),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,o))),React.createElement(np,null,React.createElement(Qm,{title:Ym("Field")},React.createElement(Km,{label:"Label Text",value:c,onChange:function(e){p({label:e});var t=e.trim().replace(/ /g,"_").replace(/[^\w-]+/g,"").toUpperCase();t&amp;&amp;p({name:t})}}),React.createElement(Km,{label:"Field Name",value:o,onChange:function(e){return p({name:e})}}),React.createElement(Jm,{label:"Field Type",value:a,onChange:function(e){return p({type:e})},options:[{label:"Input",value:"input"},{label:"Select",value:"select"},{label:"Checkbox",value:"checkbox"},{label:"Radio",value:"radio"},{label:"Text Area",value:"textarea"}]}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(Km,{label:"Placeholder",value:u,onChange:function(e){return p({placeholder:e})}}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(Km,{label:"Default Value",value:f,onChange:function(e){return p({defaultValue:e})}}),("input"===a||"textarea"===a)&amp;&amp;React.createElement(Km,{label:"Max Length",value:d,onChange:function(e){return p({maxlength:e})}}),"textarea"===a&amp;&amp;React.createElement(Km,{label:He.COMMON.ROWS,value:s,onChange:function(e){return p({rows:e})},type:"number",step:"1",min:"1",max:"100"}),React.createElement($m,{label:"Required",checked:m,onChange:function(e){return p({required:e})}})),("select"===a||"radio"===a||"checkbox"===a)&amp;&amp;React.createElement(Qm,{title:React.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},React.createElement("div",null,Ym("Options")))},l.map((function(e,t){return React.createElement("div",{key:t,style:{display:"flex",marginBottom:-25}},React.createElement("div",{style:{marginRight:5}},React.createElement(Km,{style:{marginRight:10},label:"Label",isInline:!0,value:e.label,onChange:function(e){var n=Zm(l);n[t].label=e,p({options:n})}})),React.createElement(Km,{style:{},label:"Value",isSubtle:!0,value:e.value,onChange:function(e){var n=Zm(l);n[t].value=e,p({options:n})}}),React.createElement("div",{style:{marginLeft:5,position:"relative",top:23}},React.createElement(Xm,{style:{height:30},isDestructive:!0,icon:"trash",isSmall:!0,onClick:function(){var e=Zm(l);e.splice(t,1),p({options:e})}})))})),React.createElement(Xm,{isPrimary:!0,style:{width:"100%",marginTop:10},onClick:function(){var e=Zm(l);e.push({label:"",value:""}),p({options:e})}},"Add Option")),React.createElement(Qm,{title:He.COMMON.SYSTEM},React.createElement(Km,{label:"ID",value:r,onChange:function(e){return p({id:e})}}))))};function op(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ip(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ip(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var lp=wp.i18n.__,cp=wp.blocks.registerBlockType,up=wp.element.useEffect,sp=wp.components,fp=sp.PanelBody,dp=sp.TextControl,mp=sp.CheckboxControl,pp=wp.blockEditor,hp=pp.InspectorControls,yp=pp.useBlockProps,vp=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=yp.save(),o={id:{value:n,insertIfNull:!0},copy_button:{value:r,insertIfNull:!0}},i=Object.entries(o).filter((function(e){var t=op(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=op(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-output");return i="".concat(i,"]"),React.createElement("div",a,i)},gp=function(e){var t=e.attributes,n=t.id,r=t.copyButton,a=e.setAttributes,o=yp();return up((function(){if(!n){var e=Math.random().toString(36).substr(2,9);a({id:"mwai-"+e})}}),[n]),React.createElement(React.Fragment,null,React.createElement("div",o,React.createElement(bm,{title:"Output",type:"output",hint:React.createElement("span",{className:"mwai-pill mwai-pill-purple"},"#",n)},React.createElement("div",null),React.createElement("div",{style:{flex:"auto"}}),React.createElement("div",null,"#",n))),React.createElement(hp,null,React.createElement(fp,{title:He.FORMS.OUTPUT},React.createElement(mp,{label:"Copy Button",checked:r,onChange:function(e){return a({copyButton:e})}}),React.createElement(dp,{label:"ID",value:n,onChange:function(e){return a({id:e})}}))))};function bp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ep(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ep(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ep(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Rp=wp.i18n.__,xp=wp.blocks.registerBlockType,Op=wp.element,Sp=Op.useMemo,Tp=Op.useEffect,Np=wp.components,_p=Np.PanelBody,Cp=Np.TextControl,Ip=Np.TextareaControl,Lp=Np.SelectControl,kp=Np.CheckboxControl,Ap=wp.blockEditor,jp=Ap.InspectorControls,Pp=Ap.useBlockProps,Mp=function(e){var t=e.attributes,n=t.id,r=t.label,a=t.prompt,o=t.outputElement,i=t.aiEnvId,l=t.embeddingsEnvId,c=t.index,u=t.namespace,s=t.model,f=t.temperature,d=t.maxTokens,m=t.isAssistant,p=t.assistantId,h=t.resolution,y=encodeURIComponent(a),v=Pp.save(),g={id:{value:n,insertIfNull:!0},label:{value:r,insertIfNull:!0},prompt:{value:y,insertIfNull:!0},output_element:{value:o,insertIfNull:!0},model:{value:s,insertIfNull:!1},temperature:{value:f,insertIfNull:!1},max_tokens:{value:d,insertIfNull:!1},is_assistant:{value:m,insertIfNull:!1},env_id:{value:i,insertIfNull:!1},embeddings_env_id:{value:l,insertIfNull:!1},embeddings_index:{value:c,insertIfNull:!1},embeddings_namespace:{value:u,insertIfNull:!1},assistant_id:{value:p,insertIfNull:!1},resolution:{value:h,insertIfNull:!1}},b=Object.entries(g).filter((function(e){var t=bp(e,2)[1],n=t.value,r=t.insertIfNull;return!!n||r})).reduce((function(e,t){var n=bp(t,2),r=n[0],a=n[1].value;return"".concat(e," ").concat(r,'="').concat(a,'"')}),"[mwai-form-submit");return b="".concat(b,"]"),React.createElement("div",v,b)},Dp=function(e){var t=Pp(),n=e.attributes,r=n.id,a=n.label,o=n.prompt,i=n.model,l=n.temperature,c=n.maxTokens,u=n.aiEnvId,s=n.embeddingsEnvId,f=n.index,d=n.namespace,m=n.assistantId,p=n.resolution,h=n.isAssistant,y=n.outputElement,v=n.placeholders,g=void 0===v?[]:v,b=e.setAttributes,E=k.embeddings_envs||[],w=Sp((function(){return E.find((function(e){return e.id===s}))||null}),[E,s]),R=Sp((function(){return(null==w?void 0:w.indexes)||[]}),[w]),x=Sp((function(){return(null==w?void 0:w.namespaces)||[]}),[w]),O=k.ai_envs||[],S=lt(k,u),T=S.models,N=(0,S.getModel)(i),_="image"===(null==N?void 0:N.type),C=Sp((function(){return O.find((function(e){return e.id===u}))||null}),[O,u]),I=(null==C?void 0:C.assistants)||[],L=Sp((function(){return I.find((function(e){return e.id===m}))||null}),[I,m]);Tp((function(){!u&amp;&amp;!i||C||b({aiEnvId:null,model:null})}),[u]),Tp((function(){(s||f||d)&amp;&amp;!w&amp;&amp;b({embeddingsEnvId:null,index:null,namespace:null})}),[s]),Tp((function(){L&amp;&amp;L.model&amp;&amp;L.model!==i&amp;&amp;b({model:L.model})}),[L]),Tp((function(){h||b({assistantId:""})}),[h]),Tp((function(){if(!r){var e=Math.random().toString(36).substr(2,9);b({id:"mwai-"+e})}}),[r]),Tp((function(){var e=o.match(/{([^}]+)}/g);if(e){var t=e.map((function(e){return e.replace("{","").replace("}","")}));t.join(",")!==g.join(",")&amp;&amp;b({placeholders:t})}else b({placeholders:[]})}),[o]);var A=Sp((function(){return g?g.length:0}),[g]),j=Sp((function(){var e=I.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"None",value:""}),e}),[I]),P=Sp((function(){var e=T.map((function(e){return{label:e.rawName,value:e.model}}));return e.unshift({label:"Default",value:""}),e}),[T]),M=Sp((function(){var e;if(!N||!_)return[];var t=(null==N||null===(e=N.options)||void 0===e?void 0:e.map((function(e){return{label:e.option,value:e.option}})))||[];return t.unshift({label:"None",value:""}),t}),[N]),D=Sp((function(){var e=R.map((function(e){return{label:e.name,value:e.name}}));return e.unshift({label:"None",value:""}),e}),[R]),G=Sp((function(){var e=O.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"Default",value:""}),e}),[O]),F=Sp((function(){var e=E.map((function(e){return{label:e.name,value:e.id}}));return e.unshift({label:"None",value:""}),e}),[E]),B=Sp((function(){var e=x.map((function(e){return{label:e,value:e}}));return e.unshift({label:"None",value:""}),e}),[x]),U=Sp((function(){return 0===A?"N/A":React.createElement("span",{className:"mwai-pill"},A," field",A&gt;1?"s":"")}),[A]);return React.createElement(React.Fragment,null,React.createElement("div",t,React.createElement(bm,{title:"Submit",type:"submit",hint:React.createElement(React.Fragment,null,"IN:"," ",React.createElement("span",{className:"mwai-pill"},U)," ","OUT:"," ",React.createElement("span",{className:"mwai-pill mwai-pill-purple"},y||"N/A"))},"Input Fields: ",g.join(", "),React.createElement("br",null),"Prompt: ",o,React.createElement("br",null),"Output Element: ",y)),React.createElement(jp,null,React.createElement(_p,{title:He.COMMON.OUTPUT},React.createElement(Cp,{label:He.COMMON.LABEL,value:a,onChange:function(e){return b({label:e})}}),React.createElement(Ip,{label:He.COMMON.PROMPT,value:o,onChange:function(e){return b({prompt:e})},help:He.FORMS.PROMPT_INFO}),React.createElement(Cp,{label:He.FORMS.OUTPUT_ELEMENT,value:y,onChange:function(e){return b({outputElement:e})},help:He.FORMS.OUTPUT_ELEMENT_INFO})),React.createElement(_p,{title:He.COMMON.MODEL_PARAMS},O&amp;&amp;O.length&gt;0&amp;&amp;React.createElement(Lp,{label:He.COMMON.ENVIRONMENT,value:u,options:G,onChange:function(e){return b({aiEnvId:e})}}),O&amp;&amp;O.length&gt;0&amp;&amp;React.createElement(kp,{label:"Assistant Mode",checked:h,onChange:function(e){return b({isAssistant:e})}}),h&amp;&amp;I&amp;&amp;I.length&gt;0&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Lp,{label:He.COMMON.ASSISTANT,value:m,options:j,onChange:function(e){return b({assistantId:e})}})),!h&amp;&amp;React.createElement(React.Fragment,null,T&amp;&amp;T.length&gt;0&amp;&amp;React.createElement(Lp,{label:He.COMMON.MODEL,value:i,options:P,onChange:function(e){return b({model:e})}}),!_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Cp,{label:He.COMMON.TEMPERATURE,value:l,onChange:function(e){return b({temperature:parseFloat(e)})},type:"number",step:"0.1",min:"0",max:"1",help:He.HELP.TEMPERATURE}),React.createElement(Cp,{label:He.COMMON.MAX_TOKENS,value:c,onChange:function(e){return b({maxTokens:parseInt(e)})},type:"number",step:"16",min:"32",max:"4096",help:React.createElement(Ja,{model:N,maxTokens:c,onRecommendedClick:function(e){return b({maxTokens:e})}})})),_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(Lp,{label:He.COMMON.RESOLUTION,value:p,options:M,onChange:function(e){return b({resolution:e})}})))),!_&amp;&amp;React.createElement(React.Fragment,null,React.createElement(_p,{title:He.COMMON.CONTEXT_PARAMS},E&amp;&amp;E.length&gt;0&amp;&amp;React.createElement(Lp,{label:He.COMMON.EMBEDDINGS_ENV,value:s,options:F,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({embeddingsEnvId:e})}}),R&amp;&amp;R.length&gt;0&amp;&amp;React.createElement(Lp,{label:He.COMMON.EMBEDDINGS_INDEX,value:f,options:D,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({index:e})}}),"pinecone"===(null==w?void 0:w.type)&amp;&amp;x&amp;&amp;x.length&gt;0&amp;&amp;React.createElement(Lp,{label:He.COMMON.NAMESPACE,value:d,options:B,disabled:!(null!=F&amp;&amp;F.length)||"chat"!==(null==N?void 0:N.mode),onChange:function(e){return b({namespace:e})}}))),React.createElement(_p,{title:He.COMMON.SYSTEM},React.createElement(Cp,{label:"ID",value:r,onChange:function(e){return b({id:e})}}))))};var Gp=function(){Rm("ai-engine/chatbot",{title:"AI Chatbot",description:React.createElement(React.Fragment,null,"This feature is ",React.createElement("b",null,"being built"),". I will allow to create a chatbot. Coming soon!"),icon:vm,category:"layout",keywords:["ai","openai","chatbot"],attributes:{id:{type:"string",default:""},chatbotId:{type:"string",default:"default"}},edit:Cm,save:_m})};function Fp(e){return Fp="function"==typeof Symbol&amp;&amp;"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;"function"==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?"symbol":typeof e},Fp(e)}function Bp(){Bp=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&amp;&amp;t.prototype instanceof v?t:v,i=Object.create(o.prototype),l=new I(r||[]);return a(i,"_invoke",{value:T(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",m="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,R=w&amp;&amp;w(w(L([])));R&amp;&amp;R!==n&amp;&amp;r.call(R,i)&amp;&amp;(E=R);var x=b.prototype=v.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,i,l){var c=f(e[a],e,o);if("throw"!==c.type){var u=c.arg,s=u.value;return s&amp;&amp;"object"==Fp(s)&amp;&amp;r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function T(t,n,r){var a=d;return function(o,i){if(a===p)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var l=r.delegate;if(l){var c=N(l,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&amp;&amp;r.abrupt("return",r.arg);a=p;var u=f(t,n,r);if("normal"===u.type){if(a=r.done?h:m,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&amp;&amp;(a=h,r.method="throw",r.arg=u.arg)}}}function N(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&amp;&amp;t.iterator.return&amp;&amp;(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&amp;&amp;(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&amp;&amp;(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(e){var t={tryLoc:e[0]};1 in e&amp;&amp;(t.catchLoc=e[1]),2 in e&amp;&amp;(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function n(){for(;++a&lt;t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(Fp(t)+" is not iterable")}return g.prototype=b,a(x,"constructor",{value:b,configurable:!0}),a(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&amp;&amp;e.constructor;return!!t&amp;&amp;(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},O(S.prototype),u(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,o){void 0===o&amp;&amp;(o=Promise);var i=new S(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(x),u(x,c,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&amp;&amp;r.call(this,n)&amp;&amp;!isNaN(+n.slice(1))&amp;&amp;(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&amp;&amp;(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o&gt;=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc&lt;=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&amp;&amp;u){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0);if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev&lt;i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev&lt;i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n&gt;=0;--n){var a=this.tryEntries[n];if(a.tryLoc&lt;=this.prev&amp;&amp;r.call(a,"finallyLoc")&amp;&amp;this.prev&lt;a.finallyLoc){var o=a;break}}o&amp;&amp;("break"===e||"continue"===e)&amp;&amp;o.tryLoc&lt;=t&amp;&amp;t&lt;=o.finallyLoc&amp;&amp;(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&amp;&amp;t&amp;&amp;(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t&gt;=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&amp;&amp;(this.arg=e),y}},t}function Up(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Hp(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Up(o,r,a,i,l,"next",e)}function l(e){Up(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Zp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Yp=wp.element,zp=Yp.useState,Wp=Yp.useEffect;const qp=function(e){var t=e.isOpen,n=void 0!==t&amp;&amp;t,r=(e.title,e.onClose),a=void 0===r?{}:r,o=Zp(zp(""),2),i=o[0],l=o[1],c=Zp(zp("Logitech MK270 Wireless Keyboard"),2),u=c[0],s=c[1],f=it({options:k}),d=f.currentHumanLanguage,m=f.jsxLanguageSelector,p=Zp(zp(""),2),h=p[0],y=p[1],v=Zp(zp(""),2),b=v[0],w=v[1],x=Zp(zp(""),2),O=x[0],S=x[1],N=Zp(zp(!1),2),_=N[0],C=N[1],I=Zp(zp(!1),2),j=(I[0],I[1]);function P(e){var t=e.split("\n"),n={};return t.forEach((function(e){e.startsWith("DESCRIPTION:")?n.description=e.replace("DESCRIPTION:","").trim():e.startsWith("SHORT_DESCRIPTION:")?n.shortDescription=e.replace("SHORT_DESCRIPTION:","").trim():e.startsWith("SEO_TITLE:")?n.seoTitle=e.replace("SEO_TITLE:","").trim():e.startsWith("TAGS:")&amp;&amp;(n.keywords=e.replace("TAGS:","").trim().split(", "))})),n}Wp((function(){var e=document.getElementById("title");e&amp;&amp;s(e.value)}),[n]);var M=function(){var e=Hp(Bp().mark((function e(){var t,n,r;return Bp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),t=(t="Here is the product: {USER_ENTRY}\n\nBased on the product, write a description of this product (between 120 and 240 words), a short description (between 20-49 words), a SEO-friendly title, and tags, separated by commas. Write it in {LANGUAGE}. Use this format:\nDESCRIPTION: \nSHORT_DESCRIPTION: \nSEO_TITLE: \nTAGS: \n\n".replace("{USER_ENTRY}",u)).replace("{LANGUAGE}",d),e.next=5,(0,R.PV)("".concat(T,"/ai/completions"),{method:"POST",nonce:L,json:{env:"admin-tools",session:A,prompt:t}});case 5:n=e.sent,C(!1),n.success&amp;&amp;(r=P(n.data),l(r.description),y(r.shortDescription),w(r.seoTitle),S(r.keywords.join(", ")));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=document.getElementById("title");e?e.value=b:alert("The title cannot be written (the field could not be found).")},G=function(){var e=tinyMCE.get("content");e?e.setContent(i):alert("The content cannot be written (the field could not be found).")},F=function(){var e=tinyMCE.get("excerpt");e?e.setContent(h):alert("The content cannot be written (the field could not be found).")},B=function(){var e=document.getElementById("new-tag-product_tag");e?e.value=O:alert("The tags cannot be written (the field could not be found).")},U=function(){var e=Hp(Bp().mark((function e(){return Bp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(),G(),F(),B(),a();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Hp(Bp().mark((function e(){return Bp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(),j(),C(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(g.o,null,React.createElement(Te.L,{isOpen:n,onRequestClose:H,title:He.COMMON.WOOCOMMERCE_PRODUCT_GENERATOR,content:React.createElement(jt,null,React.createElement("label",null,"Define your product:"),React.createElement(Dt.l,{disabled:_,name:"userEntry",value:u,rows:3,onChange:s,style:{flex:"auto"},placeholder:"What's your product?"}),React.createElement("div",{className:"form-row"},React.createElement("div",{style:{flex:"auto"}},m),React.createElement(E._,{isBusy:_,onClick:M,style:{marginLeft:5}},"Generate Fields")),React.createElement(xe.i,{height:30,line:!0}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Title"),React.createElement(E._,{small:!0,disabled:!b,onClick:D,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Ee.A,{disabled:_,value:b,onChange:w}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Description"),React.createElement(E._,{small:!0,disabled:!i,onClick:G,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Dt.l,{disabled:_,rows:4,value:i,onChange:l}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Short Description"),React.createElement(E._,{small:!0,disabled:!h,onClick:F,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Dt.l,{disabled:_,rows:4,value:h,onChange:y}),React.createElement("div",{className:"form-row-label"},React.createElement("label",null,"Product Tags"),React.createElement(E._,{small:!0,disabled:!O,onClick:B,style:{marginBottom:5,marginTop:-2,height:20,minHeight:20}},"Write")),React.createElement(Ee.A,{small:!0,disabled:_,value:O,onChange:S})),okButton:{label:"Write all fields",onClick:U}}))};function Xp(e,t){(null==t||t&gt;e.length)&amp;&amp;(t=e.length);for(var n=0,r=new Array(t);n&lt;t;n++)r[n]=e[n];return r}var Qp=wp.element,Kp=Qp.useState,Jp=(Qp.useEffect,Qp.useMemo,wp.i18n.__,wp.components.Button);const $p=function(){var e,t,n=(e=Kp(),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&amp;&amp;e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&amp;&amp;(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&amp;&amp;null!=n.return&amp;&amp;(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&amp;&amp;e.constructor&amp;&amp;(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],a=n[1];return React.createElement(React.Fragment,null,React.createElement("p",null,"Generate the WooCommerce fields."),React.createElement("div",{style:{display:"flex"}},React.createElement(Jp,{variant:"primary",onClick:function(){a(!0)},style:{flex:1,marginRight:10}},React.createElement(St,{icon:"wand",style:{marginRight:8}})," Generate Fields")),React.createElement(g.o,null,React.createElement(qp,{isOpen:r,onClose:function(){a(!1)}})))};var eh=wp.element.render,th=new c.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1}}}),nh=k.module_chatbots,rh=k.module_suggestions,ah=k.module_forms,oh=k.module_woocommerce;nh&amp;&amp;Gp(),ah&amp;&amp;(Gp(),zm("ai-engine/form-field",{apiVersion:3,title:"AI Form Field",icon:vm,category:"layout",keywords:[Ym("ai"),Ym("openai"),Ym("form")],supports:{dimensions:{width:!0}},attributes:{id:{type:"string",default:""},name:{type:"string",default:"LABEL"},type:{type:"string",default:"input"},options:{type:"array",default:[]},label:{type:"string",default:"Label: "},placeholder:{type:"string",default:""},defaultValue:{type:"string",default:""},maxlength:{type:"string",default:""},rows:{type:"rows",default:4},required:{type:"boolean",default:!0}},edit:ap,save:rp}),cp("ai-engine/form-output",{title:"AI Form Output",icon:vm,category:"layout",keywords:[lp("ai"),lp("openai"),lp("form")],supports:{dimensions:{minHeight:!0}},attributes:{id:{type:"string",default:""},copyButton:{type:"boolean",default:!0}},edit:gp,save:vp}),xp("ai-engine/form-submit",{title:"AI Form Submit",icon:vm,category:"layout",keywords:[Rp("ai"),Rp("openai"),Rp("form")],supports:{dimensions:{minHeight:!1}},attributes:{id:{type:"string",default:""},label:{type:"string",default:"Submit"},prompt:{type:"string",default:""},outputElement:{type:"string",default:""},model:{type:"string",default:""},temperature:{type:"number",default:.8},maxTokens:{type:"number",default:4096},placeholders:{type:"array",default:[]},aiEnvId:{type:"string",default:""},embeddingsEnvId:{type:"string",default:""},index:{type:"string",default:""},namespace:{type:"string",default:null},isAssistant:{type:"boolean",default:!1},assistantId:{type:"string",default:""},resolution:{type:"string",default:null}},edit:Dp,save:Mp}),km("ai-engine/form-container",{title:"AI Form Container",icon:vm,category:"layout",keywords:[Lm("ai"),Lm("openai"),Lm("form")],attributes:{id:{type:"string",default:""},theme:{type:"string",default:"ChatGPT"}},edit:Hm,save:Um})),rh&amp;&amp;(Gd("ai-engine-document-settings",{render:Kd}),qd("ai-wand/actions",{title:"AI Wand",tagName:"mwai",className:null,edit:Qd}),im("editor.BlockEdit","mwai-copilot/module",(function(e){return function(t){var n=um(),r=am(cm(!1),2),a=r[0],o=r[1],i=am(cm(""),2),l=i[0],c=i[1],u=am(cm(!1),2),s=u[0],f=u[1],d=am(cm(!1),2),m=d[0],p=d[1],h=t.attributes.content,y=function(){var e=rm(tm().mark((function e(n){var r;return tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,(0,R.PV)("".concat(T,"/ai/copilot"),{method:"POST",nonce:L,json:{action:"write",prompt:n}});case 4:r=e.sent,t.setAttributes({content:r.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Error: "+e.t0.message),console.log("ERROR",e.t0);case 12:return e.prev=12,f(!1),o(!1),c(""),e.finish(12);case 17:case"end":return e.stop()}}),e,null,[[0,8,12,17]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=rm(tm().mark((function e(t){return tm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:"Enter"===t.code&amp;&amp;(t.preventDefault(),y(l)),("Escape"===t.code||"Backspace"===t.code&amp;&amp;!l)&amp;&amp;(t.preventDefault(),o(!1),c(""));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return sm((function(){a&amp;&amp;n.current&amp;&amp;n.current.focus()}),[a]),"core/paragraph"===t.name?a?React.createElement("div",{style:{position:"relative"}},React.createElement(dm,{ref:n,label:React.createElement(React.Fragment,null,React.createElement(St,{icon:"wand",style:{marginBottom:-4}}),"AI Copilot"),value:l,disabled:s,placeholder:"Write about...",onChange:function(e){return c(e)},onKeyDown:v,onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)}}),s&amp;&amp;React.createElement(mm,{style:{position:"absolute",top:30,right:0}})):React.createElement("div",{onCompositionStart:function(){return p(!0)},onCompositionEnd:function(){return p(!1)},onKeyDown:function(e){m||"Space"!==e.code||h||(e.preventDefault(),o(!0))}},React.createElement(e,t)):React.createElement(e,t)}})),im("blocks.registerBlockType","mwai-copilot/placeholder",(function(e,t){if("core/paragraph"===t){var n=e.edit;e.edit=function(e){return e=em(em({},e),{},{attributes:em(em({},e.attributes),{},{placeholder:"Type / to choose a block, or press space to summon the AI Copilot"})}),n(e)}}return e}))),document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("mwai-admin-settings");e&amp;&amp;eh(React.createElement(u.aH,{client:th},React.createElement(s.Z,null,React.createElement(ys,null))),e);var t=document.getElementById("mwai-content-generator");t&amp;&amp;eh(React.createElement(u.aH,{client:th},React.createElement(s.Z,null,React.createElement(od,null))),t);var n=document.getElementById("mwai-image-generator");n&amp;&amp;eh(React.createElement(u.aH,{client:th},React.createElement(s.Z,null,React.createElement(Od,null))),n);var r=document.getElementById("mwai-playground");if(r&amp;&amp;eh(React.createElement(u.aH,{client:th},React.createElement(s.Z,null,React.createElement(cf,null))),r),rh){var a=document.getElementById("mwai-admin-postsList");a&amp;&amp;eh(React.createElement(s.Z,null,React.createElement(Vf,null)),a)}if(oh){var o=document.getElementById("mwai-admin-wcAssistant");o&amp;&amp;eh(React.createElement(s.Z,null,React.createElement($p,null)),o)}var i=document.getElementById("meow-common-dashboard");i&amp;&amp;eh</ins>(React.createElement(s.Z,null,React.createElement(be,null)),i)}))},9815:(e,t,n)=&gt;{n.d(t,{Z:()=&gt;l});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".iOqlDdBnATVpadGvx1YX, .lndjoRWjp3ye2x5XZ29y {\n&nbsp; --mwai-spacing: 15px;\n&nbsp; --mwai-fontSize: 15px;\n&nbsp; --mwai-lineHeight: 1.5;\n&nbsp; --mwai-borderRadius: 10px;\n&nbsp; --mwai-width: 460px;\n&nbsp; --mwai-maxHeight: 40vh;\n&nbsp; --mwai-iconTextColor: white;\n&nbsp; --mwai-iconTextBackgroundColor: #343541;\n&nbsp; --mwai-fontColor: #FFFFFF;\n&nbsp; --mwai-backgroundPrimaryColor: #454654;\n&nbsp; --mwai-backgroundHeaderColor: #343541;\n&nbsp; --mwai-headerButtonsColor: #FFFFFF;\n&nbsp; --mwai-conversationsBackgroundColor: #202123;\n&nbsp; --mwai-conversationsTextColor: #FFFFFF;\n&nbsp; --mwai-backgroundSecondaryColor: #343541;\n&nbsp; --mwai-errorBackgroundColor: #6d2f2a;\n&nbsp; --mwai-errorTextColor: #FFFFFF;\n}\n\n.iOqlDdBnATVpadGvx1YX button, .lndjoRWjp3ye2x5XZ29y button {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; border: 1px solid var(--mwai-backgroundPrimaryColor);\n&nbsp; padding: calc(var(--mwai-spacing) / 2) var(--mwai-spacing);\n&nbsp; min-width: 90px;\n&nbsp; border-radius: 5px;\n&nbsp; cursor: pointer;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; font-size: 90%;\n&nbsp; position: relative;\n}\n\n.iOqlDdBnATVpadGvx1YX button .M1bTKgon3yJn1pg388Aw, .lndjoRWjp3ye2x5XZ29y button .M1bTKgon3yJn1pg388Aw {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: 5px;\n&nbsp; font-size: 11px;\n}\n\n.iOqlDdBnATVpadGvx1YX button:hover, .lndjoRWjp3ye2x5XZ29y button:hover {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled], .lndjoRWjp3ye2x5XZ29y button[disabled] {\n&nbsp; cursor: not-allowed;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled] span, .lndjoRWjp3ye2x5XZ29y button[disabled] span {\n&nbsp; opacity: 0.5;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled].v3cfCHqnK8iZsl1KBxr5 span, .lndjoRWjp3ye2x5XZ29y button[disabled].v3cfCHqnK8iZsl1KBxr5 span {\n&nbsp; display: none;\n}\n\n.iOqlDdBnATVpadGvx1YX button[disabled].v3cfCHqnK8iZsl1KBxr5:before, .lndjoRWjp3ye2x5XZ29y button[disabled].v3cfCHqnK8iZsl1KBxr5:before {\n&nbsp; content: '';\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin: auto;\n&nbsp; border: 3px solid transparent;\n&nbsp; border-top-color: var(--mwai-fontColor);\n&nbsp; border-radius: 50%;\n&nbsp; animation: Q8R59WRCXYK3JY7gl3Nw 1s ease infinite;\n}\n\n.iOqlDdBnATVpadGvx1YX {\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n&nbsp; overflow: hidden;\n}\n\n.iOqlDdBnATVpadGvx1YX * {\n&nbsp; box-sizing: border-box;\n}\n\n.iOqlDdBnATVpadGvx1YX .a48TtMrGohiplJihDv4a {\n&nbsp; color: var(--mwai-headerButtonsColor);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; display: flex;\n&nbsp; justify-content: space-between;\n&nbsp; align-items: center;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw {\n&nbsp; background: var(--mwai-conversationsBackgroundColor);\n&nbsp; list-style: none;\n&nbsp; padding: calc(var(--mwai-spacing) / 2);\n&nbsp; margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw .OmmzQgRvsKUxTPnN1NGA {\n&nbsp; margin: 0;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li {\n&nbsp; color: var(--mwai-conversationsTextColor);\n&nbsp; font-size: 75%;\n&nbsp; padding: calc(var(--mwai-spacing) / 2);\n&nbsp; opacity: 0.65;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li.Ru4QsUQBo4Gov_bTpbJC {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; opacity: 1;\n}\n\n.iOqlDdBnATVpadGvx1YX .Aml8NHGXmSBh_55anACw li:hover {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y * {\n&nbsp; box-sizing: border-box;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Aml8NHGXmSBh_55anACw {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; overflow: hidden;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.lndjoRWjp3ye2x5XZ29y .smw5eGNuW8ar3Rq6KsU5 {\n&nbsp; overflow: auto;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n&nbsp; display: flex;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; position: relative;\n&nbsp; line-height: var(--mwai-lineHeight);\n&nbsp; transition: opacity 0.35s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.LkkwYvlzeIMIzf7mtUwW {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.ND9ujQp2hjVwNQTPWDSf {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.xVfQe9VEYvuzMaqLoXuP {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; margin-right: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .V_Rv657Z7bGmaqPXFjGG {\n&nbsp; opacity: 0.50;\n&nbsp; white-space: nowrap;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh {\n&nbsp; margin-right: 10px;\n&nbsp; width: 40px;\n&nbsp; height: 40px;\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; border-radius: 5px;\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh img {\n&nbsp; max-width: 100%;\n&nbsp; max-height: 100%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .mVKuMauVy4SrhOGg0tO7 .hsW5GDpr7mGWbevVTphh.weQ0XGKhJgBusnPzOtWH img {\n&nbsp; width: 28px;\n&nbsp; height: 28px;\n&nbsp; filter: brightness(0) invert(1);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox {\n&nbsp; flex: auto;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; line-height: var(--mwai-lineHeight);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox * {\n&nbsp; font-size: var(--mwai-fontSize);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox a {\n&nbsp; color: #2196f3;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h1 {\n&nbsp; font-size: 200%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h2 {\n&nbsp; font-size: 160%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h3 {\n&nbsp; font-size: 140%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox h4 {\n&nbsp; font-size: 120%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox p code {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n&nbsp; padding: 2px 6px;\n&nbsp; border-radius: 8px;\n&nbsp; font-size: 90%;\n&nbsp; font-family: system-ui;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; padding: calc(var(--mwai-spacing) * 2 / 3) var(--mwai-spacing);\n&nbsp; break-after: auto;\n&nbsp; white-space: pre-wrap;\n&nbsp; font-size: 95%;\n&nbsp; max-width: 100%;\n&nbsp; width: 100%;\n&nbsp; font-family: system-ui;\n&nbsp; background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox pre code {\n&nbsp; padding: 0 !important;\n&nbsp; font-family: system-ui;\n&nbsp; background: #343541;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ul {\n&nbsp; padding: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox ol {\n&nbsp; padding: 0;\n&nbsp; margin: 0 0 0 20px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox table {\n&nbsp; width: 100%;\n&nbsp; border: 2px solid var(--mwai-backgroundSecondaryColor);\n&nbsp; border-collapse: collapse;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox thead {\n&nbsp; background: var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox tr, .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n&nbsp; padding: 2px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox td {\n&nbsp; border: 2px solid var(--mwai-backgroundSecondaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m {\n&nbsp; display: inline-block;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox .fJyiPz2f5_C8IfUzgD1m &gt; :first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox &gt; *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ .CWHqlUDu9z_VhM1iNYox &gt; *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ {\n&nbsp; background: var(--mwai-errorBackgroundColor);\n&nbsp; color: var(--mwai-errorFontColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ.CbsFIeB3668vSID0A4iZ .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; display: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n&nbsp; display: flex;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-top: 1px solid var(--mwai-backgroundPrimaryColor);\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi {\n&nbsp; flex: auto;\n&nbsp; position: relative;\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; flex: auto;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border: none;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; resize: none;\n&nbsp; font-family: inherit;\n&nbsp; margin: 0;\n&nbsp; overflow: hidden;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea:focus {\n&nbsp; outline: none;\n&nbsp; box-shadow: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi textarea::placeholder {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; height: 100%;\n&nbsp; cursor: pointer;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f svg {\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; width: 34px;\n&nbsp; height: 34px;\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n&nbsp; filter: grayscale(100%);\n&nbsp; transition: opacity 0.3s ease-out;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[active=true] svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f[active=true] svg {\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7[disabled] svg, .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f[disabled] svg {\n&nbsp; opacity: 0;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: -12px;\n&nbsp; z-index: 100;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f svg {\n&nbsp; width: 42px;\n&nbsp; height: 42px;\n&nbsp; padding: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f span {\n&nbsp; position: absolute;\n&nbsp; font-size: 55%;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .hjMPRhlRyJZ70Vnwp52f.qdmpzjfc2pvlu3qNoc7U svg {\n&nbsp; opacity: 1;\n&nbsp; filter: none;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw .ikW2DMZ6yprkNfgHcqIi .mNSHwda3gI7RQiK8_gv7 svg {\n&nbsp; padding: 5px 10px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n&nbsp; margin-left: var(--mwai-spacing);\n}\n\n.lndjoRWjp3ye2x5XZ29y .fHnh9J6mBICuMbL1YTu6 {\n&nbsp; opacity: 0.50;\n&nbsp; margin-top: calc( -1 * var(--mwai-spacing));\n&nbsp; padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n&nbsp; font-size: smaller;\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; text-align: left;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Bp49so_uw3KdIe3QrEda img {\n&nbsp; width: 100%;\n}\n\n.CWHqlUDu9z_VhM1iNYox img {\n&nbsp; max-width: 100%;\n}\n\n.P8gokhAqzYbmwRSdIX15 {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n}\n\n.P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n&nbsp; background: var(--mwai-iconTextBackgroundColor);\n&nbsp; color: var(--mwai-iconTextColor);\n&nbsp; max-width: 200px;\n&nbsp; font-size: 13px;\n&nbsp; margin-bottom: 15px;\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 8px;\n}\n\n.P8gokhAqzYbmwRSdIX15 img {\n&nbsp; filter: drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.15));\n}\n\n.P8gokhAqzYbmwRSdIX15:hover {\n&nbsp; cursor: pointer;\n&nbsp; filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt {\n&nbsp; position: fixed;\n&nbsp; right: 30px;\n&nbsp; bottom: 30px;\n&nbsp; width: var(--mwai-width);\n&nbsp; z-index: 9999;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 22px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:before, .T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 1px;\n&nbsp; background-color: var(--mwai-headerButtonsColor);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Ro3ozFQUTLKZlgVIqTSB:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.T9GqU1_HCj_oHtw9lgwt .Aml8NHGXmSBh_55anACw {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.ajsqo2U9G1IzQDXbBkAj .P8gokhAqzYbmwRSdIX15 {\n&nbsp; align-items: flex-start;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 {\n&nbsp; flex-direction: column-reverse;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.mg6G7Y1UduAmrmebUMpO .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4, .T9GqU1_HCj_oHtw9lgwt.XfXb_vsh1m3bAaFnERsy .P8gokhAqzYbmwRSdIX15 .FbJjBUnddAFF1XtQEVP4 {\n&nbsp; margin-bottom: 0;\n&nbsp; margin-top: 15px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn {\n&nbsp; margin-bottom: 0px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.jiSqg50xKsenI9wptcuo .a48TtMrGohiplJihDv4a .hTngPMta9JE4rNszvmBn .Q4YDXTlKM6ODOACM138U:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt), .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n}\n\n.jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt) .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5, .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw .smw5eGNuW8ar3Rq6KsU5 {\n&nbsp; flex: auto;\n&nbsp; max-height: none;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .a48TtMrGohiplJihDv4a {\n&nbsp; display: flex;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .Aml8NHGXmSBh_55anACw {\n&nbsp; display: flex;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai .P8gokhAqzYbmwRSdIX15 {\n&nbsp; display: none;\n}\n\n.Oq1uZhJCX5aY36MMcVO2 {\n&nbsp; margin: var(--mwai-spacing);\n&nbsp; color: white;\n&nbsp; background: rgba(180, 55, 55, 0.55);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.Oq1uZhJCX5aY36MMcVO2:hover {\n&nbsp; cursor: pointer;\n&nbsp; background: rgba(180, 44, 44, 0.85);\n}\n\n@keyframes Q8R59WRCXYK3JY7gl3Nw {\n&nbsp; from {\n&nbsp; &nbsp; transform: rotate(0turn);\n&nbsp; }\n&nbsp; to {\n&nbsp; &nbsp; transform: rotate(1turn);\n&nbsp; }\n}\n\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo:not(.T9GqU1_HCj_oHtw9lgwt),\n.qEeiVUrkYtpxDyZZ5FzQ .jiSqg50xKsenI9wptcuo.T9GqU1_HCj_oHtw9lgwt.EVEzwxiR59HKfU7cbdai {\n&nbsp; top: 32px;\n}\n\n@media (max-width: 760px) {\n&nbsp; .lndjoRWjp3ye2x5XZ29y.T9GqU1_HCj_oHtw9lgwt {\n&nbsp; &nbsp; width: calc(100% - 40px);\n&nbsp; &nbsp; z-index: 9999999999;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n}\n\n.s6pfLhxkG5kdsInHIBwB {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.s6pfLhxkG5kdsInHIBwB .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.s6pfLhxkG5kdsInHIBwB:hover .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .yPOP1Mu_LbAFIAA1DiLC {\n&nbsp; opacity: 0;\n}\n\n.s6pfLhxkG5kdsInHIBwB.saS9VjjVMXioL4CweV81 .Vo_Ic5uNSqGTmWJTRoUw {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .F0C5IedgFBoZ1NVujRQZ:hover .s6pfLhxkG5kdsInHIBwB {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.lndjoRWjp3ye2x5XZ29y pre code.qGLvA_pwzQhRx17Qp2qG {\n&nbsp; display: block;\n&nbsp; overflow-x: auto;\n&nbsp; padding: 1em;\n}\n\n.lndjoRWjp3ye2x5XZ29y code.qGLvA_pwzQhRx17Qp2qG {\n&nbsp; padding: 3px 5px;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qGLvA_pwzQhRx17Qp2qG {\n&nbsp; color: #fff;\n&nbsp; background: #1c1b1b;\n}\n\n.lndjoRWjp3ye2x5XZ29y .dll3BbdRvJ0qjOH7C1R0 {\n&nbsp; color: #fff;\n}\n\n.lndjoRWjp3ye2x5XZ29y .P6sxeXNm3ulh2o2h5Yjy {\n&nbsp; color: #999;\n}\n\n.lndjoRWjp3ye2x5XZ29y .pDFfJSc0CJxgez6eAYCl, .lndjoRWjp3ye2x5XZ29y .S3p1X8o3KwAIaXfZTWEv, .lndjoRWjp3ye2x5XZ29y .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .eNaDX_BT2XHi1fmpHhjK, .lndjoRWjp3ye2x5XZ29y .ZrrOZX4MogzT4SIVWJv9, .lndjoRWjp3ye2x5XZ29y .Ezj9i_PFTu6NXnm5bQ2W {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .lw3VjK3cUsfdCH7g29ni {\n&nbsp; color: #c59bc1;\n}\n\n.lndjoRWjp3ye2x5XZ29y .qUDlP2cGSktxjMwFtugR, .lndjoRWjp3ye2x5XZ29y ._fxVWJ7gNhOogvHgiiEW, .lndjoRWjp3ye2x5XZ29y .PAeDFMLA7yrPh2m_Jolt, .lndjoRWjp3ye2x5XZ29y .IJOz0y4nuAjuKEH5ad4S, .lndjoRWjp3ye2x5XZ29y .o2piLhFaxLQLXgCkfz4l, .lndjoRWjp3ye2x5XZ29y .iO5fcUq9dmiH1asdr3Cl {\n&nbsp; color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .uTq62uTnFfexkPglNKKQ {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .cuNs_mMtNSndHrBLDBun, .lndjoRWjp3ye2x5XZ29y .VOLYON7Lm2ixjT0lfJqb, .lndjoRWjp3ye2x5XZ29y .Dht1W1O3irfcnSwHUkVD, .lndjoRWjp3ye2x5XZ29y .l8x1cPyd6xYPxh0UxFki, .lndjoRWjp3ye2x5XZ29y .gmwyH9Q5KoURCSuZX3RW, .lndjoRWjp3ye2x5XZ29y .pG2Tm8XNiaqF15bzqowa, .lndjoRWjp3ye2x5XZ29y .ShtyZatv6a_Np09d9ZhL {\n&nbsp; color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI, .lndjoRWjp3ye2x5XZ29y .s4pdbTkxzyKUiMhqzSgw {\n&nbsp; color: #88aece;\n}\n\n.lndjoRWjp3ye2x5XZ29y .hnH6CCiD_bvKHZauHgmD, .lndjoRWjp3ye2x5XZ29y .hV3GpUw8Q6uCKZMVukYw, .lndjoRWjp3ye2x5XZ29y .eMKSdPjINy50n4pZn4GN {\n&nbsp; color: #f08d49;\n}\n\n.lndjoRWjp3ye2x5XZ29y .Pym4asdLc5qgFVu49au7, .lndjoRWjp3ye2x5XZ29y .T6J4Iul5eF5H9v2uEUHB {\n&nbsp; color: #ccc;\n}\n\n.lndjoRWjp3ye2x5XZ29y .b42b1C0mh0UtxZtJEaXI .l8x1cPyd6xYPxh0UxFki {\n&nbsp; color: #b5bd68;\n}\n\n.lndjoRWjp3ye2x5XZ29y .YCa9eRFA9Uy7fX7inEM1 {\n&nbsp; color: #de7176;\n}\n\n.lndjoRWjp3ye2x5XZ29y .A3lgF_mx1w0dOoKUrUi0 {\n&nbsp; color: #76c490;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GofZXHORfmng7GRoPDfO {\n&nbsp; font-style: italic;\n}\n\n.lndjoRWjp3ye2x5XZ29y .GalxnJ2lz2qqZgZPtQ_J {\n&nbsp; font-weight: 700;\n}\n\n@media (max-width: 760px) {\n&nbsp; .lndjoRWjp3ye2x5XZ29y .kgqpqavmCnlczZVXZMNw button {\n&nbsp; &nbsp; margin: 15px 0 0 0;\n&nbsp; &nbsp; height: 40px;\n&nbsp; &nbsp; width: inherit;\n&nbsp; }\n&nbsp; .lndjoRWjp3ye2x5XZ29y .mVKuMauVy4SrhOGg0tO7 {\n&nbsp; &nbsp; margin-right: 0;\n&nbsp; &nbsp; max-width: inherit;\n&nbsp; }\n}\n",""]),i.locals={"mwai-discussions":"iOqlDdBnATVpadGvx1YX","mwai-chat":"lndjoRWjp3ye2x5XZ29y","mwai-timer":"M1bTKgon3yJn1pg388Aw","mwai-busy":"v3cfCHqnK8iZsl1KBxr5","mwai-button-spinner":"Q8R59WRCXYK3JY7gl3Nw","mwai-header":"a48TtMrGohiplJihDv4a","mwai-content":"Aml8NHGXmSBh_55anACw","mwai-discussion":"OmmzQgRvsKUxTPnN1NGA","mwai-active":"Ru4QsUQBo4Gov_bTpbJC","mwai-conversation":"smw5eGNuW8ar3Rq6KsU5","mwai-reply":"F0C5IedgFBoZ1NVujRQZ","mwai-copy-button":"s6pfLhxkG5kdsInHIBwB","mwai-copy-button-one":"yPOP1Mu_LbAFIAA1DiLC","mwai-copy-button-two":"Vo_Ic5uNSqGTmWJTRoUw","mwai-animate":"saS9VjjVMXioL4CweV81","mwai-fade-out":"LkkwYvlzeIMIzf7mtUwW","mwai-user":"ND9ujQp2hjVwNQTPWDSf","mwai-ai":"xVfQe9VEYvuzMaqLoXuP","mwai-name":"mVKuMauVy4SrhOGg0tO7","mwai-name-text":"V_Rv657Z7bGmaqPXFjGG","mwai-avatar":"hsW5GDpr7mGWbevVTphh","mwai-svg":"weQ0XGKhJgBusnPzOtWH","mwai-text":"CWHqlUDu9z_VhM1iNYox","mwai-typewriter":"fJyiPz2f5_C8IfUzgD1m","mwai-system":"CbsFIeB3668vSID0A4iZ","mwai-input":"kgqpqavmCnlczZVXZMNw","mwai-input-text":"ikW2DMZ6yprkNfgHcqIi","mwai-microphone":"mNSHwda3gI7RQiK8_gv7","mwai-file-upload":"hjMPRhlRyJZ70Vnwp52f","mwai-enabled":"qdmpzjfc2pvlu3qNoc7U","mwai-compliance":"fHnh9J6mBICuMbL1YTu6","mwai-gallery":"Bp49so_uw3KdIe3QrEda","mwai-open-button":"P8gokhAqzYbmwRSdIX15","mwai-icon-text":"FbJjBUnddAFF1XtQEVP4","mwai-window":"T9GqU1_HCj_oHtw9lgwt","mwai-buttons":"hTngPMta9JE4rNszvmBn","mwai-resize-button":"Q4YDXTlKM6ODOACM138U","mwai-close-button":"Ro3ozFQUTLKZlgVIqTSB","mwai-bottom-left":"ajsqo2U9G1IzQDXbBkAj","mwai-top-right":"mg6G7Y1UduAmrmebUMpO","mwai-top-left":"XfXb_vsh1m3bAaFnERsy","mwai-fullscreen":"jiSqg50xKsenI9wptcuo","mwai-open":"EVEzwxiR59HKfU7cbdai","mwai-error":"Oq1uZhJCX5aY36MMcVO2","admin-bar":"qEeiVUrkYtpxDyZZ5FzQ",hljs:"qGLvA_pwzQhRx17Qp2qG","hljs-subst":"dll3BbdRvJ0qjOH7C1R0","hljs-comment":"P6sxeXNm3ulh2o2h5Yjy","hljs-attr":"pDFfJSc0CJxgez6eAYCl","hljs-doctag":"S3p1X8o3KwAIaXfZTWEv","hljs-keyword":"eNaDX_BT2XHi1fmpHhjK","hljs-meta":"b42b1C0mh0UtxZtJEaXI","hljs-section":"ZrrOZX4MogzT4SIVWJv9","hljs-selector-tag":"Ezj9i_PFTu6NXnm5bQ2W","hljs-attribute":"lw3VjK3cUsfdCH7g29ni","hljs-name":"qUDlP2cGSktxjMwFtugR","hljs-number":"_fxVWJ7gNhOogvHgiiEW","hljs-quote":"PAeDFMLA7yrPh2m_Jolt","hljs-selector-id":"IJOz0y4nuAjuKEH5ad4S","hljs-template-tag":"o2piLhFaxLQLXgCkfz4l","hljs-type":"iO5fcUq9dmiH1asdr3Cl","hljs-selector-class":"uTq62uTnFfexkPglNKKQ","hljs-link":"cuNs_mMtNSndHrBLDBun","hljs-regexp":"VOLYON7Lm2ixjT0lfJqb","hljs-selector-attr":"Dht1W1O3irfcnSwHUkVD","hljs-string":"l8x1cPyd6xYPxh0UxFki","hljs-symbol":"gmwyH9Q5KoURCSuZX3RW","hljs-template-variable":"pG2Tm8XNiaqF15bzqowa","hljs-variable":"ShtyZatv6a_Np09d9ZhL","hljs-selector-pseudo":"s4pdbTkxzyKUiMhqzSgw","hljs-built_in":"hnH6CCiD_bvKHZauHgmD","hljs-literal":"hV3GpUw8Q6uCKZMVukYw","hljs-title":"eMKSdPjINy50n4pZn4GN","hljs-bullet":"Pym4asdLc5qgFVu49au7","hljs-code":"T6J4Iul5eF5H9v2uEUHB","hljs-deletion":"YCa9eRFA9Uy7fX7inEM1","hljs-addition":"A3lgF_mx1w0dOoKUrUi0","hljs-emphasis":"GofZXHORfmng7GRoPDfO","hljs-strong":"GalxnJ2lz2qqZgZPtQ_J"};const l=i},402:(e,t,n)=&gt;{n.d(t,{Z:()=&gt;l});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".yAdyblrtoeLBR0jQpw50 {\n&nbsp; --mwai-spacing: 10px;\n&nbsp; --mwai-fontSize: 13px;\n&nbsp; --mwai-lineHeight: 1.5;\n&nbsp; --mwai-borderRadius: 10px;\n&nbsp; --mwai-width: 460px;\n&nbsp; --mwai-maxHeight: 40vh;\n&nbsp; --mwai-iconTextColor: black;\n&nbsp; --mwai-iconTextBackgroundColor: white;\n&nbsp; --mwai-fontColor: black;\n&nbsp; --mwai-backgroundPrimaryColor: #fafafa;\n&nbsp; --mwai-backgroundHeaderColor: #0084ff;\n&nbsp; --mwai-headerButtonsColor: white;\n&nbsp; --mwai-backgroundUserColor: #0084ff;\n&nbsp; --mwai-backgroundAiColor: #eee;\n&nbsp; --mwai-backgroundAiSecondaryColor: #ddd;\n}\n\n.yAdyblrtoeLBR0jQpw50 * {\n&nbsp; box-sizing: border-box;\n}\n\n.yAdyblrtoeLBR0jQpw50 .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; flex-direction: column;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 {\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; overflow: auto;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY {\n&nbsp; margin-bottom: var(--mwai-spacing);\n&nbsp; padding: 7px 12px;\n&nbsp; border-radius: 15px;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; position: relative;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .iNYH5nYgNZAe4RXsoGlM {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY .YrCYLibUvvIBdWDUNfm0 {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:first-child {\n&nbsp; margin-top: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY *:last-child {\n&nbsp; margin-bottom: 0px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w {\n&nbsp; align-self: flex-start;\n&nbsp; background: var(--mwai-backgroundAiColor);\n&nbsp; margin-left: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::after {\n&nbsp; content: \"\";\n&nbsp; position: absolute;\n&nbsp; z-index: 1;\n&nbsp; bottom: 0;\n&nbsp; left: -10px;\n&nbsp; width: 10px;\n&nbsp; height: 20px;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-bottom-right-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY.NQtBPR0S0WX0SVKcVj1w::before {\n&nbsp; z-index: 0;\n&nbsp; left: -7px;\n&nbsp; height: 20px;\n&nbsp; width: 20px;\n&nbsp; background: var(--mwai-backgroundAiColor);\n&nbsp; border-bottom-right-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4 {\n&nbsp; align-self: flex-end;\n&nbsp; background: var(--mwai-backgroundUserColor);\n&nbsp; color: white;\n&nbsp; margin-right: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before, .yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::after {\n&nbsp; content: \"\";\n&nbsp; position: absolute;\n&nbsp; z-index: 1;\n&nbsp; bottom: 0;\n&nbsp; right: -10px;\n&nbsp; width: 10px;\n&nbsp; height: 20px;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-bottom-left-radius: 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ichONrqIibIDVVVhDor5 .XLY_VCZMFRIbTEVL1rvY._fj65BIE29IpCwq2fEp4::before {\n&nbsp; z-index: 0;\n&nbsp; right: -10px;\n&nbsp; height: 20px;\n&nbsp; width: 20px;\n&nbsp; background: var(--mwai-backgroundUserColor);\n&nbsp; background-attachment: fixed;\n&nbsp; border-bottom-left-radius: 15px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD {\n&nbsp; flex: auto;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD a {\n&nbsp; color: #2196f3;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h1 {\n&nbsp; font-size: 200%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h2 {\n&nbsp; font-size: 160%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h3 {\n&nbsp; font-size: 140%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD h4 {\n&nbsp; font-size: 120%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p {\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; line-height: var(--mwai-lineHeight);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD p code {\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n&nbsp; padding: 2px 6px;\n&nbsp; border-radius: 8px;\n&nbsp; font-size: 90%;\n&nbsp; font-family: system-ui;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; break-after: auto;\n&nbsp; white-space: pre-wrap;\n&nbsp; max-width: 100%;\n&nbsp; width: 100%;\n&nbsp; font-family: system-ui;\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD pre code {\n&nbsp; padding: 0 !important;\n&nbsp; font-family: system-ui;\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD ol {\n&nbsp; padding: 0;\n&nbsp; margin: 0 0 0 20px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD table {\n&nbsp; width: 100%;\n&nbsp; border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n&nbsp; border-collapse: collapse;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD thead {\n&nbsp; background: var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD tr, .yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n&nbsp; padding: 2px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD td {\n&nbsp; border: 2px solid var(--mwai-backgroundAiSecondaryColor);\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny {\n&nbsp; display: inline-block;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD .tiqvZ2tbFuTxjFtwFMny &gt; :first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD &gt; *:first-child {\n&nbsp; margin-top: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .g9XrXMpQH3afixCzXMWD &gt; *:last-child {\n&nbsp; margin-bottom: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .kpvcOwh9XehTKS0BEnBZ img {\n&nbsp; width: 24px;\n&nbsp; border-radius: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; padding: var(--mwai-spacing);\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm {\n&nbsp; flex: auto;\n&nbsp; position: relative;\n&nbsp; display: flex;\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; border: 1px solid var(--mwai-backgroundAiSecondaryColor);\n&nbsp; overflow: hidden;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea {\n&nbsp; background: var(--mwai-backgroundPrimaryColor);\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; flex: auto;\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border: none;\n&nbsp; font-size: var(--mwai-fontSize);\n&nbsp; resize: none;\n&nbsp; font-family: inherit;\n&nbsp; margin: 0;\n&nbsp; overflow: hidden;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea:focus {\n&nbsp; outline: none;\n&nbsp; box-shadow: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm textarea::placeholder {\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n&nbsp; justify-content: center;\n&nbsp; height: 100%;\n&nbsp; cursor: pointer;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ svg {\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; width: 34px;\n&nbsp; height: 34px;\n&nbsp; fill: var(--mwai-fontColor);\n&nbsp; opacity: 0.5;\n&nbsp; transition: opacity 0.3s ease-out;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E[active=true] svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ[active=true] svg {\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E[disabled] svg, .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ[disabled] svg {\n&nbsp; opacity: 0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: -5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ svg {\n&nbsp; width: 42px;\n&nbsp; height: 42px;\n&nbsp; padding: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ span {\n&nbsp; position: absolute;\n&nbsp; font-size: 55%;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .aic0R2G3dOW1FVu7bBPQ.SRrSUq0OFU6GUhaNh6U5 svg {\n&nbsp; opacity: 1;\n&nbsp; filter: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj .puulPV56uqMX9ozNpIwm .T5qX8SQASgSBYT_f9n0E svg {\n&nbsp; padding: 5px 10px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button {\n&nbsp; margin-left: var(--mwai-spacing);\n&nbsp; padding: 5px 15px;\n&nbsp; background-color: var(--mwai-backgroundUserColor);\n&nbsp; color: white;\n&nbsp; border: none;\n&nbsp; border-radius: var(--mwai-borderRadius);\n&nbsp; cursor: pointer;\n&nbsp; height: 32px;\n&nbsp; width: 110px;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button .Q0xqGDBOEyagc8uXx5DV {\n&nbsp; margin-left: 5px;\n&nbsp; margin-right: 5px;\n&nbsp; font-size: 11px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj button:hover {\n&nbsp; filter: brightness(1.2);\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled] {\n&nbsp; cursor: not-allowed;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled] span {\n&nbsp; opacity: 0.5;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled].RY9Q90iUrGOisGzgtLXR span {\n&nbsp; display: none;\n}\n\n.yAdyblrtoeLBR0jQpw50 button[disabled].RY9Q90iUrGOisGzgtLXR:before {\n&nbsp; content: '';\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin: auto;\n&nbsp; border: 3px solid transparent;\n&nbsp; border-top-color: var(--mwai-fontColor);\n&nbsp; border-radius: 50%;\n&nbsp; animation: kcxVvKjrfUjU3fcCEUwW 1s ease infinite;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xH6u22ybM6UxY6UZq9wL {\n&nbsp; opacity: 0.50;\n&nbsp; margin-top: calc( -1 * var(--mwai-spacing));\n&nbsp; padding: calc(var(--mwai-spacing) / 1.5) var(--mwai-spacing);\n&nbsp; font-size: smaller;\n&nbsp; color: var(--mwai-fontColor);\n&nbsp; text-align: left;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv {\n&nbsp; display: grid;\n&nbsp; grid-template-columns: repeat(3, 1fr);\n&nbsp; grid-gap: 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .Ek1v6SpIgQDHpWd9RoOv img {\n&nbsp; width: 100%;\n}\n\n.g9XrXMpQH3afixCzXMWD img {\n&nbsp; max-width: 100%;\n}\n\n.P6TcWInHsZqb3Yw9izPm {\n&nbsp; position: absolute;\n&nbsp; right: 0;\n&nbsp; bottom: 0;\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; z-index: 9999;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; align-items: end;\n}\n\n.P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n&nbsp; background: var(--mwai-iconTextBackgroundColor);\n&nbsp; color: var(--mwai-iconTextColor);\n&nbsp; max-width: 200px;\n&nbsp; font-size: 13px;\n&nbsp; margin-bottom: 15px;\n&nbsp; padding: 5px 10px;\n&nbsp; border-radius: 8px;\n}\n\n.P6TcWInHsZqb3Yw9izPm img {\n&nbsp; filter: drop-shadow(0px 0px 15px rgba(0, 0, 0, 0.15));\n}\n\n.P6TcWInHsZqb3Yw9izPm:hover {\n&nbsp; cursor: pointer;\n&nbsp; filter: saturate(2.5) hue-rotate(5deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 {\n&nbsp; position: fixed;\n&nbsp; right: 30px;\n&nbsp; bottom: 30px;\n&nbsp; width: var(--mwai-width);\n&nbsp; z-index: 9999;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV {\n&nbsp; display: none;\n&nbsp; justify-content: flex-end;\n&nbsp; align-items: center;\n&nbsp; border-radius: var(--mwai-borderRadius) var(--mwai-borderRadius) 0 0;\n&nbsp; background: var(--mwai-backgroundHeaderColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n&nbsp; display: flex;\n&nbsp; align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 22px;\n&nbsp; cursor: pointer;\n&nbsp; display: flex;\n&nbsp; justify-content: center;\n&nbsp; align-items: center;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 13px;\n&nbsp; width: 13px;\n&nbsp; border: 1px solid var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw {\n&nbsp; justify-content: center;\n&nbsp; height: 32px;\n&nbsp; width: 33px;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n&nbsp; transition: all 0.2s ease-out;\n&nbsp; transform: translate(16px, 5px) rotate(-45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:before, .keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:after {\n&nbsp; content: ' ';\n&nbsp; cursor: pointer;\n&nbsp; position: absolute;\n&nbsp; height: 22px;\n&nbsp; width: 1px;\n&nbsp; background-color: var(--mwai-headerButtonsColor);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:before {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(135deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .SDjNHcRvmNBYlGvVIqpw:hover:after {\n&nbsp; opacity: 1;\n&nbsp; transform: translate(16px, 5px) rotate(45deg);\n}\n\n.keao6Pc78Z5oHVQWtY99 .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: none;\n&nbsp; opacity: 0;\n&nbsp; max-height: var(--mwai-maxHeight);\n&nbsp; border-radius: 0 0 var(--mwai-borderRadius) var(--mwai-borderRadius);\n&nbsp; overflow: hidden;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY {\n&nbsp; bottom: 30px;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe {\n&nbsp; top: 30px;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 30px;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n&nbsp; top: 0;\n&nbsp; bottom: inherit;\n&nbsp; right: inherit;\n&nbsp; left: 0;\n}\n\n.keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.tVArsR0xkv3lOdQxAOIY .P6TcWInHsZqb3Yw9izPm {\n&nbsp; align-items: flex-start;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm {\n&nbsp; flex-direction: column-reverse;\n}\n\n.keao6Pc78Z5oHVQWtY99.iufdbptCdiEfK8YvcpMK .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM, .keao6Pc78Z5oHVQWtY99.M01s0OrVIyRcjgmpfAJe .P6TcWInHsZqb3Yw9izPm .JXp_cuKGU6bcchnY6DHM {\n&nbsp; margin-bottom: 0;\n&nbsp; margin-top: 15px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN {\n&nbsp; margin-bottom: 0px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:before {\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n}\n\n.keao6Pc78Z5oHVQWtY99.jkzTuixmBwVu89_bt_46 .EFYD0gYrcn2YeXJRD0WV .uMRxh8i5ZvhvTfLMVWcN .CHPyUOyEp_j91BCBin8u:hover:before {\n&nbsp; width: 13px;\n&nbsp; height: 13px;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99), .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n&nbsp; position: fixed;\n&nbsp; left: 0 !important;\n&nbsp; right: 0 !important;\n&nbsp; bottom: 0 !important;\n&nbsp; top: 0 !important;\n&nbsp; width: inherit;\n&nbsp; height: inherit;\n&nbsp; max-height: inherit;\n&nbsp; max-width: inherit;\n&nbsp; display: flex;\n&nbsp; flex-direction: column;\n&nbsp; margin: 0;\n&nbsp; z-index: 999999;\n&nbsp; background-color: var(--mwai-backgroundSecondaryColor);\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; height: 100%;\n&nbsp; max-height: inherit;\n}\n\n.jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99) .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5, .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 .ichONrqIibIDVVVhDor5 {\n&nbsp; flex: auto;\n&nbsp; max-height: none;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .EFYD0gYrcn2YeXJRD0WV {\n&nbsp; display: flex;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .zkhI8eZp8yg4BwXhijY1 {\n&nbsp; display: flex;\n&nbsp; transition: opacity 200ms ease-in-out 0s;\n&nbsp; opacity: 1;\n}\n\n.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP .P6TcWInHsZqb3Yw9izPm {\n&nbsp; display: none;\n}\n\n.zDfyMxj0yGdsNteB9YAO {\n&nbsp; margin: var(--mwai-spacing);\n&nbsp; color: white;\n&nbsp; background: rgba(180, 55, 55, 0.55);\n&nbsp; padding: var(--mwai-spacing);\n&nbsp; border-radius: var(--mwai-borderRadius);\n}\n\n.zDfyMxj0yGdsNteB9YAO:hover {\n&nbsp; cursor: pointer;\n&nbsp; background: rgba(180, 44, 44, 0.85);\n}\n\n@keyframes kcxVvKjrfUjU3fcCEUwW {\n&nbsp; from {\n&nbsp; &nbsp; transform: rotate(0turn);\n&nbsp; }\n&nbsp; to {\n&nbsp; &nbsp; transform: rotate(1turn);\n&nbsp; }\n}\n\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46:not(.keao6Pc78Z5oHVQWtY99),\n.pmB9tbhLYWFLYDumAv2h .jkzTuixmBwVu89_bt_46.keao6Pc78Z5oHVQWtY99.NAGMlVFptiqhjxViA0KP {\n&nbsp; top: 32px;\n}\n\n@media (max-width: 760px) {\n&nbsp; .yAdyblrtoeLBR0jQpw50.keao6Pc78Z5oHVQWtY99 {\n&nbsp; &nbsp; width: calc(100% - 40px);\n&nbsp; &nbsp; z-index: 9999999999;\n&nbsp; }\n&nbsp; .yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n&nbsp; .yAdyblrtoeLBR0jQpw50 .mwCGHr8abHQqvLOrnOHj {\n&nbsp; &nbsp; flex-direction: column;\n&nbsp; }\n}\n\n.TAnzuJcUIsixvTVM25tX {\n&nbsp; opacity: 0;\n&nbsp; transition: all 0.3s ease-out;\n&nbsp; width: 22px;\n&nbsp; height: 22px;\n&nbsp; position: absolute;\n&nbsp; right: var(--mwai-spacing);\n}\n\n.TAnzuJcUIsixvTVM25tX .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 0px;\n&nbsp; background: white;\n&nbsp; opacity: 0.4;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX .N46y7rqrhy2tzzzomY5d {\n&nbsp; position: absolute;\n&nbsp; width: 16px;\n&nbsp; height: 16px;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 6px;\n&nbsp; background: white;\n&nbsp; opacity: 0.6;\n&nbsp; transition: all 0.2s ease-in;\n&nbsp; cursor: pointer;\n&nbsp; border-radius: 2px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; opacity: 0.6;\n&nbsp; margin-top: 0px;\n&nbsp; margin-left: 6px;\n}\n\n.TAnzuJcUIsixvTVM25tX:hover .N46y7rqrhy2tzzzomY5d {\n&nbsp; opacity: 1;\n&nbsp; margin-top: 6px;\n&nbsp; margin-left: 0px;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .Jz1WxIOi9me2FSDpOAIV {\n&nbsp; opacity: 0;\n}\n\n.TAnzuJcUIsixvTVM25tX.ALG12GB3CG3CRfJF2Qoa .N46y7rqrhy2tzzzomY5d {\n&nbsp; width: 18px;\n&nbsp; height: 18px;\n&nbsp; margin-top: 2px;\n&nbsp; margin-left: 2px;\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 .XLY_VCZMFRIbTEVL1rvY:hover .TAnzuJcUIsixvTVM25tX {\n&nbsp; display: block;\n&nbsp; opacity: 1;\n}\n\n.yAdyblrtoeLBR0jQpw50 pre code.K9oFUDNcGmB0ATgNV0ST {\n&nbsp; display: block;\n&nbsp; overflow-x: auto;\n&nbsp; padding: 1em;\n}\n\n.yAdyblrtoeLBR0jQpw50 code.K9oFUDNcGmB0ATgNV0ST {\n&nbsp; padding: 3px 5px;\n}\n\n.yAdyblrtoeLBR0jQpw50 .K9oFUDNcGmB0ATgNV0ST {\n&nbsp; color: #333;\n&nbsp; background: #f0f0f0;\n}\n\n.yAdyblrtoeLBR0jQpw50 .lLt71LeUCI2dLUCgq7AU {\n&nbsp; color: #333;\n}\n\n.yAdyblrtoeLBR0jQpw50 .HA402qGMSWKG4t0EGzdg {\n&nbsp; color: #888;\n}\n\n.yAdyblrtoeLBR0jQpw50 .cQpLwIZKjny07jYmPo3p, .yAdyblrtoeLBR0jQpw50 .Jxhy79a1SNFyXENuzjDg, .yAdyblrtoeLBR0jQpw50 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .syxmeAMp2BfjAjNiX_gU, .yAdyblrtoeLBR0jQpw50 .AfTHR4GhdOoWBx0RjPpl, .yAdyblrtoeLBR0jQpw50 .lrvGhnwjfdsrj9rsMU11 {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .gdno_EWs27fV8wEOLX1t {\n&nbsp; color: #aa3377;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RtZMlFmUr2KdIWYGzgo6, .yAdyblrtoeLBR0jQpw50 .zAA51c5xsauvaWSsFnYs, .yAdyblrtoeLBR0jQpw50 .CkiNwidxkM1TX2hVifdR, .yAdyblrtoeLBR0jQpw50 .AS6L1vDJK9hqn1N__Q8O, .yAdyblrtoeLBR0jQpw50 .UTeoKTnCxYuD6cwP7DSI, .yAdyblrtoeLBR0jQpw50 .R1Ll1bIkZrDNqdGKzu7N {\n&nbsp; color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .C2E3Mf1LGY1Y17x_MXkw {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .ghxUruKjSSgGnkeQ_C47, .yAdyblrtoeLBR0jQpw50 .EHXSSqQDbJEbZMJpLqhJ, .yAdyblrtoeLBR0jQpw50 .tQiSja56rZjMGu4OzUoP, .yAdyblrtoeLBR0jQpw50 .yymbCWSJXq5zvavvp5yI, .yAdyblrtoeLBR0jQpw50 .dll7uWpUdCjDgQ9sB6KR, .yAdyblrtoeLBR0jQpw50 .HmzLYjzX4cozkpDASneB, .yAdyblrtoeLBR0jQpw50 .j_jSbYBzKPLq_4Nt9J7U {\n&nbsp; color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4, .yAdyblrtoeLBR0jQpw50 .iehdPIMlAfBLVSBYRV7K {\n&nbsp; color: #0077cc;\n}\n\n.yAdyblrtoeLBR0jQpw50 .bICYT9lOoJSdToKxDmES, .yAdyblrtoeLBR0jQpw50 .pzRTlYK3lcIcDR5xk8lD, .yAdyblrtoeLBR0jQpw50 .wHpd9fy4uE7OShmwbe_t {\n&nbsp; color: #c18401;\n}\n\n.yAdyblrtoeLBR0jQpw50 .qVWXajM2t2YLr9MdtqMm, .yAdyblrtoeLBR0jQpw50 .aojzfjvK10eMBfggXtoE {\n&nbsp; color: #555;\n}\n\n.yAdyblrtoeLBR0jQpw50 .veUanKogf43u6_65Zvn4 .yymbCWSJXq5zvavvp5yI {\n&nbsp; color: #689700;\n}\n\n.yAdyblrtoeLBR0jQpw50 .rRaTdGI_iyoXk18A5qYs {\n&nbsp; color: #b71c1c;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xYEkcugANxMOMJKtEsca {\n&nbsp; color: #1b5e20;\n}\n\n.yAdyblrtoeLBR0jQpw50 .xjpyawH646564Y2wahS4 {\n&nbsp; font-style: italic;\n}\n\n.yAdyblrtoeLBR0jQpw50 .RMtGZ3SVSmv3CK3csAch {\n&nbsp; font-weight: 700;\n}\n\n.TAnzuJcUIsixvTVM25tX {\n&nbsp; position: absolute;\n&nbsp; left: 15px;\n&nbsp; zoom: 0.5;\n&nbsp; top: 18px;\n&nbsp; filter: revert;\n}\n\n.NQtBPR0S0WX0SVKcVj1w .TAnzuJcUIsixvTVM25tX {\n&nbsp; right: 15px;\n&nbsp; left: inherit;\n&nbsp; filter: brightness(0.4);\n}\n",""]),i.locals={"mwai-chat":"yAdyblrtoeLBR0jQpw50","mwai-content":"zkhI8eZp8yg4BwXhijY1","mwai-conversation":"ichONrqIibIDVVVhDor5","mwai-reply":"XLY_VCZMFRIbTEVL1rvY","mwai-name":"iNYH5nYgNZAe4RXsoGlM","mwai-name-text":"YrCYLibUvvIBdWDUNfm0","mwai-ai":"NQtBPR0S0WX0SVKcVj1w","mwai-user":"_fj65BIE29IpCwq2fEp4","mwai-text":"g9XrXMpQH3afixCzXMWD","mwai-typewriter":"tiqvZ2tbFuTxjFtwFMny","mwai-avatar":"kpvcOwh9XehTKS0BEnBZ","mwai-input":"mwCGHr8abHQqvLOrnOHj","mwai-input-text":"puulPV56uqMX9ozNpIwm","mwai-microphone":"T5qX8SQASgSBYT_f9n0E","mwai-file-upload":"aic0R2G3dOW1FVu7bBPQ",enabled:"SRrSUq0OFU6GUhaNh6U5","mwai-timer":"Q0xqGDBOEyagc8uXx5DV","mwai-busy":"RY9Q90iUrGOisGzgtLXR","mwai-button-spinner":"kcxVvKjrfUjU3fcCEUwW","mwai-compliance":"xH6u22ybM6UxY6UZq9wL","mwai-gallery":"Ek1v6SpIgQDHpWd9RoOv","mwai-open-button":"P6TcWInHsZqb3Yw9izPm","mwai-icon-text":"JXp_cuKGU6bcchnY6DHM","mwai-window":"keao6Pc78Z5oHVQWtY99","mwai-header":"EFYD0gYrcn2YeXJRD0WV","mwai-buttons":"uMRxh8i5ZvhvTfLMVWcN","mwai-resize-button":"CHPyUOyEp_j91BCBin8u","mwai-close-button":"SDjNHcRvmNBYlGvVIqpw","mwai-bottom-left":"tVArsR0xkv3lOdQxAOIY","mwai-top-right":"iufdbptCdiEfK8YvcpMK","mwai-top-left":"M01s0OrVIyRcjgmpfAJe","mwai-fullscreen":"jkzTuixmBwVu89_bt_46","mwai-open":"NAGMlVFptiqhjxViA0KP","mwai-error":"zDfyMxj0yGdsNteB9YAO","admin-bar":"pmB9tbhLYWFLYDumAv2h","mwai-copy-button":"TAnzuJcUIsixvTVM25tX","mwai-copy-button-one":"Jz1WxIOi9me2FSDpOAIV","mwai-copy-button-two":"N46y7rqrhy2tzzzomY5d","mwai-animate":"ALG12GB3CG3CRfJF2Qoa",hljs:"K9oFUDNcGmB0ATgNV0ST","hljs-subst":"lLt71LeUCI2dLUCgq7AU","hljs-comment":"HA402qGMSWKG4t0EGzdg","hljs-attr":"cQpLwIZKjny07jYmPo3p","hljs-doctag":"Jxhy79a1SNFyXENuzjDg","hljs-keyword":"syxmeAMp2BfjAjNiX_gU","hljs-meta":"veUanKogf43u6_65Zvn4","hljs-section":"AfTHR4GhdOoWBx0RjPpl","hljs-selector-tag":"lrvGhnwjfdsrj9rsMU11","hljs-attribute":"gdno_EWs27fV8wEOLX1t","hljs-name":"RtZMlFmUr2KdIWYGzgo6","hljs-number":"zAA51c5xsauvaWSsFnYs","hljs-quote":"CkiNwidxkM1TX2hVifdR","hljs-selector-id":"AS6L1vDJK9hqn1N__Q8O","hljs-template-tag":"UTeoKTnCxYuD6cwP7DSI","hljs-type":"R1Ll1bIkZrDNqdGKzu7N","hljs-selector-class":"C2E3Mf1LGY1Y17x_MXkw","hljs-link":"ghxUruKjSSgGnkeQ_C47","hljs-regexp":"EHXSSqQDbJEbZMJpLqhJ","hljs-selector-attr":"tQiSja56rZjMGu4OzUoP","hljs-string":"yymbCWSJXq5zvavvp5yI","hljs-symbol":"dll7uWpUdCjDgQ9sB6KR","hljs-template-variable":"HmzLYjzX4cozkpDASneB","hljs-variable":"j_jSbYBzKPLq_4Nt9J7U","hljs-selector-pseudo":"iehdPIMlAfBLVSBYRV7K","hljs-built_in":"bICYT9lOoJSdToKxDmES","hljs-literal":"pzRTlYK3lcIcDR5xk8lD","hljs-title":"wHpd9fy4uE7OShmwbe_t","hljs-bullet":"qVWXajM2t2YLr9MdtqMm","hljs-code":"aojzfjvK10eMBfggXtoE","hljs-deletion":"rRaTdGI_iyoXk18A5qYs","hljs-addition":"xYEkcugANxMOMJKtEsca","hljs-emphasis":"xjpyawH646564Y2wahS4","hljs-strong":"RMtGZ3SVSmv3CK3csAch"};const l=i},7363:e=&gt;{e.exports=React},1533:e=&gt;{e.exports=ReactDOM}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.amdO={},e=[],r.O=(t,n,a,o)=&gt;{if(!n){var i=1/0;for(s=0;s&lt;e.length;s++){for(var[n,a,o]=e[s],l=!0,c=0;c&lt;n.length;c++)(!1&amp;o||i&gt;=o)&amp;&amp;Object.keys(r.O).every((e=&gt;r.O[e](n[c])))?n.splice(c--,1):(l=!1,o&lt;i&amp;&amp;(i=o));if(l){e.splice(s--,1);var u=a();void 0!==u&amp;&amp;(t=u)}}return t}o=o||0;for(var s=e.length;s&gt;0&amp;&amp;e[s-1][2]&gt;o;s--)e[s]=e[s-1];e[s]=[n,a,o]},r.n=e=&gt;{var t=e&amp;&amp;e.__esModule?()=&gt;e.default:()=&gt;e;return r.d(t,{a:t}),t},r.d=(e,t)=&gt;{for(var n in t)r.o(t,n)&amp;&amp;!r.o(e,n)&amp;&amp;Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=&gt;Object.prototype.hasOwnProperty.call(e,t),r.r=e=&gt;{"undefined"!=typeof Symbol&amp;&amp;Symbol.toStringTag&amp;&amp;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=&gt;{var e={826:0};r.O.j=t=&gt;0===e[t];var t=(t,n)=&gt;{var a,o,[i,l,c]=n,u=0;if(i.some((t=&gt;0!==e[t]))){for(a in l)r.o(l,a)&amp;&amp;(r.m[a]=l[a]);if(c)var s=c(r)}for(t&amp;&amp;t(n);u&lt;i.length;u++)o=i[u],r.o(e,o)&amp;&amp;e[o]&amp;&amp;e[o][0](),e[o]=0;return r.O(s)},n=self.wpJsonMwai=self.wpJsonMwai||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var a=r.O(void 0,[736],(()=&gt;r(7460)));a=r.O(a)})();</span></td>
                      </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file3">
          <a href="/changeset/3043570/ai-engine/trunk/classes/api.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/api.php">ai-engine/trunk/classes/api.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3024369">
                    <a title="Show revision 3024369 of this file in browser" href="/browser/ai-engine/trunk/classes/api.php?rev=3024369#L5">
                      r3024369</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/api.php?rev=3043570#L5">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>5</th><th>5</th><td class="l"><span>&nbsp; &nbsp; private $chatbot_module;</span></td>
                  </tr><tr>
                          <th>6</th><th>6</th><td class="l"><span>&nbsp; &nbsp; private $discussions_module;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>7</th><td class="r"><ins>&nbsp; &nbsp; private $bearer_token;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>7</th><th>8</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>8</th><th>9</th><td class="l"><span>&nbsp; &nbsp; public function __construct( $chatbot_module, $discussions_module ) {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3024369#L11">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3043570#L12">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>11</th><th>12</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;chatbot_module = $chatbot_module;</span></td>
                  </tr><tr>
                          <th>12</th><th>13</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;discussions_module = $discussions_module;</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>13</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_action( 'rest_api_init', <del>array( $this, 'rest_api_init' )</del> );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>14</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_action( 'rest_api_init', <ins>[ $this, 'rest_api_init' ]</ins> );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>14</th><th>15</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>15</th><th>16</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3024369#L17">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3043570#L18">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>17</th><th>18</th><td class="l"><span>&nbsp; &nbsp; function rest_api_init() {</span></td>
                  </tr><tr>
                          <th>18</th><th>19</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $public_api = $this-&gt;core-&gt;get_option( 'public_api' );</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>19</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !$public_api ) {</span></td>
                      </tr><tr>
                        <th>20</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>20</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !$public_api ) { return; }</span></td>
                      </tr><tr>
                        <th> </th><th>21</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;bearer_token = $this-&gt;core-&gt;get_option( 'public_api_bearer_token' );</span></td>
                      </tr><tr>
                        <th> </th><th>22</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $this-&gt;bearer_token ) ) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>23</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; add_filter( 'mwai_allow_public_api', [ $this, 'auth_via_bearer_token' ], 10, 3 );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>21</th><th>24</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>22</th><th>25</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3024369#L90">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/api.php?rev=3043570#L93">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>90</th><th>93</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>91</th><th>94</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>95</th><td class="r"><ins>&nbsp; &nbsp; public function auth_via_bearer_token( $allow, $feature, $extra ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>96</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $extra ) &amp;&amp; !empty( $extra-&gt;get_header( 'Authorization' ) ) ) {&nbsp; &nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>97</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $token = $extra-&gt;get_header( 'Authorization' );</ins></td>
                  </tr><tr>
                          <th> </th><th>98</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $token = str_replace( 'Bearer ', '', $token );</ins></td>
                  </tr><tr>
                          <th> </th><th>99</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $token === $this-&gt;bearer_token ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>100</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // We set the current user to the first admin.</ins></td>
                  </tr><tr>
                          <th> </th><th>101</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $admin = $this-&gt;core-&gt;get_admin_user();</ins></td>
                  </tr><tr>
                          <th> </th><th>102</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wp_set_current_user( $admin-&gt;ID, $admin-&gt;user_login );</ins></td>
                  </tr><tr>
                          <th> </th><th>103</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;</ins></td>
                  </tr><tr>
                          <th> </th><th>104</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>105</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>106</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return $allow;</ins></td>
                  </tr><tr>
                          <th> </th><th>107</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>108</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>92</th><th>109</th><td class="l"><span>&nbsp; &nbsp; public function rest_simpleChatbotQuery( $request ) {</span></td>
                  </tr><tr>
                          <th>93</th><th>110</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; try {</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file4">
          <a href="/changeset/3043570/ai-engine/trunk/classes/core.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/core.php">ai-engine/trunk/classes/core.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3031098">
                    <a title="Show revision 3031098 of this file in browser" href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L17">
                      r3031098</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L17">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>17</th><th>17</th><td class="l"><span>&nbsp; &nbsp; public $site_url = null;</span></td>
                  </tr><tr>
                          <th>18</th><th>18</th><td class="l"><span>&nbsp; &nbsp; public $files = null;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>19</th><td class="r"><ins>&nbsp; &nbsp; public $tasks = null;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>19</th><th>20</th><td class="l"><span>&nbsp; &nbsp; private $option_name = 'mwai_options';</span></td>
                  </tr><tr>
                          <th>20</th><th>21</th><td class="l"><span>&nbsp; &nbsp; private $themes_option_name = 'mwai_themes';</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L30">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L31">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>30</th><th>31</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;is_cli = defined( 'WP_CLI' );</span></td>
                  </tr><tr>
                          <th>31</th><th>32</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;files = new Meow_MWAI_Modules_Files( $this );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="last first">
                          <th> </th><th>33</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;tasks = new Meow_MWAI_Modules_Tasks( $this );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>32</th><th>34</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>33</th><th>35</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; add_action( 'plugins_loaded', array( $this, 'init' ) );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L354">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L356">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>354</th><th>356</th><td class="l"><span>&nbsp; &nbsp; // Get the UserID from the data, or from the current user</span></td>
                  </tr><tr>
                          <th>355</th><th>357</th><td class="l"><span>&nbsp; function get_user_id( $data = null ) {</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>358</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; // TODO: Not sure if that's the best way, but we should probably use an admin user as a fallback for CRON.</ins></td>
                  </tr><tr>
                          <th> </th><th>359</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( defined( 'DOING_CRON' ) &amp;&amp; DOING_CRON ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>360</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $admin = get_users( [ 'role' =&gt; 'administrator' ] );</ins></td>
                  </tr><tr>
                          <th> </th><th>361</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $admin ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>362</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $admin[0]-&gt;ID;</ins></td>
                  </tr><tr>
                          <th> </th><th>363</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>364</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>356</th><th>365</th><td class="l"><span>&nbsp; &nbsp; if ( isset( $data ) &amp;&amp; isset( $data['userId'] ) ) {</span></td>
                  </tr><tr>
                          <th>357</th><th>366</th><td class="l"><span>&nbsp; &nbsp; &nbsp; return (int)$data['userId'];</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L365">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L374">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>365</th><th>374</th><td class="l"><span>&nbsp; &nbsp; return null;</span></td>
                  </tr><tr>
                          <th>366</th><th>375</th><td class="l"><span>&nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>376</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>377</th><td class="r"><ins>&nbsp; &nbsp; function get_admin_user() {</ins></td>
                  </tr><tr>
                          <th> </th><th>378</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $admin = get_users( [ 'role' =&gt; 'administrator' ] );</ins></td>
                  </tr><tr>
                          <th> </th><th>379</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( !empty( $admin ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>380</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return $admin[0];</ins></td>
                  </tr><tr>
                          <th> </th><th>381</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>382</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; return null;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>383</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>367</th><th>384</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>368</th><th>385</th><td class="l"><span>&nbsp; &nbsp; function get_user_data() {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L419">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L436">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>419</th><th>436</th><td class="l"><span>&nbsp; &nbsp; public function check_rest_nonce( $request ) {</span></td>
                  </tr><tr>
                          <th>420</th><th>437</th><td class="l"><span>&nbsp; &nbsp; $nonce = $request-&gt;get_header( 'X-WP-Nonce' );</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>421</th><th> </th><td class="l"><span>&nbsp; &nbsp; return wp_verify_nonce( $nonce, 'wp_rest' );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>438</th><td class="r"><span>&nbsp; &nbsp; $rest_nonce = wp_verify_nonce( $nonce, 'wp_rest' );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>439</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; return apply_filters( 'mwai_rest_authorized', $rest_nonce, $request );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>422</th><th>440</th><td class="l"><span>&nbsp; }</span></td>
                  </tr><tr>
                          <th>423</th><th>441</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L472">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L490">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>472</th><th>490</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>473</th><th>491</th><td class="l"><span>&nbsp; &nbsp; function get_post( $post ) {</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>492</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( is_numeric( $post ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>493</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post = get_post( $post );</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>494</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>474</th><th>495</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( is_object( $post ) ) {</span></td>
                  </tr><tr>
                          <th>475</th><th>496</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $post = (array)$post;</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>497</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>498</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( !is_array( $post ) ) {</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>499</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>476</th><th>500</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>477</th><th>501</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $language = $this-&gt;get_post_language( $post['ID'] );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3031098#L482">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/core.php?rev=3043570#L506">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>482</th><th>506</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $checksum = wp_hash( $content . $title . $url );</span></td>
                  </tr><tr>
                          <th>483</th><th>507</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return [</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>484</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'postId' =&gt; <del></del>$post['ID'],</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>508</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'postId' =&gt; <ins>(int)</ins>$post['ID'],</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>485</th><th>509</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'title' =&gt; $title,</span></td>
                  </tr><tr>
                          <th>486</th><th>510</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'content' =&gt; $content,</span></td>
                  </tr><tr>
                          <th>487</th><th>511</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'excerpt' =&gt; $excerpt,</span></td>
                  </tr><tr>
                          <th>488</th><th>512</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'url' =&gt; $url,</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>489</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'language' =&gt; $language<del></del>,</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>513</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'language' =&gt; $language<ins>&nbsp;?? 'english'</ins>,</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>490</th><th>514</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'checksum' =&gt; $checksum,</span></td>
                  </tr><tr>
                          <th>491</th><th>515</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; ];</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file5">
          <a href="/changeset/3043570/ai-engine/trunk/classes/engines/factory.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/engines/factory.php">ai-engine/trunk/classes/engines/factory.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/factory.php?rev=3040480#L70">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/factory.php?rev=3043570#L70">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>70</th><th>70</th><td class="l"><span>&nbsp; &nbsp; &nbsp; return $engine;</span></td>
                  </tr><tr>
                          <th>71</th><th>71</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>72</th><td class="r"><ins>&nbsp; &nbsp; else if ( $env['type'] === 'huggingface' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>73</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $engine = new Meow_MWAI_Engines_HuggingFace( $core, $env );</ins></td>
                  </tr><tr>
                          <th> </th><th>74</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $engine;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>75</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>72</th><th>76</th><td class="l"><span>&nbsp; &nbsp; throw new Exception( "AI Engine: Unknown engine type ({$env['type']})." );</span></td>
                  </tr><tr>
                          <th>73</th><th>77</th><td class="l"><span>&nbsp; }</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file6">
          <a href="/changeset/3043570/ai-engine/trunk/classes/engines/google.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/engines/google.php">ai-engine/trunk/classes/engines/google.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/google.php?rev=3040480#L38">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/google.php?rev=3043570#L38">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>38</th><th>38</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>39</th><th>39</th><td class="l"><span>&nbsp; &nbsp; &nbsp; // Generative Language API (less issues with auth)</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>40</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;endpoint = apply_filters( 'mwai_google_endpoint', "https://generativelanguage.googleapis.com/v<del>2</del>", $this-&gt;env );</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>40</th><td class="r"><span>&nbsp; &nbsp; &nbsp; $this-&gt;endpoint = apply_filters( 'mwai_google_endpoint', "https://generativelanguage.googleapis.com/v<ins>1</ins>", $this-&gt;env );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>41</th><th>41</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>42</th><th>42</th><td class="l"><span>&nbsp; &nbsp; else {</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file8">
          <a href="/changeset/3043570/ai-engine/trunk/classes/engines/openai.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/engines/openai.php">ai-engine/trunk/classes/engines/openai.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L5">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L5">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>5</th><th>5</th><td class="l"><span>&nbsp; // Base (OpenAI)</span></td>
                  </tr><tr>
                          <th>6</th><th>6</th><td class="l"><span>&nbsp; protected $apiKey = null;</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="last first">
                          <th>7</th><th> </th><td class="l"><del>&nbsp; protected $endpoint = null;</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>8</th><th>7</th><td class="l"><span>&nbsp; protected $organizationId = null;</span></td>
                  </tr><tr>
                          <th>9</th><th>8</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L32">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L31">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>32</th><th>31</th><td class="l"><span>&nbsp; &nbsp; $env = $this-&gt;env;</span></td>
                  </tr><tr>
                          <th>33</th><th>32</th><td class="l"><span>&nbsp; &nbsp; $this-&gt;apiKey = $env['apikey'];</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>34</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $this-&gt;envType === 'openai' ) {</span></td>
                      </tr><tr>
                        <th>35</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;endpoint = apply_filters( 'mwai_openai_endpoint', 'https://api.openai.com/v1', $this-&gt;env );</span></td>
                      </tr><tr>
                        <th>36</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;organizationId = isset( $env['organizationId'] ) ? $env['organizationId'] : null;</span></td>
                      </tr><tr>
                        <th>37</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>38</th><th> </th><td class="l"><span>&nbsp; &nbsp; else if ( $this-&gt;envType === 'azure' ) {</span></td>
                      </tr><tr>
                        <th>39</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;endpoint = isset( $env['endpoint'] ) ? $env['endpoint'] : null;</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>33</th><td class="r"><span>&nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>40</th><th>34</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;azureDeployments = isset( $env['deployments'] ) ? $env['deployments'] : [];</span></td>
                  </tr><tr>
                          <th>41</th><th>35</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;azureDeployments[] = [ 'model' =&gt; 'dall-e', 'name' =&gt; 'dall-e' ];</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>42</th><th> </th><td class="l"><del>&nbsp; &nbsp; }</del></td>
                  </tr><tr>
                          <th>43</th><th> </th><td class="l"><del>&nbsp; &nbsp; else {</del></td>
                  </tr><tr class="last">
                          <th>44</th><th> </th><td class="l"><del>&nbsp; &nbsp; &nbsp; throw new Exception( 'Unknown environment type: ' . $this-&gt;envType );</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>45</th><th>36</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>46</th><th>37</th><td class="l"><span>&nbsp; }</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L74">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L65">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>74</th><th>65</th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( isset( $json['error'] ) ) {</span></td>
                  </tr><tr>
                          <th>75</th><th>66</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $error = $json['error'];</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>76</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $code = $error['code'];</span></td>
                      </tr><tr>
                        <th>77</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $message = $error['message'];</span></td>
                      </tr><tr>
                        <th>78</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( "Error $code: $message" );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>67</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( isset( $error['message'] ) &amp;&amp; isset( $error['code'] ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>68</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $code = $error['code'];</span></td>
                      </tr><tr>
                        <th> </th><th>69</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $message = $error['message'];</span></td>
                      </tr><tr>
                        <th> </th><th>70</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( "Error $code: $message" );</span></td>
                      </tr><tr>
                        <th> </th><th>71</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th> </th><th>72</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( is_string( $error ) ) {</span></td>
                      </tr><tr>
                        <th> </th><th>73</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( "Error: $error" );</span></td>
                      </tr><tr>
                        <th> </th><th>74</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr class="last">
                        <th> </th><th>75</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( "Unknown error." );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>79</th><th>76</th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>80</th><th>77</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L190">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L187">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>190</th><th>187</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; continue;</span></td>
                  </tr><tr>
                          <th>191</th><th>188</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>192</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( strpos( $line, 'data:<del>&nbsp;</del>' ) === 0 ) {</span></td>
                      </tr><tr>
                        <th>193</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $line = substr( $line, <del>6</del> );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>189</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; if ( strpos( $line, 'data:<ins></ins>' ) === 0 ) {</span></td>
                      </tr><tr class="last">
                        <th> </th><th>190</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $line = substr( $line, <ins>5</ins> );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>194</th><th>191</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $json = json_decode( $line, true );</span></td>
                  </tr><tr>
                          <th>195</th><th>192</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L224">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L221">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>224</th><th>221</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>225</th><th>222</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>226</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $content !== null &amp;&amp; $content !== "" <del></del>) {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>223</th><td class="r"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( $content !== null &amp;&amp; $content !== "" <ins>&amp;&amp; $content !== "&lt;|im_end|&gt;" </ins>) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>227</th><th>224</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;streamContent .= $content;</span></td>
                  </tr><tr>
                          <th>228</th><th>225</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call_user_func( $this-&gt;streamCallback, $content );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L236">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L233">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>236</th><th>233</th><td class="l"><span>&nbsp; &nbsp; &nbsp; return $length;</span></td>
                  </tr><tr>
                          <th>237</th><th>234</th><td class="l"><span>&nbsp; &nbsp; });</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>235</th><td class="r"><ins>&nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>236</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>237</th><td class="r"><ins>&nbsp; protected function build_body( $query, $streamCallback = null ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>238</th><td class="r"><ins>&nbsp; &nbsp; if ( $query instanceof Meow_MWAI_Query_Text ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>239</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $body = array(</ins></td>
                  </tr><tr>
                          <th> </th><th>240</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "model" =&gt; $query-&gt;model,</ins></td>
                  </tr><tr>
                          <th> </th><th>241</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "n" =&gt; $query-&gt;maxResults,</ins></td>
                  </tr><tr>
                          <th> </th><th>242</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "max_tokens" =&gt; $query-&gt;maxTokens,</ins></td>
                  </tr><tr>
                          <th> </th><th>243</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "temperature" =&gt; $query-&gt;temperature,</ins></td>
                  </tr><tr>
                          <th> </th><th>244</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "stream" =&gt; !is_null( $streamCallback ),</ins></td>
                  </tr><tr>
                          <th> </th><th>245</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>246</th><td class="r"><ins>&nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>247</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( !empty( $query-&gt;stop ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>248</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['stop'] = $query-&gt;stop;</ins></td>
                  </tr><tr>
                          <th> </th><th>249</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>250</th><td class="r"><ins>&nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>251</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( !empty( $query-&gt;responseFormat ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>252</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( $query-&gt;responseFormat === 'json' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>253</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $body['response_format'] = [ 'type' =&gt; 'json_object' ];</ins></td>
                  </tr><tr>
                          <th> </th><th>254</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>255</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>256</th><td class="r"><ins>&nbsp; </ins></td>
                  </tr><tr>
                          <th> </th><th>257</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( !empty( $query-&gt;functions ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>258</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( strpos( $query-&gt;model, 'ft:' ) === 0 ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>259</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( 'OpenAI doesn\'t support Function Calling with fine-tuned models yet.' );</ins></td>
                  </tr><tr>
                          <th> </th><th>260</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>261</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['functions'] = $query-&gt;functions;</ins></td>
                  </tr><tr>
                          <th> </th><th>262</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['function_call'] = $query-&gt;functionCall;</ins></td>
                  </tr><tr>
                          <th> </th><th>263</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>264</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>265</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['messages'] = $this-&gt;build_messages( $query );</ins></td>
                  </tr><tr>
                          <th> </th><th>266</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>267</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; else if ( $query-&gt;mode === 'completion' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>268</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['prompt'] = $this-&gt;build_prompt( $query );</ins></td>
                  </tr><tr>
                          <th> </th><th>269</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>270</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $body;</ins></td>
                  </tr><tr>
                          <th> </th><th>271</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>272</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Transcribe ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>273</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $audioData = $this-&gt;get_audio( $query-&gt;url );</ins></td>
                  </tr><tr>
                          <th> </th><th>274</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $body = array( </ins></td>
                  </tr><tr>
                          <th> </th><th>275</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; 'prompt' =&gt; $query-&gt;message,</ins></td>
                  </tr><tr>
                          <th> </th><th>276</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; 'model' =&gt; $query-&gt;model,</ins></td>
                  </tr><tr>
                          <th> </th><th>277</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; 'response_format' =&gt; 'text',</ins></td>
                  </tr><tr>
                          <th> </th><th>278</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; 'file' =&gt; basename( $query-&gt;url ),</ins></td>
                  </tr><tr>
                          <th> </th><th>279</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; 'data' =&gt; $audioData['data']</ins></td>
                  </tr><tr>
                          <th> </th><th>280</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>281</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $body;</ins></td>
                  </tr><tr>
                          <th> </th><th>282</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>283</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Embed ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>284</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $body = array( 'input' =&gt; $query-&gt;message, 'model' =&gt; $query-&gt;model );</ins></td>
                  </tr><tr>
                          <th> </th><th>285</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>286</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body = array( "input" =&gt; $query-&gt;message );</ins></td>
                  </tr><tr>
                          <th> </th><th>287</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>288</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $body;</ins></td>
                  </tr><tr>
                          <th> </th><th>289</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>290</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Image ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>291</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $model = $query-&gt;model;</ins></td>
                  </tr><tr>
                          <th> </th><th>292</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $resolution = !empty( $query-&gt;resolution ) ? $query-&gt;resolution : '1024x1024';</ins></td>
                  </tr><tr>
                          <th> </th><th>293</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $body = array(</ins></td>
                  </tr><tr>
                          <th> </th><th>294</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "prompt" =&gt; $query-&gt;message,</ins></td>
                  </tr><tr>
                          <th> </th><th>295</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "n" =&gt; $query-&gt;maxResults,</ins></td>
                  </tr><tr>
                          <th> </th><th>296</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; "size" =&gt; $resolution,</ins></td>
                  </tr><tr>
                          <th> </th><th>297</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; );</ins></td>
                  </tr><tr>
                          <th> </th><th>298</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $model === 'dall-e-3' ) { </ins></td>
                  </tr><tr>
                          <th> </th><th>299</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['model'] = 'dall-e-3';</ins></td>
                  </tr><tr>
                          <th> </th><th>300</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>301</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $model === 'dall-e-3-hd' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>302</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['model'] = 'dall-e-3';</ins></td>
                  </tr><tr>
                          <th> </th><th>303</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['quality'] = 'hd';</ins></td>
                  </tr><tr>
                          <th> </th><th>304</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>305</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( !empty( $query-&gt;style ) &amp;&amp; strpos( $model, 'dall-e-3' ) === 0 ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>306</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $body['style'] = $query-&gt;style;</ins></td>
                  </tr><tr>
                          <th> </th><th>307</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>308</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $body;</ins></td>
                  </tr><tr>
                          <th> </th><th>309</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>310</th><td class="r"><ins>&nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>311</th><td class="r"><ins></ins></td>
                  </tr><tr>
                          <th> </th><th>312</th><td class="r"><ins>&nbsp; protected function build_url( $query, $endpoint = null ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>313</th><td class="r"><ins>&nbsp; &nbsp; $url = "";</ins></td>
                  </tr><tr>
                          <th> </th><th>314</th><td class="r"><ins>&nbsp; &nbsp; $env = $this-&gt;env;</ins></td>
                  </tr><tr>
                          <th> </th><th>315</th><td class="r"><ins>&nbsp; &nbsp; // This endpoint is basically OpenAI or Azure, but in the case this class</ins></td>
                  </tr><tr>
                          <th> </th><th>316</th><td class="r"><ins>&nbsp; &nbsp; // is overriden, we can pass the endpoint directly (for OpenRouter or HuggingFace, for example).</ins></td>
                  </tr><tr>
                          <th> </th><th>317</th><td class="r"><ins>&nbsp; &nbsp; if ( empty( $endpoint ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>318</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $this-&gt;envType === 'openai' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>319</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $endpoint = apply_filters( 'mwai_openai_endpoint', 'https://api.openai.com/v1', $this-&gt;env );</ins></td>
                  </tr><tr>
                          <th> </th><th>320</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;organizationId = isset( $env['organizationId'] ) ? $env['organizationId'] : null;</ins></td>
                  </tr><tr>
                          <th> </th><th>321</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>322</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; else if ( $this-&gt;envType === 'azure' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>323</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $endpoint = isset( $env['endpoint'] ) ? $env['endpoint'] : null;</ins></td>
                  </tr><tr>
                          <th> </th><th>324</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>325</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; else {</ins></td>
                  </tr><tr>
                          <th> </th><th>326</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( 'Endpoing is not defined, and this envType is not known: ' . $this-&gt;envType );</ins></td>
                  </tr><tr>
                          <th> </th><th>327</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>328</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>329</th><td class="r"><ins>&nbsp; &nbsp; // Add the base API to the URL</ins></td>
                  </tr><tr>
                          <th> </th><th>330</th><td class="r"><ins>&nbsp; &nbsp; if ( $query instanceof Meow_MWAI_Query_Text ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>331</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>332</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</ins></td>
                  </tr><tr>
                          <th> </th><th>333</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $url = trailingslashit( $endpoint ) . 'openai/deployments/' . $deployment_name;</ins></td>
                  </tr><tr>
                          <th> </th><th>334</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>335</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $url .= '/chat/completions?' . $this-&gt;azureApiVersion;</ins></td>
                  </tr><tr>
                          <th> </th><th>336</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>337</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; else if ($query-&gt;mode === 'completion') {</ins></td>
                  </tr><tr>
                          <th> </th><th>338</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $url .= '/completions?' . $this-&gt;azureApiVersion;</ins></td>
                  </tr><tr>
                          <th> </th><th>339</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>340</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>341</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; else {</ins></td>
                  </tr><tr>
                          <th> </th><th>342</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>343</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $url .= trailingslashit( $endpoint ) . 'chat/completions';</ins></td>
                  </tr><tr>
                          <th> </th><th>344</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>345</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; else if ( $query-&gt;mode === 'completion' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>346</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $url .= trailingslashit( $endpoint ) . 'completions';</ins></td>
                  </tr><tr>
                          <th> </th><th>347</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>348</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>349</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $url;</ins></td>
                  </tr><tr>
                          <th> </th><th>350</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>351</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Transcribe ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>352</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $modeEndpoint = $query-&gt;mode === 'translation' ? 'translations' : 'transcriptions';</ins></td>
                  </tr><tr>
                          <th> </th><th>353</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $url .= trailingslashit( $endpoint ) . 'audio/' . $modeEndpoint;</ins></td>
                  </tr><tr>
                          <th> </th><th>354</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $url;</ins></td>
                  </tr><tr>
                          <th> </th><th>355</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>356</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Embed ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>357</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $url .= trailingslashit( $endpoint ) . 'embeddings';</ins></td>
                  </tr><tr>
                          <th> </th><th>358</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>359</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</ins></td>
                  </tr><tr>
                          <th> </th><th>360</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $url = trailingslashit( $endpoint ) . 'openai/deployments/' .</ins></td>
                  </tr><tr>
                          <th> </th><th>361</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $deployment_name . '/embeddings?' . $this-&gt;azureApiVersion;</ins></td>
                  </tr><tr>
                          <th> </th><th>362</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>363</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $url;</ins></td>
                  </tr><tr>
                          <th> </th><th>364</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>365</th><td class="r"><ins>&nbsp; &nbsp; else if ( $query instanceof Meow_MWAI_Query_Image ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>366</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $url .= trailingslashit( $endpoint ) . 'images/generations';</ins></td>
                  </tr><tr>
                          <th> </th><th>367</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>368</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</ins></td>
                  </tr><tr>
                          <th> </th><th>369</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $url = trailingslashit( $endpoint ) . 'openai/deployments/' .</ins></td>
                  </tr><tr>
                          <th> </th><th>370</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $deployment_name . '/images/generations?' . $this-&gt;azureApiVersion;</ins></td>
                  </tr><tr>
                          <th> </th><th>371</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>372</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; return $url;</ins></td>
                  </tr><tr>
                          <th> </th><th>373</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>374</th><td class="r"><ins>&nbsp; &nbsp; throw new Exception( 'The query is not supported by build_url().' );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>238</th><th>375</th><td class="l"><span>&nbsp; }</span></td>
                  </tr><tr>
                          <th>239</th><th>376</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L290">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L427">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>290</th><th>427</th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>291</th><th>428</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>429</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $responseCode = wp_remote_retrieve_response_code( $res );</ins></td>
                  </tr><tr>
                          <th> </th><th>430</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $responseCode === 404 ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>431</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( 'The model\'s API URL was not found.' ); </ins></td>
                  </tr><tr>
                          <th> </th><th>432</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>433</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; if ( $responseCode === 400 ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>434</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; $message = wp_remote_retrieve_body( $res );</ins></td>
                  </tr><tr>
                          <th> </th><th>435</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $message ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>436</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $message = wp_remote_retrieve_response_message( $res );</ins></td>
                  </tr><tr>
                          <th> </th><th>437</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>438</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; if ( empty( $message ) ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>439</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $message = 'Bad Request';</ins></td>
                  </tr><tr>
                          <th> </th><th>440</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>441</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( $message );</ins></td>
                  </tr><tr>
                          <th> </th><th>442</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>443</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>292</th><th>444</th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( $isStream ) {</span></td>
                  </tr><tr>
                          <th>293</th><th>445</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; return [ 'stream' =&gt; true ]; </span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L331">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L483">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>331</th><th>483</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>332</th><th>484</th><td class="l"><span>&nbsp; public function run_transcribe_query( $query ) {</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>333</th><th> </th><td class="l"><del>&nbsp; &nbsp; $modeEndpoint = $query-&gt;mode === 'translation' ? 'translations' : 'transcriptions';</del></td>
                  </tr><tr>
                          <th>334</th><th> </th><td class="l"><del>&nbsp; &nbsp; $url = 'https://api.openai.com/v1/audio/' . $modeEndpoint;</del></td>
                  </tr><tr class="last">
                          <th>335</th><th> </th><td class="l"><del></del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>336</th><th>485</th><td class="l"><span>&nbsp; &nbsp; // Check if the URL is valid.</span></td>
                  </tr><tr>
                          <th>337</th><th>486</th><td class="l"><span>&nbsp; &nbsp; if ( !filter_var( $query-&gt;url, FILTER_VALIDATE_URL ) ) {</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L339">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L488">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>339</th><th>488</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>340</th><th>489</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>341</th><th> </th><td class="l"><span>&nbsp; &nbsp; $audioData = $this-&gt;get_audio( $query-&gt;url );</span></td>
                      </tr><tr>
                        <th>342</th><th> </th><td class="l"><span>&nbsp; &nbsp; $body = array( </span></td>
                      </tr><tr>
                        <th>343</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; 'prompt' =&gt; $query-&gt;message,</span></td>
                      </tr><tr>
                        <th>344</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; 'model' =&gt; $query-&gt;model,</span></td>
                      </tr><tr>
                        <th>345</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; 'response_format' =&gt; 'text',</span></td>
                      </tr><tr>
                        <th>346</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; 'file' =&gt; basename( $query-&gt;url ),</span></td>
                      </tr><tr>
                        <th>347</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; 'data' =&gt; $audioData['data']</span></td>
                      </tr><tr>
                        <th>348</th><th> </th><td class="l"><span>&nbsp; &nbsp; );</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>490</th><td class="r"><span>&nbsp; &nbsp; $body = $this-&gt;build_body( $query );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>491</th><td class="r"><span>&nbsp; &nbsp; $url = $this-&gt;build_url( $query );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>349</th><th>492</th><td class="l"><span>&nbsp; &nbsp; $headers = $this-&gt;build_headers( $query );</span></td>
                  </tr><tr>
                          <th>350</th><th>493</th><td class="l"><span>&nbsp; &nbsp; $options = $this-&gt;build_options( $headers, null, $body );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L372">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L515">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>372</th><th>515</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>373</th><th>516</th><td class="l"><span>&nbsp; public function run_embedding_query( $query ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>374</th><th> </th><td class="l"><span>&nbsp; &nbsp; $url = 'https://api.openai.com/v1/embeddings';</span></td>
                      </tr><tr>
                        <th>375</th><th> </th><td class="l"><span>&nbsp; &nbsp; $body = array( 'input' =&gt; $query-&gt;message, 'model' =&gt; $query-&gt;model );</span></td>
                      </tr><tr>
                        <th>376</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</span></td>
                      </tr><tr>
                        <th>377</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</span></td>
                      </tr><tr>
                        <th>378</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $url = trailingslashit( $this-&gt;endpoint ) . 'openai/deployments/' .</span></td>
                      </tr><tr>
                        <th>379</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $deployment_name . '/embeddings?' . $this-&gt;azureApiVersion;</span></td>
                      </tr><tr>
                        <th>380</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body = array( "input" =&gt; $query-&gt;message );</span></td>
                      </tr><tr>
                        <th>381</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>517</th><td class="r"><span>&nbsp; &nbsp; $body = $this-&gt;build_body( $query );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>518</th><td class="r"><span>&nbsp; &nbsp; $url = $this-&gt;build_url( $query );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>382</th><th>519</th><td class="l"><span>&nbsp; &nbsp; $headers = $this-&gt;build_headers( $query );</span></td>
                  </tr><tr>
                          <th>383</th><th>520</th><td class="l"><span>&nbsp; &nbsp; $options = $this-&gt;build_options( $headers, $body );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L412">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L549">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>412</th><th>549</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>413</th><th>550</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>414</th><th> </th><td class="l"><span>&nbsp; &nbsp; $body = array(</span></td>
                      </tr><tr>
                        <th>415</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "model" =&gt; $query-&gt;model,</span></td>
                      </tr><tr>
                        <th>416</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "n" =&gt; $query-&gt;maxResults,</span></td>
                      </tr><tr>
                        <th>417</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "max_tokens" =&gt; $query-&gt;maxTokens,</span></td>
                      </tr><tr>
                        <th>418</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "temperature" =&gt; $query-&gt;temperature,</span></td>
                      </tr><tr>
                        <th>419</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "stream" =&gt; !is_null( $streamCallback ),</span></td>
                      </tr><tr>
                        <th>420</th><th> </th><td class="l"><span>&nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th>421</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>422</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( !empty( $query-&gt;stop ) ) {</span></td>
                      </tr><tr>
                        <th>423</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['stop'] = $query-&gt;stop;</span></td>
                      </tr><tr>
                        <th>424</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>425</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>426</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( !empty( $query-&gt;responseFormat ) ) {</span></td>
                      </tr><tr>
                        <th>427</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( $query-&gt;responseFormat === 'json' ) {</span></td>
                      </tr><tr>
                        <th>428</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $body['response_format'] = [ 'type' =&gt; 'json_object' ];</span></td>
                      </tr><tr>
                        <th>429</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>430</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>431</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>432</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( !empty( $query-&gt;functions ) ) {</span></td>
                      </tr><tr>
                        <th>433</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( strpos( $query-&gt;model, 'ft:' ) === 0 ) {</span></td>
                      </tr><tr>
                        <th>434</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; throw new Exception( 'OpenAI doesn\'t support Function Calling with fine-tuned models yet.' );</span></td>
                      </tr><tr>
                        <th>435</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>436</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['functions'] = $query-&gt;functions;</span></td>
                      </tr><tr>
                        <th>437</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['function_call'] = $query-&gt;functionCall;</span></td>
                      </tr><tr>
                        <th>438</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>439</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</span></td>
                      </tr><tr>
                        <th>440</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['messages'] = $this-&gt;build_messages( $query );</span></td>
                      </tr><tr>
                        <th>441</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>442</th><th> </th><td class="l"><span>&nbsp; &nbsp; else if ( $query-&gt;mode === 'completion' ) {</span></td>
                      </tr><tr>
                        <th>443</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['prompt'] = $this-&gt;build_prompt( $query );</span></td>
                      </tr><tr>
                        <th>444</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>445</th><th> </th><td class="l"><span></span></td>
                      </tr><tr>
                        <th>446</th><th> </th><td class="l"><span>&nbsp; &nbsp; $url = $this-&gt;endpoint;</span></td>
                      </tr><tr>
                        <th>447</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</span></td>
                      </tr><tr>
                        <th>448</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</span></td>
                      </tr><tr>
                        <th>449</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $url = trailingslashit( $this-&gt;endpoint ) . 'openai/deployments/' . $deployment_name;</span></td>
                      </tr><tr>
                        <th>450</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</span></td>
                      </tr><tr>
                        <th>451</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $url .= '/chat/completions?' . $this-&gt;azureApiVersion;</span></td>
                      </tr><tr>
                        <th>452</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>453</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; else if ($query-&gt;mode === 'completion') {</span></td>
                      </tr><tr>
                        <th>454</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $url .= '/completions?' . $this-&gt;azureApiVersion;</span></td>
                      </tr><tr>
                        <th>455</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>456</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>457</th><th> </th><td class="l"><span>&nbsp; &nbsp; else {</span></td>
                      </tr><tr>
                        <th>458</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; if ( $query-&gt;mode === 'chat' ) {</span></td>
                      </tr><tr>
                        <th>459</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $url .= '/chat/completions';</span></td>
                      </tr><tr>
                        <th>460</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>461</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; else if ( $query-&gt;mode === 'completion' ) {</span></td>
                      </tr><tr>
                        <th>462</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $url .= '/completions';</span></td>
                      </tr><tr>
                        <th>463</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>464</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>465</th><th> </th><td class="l"><span></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>551</th><td class="r"><span>&nbsp; &nbsp; $body = $this-&gt;build_body( $query, $streamCallback );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>552</th><td class="r"><span>&nbsp; &nbsp; $url = $this-&gt;build_url( $query );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>466</th><th>553</th><td class="l"><span>&nbsp; &nbsp; $headers = $this-&gt;build_headers( $query );</span></td>
                  </tr><tr>
                          <th>467</th><th>554</th><td class="l"><span>&nbsp; &nbsp; $options = $this-&gt;build_options( $headers, $body );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L541">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L628">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>541</th><th>628</th><td class="l"><span>&nbsp; // Request to DALL-E API</span></td>
                  </tr><tr>
                          <th>542</th><th>629</th><td class="l"><span>&nbsp; public function run_images_query( $query ) {</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>543</th><th> </th><td class="l"><span>&nbsp; &nbsp; $url = 'https://api.openai.com/v1/images/generations';</span></td>
                      </tr><tr>
                        <th>544</th><th> </th><td class="l"><span>&nbsp; &nbsp; $model = $query-&gt;model;</span></td>
                      </tr><tr>
                        <th>545</th><th> </th><td class="l"><span>&nbsp; &nbsp; $resolution = !empty( $query-&gt;resolution ) ? $query-&gt;resolution : '1024x1024';</span></td>
                      </tr><tr>
                        <th>546</th><th> </th><td class="l"><span>&nbsp; &nbsp; $body = array(</span></td>
                      </tr><tr>
                        <th>547</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "prompt" =&gt; $query-&gt;message,</span></td>
                      </tr><tr>
                        <th>548</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "n" =&gt; $query-&gt;maxResults,</span></td>
                      </tr><tr>
                        <th>549</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; "size" =&gt; $resolution,</span></td>
                      </tr><tr>
                        <th>550</th><th> </th><td class="l"><span>&nbsp; &nbsp; );</span></td>
                      </tr><tr>
                        <th>551</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $model === 'dall-e-3' ) { </span></td>
                      </tr><tr>
                        <th>552</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['model'] = 'dall-e-3';</span></td>
                      </tr><tr>
                        <th>553</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>554</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $model === 'dall-e-3-hd' ) {</span></td>
                      </tr><tr>
                        <th>555</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['model'] = 'dall-e-3';</span></td>
                      </tr><tr>
                        <th>556</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['quality'] = 'hd';</span></td>
                      </tr><tr>
                        <th>557</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>558</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( !empty( $query-&gt;style ) &amp;&amp; strpos( $model, 'dall-e-3' ) === 0 ) {</span></td>
                      </tr><tr>
                        <th>559</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $body['style'] = $query-&gt;style;</span></td>
                      </tr><tr>
                        <th>560</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr><tr>
                        <th>561</th><th> </th><td class="l"><span>&nbsp; &nbsp; if ( $this-&gt;envType === 'azure' ) {</span></td>
                      </tr><tr>
                        <th>562</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $deployment_name = $this-&gt;get_azure_deployment_name( $query-&gt;model );</span></td>
                      </tr><tr>
                        <th>563</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $url = trailingslashit( $this-&gt;endpoint ) . 'openai/deployments/' .</span></td>
                      </tr><tr>
                        <th>564</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; $deployment_name . '/images/generations?' . $this-&gt;azureApiVersion;</span></td>
                      </tr><tr>
                        <th>565</th><th> </th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                      </tr>
                      <tr>
                        <th> </th><th>630</th><td class="r"><span>&nbsp; &nbsp; $body = $this-&gt;build_body( $query );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>631</th><td class="r"><span>&nbsp; &nbsp; $url = $this-&gt;build_url( $query );</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>566</th><th>632</th><td class="l"><span>&nbsp; &nbsp; $headers = $this-&gt;build_headers( $query );</span></td>
                  </tr><tr>
                          <th>567</th><th>633</th><td class="l"><span>&nbsp; &nbsp; $options = $this-&gt;build_options( $headers, $body );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L581">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L647">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>581</th><th>647</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>582</th><th>648</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $reply = new Meow_MWAI_Reply( $query );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>649</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $model = $query-&gt;model;</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>650</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; $resolution = !empty( $query-&gt;resolution ) ? $query-&gt;resolution : '1024x1024';</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>583</th><th>651</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $usage = $this-&gt;core-&gt;record_images_usage( $model, $resolution, $query-&gt;maxResults );</span></td>
                  </tr><tr>
                          <th>584</th><th>652</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $reply-&gt;set_usage( $usage );</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3040480#L612">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/engines/openai.php?rev=3043570#L680">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>612</th><th>680</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>613</th><th>681</th><td class="l"><span>&nbsp; // Check if there are errors in the response from OpenAI, and throw an exception if so.</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>614</th><th> </th><td class="l"><span>&nbsp; p<del>ublic</del> function handle_response_errors( $data ) {</span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>682</th><td class="r"><span>&nbsp; p<ins>rotected</ins> function handle_response_errors( $data ) {</span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>615</th><th>683</th><td class="l"><span>&nbsp; &nbsp; if ( isset( $data['error'] ) ) {</span></td>
                  </tr><tr>
                          <th>616</th><th>684</th><td class="l"><span>&nbsp; &nbsp; &nbsp; $message = $data['error']['message'];</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file9">
          <a href="/changeset/3043570/ai-engine/trunk/classes/engines/openrouter.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/engines/openrouter.php">ai-engine/trunk/classes/engines/openrouter.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3021494">
                    <a title="Show revision 3021494 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/openrouter.php?rev=3021494#L12">
                      r3021494</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/engines/openrouter.php?rev=3043570#L12">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>12</th><th>12</th><td class="l"><span>&nbsp; &nbsp; $env = $this-&gt;env;</span></td>
                  </tr><tr>
                          <th>13</th><th>13</th><td class="l"><span>&nbsp; &nbsp; $this-&gt;apiKey = $env['apikey'];</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>14</th><th> </th><td class="l"><span>&nbsp; <del>&nbsp; if ( $this-&gt;envType === 'openrouter' ) {</del></span></td>
                      </tr><tr>
                        <th>15</th><th> </th><td class="l"><span>&nbsp; &nbsp; &nbsp; $this-&gt;endpoint = apply_filters( 'mwai_openrouter_endpoint', 'https://openrouter.ai/api/v1', $this-&gt;env );</span></td>
                      </tr><tr>
                        <th>16</th><th> </th><td class="l"><span>&nbsp; <del>&nbsp; }</del></span></td>
                      </tr><tr>
                        <th>17</th><th> </th><td class="l"><span>&nbsp; &nbsp; <del>else {</del></span></td>
                      </tr><tr>
                        <th>18</th><th> </th><td class="l"><span>&nbsp; &nbsp; <del>&nbsp; throw new Exception( 'Unknown environment type: ' . $this-&gt;envType</del> );</span></td>
                      </tr><tr>
                        <th>19</th><th> </th><td class="l"><span>&nbsp; &nbsp; <del>}</del></span></td>
                      </tr>
                      <tr>
                        <th> </th><th>14</th><td class="r"><span>&nbsp; <ins>}</ins></span></td>
                      </tr><tr>
                        <th> </th><th>15</th><td class="r"><span></span></td>
                      </tr><tr>
                        <th> </th><th>16</th><td class="r"><span>&nbsp; <ins>protected function build_url( $query, $endpoint = null ) {</ins></span></td>
                      </tr><tr>
                        <th> </th><th>17</th><td class="r"><span>&nbsp; &nbsp; <ins>$endpoint = apply_filters( 'mwai_openrouter_endpoint', 'https://openrouter.ai/api/v1', $this-&gt;env );</ins></span></td>
                      </tr><tr>
                        <th> </th><th>18</th><td class="r"><span>&nbsp; &nbsp; <ins>$url = parent::build_url( $query, $endpoint</ins> );</span></td>
                      </tr><tr class="last">
                        <th> </th><th>19</th><td class="r"><span>&nbsp; &nbsp; <ins>return $url;</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>20</th><th>20</th><td class="l"><span>&nbsp; }</span></td>
                  </tr><tr>
                          <th>21</th><th>21</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file11">
          <a href="/changeset/3043570/ai-engine/trunk/classes/rest.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/classes/rest.php">ai-engine/trunk/classes/rest.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3031098">
                    <a title="Show revision 3031098 of this file in browser" href="/browser/ai-engine/trunk/classes/rest.php?rev=3031098#L140">
                      r3031098</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/classes/rest.php?rev=3043570#L140">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>140</th><th>140</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'permission_callback' =&gt; [ $this-&gt;core, 'can_access_features' ],</span></td>
                  </tr><tr>
                          <th>141</th><th>141</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'callback' =&gt; [ $this, 'rest_helpers_count_posts' ],</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>142</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) );</ins></td>
                  </tr><tr>
                          <th> </th><th>143</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; register_rest_route( $this-&gt;namespace, '/helpers/posts_ids', array(</ins></td>
                  </tr><tr>
                          <th> </th><th>144</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'methods' =&gt; 'GET',</ins></td>
                  </tr><tr>
                          <th> </th><th>145</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'permission_callback' =&gt; [ $this-&gt;core, 'can_access_features' ],</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>146</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'callback' =&gt; [ $this, 'rest_helpers_posts_ids' ],</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>142</th><th>147</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ) );</span></td>
                  </tr><tr>
                          <th>143</th><th>148</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; register_rest_route( $this-&gt;namespace, '/helpers/post_types', array(</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/classes/rest.php?rev=3031098#L748">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/classes/rest.php?rev=3043570#L753">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>748</th><th>753</th><td class="l"><span>&nbsp; &nbsp; }</span></td>
                  </tr><tr>
                          <th>749</th><th>754</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>755</th><td class="r"><ins>&nbsp; &nbsp; function rest_helpers_posts_ids( $request ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>756</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; try {</ins></td>
                  </tr><tr>
                          <th> </th><th>757</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $params = $request-&gt;get_query_params();</ins></td>
                  </tr><tr>
                          <th> </th><th>758</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $postType = $params['postType'];</ins></td>
                  </tr><tr>
                          <th> </th><th>759</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $postStatus = $params['postStatus'];</ins></td>
                  </tr><tr>
                          <th> </th><th>760</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $postStatus = !empty( $params['postStatus'] ) ? explode( ',', $postStatus ) : [ 'publish' ];</ins></td>
                  </tr><tr>
                          <th> </th><th>761</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $posts = get_posts( [</ins></td>
                  </tr><tr>
                          <th> </th><th>762</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'posts_per_page' =&gt; -1,</ins></td>
                  </tr><tr>
                          <th> </th><th>763</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_type' =&gt; $postType,</ins></td>
                  </tr><tr>
                          <th> </th><th>764</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'post_status' =&gt; $postStatus,</ins></td>
                  </tr><tr>
                          <th> </th><th>765</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 'fields' =&gt; 'ids'</ins></td>
                  </tr><tr>
                          <th> </th><th>766</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ] );</ins></td>
                  </tr><tr>
                          <th> </th><th>767</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new WP_REST_Response([ 'success' =&gt; true, 'postIds' =&gt; $posts ], 200 );</ins></td>
                  </tr><tr>
                          <th> </th><th>768</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>769</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; catch ( Exception $e ) {</ins></td>
                  </tr><tr>
                          <th> </th><th>770</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $message = apply_filters( 'mwai_ai_exception', $e-&gt;getMessage() );</ins></td>
                  </tr><tr>
                          <th> </th><th>771</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return new WP_REST_Response([ 'success' =&gt; false, 'message' =&gt; $message ], 500 );</ins></td>
                  </tr><tr>
                          <th> </th><th>772</th><td class="r"><ins>&nbsp; &nbsp; &nbsp; &nbsp; }</ins></td>
                  </tr><tr>
                          <th> </th><th>773</th><td class="r"><ins>&nbsp; &nbsp; }</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>774</th><td class="r"><ins></ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>750</th><th>775</th><td class="l"><span>&nbsp; &nbsp; function rest_helpers_post_content( $request ) {</span></td>
                  </tr><tr>
                          <th>751</th><th>776</th><td class="l"><span>&nbsp; &nbsp; &nbsp; &nbsp; try {</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file12">
          <a href="/changeset/3043570/ai-engine/trunk/readme.txt" title="Show the changeset 3043570 restricted to ai-engine/trunk/readme.txt">ai-engine/trunk/readme.txt</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3040480">
                    <a title="Show revision 3040480 of this file in browser" href="/browser/ai-engine/trunk/readme.txt?rev=3040480#L1">
                      r3040480</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/readme.txt?rev=3043570#L1">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>1</th><th>1</th><td class="l"><span>=== AI Engine ===</span></td>
                  </tr><tr>
                          <th>2</th><th>2</th><td class="l"><span>Contributors: TigrouMeow</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>3</th><th> </th><td class="l"><span>Tags: ai, gpt, openai, chatbot, copilot<del>, chatgpt</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>3</th><td class="r"><span>Tags: ai, gpt, openai, chatbot, copilot<ins></ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>4</th><th>4</th><td class="l"><span>Donate link: https://meowapps.com/donation/</span></td>
                  </tr><tr>
                          <th>5</th><th>5</th><td class="l"><span>Requires at least: 6.0</span></td>
                  </tr><tr>
                          <th>6</th><th>6</th><td class="l"><span>Tested up to: 6.4</span></td>
                  </tr><tr>
                          <th>7</th><th>7</th><td class="l"><span>Requires PHP: 7.4</span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>8</th><th> </th><td class="l"><span>Stable tag: 2.2.<del>0</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>8</th><td class="r"><span>Stable tag: 2.2.<ins>1</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>9</th><th>9</th><td class="l"><span>License: GPLv2 or later</span></td>
                  </tr><tr>
                          <th>10</th><th>10</th><td class="l"><span>License URI: https://www.gnu.org/licenses/gpl-2.0.html</span></td>
                  </tr><tr>
                          <th>11</th><th>11</th><td class="l"><span></span></td>
                  </tr>
            </tbody><tbody class="mod">
                      <tr class="first">
                        <th>12</th><th> </th><td class="l"><span>A<del>dd AI into WordPress! Chatbot (ChatGPT), content and images generators, copilot, model training and much more! Highly customizable, sleek UI. You will love it!</del></span></td>
                      </tr>
                      <tr class="last">
                        <th> </th><th>12</th><td class="r"><span>A<ins>I for WordPress. Chatbot, Content/Image Generator, CoPilot, Finetuning, Internal API, GPT, Gemini, etc! Sleek UI and ultra-customizable.</ins></span></td>
                      </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>13</th><th>13</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>14</th><th>14</th><td class="l"><span>== Description ==</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/readme.txt?rev=3040480#L82">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/readme.txt?rev=3043570#L82">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>82</th><th>82</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>83</th><th>83</th><td class="l"><span>== Changelog ==</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>84</th><td class="r"><ins>&nbsp;</ins></td>
                  </tr><tr>
                          <th> </th><th>85</th><td class="r"><ins>= 2.2.1 (2024/03/01) =</ins></td>
                  </tr><tr>
                          <th> </th><th>86</th><td class="r"><ins>* Add: Support for Hugging Face.</ins></td>
                  </tr><tr>
                          <th> </th><th>87</th><td class="r"><ins>* Add: Automatically update the outdated embeddings in background.</ins></td>
                  </tr><tr>
                          <th> </th><th>88</th><td class="r"><ins>* Fix: A few lightweight security issues were handled.</ins></td>
                  </tr><tr>
                          <th> </th><th>89</th><td class="r"><ins>* 🚀 [Click here](https://trello.com/b/8U9SdiMy/ai-engine-feature-requests) to vote for the features you want the most!</ins></td>
                  </tr><tr>
                          <th> </th><th>90</th><td class="r"><ins>* 🎵 Discuss with other users about features and issues on [my Discord](https://discord.gg/bHDGh38).</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>91</th><td class="r"><ins>* 🌴 Keep us motivated with [a little review here](https://wordpress.org/support/plugin/ai-engine/reviews/). Thank you!</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>84</th><th>92</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>85</th><th>93</th><td class="l"><span>= 2.2.0 (2024/02/24) =</span></td>
                  </tr>
            </tbody>
              <tbody class="skipped">
                <tr>
                  <th><a href="/browser/ai-engine/trunk/readme.txt?rev=3040480#L89">…</a></th>
                  <th><a href="/browser/ai-engine/trunk/readme.txt?rev=3043570#L97">…</a></th>
                  <td> </td>
                </tr>
              </tbody>
            <tbody class="unmod">
                  <tr>
                          <th>89</th><th>97</th><td class="l"><span>* Fix: A few other minor issues fixed.</span></td>
                  </tr><tr>
                          <th>90</th><th>98</th><td class="l"><span>* Fix: Retrieve all assistants, without any limit.</span></td>
                  </tr>
            </tbody><tbody class="rem">
                  <tr class="first">
                          <th>91</th><th> </th><td class="l"><del>* 🚀 [Click here](https://trello.com/b/8U9SdiMy/ai-engine-feature-requests) to vote for the features you want the most!</del></td>
                  </tr><tr>
                          <th>92</th><th> </th><td class="l"><del>* 🎵 Discuss with other users about features and issues on [my Discord](https://discord.gg/bHDGh38).</del></td>
                  </tr><tr class="last">
                          <th>93</th><th> </th><td class="l"><del>* 🌴 Keep us motivated with [a little review here](https://wordpress.org/support/plugin/ai-engine/reviews/). Thank you!</del></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>94</th><th>99</th><td class="l"><span></span></td>
                  </tr><tr>
                          <th>95</th><th>100</th><td class="l"><span>= 2.1.9 (2024/02/08) =</span></td>
                  </tr>
            </tbody>
        </table>
      </li>
      <li class="entry">
        <h2 id="file13">
          <a href="/changeset/3043570/ai-engine/trunk/uninstall.php" title="Show the changeset 3043570 restricted to ai-engine/trunk/uninstall.php">ai-engine/trunk/uninstall.php</a>
        </h2>
        <table class="trac-diff inline" summary="Differences" cellspacing="0">
              <colgroup><col class="lineno" /><col class="lineno" /><col class="content" /></colgroup>
              <thead>
                <tr>
                  <th title="Revision 3024369">
                    <a title="Show revision 3024369 of this file in browser" href="/browser/ai-engine/trunk/uninstall.php?rev=3024369#L7">
                      r3024369</a>
                  </th>
                  <th title="Revision 3043570">
                    <a title="Show revision 3043570 of this file in browser" href="/browser/ai-engine/trunk/uninstall.php?rev=3043570#L7">
                      r3043570</a>
                  </th>
                  <td> </td>
                </tr>
              </thead>
            <tbody class="unmod">
                  <tr>
                          <th>7</th><th>7</th><td class="l"><span>&nbsp; &nbsp; $timestamp = wp_next_scheduled( 'mwai_files_cleanup' );</span></td>
                  </tr><tr>
                          <th>8</th><th>8</th><td class="l"><span>&nbsp; &nbsp; wp_unschedule_event( $timestamp, 'mwai_files_cleanup' );</span></td>
                  </tr>
            </tbody><tbody class="add">
                  <tr class="first">
                          <th> </th><th>9</th><td class="r"><ins>&nbsp; &nbsp; $timestamp = wp_next_scheduled( 'mwai_tasks_internal_run' );</ins></td>
                  </tr><tr>
                          <th> </th><th>10</th><td class="r"><ins>&nbsp; &nbsp; wp_unschedule_event( $timestamp, 'mwai_tasks_internal_run' );</ins></td>
                  </tr><tr>
                          <th> </th><th>11</th><td class="r"><ins>&nbsp; &nbsp; $timestamp = wp_next_scheduled( 'mwai_tasks_internal_dev_run' );</ins></td>
                  </tr><tr class="last">
                          <th> </th><th>12</th><td class="r"><ins>&nbsp; &nbsp; wp_unschedule_event( $timestamp, 'mwai_tasks_internal_dev_run' );</ins></td>
                  </tr>
            </tbody><tbody class="unmod">
                  <tr>
                          <th>9</th><th>13</th><td class="l"><span>}</span></td>
                  </tr><tr>
                          <th>10</th><th>14</th><td class="l"><span></span></td>
                  </tr>
            </tbody>
        </table>
      </li>
  </ul>
</div>
        <div id="help"><strong>Note:</strong> See <a href="/wiki/TracChangeset">TracChangeset</a>
          for help on using the changeset viewer.</div>
      </div>
    </div>
    <div id="altlinks">
    <a class="preferences-link" href="/prefs">Trac UI Preferences</a>
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="?format=diff&amp;new=3043570" class="diff">Unified Diff</a>
        </li><li class="last">
          <a rel="nofollow" href="?format=zip&amp;new=3043570" class="zip">Zip Archive</a>
        </li>
      </ul>
</div>
    </div>
	<footer class="global-footer wp-block-group wp-block-wporg-global-footer">
<div class="wp-block-group global-footer__navigation-container is-layout-flow wp-block-group-is-layout-flow">
	<nav class="global-footer__navigation-important wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpressfoundation.org/donate/"><span class="wp-block-navigation-item__label">Donate</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">Swag</span></a></li></ul></nav>
	<nav class="global-footer__navigation-information wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Get Involved</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn</span></a></li></ul></nav>
	<nav class="global-footer__navigation-resources wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li></ul></nav>
	<nav class="global-footer__navigation-community wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.TV</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://buddypress.org/"><span class="wp-block-navigation-item__label">BuddyPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://bbpress.org/"><span class="wp-block-navigation-item__label">bbPress</span></a></li></ul></nav>
	<nav class="global-footer__navigation-external wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.com/?ref=wporg-footer"><span class="wp-block-navigation-item__label">WordPress.com</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://ma.tt/"><span class="wp-block-navigation-item__label">Matt</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/privacy/"><span class="wp-block-navigation-item__label">Privacy</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://publiccode.eu/"><span class="wp-block-navigation-item__label">Public Code</span></a></li></ul></nav>
</div>
<div class="wp-block-group global-footer__logos-container is-layout-flow wp-block-group-is-layout-flow">
	<div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-19 wp-block-group-is-layout-flex">
			<figure class="wp-block-image global-footer__wporg-logo-mark">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>				</a>
			</figure>
			<figure class="wp-block-image global-footer__wporg-logo-full">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="329" height="52" viewbox="0 0 329 52">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M4.33 26a21.68 21.68 0 0 0 12.22 19.5L6.21 17.18A21.66 21.66 0 0 0 4.33 26ZM26.38 27.89l-6.5 18.89a21.31 21.31 0 0 0 6.12.89 21.77 21.77 0 0 0 7.2-1.23 1.429 1.429 0 0 1-.16-.3l-6.66-18.25Z"></path>
	<path fill="currentColor" d="M26 0a26 26 0 1 0 0 52 26 26 0 0 0 0-52Zm20.27 39.66a24.47 24.47 0 0 1-29.78 8.86 24.49 24.49 0 0 1-13-13 24.4 24.4 0 0 1 5.23-26.8 24.46 24.46 0 0 1 26.79-5.24 24.49 24.49 0 0 1 13 13 24.42 24.42 0 0 1-2.25 23.17l.01.01Z"></path>
	<path fill="currentColor" d="M45 15.61c.103.736.153 1.477.15 2.22a20.38 20.38 0 0 1-1.65 7.76l-6.61 19.14A21.65 21.65 0 0 0 45 15.61ZM40.63 24.91a11.45 11.45 0 0 0-1.79-6c-1.1-1.78-2.13-3.29-2.13-5.08A3.76 3.76 0 0 1 40.35 10h.28A21.65 21.65 0 0 0 7.9 14.1h1.39c2.27 0 5.78-.27 5.78-.27a.9.9 0 0 1 .13 1.79s-1.17.13-2.47.2l7.88 23.47 4.75-14.22L22 15.84c-1.17-.07-2.27-.2-2.27-.2a.9.9 0 0 1 .14-1.79s3.57.27 5.7.27c2.13 0 5.78-.27 5.78-.27a.9.9 0 0 1 .14 1.79s-1.18.13-2.48.2l7.83 23.29 2.23-7.08a25.171 25.171 0 0 0 1.56-7.14ZM145.83 19.3h-10.34v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85-2.48-.35-4.16-1.68-6.47-4.22l-2.66-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.24 0 3.76.69 3.76 4.79v7.4c0 4.1-.52 4.85-3.76 4.85v1.1h11.5v-1.1c-3.24 0-3.76-.75-3.76-4.85v-2.08h1l6.42 8h16.81c8.26 0 11.85-4.39 11.85-9.65 0-5.26-3.61-9.56-11.87-9.56Zm-24.21 9.42V21H124a3.551 3.551 0 0 1 3.76 3.87 3.536 3.536 0 0 1-3.76 3.85h-2.38Zm24.38 8h-.4c-2.08 0-2.37-.52-2.37-3.18V21H146c6 0 7.11 4.39 7.11 7.8S152 36.75 146 36.75v-.03ZM93.49 13.52H82.62v1.16c3.7 0 4.22 1 3.07 4.39l-4 11.78L76 13.52h-1.1l-5.85 17.33-3.87-11.78c-1.22-3.59-.29-4.39 3.12-4.39v-1.16H55.47v1.16c3.35 0 4.28.86 5.66 5.08l6.42 19.76h.75l6-18.08 5.9 18.08h.8l6.59-19.76c1.44-4.22 2.31-5.08 5.95-5.08l-.05-1.16ZM101.34 18.55c-6.35 0-11.55 4.68-11.55 10.34s5.2 10.4 11.55 10.4c6.35 0 11.56-4.68 11.56-10.4 0-5.72-5.2-10.34-11.56-10.34Zm0 18.89c-5.31 0-7.16-4.74-7.16-8.55 0-3.81 1.85-8.55 7.16-8.55 5.31 0 7.23 4.79 7.23 8.55 0 3.76-1.85 8.55-7.23 8.55ZM170.67 13.52h-12v1.16c3.88 0 4.57.92 4.57 6.7v9.24c0 5.78-.69 6.76-4.57 6.76v1.16H172v-1.16c-3.88 0-4.57-1-4.57-6.76v-2.83h3.29c6 0 9.25-3.12 9.25-7.11s-3.35-7.16-9.3-7.16Zm0 12.13h-3.29v-10h3.29c3.24 0 4.74 2.31 4.74 5.08s-1.5 4.92-4.74 4.92ZM219.32 34.15c-.52 1.9-1.15 2.6-5.26 2.6h-.81c-3 0-3.52-.7-3.52-4.8v-2.66c4.51 0 4.85.41 4.85 3.41h1.1v-8.61h-1.1c0 3-.34 3.41-4.85 3.41V21h3.18c4.1 0 4.74.69 5.26 2.6l.28 1.1h.93l-.38-5.4h-17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 3.75-.44 4.69-3 4.83-2.42-.37-4.09-1.69-6.37-4.2l-2.65-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85v1.1h11.49v-1.1c-3.23 0-3.75-.75-3.75-4.85v-2.08h1l6.41 8h23.75l.35-5.43h-.87l-.31 1.07ZM189 28.72V21h2.37a3.542 3.542 0 0 1 3.75 3.87 3.532 3.532 0 0 1-.998 2.77 3.532 3.532 0 0 1-2.752 1.05l-2.37.03ZM234.52 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85h-1.09a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7-2.54 7-6.18.07-1.77-1.03-3.9-3.8-5.23ZM252 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85H253a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7.05-2.54 7.05-6.18.07-1.77-1.03-3.9-3.79-5.23ZM277.56 18.75a10.481 10.481 0 0 0-10.68 10.17 10.47 10.47 0 0 0 10.68 10.16c5.9 0 10.71-4.58 10.71-10.16s-4.81-10.17-10.71-10.17Zm0 19c-5.52 0-7.63-4.91-7.63-8.88 0-3.97 2.07-8.87 7.63-8.87 5.56 0 7.66 4.94 7.66 8.92 0 3.98-2.11 8.88-7.66 8.88v-.05ZM301.71 33.79l-3.14-3.69c3.63-.38 5.71-2.59 5.71-5.38 0-3-2.44-5.42-6.89-5.42h-8.47v.7c2.66 0 3.05.51 3.05 3.72v10.39c0 3.21-.39 3.76-3.05 3.76v.67h8.66v-.67c-2.66 0-3.05-.55-3.05-3.76v-4H296l6.35 8.44h5.29v-.67c-1.88-.24-4.03-1.88-5.93-4.09ZM294.53 29v-8.52h2.82c2.79 0 4.08 1.93 4.08 4.24 0 2.31-1.29 4.28-4.08 4.28h-2.82ZM319.6 30.59v.64c2.21 0 3 .7 3 2.08 0 2.89-2.5 4.39-5.29 4.39-5.93 0-7.6-4.81-7.6-8.78 0-3.97 1.86-8.92 7-8.92 3.59 0 6.09 2.54 7 6.7h.64v-7h-.64a3.281 3.281 0 0 1-1.09 1.83 8.203 8.203 0 0 0-6-2.73 10.167 10.167 0 0 0-9.851 10.165 10.169 10.169 0 0 0 9.851 10.165c3.34 0 4.78-1.66 8.34-1.66V35c0-3.21.39-3.75 3.05-3.75v-.64l-8.41-.02ZM261.9 34.77a2.061 2.061 0 1 0 .288 4.112 2.061 2.061 0 0 0-.288-4.112Z"></path>
</svg>				</a>
			</figure>
			</div>
	<ul class="wp-block-social-links is-style-logos-only is-layout-flex wp-block-social-links-is-layout-flex">
		<li class="wp-social-link wp-social-link-facebook wp-block-social-link"><a href="https://www.facebook.com/WordPress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Facebook page</span></a></li>
		<li class="wp-social-link wp-social-link-twitter wp-block-social-link"><a href="https://twitter.com/WordPress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Twitter account</span></a></li>
		<li class="wp-social-link wp-social-link-instagram wp-block-social-link"><a href="https://www.instagram.com/wordpress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12,4.622c2.403,0,2.688,0.009,3.637,0.052c0.877,0.04,1.354,0.187,1.671,0.31c0.42,0.163,0.72,0.358,1.035,0.673 c0.315,0.315,0.51,0.615,0.673,1.035c0.123,0.317,0.27,0.794,0.31,1.671c0.043,0.949,0.052,1.234,0.052,3.637 s-0.009,2.688-0.052,3.637c-0.04,0.877-0.187,1.354-0.31,1.671c-0.163,0.42-0.358,0.72-0.673,1.035 c-0.315,0.315-0.615,0.51-1.035,0.673c-0.317,0.123-0.794,0.27-1.671,0.31c-0.949,0.043-1.233,0.052-3.637,0.052 s-2.688-0.009-3.637-0.052c-0.877-0.04-1.354-0.187-1.671-0.31c-0.42-0.163-0.72-0.358-1.035-0.673 c-0.315-0.315-0.51-0.615-0.673-1.035c-0.123-0.317-0.27-0.794-0.31-1.671C4.631,14.688,4.622,14.403,4.622,12 s0.009-2.688,0.052-3.637c0.04-0.877,0.187-1.354,0.31-1.671c0.163-0.42,0.358-0.72,0.673-1.035 c0.315-0.315,0.615-0.51,1.035-0.673c0.317-0.123,0.794-0.27,1.671-0.31C9.312,4.631,9.597,4.622,12,4.622 M12,3 C9.556,3,9.249,3.01,8.289,3.054C7.331,3.098,6.677,3.25,6.105,3.472C5.513,3.702,5.011,4.01,4.511,4.511 c-0.5,0.5-0.808,1.002-1.038,1.594C3.25,6.677,3.098,7.331,3.054,8.289C3.01,9.249,3,9.556,3,12c0,2.444,0.01,2.751,0.054,3.711 c0.044,0.958,0.196,1.612,0.418,2.185c0.23,0.592,0.538,1.094,1.038,1.594c0.5,0.5,1.002,0.808,1.594,1.038 c0.572,0.222,1.227,0.375,2.185,0.418C9.249,20.99,9.556,21,12,21s2.751-0.01,3.711-0.054c0.958-0.044,1.612-0.196,2.185-0.418 c0.592-0.23,1.094-0.538,1.594-1.038c0.5-0.5,0.808-1.002,1.038-1.594c0.222-0.572,0.375-1.227,0.418-2.185 C20.99,14.751,21,14.444,21,12s-0.01-2.751-0.054-3.711c-0.044-0.958-0.196-1.612-0.418-2.185c-0.23-0.592-0.538-1.094-1.038-1.594 c-0.5-0.5-1.002-0.808-1.594-1.038c-0.572-0.222-1.227-0.375-2.185-0.418C14.751,3.01,14.444,3,12,3L12,3z M12,7.378 c-2.552,0-4.622,2.069-4.622,4.622S9.448,16.622,12,16.622s4.622-2.069,4.622-4.622S14.552,7.378,12,7.378z M12,15 c-1.657,0-3-1.343-3-3s1.343-3,3-3s3,1.343,3,3S13.657,15,12,15z M16.804,6.116c-0.596,0-1.08,0.484-1.08,1.08 s0.484,1.08,1.08,1.08c0.596,0,1.08-0.484,1.08-1.08S17.401,6.116,16.804,6.116z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Instagram account</span></a></li>
		<li class="wp-social-link wp-social-link-linkedin wp-block-social-link"><a href="https://www.linkedin.com/company/wordpress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our LinkedIn account</span></a></li>
	</ul>
		<figure class="wp-block-image is-resized global-footer__code_is_poetry">
			<img src="https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg" alt="Code is Poetry" width="188" height="13" />
		</figure>
	</div>
</footer>		<script>//<![CDATA[
			( function() {
				var skipLink = document.getElementById( 'wporg-skip-link' ),
					skipLinkTarget, skipLinkTargetID;
				if ( ! skipLink ) {
					return;
				}
				skipLinkTarget = document.querySelector( skipLink.dataset.selector );
				if ( ! skipLinkTarget ) {
					skipLink.remove();
					return;
				}
				skipLinkTargetID = skipLinkTarget.id;
				if ( ! skipLinkTargetID ) {
					skipLinkTargetID = 'wp--skip-link--target';
					skipLinkTarget.id = skipLinkTargetID;
				}
				skipLink.href = '#' + skipLinkTargetID;
				skipLink.tabIndex = '';
			}() );
//]]></script>
		<style id="core-block-supports-inline-css" type="text/css">
.wp-container-6.wp-container-6{flex-direction:column;align-items:flex-start;}.wp-container-19.wp-container-19{flex-wrap:nowrap;justify-content:flex-start;}
</style>
<script type="text/javascript" id="wporg-global-header-script-js-extra">//<![CDATA[
/* <![CDATA[ */
var wporgGlobalHeaderI18n = {"openSearchLabel":"Open Search","closeSearchLabel":"Close Search","overflowMenuLabel":"More menu"};
/* ]]]]><![CDATA[> */
//]]></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/jetpack/_inc/build/photon/photon.min.js?ver=20191001" id="jetpack-photon-js"></script>
<script type="text/javascript" src="https://s.w.org/wp-content/themes/pub/wporg/js/skip-link-focus-fix.min.js?ver=20151215" id="wporg-plugins-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/js/view.js?ver=1659374792" id="wporg-global-header-script-js"></script>
	<script>
	var wpTracCurrentUser = "anonymous";
	</script>
	<script src="https://s.w.org/style/js/navigation.min.js?20190128"></script>
	<script src="https://s.w.org/style/trac/jquery.caret.min.js?ver=2015-02-01"></script>
	<script src="https://s.w.org/style/trac/jquery.atwho.min.js?ver=1.0.1"></script>
	<script src="https://s.w.org/style/trac/wp-trac.js?212"></script>
</body>
</html>