=== Content from plugins.trac.wordpress.org_8b7810ca_20250111_073330.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3045036%2540simple-membership%252Ftrunk%26old%3D3021218%2540simple-membership%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3021218/simple-membership/trunk?old=3045036&old_path=%2Fsimple-membership%2Ftrunk)

---

# Changes in [simple-membership/trunk](/browser/simple-membership/trunk?rev=3045036 "Show entry in browser") [[3021218:3045036]](/log/simple-membership/trunk?rev=3045036&stop_rev=3021218 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[simple-membership/trunk](/browser/simple-membership/trunk?rev=3045036)
Files:

3 added
1 deleted
25 edited

* [classes/class.simple-wp-membership.php](/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [classes/class.swpm-init-time-tasks.php](/browser/simple-membership/trunk/classes/class.swpm-init-time-tasks.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [classes/class.swpm-installation.php](/browser/simple-membership/trunk/classes/class.swpm-installation.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [classes/class.swpm-settings.php](/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [ipn/swpm-stripe-sca-checkout-session-create.php](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [languages/simple-membership-ar.mo](/browser/simple-membership/trunk/languages/simple-membership-ar.mo?rev=3045036 "Show entry in browser")
  (added)
* [languages/simple-membership-ar.po](/browser/simple-membership/trunk/languages/simple-membership-ar.po?rev=3045036 "Show entry in browser")
  (added)
* [languages/simple-membership.pot](/browser/simple-membership/trunk/languages/simple-membership.pot?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php?rev=3045036 "Show entry in browser")
  (added)
* [lib/paypal/class-swpm-paypal-main.php](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [lib/paypal/class-swpm-paypal-onapprove-ipn-handler.php](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-onapprove-ipn-handler.php?rev=3010737 "Show what was removed (content at revision 3021218)")
  (deleted)
* [lib/paypal/class-swpm-paypal-request-api-injector.php](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file11 "Show differences"))
* [lib/paypal/class-swpm-paypal-request-api.php](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036 "Show entry in browser")
  (modified)
  ([5 diffs](#file12 "Show differences"))
* [readme.txt](/browser/simple-membership/trunk/readme.txt?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [simple-wp-membership.php](/browser/simple-membership/trunk/simple-wp-membership.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [views/add-v2.php](/browser/simple-membership/trunk/views/add-v2.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file15 "Show differences"))
* [views/add.php](/browser/simple-membership/trunk/views/add.php?rev=3045036 "Show entry in browser")
  (modified)
  ([4 diffs](#file16 "Show differences"))
* [views/edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036 "Show entry in browser")
  (modified)
  ([11 diffs](#file17 "Show differences"))
* [views/edit.php](/browser/simple-membership/trunk/views/edit.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file18 "Show differences"))
* [views/forgot\_password.php](/browser/simple-membership/trunk/views/forgot_password.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file19 "Show differences"))
* [views/login.php](/browser/simple-membership/trunk/views/login.php?rev=3045036 "Show entry in browser")
  (modified)
  ([5 diffs](#file20 "Show differences"))
* [views/payments/payment-gateway/admin\_paypal\_buy\_now\_new\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_buy_now_new_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [views/payments/payment-gateway/admin\_paypal\_subscription\_new\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_subscription_new_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file22 "Show differences"))
* [views/payments/payment-gateway/admin\_stripe\_buy\_now\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file23 "Show differences"))
* [views/payments/payment-gateway/admin\_stripe\_sca\_buy\_now\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file24 "Show differences"))
* [views/payments/payment-gateway/admin\_stripe\_sca\_subscription\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file25 "Show differences"))
* [views/payments/payment-gateway/admin\_stripe\_subscription\_button.php](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_subscription_button.php?rev=3045036 "Show entry in browser")
  (modified)
  ([1 diff](#file26 "Show differences"))
* [views/payments/payment-gateway/paypal\_buy\_now\_new\_button\_shortcode\_view.php](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036 "Show entry in browser")
  (modified)
  ([2 diffs](#file27 "Show differences"))
* [views/payments/payment-gateway/paypal\_subscription\_new\_button\_shortcode\_view.php](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036 "Show entry in browser")
  (modified)
  ([3 diffs](#file28 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [simple-membership/trunk/classes/class.simple-wp-membership.php](/changeset/3045036/simple-membership/trunk/classes/class.simple-wp-membership.php?old=3021218&old_path=simple-membership%2Ftrunk%2Fclasses%2Fclass.simple-wp-membership.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/classes/class.simple-wp-membership.php")

  | [r3021218](/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3021218#L360 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/classes/class.simple-wp-membership.php?rev=3045036#L360 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 360 | 360 | SwpmLog::log\_auth\_debug("The redirect\_to query parameter is set. Value: ". $redirect\_url, true); |
  | 361 | 361 | } else { |
  |  | 362 | //The 'redirect\_to' parameter is not set. By default we will use the current page URL as the redirect URL. |
  | 362 | 363 | $redirect\_url = SwpmMiscUtils::get\_current\_page\_url(); |
  |  | 364 |  |
  |  | 365 | //Check if this is after an auto-login authentication (if yes, we need to override the URL). |
  |  | 366 | if( isset( $\_REQUEST['swpm\_auto\_login']) && $\_REQUEST['swpm\_auto\_login'] == '1' ){ |
  |  | 367 | //On some servers the current page URL may contain the 'swpm\_auto\_login' parameter (when the auto-login feature is used) . |
  |  | 368 | //In that case, we don't want to create a loop of auto-login redirect. |
  |  | 369 | //We will use the site's login-page URL as the redirect URL for that condition. |
  |  | 370 | SwpmLog::log\_auth\_debug("This is after an auto-login authentication. Setting the login page URL as the redirect URL.", true); |
  |  | 371 | $redirect\_url = SwpmSettings::get\_instance()->get\_value('login-page-url'); |
  |  | 372 | } |
  | 363 | 373 | } |
  | 364 | 374 |  |
* ## [simple-membership/trunk/classes/class.swpm-init-time-tasks.php](/changeset/3045036/simple-membership/trunk/classes/class.swpm-init-time-tasks.php?old=3015294&old_path=simple-membership%2Ftrunk%2Fclasses%2Fclass.swpm-init-time-tasks.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/classes/class.swpm-init-time-tasks.php")

  | [r3021218](/browser/simple-membership/trunk/classes/class.swpm-init-time-tasks.php?rev=3015294#L260 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/classes/class.swpm-init-time-tasks.php?rev=3045036#L260 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 260 | 260 | if ( isset( $\_REQUEST['swpm\_auto\_login'] ) && $\_REQUEST['swpm\_auto\_login'] == '1' ) { |
  | 261 | 261 | //Handle the auto login |
  | 262 |  | SwpmLog::log\_simple\_debug( 'Handling auto login request.~~.~~.', true ); |
  |  | 262 | SwpmLog::log\_simple\_debug( 'Handling auto login request. The login related debug log file will contain additional details.', true ); |
  | 263 | 263 |  |
  | 264 | 264 | $enable\_auto\_login = SwpmSettings::get\_instance()->get\_value( 'auto-login-after-rego' ); |
* ## [simple-membership/trunk/classes/class.swpm-installation.php](/changeset/3045036/simple-membership/trunk/classes/class.swpm-installation.php?old=2908577&old_path=simple-membership%2Ftrunk%2Fclasses%2Fclass.swpm-installation.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/classes/class.swpm-installation.php")

  | [r3021218](/browser/simple-membership/trunk/classes/class.swpm-installation.php?rev=2908577#L274 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/classes/class.swpm-installation.php?rev=3045036#L274 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 274 | 274 | //Preparing it to be enabled by default in the feature. |
  | 275 | 275 | //$settings->set\_value("force-wp-user-sync", "checked='checked'"); |
  |  | 276 |  |
  |  | 277 | $settings->set\_value("use-new-form-ui", "checked='checked'"); |
  | 276 | 278 | } |
  | 277 | 279 |  |
* ## [simple-membership/trunk/classes/class.swpm-settings.php](/changeset/3045036/simple-membership/trunk/classes/class.swpm-settings.php?old=3015294&old_path=simple-membership%2Ftrunk%2Fclasses%2Fclass.swpm-settings.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/classes/class.swpm-settings.php")

  | [r3021218](/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3015294#L787 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/classes/class.swpm-settings.php?rev=3045036#L787 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 787 | 787 | add\_settings\_field( |
  | 788 | 788 | 'use-new-form-ui', |
  | 789 |  | \_\_( 'Activate New Form and Validation Interface~~(Beta)~~', 'simple-membership' ), |
  |  | 789 | \_\_( 'Activate New Form and Validation Interface', 'simple-membership' ), |
  | 790 | 790 | array( &$this, 'checkbox\_callback' ), |
  | 791 | 791 | 'simple\_wp\_membership\_settings', |
* ## [simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php](/changeset/3045036/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?old=3021218&old_path=simple-membership%2Ftrunk%2Fipn%2Fswpm-stripe-sca-checkout-session-create.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php")

  | [r3021218](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3021218#L27 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036#L27 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 27 | 27 | $payment\_method\_types = isset( $\_POST['payment\_method\_types'] ) ? sanitize\_text\_field( stripslashes ( $\_POST['payment\_method\_types'] ) ) : ''; |
  | 28 | 28 | if ( empty( $payment\_method\_types ) ) { |
  | 29 |  | //Use the default payment\_method\_types value. |
  | 30 |  | $payment\_method\_types\_array = array( 'card' ); |
  |  | 29 | //Use the empty value so it can be managed from the seller's Stripe account settings. |
  |  | 30 | $payment\_method\_types\_array = array(); |
  |  | 31 | //$payment\_method\_types\_array = array( 'card' );//Legacy value |
  | 31 | 32 | } else { |
  | 32 | 33 | //Use the payment\_method\_types specified in the shortcode (example value: card,us\_bank\_account |
  | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3021218#L135) | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036#L136) |  |
  | 135 | 136 | //this is one-off payment |
  | 136 | 137 | $opts = array( |
  | 137 |  | ~~'payment\_method\_types'       => $payment\_method\_types\_array,~~ |
  | 138 | 138 | 'client\_reference\_id'        => $ref\_id, |
  | 139 | 139 | 'billing\_address\_collection' => $billing\_address ? 'required' : 'auto', |
  | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3021218#L158) | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036#L158) |  |
  | 158 | 158 | //this is subscription payment |
  | 159 | 159 | $opts = array( |
  | 160 |  | ~~'payment\_method\_types'       => $payment\_method\_types\_array,~~ |
  | 161 | 160 | 'client\_reference\_id'        => $ref\_id, |
  | 162 | 161 | 'billing\_address\_collection' => $billing\_address ? 'required' : 'auto', |
  | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3021218#L180) | […](/browser/simple-membership/trunk/ipn/swpm-stripe-sca-checkout-session-create.php?rev=3045036#L179) |  |
  | 180 | 179 | } |
  | 181 | 180 |  |
  |  | 181 | //Set payment method types (if used in the shortcode). Otherwise, let Stripe use the default value. |
  |  | 182 | if( !empty( $payment\_method\_types\_array ) ) { |
  |  | 183 | $opts['payment\_method\_types'] = $payment\_method\_types\_array; |
  |  | 184 | } |
  |  | 185 |  |
  |  | 186 | //Set the logo for the line item. |
  | 182 | 187 | if ( ! empty( $item\_logo ) ) { |
  | 183 | 188 | $opts['line\_items'][0]["product\_data"]['images'] = array( $item\_logo ); |
  | 184 | 189 | } |
  | 185 | 190 |  |
  |  | 191 | //Set the customer email. |
  | 186 | 192 | if ( ! empty( $member\_email ) ) { |
  | 187 | 193 | $opts['customer\_email'] = $member\_email; |
  | 188 | 194 | } |
  | 189 | 195 |  |
  |  | 196 | //Set the automatic tax feature. |
  | 190 | 197 | if( $automatic\_tax == true ) { |
  | 191 | 198 | $opts["automatic\_tax"] = array( "enabled" => true ); |
* ## [simple-membership/trunk/languages/simple-membership.pot](/changeset/3045036/simple-membership/trunk/languages/simple-membership.pot?old=3021218&old_path=simple-membership%2Ftrunk%2Flanguages%2Fsimple-membership.pot "Show the [3021218:3045036] differences restricted to simple-membership/trunk/languages/simple-membership.pot")

  | [r3021218](/browser/simple-membership/trunk/languages/simple-membership.pot?rev=3021218#L4090 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/languages/simple-membership.pot?rev=3045036#L4090 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 4090 | 4090 | msgid "" |
  | 4091 | 4091 | "Use API keys from <a href=\"admin.php?" |
  | 4092 |  | "page=simple\_wp\_membership\_~~settings&tab=2~~\" target=\"\_blank\">Payment " |
  |  | 4092 | "page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe\" target=\"\_blank\">Payment " |
  | 4093 | 4093 | "Settings</a> tab." |
  | 4094 | 4094 | msgstr "" |
* ## [simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php](/changeset/3045036/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?old=3021218&old_path=simple-membership%2Ftrunk%2Flib%2Fpaypal%2Fclass-swpm-paypal-main.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php")

  | [r3021218](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?rev=3021218#L8 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?rev=3045036#L8 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-webhook.php' ); |
  | 9 | 9 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-webhook-event-handler.php' ); |
  | 10 |  | ~~include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-onapprove-ipn-handler.php' );~~ |
  | 11 | 10 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-utility-functions.php' );//Misc project specific utility functions. |
  | 12 | 11 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-utility-ipn-related.php' );//Misc IPN related utility functions. |
  | 13 | 12 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-cache.php' ); |
  | 14 | 13 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-bearer.php' ); |
  | 15 |  | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-button-ajax-handler.php' ); |
  |  | 14 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-button-ajax-handler.php' );//Standard button related ajax handler. |
  |  | 15 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-button-sub-ajax-handler.php' );//Subscription button related ajax handler. |
  | 16 | 16 | include\_once( SIMPLE\_WP\_MEMBERSHIP\_PATH . 'lib/paypal/class-swpm-paypal-acdc-related.php' ); |
  | 17 | 17 |  |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?rev=3021218#L48) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-main.php?rev=3045036#L48) |  |
  | 48 | 48 | new SWPM\_PayPal\_Button\_Ajax\_Hander(); |
  | 49 | 49 |  |
  | 50 |  | //Initialize the PayPal ~~OnApprove IPN Handler so it can handle the 'onApprove'~~ ajax request(s). |
  | 51 |  | new SWPM\_PayPal\_~~OnApprove\_IPN\_Handl~~er(); |
  |  | 50 | //Initialize the PayPal Subscription Button Related Ajax Class so it can handle the ajax request(s). |
  |  | 51 | new SWPM\_PayPal\_Button\_Sub\_Ajax\_Hander(); |
  | 52 | 52 |  |
  | 53 | 53 | //Initialize the PayPal ACDC related class so it can handle the ajax request(s). |
* ## [simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php](/changeset/3045036/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?old=3021218&old_path=simple-membership%2Ftrunk%2Flib%2Fpaypal%2Fclass-swpm-paypal-request-api-injector.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php")

  | [r3021218](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3021218#L176 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3045036#L176 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 176 | 176 |  |
  | 177 | 177 | /\* |
  |  | 178 | \* Creates a PayPal subscription for a user (for the given plan\_id). |
  |  | 179 | \*/ |
  |  | 180 | public function create\_paypal\_subscription\_for\_billing\_plan( $plan\_id, $data = array(), $additional\_args = array()){ |
  |  | 181 | //https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions\_create |
  |  | 182 |  |
  |  | 183 | $endpoint = '/v1/billing/subscriptions'; |
  |  | 184 |  |
  |  | 185 | $params = array( |
  |  | 186 | 'plan\_id' => $plan\_id, |
  |  | 187 | 'application\_context' => array( |
  |  | 188 | 'user\_action' => 'SUBSCRIBE\_NOW', //SUBSCRIBE\_NOW will activate the subscription immediately. |
  |  | 189 | 'payment\_method' => array( |
  |  | 190 | 'payer\_selected' => 'PAYPAL', |
  |  | 191 | 'payee\_preferred' => 'IMMEDIATE\_PAYMENT\_REQUIRED', |
  |  | 192 | ), |
  |  | 193 | ), |
  |  | 194 | ); |
  |  | 195 |  |
  |  | 196 | //Simple params (useulf for testing) |
  |  | 197 | // $params = array( |
  |  | 198 | //     'plan\_id' => $plan\_id |
  |  | 199 | // ); |
  |  | 200 |  |
  |  | 201 | //Do the API call. |
  |  | 202 | $response = $this->paypal\_req\_api->post($endpoint, $params, $additional\_args); |
  |  | 203 |  |
  |  | 204 | //Check if we need to return the body or raw response instead of just the order ID. |
  |  | 205 | if( isset($additional\_args['return\_raw\_response']) ||  isset( $additional\_args['return\_response\_body'] ) ){ |
  |  | 206 | //Instead of just the subscription ID; return the raw response or the response body (that came back from the post method) |
  |  | 207 | return $response; |
  |  | 208 | } |
  |  | 209 |  |
  |  | 210 | //Return the standard response. |
  |  | 211 | if ( $response !== false){ |
  |  | 212 | //Response is a success! |
  |  | 213 | //JSON decode the response body to an object. |
  |  | 214 | $json\_response\_body = json\_decode( wp\_remote\_retrieve\_body( $response ) ); |
  |  | 215 | $created\_sub\_id = $json\_response\_body->id; |
  |  | 216 | SwpmLog::log\_simple\_debug('Create-subscription response. Subscription ID: '. $created\_sub\_id, true); |
  |  | 217 | return $created\_sub\_id; |
  |  | 218 | } else { |
  |  | 219 | //There was a WP Error with the remote request. Enable debug logging to get more details from the log file. |
  |  | 220 | return false; |
  |  | 221 | } |
  |  | 222 |  |
  |  | 223 | } |
  |  | 224 |  |
  |  | 225 | /\* |
  | 178 | 226 | \* Show the details of a paypal subscription. |
  | 179 | 227 | \* https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions\_get |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3021218#L194) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api-injector.php?rev=3045036#L242) |  |
  | 194 | 242 | } |
  | 195 | 243 |  |
  |  | 244 |  |
  |  | 245 | /\* |
  |  | 246 | \* Gets a list of all the transactions of a paypal subscription. |
  |  | 247 | \* @return - an array of transactions object on success. |
  |  | 248 | \*/ |
  |  | 249 | public function get\_paypal\_subscription\_transactions\_list( $sub\_id, $start\_time, $end\_time = '' ){ |
  |  | 250 | //https://developer.paypal.com/docs/api/subscriptions/v1/#subscriptions\_transactions |
  |  | 251 |  |
  |  | 252 | $endpoint = '/v1/billing/subscriptions/'.$sub\_id.'/transactions'; |
  |  | 253 |  |
  |  | 254 | //If end\_time is not provided, then use the current time. |
  |  | 255 | if( empty($end\_time) ){ |
  |  | 256 | $end\_time = date('c');//Current time in ISO 8601 format (Example: 2024-02-27T03:28:34+00:00) |
  |  | 257 | } |
  |  | 258 |  |
  |  | 259 | $params = array( |
  |  | 260 | 'start\_time' => $start\_time, |
  |  | 261 | 'end\_time' => $end\_time, |
  |  | 262 | ); |
  |  | 263 |  |
  |  | 264 | //Do the API call. |
  |  | 265 | $response = $this->paypal\_req\_api->get($endpoint, $params); |
  |  | 266 |  |
  |  | 267 | if ( $response !== false){ |
  |  | 268 | //Get the array of transactions. |
  |  | 269 | $transactions = $response->transactions; |
  |  | 270 | // foreach($transactions as $txn){ |
  |  | 271 | //    echo '<br />Txn ID: ' . $txn->id; |
  |  | 272 | // } |
  |  | 273 | return $transactions; |
  |  | 274 | } else { |
  |  | 275 | return false; |
  |  | 276 | } |
  |  | 277 | } |
  |  | 278 |  |
  | 196 | 279 | /\* |
  | 197 | 280 | \* Show the details of a paypal order/transaction. |
* ## [simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php](/changeset/3045036/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?old=3021218&old_path=simple-membership%2Ftrunk%2Flib%2Fpaypal%2Fclass-swpm-paypal-request-api.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php")

  | [r3021218](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3021218#L188 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L188 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 188 | 188 |  |
  | 189 | 189 | $status\_code = isset( $additional\_args['status\_code'] ) ? $additional\_args['status\_code'] : 200; |
  |  | 190 | //Return the response body as a JSON decoded object. |
  | 190 | 191 | $return = $this->process\_request\_result( $res, $status\_code, $additional\_args ); |
  | 191 | 192 |  |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3021218#L229) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L230) |  |
  | 229 | 230 |  |
  | 230 | 231 | //=== Debug purposes (Useful for PayPal Tech Support) === |
  | 231 |  | // SwpmLog::log\_array\_data\_to\_debug( $payload, true); |
  |  | 232 | //SwpmLog::log\_simple\_debug( 'PayPal REST API request URL: ' . $request\_url, true ); |
  |  | 233 | //SwpmLog::log\_array\_data\_to\_debug( $payload, true); |
  | 232 | 234 | //=== End of debug purposes === |
  | 233 | 235 |  |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3021218#L246) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L248) |  |
  | 246 | 248 | //POST success response status code is 201 by default |
  | 247 | 249 | $status\_code = isset( $additional\_args['status\_code'] ) ? $additional\_args['status\_code'] : 201; |
  |  | 250 | //Return the response body as a JSON decoded object. |
  | 248 | 251 | $return = $this->process\_request\_result( $res, $status\_code, $additional\_args ); |
  | 249 | 252 |  |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3021218#L289) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L292) |  |
  | 289 | 292 | //DELETE action's success response status code is 204 by default |
  | 290 | 293 | $status\_code = isset( $additional\_args['status\_code'] ) ? $additional\_args['status\_code'] : 204; |
  |  | 294 | //Return the response body as a JSON decoded object. |
  | 291 | 295 | $return = $this->process\_request\_result( $res, $status\_code, $additional\_args ); |
  | 292 | 296 |  |
  | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3021218#L295) | […](/browser/simple-membership/trunk/lib/paypal/class-swpm-paypal-request-api.php?rev=3045036#L299) |  |
  | 295 | 299 | /\* |
  | 296 | 300 | \* Checks the response and if it finds any error, it stores the error details in the last\_error var then returns false. |
  |  | 301 | \* If the response is successful, it returns the response body as a JSON decoded object. |
  | 297 | 302 | \* Minimizes the amount of response code check the source code has to do. |
  | 298 | 303 | \*/ |
* ## [simple-membership/trunk/readme.txt](/changeset/3045036/simple-membership/trunk/readme.txt?old=3021218&old_path=simple-membership%2Ftrunk%2Freadme.txt "Show the [3021218:3045036] differences restricted to simple-membership/trunk/readme.txt")

  | [r3021218](/browser/simple-membership/trunk/readme.txt?rev=3021218#L6 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/readme.txt?rev=3045036#L6 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 | 7 | Tested up to: 6.4 |
  | 8 |  | Stable tag: 4.4.~~2~~ |
  |  | 8 | Stable tag: 4.4.3 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/simple-membership/trunk/readme.txt?rev=3021218#L171) | […](/browser/simple-membership/trunk/readme.txt?rev=3045036#L171) |  |
  | 171 | 171 | == Changelog == |
  | 172 | 172 |  |
  |  | 173 | = 4.4.3 = |
  |  | 174 | - The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. |
  |  | 175 | - Updated the documentation link for the Stripe Subscription button configuration. |
  |  | 176 | - Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. |
  |  | 177 | - New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. |
  |  | 178 | - Added Arabic translation files to the plugin. Thanks to @Adham. |
  |  | 179 | - Added output escaping to the new registration and edit profile forms. |
  |  | 180 |  |
  | 173 | 181 | = 4.4.2 = |
  | 174 | 182 | - Added an option to specify a cancel URL for Stripe buy now button. |
* ## [simple-membership/trunk/simple-wp-membership.php](/changeset/3045036/simple-membership/trunk/simple-wp-membership.php?old=3021218&old_path=simple-membership%2Ftrunk%2Fsimple-wp-membership.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/simple-wp-membership.php")

  | [r3021218](/browser/simple-membership/trunk/simple-wp-membership.php?rev=3021218#L2 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/simple-wp-membership.php?rev=3045036#L2 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | /\* |
  | 3 | 3 | Plugin Name: Simple WordPress Membership |
  | 4 |  | Version: 4.4.~~2~~ |
  |  | 4 | Version: 4.4.3 |
  | 5 | 5 | Plugin URI: https://simple-membership-plugin.com/ |
  | 6 | 6 | Author: smp7, wp.insider |
  | […](/browser/simple-membership/trunk/simple-wp-membership.php?rev=3021218#L17) | […](/browser/simple-membership/trunk/simple-wp-membership.php?rev=3045036#L17) |  |
  | 17 | 17 | } |
  | 18 | 18 |  |
  | 19 |  | define( 'SIMPLE\_WP\_MEMBERSHIP\_VER', '4.4.~~2~~' ); |
  |  | 19 | define( 'SIMPLE\_WP\_MEMBERSHIP\_VER', '4.4.3' ); |
  | 20 | 20 | define( 'SIMPLE\_WP\_MEMBERSHIP\_DB\_VER', '1.3' ); |
  | 21 | 21 | define( 'SIMPLE\_WP\_MEMBERSHIP\_SITE\_HOME\_URL', home\_url() ); |
* ## [simple-membership/trunk/views/add-v2.php](/changeset/3045036/simple-membership/trunk/views/add-v2.php?old=2991476&old_path=simple-membership%2Ftrunk%2Fviews%2Fadd-v2.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/add-v2.php")

  | [r3021218](/browser/simple-membership/trunk/views/add-v2.php?rev=2991476#L138 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/add-v2.php?rev=3045036#L138 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 138 | 138 | <div class="swpm-form-row swpm-terms-row"> |
  | 139 | 139 | <div> |
  | 140 |  | <label><input type="checkbox" id="swpm-accept-terms" name="accept\_terms" class="swpm-form-field swpm-form-terms" value="1"> <?php ~~echo SwpmUtils::\_('I accept the ') ?> <a href="<?php echo $terms\_page\_url; ?>" target="\_blank"><?php echo SwpmUtils::\_('Terms and Conditions~~') ?></a></label> |
  |  | 140 | <label><input type="checkbox" id="swpm-accept-terms" name="accept\_terms" class="swpm-form-field swpm-form-terms" value="1"> <?php \_e('I accept the ', 'simple-membership') ?> <a href="<?php echo esc\_url($terms\_page\_url); ?>" target="\_blank"><?php \_e('Terms and Conditions', 'simple-membership') ?></a></label> |
  | 141 | 141 | </div> |
  | 142 | 142 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/add-v2.php?rev=2991476#L150) | […](/browser/simple-membership/trunk/views/add-v2.php?rev=3045036#L150) |  |
  | 150 | 150 | <div class="swpm-form-row swpm-pp-row"> |
  | 151 | 151 | <div> |
  | 152 |  | <label><input type="checkbox" id="swpm-accept-pp" name="accept\_pp" class="swpm-form-field swpm-form-pp" value="1"> <?php ~~echo SwpmUtils::\_('I agree to the ') ?> <a href="<?php echo $pp\_page\_url; ?>" target="\_blank"><?php echo SwpmUtils::\_('Privacy Policy~~') ?></a></label> |
  |  | 152 | <label><input type="checkbox" id="swpm-accept-pp" name="accept\_pp" class="swpm-form-field swpm-form-pp" value="1"> <?php \_e('I agree to the ', 'simple-membership') ?> <a href="<?php echo esc\_url($pp\_page\_url); ?>" target="\_blank"><?php \_e('Privacy Policy', 'simple-membership') ?></a></label> |
  | 153 | 153 | </div> |
  | 154 | 154 | <div class="swpm-form-desc"></div> |
* ## [simple-membership/trunk/views/add.php](/changeset/3045036/simple-membership/trunk/views/add.php?old=2867650&old_path=simple-membership%2Ftrunk%2Fviews%2Fadd.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/add.php")

  | [r3021218](/browser/simple-membership/trunk/views/add.php?rev=2867650#L16 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/add.php?rev=3045036#L16 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | <table> |
  | 17 | 17 | <tr class="swpm-registration-username-row" <?php apply\_filters('swpm\_registration\_form\_username\_tr\_attributes', ''); ?>> |
  | 18 |  | <td><label for="user\_name"><?php ~~echo SwpmUtils::\_('Username~~') ?></label></td> |
  |  | 18 | <td><label for="user\_name"><?php \_e('Username', 'simple-membership') ?></label></td> |
  | 19 | 19 | <td><input type="text" id="user\_name" class="validate[required,custom[noapostrophe],custom[SWPMUserName],minSize[4],ajax[ajaxUserCall]]" value="<?php echo esc\_attr($user\_name); ?>" size="50" name="user\_name" <?php apply\_filters('swpm\_registration\_form\_username\_input\_attributes', ''); ?>/></td> |
  | 20 | 20 | </tr> |
  | 21 | 21 | <tr class="swpm-registration-email-row"> |
  | 22 |  | <td><label for="email"><?php ~~echo SwpmUtils::\_('Email~~') ?></label></td> |
  |  | 22 | <td><label for="email"><?php \_e('Email', 'simple-membership') ?></label></td> |
  | 23 | 23 | <td><input type="text" autocomplete="off" id="email" class="validate[required,custom[email],ajax[ajaxEmailCall]]" value="<?php echo esc\_attr($email); ?>" size="50" name="email" /></td> |
  | 24 | 24 | </tr> |
  | 25 | 25 | <tr class="swpm-registration-password-row"> |
  | 26 |  | <td><label for="password"><?php ~~echo SwpmUtils::\_('Password~~') ?></label></td> |
  |  | 26 | <td><label for="password"><?php \_e('Password', 'simple-membership') ?></label></td> |
  | 27 | 27 | <td><input type="password" autocomplete="off" id="password" class="<?php echo apply\_filters('swpm\_registration\_input\_pass\_class', $pass\_class); ?>" value="" size="50" name="password" /></td> |
  | 28 | 28 | </tr> |
  | 29 | 29 | <tr class="swpm-registration-password-retype-row"> |
  | 30 |  | <td><label for="password\_re"><?php ~~echo SwpmUtils::\_('Repeat Password~~') ?></label></td> |
  |  | 30 | <td><label for="password\_re"><?php \_e('Repeat Password', 'simple-membership') ?></label></td> |
  | 31 | 31 | <td><input type="password" autocomplete="off" id="password\_re" value="" size="50" name="password\_re" /></td> |
  | 32 | 32 | </tr> |
  | 33 | 33 | <tr class="swpm-registration-firstname-row" <?php apply\_filters('swpm\_registration\_form\_firstname\_tr\_attributes', ''); ?>> |
  | 34 |  | <td><label for="first\_name"><?php ~~echo SwpmUtils::\_('First Name~~') ?></label></td> |
  |  | 34 | <td><label for="first\_name"><?php \_e('First Name', 'simple-membership') ?></label></td> |
  | 35 | 35 | <td><input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" size="50" name="first\_name" /></td> |
  | 36 | 36 | </tr> |
  | 37 | 37 | <tr class="swpm-registration-lastname-row" <?php apply\_filters('swpm\_registration\_form\_lastname\_tr\_attributes', ''); ?>> |
  | 38 |  | <td><label for="last\_name"><?php ~~echo SwpmUtils::\_('Last Name~~') ?></label></td> |
  |  | 38 | <td><label for="last\_name"><?php \_e('Last Name', 'simple-membership') ?></label></td> |
  | 39 | 39 | <td><input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" size="50" name="last\_name" /></td> |
  | 40 | 40 | </tr> |
  | 41 | 41 | <tr class="swpm-registration-membership-level-row" <?php apply\_filters('swpm\_registration\_form\_membership\_level\_tr\_attributes', ''); ?>> |
  | 42 |  | <td><label for="membership\_level"><?php ~~echo SwpmUtils::\_('Membership Level~~') ?></label></td> |
  |  | 42 | <td><label for="membership\_level"><?php \_e('Membership Level', 'simple-membership') ?></label></td> |
  | 43 | 43 | <td> |
  | 44 | 44 | <?php |
  | […](/browser/simple-membership/trunk/views/add.php?rev=2867650#L66) | […](/browser/simple-membership/trunk/views/add.php?rev=3045036#L66) |  |
  | 66 | 66 | <tr> |
  | 67 | 67 | <td colspan="2" style="text-align: center;"> |
  | 68 |  | <label><input type="checkbox" id="swpm-accept-terms" name="accept\_terms" class="validate[required]" value="1"> <?php ~~echo SwpmUtils::\_('I accept the ') ?> <a href="<?php echo $terms\_page\_url; ?>" target="\_blank"><?php echo SwpmUtils::\_('Terms and Conditions~~') ?></a></label> |
  |  | 68 | <label><input type="checkbox" id="swpm-accept-terms" name="accept\_terms" class="validate[required]" value="1"> <?php \_e('I accept the ', 'simple-membership') ?> <a href="<?php echo esc\_url($terms\_page\_url); ?>" target="\_blank"><?php \_e('Terms and Conditions', 'simple-membership') ?></a></label> |
  | 69 | 69 | </td> |
  | 70 | 70 | </tr> |
  | […](/browser/simple-membership/trunk/views/add.php?rev=2867650#L78) | […](/browser/simple-membership/trunk/views/add.php?rev=3045036#L78) |  |
  | 78 | 78 | <tr> |
  | 79 | 79 | <td colspan="2" style="text-align: center;"> |
  | 80 |  | <label><input type="checkbox" id="swpm-accept-pp" name="accept\_pp" class="validate[required]" value="1"> <?php ~~echo SwpmUtils::\_('I agree to the ') ?> <a href="<?php echo $pp\_page\_url; ?>" target="\_blank"><?php echo SwpmUtils::\_('Privacy Policy~~') ?></a></label> |
  |  | 80 | <label><input type="checkbox" id="swpm-accept-pp" name="accept\_pp" class="validate[required]" value="1"> <?php \_e('I agree to the ', 'simple-membership') ?> <a href="<?php echo esc\_url($pp\_page\_url); ?>" target="\_blank"><?php \_e('Privacy Policy', 'simple-membership') ?></a></label> |
  | 81 | 81 | </td> |
  | 82 | 82 | </tr> |
  | […](/browser/simple-membership/trunk/views/add.php?rev=2867650#L89) | […](/browser/simple-membership/trunk/views/add.php?rev=3045036#L89) |  |
  | 89 | 89 |  |
  | 90 | 90 | <div class="swpm-registration-submit-section" align="center"> |
  | 91 |  | <input type="submit" value="<?php ~~echo SwpmUtils::\_('Register~~') ?>" class="swpm-registration-submit" name="swpm\_registration\_submit" /> |
  |  | 91 | <input type="submit" value="<?php \_e('Register', 'simple-membership') ?>" class="swpm-registration-submit" name="swpm\_registration\_submit" /> |
  | 92 | 92 | </div> |
  | 93 | 93 |  |
* ## [simple-membership/trunk/views/edit-v2.php](/changeset/3045036/simple-membership/trunk/views/edit-v2.php?old=2991476&old_path=simple-membership%2Ftrunk%2Fviews%2Fedit-v2.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/edit-v2.php")

  | [r3021218](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L49 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L49 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 49 | 49 | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
  | 50 | 50 | </div> |
  | 51 |  | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo ~~$user\_name~~ ?></div> |
  |  | 51 | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
  | 52 | 52 | </div> |
  | 53 | 53 | <div class="swpm-form-row swpm-email-row"> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L56) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L56) |  |
  | 56 | 56 | </div> |
  | 57 | 57 | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
  | 58 |  | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo ~~$email~~; ?>" /> |
  |  | 58 | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
  | 59 | 59 | </div> |
  | 60 | 60 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L83) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L83) |  |
  | 83 | 83 | </div> |
  | 84 | 84 | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
  | 85 |  | <input type="text" id="first\_name" value="<?php echo ~~$first\_name~~; ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
  |  | 85 | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
  | 86 | 86 | </div> |
  | 87 | 87 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L92) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L92) |  |
  | 92 | 92 | </div> |
  | 93 | 93 | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
  | 94 |  | <input type="text" id="last\_name" value="<?php echo ~~$last\_name~~; ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
  |  | 94 | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
  | 95 | 95 | </div> |
  | 96 | 96 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L101) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L101) |  |
  | 101 | 101 | </div> |
  | 102 | 102 | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
  | 103 |  | <input type="text" id="phone" value="<?php echo ~~$phone~~; ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
  |  | 103 | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
  | 104 | 104 | </div> |
  | 105 | 105 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L110) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L110) |  |
  | 110 | 110 | </div> |
  | 111 | 111 | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
  | 112 |  | <input type="text" id="address\_street" value="<?php echo ~~$address\_street~~; ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
  |  | 112 | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
  | 113 | 113 | </div> |
  | 114 | 114 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L119) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L119) |  |
  | 119 | 119 | </div> |
  | 120 | 120 | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
  | 121 |  | <input type="text" id="address\_city" value="<?php echo ~~$address\_city~~; ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
  |  | 121 | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
  | 122 | 122 | </div> |
  | 123 | 123 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L128) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L128) |  |
  | 128 | 128 | </div> |
  | 129 | 129 | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
  | 130 |  | <input type="text" id="address\_state" value="<?php echo ~~$address\_state~~; ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
  |  | 130 | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
  | 131 | 131 | </div> |
  | 132 | 132 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L137) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L137) |  |
  | 137 | 137 | </div> |
  | 138 | 138 | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
  | 139 |  | <input type="text" id="address\_zipcode" value="<?php echo ~~$address\_zipcode~~; ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
  |  | 139 | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
  | 140 | 140 | </div> |
  | 141 | 141 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L155) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L155) |  |
  | 155 | 155 | </div> |
  | 156 | 156 | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
  | 157 |  | <input type="text" id="company\_name" value="<?php echo ~~$company\_name~~; ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
  |  | 157 | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
  | 158 | 158 | </div> |
  | 159 | 159 | <div class="swpm-form-desc"></div> |
  | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476#L164) | […](/browser/simple-membership/trunk/views/edit-v2.php?rev=3045036#L164) |  |
  | 164 | 164 | </div> |
  | 165 | 165 | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
  | 166 |  | <?php echo ~~$membership\_level\_alias~~; ?> |
  |  | 166 | <?php echo esc\_attr($membership\_level\_alias); ?> |
  | 167 | 167 | </div> |
  | 168 | 168 | </div> |
* ## [simple-membership/trunk/views/edit.php](/changeset/3045036/simple-membership/trunk/views/edit.php?old=2867650&old_path=simple-membership%2Ftrunk%2Fviews%2Fedit.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/edit.php")

  | [r3021218](/browser/simple-membership/trunk/views/edit.php?rev=2867650#L21 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/edit.php?rev=3045036#L21 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
  | 22 | 22 | <tr class="swpm-profile-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
  | 23 |  | <td><label for="user\_name"><?php ~~echo SwpmUtils::\_('Username~~'); ?></label></td> |
  | 24 |  | <td><?php echo ~~$user\_name~~ ?></td> |
  |  | 23 | <td><label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label></td> |
  |  | 24 | <td><?php echo esc\_attr($user\_name) ?></td> |
  | 25 | 25 | </tr> |
  | 26 | 26 | <tr class="swpm-profile-email-row"> |
  | 27 |  | <td><label for="email"><?php ~~echo SwpmUtils::\_('Email~~'); ?></label></td> |
  | 28 |  | <td><input type="text" id="email" name="email" size="50" autocomplete="off" class="" value="<?php echo ~~$email~~; ?>" /></td> |
  |  | 27 | <td><label for="email"><?php \_e('Email', 'simple-membership'); ?></label></td> |
  |  | 28 | <td><input type="text" id="email" name="email" size="50" autocomplete="off" class="" value="<?php echo esc\_attr($email); ?>" /></td> |
  | 29 | 29 | </tr> |
  | 30 | 30 | <tr class="swpm-profile-password-row"> |
  | 31 |  | <td><label for="password"><?php ~~echo SwpmUtils::\_('Password~~'); ?></label></td> |
  | 32 |  | <td><input type="password" id="password" value="" size="50" name="password" class="<?php echo $pass\_class;?>" autocomplete="off" placeholder="<?php ~~echo SwpmUtils::\_('Leave empty to keep the current password~~'); ?>" /></td> |
  |  | 31 | <td><label for="password"><?php \_e('Password', 'simple-membership'); ?></label></td> |
  |  | 32 | <td><input type="password" id="password" value="" size="50" name="password" class="<?php echo $pass\_class;?>" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /></td> |
  | 33 | 33 | </tr> |
  | 34 | 34 | <tr class="swpm-profile-password-retype-row"> |
  | 35 |  | <td><label for="password\_re"><?php ~~echo SwpmUtils::\_('Repeat Password~~'); ?></label></td> |
  | 36 |  | <td><input type="password" id="password\_re" value="" size="50" name="password\_re" autocomplete="off" placeholder="<?php ~~echo SwpmUtils::\_('Leave empty to keep the current password~~'); ?>" /></td> |
  |  | 35 | <td><label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label></td> |
  |  | 36 | <td><input type="password" id="password\_re" value="" size="50" name="password\_re" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /></td> |
  | 37 | 37 | </tr> |
  | 38 | 38 | <tr class="swpm-profile-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
  | 39 |  | <td><label for="first\_name"><?php ~~echo SwpmUtils::\_('First Name~~'); ?></label></td> |
  | 40 |  | <td><input type="text" id="first\_name" value="<?php echo ~~$first\_name~~; ?>" size="50" name="first\_name" /></td> |
  |  | 39 | <td><label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label></td> |
  |  | 40 | <td><input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" size="50" name="first\_name" /></td> |
  | 41 | 41 | </tr> |
  | 42 | 42 | <tr class="swpm-profile-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
  | 43 |  | <td><label for="last\_name"><?php ~~echo SwpmUtils::\_('Last Name~~'); ?></label></td> |
  | 44 |  | <td><input type="text" id="last\_name" value="<?php echo ~~$last\_name~~; ?>" size="50" name="last\_name" /></td> |
  |  | 43 | <td><label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label></td> |
  |  | 44 | <td><input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" size="50" name="last\_name" /></td> |
  | 45 | 45 | </tr> |
  | 46 | 46 | <tr class="swpm-profile-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
  | 47 |  | <td><label for="phone"><?php ~~echo SwpmUtils::\_('Phone~~'); ?></label></td> |
  | 48 |  | <td><input type="text" id="phone" value="<?php echo ~~$phone~~; ?>" size="50" name="phone" /></td> |
  |  | 47 | <td><label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label></td> |
  |  | 48 | <td><input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" size="50" name="phone" /></td> |
  | 49 | 49 | </tr> |
  | 50 | 50 | <tr class="swpm-profile-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
  | 51 |  | <td><label for="address\_street"><?php ~~echo SwpmUtils::\_('Street~~'); ?></label></td> |
  | 52 |  | <td><input type="text" id="address\_street" value="<?php echo ~~$address\_street~~; ?>" size="50" name="address\_street" /></td> |
  |  | 51 | <td><label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label></td> |
  |  | 52 | <td><input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" size="50" name="address\_street" /></td> |
  | 53 | 53 | </tr> |
  | 54 | 54 | <tr class="swpm-profile-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
  | 55 |  | <td><label for="address\_city"><?php ~~echo SwpmUtils::\_('City~~'); ?></label></td> |
  | 56 |  | <td><input type="text" id="address\_city" value="<?php echo ~~$address\_city~~; ?>" size="50" name="address\_city" /></td> |
  |  | 55 | <td><label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label></td> |
  |  | 56 | <td><input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" size="50" name="address\_city" /></td> |
  | 57 | 57 | </tr> |
  | 58 | 58 | <tr class="swpm-profile-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
  | 59 |  | <td><label for="address\_state"><?php ~~echo SwpmUtils::\_('State~~'); ?></label></td> |
  | 60 |  | <td><input type="text" id="address\_state" value="<?php echo ~~$address\_state~~; ?>" size="50" name="address\_state" /></td> |
  |  | 59 | <td><label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label></td> |
  |  | 60 | <td><input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" size="50" name="address\_state" /></td> |
  | 61 | 61 | </tr> |
  | 62 | 62 | <tr class="swpm-profile-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
  | 63 |  | <td><label for="address\_zipcode"><?php ~~echo SwpmUtils::\_('Zipcode~~'); ?></label></td> |
  | 64 |  | <td><input type="text" id="address\_zipcode" value="<?php echo ~~$address\_zipcode~~; ?>" size="50" name="address\_zipcode" /></td> |
  |  | 63 | <td><label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label></td> |
  |  | 64 | <td><input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" size="50" name="address\_zipcode" /></td> |
  | 65 | 65 | </tr> |
  | 66 | 66 | <tr class="swpm-profile-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
  | 67 |  | <td><label for="country"><?php ~~echo SwpmUtils::\_('Country~~'); ?></label></td> |
  |  | 67 | <td><label for="country"><?php \_e('Country', 'simple-membership'); ?></label></td> |
  | 68 | 68 | <td><select id="country" name="country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select></td> |
  | 69 | 69 | </tr> |
  | 70 | 70 | <tr class="swpm-profile-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
  | 71 |  | <td><label for="company\_name"><?php ~~echo SwpmUtils::\_('Company Name~~'); ?></label></td> |
  | 72 |  | <td><input type="text" id="company\_name" value="<?php echo ~~$company\_name~~; ?>" size="50" name="company\_name" /></td> |
  |  | 71 | <td><label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label></td> |
  |  | 72 | <td><input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" size="50" name="company\_name" /></td> |
  | 73 | 73 | </tr> |
  | 74 | 74 | <tr class="swpm-profile-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
  | 75 |  | <td><label for="membership\_level"><?php ~~echo SwpmUtils::\_('Membership Level~~'); ?></label></td> |
  |  | 75 | <td><label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label></td> |
  | 76 | 76 | <td> |
  | 77 |  | <?php echo ~~$membership\_level\_alias~~; ?> |
  |  | 77 | <?php echo esc\_attr($membership\_level\_alias); ?> |
  | 78 | 78 | </td> |
  | 79 | 79 | </tr> |
  | […](/browser/simple-membership/trunk/views/edit.php?rev=2867650#L82) | […](/browser/simple-membership/trunk/views/edit.php?rev=3045036#L82) |  |
  | 82 | 82 | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); ?> |
  | 83 | 83 | <p class="swpm-edit-profile-submit-section"> |
  | 84 |  | <input type="submit" value="<?php ~~echo SwpmUtils::\_('Update~~') ?>" class="swpm-edit-profile-submit" name="swpm\_editprofile\_submit" /> |
  |  | 84 | <input type="submit" value="<?php \_e('Update', 'simple-membership') ?>" class="swpm-edit-profile-submit" name="swpm\_editprofile\_submit" /> |
  | 85 | 85 | </p> |
  | 86 | 86 | <?php echo SwpmUtils::delete\_account\_button(); ?> |
* ## [simple-membership/trunk/views/forgot\_password.php](/changeset/3045036/simple-membership/trunk/views/forgot_password.php?old=2991476&old_path=simple-membership%2Ftrunk%2Fviews%2Fforgot_password.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/forgot_password.php")

  | [r3021218](/browser/simple-membership/trunk/views/forgot_password.php?rev=2991476#L11 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/forgot_password.php?rev=3045036#L11 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | <div class="swpm-pw-reset-widget-inside"> |
  | 12 | 12 | <div class="swpm-pw-reset-email swpm-margin-top-10"> |
  | 13 |  | <label for="swpm\_reset\_email" class="swpm\_label swpm-pw-reset-email-label"><?php ~~echo SwpmUtils::\_('Email Address~~') ?></label> |
  |  | 13 | <label for="swpm\_reset\_email" class="swpm\_label swpm-pw-reset-email-label"><?php \_e('Email Address', 'simple-membership') ?></label> |
  | 14 | 14 | </div> |
  | 15 | 15 | <div class="swpm-pw-reset-email-input swpm-margin-top-10"> |
  | […](/browser/simple-membership/trunk/views/forgot_password.php?rev=2991476#L18) | […](/browser/simple-membership/trunk/views/forgot_password.php?rev=3045036#L18) |  |
  | 18 | 18 | <div class="swpm-before-login-submit-section"><?php echo apply\_filters('swpm\_before\_pass\_reset\_form\_submit\_button', ''); ?></div> |
  | 19 | 19 | <div class="swpm-pw-reset-submit-button"> |
  | 20 |  | <input type="submit" name="swpm-reset" class="<?php echo esc\_attr($pass\_reset\_submit\_class); ?>" value="<?php ~~echo SwpmUtils::\_('Reset Password~~'); ?>" /> |
  |  | 20 | <input type="submit" name="swpm-reset" class="<?php echo esc\_attr($pass\_reset\_submit\_class); ?>" value="<?php \_e('Reset Password', 'simple-membership'); ?>" /> |
  | 21 | 21 | </div> |
  | 22 | 22 | </div> |
* ## [simple-membership/trunk/views/login.php](/changeset/3045036/simple-membership/trunk/views/login.php?old=2991476&old_path=simple-membership%2Ftrunk%2Fviews%2Flogin.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/login.php")

  | [r3021218](/browser/simple-membership/trunk/views/login.php?rev=2991476#L31 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/login.php?rev=3045036#L31 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | <div class="swpm-login-form-inner"> |
  | 32 | 32 | <div class="swpm-username-label"> |
  | 33 |  | <label for="swpm\_user\_name" class="swpm-label"><?php ~~echo SwpmUtils::\_($swpm\_username\_label~~) ?></label> |
  |  | 33 | <label for="swpm\_user\_name" class="swpm-label"><?php \_e($swpm\_username\_label, 'simple-membership') ?></label> |
  | 34 | 34 | </div> |
  | 35 | 35 | <div class="swpm-username-input"> |
  | […](/browser/simple-membership/trunk/views/login.php?rev=2991476#L37) | […](/browser/simple-membership/trunk/views/login.php?rev=3045036#L37) |  |
  | 37 | 37 | </div> |
  | 38 | 38 | <div class="swpm-password-label"> |
  | 39 |  | <label for="swpm\_password" class="swpm-label"><?php ~~echo SwpmUtils::\_('Password~~') ?></label> |
  |  | 39 | <label for="swpm\_password" class="swpm-label"><?php \_e('Password', 'simple-membership') ?></label> |
  | 40 | 40 | </div> |
  | 41 | 41 | <div class="swpm-password-input"> |
  | […](/browser/simple-membership/trunk/views/login.php?rev=2991476#L46) | […](/browser/simple-membership/trunk/views/login.php?rev=3045036#L46) |  |
  | 46 | 46 | <span class="swpm-password-toggle-checkbox"><input type="checkbox" name="swpm-password-toggle-checkbox" id="swpm-password-toggle-checkbox" data-state="password-hidden" > </span> |
  | 47 | 47 | <label for="swpm-password-toggle-checkbox" class="swpm-password-toggle-checkbox-label"> |
  | 48 |  | <span class="swpm-password-toggle-label"> <?php ~~echo SwpmUtils::\_('Show password~~') ?></span> |
  |  | 48 | <span class="swpm-password-toggle-label"> <?php \_e('Show password', 'simple-membership') ?></span> |
  | 49 | 49 | </label> |
  | 50 | 50 | </div> |
  | […](/browser/simple-membership/trunk/views/login.php?rev=2991476#L53) | […](/browser/simple-membership/trunk/views/login.php?rev=3045036#L53) |  |
  | 53 | 53 | <span class="swpm-remember-checkbox"><input type="checkbox" name="rememberme" id="swpm-rememberme"></span> |
  | 54 | 54 | <label for="swpm-rememberme" class="swpm-rememberme-label"> |
  | 55 |  | <span class="swpm-rember-label"> <?php ~~echo SwpmUtils::\_('Remember Me~~') ?></span> |
  |  | 55 | <span class="swpm-rember-label"> <?php \_e('Remember Me', 'simple-membership') ?></span> |
  | 56 | 56 | </label> |
  | 57 | 57 | </div> |
  | […](/browser/simple-membership/trunk/views/login.php?rev=2991476#L60) | […](/browser/simple-membership/trunk/views/login.php?rev=3045036#L60) |  |
  | 60 | 60 |  |
  | 61 | 61 | <div class="swpm-login-submit"> |
  | 62 |  | <input type="submit" class="<?php echo esc\_attr($login\_submit\_class); ?>" name="swpm-login" value="<?php ~~echo SwpmUtils::\_('Log In~~') ?>"/> |
  |  | 62 | <input type="submit" class="<?php echo esc\_attr($login\_submit\_class); ?>" name="swpm-login" value="<?php \_e('Log In', 'simple-membership') ?>"/> |
  | 63 | 63 | </div> |
  | 64 | 64 | <div class="swpm-forgot-pass-link"> |
  | 65 |  | <a id="forgot\_pass" class="swpm-login-form-pw-reset-link"  href="<?php echo ~~$password\_reset\_url; ?>"><?php echo SwpmUtils::\_('Forgot Password?~~') ?></a> |
  |  | 65 | <a id="forgot\_pass" class="swpm-login-form-pw-reset-link"  href="<?php echo esc\_url($password\_reset\_url); ?>"><?php \_e('Forgot Password?', 'simple-membership') ?></a> |
  | 66 | 66 | </div> |
  | 67 | 67 | <div class="swpm-join-us-link"> |
  | 68 |  | <a id="register" class="swpm-login-form-register-link" href="<?php echo ~~$join\_url; ?>"><?php echo SwpmUtils::\_('Join Us~~') ?></a> |
  |  | 68 | <a id="register" class="swpm-login-form-register-link" href="<?php echo esc\_url($join\_url); ?>"><?php \_e('Join Us', 'simple-membership') ?></a> |
  | 69 | 69 | </div> |
  | 70 | 70 | <div class="swpm-login-action-msg"> |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_paypal\_buy\_now\_new\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_buy_now_new_button.php?old=2868577&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_paypal_buy_now_new_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_paypal_buy_now_new_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_buy_now_new_button.php?rev=2868577#L133 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_buy_now_new_button.php?rev=3045036#L133 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 133 | 133 | echo '<div class="swpm-orange-box">'; |
  | 134 | 134 | echo 'You need to configure your PayPal API credentials first. '; |
  | 135 |  | echo '<a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Click here</a> to configure your PayPal API credentials in the payment settings menu.'; |
  |  | 135 | echo '<a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_pp\_api" target="\_blank">Click here</a> to configure your PayPal API credentials in the payment settings menu.'; |
  | 136 | 136 | echo '</div>'; |
  | 137 | 137 | return; |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_paypal\_subscription\_new\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_subscription_new_button.php?old=2868577&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_paypal_subscription_new_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_paypal_subscription_new_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_subscription_new_button.php?rev=2868577#L155 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_paypal_subscription_new_button.php?rev=3045036#L155 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 155 | 155 | echo '<div class="swpm-orange-box">'; |
  | 156 | 156 | echo 'You need to configure your PayPal API credentials first. '; |
  | 157 |  | echo '<a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Click here</a> to configure your PayPal API credentials in the payment settings menu.'; |
  |  | 157 | echo '<a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_pp\_api" target="\_blank">Click here</a> to configure your PayPal API credentials in the payment settings menu.'; |
  | 158 | 158 | echo '</div>'; |
  | 159 | 159 | return; |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_stripe\_buy\_now\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?old=2875084&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_stripe_buy_now_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?rev=2875084#L108 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?rev=3045036#L108 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | <td> |
  | 109 | 109 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" checked /> |
  | 110 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 110 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 111 | 111 | </td> |
  | 112 | 112 | </tr> |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?rev=2875084#L392) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_buy_now_button.php?rev=3045036#L392) |  |
  | 392 | 392 | <td> |
  | 393 | 393 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" <?php echo $use\_global\_keys ? ' checked' : ''; ?> /> |
  | 394 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 394 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 395 | 395 | </td> |
  | 396 | 396 | </tr> |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_stripe\_sca\_buy\_now\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?old=3021218&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_stripe_sca_buy_now_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3021218#L108 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L108 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 108 | 108 | <td> |
  | 109 | 109 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" checked/> |
  | 110 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 110 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 111 | 111 | </td> |
  | 112 | 112 | </tr> |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3021218#L400) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_buy_now_button.php?rev=3045036#L400) |  |
  | 400 | 400 | <td> |
  | 401 | 401 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" <?php echo $use\_global\_keys ? ' checked' : ''; ?> /> |
  | 402 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 402 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 403 | 403 | </td> |
  | 404 | 404 | </tr> |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_stripe\_sca\_subscription\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?old=2875084&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_stripe_sca_subscription_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=2875084#L149 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L149 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 149 | 149 | <td> |
  | 150 | 150 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" <?php echo $edit ? ( $use\_global\_keys ? ' checked' : '' ) : ' checked'; ?> /> |
  | 151 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 151 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 152 | 152 | </td> |
  | 153 | 153 | </tr> |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=2875084#L189) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_sca_subscription_button.php?rev=3045036#L189) |  |
  | 189 | 189 | <td> |
  | 190 | 190 | <kbd><?php echo SIMPLE\_WP\_MEMBERSHIP\_SITE\_HOME\_URL . '/?swpm\_process\_stripe\_subscription=1&hook=1'; ?></kbd> |
  | 191 |  | <p class="description">~~You should create a new Webhook in your Stripe account and put this URL there if you want the plugin to handle subscription expiration automatically.<br />~~ |
  | 192 |  | You ~~can get more info in the <a href="https://simple-membership-plugin.com/create-stripe-subscription-button-membership-payment~~/" target="\_blank">documentation</a>. |
  |  | 191 | <p class="description"> |
  |  | 192 | You should create a new Webhook in your Stripe account and put this URL there. You can get more info in the <a href="https://simple-membership-plugin.com/sca-compliant-stripe-subscription-button/" target="\_blank">documentation</a>. |
  | 193 | 193 | </p> |
  | 194 | 194 | </td> |
* ## [simple-membership/trunk/views/payments/payment-gateway/admin\_stripe\_subscription\_button.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_subscription_button.php?old=2875084&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fadmin_stripe_subscription_button.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/admin_stripe_subscription_button.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_subscription_button.php?rev=2875084#L141 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/admin_stripe_subscription_button.php?rev=3045036#L141 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 141 | 141 | <td> |
  | 142 | 142 | <input type="checkbox" name="stripe\_use\_global\_keys" value="1" <?php echo $use\_global\_keys ? ' checked' : ''; ?> /> |
  | 143 |  | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_~~settings&tab=2~~" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  |  | 143 | <p class="description"><?php echo SwpmUtils::\_( 'Use API keys from <a href="admin.php?page=simple\_wp\_membership\_payments&tab=payment\_settings&subtab=ps\_stripe" target="\_blank">Payment Settings</a> tab.' ); ?></p> |
  | 144 | 144 | </td> |
  | 145 | 145 | </tr> |
* ## [simple-membership/trunk/views/payments/payment-gateway/paypal\_buy\_now\_new\_button\_shortcode\_view.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?old=3010737&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fpaypal_buy_now_new_button_shortcode_view.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3010737#L170 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L170 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 170 | 170 | } else { |
  | 171 | 171 | const error\_message = JSON.stringify(response\_data); |
  |  | 172 | console.error('Error occurred during the create-order API call to PayPal. ' + error\_message); |
  | 172 | 173 | throw new Error(error\_message); |
  | 173 | 174 | } |
  | 174 | 175 | } catch (error) { |
  | 175 | 176 | console.error(error); |
  | 176 |  | alert('Could not initiate PayPal Checkout...\n\n' + ~~error~~); |
  |  | 177 | alert('Could not initiate PayPal Checkout...\n\n' + JSON.stringify(error)); |
  | 177 | 178 | } |
  | 178 | 179 | }, |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3010737#L258) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_buy_now_new_button_shortcode_view.php?rev=3045036#L259) |  |
  | 258 | 259 | } catch (error) { |
  | 259 | 260 | console.error(error); |
  | 260 |  | alert('~~Sorry, your transaction could not be processed...\n\n' + error~~); |
  |  | 261 | alert('PayPal returned an error! Transaction could not be processed. Enable the debug logging feature to get more details...\n\n' + JSON.stringify(error)); |
  | 261 | 262 | } |
  | 262 | 263 | }, |
* ## [simple-membership/trunk/views/payments/payment-gateway/paypal\_subscription\_new\_button\_shortcode\_view.php](/changeset/3045036/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?old=2960602&old_path=simple-membership%2Ftrunk%2Fviews%2Fpayments%2Fpayment-gateway%2Fpaypal_subscription_new_button_shortcode_view.php "Show the [3021218:3045036] differences restricted to simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php")

  | [r3021218](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=2960602#L76 "Show revision 3021218 of this file in browser") | [r3045036](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L76 "Show revision 3045036 of this file in browser") |  |
  | --- | --- | --- |
  | 76 | 76 | $return\_url = get\_post\_meta($button\_id, 'return\_url', true); |
  | 77 | 77 | $txn\_success\_message = \_\_('Transaction completed successfully!', 'simple-membership'); |
  | 78 |  |  |
  | 79 |  | ~~/\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*~~ |
  | 80 |  | ~~\* PayPal Plan ID.~~ |
  | 81 |  | ~~\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/~~ |
  | 82 |  | ~~//Get the plan ID (or create a new plan if needed) for the button.~~ |
  | 83 |  | ~~$plan\_id = get\_post\_meta( $button\_id, 'pp\_subscription\_plan\_id', true );~~ |
  | 84 |  | ~~if( empty( $plan\_id )){~~ |
  | 85 |  | ~~//Need to create a new plan~~ |
  | 86 |  | ~~$ret = SWPM\_PayPal\_Utility\_Functions::create\_billing\_plan\_for\_button( $button\_id );~~ |
  | 87 |  | ~~if( $ret['success'] === true ){~~ |
  | 88 |  | ~~$plan\_id = $ret['plan\_id'];~~ |
  | 89 |  | ~~SwpmLog::log\_simple\_debug( 'Created new PayPal subscription plan for button ID: ' . $button\_id . ', Plan ID: ' . $plan\_id, true );~~ |
  | 90 |  | ~~} else {~~ |
  | 91 |  | ~~$error\_msg = '<p class="swpm-red-box">Error! Could not create the PayPal subscription plan for the button. Error message: ' . esc\_attr( $ret['error\_message'] ) . '</p>';~~ |
  | 92 |  | ~~return $error\_msg;~~ |
  | 93 |  | ~~}~~ |
  | 94 |  | ~~} else {~~ |
  | 95 |  | ~~//Check if this plan exists in the PayPal account.~~ |
  | 96 |  | ~~if( !SWPM\_PayPal\_Utility\_Functions::check\_billing\_plan\_exists( $plan\_id ) ){~~ |
  | 97 |  | ~~//The plan ID does not exist in the PayPal account. Maybe the plan was created earlier in a different mode or using a different paypal account.~~ |
  | 98 |  | ~~//We need to create a fresh new plan for this button.~~ |
  | 99 |  | ~~$ret = SWPM\_PayPal\_Utility\_Functions::create\_billing\_plan\_fresh\_new( $button\_id );~~ |
  | 100 |  | ~~if( $ret['success'] === true ){~~ |
  | 101 |  | ~~$plan\_id = $ret['plan\_id'];~~ |
  | 102 |  | ~~SwpmLog::log\_simple\_debug( 'Created new PayPal subscription plan for button ID: ' . $button\_id . ', Plan ID: ' . $plan\_id, true );~~ |
  | 103 |  | ~~} else {~~ |
  | 104 |  | ~~$error\_msg = '<p class="swpm-red-box">Error! Could not create the PayPal subscription plan for the button. Error message: ' . esc\_attr( $ret['error\_message'] ) . '</p>';~~ |
  | 105 |  | ~~return $error\_msg;~~ |
  | 106 |  | ~~}~~ |
  | 107 |  | ~~}~~ |
  | 108 |  | ~~}~~ |
  | 109 | 78 |  |
  | 110 | 79 | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=2960602#L160) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L129) |  |
  | 160 | 129 | }, |
  | 161 | 130 |  |
  | 162 |  | // set up the recurring transaction |
  | 163 |  | createSubscription: function(data, actions) { |
  | 164 |  | // replace with your subscription plan id |
  | 165 |  | // https://developer.paypal.com/docs/subscriptions/#link-createplan |
  | 166 |  | return actions.subscription.create({ |
  | 167 |  | plan\_id: "<?php echo $plan\_id; ?>" |
  | 168 |  | }); |
  |  | 131 | // Handle the createSubscription call |
  |  | 132 | async createSubscription(data, actions) { |
  |  | 133 | console.log('createSubscription call triggered. Data: ' + JSON.stringify(data)); |
  |  | 134 |  |
  |  | 135 | //We will send ajax request that will create the subscription from the server side using PayPal API. |
  |  | 136 | let pp\_sub\_bn\_data = {}; |
  |  | 137 | pp\_sub\_bn\_data.button\_id = '<?php echo esc\_js($button\_id); ?>'; |
  |  | 138 | pp\_sub\_bn\_data.on\_page\_button\_id = '<?php echo esc\_js($on\_page\_embed\_button\_id); ?>'; |
  |  | 139 | pp\_sub\_bn\_data.item\_name = '<?php echo esc\_js($item\_name); ?>'; |
  |  | 140 | let post\_data = 'action=swpm\_pp\_create\_subscription&data=' + JSON.stringify(pp\_sub\_bn\_data) + '&\_wpnonce=<?php echo $nonce; ?>'; |
  |  | 141 | try { |
  |  | 142 | // Using fetch for AJAX request. This is supported in all modern browsers. |
  |  | 143 | const response = await fetch("<?php echo admin\_url( 'admin-ajax.php' ); ?>", { |
  |  | 144 | method: "post", |
  |  | 145 | headers: { |
  |  | 146 | 'Content-Type': 'application/x-www-form-urlencoded' |
  |  | 147 | }, |
  |  | 148 | body: post\_data |
  |  | 149 | }); |
  |  | 150 |  |
  |  | 151 | const response\_data = await response.json(); |
  |  | 152 |  |
  |  | 153 | if (response\_data.subscription\_id) { |
  |  | 154 | console.log('Create-subscription API call to PayPal completed successfully.'); |
  |  | 155 | //If we need to see the details, uncomment the following line. |
  |  | 156 | //console.log('Order data: ' + JSON.stringify(response\_data.sub\_data)); |
  |  | 157 |  |
  |  | 158 | //Return the subscription ID. |
  |  | 159 | return response\_data.subscription\_id; |
  |  | 160 | } else { |
  |  | 161 | const error\_message = JSON.stringify(response\_data); |
  |  | 162 | console.error('Error occurred during the create-subscription API call to PayPal. ' + error\_message); |
  |  | 163 | throw new Error(error\_message); |
  |  | 164 | } |
  |  | 165 | } catch (error) { |
  |  | 166 | console.error(error); |
  |  | 167 | alert('Could not initiate PayPal subscription...\n\n' + JSON.stringify(error)); |
  |  | 168 | } |
  | 169 | 169 | }, |
  | 170 | 170 |  |
  | 171 |  | // ~~n~~otify the buyer that the subscription is successful |
  |  | 171 | // Notify the buyer that the subscription is successful |
  | 172 | 172 | onApprove: function(data, actions) { |
  | 173 | 173 | console.log('Successfully created a subscription.'); |
  | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=2960602#L190) | […](/browser/simple-membership/trunk/views/payments/payment-gateway/paypal_subscription_new_button_shortcode_view.php?rev=3045036#L190) |  |
  | 190 | 190 | data.on\_page\_button\_id = '<?php echo esc\_js($on\_page\_embed\_button\_id); ?>'; |
  | 191 | 191 | data.item\_name = '<?php echo esc\_js($item\_name); ?>'; |
  | 192 |  | jQuery.post( '<?php echo admin\_url('admin-ajax.php'); ?>', { action: 'swpm\_onapprove\_~~create~~\_subscription', data: data, txn\_data: txn\_data, \_wpnonce: '<?php echo $nonce; ?>'}, function( response ) { |
  |  | 192 | jQuery.post( '<?php echo admin\_url('admin-ajax.php'); ?>', { action: 'swpm\_onapprove\_process\_subscription', data: data, txn\_data: txn\_data, \_wpnonce: '<?php echo $nonce; ?>'}, function( response ) { |
  | 193 | 193 | //console.log( 'Response from the server: ' + JSON.stringify( response ) ); |
  | 194 | 194 | if ( response.success ) { |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3045036&old=3021218&new_path=%2Fsimple-membership%2Ftrunk&old_path=%2Fsimple-membership%2Ftrunk)
* [Zip Archive](?format=zip&new=3045036&old=3021218&new_path=%2Fsimple-membership%2Ftrunk&old_path=%2Fsimple-membership%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_dd164563_20250111_073328.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_21c89bb3_20250111_073327.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_4c400ddb_20250111_073327.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_8675ac58_20250111_073326.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_00d94669_20250111_073327.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_b9b572ef_20250111_073328.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_46da577f_20250111_073328.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_c2c969b0_20250111_073332.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Simple Membership <= 4.4.2 - Unauthenticated Stored Self-Based Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Simple Membership <= 4.4.2 - Unauthenticated Stored Self-Based Cross-Site Scripting

4.7

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-1985](https://www.cve.org/CVERecord?id=CVE-2024-1985) |
| --- | --- |
| CVSS | 4.7 (Medium) |
| Publicly Published | March 5, 2024 |
| Last Updated | March 13, 2024 |
| Researcher | [stealthcopter](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/stealthcopter) |

### Description

The Simple Membership plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the 'Display Name' parameter in all versions up to, and including, 4.4.2 due to insufficient input sanitization and output escaping. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page. This vulnerability requires social engineering to successfully exploit, and the impact would be very limited due to the attacker requiring a user to login as the user with the injected payload for execution.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L85)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L95)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L103)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L112)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L121)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L130)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L139)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/simple-membership/trunk/views/edit-v2.php#L157)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3045036%40simple-membership%2Ftrunk&old=3021218%40simple-membership%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsimple-membership%2Fsimple-membership-442-unauthenticated-stored-self-based-cross-site-scripting&t=Simple%20Membership%20%3C%3D%204.4.2%20-%20Unauthenticated%20Stored%20Self-Based%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsimple-membership%2Fsimple-membership-442-unauthenticated-stored-self-based-cross-site-scripting&text=Simple%20Membership%20%3C%3D%204.4.2%20-%20Unauthenticated%20Stored%20Self-Based%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsimple-membership%2Fsimple-membership-442-unauthenticated-stored-self-based-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Simple Membership

#### [Simple Membership](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/simple-membership)

| Software Type | Plugin |
| --- | --- |
| Software Slug | simple-membership [(view on wordpress.org)](https://wordpress.org/plugins/simple-membership) |
| Patched? | Yes |
| Remediation | Update to version 4.4.3, or a newer patched version |
| Affected Version | * <= 4.4.2 |
| Patched Version | * 4.4.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_5e53ab4f_20250111_073326.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsimple-membership%2Ftrunk%2Fviews%2Fedit-v2.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/simple-membership/trunk/views/edit-v2.php?rev=2991476 "Revision 2991476")
* Next Revision →
* [Blame](/browser/simple-membership/trunk/views/edit-v2.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/simple-membership/trunk/views/edit-v2.php)

---

# [source:](/browser?order=name "Go to repository root") [simple-membership](/browser/simple-membership?order=name "View simple-membership")/[trunk](/browser/simple-membership/trunk?order=name "View trunk")/[views](/browser/simple-membership/trunk/views?order=name "View views")/[edit-v2.php](/browser/simple-membership/trunk/views/edit-v2.php?order=name "View edit-v2.php")

View diff against:

View revision:

| [Last change](/changeset/3045036/simple-membership/trunk/views/edit-v2.php "View differences") on this file was [3045036](/changeset/3045036/ "View changeset 3045036"), checked in by mra13, [10 months ago](/timeline?from=2024-03-04T12%3A56%3A30Z&precision=second "See timeline at 03/04/2024 12:56:30 PM") |
| --- |
| * The accepted payment method types can now be controlled from your Stripe account settings. This will allow you to enable/disable certain payment methods. * Updated the documentation link for the Stripe Subscription button configuration. * Enhanced the auto-login feature's redirect URL handling for better compatibility with some servers. * New registration and profile form UI and validation is the default UI for all new installs. The old UI can be enabled from the advanced settings menu. * Added Arabic translation files to the plugin. Thanks to @Adham. * Added output escaping to the new registration and edit profile forms. |
| **File size:** 12.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | $auth = SwpmAuth::get\_instance(); |
| [3](#L3) | $user\_data = (array) $auth->userData; |
| [4](#L4) | $user\_data['membership\_level\_alias'] = $auth->get('alias'); |
| [5](#L5) | extract($user\_data, EXTR\_SKIP); |
| [6](#L6) | $settings = SwpmSettings::get\_instance(); |
| [7](#L7) | $force\_strong\_pass = $settings->get\_value('force-strong-passwords'); |
| [8](#L8) |  |
| [9](#L9) | $custom\_pass\_pattern\_validator = ""; |
| [10](#L10) | $custom\_pass\_pattern\_validator\_msg = ""; |
| [11](#L11) | $custom\_pass\_min\_length\_validator = null; |
| [12](#L12) | $custom\_pass\_min\_length\_validator\_msg = ""; |
| [13](#L13) |  |
| [14](#L14) | if (!empty($force\_strong\_pass)) { |
| [15](#L15) | // Leaving the value empty will take the default strong password validation rule and its message. |
| [16](#L16) | // filters for password pattern customization. |
| [17](#L17) | $custom\_pass\_pattern\_validator = apply\_filters( "swpm\_profile\_pass\_pattern\_validation", "" ); |
| [18](#L18) | $custom\_pass\_pattern\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_pattern\_validation\_msg", "" ); |
| [19](#L19) | // filters for password min length customization. |
| [20](#L20) | $custom\_pass\_min\_length\_validator = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation", null ); |
| [21](#L21) | $custom\_pass\_min\_length\_validator\_msg = apply\_filters( "swpm\_profile\_pass\_min\_length\_validation\_msg", "" ); |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | $form\_id = "swpm-profile-form"; |
| [25](#L25) | $is\_strong\_password\_enabled = empty($force\_strong\_pass) ? 'false' : 'true'; |
| [26](#L26) | SimpleWpMembership::enqueue\_validation\_scripts\_v2( |
| [27](#L27) | "swpm-profile-form-validator", |
| [28](#L28) | array( |
| [29](#L29) | 'query\_args' => array( |
| [30](#L30) | 'member\_id' => filter\_input(INPUT\_GET, 'member\_id', FILTER\_SANITIZE\_NUMBER\_INT), |
| [31](#L31) | 'nonce' => wp\_create\_nonce('swpm-rego-form-ajax-nonce'), |
| [32](#L32) | ), |
| [33](#L33) | 'form\_id' => $form\_id, |
| [34](#L34) | 'is\_strong\_password\_enabled' => $is\_strong\_password\_enabled, |
| [35](#L35) | 'custom\_pass\_pattern\_validator' => $custom\_pass\_pattern\_validator, |
| [36](#L36) | 'custom\_pass\_pattern\_validator\_msg' => $custom\_pass\_pattern\_validator\_msg, |
| [37](#L37) | 'custom\_pass\_min\_length\_validator' => $custom\_pass\_min\_length\_validator, |
| [38](#L38) | 'custom\_pass\_min\_length\_validator\_msg' => $custom\_pass\_min\_length\_validator\_msg, |
| [39](#L39) | ) |
| [40](#L40) | ); |
| [41](#L41) | ?> |
| [42](#L42) | <div class="swpm-edit-profile-form"> |
| [43](#L43) | <form id="<?php echo $form\_id ?>" class="swpm-form" name="swpm-editprofile-form" method="post" action=""> |
| [44](#L44) | <?php wp\_nonce\_field('swpm\_profile\_edit\_nonce\_action', 'swpm\_profile\_edit\_nonce\_val') ?> |
| [45](#L45) | <div> |
| [46](#L46) | <?php apply\_filters('swpm\_edit\_profile\_form\_before\_username', ''); ?> |
| [47](#L47) | <div class="swpm-form-row swpm-username-row" <?php apply\_filters('swpm\_edit\_profile\_form\_username\_tr\_attributes', ''); ?>> |
| [48](#L48) | <div class="swpm-form-label-wrap swpm-form-username-label-wrap"> |
| [49](#L49) | <label for="user\_name"><?php \_e('Username', 'simple-membership'); ?></label> |
| [50](#L50) | </div> |
| [51](#L51) | <div class="swpm-form-input-wrap swpm-form-username-input-wrap"><?php echo esc\_attr($user\_name) ?></div> |
| [52](#L52) | </div> |
| [53](#L53) | <div class="swpm-form-row swpm-email-row"> |
| [54](#L54) | <div class="swpm-form-label-wrap swpm-form-email-label-wrap"> |
| [55](#L55) | <label for="email"><?php \_e('Email', 'simple-membership'); ?></label> |
| [56](#L56) | </div> |
| [57](#L57) | <div class="swpm-form-input-wrap swpm-form-email-input-wrap"> |
| [58](#L58) | <input type="text" id="email" name="email" autocomplete="off" class="swpm-form-field swpm-form-email" value="<?php echo esc\_attr($email); ?>" /> |
| [59](#L59) | </div> |
| [60](#L60) | <div class="swpm-form-desc"></div> |
| [61](#L61) | </div> |
| [62](#L62) | <div class="swpm-form-row swpm-password-row"> |
| [63](#L63) | <div class="swpm-form-label-wrap swpm-form-password-label-wrap"> |
| [64](#L64) | <label for="password"><?php \_e('Password', 'simple-membership'); ?></label> |
| [65](#L65) | </div> |
| [66](#L66) | <div class="swpm-form-input-wrap swpm-form-password-input-wrap"> |
| [67](#L67) | <input type="password" id="password" value="" name="password" class="swpm-form-field swpm-form-password" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [68](#L68) | </div> |
| [69](#L69) | <div class="swpm-form-desc"></div> |
| [70](#L70) | </div> |
| [71](#L71) | <div class="swpm-form-row swpm-repass-row"> |
| [72](#L72) | <div class="swpm-form-label-wrap swpm-form-repass-label-wrap"> |
| [73](#L73) | <label for="password\_re"><?php \_e('Repeat Password', 'simple-membership'); ?></label> |
| [74](#L74) | </div> |
| [75](#L75) | <div class="swpm-form-input-wrap swpm-form-repass-input-wrap"> |
| [76](#L76) | <input type="password" id="password\_re" value="" name="password\_re" class="swpm-form-field swpm-form-repass" autocomplete="off" placeholder="<?php \_e('Leave empty to keep the current password', 'simple-membership'); ?>" /> |
| [77](#L77) | </div> |
| [78](#L78) | <div class="swpm-form-desc"></div> |
| [79](#L79) | </div> |
| [80](#L80) | <div class="swpm-form-row swpm-firstname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_firstname\_tr\_attributes', ''); ?>> |
| [81](#L81) | <div class="swpm-form-label-wrap swpm-form-firstname-label-wrap"> |
| [82](#L82) | <label for="first\_name"><?php \_e('First Name', 'simple-membership'); ?></label> |
| [83](#L83) | </div> |
| [84](#L84) | <div class="swpm-form-input-wrap swpm-form-firstname-input-wrap"> |
| [85](#L85) | <input type="text" id="first\_name" value="<?php echo esc\_attr($first\_name); ?>" name="first\_name" class="swpm-form-field swpm-form-firstname" /> |
| [86](#L86) | </div> |
| [87](#L87) | <div class="swpm-form-desc"></div> |
| [88](#L88) | </div> |
| [89](#L89) | <div class="swpm-form-row swpm-lastname-row" <?php apply\_filters('swpm\_edit\_profile\_form\_lastname\_tr\_attributes', ''); ?>> |
| [90](#L90) | <div class="swpm-form-label-wrap swpm-form-lastname-label-wrap"> |
| [91](#L91) | <label for="last\_name"><?php \_e('Last Name', 'simple-membership'); ?></label> |
| [92](#L92) | </div> |
| [93](#L93) | <div class="swpm-form-input-wrap swpm-form-lastname-input-wrap"> |
| [94](#L94) | <input type="text" id="last\_name" value="<?php echo esc\_attr($last\_name); ?>" name="last\_name" class="swpm-form-field swpm-form-lastname" /> |
| [95](#L95) | </div> |
| [96](#L96) | <div class="swpm-form-desc"></div> |
| [97](#L97) | </div> |
| [98](#L98) | <div class="swpm-form-row swpm-phone-row" <?php apply\_filters('swpm\_edit\_profile\_form\_phone\_tr\_attributes', ''); ?>> |
| [99](#L99) | <div class="swpm-form-label-wrap swpm-form-phone-label-wrap"> |
| [100](#L100) | <label for="phone"><?php \_e('Phone', 'simple-membership'); ?></label> |
| [101](#L101) | </div> |
| [102](#L102) | <div class="swpm-form-input-wrap swpm-form-phone-input-wrap"> |
| [103](#L103) | <input type="text" id="phone" value="<?php echo esc\_attr($phone); ?>" name="phone" class="swpm-form-field swpm-form-phone" /> |
| [104](#L104) | </div> |
| [105](#L105) | <div class="swpm-form-desc"></div> |
| [106](#L106) | </div> |
| [107](#L107) | <div class="swpm-form-row swpm-street-row" <?php apply\_filters('swpm\_edit\_profile\_form\_street\_tr\_attributes', ''); ?>> |
| [108](#L108) | <div class="swpm-form-label-wrap swpm-form-street-label-wrap"> |
| [109](#L109) | <label for="address\_street"><?php \_e('Street', 'simple-membership'); ?></label> |
| [110](#L110) | </div> |
| [111](#L111) | <div class="swpm-form-input-wrap swpm-form-street-input-wrap"> |
| [112](#L112) | <input type="text" id="address\_street" value="<?php echo esc\_attr($address\_street); ?>" name="address\_street" class="swpm-form-field swpm-form-street" /> |
| [113](#L113) | </div> |
| [114](#L114) | <div class="swpm-form-desc"></div> |
| [115](#L115) | </div> |
| [116](#L116) | <div class="swpm-form-row swpm-city-row" <?php apply\_filters('swpm\_edit\_profile\_form\_city\_tr\_attributes', ''); ?>> |
| [117](#L117) | <div class="swpm-form-label-wrap swpm-form-city-label-wrap"> |
| [118](#L118) | <label for="address\_city"><?php \_e('City', 'simple-membership'); ?></label> |
| [119](#L119) | </div> |
| [120](#L120) | <div class="swpm-form-input-wrap swpm-form-city-input-wrap"> |
| [121](#L121) | <input type="text" id="address\_city" value="<?php echo esc\_attr($address\_city); ?>" name="address\_city" class="swpm-form-field swpm-form-city" /> |
| [122](#L122) | </div> |
| [123](#L123) | <div class="swpm-form-desc"></div> |
| [124](#L124) | </div> |
| [125](#L125) | <div class="swpm-form-row swpm-state-row" <?php apply\_filters('swpm\_edit\_profile\_form\_state\_tr\_attributes', ''); ?>> |
| [126](#L126) | <div class="swpm-form-label-wrap swpm-form-state-label-wrap"> |
| [127](#L127) | <label for="address\_state"><?php \_e('State', 'simple-membership'); ?></label> |
| [128](#L128) | </div> |
| [129](#L129) | <div class="swpm-form-input-wrap swpm-form-state-input-wrap"> |
| [130](#L130) | <input type="text" id="address\_state" value="<?php echo esc\_attr($address\_state); ?>" name="address\_state" class="swpm-form-field swpm-form-state" /> |
| [131](#L131) | </div> |
| [132](#L132) | <div class="swpm-form-desc"></div> |
| [133](#L133) | </div> |
| [134](#L134) | <div class="swpm-form-row swpm-zipcode-row" <?php apply\_filters('swpm\_edit\_profile\_form\_zipcode\_tr\_attributes', ''); ?>> |
| [135](#L135) | <div class="swpm-form-label-wrap swpm-form-zipcode-label-wrap"> |
| [136](#L136) | <label for="address\_zipcode"><?php \_e('Zipcode', 'simple-membership'); ?></label> |
| [137](#L137) | </div> |
| [138](#L138) | <div class="swpm-form-input-wrap swpm-form-zipcode-input-wrap"> |
| [139](#L139) | <input type="text" id="address\_zipcode" value="<?php echo esc\_attr($address\_zipcode); ?>" name="address\_zipcode" class="swpm-form-field swpm-form-zipcode" /> |
| [140](#L140) | </div> |
| [141](#L141) | <div class="swpm-form-desc"></div> |
| [142](#L142) | </div> |
| [143](#L143) | <div class="swpm-form-row swpm-country-row" <?php apply\_filters('swpm\_edit\_profile\_form\_country\_tr\_attributes', ''); ?>> |
| [144](#L144) | <div class="swpm-form-label-wrap swpm-form-country-label-wrap"> |
| [145](#L145) | <label for="country"><?php \_e('Country', 'simple-membership'); ?></label> |
| [146](#L146) | </div> |
| [147](#L147) | <div class="swpm-form-input-wrap swpm-form-country-input-wrap"> |
| [148](#L148) | <select id="country" name="country" class="swpm-form-field swpm-profile-form-country"><?php echo SwpmMiscUtils::get\_countries\_dropdown($country) ?></select> |
| [149](#L149) | </div> |
| [150](#L150) | <div class="swpm-form-desc"></div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="swpm-form-row swpm-company-row" <?php apply\_filters('swpm\_edit\_profile\_form\_company\_tr\_attributes', ''); ?>> |
| [153](#L153) | <div class="swpm-form-label-wrap swpm-form-company-label-wrap"> |
| [154](#L154) | <label for="company\_name"><?php \_e('Company Name', 'simple-membership'); ?></label> |
| [155](#L155) | </div> |
| [156](#L156) | <div class="swpm-form-input-wrap swpm-form-company-input-wrap"> |
| [157](#L157) | <input type="text" id="company\_name" value="<?php echo esc\_attr($company\_name); ?>" name="company\_name" class="swpm-form-field swpm-form-company" /> |
| [158](#L158) | </div> |
| [159](#L159) | <div class="swpm-form-desc"></div> |
| [160](#L160) | </div> |
| [161](#L161) | <div class="swpm-form-row swpm-membership-level-row" <?php apply\_filters('swpm\_edit\_profile\_form\_membership\_level\_tr\_attributes', ''); ?>> |
| [162](#L162) | <div class="swpm-form-label-wrap swpm-form-membership-level-label-wrap"> |
| [163](#L163) | <label for="membership\_level"><?php \_e('Membership Level', 'simple-membership'); ?></label> |
| [164](#L164) | </div> |
| [165](#L165) | <div class="swpm-form-input-wrap swpm-form-membership-level-input-wrap"> |
| [166](#L166) | <?php echo esc\_attr($membership\_level\_alias); ?> |
| [167](#L167) | </div> |
| [168](#L168) | </div> |
| [169](#L169) | <?php apply\_filters('swpm\_edit\_profile\_form\_after\_membership\_level', ''); ?> |
| [170](#L170) | </div> |
| [171](#L171) | <?php |
| [172](#L172) | // Trigger action hook. Can be used to add content to the registration form. |
| [173](#L173) | do\_action( 'swpm\_before\_profile\_form\_submit\_section'); |
| [174](#L174) |  |
| [175](#L175) | // Trigger a filter hook. |
| [176](#L176) | apply\_filters('swpm\_edit\_profile\_form\_before\_submit', ''); |
| [177](#L177) | ?> |
| [178](#L178) |  |
| [179](#L179) | <div class="swpm-form-row swpm-submit-section swpm-edit-profile-submit-section"> |
| [180](#L180) | <button type="submit" class="swpm-submit swpm-profile-submit-button swpm-submit-btn-default-style"><?php \_e('Update', 'simple-membership') ?></button> |
| [181](#L181) | <input type="hidden" value="Update" name="swpm\_editprofile\_submit"> |
| [182](#L182) | </div> |
| [183](#L183) |  |
| [184](#L184) | <?php echo SwpmUtils::delete\_account\_button(); ?> |
| [185](#L185) |  |
| [186](#L186) | <input type="hidden" name="action" value="custom\_posts" /> |
| [187](#L187) |  |
| [188](#L188) | </form> |
| [189](#L189) |  |
| [190](#L190) | <style> |
| [191](#L191) | .swpm-form .swpm-form-row { |
| [192](#L192) | margin-bottom: 0.8rem; |
| [193](#L193) | } |
| [194](#L194) | .swpm-form .swpm-submit-section { |
| [195](#L195) | margin-top: 1rem; |
| [196](#L196) | } |
| [197](#L197) | .swpm-form .swpm-form-row.error .swpm-form-field { |
| [198](#L198) | border-color: #cc0000 !important; |
| [199](#L199) | outline-color: #cc0000 !important; |
| [200](#L200) | } |
| [201](#L201) | .swpm-form .swpm-form-row.error .swpm-form-desc { |
| [202](#L202) | color: #cc0000 !important; |
| [203](#L203) | font-size: smaller !important; |
| [204](#L204) | } |
| [205](#L205) | .swpm-form .swpm-form-row.error .swpm-form-desc>ul { |
| [206](#L206) | list-style: none !important; |
| [207](#L207) | padding: 0 !important; |
| [208](#L208) | margin: 4px 0 0 !important; |
| [209](#L209) | } |
| [210](#L210) | </style> |
| [211](#L211) | </div> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/simple-membership/trunk/views/edit-v2.php?format=txt)
* [Original Format](/export/3220609/simple-membership/trunk/views/edit-v2.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


