<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>OSSA-2024-003: Unvalidated image data passed to qemu-img &#8212; OpenStack Security Advisories 0.0.1.dev290 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fe63c2af" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=5c69cfe2" />
    <script src="../_static/documentation_options.js?v=8f94c656"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="OSSA-2024-004: Ironic fails to verify checksums of supplied image_source URLs when configured to convert images to raw for streaming" href="OSSA-2024-004.html" />
    <link rel="prev" title="OSSA-2024-002: Incomplete file access fix and regression for QCOW2 backing files and VMDK flat descriptors" href="OSSA-2024-002.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="../_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="../_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="../_static/css/combined.css" rel="stylesheet">

<!-- Search CSS -->
<link href="../_static/css/search.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="../_static/pygments.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>

<!-- SOURCE_FILE: https://opendev.org/openstack/ossa/src/doc/source/ossa/OSSA-2024-003.rst -->

<script>
    (function (window, document) {
        var loader = function () {
            var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
            script.src = "https://search.openstack.org/widget/embed.min.js?t="+Date.now();
            tag.parentNode.insertBefore(script, tag);
        };
        window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
    })(window, document);
</script>

<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button class="navbar-toggle" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/"></a>
      </div>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div></div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
<div class="search-container tiny">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</div>
      <ul class="nav navbar-nav navbar-main show">
<li class="search-container-mobile">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</li>
        <li> <!--Software -->
          <a href="https://www.openstack.org/software/" class="drop" id="dropdownMenuSoftware">Software <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuSoftware">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/">Overview</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/openstack-components">OpenStack Components</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/sdks">SDKs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/project-navigator/deployment-tools">Deployment Tools</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/assets/software/projectmap/openstack-map.pdf" target="_blank">OpenStack Map</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
          </ul>
        </li>
        <li> <!-- Use Cases -->
          <a href="https://www.openstack.org/use-cases/" class="drop" id="dropdownMenuUsers">Use Cases <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuUsers">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/">Users in Production</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/bare-metal/">Ironic Bare Metal</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/edge-computing/">Edge Computing</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/telecoms-and-nfv/">Telecom &amp; NFV</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/science/">Science and HPC</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/containers/">Containers</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/use-cases/enterprise/">Enterprise</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li> <!-- Events -->
          <a href="https://openinfra.dev/summit" class="drop" id="dropdownMenuEvents">Events <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/summit">OpenInfra Summit</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/ptg/">Project Teams Gathering</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/opendev-2020/">OpenDev</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/community-events/">Community Events</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/events/openstackdays">OpenStack &amp; OpenInfra Days</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/videos/">Summit Videos</a></li>
          </ul>
        </li>
        <li><!-- Community -->
          <a href="https://www.openstack.org/community/" class="drop" id="dropdownMenuCommunity">Community <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuCommunity">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/tech-committee">OpenStack Technical Committee</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/coa/">Get Certified (COA)</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketing/">Marketing Resources</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/news/">Community News</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="http://superuser.openstack.org">Superuser Magazine</a></li>
            <li role="presentation" class="divider"></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/community/supporting-organizations/">OpenInfra Foundation Supporting Organizations</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">OpenInfra Foundation</a></li>
          </ul>
        </li>
        <li><!-- Marketplace -->
          <a href="https://www.openstack.org/marketplace/" class="drop" id="dropdownMenuLearn">Marketplace <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuEvents">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/distros/">Distros &amp; Appliances</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/public-clouds/">Public Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/hosted-private-clouds/">Hosted Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/remotely-managed-private-clouds/">Remotely Managed Private Clouds</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/consulting/">Consulting &amp; Integrators</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://www.openstack.org/marketplace/drivers/">Drivers</a></li>
          </ul>
        </li>
        <li><!-- Blog -->
          <a href="https://www.openstack.org/blog/">Blog</a>
        </li>
        <li><!-- Docs -->
          <a href="http://docs.openstack.org/">Docs</a>
        </li>
        <li class="join-nav-section"> <!-- Join -->
          <a href="https://openinfra.dev/join/" id="dropdownMenuJoin">Join <i class="fa fa-caret-down"></i></a>
          <ul class="dropdown-menu dropdown-hover" role="menu" aria-labelledby="dropdownMenuJoin" style="display: none;">
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sign up for Foundation Membership</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev/join/">Sponsor the Foundation</a></li>
            <li role="presentation"><a role="menuitem" tabindex="-1" href="https://openinfra.dev">More about the Foundation</a></li>
          </ul>
        </li>
        <li> <!-- Login -->
          <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>

    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4">
<div class="row docs-title">
  <div class="col-lg-8">
      <h1>OSSA-2024-003: Unvalidated image data passed to qemu-img</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="OSSA-2024-002.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: OSSA-2024-002: Incomplete file access fix and regression for QCOW2 backing files and VMDK flat descriptors"></i></a>
    
    
    <a href="OSSA-2024-004.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: OSSA-2024-004: Ironic fails to verify checksums of supplied image_source URLs when configured to convert images to raw for streaming"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-body" role="main">

  <section id="ossa-2024-003-unvalidated-image-data-passed-to-qemu-img">
<h1>OSSA-2024-003: Unvalidated image data passed to qemu-img<a class="headerlink" href="#ossa-2024-003-unvalidated-image-data-passed-to-qemu-img" title="Link to this heading">Â¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date<span class="colon">:</span></dt>
<dd class="field-odd"><p>September 04, 2024</p>
</dd>
<dt class="field-even">CVE<span class="colon">:</span></dt>
<dd class="field-even"><p>CVE-2024-44082</p>
</dd>
</dl>
<section id="affects">
<h2>Affects<a class="headerlink" href="#affects" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p>Ironic: &lt;21.4.3, &gt;=22.0.0 &lt;23.0.2, &gt;=23.1.0 &lt;24.1.2, &gt;=25.0.0 &lt;26.0.1</p></li>
<li><p>Ironic-python-agent: &lt;9.4.2, &gt;=9.5.0 &lt;9.7.1, &gt;=9.8.0 &lt;9.11.1, &gt;=9.12.0 &lt;9.13.1</p></li>
</ul>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">Â¶</a></h2>
<p>Dan Smith and Julia Kreger of Red Hat and Jay Faulkner of G-Research
noticed a vulnerability in image processing for Ironic, in which a
specially crafted image could be used by an authenticated user to
exploit undesired behaviors in qemu-img, including possible unauthorized
access to potentially sensitive data.</p>
<section id="mitigation">
<h3>Mitigation<a class="headerlink" href="#mitigation" title="Link to this heading">Â¶</a></h3>
<p>The attached patches contain code allowing Ironic and the Ironic-Python-Agent
(IPA) to pre-screen images before passing them to qemu-img.  You should
patch both of them because in some popular deployment configurations, it is
possible for images to bypass the Ironic conductor for more efficient image
downloads.</p>
<p>In situations where it is not possible to patch IPA, there is a new
configuration option, <code class="docutils literal notranslate"><span class="pre">[conductor]conductor_always_validates_images</span></code>.
When this option is True, all image downloads are forced to occur through
the Ironic conductor, where they are validated.  However, this may incur
a significant performance hit; hence our recommendation to patch both Ironic
and IPA.</p>
<p>Patches are available for both Ironic and IPA for all maintained branches,
namely, the Dalmatian development branch (current master) through Antelope.
For these branches, <code class="docutils literal notranslate"><span class="pre">conductor_always_validates_images</span></code> defaults to False.</p>
<p>For the unmaintained branches (Zed through Victoria), patches are not
available for IPA due to a significant risk of regressions.  For these
branches, the Ironic patches set <code class="docutils literal notranslate"><span class="pre">conductor_always_validates_images</span></code> to
True, as this is the only safe way to run Ironic with an un-patched IPA.</p>
</section>
<section id="cached-images">
<h3>Cached images<a class="headerlink" href="#cached-images" title="Link to this heading">Â¶</a></h3>
<p>Images in the Ironic image cache should be purged.  To purge the cache,
stop the Ironic conductor and remove the files in the
<code class="docutils literal notranslate"><span class="pre">[pxe]instance_master_path</span></code> directory on that conductor node.</p>
</section>
<section id="supported-image-formats">
<h3>Supported image formats<a class="headerlink" href="#supported-image-formats" title="Link to this heading">Â¶</a></h3>
<p>A new configuration option, <code class="docutils literal notranslate"><span class="pre">[conductor]permitted_image_formats</span></code> controls
what image formats will be accepted by Ironic.  By default, the allowed
formats are ârawâ and âqcow2â, which are the only formats that Ironic is
tested with.  In previous releases, it was possible to use images of other,
unsupported formats with Ironic, but this is now blocked by default due to
security issues arising from the image conversion process.  It is possible,
though not recommended, to expand the list of permitted formats.
Alternatively, users requiring the use of an image in an unsupported format
can convert the image offline into a supported format before uploading the
image to Glance or otherwise making the image available to Ironic.  Consult
the Ironic documentation for details.</p>
</section>
<section id="warning">
<h3>Warning<a class="headerlink" href="#warning" title="Link to this heading">Â¶</a></h3>
<p>As is well-documented, the OpenStack Ironic project does not support the
use of ironic-lib for non-Ironic use cases.  In its normal supported context,
ironic-lib assumes that images have been pre-screened before ironic-lib
comes in contact with them.  Thus, unsupported use of ironic-lib leaves
you vulnerable to the exploit outlined in this OSSA.</p>
<p>The Ironic project intends eventually to explicitly remove the vulnerable
methods in ironic-lib, but reminds the reader that independent use of
ironic-lib is not supported.</p>
</section>
<section id="bugfix-branches">
<h3>Bugfix branches<a class="headerlink" href="#bugfix-branches" title="Link to this heading">Â¶</a></h3>
<p>Patches are available for maintained bugfix branches.  These patches will
be merged to the maintained branches, but no new releases will be triggered
from those branches.</p>
</section>
</section>
<section id="patches">
<h2>Patches<a class="headerlink" href="#patches" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://review.opendev.org/927972">https://review.opendev.org/927972</a> (2023.1/antelope(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927979">https://review.opendev.org/927979</a> (2023.1/antelope(ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927970">https://review.opendev.org/927970</a> (2023.2/bobcat(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927978">https://review.opendev.org/927978</a> (2023.2/bobcat(ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927968">https://review.opendev.org/927968</a> (2024.1/caracal(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927976">https://review.opendev.org/927976</a> (2024.1/caracal(ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927965">https://review.opendev.org/927965</a> (2024.2/dalmatian(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927974">https://review.opendev.org/927974</a> (2024.2/dalmatian(ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927969">https://review.opendev.org/927969</a> (Bugfix/24.0 (ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927967">https://review.opendev.org/927967</a> (Bugfix/25.0 (ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927966">https://review.opendev.org/927966</a> (Bugfix/26.0 (ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927983">https://review.opendev.org/927983</a> (Bugfix/9.12 (ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927981">https://review.opendev.org/927981</a> (Bugfix/9.13 (ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927984">https://review.opendev.org/927984</a> (Bugfix/9.9 (ironic-python-agent))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927982">https://review.opendev.org/927982</a> (Unmaintained/victoria(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927980">https://review.opendev.org/927980</a> (Unmaintained/wallaby(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927977">https://review.opendev.org/927977</a> (Unmaintained/xena(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927975">https://review.opendev.org/927975</a> (Unmaintained/yoga(ironic))</p></li>
<li><p><a class="reference external" href="https://review.opendev.org/927973">https://review.opendev.org/927973</a> (Unmaintained/zed(ironic))</p></li>
</ul>
</section>
<section id="credits">
<h2>Credits<a class="headerlink" href="#credits" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p>Dan Smith from Red Hat (CVE-2024-44082)</p></li>
<li><p>Jay Faulkner from G-Research (CVE-2024-44082)</p></li>
<li><p>Julia Kreger from Red Hat (CVE-2024-44082)</p></li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://launchpad.net/bugs/2071740">https://launchpad.net/bugs/2071740</a></p></li>
<li><p><a class="reference external" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-44082">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-44082</a></p></li>
</ul>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">Â¶</a></h2>
<ul class="simple">
<li><p>For more information about the unadvisability of calling âqemu-img
infoâ on untrusted images, see CVE-2024-04467.</p></li>
<li><p>The ironic unmaintained/* branches will receive no point releases, but
patches for them are provided as a courtesy.</p></li>
<li><p>The ironic-python-agent unmaintained/* branches will receive no point
releases, nor are patches for them available.</p></li>
<li><p>The ironic and ironic-python-agent bugfix/* branches will receive no
point releases, but patches for them are provided as a courtesy.</p></li>
</ul>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="OSSA-2024-002.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: OSSA-2024-002: Incomplete file access fix and regression for QCOW2 backing files and VMDK flat descriptors"></i></a>
          
          
            <a href="OSSA-2024-004.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: OSSA-2024-004: Ironic fails to verify checksums of supplied image_source URLs when configured to convert images to raw for streaming"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">this page last updated: 2025-01-07 18:17:35</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="../_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="https://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="OpenStack Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button type="button" data-toggle="dropdown" class="btn docs-sidebar-release-select">OpenStack Documentation<i class="fa fa-caret-down"></i></button>
<ul class="dropdown-menu docs-sidebar-dropdown" role="menu">
  <li role="presentation" class="dropdown-header">Guides</li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#user-guides">User Guides</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#api-guides">API Guides</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
  <li role="presentation" class="dropdown-header">Languages</li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/de/">Deutsch (German)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/fr/">FranÃ§ais (French)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/id/">Bahasa Indonesia (Indonesian)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/it/">Italiano (Italian)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ja/">æ¥æ¬èª (Japanese)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/ko_KR/">íêµ­ì´ (Korean)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/pt_BR/">PortuguÃªs (Portuguese)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/tr_TR/">TÃ¼rkÃ§e (TÃ¼rkiye)</a></li>
  <li role="presentation"><a role="menuitem" tabindex="-1" href="https://docs.openstack.org/zh_CN/">ç®ä½ä¸­æ (Simplified Chinese)</a></li>
</ul>
  </div>
  <div class="docs-sidebar-toc">

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Contents</h4>
      <ul>
<li><a class="reference internal" href="#">OSSA-2024-003: Unvalidated image data passed to qemu-img</a><ul>
<li><a class="reference internal" href="#affects">Affects</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#mitigation">Mitigation</a></li>
<li><a class="reference internal" href="#cached-images">Cached images</a></li>
<li><a class="reference internal" href="#supported-image-formats">Supported image formats</a></li>
<li><a class="reference internal" href="#warning">Warning</a></li>
<li><a class="reference internal" href="#bugfix-branches">Bugfix branches</a></li>
</ul>
</li>
<li><a class="reference internal" href="#patches">Patches</a></li>
<li><a class="reference internal" href="#credits">Credits</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="https://www.openstack.org/software/project-navigator/">Projects</a></li>
          <li><a href="https://security.openstack.org/">OpenStack Security</a></li>
          <li><a href="https://openstack.org/blog/">Blog</a></li>
          <li><a href="https://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="https://www.meetup.com/pro/openinfradev/">User Groups</a></li>
          <li><a href="https://openstack.org/community/events/">Events</a></li>
          <li><a href="https://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="https://openinfra.dev/members/">Companies</a></li>
          <li><a href="https://docs.openstack.org/contributors">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="https://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="https://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="https://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding &amp; Legal</h3>
        <ul>
          <li><a href="https://openinfra.dev/legal">Legal Docs</a></li>
          <li><a href="https://openstack.org/brand/">Logos &amp; Guidelines</a></li>
          <li><a href="https://openinfra.dev/legal/trademark-policy">Trademark Policy</a></li>
          <li><a href="https://openinfra.dev/privacy-policy">Privacy Policy</a></li>
          <li><a href="https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement">OpenInfra CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openinfradev" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/open-infrastructure-foundation" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Docs.openstack.org is powered by
          <a href="https://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script src="../_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script src="../_static/js/bootstrap.min.js"></script>

<!-- The rest of the JS -->
<script src="../_static/js/navigation.js"></script>

<!-- Docs JS -->
<script src="../_static/js/docs.js"></script>

<!-- Javascript for page -->
<script>
  /* Build a description of this page including SHA, source location on git
   * repo, build time and the project's launchpad bug tag. Set the HREF of the
   * bug buttons
   */
    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
    /* "giturl" is the URL of the source file on Git and is auto-generated by
     * openstackdocstheme.
     *
     * "pagename" is a standard sphinx parameter containing the name of
     * the source file, without extension.
     */

    var sourceFile = "ossa/OSSA-2024-003" + ".rst";
    gitURL = "Source: https://opendev.org/openstack/ossa/src/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: 50c8dff72ca6116a181238306ada1adb826a1494";
    var repositoryName = "openstack/ossa";
    var bugProject = "ossa";
    var bugTitle = "OSSA-2024-003: Unvalidated image data passed to qemu-img in OpenStack Security Advisories";
    var fieldTags = "";
    var useStoryboard = "";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.0.1.dev290 on 2025-01-07 18:17:35";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, repositoryName, useStoryboard);
</script>


  </body>
</html>