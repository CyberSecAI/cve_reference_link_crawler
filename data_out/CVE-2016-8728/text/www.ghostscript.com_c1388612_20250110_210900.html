

| [cgit logo](/cgi-bin/cgit.cgi/) | [index](/cgi-bin/cgit.cgi/) : [mupdf.git](/cgi-bin/cgit.cgi/mupdf.git/ "mupdf.git") | 1.18.x 1.19.x 1.20.x 1.21.x 1.22.x 1.23.x 1.24.x 1.25.x android-muso android-muso-signing android-openjpeg-2.3.1 css fontconfig java-empty-store lcms lcms2 line\_art\_filter master muso muso-3.9-release muso-temporary-hack objc-openjpeg-2.3.1 release-1.10a release\_1.8 so so-tess2 stext-flags win-openjpeg-2.3.1 winRT winphone |
| --- | --- | --- |
| MuPDF library | Chris Liddell |

| [summary](/cgi-bin/cgit.cgi/mupdf.git/)[refs](/cgi-bin/cgit.cgi/mupdf.git/refs/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)[log](/cgi-bin/cgit.cgi/mupdf.git/log/)[tree](/cgi-bin/cgit.cgi/mupdf.git/tree/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)[commit](/cgi-bin/cgit.cgi/mupdf.git/commit/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)[diff](/cgi-bin/cgit.cgi/mupdf.git/diff/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Robin Watts <robin.watts@artifex.com> | 2017-02-28 17:15:40 +0000 |
| --- | --- | --- |
| committer | Robin Watts <robin.watts@artifex.com> | 2017-03-01 10:36:48 +0000 |
| commit | [0c86abf954ca4a5f00c26f6600acac93f9fc3538](/cgi-bin/cgit.cgi/mupdf.git/commit/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538) ([patch](/cgi-bin/cgit.cgi/mupdf.git/patch/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)) | |
| tree | [37c5f309c588ea0b20c5208c68db7cca99fc8dc3](/cgi-bin/cgit.cgi/mupdf.git/tree/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538) | |
| parent | [6b8eb31b79d235e0d05058afea1ea9005be6c147](/cgi-bin/cgit.cgi/mupdf.git/commit/?id=6b8eb31b79d235e0d05058afea1ea9005be6c147) ([diff](/cgi-bin/cgit.cgi/mupdf.git/diff/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538&id2=6b8eb31b79d235e0d05058afea1ea9005be6c147)) | |

Bug 697395: Fix underflow in special case scaler.When scaling a single row pixmap with a flip, I was getting
the offset to the far end of the line wrong due to forgetting
to allow for the alpha plane.
Fixed here.
[Diffstat](/cgi-bin/cgit.cgi/mupdf.git/diff/?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)

| -rw-r--r-- | [source/fitz/draw-scale-simple.c](/cgi-bin/cgit.cgi/mupdf.git/diff/source/fitz/draw-scale-simple.c?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/source/fitz/draw-scale-simple.c b/source/fitz/draw-scale-simple.cindex 1525c7b5f..1d5909224 100644--- a/[source/fitz/draw-scale-simple.c](/cgi-bin/cgit.cgi/mupdf.git/tree/source/fitz/draw-scale-simple.c?id=6b8eb31b79d235e0d05058afea1ea9005be6c147)+++ b/[source/fitz/draw-scale-simple.c](/cgi-bin/cgit.cgi/mupdf.git/tree/source/fitz/draw-scale-simple.c?id=0c86abf954ca4a5f00c26f6600acac93f9fc3538)@@ -1294,7 +1294,7 @@ scale\_single\_row(unsigned char \* restrict dst, int dstride, const unsigned char tmp[j] = 128; if (weights->flip) {- dst += (weights->count-1)\*n;+ dst += (weights->count-1)\*nf; for (i=weights->count; i > 0; i--) { min = \*contrib++; |
| --- |

generated by [cgit v1.2.3](https://git.zx2c4.com/cgit/about/) ([git 2.25.1](https://git-scm.com/)) at 2025-01-10 21:09:00 +0000

