=== Content from wordpress.org_789fdd5e_20250111_035542.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Femail-subscribers&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Femail-subscribers&locale=en_US)

Search plugins

![](https://ps.w.org/email-subscribers/assets/banner-772x250.png?rev=2304804)
![](https://ps.w.org/email-subscribers/assets/icon-256x256.png?rev=2274172)
# Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce

By [Icegram](https://www.icegram.com/)

[Download](https://downloads.wordpress.org/plugin/email-subscribers.5.7.47.zip)
[Live Preview](https://wordpress.org/plugins/email-subscribers/?preview=1)

* [Details](https://wordpress.org/plugins/email-subscribers/#description)
* [Reviews](https://wordpress.org/plugins/email-subscribers/#reviews)
* [Installation](https://wordpress.org/plugins/email-subscribers/#installation)
* [Development](https://wordpress.org/plugins/email-subscribers/#developers)

[Support](https://wordpress.org/support/plugin/email-subscribers/)

## Description

### Your all-in-one WordPress email marketing solution to grow email subscribers, segment lists, setup email automations, email newsletters, send broadcasts & autoresponders and a lot more.

[Icegram Express](https://www.icegram.com/express/?utm_source=ig_express_wp_readme&utm_medium=ig_express_anchor_text&utm_campaign=ig_express_wp_readme_traffic), is the simplest, pocket-friendly, most reliable WordPress email marketing, email subscribers and newsletters plugin. Perfect for list building, list engagement, sending newsletters and targeted emails, and converting leads into customers.

It’s a fully-featured, automated email marketing plugin with seamless integration with the most popular themes, plugins, and SMTP / email service providers.

That’s why over 162,000 users trust Email Subscribers by Icegram Express for their WooCommerce and WordPress email marketing needs.

**Perfect For:**

* Freelancers and small businesses on a budget
* Bloggers and digital marketers
* WooCommerce store owners
* Micro-influencers and non-profits
* Easy Digital Downloads (EDD) users

**What will Icegram Express help you achieve?**

Email Subscribers by Icegram Express helps you **achieve multiple email marketing activities** on your WordPress and WooCommerce website:

**Complete WordPress email marketing and newsletter plugin**

1. **Comprehensive Email Marketing:** Capture leads, segment your audience, and send newsletters, all from within WordPress.
2. **List Building & Lead Management:** Use customizable subscription forms and lead magnets to grow your audience.
3. **Email Automation:** Set up welcome sequences, post notifications, drip campaigns, and more with ease.
4. **Drag-and-Drop Email Builder:** Create beautiful, responsive emails with a WYSIWYG editor—no coding required.
5. **Ready-to-Use Templates:** Choose from pre-made templates for special events, sales, and other key moments.
6. **WooCommerce Integration:** Recover abandoned carts, offer personalized deals, and drive sales directly to your store subscribers.
7. **Advanced Email and Security features:** Spam check, captcha, bounce handling, auto-list cleaning to improve email deliverability.
8. **In-depth Email Reports:** Track and monitor crucial KPIs – open rates, click rates, unsubscribe rates, demographics…for data-driven email – marketing decisions.
9. **Reliable Deliverability:** Solve email delivery problems – use your own SMTP, Icegram Email Sending Service, or third-party services to send – emails; Amazon SES, WP Mail, Pepipost…
10. **Easy Third Party Integrations:** Easily integrates with top WordPress form plugins, top Membership plugins and other WooCommerce plugins.
11. **GDPR compliant**
12. **Useful Resources:** Get guidance and training materials to improve your email marketing results.

Do all these straight from your WordPress dashboard, easily and quickly. Use the time you save to build your brand and better relationships with your readers.

**Maximize your email marketing** results while **minimizing costs** with Icegram Express.

🆓 Try the free version today for better results guaranteed!

> **Cheaper & More Feature-Rich Alternative to Mailchimp**
>
> I was a long-time Mailchimp user, but when their prices went up, I switched to Icegram. Icegram has more features than Mailchimp and is a fraction of the cost. I can email my members directly from my site and the plugin authors are great at support. I’m so glad I made the switch!
>
> – [brianharper](https://wordpress.org/support/topic/so-far-so-good-1088/)

### Getting Started with Email Subscribers is Simple & Quick

Icegram Express will help you **achieve more subscribers, more engagements and more loyal customers.**

Everyone can be a subscriber. Grow your audience with this WordPress email and newsletter plugin by turning users into subscribers with high-converting opt-ins, lead magnets and emails.

Here’s the [installation guide](https://www.icegram.com/documentation/getting-started/?utm_source=ig_express_wp_readme&utm_medium=installation_guide_anchor_text&utm_campaign=ig_express_wp_readme_traffic) to get started and in-depth [documentation](https://www.icegram.com/docs/category/icegram-express/?utm_source=ig_express_wp_readme&utm_medium=documentation_anchor_text&utm_campaign=ig_express_wp_readme_traffic) to get well-versed with

WordPress email marketing automation.

> **Plugin with 50+ features, 5-minute setup, and responsive support!**
>
> Effortlessly manage subscribers, automate updates, and create custom templates. Embed subscription options seamlessly. Simplify your outreach! Very easy to setup in 3-5 minute and the support is top-notch. I highly recommend it!
>
> – [joanyedwards](https://wordpress.org/support/topic/awesome-email-subscribers-newsletters/)
>
> **Grew my subscriber count by 20% in 30 days!** –
>
> This plugin is easy to use and has a ton of features to help you grow your subscriber list. In a few days I got many subscriptions. Works like a charm!
>
> – [fedephyto](https://wordpress.org/support/topic/very-useful-plugin-952/)

### All the Features to convert your email subscribers

Stop overpaying for complex email marketing tools. Email once, on-demand, in a series, or at some event.

Check out the key features of Icegram Express, here. For detailed info, visit the official [Icegram Express features page](https://www.icegram.com/express/?utm_source=ig_express_wp_readme&utm_medium=ig_express_featurespage_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

#### 1. Simple and Elegant Dashboards

Get started with beginner-friendly email marketing for WordPress and WooCommerce with our user-friendly dashboards. No need to stress over email automation.

#### 2. Block dangerous domain emails

Fight spammers and bots with our domain blacklist. No need to worry about constantly cleaning your email list, focus solely on hassle-free email marketing for WordPress.

#### 3. Unlimited forms & email lists

Create unlimited forms for niche-based email campaigns and segment subscribers by interest. Match your website marketing flow and specific email lists.

#### 4. Unlimited newsletters

Craft newsletters using readymade templates and send them on a regular basis – weekly, biweekly, or schedule them as per your convenience.

#### 5. Unlimited emails and Autoresponder sequences

Not just newsletters, send unlimited emails related to offers, feature updates, and strategies…and automate campaigns for free. No limits or charges for emailing subscribers.

#### 6. Broadcast and Post notification emails to subscribers

Send broadcast messages in bulk or schedule them for specific times. Encourage website visitors to read the latest posts with automated, personalized post notification emails.

#### 7. WYSIWYG visual Drag and Drop & HTML editors

Customize email templates with the WYSIWYG editor, no coding skills required. Power users can paste HTML and inline CSS for beautiful designs and test them before sending them.

#### 8. Personalized emails with dynamic shortcodes

Personalize email campaigns with dynamic shortcodes for real-time data. Use keywords like Name, Email, etc. to increase engagement.

#### 9. Local time-zone enabled for better engagement

Schedule email campaigns based on subscriber time zone & previous open time for improved engagement and brand growth.

#### 10. White-labeled emails

Unlike most plugins, send emails for free without displaying the “Powered By” brand section.

#### 11. WooCommerce email marketing

Recover abandoned carts and improve loyalty to reduce customer churn. Of course, you can build lists, send welcome emails and newsletters, maintain product-specific audience lists, and a lot more…with automation.

#### 12. Integration with SMTP plugins

Icegram Express newsletter plugin integrates with the popular SMTP WordPress plugins seamlessly to send emails.

* WP Mail SMTP
* Easy WP SMTP
* Post SMTP Mailer/Email Log
* and all SMTP plugins that link with the WordPress mailing functionality

Some of the supported ESPs – Email Service Providers are

* Pepipost [Free]
* SMTP [Premium]
* Amazon SES [Premium]
* Mailgun [Premium]
* and many more.

#### 13. Integration with Forms plugin

* Contact Form 7
* Ninja Forms
* Forminator
* Gravity Forms
* WPForms

#### 14. Integration with LMS, Membership and other plugins

Sync your contacts/leads to an email list and automate your email marketing campaigns.

* LearnDash LMS
* MemberPress
* Ultimate Member
* WooCommerce Memberships
* Paid Memberships Pro
* BuddyBoss
* GiveWP Donation
* Yith Wishlist
* Easy Digital Downloads

#### 15. Unlimited contact storage

Reduce risk by storing contacts on your own server, not on a 3rd party platform. Easily import/export unlimited times for free.

#### 16. Single/Double opt-in

Choose single or double opt-in for real subscribers and GDPR compliance. Validate and keep your list clean.

#### 17. Add Subscribers via REST APIs

Express allows admins to add subscribers through REST APIs, enabling easy integration with external applications and third-party sites.

#### 18. Admin notifications for triggered campaigns

Get instant admin notification of sent campaigns or triggered events.

#### 19. Speed, security & scalability

High on performance and scalability with enterprise-grade security.

* High-speed, high-volume email delivery
* Does not slow down your site
* Works on shared hosting as well
* Stops WordPress email spam & fake submissions
* Easily scales as your audience grows

**Here’s what fellow WordPressers say about Icegram Express:**

> **Perfect subscriber solution: Worked where other plugins failed…**
>
> Easy setup and instant action. The best part? It actually delivers results! Unlike those big shots, it nails blog entry notifications. Plus, pair it with Icegram Collect for an even better form makeover!
>
> – [laurendevine](https://wordpress.org/support/topic/worked-where-other-subscriber-plugins-failed/)
>
> **Best Customer Support I’ve Ever Experienced** –
>
> I’ve been using the free version for several years and recently upgraded to the Max version to get some more features. Instant, precise answers from support transformed my experience.Thrilled with the upgrade and top-notch assistance.
>
> – [chaffeeb](https://wordpress.org/support/topic/a-helpful-plug-in/)

### Advanced Functionality – Free and Premium Options Available

Email subscribers by Icegram Express offer advanced options for premium users in addition to its robust free features – Icegram Express Pro and Icegram Express Max.

* Unlimited autoresponder sequences
* Unlimited email scheduling and post digests
* Automation workflows
* Send WooCommerce coupons
* Option to send messages to new blog commenters
* Enable Captcha and block known attackers
* Premium newsletter templates
* Campaign reports & analytics with deep insights
* Spam score checker
* Audience engagement scores
* Option for subscribers to exit specific lists
* Unsubscriber tracking & list
* Access control restrictions for specific user roles.
* Single/double opt-in
* Subscription plugin support
* Integration with plugins and Gmail API
* Regional time zone delivery [optional]

and a lot more!

[Icegram Express premium plans](https://www.icegram.com/express/pricing?utm_source=ig_express_wp_readme&utm_medium=ig_express_premiumplans_anchor_text&utm_campaign=ig_express_wp_readme_traffic)  | [Marketing Blog](https://www.icegram.com/blog/?utm_source=ig_express_wp_readme&utm_medium=marketingblog_anchor_text&utm_campaign=ig_express_wp_readme_traffic) | [Support Help Desk](https://www.icegram.com/contact/?utm_source=ig_express_wp_readme&utm_medium=supporthelpdesk_anchor_text&utm_campaign=ig_express_wp_readme_traffic)

> ⭐ **100% Worth the cost! Must-have plugin for any blogger!** –
>
> I’ve tried a lot of different plugins for managing my subscriber list, but this one is by far the best. Great for Professional Bloggers!! I highly recommend this and the PAID version is worth the cost.
>
> – [rickvidallon](https://wordpress.org/support/topic/great-for-professional-bloggers/)

### Why Icegram Express over other plugins

* Free to use
* Huge savings compared to MailChimp and all other SaaS
* Do it yourself – no need to hire programmers or designers
* Freedom to use the best email-sending service for your needs
* Automatic list cleaning and junk removal to reduce sending costs
* Lots of automation to save your time
* Reliable software
* Expert blog posts for better results
* Outcome-driven email automation workflows
* Support for both free and premium users
* Well-documented with video tutorials
* Clean code and secure
* And more to come!

Don’t believe us? Here’s how Icegram Express compares with other competitors:

[Icegram Express vs MailPoet](https://www.icegram.com/mailpoet-review/?utm_source=ig_express_wp_readme&utm_medium=icegram_express_vs_mailpoet_anchor_text&utm_campaign=ig_express_wp_readme_traffic)

[Icegram Express vs FluentCRM](https://www.icegram.com/fluentcrm-review/?utm_source=ig_express_wp_readme&utm_medium=icegram_express_vs_fluentcrm_anchor_text&utm_campaign=ig_express_wp_readme_traffic)

Icegram Express adds constant value for its smart users.

### Icegram Express plugin successful journey

Take a look at our great journey so far.

🏆 6 successful years in the market

🏆 100,000+ active installs and counting

🏆 1,200+ premium customers

🏆 920+ ⭐⭐⭐⭐⭐ ratings on the WordPress support forum

🏆 3+ real human premium support executives

🏆 8000+ support tickets closed in 6 months

Let’s Socialize: [Private Facebook Group](https://www.facebook.com/groups/2298909487017349) | [Facebook Page](https://www.facebook.com/icegram/) | [Twitter Handle](https://twitter.com/icegram) | [YouTube Channel](https://www.youtube.com/user/storeapps)

**Our other plugins on WordPress.org**

[Icegram Engage](https://wordpress.org/plugins/icegram/) – Popups, Welcome Bar, Opt-Ins and Lead Generation Plugin

[Icegram Collect](https://wordpress.org/plugins/icegram-rainmaker/) – Best Forms Plugin on WordPress

[Temporary Login Without Password](https://wordpress.org/plugins/temporary-login-without-password/) -It’s a handy tool to support our customers. We use it daily.

[Smart Manager](https://wordpress.org/plugins/smart-manager-for-wp-e-commerce/) – Manage & Bulk edit Products, Orders & more..

[Offermative](https://wordpress.org/plugins/offermative-discount-pricing-related-products-upsell-funnels-for-woocommerce/) – Dynamic discount pricing, related product recommendations, upsells and funnels for WooCommerce.

[Putler](https://wordpress.org/plugins/woocommerce-putler-connector/) – Multichannel analytics tool that helps aggregate data from multiple stores, payment gateways, shopping carts, Google analytics and provides detailed reports and insights that help take profitable business decisions.

[Signup for Free](https://www.icegram.com/express/?utm_source=ig_express_wp_readme&utm_medium=signupforfree_anchor_text&utm_campaign=ig_express_wp_readme_traffic) | [Resources](https://www.icegram.com/blog/?utm_source=ig_express_wp_readme&utm_medium=resources_anchor_text&utm_campaign=ig_express_wp_readme_traffic) | [Knowledge Base](https://www.icegram.com/docs/category/icegram-express/?utm_source=ig_express_wp_readme&utm_medium=knowledgebase_anchor_text&utm_campaign=ig_express_wp_readme_traffic) | [Contact Support](https://www.icegram.com/contact/?utm_source=ig_express_wp_readme&utm_medium=contactsupport_anchor_text&utm_campaign=ig_express_wp_readme_traffic)

## Screenshots

* [![](https://ps.w.org/email-subscribers/assets/screenshot-1.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-1.png?rev=3166930)

  Admin Dashboard
* [![](https://ps.w.org/email-subscribers/assets/screenshot-2.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-2.png?rev=3166930)

  Audience Dashboard
* [![](https://ps.w.org/email-subscribers/assets/screenshot-3.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-3.png?rev=3166930)

  Add New Contact Form
* [![](https://ps.w.org/email-subscribers/assets/screenshot-4.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-4.png?rev=3166930)

  Campaigns
* [![](https://ps.w.org/email-subscribers/assets/screenshot-5.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-5.png?rev=3166930)

  Broadcasts Content
* [![](https://ps.w.org/email-subscribers/assets/screenshot-6.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-6.png?rev=3166930)

  Broadcast Summary
* [![](https://ps.w.org/email-subscribers/assets/screenshot-7.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-7.png?rev=3166930)

  New Post Notification
* [![](https://ps.w.org/email-subscribers/assets/screenshot-8.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-8.png?rev=3166930)

  Forms
* [![](https://ps.w.org/email-subscribers/assets/screenshot-9.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-9.png?rev=3166930)

  Create a New Form
* [![](https://ps.w.org/email-subscribers/assets/screenshot-10.png?rev=3166930)](https://ps.w.org/email-subscribers/assets/screenshot-10.png?rev=3166930)

  Workflows

## Blocks

This plugin provides 1 block.

* Icegram Express Form

## Installation

Option 1:

1. Go to WordPress Dashboard. Locate Plugins -> Add New
2. Search Icegram Express plugin using the search option
3. Find the plugin and click Install Now button
4. After installation, click on Activate Plugin link to activate the plugin.

Option 2:

1. Download the plugin email-subscribers.zip
2. Go to WordPress Dashboard. Locate Plugins -> Add New
3. Click on Upload Plugin link from the top
4. Upload the downloaded email-subscribers.zip file and click on Install Now
5. After installation, click on Activate Plugin link to activate the plugin.

## FAQ

### 1. How to install and activate Icegram Express on multisite installation?

[Refer here](https://www.icegram.com/docs/category/icegram-express/install-activate-plugin-single-multisite/?utm_source=ig_express_wp_readme&utm_medium=faq1here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 2. How to add a subscription box to your website?

[Refer here](https://www.icegram.com/documentation/es-how-to-add-subscription-box-to-website/?utm_source=ig_express_wp_readme&utm_medium=faq2here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 3. How to modify the existing emails like Confirmation, Welcome, Admin emails and Cron Settings and Assign User Roles?

[Refer here](https://www.icegram.com/docs/category/icegram-express/plugin-settings/?utm_source=ig_express_wp_readme&utm_medium=faq3here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 4. How does Sync work?

[Refer here](https://www.icegram.com/docs/category/icegram-express/how-does-sync-work/?utm_source=ig_express_wp_readme&utm_medium=faq4here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 5. How to Import and export email address?

[Refer here](https://www.icegram.com/docs/category/icegram-express/import-export-email-addresses/?utm_source=ig_express_wp_readme&utm_medium=faq5here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 6. How to change/update/translate any strings from the plugin?

[Refer here](https://www.icegram.com/docs/category/icegram-express/change-update-transate-texts/?utm_source=ig_express_wp_readme&utm_medium=faq6here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 7. How to add unsubscribe link in emails?

[Refer here](https://www.icegram.com/docs/category/icegram-express/add-unsubscribe-link-in-emails/?utm_source=ig_express_wp_readme&utm_medium=faq7here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 8. How to Create and Send Newsletter Emails?

[Refer here](https://www.icegram.com/docs/category/icegram-express/create-send-newsletter-emails/?utm_source=ig_express_wp_readme&utm_medium=faq8here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 9. What are the available keywords in the Newsletters?

[Refer here](https://www.icegram.com/docs/category/icegram-express/available-merge-tags-keywords-in-broadcasts/?utm_source=ig_express_wp_readme&utm_medium=faq9here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 10. How to Create and Send Post Notification Emails when new posts are published?

[Refer here](https://www.icegram.com/docs/category/icegram-express/create-send-post-notification-emails-when-new-posts-are-published/?utm_source=ig_express_wp_readme&utm_medium=faq10here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 11. What are the available keywords in the Post Notifications?

[Refer here](https://www.icegram.com/docs/category/icegram-express/available-merge-tags-keywords-in-post-notifications/?utm_source=ig_express_wp_readme&utm_medium=faq11here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 12. How to send a sample new post notification email to test group/me?

[Refer here](https://www.icegram.com/docs/category/icegram-express/send-sample-new-post-notification-email/?utm_source=ig_express_wp_readme&utm_medium=faq12here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 13. How to check sent emails reports?

[Refer here](https://www.icegram.com/docs/category/icegram-express/check-sent-emails/?utm_source=ig_express_wp_readme&utm_medium=faq13here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 14. How to Add/Update Existing Subscribers Group & Status?

[Refer here](https://www.icegram.com/docs/category/icegram-express/audience-subscription-lists-statuses/?utm_source=ig_express_wp_readme&utm_medium=faq14here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 15. Subscribers are not receiving Emails?

[Refer here](https://www.icegram.com/docs/category/icegram-express/subscribers-not-receiving-emails/?utm_source=ig_express_wp_readme&utm_medium=faq15here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 16. How to show subscribe form inside a popup?

[Refer here](https://www.icegram.com/docs/category/icegram-express/show-subscribe-form-inside-popup/?utm_source=ig_express_wp_readme&utm_medium=faq16here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 17. How to use Rainmaker’s form in Icegram Express

[Refer here](https://www.icegram.com/docs/category/icegram-express/use-icegram-collect-forms/?utm_source=ig_express_wp_readme&utm_medium=faq17here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 18. How to Redirect Subscribers to a new page/URL after successful sign up?

[Refer here](https://www.icegram.com/docs/category/icegram-express/redirect-subscribers-to-new-page-after-signup/?utm_source=ig_express_wp_readme&utm_medium=faq18here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 19. How to add captcha in Subscribe form of Icegram Express

[Refer here](https://www.icegram.com/docs/category/icegram-express/enable-captcha/?utm_source=ig_express_wp_readme&utm_medium=faq19here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 20. How to Schedule Cron Emails/auto emails?

[Refer here](https://www.icegram.com/docs/category/icegram-express/schedule-cron-emails/?utm_source=ig_express_wp_readme&utm_medium=faq20here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 21. How to Schedule Cron Emails in cPanel?

[Refer here](https://www.icegram.com/docs/category/icegram-express/schedule-cron-emails-cpanel/?utm_source=ig_express_wp_readme&utm_medium=faq21here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 22. How to Schedule Cron Emails in Parallels Plesk?

[Refer here](https://www.icegram.com/docs/category/icegram-express/schedule-cron-emails-in-parallels-plesk/?utm_source=ig_express_wp_readme&utm_medium=faq22here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 23. What to do if Hosting doesn’t support Cron Jobs?

[Refer here](https://www.icegram.com/docs/category/icegram-express/hosting-does-not-support-cron-jobs/?utm_source=ig_express_wp_readme&utm_medium=faq23here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 24. CSS Help

[Refer here](https://www.icegram.com/docs/category/icegram-express/css-help/?utm_source=ig_express_wp_readme&utm_medium=faq24here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

### 25. Icegram Express FAQ

[Refer here](https://www.icegram.com/docs/category/icegram-express/faq/?utm_source=ig_express_wp_readme&utm_medium=faq25here_anchor_text&utm_campaign=ig_express_wp_readme_traffic).

## Reviews

![](https://secure.gravatar.com/avatar/ab8e33a0b49377d065d1d409f8449afebb1dfce89e9cf2c8c05d0a044ba95c00?s=60&d=retro&r=g)
### [Outstanding email marketing plugin for WordPress](https://wordpress.org/support/topic/utstanding-email-marketing-plugin-for-wordpress/)

[mirkob](https://profiles.wordpress.org/mirkob/ "Posts by mirkob")
January 9, 2025

Icegram Express is an outstanding email marketing plugin for WordPress! Its user-friendly interface, powerful automation tools, and seamless integration options make it perfect for both beginners and experts.
Managing campaigns, creating newsletters, and tracking performance has never been easier. It’s a must-have tool for anyone looking to grow their audience and enhance engagement!

![](https://secure.gravatar.com/avatar/99789f3858b59572cde13a24c91d80bfd38e0ced406983cf59f8556456f58aee?s=60&d=retro&r=g)
### [Great Email Marketing plugin with Excellent Support](https://wordpress.org/support/topic/great-email-marketing-plugin-with-excellent-support/)

[DataMates Studio](https://profiles.wordpress.org/datamates86/ "Posts by DataMates Studio")
January 3, 2025

Icegram Express is a great email marketing plugin for any WordPress website user community. The integration with Gravity Forms works smoothly. It enables a truly branded community experience when the campaign content templates are combined with Post SMPT and Email Templates plugins.

![](https://secure.gravatar.com/avatar/11ea51623e1ea6b6c50f4c0928e679d49059ad533190d37c6818c1b8a8da63e4?s=60&d=retro&r=g)
### [Nice plugin](https://wordpress.org/support/topic/nice-plugin-5255/)

[Jose Antonio Gandon](https://profiles.wordpress.org/jose-antonio-gandon/ "Posts by Jose Antonio Gandon")
December 3, 2024

Easy to set up.

![](https://secure.gravatar.com/avatar/212dba1c4cccaa22fdfd21969b171429184a2079e2bbf809ec705949c286033a?s=60&d=retro&r=g)
### [Very good](https://wordpress.org/support/topic/very-good-7477/)

[christian55](https://profiles.wordpress.org/christian55/ "Posts by christian55")
November 26, 2024
1 reply

Gute Software. Sehr guter Service.

![](https://secure.gravatar.com/avatar/b0ddf2091d4fa83069581af1ff7fec783255307ad679db1d7ae12f92795e874f?s=60&d=retro&r=g)
### [Excellent Plugin](https://wordpress.org/support/topic/excellent-plugin-9399/)

[riteshjohn](https://profiles.wordpress.org/riteshjohn/ "Posts by riteshjohn")
November 23, 2024

The Icegram support team is incredibly friendly and walks me through each step with a lot of patience.

![](https://secure.gravatar.com/avatar/e434bbf7af2ff41318d39d4bea4437fbdbf06fe4402e75106a04826d7400bf9d?s=60&d=retro&r=g)
### [Good support](https://wordpress.org/support/topic/good-support-767/)

[rodiesband](https://profiles.wordpress.org/rodiesband/ "Posts by rodiesband")
November 12, 2024

Anupam has been incredibly supportive throughout our conversation addressing all of my queries with clear explanation I truly appreciate his assistance. Keep the great work!

[Read all 1,124 reviews](https://wordpress.org/support/plugin/email-subscribers/reviews/)
## Contributors & Developers

“Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/ed4ba05bd7adbaf52ebdd9ad6d86eb29142d41e312165693644c846163af3580?s=32&d=mm&r=g) [Icegram](https://profiles.wordpress.org/icegram/)
* ![](https://secure.gravatar.com/avatar/032f11cf871d26d9c3901aff4b8d8a994a801e095e1ae69beae7a5d29fbab457?s=32&d=mm&r=g) [Nirav Mehta](https://profiles.wordpress.org/niravmehta/)
* ![](https://secure.gravatar.com/avatar/beb7a0a4bf1a98dc9b8a818575bf92b9598e699842a1d1431d706f861901807e?s=32&d=mm&r=g) [Sandhya M](https://profiles.wordpress.org/sandhyam/)
* ![](https://secure.gravatar.com/avatar/6f1bc98e82042804a020e1ce4fbf049917258fcd4c97016bc01035e891ba6ed6?s=32&d=mm&r=g) [storeapps](https://profiles.wordpress.org/storeapps/)
* ![](https://secure.gravatar.com/avatar/ce7c9525c63d3f9bc970171628ba4ecee27917bc7c6e5747354e3d4b5e19a875?s=32&d=mm&r=g) [Malay Ladu](https://profiles.wordpress.org/malayladu/)
* ![](https://secure.gravatar.com/avatar/1dab817429ab0a52616ce0496c69153e461490c5223f8dee3b80fc3d047f1323?s=32&d=mm&r=g) [Mansi](https://profiles.wordpress.org/mansi-shah/)
* ![](https://secure.gravatar.com/avatar/b4b9b12e1134592c6938692fde22df10bbee1165e70d1642dabe044982fac961?s=32&d=mm&r=g) [kishanranawat](https://profiles.wordpress.org/kishanranawat/)
* ![](https://secure.gravatar.com/avatar/09bbc46fedb546f39aef9a1521524ab620da406d93c06a3aa3d8c131bb92d325?s=32&d=mm&r=g) [Asmi Patel](https://profiles.wordpress.org/asmipatel/)
* ![](https://secure.gravatar.com/avatar/4879e1d22dd56e968918f7771feec3de1e116deea66b9f59ec8905808c5d5a0a?s=32&d=mm&r=g) [Shubhanshu Kandani](https://profiles.wordpress.org/shubhanshukandani/)

“Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce” has been translated into 10 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/email-subscribers/contributors) for their contributions.

[Translate “Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce” into your language.](https://translate.wordpress.org/projects/wp-plugins/email-subscribers)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/email-subscribers/), check out the [SVN repository](https://plugins.svn.wordpress.org/email-subscribers/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/email-subscribers/) by [RSS](https://plugins.trac.wordpress.org/log/email-subscribers/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

**5.7.47 (02.01.2025)**

* Fix: Contact email getting trimmed in the Audience dashboard
* Fix: Keyword fallback replacement issue with Sendgrid [MAX]

**5.7.46 (26.12.2024)**

* Fix: XSS vulnerabilities in Forms Popup [Thanks to WPScan team]

**5.7.45 (19.12.2024)**

* Fix: XSS vulnerabilities in Forms and Workflows [Thanks to WPScan team]

**5.7.44 (11.12.2024)**

* Update: Tested up to WordPress 6.7.1
* Enhancement: Subscription form responsiveness issue
* Fix: XSS and SQL injection vulnerabilities [Thanks to Cleantalk team]
* Fix: Subscribe link not working in User Unsubscribed workflow email
* Fix: Name field was not syncing properly in Gravity form workflow [PRO]
* Fix: Custom URL fields were not getting imported properly in some cases [MAX]

**5.7.43 (13.11.2024)**

* Fix: “Add Posts” block not showing WordPress default posts in DND campaign editor [PRO]
* Fix: Bounce stats were not getting properly updated on audience dashboard [MAX]

**5.7.42 (11.11.2024)**

* Fix: PHP fatal error “Division by zero” when accessing Settings page

**5.7.41 (07.11.2024)**

* New: Added option to create new list on form page

**5.7.40 (05.11.2024)**

* Improvements: Form UI improvements
* Fix: PHP warning “Invalid argument supplied for foreach()” while creating campaigns

**5.7.39 (30.10.2024)**

* New: Added action to duplicate form
* Fix: PHP warning undefined array key “first\_form\_body”

**5.7.38 (28.10.2024)**

* Improvements: Small UI improvements

**5.7.37 (24.10.2024)**

* New: Added readymade form designs
* Fix: PHP warning undefined array key “meta”
* Fix: Email sending issue in Sendgrid when recipient email is invalid [MAX]

**5.7.36 (10.10.2024)**

* Enhancement: Reduce batch size for first two batches when sending campaigns
* Fix: Fatal error on dashboard page

**5.7.35 (25.09.2024)**

* Fix: Missing authorization check in template preview – CVE-2024-8771 [Thanks to Wordfence team]

**5.7.34 (19.09.2024)**

* Update: Improved invalid email handling while sending emails in batches
* Fix: Email case-sensitivity issue in subscriptions

**5.7.33 (12.09.2024)**

* Update: Improved dashboard UI
* Fix: Arbitrary shortcode execution vulnerability – CVE-2024-8254 [Thanks to Wordfence team]

**5.7.32 (29.08.2024)**

* New: Added option to export campaign reports in CSV [MAX]
* Fix: Welcome/confirmation emails were not getting sent for subscribers added through REST API

**5.7.31 (21.08.2024)**

* Fix: Missing image block in Drag-n-Drop editor
* Update: Added a confirmation popup to the campaign scheduling/sending flow

**5.7.30 (14.08.2024)**

* Fix: Premium features (UTM tracking, CSS inliner, spam score checker) now visible during trial period

**5.7.29 (01.08.2024)**

* Fix: Button text not editable in Drag-n-Drop editor in few cases

**5.7.28 (24.07.2024)**

* New: Added campaign rule to target subscribers based on their subscription date [MAX]
* Update: Compatibility check with WordPress 6.6

**5.7.27 (15.07.2024)**

* Fix: Campaign filters were not working correctly in a few cases
* Fix: ‘{{LIST}}’ tag is showing contact’s all lists(including unsubscribed one) in few cases in welcome email
* Fix: Missing authorization checks on creating REST API keys and contact bulk actions – CVE-2024-5703 [Thanks to Wordfence team]
* Fix: Sequence messages not showing when the sequence campaign is inactive [MAX]

**5.7.26 (26.06.2024)**

* Fix: Broken UI when previewing campaign on Reports page in some cases
* Fix: SQL injection vulnerability during unsubscription – CVE-2024-6172 [Thanks to Wordfence & Patchstack teams]
* Fix: Fatal error when activating plugin from plugins’ search page

**5.7.25 (20.06.2024)**

* Update: Improved campaign reports UI
* Fix: Broken Dashboard UI
* Fix: Sequence emails not triggering for imported users in some cases [MAX]

**5.7.24 (12.06.2024)**

* Fix: SQL injection vulnerability during subscription – CVE-2024-5756 [Thanks to Wordfence team]
* Update: Improved dashboard UI

**5.7.23 (06.06.2024)**

* Fix: “Post image size” setting field was not displaying all registered image sizes
* Fix: Paused campaign was getting sent to all subscribers while saving in some cases [PRO]
* Fix: SQL injection vulnerability during contact import – CVE-2024-4845 [Thanks to Wordfence team]

**5.7.22 (29.05.2024)**

* Improvements: Enhanced the post notification setup process
* Fix: Image upload issue while composing email in some cases

**5.7.21.1 (23.05.2024)**

* Fix: Error message: Uncaught DivisionByZeroError: Division by zero

**5.7.21 (22.05.2024)**

* Improvements: New WordPress filter ‘ig\_es\_validate\_subscription’ to enable custom subscription validation
* Fix: Unauthenticated SQL injection vulnerability – CVE-2024-4295 [Thanks to Wordfence team]
* Fix: Campaign title getting used in email subject for post notification campaigns
* Fix: Issue while editing campaign title
* Fix: Style issues with custom fields [MAX]

**5.7.20 (09.05.2024)**

* Improvements: Settings page UI improvements
* Fix: Security vulnerabilities including SQL injection, PHP object injection, and missing authorization checks – CVE-2024-4010 [Thanks to Wordfence team]

**5.7.19 (24.04.2024)**

* Improvements: Added option to navigate to the linked campaign from the report page

**5.7.18 (17.04.2024)**

* Improvements: Performance & security improvements suggested by the Plugin Check (PCP) tool
* Update: Tested up to WordPress 6.5.2
* Fix: Unauthorized access vulnerability [Thanks to Wordfence team]

**5.7.17 (12.04.2024)**

* Fix: Unable to select campaign recipient rules in a few cases
* Fix: Inline CSS not working in campaign preview [PRO]
* Fix: Keywords were not reflected in the post-notification test email [MAX]
* Fix: Broadcasts were not getting sent after re-editing

**5.7.16 (03.04.2024)**

* Fix: XSS vulnerability while importing contacts [Thanks to Wordfence team]

**5.7.15 (27.03.2024)**

* Fix: SQL vulnerability while importing contacts [Thanks to Wordfence team]
* Improvements: Added KPIs to audience dashboard

**5.7.14 (15.03.2024)**

* Fix: Broken Access Control vulnerability for Workflows [Thanks to Patchstack team]
* Improvements: Revamped dashboard for optimized view

**5.7.13 (06.03.2024)**

* New: Allow admin to manually confirm subscription through confirmation email link
* Fix: Special characters issue in post notification emails
* Fix: Custom field not updating when resubscribing
* Fix: Drag-n-drop editor’s blocks not updating when campaign type is changed in templates

**5.7.12 (28.02.2024)**

* Fix: XSS vulnerability on Reports page [Thanks to Patchstack team]

**5.7.11 (14.02.2024)**

* Fix: Post notifications were not getting sent for campaigns created using the Drag-n-Drop editor
* Fix: Unable to edit sequence campaigns [MAX]

**5.7.10 (08.02.2024)**

* New: Added Post/Custom Post block for broadcast campaigns [PRO]

**5.7.9 (25.01.2024)**

* Fix: Unsubscribe not working for Weekly summary email in few cases
* Fix: Emails not sending for posts created with Yoast Duplicate Post plugin
* Fix: Issue with typing ‘n’ key in Drag-n-Drop editor when Jetpack plugin is active

**5.7.8 (17.01.2024)**

* Improvements: Added ‘Show block manager’ toolbar option for the ‘Add Posts’ block in the Drag-n-Drop editor
* Fix: Default subject and content were not set properly while creating a new campaign in some cases
* Fix: Workflow emails not sending when using the Icegram email sending service with email tracking enabled

**5.7.7 (10.01.2024)**

* New: Show recipients’ counts in campaigns
* Improvements: Drag-n-Drop editor UI improvements
* Update: PHP 8.2 compatibility
* Fix: Fatal error when sending preview email in post digest [MAX]

**5.7.6 (03.01.2024)**

* Fix: Set tracking options according to plugin settings for new campaigns
* Fix: Previous scheduled date/time not shown when editing the scheduled campaign

**5.7.5 (28.12.2023)**

* New: Added “Save as Template” option in campaigns
* Fix: Email content not preserved when switching from Drag-n-Drop editor to Classic editor
* Improvements: Disallow change in recipients after campaign has started sending

**5.7.4 (19.12.2023)**

* New: Added “Send Now” option for Post notification/Post digest campaigns [MAX]
* Update: Tested up to WordPress 6.4.2
* Update: Enhancements in campaign UI
* Fix: Extra image tags getting added in the Campaign Classic editor
* Fix: Incorrect post shown in post notification campaign preview

**5.7.3 (29.11.2023)**

* Update: Tested up to WordPress 6.4.1
* Fix: Campaign content not saving in some cases when using Classic editor
* Fix: Create New Template link not working on the Dashboard page
* Fix: Inline text color issue in Drag-n-Drop editor

**5.7.2 (14.11.2023)**

* Fix: Fatal error when creating a new campaign using existing templates in PHP 8.0
* Fix: Custom field keywords not working in emails
* Fix: Emails were not in alphabetical order while sending

**5.7.1 (10.11.2023)**

* Update: Icegram email sending service improvements

**5.7.0 (06.11.2023)**

* New: Revamped campaign dashboard for optimized view/edit/save/send

**5.6.24 (11.10.2023)**

* New: Added option to export subscribers who clicked on a link from the report [MAX]
* Fix: Prevent directory traversal vulnerability [Thanks to Wordfence team]
* Fix: Select list error for embedded forms [MAX]
* Fix: Gmail authentication issue when Icegram sending service is enabled

**5.6.23 (27.09.2023)**

* Fix: Template import issue due to special characters

**5.6.22 (20.09.2023)**

* New: Added keywords to show total contacts count, site URL, and site name in the DND form editor
* Fix: Preheader not showing when sending campaign preview emails [MAX]
* Fix: Error when sending workflow emails using Sendgrid [MAX]
* Fix: Campaign gallery issue with WordPress 4.9

**5.6.21 (06.09.2023)**

* New: Keyword to show unsubscribe reason in “User Unsubscribed” workflow [MAX]

**5.6.20 (30.08.2023)**

* New: New workflow triggers for BuddyBoss user actions – activated/suspended/unsuspended [MAX]
* Fix: Fatal error on dashboard for admin notice

**5.6.19 (23.08.2023)**

* New: Compatibility with WooCommerce HPOS (High Performance Order Storage)
* Fix: Remove click tracking for test emails [MAX]

**5.6.18 (16.08.2023)**

* Fix: Fatal error when sending invites in BuddyBoss plugin

**5.6.17 (09.08.2023)**

* Fix: Template filtering issue in template gallery

**5.6.16 (02.08.2023)**

* Fix: Survey block responsiveness issue
* Update: Updated Action Scheduler Library to 3.6.1 version

**5.6.15 (19.07.2023)**

* Fix: While sending email from MailerSend the “To” email address contains the wrong email address [MAX]
* Fix: PHP 7.4 warning while subscribing
* Fix: PHP warning on the dashboard page

**5.6.14 (12.07.2023)**

* Update: Updated Action Scheduler Library to 5.4.0
* Improvements: Improve post notification sending flow
* Fix: Last name data missing in BuddyBoss importer [MAX]
* Fix: Welcome email content getting overridden with new subscriber admin notification in few cases

**5.6.13 (05.07.2023)**

* Improvements: Include custom fields data in CSV while exporting contacts [MAX]
* Fix: Issue with Access Control setting for campaigns [PRO]
* Fix: Issue with Dran-n-Drop editor while editing templates

**5.6.12 (28.06.2023)**

* Fix: Keywords not working for workflow and sequence emails
* Fix: Content added through custom code block not displaying in email [MAX]

**5.6.11 (21.06.2023)**

* Fix: Issue with sidebar positioning after adding Express form widget
* Fix: Keyword for post categories not working as expected in email subject line

**5.6.10 (14.06.2023)**

* New: Option to update existing subscribers’ data while importing
* New: Option to add surveys in email campaigns using Drag and Drop builder [MAX]
* Fix: Fatal error when sending emails through SMTP mailer in a few cases [PRO]
* Improvements: SQL query optimization used for sending emails

**5.6.9 (07.06.2023)**

* Fix: Scroll issue for subscription form

**5.6.8 (31.05.2023)**

* Improvements: Option to enable Icegram sending service when email sending fails
* Improvements: Blocked domain check while adding contacts through workflows
* Fix: Incorrect email stats in Weekly summary email
* Fix: Issue with custom field having special characters [MAX]
* Fix: Trial optin issue on dashboard

**5.6.7 (24.05.2023)**

* New: Option to check email sending logs
* Fix: Extra field in the subscription form when Otter – Gutenberg Blocks plugin is active
* Improvements: Small UI improvements

**5.6.6 (17.05.2023)**

* New: Optimize emails sending time based on subscriber’s previous average email open time [MAX]
* Fix: Extra label in the subscription form
* Fix: Category reset issue in the post notification campaign
* Fix: JavaScript error while setting template preview image

**5.6.5 (09.05.2023)**

* New: Send emails on subscriber birthdays/anniversaries [MAX]
* New: Add preheader text to emails
* Fix: Accessibility issue in the subscription form
* Fix: Issue with email sending when using Sendgrid

**5.6.4 (26.04.2023)**

* New: Housekeeping option for campaigns [MAX]
* Enhancement: Added link for checking ESPs sending limits in Email sending settings
* Fix: Post notification shortcode issue with Divi theme
* Fix: Campaign sending to all recipients when no recipients selected
* Fix: Form id in form redirection URL

**5.6.3 (20.04.2023)**

* New: Option to redirect subscribers after subscription
* New: Weekly summary email
* Fix: Duplicate posts issue in post digest notifications [MAX]
* Fix: Database error when creating custom field [MAX]

**5.6.2 (12.04.2023)**

* New: Option to show custom success message per form
* New: Import subscribers from BuddyBoss [MAX]

**5.6.1 (05.04.2023)**

* New: Workflow rules for MemberPress & WooCommerce Memberships plugins [MAX]
* Enhancement: List cleanup service performance improvements [PRO]

**5.6.0 (27.03.2023)**

* New: Introducing Icegram Email Sending Service – free 100 emails per day [Experimental]
* New: Workflow rules for LearnDash LMS & Ultimate Members plugins [MAX]
* Fix: Welcome email issue
* Fix: Manage lists issue

**5.5.15 (15.03.2023)**

* Enhancement: Small UI improvements on campaigns page
* Fix: Post digest duplicate notifications [MAX]

**5.5.14 (08.03.2023)**

* Fix: Classic editor being used for default form created during onboarding

**5.5.13 (23.02.2023)**

* Fix: Campaign report generation with zero subscribers

**5.5.12 (15.02.2023)**

* Enhancement: Add signup consent field in Contact Form 7 [PRO]
* Fix: HTML tags in subject line in campaign reports

**5.5.11 (08.02.2023)**

* Enhancement: Setting panel improvements in Drag and drop editor
* Fix: Site pages not getting cached [PRO]

**5.5.10 (01.02.2023)**

* Fix: Autofill issue for email fields during onboarding
* Fix: Duplicate hidden fields in subscription form

**5.5.9 (25.01.2023)**

* New: Custom fields support in campaigns [MAX]
* Update: Added selection for Formidable form in workflow integration [MAX]

**5.5.8 (18.01.2023)**

* Enhancement: Show open stats on Reports page
* Fix: Fatal error when using workflow rule for User role in MemberPress plugin’s integration

**5.5.7 (12.01.2023)**

* Fix: Delete unconfirmed contacts cron not re-registering on plugin reactivation
* Fix: Delete contacts’ list data when deleting the list
* Fix: The master list was not editable
* Enhancement: Name field placeholder issue in subscription form

**5.5.6 (04.01.2023)**

* Enhancement: Improved dashboard stats

**5.5.5 (28.12.2022)**

* New: Added scheduling for workflows [PRO]
* New: Added column block in Drag and Drop form builder

**5.5.4 (21.12.2022)**

* Fix: Preview was not working in post digest [MAX]
* Fix: Comment/order checkout opt-in field setting not visible [PRO]

**5.5.3 (14.12.2022)**

Fix: CSV injection while exporting Subscribers

**5.5.2 (08.12.2022)**

* New: Added option to automatically delete unconfirmed subscribers [PRO]
* Fix: Incorrect remaining emails count show when sending campaigns manually

**5.5.1 (01.12.2022)**

* New: Added new styles for subscription forms [PRO]
* Fix: Select list issue in form widget
* Fix: Added permission check when getting contact counts on Audience export and Campaigns pages[Thanks to WPScan team]

**5.5.0 (18.11.2022)**

* New: Workflow action to update contact’s custom field [MAX]
* Fix: SQL vulnerability while getting list’s contacts count [Thanks to WPScan team]
* Fix: Style issue for Drag-and-Drop form fields
* Fix: Sending issue with Sendinblue when subscribers’ name data is not present [MAX]

**5.4.19 (09.11.2022)**

* New: Added Text, Image, and Heading blocks for Drag-and-Drop form editor
* New: Added inline color picker in Drag-and-Drop campaign editor
* Fix: Style issue for checkbox setting fields in Drag-and-Drop editor
* Fix: Remote templates were not loading due to database collation issues on some sites

**5.4.18 (02.11.2022)**

* New: Rest API support for add/delete/edit subscriber
* Fix: Gutenberg form block issue with ClassicPress plugin

**5.4.17 (19.10.2022)**

* New: Added Gutenberg block for subscription form
* New: Added new workflow action to change subscriber’s status in the list [MAX]
* Enhancement: Small UI improvements

**5.4.16 (13.10.2022)**

* Enhancement: Added post notification keyword blocks in Drag and Drop editor
* Enhancement: Added new rules for cart abandoned workflow [MAX]

**5.4.15 (06.10.2022)**

* Enhancement: Introduce gallery for template section

**5.4.14 (28.09.2022)**

* New : Filter subscribers using custom fields while sending emails[MAX]

**5.4.13 (22.09.2022)**

* Enhancement: Bulk actions can now apply to all the contacts
* Fix: Some keywords are not getting converted correctly in Amazon SES

**5.4.12 (14.09.2022)**

* Enhancement: Add title for list names on add contact screen
* Enhancement: Improve error handling when email sending fails for some email addresses
* Fix: Fatal error when getmypid function is disabled on hosts with PHP v8
* Fix: Fatal error Fatal error: Uncaught TypeError: number\_format() on dashboard

**5.4.11 (07.09.2022)**

* Enhancement: Simplified merge tag view for editor
* Fix: Campaign preview not working in some cases

**5.4.10 (01.09.2022)**

* Enhancement: Added option to disable subscription API
* Fix: Duplicate campaign scheduling issue[MAX]

**5.4.9 (25.08.2022)**

* Enhancement: Added failed status for campaign in case email delivery fails
* Enhancement: Added workflow trigger for failed campaigns
* Fix: Form fields were not rendering properly when viewed in popup[MAX]

**5.4.8 (18.08.2022)**

* New: Added unsubscribe reasons on dashboard [MAX]
* Fix: Emails were not getting sent via Amazon SES for some cases [MAX]

**5.4.7 (10.08.2022)**

* New: New workflow trigger for MemberPress [MAX]
* New: New workflow trigger for WooCommerce Memberships [MAX]

**5.4.6 (03.08.2022)**

* New: New workflow trigger for Paid Memberships Pro [MAX]
* New: New workflow trigger for Ultimate Members [MAX]
* Update: Added product rule for WooCommerce order workflow [MAX]

**5.4.5 (27.07.2022)**

* New: New workflow trigger for LearnDash LMS [MAX]
* Update: Improved send test email feature in campaign preview

**5.4.4.1 (19.07.2022)**

* Fix: {{POSTTITLE}} keyword not working in subject

**5.4.4 (19.07.2022)**

* Update: New keyword structure for campaigns

**5.4.3 (13.07.2022)**

* New: Send emails using Gmail API [PRO]

**5.4.2 (06.07.2022)**

* New: Send different welcome/confirmation emails to subscribers based on their list
* Fix: Some subscribers’s emails getting excluded while sending emails[MAX]

**5.4.1 (29.06.2022)**

* Update: Better spam score checking
* Fix: Custom HTML block in drag and drop editor not working properly
* Fix: Workflow not running on some setup
* Fix: Optional parameter warning in PHP 8.1
* Fix: Issue while creating a new campaign on some setup

**5.4.0 (23.06.2022)**

* New: Added drag and drop editor for building forms
* Update: Added status dropdown to add to list action
* Update: Support to exclude some Broadcast emails in Broadcast archive shortcode

**5.3.18 (17.06.2022)**

* New: Added shortcode to display broadcast archive
* Update: Improve spam score service

**5.3.17 (08.06.2022)**

\* New: Added support for sending notifications on page publish

**5.3.16 (02.06.2022)**

\* Enhancement: Improved dashboard stats

\* Fix: Warning message when using Gmail/Yahoo email addresses in From email setting

\* Fix: Email sending issue with Amazon SES when subject contains emojis[MAX]

\* Fix: Duplicate post digest notifications[MAX]

\* Fix: Unsubscribe message getting inserted after HTML tag

\* Fix: Caching issue when editing campaign when Redis cache enable

\* Fix: PHP warning when subscription form is deleted from backend and form widget is active on frontend

\* Fix: Incorrect link tracking stats for campaigns created using Drag-n-Drop editor[PR0]

**5.3.15 (18.05.2022)**

* New: Advanced audience filters[MAX]
* Fix: Template already exists issue on some setup using Amazon SES[MAX]

**5.3.14 (11.05.2022)**

* New: Automatic email list cleanup service[MAX]
* Fix: Issue with Created at date while importing
* Fix: Unsubscribe link not working when WooCommerce styling is selected in workflow emails
* Fix: Issue with Drag and Drop campaign editor on some setup
* Fix: Unable to subscribe with a Hotmail email address[MAX]

**5.3.13 (27.04.2022)**

* New: Support for categories for custom post type[MAX]
* New: Added preview for sequence emails[MAX]

**5.3.12 (21.04.2022)**

* Fix: Incorrect name when registering through Ultimate Member plugin
* Fix: Broadcast send now not working on sites having timezone before UTC
* Fix: Security related issues [Thanks to WP team]

**5.3.11 (12.04.2022)**

* New: Now ES forms can be added to remote sites/pages via HTML code
* Fix: Workflows are not getting saved in some cases
* Fix: Security related issues [Thanks to WP team]

**5.3.10 (07.04.2022)**

* Fix: Security related issues [Thanks to WP team]
* Enhancement: Small UI improvements

**5.3.9 (30.03.2022)**

* New: Added WooCommerce email template support in workflows
* Fix: Template gallery not working with WordPress v4.9 and lower

**5.3.8 (24.03.2022)**

* New: Added predefined workflows
* New: Email template gallery improvements
* Fix: Sequence were not getting sent on time in some cases
* Fix: Styling was not properly getting applied to the post excerpt in campaigns

**5.3.7 (16.03.2022)**

* New: Added preview for workflow emails
* Fix: Duplicate drafts were getting created for campaigns in some cases
* Fix: Custom post type were not getting saved in post notification campaigns
* Fix: Encoding issues with pepipost email sending

**5.3.6 (09.03.2022)**

* New: Added support for fallback value for NAME and FIRSTNAME keywords
* Fix: PHP warning on custom post type page
* Fix: Welcome email issue with Rainmaker integration

**5.3.5 (02.03.2022)**

* New: Added ajax option for submission of forms
* Fix: HTML Tags getting escaped from the form description
* Update: Added support for two new regions(AF South 1 and EU South 1) in Amazon SES [MAX]

**5.3.4 (24.02.2022)**

* New: Integration of WooCommerce coupon in workflows [MAX]

**5.3.3 (17.02.2022)**

* New: Added template gallery for campaigns
* New: Added {{POSTAUTHORAVATAR}} and {{POSTAUTHORAVATARLINK-ONLY}} keywords for Post Notification
* New: Added option to send welcome/ confirmation email after importing of contacts
* Fix: Improved security related to nonce validations [Thanks to WP team]

**5.3.2 (09.02.2022)**

* New: Send emails using Sendinblue [MAX]
* New: Send emails using Mailjet [MAX]
* Fix: Secured Icegram Express from reflected XSS vulnerability [Thanks to WPScan team]

**5.3.1 (01.02.2022)**

* Fix: Media upload is not working

**5.3.0 (01.02.2022)**

* New: Added Drag and Drop editor in campaign section
* Fix: Compatibility with Forminator version(1.15.9) [MAX]

**5.2.0 (24.01.2022)**

* Update: UI improvements for campaign section

**5.1.0 (19.01.2022)**

* New: Added support for popup in forms
* New: Added more blocks for drag and drop email builder – Video and Custom Code [MAX]
* Update: Added selection of form for Gravity Forms, Ninja Forms, and Contact form 7 workflow integration[MAX]
* Fix: Pepipost support for swedish characters

**5.0.9 (12.01.2022)**

* New: Added blocks for drag and drop editor [MAX]

**5.0.8 (06.01.2022)**

* New: Option to add attachments to workflow emails [MAX]
* Fix: {{UNSUBSCRIBE-LINK}} not working in welcome emails in few cases
* Fix: PHP warning undefined index ‘ig-es-tracking-campaign-id’ during onboarding/update

**5.0.7 (31.12.2021)**

* Fix: Adding sequence is not working

**5.0.6 (31.12.2021)**

* New: Drag and Drop editor[Beta]
* New: New workflow trigger for subscriber unsubscribed
* Update: Stop post notification for post where notification is already sent

**5.0.5 (15.12.2021)**

* New: Date filter for reports
* Update: Amazon SES support for bounce handling
* Update: Support for Amazon SES throttling
* Fix: Small UI fixes

**5.0.4 (08.12.2021)**

* New: Added new sending option for sequence[MAX]
* New: Support description in list
* New: Option to customize “Select list” label for form

**5.0.3 (02.12.2021)**

* New: Send emails in customers timezone [MAX]
* New: Tracking for workflows
* Fix: UI fixes

**5.0.2 (19.11.2021)**

* Fix: Incorrect placeholder values in emails
* Fix: Unable to send campaigns

**5.0.1 (18.11.2021)**

* Enhancement: Welcome and Confirmation email are now part of workflows
* New: Preview email template in popup
* Fix: Increase character limit in amazon SES
* Fix: Prevent email sending while campaign is getting queued

**5.0.0 (10.11.2021)**

* New: Campaign rule to filter on ‘bounce status’ of recipients while emails **[MAX]**
* New: Campaign rule to filter on ‘engagement score’ of recipients while emails **[MAX]**

**4.9.1 (02.11.2021)**

* New: Added {{POSTIMAGE-URL}} keyword for Post Notification
* Update: Action Scheduler Library to 3.3.0
* Fix: Amazon SES batch sending issue **[MAX]**

**4.9.0 (26.10.2021)**

* New: Automatic bounce handling for list **[MAX]**

**4.8.6 (21.10.2021)**

* New: Prefill name and email fields in the subscription form for logged-in users

**4.8.5 (14.10.2021)**

* Update: Support for Amazon SES batch email API **[MAX]**
* Fix: PHP warning while saving contact through admin side

**4.8.4 (07.10.2021)**

* New: Custom fields support for contacts **[MAX]**
* New: Add custom fields in subscription forms **[MAX]**
* New: Map custom fields while importing contacts **[MAX]**
* Fix: Fixed video thumbnail issue with Jetpack plugin

**4.8.3 (29.09.2021)**

* New: Subscribers engagement score **[MAX]**

**4.8.2 (22.09.2021)**

* New: Elementor form integration with Icegram Express

**4.8.1 (15.09.2021)**

* Fix: Duplicate emails in few cases
* Update: Tested up to WordPress 5.8.1

**4.8.0 (08.09.2021)**

* New: Weekly summary email **[MAX]**
* New: Campaign unsubscribe count **[MAX]**
* Fix: Long SQL query killed while sending to large number of emails on WP Engine host
* Fix: CSS conflict on WordPress admin dashboard page

**4.7.9 (02.09.2021)**

* New: Added ‘Total sent’ column on the Reports page
* Update: UX improvements
* Fix: Incorrect sent and opened dates on campaign report on some setup
* Fix: Campaign report migration issue from Icegram Express 3.5.16
* Fix: Duplicate sequence emails **[MAX]**

**4.7.8 (26.08.2021)**

* New: Pause/resume ongoing campaigns **[MAX]**
* New: Dashboard widget to review statistics in a glance
* Update: Batch email API improvements **[MAX]**

**4.7.7 (17.08.2021)**

* Update: Tested up to WordPress 5.8
* Update: Improved campaign reports performance
* Update: Improved handling of emails having internationalized domain name during import
* Fix: Newline characters when previewing campaign reports
* Fix: Database error when subscribing to another list and name field isn’t present in the subscription form

**4.7.6 (17.07.2021)**

* New: Bulk resend confirmation emails **[MAX]**
* New: Run Workflows on existing orders **[MAX]**
* New: Search contacts by email on the Reports page **[MAX]**
* Fix: Incorrect form action URL when the subscription form is shown on the blog page
* Fix: ‘es\_subbox’ function not working

**4.7.5.1 (16.06.2021)**

* Fix: PHP warning for number\_format on Manage List screen

**4.7.5 (16.06.2021)**

* New: Import subscribers from WooCommerce orders **[MAX]**
* New: Added option to remove plugin data on plugin deletion
* Update: Support for Peipost batch email API
* Update: Support for Sparkpost batch email API **[MAX]**
* Update: Removing JavaScript dependency for handling frontend subscriptions

**4.7.4 (27.05.2021)**

* Fix: Localization/internationalization issue
* Update: Improved UI/IX

**4.7.3 (19.05.2021)**

* Fix: Formatting of broadcast test email not matching with actual campaign email **[MAX]**
* Fix: JavaScript errors on the broadcast screen when a visual mode is disabled for classic editor
* Fix: Incorrect campaign start date on the reports page
* Fix: Fixing incorrect count of imported users in the log message when CSV contains duplicate emails
* Update: Improved email template preview
* Update: Improved campaign report UI

**4.7.2 (12.05.2021)**

* New: Support for ‘List-Unsubscribe’ email header
* New: Support for ‘Subscribed at’ field while importing contacts through CSV
* Update: Support for Sendgrid batch email API **[MAX]**
* Update: Improved page load performance on Icegram Express admin pages

**4.7.1 (30.04.2021)**

* New: Send emails using Postmark batch API **[MAX]**
* Update: Improved dashboard UI
* Fix: Post digest category issue [MAX]
* Fix: Garbage characters in few cases when an email containing HTML entities is sent using Pepipost
* Fix: Ajax call on every page load

**4.7.0 (05.04.2021)**

* New: Support for list and status fields while importing contacts through CSV
* New: Using batch API to send emails through Mailgun **[MAX]**

**4.6.14 (25.03.2021)**

* New: Send emails using Mailgun, SparkPost and SendGrid **[MAX]**
* New: Import contacts from MailChimp

**4.6.13 (17.03.2021)**

* New: Campaign rules to filter recipients while sending sequence emails **[MAX]**
* Update: Tested up to WordPress 5.7
* Fix: Invalid date and time for campaign reports activity table

**4.6.12.1 (05.03.2021)**

* Fix: Subscription issue with [Icegram](https://wordpress.org/plugins/icegram) plugin

**4.6.12 (04.03.2021)**

* New: Filter recipients using new campaign rules for ‘is in List’ and ‘is not in List’ while sending broadcast **[MAX]**
* Update: Improved campaign report UI
* Update: Improved securities in subscription form

**4.6.11 (25.02.2021)**

* New: Campaign rules to filter recipients while sending broadcast [MAX]
* New: Added option to disable post notifications for default WordPress posts
* Update: Improved campaign preview report UI

**4.6.10 (15.02.2021)**

* New: New workflow trigger for YITH WooCommerce Wishlist [MAX]
* New: Added additional stats on campaigns reports dashboard
* Update: Disable IP tracking in lite version by default to make GDPR compliant
* Fix: Database vulnerability

**4.6.9 (05.02.2021)**

* New: Added placeholder keyword support for WooCommerce [MAX]
* New: Added abandoned cart recovery related triggers [MAX]
* Update: Improve campaign reports

**4.6.8 (01.02.2021)**

* New: Allow subscribers to provide feedback for unsubscription [MAX]
* Update: UI Improvements

**4.6.7 (21.01.2021)**

* New: Show contacts’ country on the audience page [MAX]
* New: Import existing WordPress users [MAX]
* New: Add attachments to broadcast and sequence campaigns [MAX]
* New: Send emails using Amazon SES [MAX]
* Update: Improved campaign report UI
* Fix: Invalid nonce issue due to caching while subscribing

**4.6.6 (14.01.2021)**

* New: Now, able to map fields while importing
* Update: Improved UI
* Fix: YouTube video embedding issue

**4.6.5 (22.12.2020)**

* New: WooCommerce Abandoned Cart [MAX]
* New: Added option to disable storing of subscribers’ IP Address [MAX]
* New: Added new column ‘Last Opened At’ on the audience page [MAX]
* New: Added option to filter reports by campaign type and status

**4.6.4 (24.11.2020)**

* New: Added {{POSTMORETAG}} keyword for Post Notification
* New: New workflow trigger for WooCommerce order creation [MAX]
* New: Added option to select multiple lists while importing subscribers [MAX]
* Fix: Import not working for existing subscribers
* Fix: Duplicate email issue in few edge cases

**4.6.3 (09.11.2020)**

* New: Duplicate Broadcasts and Sequences [MAX]
* New: Added IP address of contacts on audience
* New: Show total contacts subscribed from a specific form
* Update: Improve email sending queue

**4.6.2 (27.10.2020)**

* Fix: UTM tracking related issue [MAX]

**4.6.1 (19.10.2020)**

* New: UI improvements
* Fix: Status change issue after sending broadcast

**4.6.0 (25.09.2020)**

* New: Added unconfirmed contacts KPI on audience page
* New: Integrate email delivery check system
* Update: Improved onboarding
* Update: User subscription on selected lists only in double opt-in (instead of all list)
* Update: Added option to remove “Powered By Icegram” link
* Fix: Deactivation feedback popup issue
* Fix: Migration issue from Icegram Express 3.1.3
* Fix: Bulk actions issue for large number of list items

**4.5.6 (09.09.2020)**

* Update: Improved UI
* Update: Improved securities
* Update: Improved Import contacts functionality
* Update: Now, pagination also works with search parameter

**4.5.5 (02.09.2020)**

* Update: Improve onboarding
* New: Sync name field value from WP Form [MAX]
* Fix: WP Form workflow related issue [MAX]

**4.5.4 (27.08.2020)**

* Update: Compatible with WordPress 5.5
* Fix: SMTP mailer warning with WordPress 5.5
* Fix: Import Contact issue

**4.5.3 (30.07.2020)**

* New: Add Reply-To Email Address field for Broadcast

  …

## Meta

* Version **5.7.47**
* Last updated **1 week ago**
* Active installations **80,000+**
* WordPress version **3.9 or higher**
* Tested up to **6.7.1**
* PHP version **7.0 or higher**
* Languages
  See all 11

  Close

  [Czech](https://cs.wordpress.org/plugins/email-subscribers/), [Dutch](https://nl.wordpress.org/plugins/email-subscribers/), [English (UK)](https://en-gb.wordpress.org/plugins/email-subscribers/), [English (US)](https://wordpress.org/plugins/email-subscribers/), [German](https://de.wordpress.org/plugins/email-subscribers/), [Hungarian](https://hu.wordpress.org/plugins/email-subscribers/), [Polish](https://pl.wordpress.org/plugins/email-subscribers/), [Russian](https://ru.wordpress.org/plugins/email-subscribers/), [Spanish (Mexico)](https://es-mx.wordpress.org/plugins/email-subscribers/), [Spanish (Spain)](https://es.wordpress.org/plugins/email-subscribers/), and [Spanish (Venezuela)](https://ve.wordpress.org/plugins/email-subscribers/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/email-subscribers)
* Tags [autoresponders](https://wordpress.org/plugins/tags/autoresponders/)[email automation](https://wordpress.org/plugins/tags/email-automation/)[Email Marketing](https://wordpress.org/plugins/tags/email-marketing/)[email newsletters](https://wordpress.org/plugins/tags/email-newsletters/)[email subscribers](https://wordpress.org/plugins/tags/email-subscribers/)
* [Advanced View](https://wordpress.org/plugins/email-subscribers/advanced/)

## Ratings

4.6 out of 5 stars.

* [982 5-star reviews
  5 stars

  982](https://wordpress.org/support/plugin/email-subscribers/reviews/?filter=5)
* [38 4-star reviews
  4 stars

  38](https://wordpress.org/support/plugin/email-subscribers/reviews/?filter=4)
* [16 3-star reviews
  3 stars

  16](https://wordpress.org/support/plugin/email-subscribers/reviews/?filter=3)
* [13 2-star reviews
  2 stars

  13](https://wordpress.org/support/plugin/email-subscribers/reviews/?filter=2)
* [75 1-star reviews
  1 star

  75](https://wordpress.org/support/plugin/email-subscribers/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/email-subscribers/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/email-subscribers/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/ed4ba05bd7adbaf52ebdd9ad6d86eb29142d41e312165693644c846163af3580?s=32&d=mm&r=g) [Icegram](https://profiles.wordpress.org/icegram/)
* ![](https://secure.gravatar.com/avatar/032f11cf871d26d9c3901aff4b8d8a994a801e095e1ae69beae7a5d29fbab457?s=32&d=mm&r=g) [Nirav Mehta](https://profiles.wordpress.org/niravmehta/)
* ![](https://secure.gravatar.com/avatar/beb7a0a4bf1a98dc9b8a818575bf92b9598e699842a1d1431d706f861901807e?s=32&d=mm&r=g) [Sandhya M](https://profiles.wordpress.org/sandhyam/)
* ![](https://secure.gravatar.com/avatar/6f1bc98e82042804a020e1ce4fbf049917258fcd4c97016bc01035e891ba6ed6?s=32&d=mm&r=g) [storeapps](https://profiles.wordpress.org/storeapps/)
* ![](https://secure.gravatar.com/avatar/ce7c9525c63d3f9bc970171628ba4ecee27917bc7c6e5747354e3d4b5e19a875?s=32&d=mm&r=g) [Malay Ladu](https://profiles.wordpress.org/malayladu/)
* ![](https://secure.gravatar.com/avatar/1dab817429ab0a52616ce0496c69153e461490c5223f8dee3b80fc3d047f1323?s=32&d=mm&r=g) [Mansi](https://profiles.wordpress.org/mansi-shah/)
* ![](https://secure.gravatar.com/avatar/b4b9b12e1134592c6938692fde22df10bbee1165e70d1642dabe044982fac961?s=32&d=mm&r=g) [kishanranawat](https://profiles.wordpress.org/kishanranawat/)
* ![](https://secure.gravatar.com/avatar/09bbc46fedb546f39aef9a1521524ab620da406d93c06a3aa3d8c131bb92d325?s=32&d=mm&r=g) [Asmi Patel](https://profiles.wordpress.org/asmipatel/)
* ![](https://secure.gravatar.com/avatar/4879e1d22dd56e968918f7771feec3de1e116deea66b9f59ec8905808c5d5a0a?s=32&d=mm&r=g) [Shubhanshu Kandani](https://profiles.wordpress.org/shubhanshukandani/)
## Support

Issues resolved in last two months:

7 out of 12

[View support forum](https://wordpress.org/support/plugin/email-subscribers/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=BMFRMVXQ87JWA&source=url)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ab19fce4_20250111_035541.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3107964%2540email-subscribers%252Ftrunk%26old%3D3104864%2540email-subscribers%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3104864/email-subscribers/trunk?old=3107964&old_path=%2Femail-subscribers%2Ftrunk)

---

# Changes in [email-subscribers/trunk](/browser/email-subscribers/trunk?rev=3107964 "Show entry in browser") [[3104864:3107964]](/log/email-subscribers/trunk?rev=3107964&stop_rev=3104864 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[email-subscribers/trunk](/browser/email-subscribers/trunk?rev=3107964)
Files:

6 edited

* [email-subscribers.php](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [lite/admin/js/email-subscribers-admin.js](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [lite/includes/class-es-install.php](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [lite/includes/controllers/class-es-campaign-controller.php](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [lite/includes/db/class-es-db-contacts.php](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [readme.txt](/browser/email-subscribers/trunk/readme.txt?rev=3107964 "Show entry in browser")
  (modified)
  ([5 diffs](#file5 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [email-subscribers/trunk/email-subscribers.php](/changeset/3107964/email-subscribers/trunk/email-subscribers.php?old=3104864&old_path=email-subscribers%2Ftrunk%2Femail-subscribers.php "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/email-subscribers.php")

  | [r3104864](/browser/email-subscribers/trunk/email-subscribers.php?rev=3104864#L4 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964#L4 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://www.icegram.com/ |
  | 5 | 5 | \* Description: Add subscription forms on website, send HTML newsletters & automatically notify subscribers about new blog posts once it is published. |
  | 6 |  | \* Version: 5.7.2~~5~~ |
  |  | 6 | \* Version: 5.7.26 |
  | 7 | 7 | \* Author: Icegram |
  | 8 | 8 | \* Author URI: https://www.icegram.com/ |
  | […](/browser/email-subscribers/trunk/email-subscribers.php?rev=3104864#L188) | […](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964#L188) |  |
  | 188 | 188 |  |
  | 189 | 189 | if ( ! defined( 'ES\_PLUGIN\_VERSION' ) ) { |
  | 190 |  | define( 'ES\_PLUGIN\_VERSION', '5.7.2~~5~~' ); |
  |  | 190 | define( 'ES\_PLUGIN\_VERSION', '5.7.26' ); |
  | 191 | 191 | } |
  | 192 | 192 |  |
* ## [email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js](/changeset/3107964/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?old=3072302&old_path=email-subscribers%2Ftrunk%2Flite%2Fadmin%2Fjs%2Femail-subscribers-admin.js "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js")

  | [r3104864](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3072302#L214 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3107964#L214 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 214 | 214 | let response\_data = response.data; |
  | 215 | 215 | let template\_html = response\_data.template\_html; |
  | 216 |  | ~~$('.report\_preview\_container').html(template\_html);~~ |
  | 217 | 216 | $('#report\_preview\_template').load().show(); |
  |  | 217 | ig\_es\_load\_iframe\_preview('.report\_preview\_container', template\_html); |
  | 218 | 218 | } |
  | 219 | 219 | } else { |
* ## [email-subscribers/trunk/lite/includes/class-es-install.php](/changeset/3107964/email-subscribers/trunk/lite/includes/class-es-install.php?old=3104864&old_path=email-subscribers%2Ftrunk%2Flite%2Fincludes%2Fclass-es-install.php "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/lite/includes/class-es-install.php")

  | [r3104864](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3104864#L340 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3107964#L340 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 340 | 340 | public static function init() { |
  | 341 | 341 |  |
  |  | 342 | self::$logger = get\_ig\_logger(); |
  |  | 343 |  |
  | 342 | 344 | if ( ! ( defined( 'DOING\_AJAX' ) && DOING\_AJAX ) ) { |
  | 343 |  |  |
  | 344 |  | ~~self::$logger = get\_ig\_logger();~~ |
  | 345 | 345 |  |
  | 346 | 346 | add\_action( 'admin\_init', array( \_\_CLASS\_\_, 'check\_version' ), 5 ); |
* ## [email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php](/changeset/3107964/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?old=3083762&old_path=email-subscribers%2Ftrunk%2Flite%2Fincludes%2Fcontrollers%2Fclass-es-campaign-controller.php "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php")

  | [r3104864](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3083762#L826 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3107964#L826 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 826 | 826 |  |
  | 827 | 827 | $custom\_field\_values = array(); |
  | 828 |  | foreach ( $contact\_data as $merge\_tag\_key => $merge\_tag\_value ) { |
  | 829 |  | if ( false !== strpos( $merge\_tag\_key, 'cf\_' ) ) { |
  | 830 |  | $merge\_tag\_key\_parts = explode( '\_', $merge\_tag\_key ); |
  | 831 |  | $merge\_tag\_key       = $merge\_tag\_key\_parts[2]; |
  | 832 |  | if ( is\_null( $merge\_tag\_value ) ) { |
  | 833 |  | $merge\_tag\_value = ''; |
  |  | 828 | if ( ! empty( $contact\_data ) ) { |
  |  | 829 | foreach ( $contact\_data as $merge\_tag\_key => $merge\_tag\_value ) { |
  |  | 830 | if ( false !== strpos( $merge\_tag\_key, 'cf\_' ) ) { |
  |  | 831 | $merge\_tag\_key\_parts = explode( '\_', $merge\_tag\_key ); |
  |  | 832 | $merge\_tag\_key       = $merge\_tag\_key\_parts[2]; |
  |  | 833 | if ( is\_null( $merge\_tag\_value ) ) { |
  |  | 834 | $merge\_tag\_value = ''; |
  |  | 835 | } |
  |  | 836 | $custom\_field\_values[ 'subscriber.' . $merge\_tag\_key ] = $merge\_tag\_value; |
  | 834 | 837 | } |
  | 835 |  | ~~$custom\_field\_values[ 'subscriber.' . $merge\_tag\_key ] = $merge\_tag\_value;~~ |
  | 836 | 838 | } |
  | 837 | 839 | } |
* ## [email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php](/changeset/3107964/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?old=3101638&old_path=email-subscribers%2Ftrunk%2Flite%2Fincludes%2Fdb%2Fclass-es-db-contacts.php "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php")

  | [r3104864](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L834 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L834 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 834 | 834 | public function edit\_list\_contact\_status( $contact\_ids, $list\_ids, $status ) { |
  | 835 | 835 | global $wpbd; |
  | 836 |  |  |
  | 837 |  | $contact\_ids  = implode( ',', $contact\_ids ); |
  | 838 |  | $list\_ids     = implode( ',', $list\_ids ); |
  | 839 |  | $current\_date = ig\_get\_current\_date\_time(); |
  |  | 836 |  |
  |  | 837 | $contact\_ids\_placeholders = implode( ',', array\_fill( 0, count( $contact\_ids), '%d') ); |
  |  | 838 | $list\_ids\_placeholders    = implode( ',', array\_fill( 0, count( $list\_ids ), '%d') ); |
  |  | 839 | $current\_date             = ig\_get\_current\_date\_time(); |
  |  | 840 |  |
  |  | 841 | if ( 'unconfirmed' === $status ) { |
  |  | 842 | $query\_args = array\_merge([$status, IG\_DOUBLE\_OPTIN], $contact\_ids, $list\_ids); |
  |  | 843 | } else { |
  |  | 844 | $query\_args = array\_merge([$status, $current\_date], $contact\_ids, $list\_ids); |
  |  | 845 | } |
  | 840 | 846 |  |
  | 841 | 847 | $query\_result = array(); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L843) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L849) |  |
  | 843 | 849 | $query\_result = $wpbd->query( |
  | 844 | 850 | $wpbd->prepare( |
  | 845 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, subscribed\_at = %s WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 846 |  | array( |
  | 847 |  | $status, |
  | 848 |  | $current\_date, |
  | 849 |  | ) |
  |  | 851 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, subscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 852 | $query\_args |
  | 850 | 853 | ) |
  | 851 | 854 | ); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L853) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L856) |  |
  | 853 | 856 | $query\_result = $wpbd->query( |
  | 854 | 857 | $wpbd->prepare( |
  | 855 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, unsubscribed\_at = %s WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 856 |  | array( |
  | 857 |  | $status, |
  | 858 |  | $current\_date, |
  | 859 |  | ) |
  |  | 858 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, unsubscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 859 | $query\_args |
  | 860 | 860 | ) |
  | 861 | 861 | ); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L863) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L863) |  |
  | 863 | 863 | $query\_result = $wpbd->query( |
  | 864 | 864 | $wpbd->prepare( |
  | 865 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, optin\_type = %d, subscribed\_at = NULL, unsubscribed\_at = NULL WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 866 |  | array( |
  | 867 |  | $status, |
  | 868 |  | IG\_DOUBLE\_OPTIN, |
  | 869 |  | ) |
  |  | 865 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, optin\_type = %d, subscribed\_at = NULL, unsubscribed\_at = NULL WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 866 | $query\_args |
  | 870 | 867 | ) |
  | 871 | 868 | ); |
* ## [email-subscribers/trunk/readme.txt](/changeset/3107964/email-subscribers/trunk/readme.txt?old=3104864&old_path=email-subscribers%2Ftrunk%2Freadme.txt "Show the [3104864:3107964] differences restricted to email-subscribers/trunk/readme.txt")

  | [r3104864](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L7 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L7 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Tested up to: 6.5.2 |
  | 8 | 8 | Requires PHP: 7.0 |
  | 9 |  | Stable tag: 5.7.2~~5~~ |
  |  | 9 | Stable tag: 5.7.26 |
  | 10 | 10 | License: GPLv3 |
  | 11 | 11 |  |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L439) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L439) |  |
  | 439 | 439 | == Upgrade Notice == |
  | 440 | 440 |  |
  | 441 |  | = 5.7.25 = |
  |  | 441 | = 5.7.26 = |
  |  | 442 |  |
  |  | 443 | \* Fix: Broken UI when previewing campaign on Reports page in some cases |
  |  | 444 | \* Fix: SQL injection vulnerability during unsubscription - CVE-2024-6172 [Thanks to Wordfence & Patchstack teams] |
  |  | 445 | \* Fix: Fatal error when activating plugin from plugins' search page |
  |  | 446 |  |
  |  | 447 | == Changelog == |
  |  | 448 |  |
  |  | 449 | \*\*5.7.26 (26.06.2024)\*\* |
  |  | 450 |  |
  |  | 451 | \* Fix: Broken UI when previewing campaign on Reports page in some cases |
  |  | 452 | \* Fix: SQL injection vulnerability during unsubscription - CVE-2024-6172 [Thanks to Wordfence & Patchstack teams] |
  |  | 453 | \* Fix: Fatal error when activating plugin from plugins' search page |
  |  | 454 |  |
  |  | 455 | \*\*5.7.25 (20.06.2024)\*\* |
  | 442 | 456 |  |
  | 443 | 457 | \* Update: Improved campaign reports UI |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L445) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L459) |  |
  | 445 | 459 | \* Fix: Sequence emails not triggering for imported users in some cases [MAX] |
  | 446 | 460 |  |
  | 447 |  | ~~== Changelog ==~~ |
  | 448 |  |  |
  | 449 |  | ~~\*\*5.7.25 (20.06.2024)\*\*~~ |
  | 450 |  |  |
  | 451 |  | ~~\* Update: Improved campaign reports UI~~ |
  | 452 |  | ~~\* Fix: Broken Dashboard UI~~ |
  | 453 |  | ~~\* Fix: Sequence emails not triggering for imported users in some cases [MAX]~~ |
  | 454 |  |  |
  | 455 | 461 | \*\*5.7.24 (12.06.2024)\*\* |
  | 456 | 462 |  |
  | 457 |  | \* Fix: SQL ~~I~~njection vulnerability during subscription - CVE-2024-5756 [Thanks to Wordfence team] |
  |  | 463 | \* Fix: SQL injection vulnerability during subscription - CVE-2024-5756 [Thanks to Wordfence team] |
  | 458 | 464 | \* Update: Improved dashboard UI |
  | 459 | 465 |  |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L462) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L468) |  |
  | 462 | 468 | \* Fix: "Post image size" setting field was not displaying all registered image sizes |
  | 463 | 469 | \* Fix: Paused campaign was getting sent to all subscribers while saving in some cases [PRO] |
  | 464 |  | \* Fix: SQL ~~I~~njection vulnerability during contact import - CVE-2024-4845 [Thanks to Wordfence team] |
  |  | 470 | \* Fix: SQL injection vulnerability during contact import - CVE-2024-4845 [Thanks to Wordfence team] |
  | 465 | 471 |  |
  | 466 | 472 | \*\*5.7.22 (29.05.2024)\*\* |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L476) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L482) |  |
  | 476 | 482 |  |
  | 477 | 483 | \* Improvements: New WordPress filter 'ig\_es\_validate\_subscription' to enable custom subscription validation |
  | 478 |  | \* Fix: Unauthenticated SQL ~~I~~njection vulnerability - CVE-2024-4295 [Thanks to Wordfence team] |
  |  | 484 | \* Fix: Unauthenticated SQL injection vulnerability - CVE-2024-4295 [Thanks to Wordfence team] |
  | 479 | 485 | \* Fix: Campaign title getting used in email subject for post notification campaigns |
  | 480 | 486 | \* Fix: Issue while editing campaign title |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3107964&old=3104864&new_path=%2Femail-subscribers%2Ftrunk&old_path=%2Femail-subscribers%2Ftrunk)
* [Zip Archive](?format=zip&new=3107964&old=3104864&new_path=%2Femail-subscribers%2Ftrunk&old_path=%2Femail-subscribers%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_6feed7a3_20250111_035540.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3107964%2Femail-subscribers)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3104865/email-subscribers "Changeset 3104865 for email-subscribers")
* [Next Change](/changeset/3107965/email-subscribers "Changeset 3107965 for email-subscribers") →

---

# Changeset [3107964](/changeset/3107964 "Show full changeset") for [email-subscribers](/browser/email-subscribers?rev=3107964 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/26/2024 09:32:05 AM
([7 months](/timeline?from=2024-06-26T09%3A32%3A05Z&precision=second "See timeline at 06/26/2024 09:32:05 AM") ago)

Author:
Icegram
Message:

Preparing for 5.7.26 release

Location:
[email-subscribers/trunk](/browser/email-subscribers/trunk?rev=3107964)
Files:

6 edited

* [email-subscribers.php](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [lite/admin/js/email-subscribers-admin.js](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [lite/includes/class-es-install.php](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [lite/includes/controllers/class-es-campaign-controller.php](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3107964 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [lite/includes/db/class-es-db-contacts.php](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [readme.txt](/browser/email-subscribers/trunk/readme.txt?rev=3107964 "Show entry in browser")
  (modified)
  ([5 diffs](#file5 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [email-subscribers/trunk/email-subscribers.php](/changeset/3107964/email-subscribers/trunk/email-subscribers.php "Show the changeset 3107964 restricted to email-subscribers/trunk/email-subscribers.php")

  | [r3104864](/browser/email-subscribers/trunk/email-subscribers.php?rev=3104864#L4 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964#L4 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://www.icegram.com/ |
  | 5 | 5 | \* Description: Add subscription forms on website, send HTML newsletters & automatically notify subscribers about new blog posts once it is published. |
  | 6 |  | \* Version: 5.7.2~~5~~ |
  |  | 6 | \* Version: 5.7.26 |
  | 7 | 7 | \* Author: Icegram |
  | 8 | 8 | \* Author URI: https://www.icegram.com/ |
  | […](/browser/email-subscribers/trunk/email-subscribers.php?rev=3104864#L188) | […](/browser/email-subscribers/trunk/email-subscribers.php?rev=3107964#L188) |  |
  | 188 | 188 |  |
  | 189 | 189 | if ( ! defined( 'ES\_PLUGIN\_VERSION' ) ) { |
  | 190 |  | define( 'ES\_PLUGIN\_VERSION', '5.7.2~~5~~' ); |
  |  | 190 | define( 'ES\_PLUGIN\_VERSION', '5.7.26' ); |
  | 191 | 191 | } |
  | 192 | 192 |  |
* ## [email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js](/changeset/3107964/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js "Show the changeset 3107964 restricted to email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js")

  | [r3072302](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3072302#L214 "Show revision 3072302 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/admin/js/email-subscribers-admin.js?rev=3107964#L214 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 214 | 214 | let response\_data = response.data; |
  | 215 | 215 | let template\_html = response\_data.template\_html; |
  | 216 |  | ~~$('.report\_preview\_container').html(template\_html);~~ |
  | 217 | 216 | $('#report\_preview\_template').load().show(); |
  |  | 217 | ig\_es\_load\_iframe\_preview('.report\_preview\_container', template\_html); |
  | 218 | 218 | } |
  | 219 | 219 | } else { |
* ## [email-subscribers/trunk/lite/includes/class-es-install.php](/changeset/3107964/email-subscribers/trunk/lite/includes/class-es-install.php "Show the changeset 3107964 restricted to email-subscribers/trunk/lite/includes/class-es-install.php")

  | [r3104864](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3104864#L340 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/class-es-install.php?rev=3107964#L340 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 340 | 340 | public static function init() { |
  | 341 | 341 |  |
  |  | 342 | self::$logger = get\_ig\_logger(); |
  |  | 343 |  |
  | 342 | 344 | if ( ! ( defined( 'DOING\_AJAX' ) && DOING\_AJAX ) ) { |
  | 343 |  |  |
  | 344 |  | ~~self::$logger = get\_ig\_logger();~~ |
  | 345 | 345 |  |
  | 346 | 346 | add\_action( 'admin\_init', array( \_\_CLASS\_\_, 'check\_version' ), 5 ); |
* ## [email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php](/changeset/3107964/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php "Show the changeset 3107964 restricted to email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php")

  | [r3083762](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3083762#L826 "Show revision 3083762 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/controllers/class-es-campaign-controller.php?rev=3107964#L826 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 826 | 826 |  |
  | 827 | 827 | $custom\_field\_values = array(); |
  | 828 |  | foreach ( $contact\_data as $merge\_tag\_key => $merge\_tag\_value ) { |
  | 829 |  | if ( false !== strpos( $merge\_tag\_key, 'cf\_' ) ) { |
  | 830 |  | $merge\_tag\_key\_parts = explode( '\_', $merge\_tag\_key ); |
  | 831 |  | $merge\_tag\_key       = $merge\_tag\_key\_parts[2]; |
  | 832 |  | if ( is\_null( $merge\_tag\_value ) ) { |
  | 833 |  | $merge\_tag\_value = ''; |
  |  | 828 | if ( ! empty( $contact\_data ) ) { |
  |  | 829 | foreach ( $contact\_data as $merge\_tag\_key => $merge\_tag\_value ) { |
  |  | 830 | if ( false !== strpos( $merge\_tag\_key, 'cf\_' ) ) { |
  |  | 831 | $merge\_tag\_key\_parts = explode( '\_', $merge\_tag\_key ); |
  |  | 832 | $merge\_tag\_key       = $merge\_tag\_key\_parts[2]; |
  |  | 833 | if ( is\_null( $merge\_tag\_value ) ) { |
  |  | 834 | $merge\_tag\_value = ''; |
  |  | 835 | } |
  |  | 836 | $custom\_field\_values[ 'subscriber.' . $merge\_tag\_key ] = $merge\_tag\_value; |
  | 834 | 837 | } |
  | 835 |  | ~~$custom\_field\_values[ 'subscriber.' . $merge\_tag\_key ] = $merge\_tag\_value;~~ |
  | 836 | 838 | } |
  | 837 | 839 | } |
* ## [email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php](/changeset/3107964/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php "Show the changeset 3107964 restricted to email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php")

  | [r3101638](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L834 "Show revision 3101638 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L834 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 834 | 834 | public function edit\_list\_contact\_status( $contact\_ids, $list\_ids, $status ) { |
  | 835 | 835 | global $wpbd; |
  | 836 |  |  |
  | 837 |  | $contact\_ids  = implode( ',', $contact\_ids ); |
  | 838 |  | $list\_ids     = implode( ',', $list\_ids ); |
  | 839 |  | $current\_date = ig\_get\_current\_date\_time(); |
  |  | 836 |  |
  |  | 837 | $contact\_ids\_placeholders = implode( ',', array\_fill( 0, count( $contact\_ids), '%d') ); |
  |  | 838 | $list\_ids\_placeholders    = implode( ',', array\_fill( 0, count( $list\_ids ), '%d') ); |
  |  | 839 | $current\_date             = ig\_get\_current\_date\_time(); |
  |  | 840 |  |
  |  | 841 | if ( 'unconfirmed' === $status ) { |
  |  | 842 | $query\_args = array\_merge([$status, IG\_DOUBLE\_OPTIN], $contact\_ids, $list\_ids); |
  |  | 843 | } else { |
  |  | 844 | $query\_args = array\_merge([$status, $current\_date], $contact\_ids, $list\_ids); |
  |  | 845 | } |
  | 840 | 846 |  |
  | 841 | 847 | $query\_result = array(); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L843) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L849) |  |
  | 843 | 849 | $query\_result = $wpbd->query( |
  | 844 | 850 | $wpbd->prepare( |
  | 845 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, subscribed\_at = %s WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 846 |  | array( |
  | 847 |  | $status, |
  | 848 |  | $current\_date, |
  | 849 |  | ) |
  |  | 851 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, subscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 852 | $query\_args |
  | 850 | 853 | ) |
  | 851 | 854 | ); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L853) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L856) |  |
  | 853 | 856 | $query\_result = $wpbd->query( |
  | 854 | 857 | $wpbd->prepare( |
  | 855 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, unsubscribed\_at = %s WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 856 |  | array( |
  | 857 |  | $status, |
  | 858 |  | $current\_date, |
  | 859 |  | ) |
  |  | 858 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, unsubscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 859 | $query\_args |
  | 860 | 860 | ) |
  | 861 | 861 | ); |
  | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3101638#L863) | […](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3107964#L863) |  |
  | 863 | 863 | $query\_result = $wpbd->query( |
  | 864 | 864 | $wpbd->prepare( |
  | 865 |  | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, optin\_type = %d, subscribed\_at = NULL, unsubscribed\_at = NULL WHERE contact\_id IN( {$contact\_ids} ) AND list\_id IN( {$list\_ids} )", |
  | 866 |  | array( |
  | 867 |  | $status, |
  | 868 |  | IG\_DOUBLE\_OPTIN, |
  | 869 |  | ) |
  |  | 865 | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, optin\_type = %d, subscribed\_at = NULL, unsubscribed\_at = NULL WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
  |  | 866 | $query\_args |
  | 870 | 867 | ) |
  | 871 | 868 | ); |
* ## [email-subscribers/trunk/readme.txt](/changeset/3107964/email-subscribers/trunk/readme.txt "Show the changeset 3107964 restricted to email-subscribers/trunk/readme.txt")

  | [r3104864](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L7 "Show revision 3104864 of this file in browser") | [r3107964](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L7 "Show revision 3107964 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Tested up to: 6.5.2 |
  | 8 | 8 | Requires PHP: 7.0 |
  | 9 |  | Stable tag: 5.7.2~~5~~ |
  |  | 9 | Stable tag: 5.7.26 |
  | 10 | 10 | License: GPLv3 |
  | 11 | 11 |  |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L439) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L439) |  |
  | 439 | 439 | == Upgrade Notice == |
  | 440 | 440 |  |
  | 441 |  | = 5.7.25 = |
  |  | 441 | = 5.7.26 = |
  |  | 442 |  |
  |  | 443 | \* Fix: Broken UI when previewing campaign on Reports page in some cases |
  |  | 444 | \* Fix: SQL injection vulnerability during unsubscription - CVE-2024-6172 [Thanks to Wordfence & Patchstack teams] |
  |  | 445 | \* Fix: Fatal error when activating plugin from plugins' search page |
  |  | 446 |  |
  |  | 447 | == Changelog == |
  |  | 448 |  |
  |  | 449 | \*\*5.7.26 (26.06.2024)\*\* |
  |  | 450 |  |
  |  | 451 | \* Fix: Broken UI when previewing campaign on Reports page in some cases |
  |  | 452 | \* Fix: SQL injection vulnerability during unsubscription - CVE-2024-6172 [Thanks to Wordfence & Patchstack teams] |
  |  | 453 | \* Fix: Fatal error when activating plugin from plugins' search page |
  |  | 454 |  |
  |  | 455 | \*\*5.7.25 (20.06.2024)\*\* |
  | 442 | 456 |  |
  | 443 | 457 | \* Update: Improved campaign reports UI |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L445) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L459) |  |
  | 445 | 459 | \* Fix: Sequence emails not triggering for imported users in some cases [MAX] |
  | 446 | 460 |  |
  | 447 |  | ~~== Changelog ==~~ |
  | 448 |  |  |
  | 449 |  | ~~\*\*5.7.25 (20.06.2024)\*\*~~ |
  | 450 |  |  |
  | 451 |  | ~~\* Update: Improved campaign reports UI~~ |
  | 452 |  | ~~\* Fix: Broken Dashboard UI~~ |
  | 453 |  | ~~\* Fix: Sequence emails not triggering for imported users in some cases [MAX]~~ |
  | 454 |  |  |
  | 455 | 461 | \*\*5.7.24 (12.06.2024)\*\* |
  | 456 | 462 |  |
  | 457 |  | \* Fix: SQL ~~I~~njection vulnerability during subscription - CVE-2024-5756 [Thanks to Wordfence team] |
  |  | 463 | \* Fix: SQL injection vulnerability during subscription - CVE-2024-5756 [Thanks to Wordfence team] |
  | 458 | 464 | \* Update: Improved dashboard UI |
  | 459 | 465 |  |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L462) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L468) |  |
  | 462 | 468 | \* Fix: "Post image size" setting field was not displaying all registered image sizes |
  | 463 | 469 | \* Fix: Paused campaign was getting sent to all subscribers while saving in some cases [PRO] |
  | 464 |  | \* Fix: SQL ~~I~~njection vulnerability during contact import - CVE-2024-4845 [Thanks to Wordfence team] |
  |  | 470 | \* Fix: SQL injection vulnerability during contact import - CVE-2024-4845 [Thanks to Wordfence team] |
  | 465 | 471 |  |
  | 466 | 472 | \*\*5.7.22 (29.05.2024)\*\* |
  | […](/browser/email-subscribers/trunk/readme.txt?rev=3104864#L476) | […](/browser/email-subscribers/trunk/readme.txt?rev=3107964#L482) |  |
  | 476 | 482 |  |
  | 477 | 483 | \* Improvements: New WordPress filter 'ig\_es\_validate\_subscription' to enable custom subscription validation |
  | 478 |  | \* Fix: Unauthenticated SQL ~~I~~njection vulnerability - CVE-2024-4295 [Thanks to Wordfence team] |
  |  | 484 | \* Fix: Unauthenticated SQL injection vulnerability - CVE-2024-4295 [Thanks to Wordfence team] |
  | 479 | 485 | \* Fix: Campaign title getting used in email subject for post notification campaigns |
  | 480 | 486 | \* Fix: Issue while editing campaign title |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3107964)
* [Zip Archive](?format=zip&new=3107964)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_09813cb2_20250111_035539.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Femail-subscribers%2Ftrunk%2Flite%2Fincludes%2Fdb%2Fclass-es-db-contacts.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?rev=3118326 "Revision 3118326")
* Next Revision →
* [Blame](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php)

---

# [source:](/browser?order=name "Go to repository root") [email-subscribers](/browser/email-subscribers?order=name "View email-subscribers")/[trunk](/browser/email-subscribers/trunk?order=name "View trunk")/[lite](/browser/email-subscribers/trunk/lite?order=name "View lite")/[includes](/browser/email-subscribers/trunk/lite/includes?order=name "View includes")/[db](/browser/email-subscribers/trunk/lite/includes/db?order=name "View db")/[class-es-db-contacts.php](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?order=name "View class-es-db-contacts.php")

View diff against:

View revision:

| [Last change](/changeset/3182013/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php "View differences") on this file was [3182013](/changeset/3182013/ "View changeset 3182013"), checked in by Icegram, [2 months ago](/timeline?from=2024-11-05T06%3A48%3A05Z&precision=second "See timeline at 11/05/2024 06:48:05 AM") |
| --- |
| Preparing for 5.7.40 release |
| **File size:** 27.8 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | // Exit if accessed directly |
| [3](#L3) | if ( ! defined( 'ABSPATH' ) ) { |
| [4](#L4) | exit; |
| [5](#L5) | } |
| [6](#L6) |  |
| [7](#L7) | class ES\_DB\_Contacts extends ES\_DB { |
| [8](#L8) |  |
| [9](#L9) | /\*\* |
| [10](#L10) | \* Table name |
| [11](#L11) | \* |
| [12](#L12) | \* @since 4.2.4 |
| [13](#L13) | \* @var $table\_name |
| [14](#L14) | \*/ |
| [15](#L15) | public $table\_name; |
| [16](#L16) |  |
| [17](#L17) | /\*\* |
| [18](#L18) | \* Table DB version |
| [19](#L19) | \* |
| [20](#L20) | \* @since 4.2.4 |
| [21](#L21) | \* @var $version |
| [22](#L22) | \*/ |
| [23](#L23) | public $version; |
| [24](#L24) |  |
| [25](#L25) | /\*\* |
| [26](#L26) | \* Table primary key column name |
| [27](#L27) | \* |
| [28](#L28) | \* @since 4.2.4 |
| [29](#L29) | \* @var $primary\_key |
| [30](#L30) | \*/ |
| [31](#L31) | public $primary\_key; |
| [32](#L32) |  |
| [33](#L33) | /\*\* |
| [34](#L34) | \* ES\_DB\_Contacts constructor. |
| [35](#L35) | \* |
| [36](#L36) | \* @since 4.2.4 |
| [37](#L37) | \*/ |
| [38](#L38) | public function \_\_construct() { |
| [39](#L39) | global $wpdb; |
| [40](#L40) |  |
| [41](#L41) | parent::\_\_construct(); |
| [42](#L42) |  |
| [43](#L43) | $this->table\_name = $wpdb->prefix . 'ig\_contacts'; |
| [44](#L44) |  |
| [45](#L45) | $this->primary\_key = 'id'; |
| [46](#L46) |  |
| [47](#L47) | $this->version = '1.0'; |
| [48](#L48) | } |
| [49](#L49) |  |
| [50](#L50) | /\*\* |
| [51](#L51) | \* Get columns |
| [52](#L52) | \* |
| [53](#L53) | \* @return array |
| [54](#L54) | \* |
| [55](#L55) | \* @since 4.0.0 |
| [56](#L56) | \*/ |
| [57](#L57) | public function get\_columns() { |
| [58](#L58) | $columns = array( |
| [59](#L59) | 'id'               => '%d', |
| [60](#L60) | 'wp\_user\_id'       => '%d', |
| [61](#L61) | 'first\_name'       => '%s', |
| [62](#L62) | 'last\_name'        => '%s', |
| [63](#L63) | 'email'            => '%s', |
| [64](#L64) | 'source'           => '%s', |
| [65](#L65) | 'ip\_address'       => '%s', |
| [66](#L66) | 'country\_code'     => '%s', |
| [67](#L67) | 'form\_id'          => '%d', |
| [68](#L68) | 'status'           => '%s', |
| [69](#L69) | 'reference\_site'   => '%s', |
| [70](#L70) | 'unsubscribed'     => '%d', |
| [71](#L71) | 'hash'             => '%s', |
| [72](#L72) | 'engagement\_score' => '%f', |
| [73](#L73) | 'created\_at'       => '%s', |
| [74](#L74) | 'updated\_at'       => '%s', |
| [75](#L75) | 'is\_verified'      => '%d', |
| [76](#L76) | 'is\_disposable'    => '%d', |
| [77](#L77) | 'is\_rolebased'     => '%d', |
| [78](#L78) | 'is\_webmail'       => '%d', |
| [79](#L79) | 'is\_deliverable'   => '%d', |
| [80](#L80) | 'is\_sendsafely'    => '%d', |
| [81](#L81) | 'timezone'         => '%s', |
| [82](#L82) | 'meta'             => '%s', |
| [83](#L83) | ); |
| [84](#L84) |  |
| [85](#L85) | $custom\_field\_data = ES()->custom\_fields\_db->get\_custom\_fields(); |
| [86](#L86) | $custom\_field\_cols = array(); |
| [87](#L87) | if ( count( $custom\_field\_data ) > 0 ) { |
| [88](#L88) | foreach ($custom\_field\_data as $key => $data) { |
| [89](#L89) | $type = '%s'; |
| [90](#L90) | if ( isset( $data[ 'type' ] ) && 'number' === $data[ 'type' ] ) { |
| [91](#L91) | $type = '%d'; |
| [92](#L92) | } |
| [93](#L93) | $custom\_field\_cols[$data['slug']] = $type; |
| [94](#L94) | } |
| [95](#L95) | } |
| [96](#L96) |  |
| [97](#L97) | $columns = array\_merge( $columns, $custom\_field\_cols); |
| [98](#L98) | return $columns; |
| [99](#L99) | } |
| [100](#L100) |  |
| [101](#L101) | /\*\* |
| [102](#L102) | \* Get default column values |
| [103](#L103) | \* |
| [104](#L104) | \* @since   4.0.0 |
| [105](#L105) | \*/ |
| [106](#L106) | public function get\_column\_defaults() { |
| [107](#L107) | $default\_col\_values = array( |
| [108](#L108) | 'wp\_user\_id'            => 0, |
| [109](#L109) | 'first\_name'            => '', |
| [110](#L110) | 'last\_name'             => '', |
| [111](#L111) | 'email'                 => '', |
| [112](#L112) | 'source'                => '', |
| [113](#L113) | 'ip\_address'            => '', |
| [114](#L114) | 'country\_code'          => '', |
| [115](#L115) | 'form\_id'               => 0, |
| [116](#L116) | 'status'                => 'verified', |
| [117](#L117) | 'reference\_site'    => '', |
| [118](#L118) | 'unsubscribed'          => 0, |
| [119](#L119) | 'hash'                  => '', |
| [120](#L120) | 'engagement\_score'      => 4, |
| [121](#L121) | 'created\_at'            => ig\_get\_current\_date\_time(), |
| [122](#L122) | 'updated\_at'            => '', |
| [123](#L123) | 'is\_verified'           => 1, |
| [124](#L124) | 'is\_disposable'         => 0, |
| [125](#L125) | 'is\_rolebased'          => 0, |
| [126](#L126) | 'is\_webmail'            => 0, |
| [127](#L127) | 'is\_deliverable'        => 1, |
| [128](#L128) | 'is\_sendsafely'         => 1, |
| [129](#L129) | 'timezone'                      => '', |
| [130](#L130) | 'meta'                  => '', |
| [131](#L131) | ); |
| [132](#L132) |  |
| [133](#L133) | $custom\_field\_data = ES()->custom\_fields\_db->get\_custom\_fields(); |
| [134](#L134) | $custom\_field\_cols = array(); |
| [135](#L135) | if ( count( $custom\_field\_data ) > 0 ) { |
| [136](#L136) | foreach ($custom\_field\_data as $key => $data) { |
| [137](#L137) | $custom\_field\_cols[$data['slug']] = null; |
| [138](#L138) | } |
| [139](#L139) | } |
| [140](#L140) |  |
| [141](#L141) | $columns = array\_merge( $default\_col\_values, $custom\_field\_cols); |
| [142](#L142) | return $columns; |
| [143](#L143) | } |
| [144](#L144) |  |
| [145](#L145) |  |
| [146](#L146) | /\*\* |
| [147](#L147) | \* Get all contacts based on passed arguements |
| [148](#L148) | \* |
| [149](#L149) | \* @param array $args Contacts arguements |
| [150](#L150) | \* |
| [151](#L151) | \* @return array Array of contacts |
| [152](#L152) | \* |
| [153](#L153) | \*/ |
| [154](#L154) | public function get\_contacts( $args = array() ) { |
| [155](#L155) | global $wpbd; |
| [156](#L156) | $where = ''; |
| [157](#L157) | $output          = ! empty( $args['output'] ) ? $args['output'] : ARRAY\_A; |
| [158](#L158) | $use\_cache       = false; |
| [159](#L159) | $order\_by\_column = ! empty( $args['order\_by\_column'] ) ? $args['order\_by\_column'] : ''; |
| [160](#L160) | $order           = ! empty( $args['order'] ) ? $args['order'] : ''; |
| [161](#L161) |  |
| [162](#L162) | if (!empty($args['limit'])) { |
| [163](#L163) | $order .= '    LIMIT ' . $args['limit']; |
| [164](#L164) | } |
| [165](#L165) |  |
| [166](#L166) | return $this->get\_by\_conditions( $where, $output, $use\_cache, $order\_by\_column, $order ); |
| [167](#L167) | } |
| [168](#L168) |  |
| [169](#L169) | /\*\* |
| [170](#L170) | \* Get by id |
| [171](#L171) | \* |
| [172](#L172) | \* @param $id |
| [173](#L173) | \* |
| [174](#L174) | \* @return array|object|void|null |
| [175](#L175) | \* |
| [176](#L176) | \* @since 4.0.0 |
| [177](#L177) | \*/ |
| [178](#L178) | public function get\_by\_id( $id ) { |
| [179](#L179) | return $this->get( $id ); |
| [180](#L180) | } |
| [181](#L181) |  |
| [182](#L182) | /\*\* |
| [183](#L183) | \* Retrieve the unsubscribe reason by $contact\_id and $list\_id. |
| [184](#L184) | \* |
| [185](#L185) | \* @param $contact\_id,$list\_id |
| [186](#L186) | \* |
| [187](#L187) | \* @return array|object|void|null |
| [188](#L188) | \*/ |
| [189](#L189) | public function get\_unsubscriber\_reason( $contact\_id, $list\_id) { |
| [190](#L190) | global $wpbd; |
| [191](#L191) |  |
| [192](#L192) | if (empty($contact\_id) || empty($list\_id)) { |
| [193](#L193) | return ''; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | $table\_name = $wpbd->prefix . 'ig\_unsubscribe\_feedback'; |
| [197](#L197) |  |
| [198](#L198) | $unsubscriber\_reason = $wpbd->get\_var( |
| [199](#L199) | $wpbd->prepare( |
| [200](#L200) | "SELECT feedback\_text FROM $table\_name WHERE contact\_id = %d AND list\_id = %d", |
| [201](#L201) | $contact\_id, |
| [202](#L202) | $list\_id |
| [203](#L203) | ) |
| [204](#L204) | ); |
| [205](#L205) |  |
| [206](#L206) | return $unsubscriber\_reason ? $unsubscriber\_reason : ''; |
| [207](#L207) | } |
| [208](#L208) |  |
| [209](#L209) |  |
| [210](#L210) | /\*\* |
| [211](#L211) | \* Get contact email name map |
| [212](#L212) | \* |
| [213](#L213) | \* @param array $emails |
| [214](#L214) | \* |
| [215](#L215) | \* @return array |
| [216](#L216) | \* |
| [217](#L217) | \* @since 4.2.2 |
| [218](#L218) | \*/ |
| [219](#L219) | public function get\_contacts\_email\_name\_map( $emails = array() ) { |
| [220](#L220) |  |
| [221](#L221) | global $wpbd; |
| [222](#L222) |  |
| [223](#L223) | $subscriber\_email\_name\_map = array(); |
| [224](#L224) | if ( count( $emails ) > 0 ) { |
| [225](#L225) |  |
| [226](#L226) | $placeholders = array\_fill(0, count($emails), '%s'); |
| [227](#L227) | $placeholders\_str = implode(', ', $placeholders); |
| [228](#L228) | $query = $wpbd->prepare( |
| [229](#L229) | "SELECT email, first\_name, last\_name FROM {$wpbd->prefix}ig\_contacts WHERE email IN($placeholders\_str)", |
| [230](#L230) | $emails |
| [231](#L231) | ); |
| [232](#L232) | $subscribers = $wpbd->get\_results($query, ARRAY\_A); |
| [233](#L233) |  |
| [234](#L234) | if ( count( $subscribers ) > 0 ) { |
| [235](#L235) | foreach ( $subscribers as $subscriber ) { |
| [236](#L236) | $name = ES\_Common::prepare\_name\_from\_first\_name\_last\_name( $subscriber['first\_name'], $subscriber['last\_name'] ); |
| [237](#L237) |  |
| [238](#L238) | $subscriber\_email\_name\_map[ $subscriber['email'] ] = array( |
| [239](#L239) | 'name'       => $name, |
| [240](#L240) | 'first\_name' => $subscriber['first\_name'], |
| [241](#L241) | 'last\_name'  => $subscriber['last\_name'], |
| [242](#L242) | ); |
| [243](#L243) | } |
| [244](#L244) | } |
| [245](#L245) | } |
| [246](#L246) |  |
| [247](#L247) | return $subscriber\_email\_name\_map; |
| [248](#L248) | } |
| [249](#L249) |  |
| [250](#L250) | /\*\* |
| [251](#L251) | \* Update contact |
| [252](#L252) | \* |
| [253](#L253) | \* @param int $id |
| [254](#L254) | \* |
| [255](#L255) | \* @return void |
| [256](#L256) | \* |
| [257](#L257) | \* @since 4.3.2 |
| [258](#L258) | \*/ |
| [259](#L259) | public function update\_contact( $contact\_id = 0, $data = array() ) { |
| [260](#L260) |  |
| [261](#L261) | if ( ! empty( $contact\_id ) ) { |
| [262](#L262) |  |
| [263](#L263) | $email = ! empty( $data['email'] ) ? sanitize\_email( $data['email'] ) : ''; |
| [264](#L264) | if ( ! empty( $email ) ) { |
| [265](#L265) |  |
| [266](#L266) | $first\_name = ! empty( $data['first\_name'] ) ? sanitize\_text\_field( $data['first\_name'] ) : ''; |
| [267](#L267) | $last\_name  = ! empty( $data['last\_name'] ) ? sanitize\_text\_field( $data['last\_name'] ) : ''; |
| [268](#L268) |  |
| [269](#L269) | $data\_to\_update = array( |
| [270](#L270) | 'first\_name' => $first\_name, |
| [271](#L271) | 'last\_name'  => $last\_name, |
| [272](#L272) | 'email'      => $email, |
| [273](#L273) | 'updated\_at' => ig\_get\_current\_date\_time(), |
| [274](#L274) | ); |
| [275](#L275) |  |
| [276](#L276) | foreach ( $data as $key => $value ) { |
| [277](#L277) | if ( strpos( $key, 'cf\_') !== false ) { |
| [278](#L278) | $data\_to\_update[$key] = sanitize\_text\_field( $value ); |
| [279](#L279) | } |
| [280](#L280) | } |
| [281](#L281) |  |
| [282](#L282) |  |
| [283](#L283) | $this->update( $contact\_id, $data\_to\_update ); |
| [284](#L284) | } |
| [285](#L285) | } |
| [286](#L286) |  |
| [287](#L287) | } |
| [288](#L288) |  |
| [289](#L289) | /\*\* |
| [290](#L290) | \* Get contact hash by contact id |
| [291](#L291) | \* |
| [292](#L292) | \* @param $id |
| [293](#L293) | \* |
| [294](#L294) | \* @return array|string|null |
| [295](#L295) | \* |
| [296](#L296) | \* @since 4.0.0 |
| [297](#L297) | \*/ |
| [298](#L298) | public function get\_contact\_hash\_by\_id( $id ) { |
| [299](#L299) |  |
| [300](#L300) | if ( ! empty( $id ) ) { |
| [301](#L301) | return $this->get\_column( 'hash', $id ); |
| [302](#L302) | } |
| [303](#L303) |  |
| [304](#L304) | return ''; |
| [305](#L305) |  |
| [306](#L306) | } |
| [307](#L307) |  |
| [308](#L308) | /\*\* |
| [309](#L309) | \* Is contacts exists based on id & email? |
| [310](#L310) | \* |
| [311](#L311) | \* @param string $id |
| [312](#L312) | \* @param string $email |
| [313](#L313) | \* |
| [314](#L314) | \* @return bool |
| [315](#L315) | \* |
| [316](#L316) | \* @since 4.0.0 |
| [317](#L317) | \* |
| [318](#L318) | \* @modify 4.2.4 |
| [319](#L319) | \*/ |
| [320](#L320) | public function is\_contact\_exists( $id = '', $email = '' ) { |
| [321](#L321) | global $wpdb; |
| [322](#L322) |  |
| [323](#L323) | if ( ! empty( $id ) && ! empty( $email ) ) { |
| [324](#L324) |  |
| [325](#L325) | $where = $wpdb->prepare( 'id = %d AND email = %s', $id, $email ); |
| [326](#L326) | $count = $this->count( $where ); |
| [327](#L327) |  |
| [328](#L328) | if ( $count ) { |
| [329](#L329) | return true; |
| [330](#L330) | } |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | return false; |
| [334](#L334) | } |
| [335](#L335) |  |
| [336](#L336) | /\*\* |
| [337](#L337) | \* Get active contacts by list\_id |
| [338](#L338) | \* |
| [339](#L339) | \* @param $list\_id |
| [340](#L340) | \* |
| [341](#L341) | \* @return array|object|null |
| [342](#L342) | \* |
| [343](#L343) | \* @since 4.2.4 |
| [344](#L344) | \*/ |
| [345](#L345) | public function get\_active\_contacts\_by\_list\_id( $list\_id ) { |
| [346](#L346) |  |
| [347](#L347) | if ( empty( $list\_id ) ) { |
| [348](#L348) | return array(); |
| [349](#L349) | } |
| [350](#L350) |  |
| [351](#L351) | global $wpdb; |
| [352](#L352) |  |
| [353](#L353) | // Check if we have got array of list ids. |
| [354](#L354) | if ( is\_array( $list\_id ) ) { |
| [355](#L355) | $list\_ids\_str = implode( ',', $list\_id ); |
| [356](#L356) | } else { |
| [357](#L357) | $list\_ids\_str = $list\_id; |
| [358](#L358) | } |
| [359](#L359) |  |
| [360](#L360) | $where = "id IN (SELECT contact\_id FROM {$wpdb->prefix}ig\_lists\_contacts WHERE list\_id IN({$list\_ids\_str}) AND status IN ('subscribed', 'confirmed'))"; |
| [361](#L361) |  |
| [362](#L362) | return $this->get\_by\_conditions( $where ); |
| [363](#L363) |  |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | /\*\* |
| [367](#L367) | \* Get active contacts by list\_id and excluding contacts from sending queue having given mailing\_queue\_id |
| [368](#L368) | \* |
| [369](#L369) | \* @param $list\_id |
| [370](#L370) | \* @param $mailing\_queue\_id |
| [371](#L371) | \* |
| [372](#L372) | \* @return array|object|null |
| [373](#L373) | \* |
| [374](#L374) | \* @since 4.6.3 |
| [375](#L375) | \*/ |
| [376](#L376) | public function get\_active\_contacts\_by\_list\_and\_mailing\_queue\_id( $list\_id, $mailing\_queue\_id = 0 ) { |
| [377](#L377) |  |
| [378](#L378) | if ( empty( $list\_id ) ) { |
| [379](#L379) | return array(); |
| [380](#L380) | } |
| [381](#L381) |  |
| [382](#L382) | global $wpbd; |
| [383](#L383) |  |
| [384](#L384) | // Check if we have got array of list ids. |
| [385](#L385) | if ( is\_array( $list\_id ) ) { |
| [386](#L386) | $ids\_count        = count( $list\_id ); |
| [387](#L387) | $ids\_placeholders = array\_fill( 0, $ids\_count, '%d' ); |
| [388](#L388) | $query\_args       = $list\_id; |
| [389](#L389) | $query\_args[]     = $mailing\_queue\_id; |
| [390](#L390) | $where            = $wpbd->prepare( |
| [391](#L391) | "id IN (SELECT contact\_id FROM {$wpbd->prefix}ig\_lists\_contacts WHERE list\_id IN( " . implode( ',', $ids\_placeholders ) . " ) AND status IN ('subscribed', 'confirmed')) AND id NOT IN(SELECT contact\_id FROM {$wpbd->prefix}ig\_sending\_queue WHERE mailing\_queue\_id = %d )", |
| [392](#L392) | $query\_args |
| [393](#L393) | ); |
| [394](#L394) | } else { |
| [395](#L395) | $where = $wpbd->prepare( "id IN (SELECT contact\_id FROM {$wpbd->prefix}ig\_lists\_contacts WHERE list\_id = %d AND status IN ('subscribed', 'confirmed')) AND id NOT IN(SELECT contact\_id FROM {$wpbd->prefix}ig\_sending\_queue WHERE mailing\_queue\_id = %d )", $list\_id, $mailing\_queue\_id ); |
| [396](#L396) | } |
| [397](#L397) |  |
| [398](#L398) | return $this->get\_by\_conditions( $where ); |
| [399](#L399) | } |
| [400](#L400) |  |
| [401](#L401) |  |
| [402](#L402) | /\*\* |
| [403](#L403) | \* Get contacts by ids |
| [404](#L404) | \* |
| [405](#L405) | \* @param $ids |
| [406](#L406) | \* |
| [407](#L407) | \* @return array|object|null |
| [408](#L408) | \* |
| [409](#L409) | \* @since 4.2.1 |
| [410](#L410) | \* |
| [411](#L411) | \* @modify 4.2.4 |
| [412](#L412) | \*/ |
| [413](#L413) | public function get\_contacts\_by\_ids( $ids ) { |
| [414](#L414) |  |
| [415](#L415) | if ( ! is\_array( $ids ) && ! count( $ids ) > 0 ) { |
| [416](#L416) | return array(); |
| [417](#L417) | } |
| [418](#L418) |  |
| [419](#L419) | $ids\_str = $this->prepare\_for\_in\_query( $ids ); |
| [420](#L420) |  |
| [421](#L421) | $where = "id IN ($ids\_str)"; |
| [422](#L422) |  |
| [423](#L423) | return $this->get\_by\_conditions( $where ); |
| [424](#L424) | } |
| [425](#L425) |  |
| [426](#L426) | /\*\* |
| [427](#L427) | \* Count Active Contacts by list id |
| [428](#L428) | \* |
| [429](#L429) | \* @param string $list\_id |
| [430](#L430) | \* |
| [431](#L431) | \* @return string|null |
| [432](#L432) | \* |
| [433](#L433) | \* @since 4.2.4 |
| [434](#L434) | \*/ |
| [435](#L435) | public function count\_active\_contacts\_by\_list\_id( $list\_id = '' ) { |
| [436](#L436) |  |
| [437](#L437) | global $wpdb; |
| [438](#L438) |  |
| [439](#L439) | if ( ! empty( $list\_id ) ) { |
| [440](#L440) | // phpcs:disable |
| [441](#L441) | $subscribers = $wpdb->get\_var( |
| [442](#L442) | $wpdb->prepare( |
| [443](#L443) | "SELECT count(distinct(contact\_id)) as total\_subscribers FROM {$wpdb->prefix}ig\_lists\_contacts WHERE status = %s AND list\_id = %d", |
| [444](#L444) | 'subscribed', |
| [445](#L445) | $list\_id |
| [446](#L446) | ) |
| [447](#L447) | ); |
| [448](#L448) | // phpcs:enable |
| [449](#L449) | } else { |
| [450](#L450) | // phpcs:disable |
| [451](#L451) | $subscribers = $wpdb->get\_var( |
| [452](#L452) | $wpdb->prepare( |
| [453](#L453) | "SELECT count(distinct(contact\_id)) as total\_subscribers FROM {$wpdb->prefix}ig\_lists\_contacts WHERE status = %s", |
| [454](#L454) | 'subscribed' |
| [455](#L455) | ) |
| [456](#L456) | ); |
| [457](#L457) | // phpcs:enable |
| [458](#L458) | } |
| [459](#L459) |  |
| [460](#L460) | return $subscribers; |
| [461](#L461) |  |
| [462](#L462) | } |
| [463](#L463) |  |
| [464](#L464) |  |
| [465](#L465) |  |
| [466](#L466) | // Get all contact ids |
| [467](#L467) | public function get\_all\_contact\_ids() { |
| [468](#L468) | global $wpbd; |
| [469](#L469) | // phpcs:disable |
| [470](#L470) | $query = "SELECT id FROM $this->table\_name"; |
| [471](#L471) | // phpcs:enable |
| [472](#L472) | return $wpbd->get\_results( $query ); |
| [473](#L473) | } |
| [474](#L474) |  |
| [475](#L475) |  |
| [476](#L476) | /\*\* |
| [477](#L477) | \* Get Total Contacts |
| [478](#L478) | \* |
| [479](#L479) | \* @since 4.3.2 |
| [480](#L480) | \*/ |
| [481](#L481) | public function get\_total\_contacts() { |
| [482](#L482) | return $this->count(); |
| [483](#L483) | } |
| [484](#L484) |  |
| [485](#L485) | /\*\* |
| [486](#L486) | \* Delete Contacts by ids |
| [487](#L487) | \* |
| [488](#L488) | \* @param $ids |
| [489](#L489) | \* |
| [490](#L490) | \* @return bool|int |
| [491](#L491) | \* |
| [492](#L492) | \* @since 4.2.4 |
| [493](#L493) | \* |
| [494](#L494) | \* @modify 4.3.12 |
| [495](#L495) | \*/ |
| [496](#L496) | public function delete\_contacts\_by\_ids( $contact\_ids = array() ) { |
| [497](#L497) |  |
| [498](#L498) | $ids\_str = $this->prepare\_for\_in\_query( $contact\_ids ); |
| [499](#L499) |  |
| [500](#L500) | $where = "id IN ($ids\_str)"; |
| [501](#L501) |  |
| [502](#L502) | $delete = $this->delete\_by\_condition( $where ); |
| [503](#L503) |  |
| [504](#L504) | if ( $delete ) { |
| [505](#L505) |  |
| [506](#L506) | $where = "contact\_id IN ($ids\_str)"; |
| [507](#L507) |  |
| [508](#L508) | $contacts\_deleted\_from\_lists = ES()->lists\_contacts\_db->delete\_by\_condition( $where ); |
| [509](#L509) |  |
| [510](#L510) | if ( $contacts\_deleted\_from\_lists ) { |
| [511](#L511) | do\_action( 'ig\_es\_contacts\_deleted', $contact\_ids ); |
| [512](#L512) | return true; |
| [513](#L513) | } |
| [514](#L514) | } |
| [515](#L515) |  |
| [516](#L516) | return false; |
| [517](#L517) |  |
| [518](#L518) | } |
| [519](#L519) |  |
| [520](#L520) | /\*\* |
| [521](#L521) | \* Edit global status of contact |
| [522](#L522) | \* |
| [523](#L523) | \* @param $ids |
| [524](#L524) | \* @param $unsubscribed |
| [525](#L525) | \* |
| [526](#L526) | \* @return bool|int |
| [527](#L527) | \* |
| [528](#L528) | \* @since 4.2.4 |
| [529](#L529) | \* @since 4.3.4 Use prepare\_for\_in\_query instead of array\_to\_str |
| [530](#L530) | \*/ |
| [531](#L531) | public function edit\_contact\_global\_status( $ids = array(), $unsubscribed = 0 ) { |
| [532](#L532) | global $wpbd; |
| [533](#L533) |  |
| [534](#L534) | $ids\_str = implode( ',', array\_map( 'absint', $ids ) ); |
| [535](#L535) |  |
| [536](#L536) | return $wpbd->query( |
| [537](#L537) | $wpbd->prepare( |
| [538](#L538) | "UPDATE {$wpbd->prefix}ig\_contacts SET unsubscribed = %d WHERE id IN({$ids\_str})", |
| [539](#L539) | $unsubscribed |
| [540](#L540) | ) |
| [541](#L541) | ); |
| [542](#L542) | } |
| [543](#L543) |  |
| [544](#L544) | /\*\* |
| [545](#L545) | \* Is Contact exists in list? |
| [546](#L546) | \* |
| [547](#L547) | \* @param $email |
| [548](#L548) | \* @param $list\_id |
| [549](#L549) | \* |
| [550](#L550) | \* @return array |
| [551](#L551) | \* |
| [552](#L552) | \* @since 4.0.0 |
| [553](#L553) | \* @since 4.3.4 Used prepare\_for\_in\_query instead of array\_to\_str |
| [554](#L554) | \*/ |
| [555](#L555) | public function is\_contact\_exist\_in\_list( $email, $list\_id ) { |
| [556](#L556) | global $wpbd; |
| [557](#L557) |  |
| [558](#L558) | // Flush cache to ensure we have latest results. |
| [559](#L559) | ES\_Cache::flush(); |
| [560](#L560) |  |
| [561](#L561) | $contact\_id = $this->get\_column\_by( 'id', 'email', $email ); |
| [562](#L562) |  |
| [563](#L563) | $data = array(); |
| [564](#L564) | if ( ! empty( $contact\_id ) ) { |
| [565](#L565) | $data['contact\_id'] = $contact\_id; |
| [566](#L566) |  |
| [567](#L567) | if ( ! is\_array( $list\_id ) ) { |
| [568](#L568) | $list\_id = array( $list\_id ); |
| [569](#L569) | } |
| [570](#L570) |  |
| [571](#L571) | $list\_ids\_str = implode( ',', $list\_id ); |
| [572](#L572) |  |
| [573](#L573) | $list\_contact\_count = $wpbd->get\_var( |
| [574](#L574) | $wpbd->prepare( |
| [575](#L575) | "SELECT count(\*) as count FROM {$wpbd->prefix}ig\_lists\_contacts WHERE list\_id IN ($list\_ids\_str) AND contact\_id = %d", |
| [576](#L576) | $contact\_id |
| [577](#L577) | ) |
| [578](#L578) | ); |
| [579](#L579) |  |
| [580](#L580) | if ( ! empty( $list\_contact\_count ) ) { |
| [581](#L581) | $data['list\_id'] = true; |
| [582](#L582) | } |
| [583](#L583) |  |
| [584](#L584) | return $data; |
| [585](#L585) | } |
| [586](#L586) |  |
| [587](#L587) | return $data; |
| [588](#L588) | } |
| [589](#L589) |  |
| [590](#L590) | /\*\* |
| [591](#L591) | \* Get Email Details Map |
| [592](#L592) | \* |
| [593](#L593) | \* @return array |
| [594](#L594) | \* |
| [595](#L595) | \* @since 4.0.0 |
| [596](#L596) | \*/ |
| [597](#L597) | public function get\_email\_details\_map() { |
| [598](#L598) | global $wpdb; |
| [599](#L599) | // phpcs:disable |
| [600](#L600) | $contacts = $wpdb->get\_results("SELECT id, email, hash FROM {$wpdb->prefix}ig\_contacts", ARRAY\_A); |
| [601](#L601) | // phpcs:enable |
| [602](#L602) | $details  = array(); |
| [603](#L603) | if ( count( $contacts ) > 0 ) { |
| [604](#L604) | foreach ( $contacts as $contact ) { |
| [605](#L605) | $details[ $contact['email'] ]['id']   = $contact['id']; |
| [606](#L606) | $details[ $contact['email'] ]['hash'] = $contact['hash']; |
| [607](#L607) | } |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | return $details; |
| [611](#L611) |  |
| [612](#L612) | } |
| [613](#L613) |  |
| [614](#L614) | /\*\* |
| [615](#L615) | \* Get contacts id details map |
| [616](#L616) | \* |
| [617](#L617) | \* @param array $contact\_ids |
| [618](#L618) | \* |
| [619](#L619) | \* @return array |
| [620](#L620) | \* |
| [621](#L621) | \* @since 4.2.1 |
| [622](#L622) | \* @since 4.2.4 |
| [623](#L623) | \*/ |
| [624](#L624) | public function get\_details\_by\_ids( $contact\_ids = array() ) { |
| [625](#L625) |  |
| [626](#L626) | $contacts = $this->get\_contacts\_by\_ids( $contact\_ids ); |
| [627](#L627) | $results = array(); |
| [628](#L628) | if ( ! empty( $contacts ) && count( $contacts ) > 0 ) { |
| [629](#L629) |  |
| [630](#L630) | foreach ( $contacts as $contact ) { |
| [631](#L631) | $results[ $contact['id'] ] = $contact; |
| [632](#L632) | } |
| [633](#L633) | } |
| [634](#L634) |  |
| [635](#L635) | return $results; |
| [636](#L636) | } |
| [637](#L637) |  |
| [638](#L638) | /\*\* |
| [639](#L639) | \* Get contact ids by emails |
| [640](#L640) | \* |
| [641](#L641) | \* @param array $emails |
| [642](#L642) | \* |
| [643](#L643) | \* @return array |
| [644](#L644) | \* |
| [645](#L645) | \* @since 4.0.0 |
| [646](#L646) | \* @since 4.3.4 Used prepare\_for\_in\_query instead of array\_to\_str |
| [647](#L647) | \*/ |
| [648](#L648) | public function get\_contact\_ids\_created\_at\_date\_by\_emails( $emails = array() ) { |
| [649](#L649) | global $wpbd; |
| [650](#L650) |  |
| [651](#L651) | if ( count( $emails ) > 0 ) { |
| [652](#L652) | $ids\_count        = count( $emails ); |
| [653](#L653) | $ids\_placeholders = array\_fill( 0, $ids\_count, '%s' ); |
| [654](#L654) | $results          = $wpbd->get\_results( |
| [655](#L655) | $wpbd->prepare( |
| [656](#L656) | "SELECT id, created\_at FROM {$wpbd->prefix}ig\_contacts WHERE email IN( " . implode( ',', $ids\_placeholders ) . ' )', |
| [657](#L657) | $emails |
| [658](#L658) | ), |
| [659](#L659) | ARRAY\_A |
| [660](#L660) | ); |
| [661](#L661) | } else { |
| [662](#L662) | $results = $wpbd->get\_results( "SELECT id , created\_at FROM {$wpbd->prefix}ig\_contacts" ); |
| [663](#L663) | } |
| [664](#L664) |  |
| [665](#L665) | $map = array(); |
| [666](#L666) | if ( count( $results ) > 0 ) { |
| [667](#L667) | foreach ( $results as $result ) { |
| [668](#L668) | $map[ $result['id'] ] = $result['created\_at']; |
| [669](#L669) | } |
| [670](#L670) | } |
| [671](#L671) |  |
| [672](#L672) | return $map; |
| [673](#L673) | } |
| [674](#L674) |  |
| [675](#L675) | /\*\* |
| [676](#L676) | \* Get contacts Email => id map |
| [677](#L677) | \* |
| [678](#L678) | \* @param array $emails |
| [679](#L679) | \* |
| [680](#L680) | \* @return array |
| [681](#L681) | \* |
| [682](#L682) | \* @since 4.0.0 |
| [683](#L683) | \* @since 4.3.4 Used prepare\_for\_in\_query instead of array\_to\_str |
| [684](#L684) | \*/ |
| [685](#L685) | public function get\_email\_id\_map( $emails = array() ) { |
| [686](#L686) | global $wpbd; |
| [687](#L687) |  |
| [688](#L688) | if ( count( $emails ) > 0 ) { |
| [689](#L689) | $email\_count  = count( $emails ); |
| [690](#L690) | $placeholders = array\_fill( 0, $email\_count, '%s' ); |
| [691](#L691) | $results      = $wpbd->get\_results( |
| [692](#L692) | $wpbd->prepare( |
| [693](#L693) | "SELECT id, email FROM {$wpbd->prefix}ig\_contacts WHERE email IN( " . implode( ',', $placeholders ) . ' )', |
| [694](#L694) | $emails |
| [695](#L695) | ), |
| [696](#L696) | ARRAY\_A |
| [697](#L697) | ); |
| [698](#L698) | } else { |
| [699](#L699) | $results = $wpbd->get\_results( "SELECT id, email FROM {$wpbd->prefix}ig\_contacts", ARRAY\_A ); |
| [700](#L700) | } |
| [701](#L701) |  |
| [702](#L702) | $map = array(); |
| [703](#L703) | if ( count( $results ) > 0 ) { |
| [704](#L704) | foreach ( $results as $result ) { |
| [705](#L705) | $map[ $result['email'] ] = $result['id']; |
| [706](#L706) | } |
| [707](#L707) | } |
| [708](#L708) |  |
| [709](#L709) | return $map; |
| [710](#L710) |  |
| [711](#L711) | } |
| [712](#L712) |  |
| [713](#L713) | /\*\* |
| [714](#L714) | \* Get contact id by email |
| [715](#L715) | \* |
| [716](#L716) | \* @param $email |
| [717](#L717) | \* |
| [718](#L718) | \* @return string|null |
| [719](#L719) | \*/ |
| [720](#L720) | public function get\_contact\_id\_by\_email( $email ) { |
| [721](#L721) |  |
| [722](#L722) | if ( empty( $email ) ) { |
| [723](#L723) | return null; |
| [724](#L724) | } |
| [725](#L725) |  |
| [726](#L726) | return $this->get\_column\_by( 'id', 'email', $email ); |
| [727](#L727) | } |
| [728](#L728) |  |
| [729](#L729) | /\*\* |
| [730](#L730) | \* Migrate all subscribers from 3.5.x to contacts table |
| [731](#L731) | \* |
| [732](#L732) | \* @since 4.0.0 |
| [733](#L733) | \*/ |
| [734](#L734) | public function migrate\_subscribers\_from\_older\_version() { |
| [735](#L735) | global $wpdb; |
| [736](#L736) |  |
| [737](#L737) | // Get Total count of subscribers |
| [738](#L738) | // phpcs:disable |
| [739](#L739) | $total = $wpdb->get\_var( "SELECT count(\*) as total FROM {$wpdb->prefix}es\_emaillist" ); |
| [740](#L740) | // phpcs:enable |
| [741](#L741) | // If we have subscribers? |
| [742](#L742) | if ( $total > 0 ) { |
| [743](#L743) |  |
| [744](#L744) | // Get all existing Contacts |
| [745](#L745) | $emails = $this->get\_column( 'email' ); |
| [746](#L746) | if ( ! is\_array( $emails ) ) { |
| [747](#L747) | $emails = array(); |
| [748](#L748) | } |
| [749](#L749) |  |
| [750](#L750) | // Import subscribers into batch of 100 |
| [751](#L751) | $batch\_size     = IG\_DEFAULT\_BATCH\_SIZE; |
| [752](#L752) | $total\_batches  = ( $total > IG\_DEFAULT\_BATCH\_SIZE ) ? ceil( $total / $batch\_size ) : 1; |
| [753](#L753) | $lists\_contacts = array(); |
| [754](#L754) | // $exclude\_status = array( 'Unsubscribed', 'Unconfirmed' ); |
| [755](#L755) | $j = 0; |
| [756](#L756) | for ( $i = 0; $i < $total\_batches; $i ++ ) { |
| [757](#L757) | $batch\_start = $i \* $batch\_size; |
| [758](#L758) | // phpcs:disable |
| [759](#L759) | $results     = $wpdb->get\_results( |
| [760](#L760) | $wpdb->prepare( |
| [761](#L761) | "SELECT \* FROM {$wpdb->prefix}es\_emaillist LIMIT %d, %d ", |
| [762](#L762) | $batch\_start, |
| [763](#L763) | $batch\_size |
| [764](#L764) | ), |
| [765](#L765) | ARRAY\_A |
| [766](#L766) | ); |
| [767](#L767) | // phpcs:enable |
| [768](#L768) | if ( count( $results ) > 0 ) { |
| [769](#L769) | $contacts = array(); |
| [770](#L770) | foreach ( $results as $key => $result ) { |
| [771](#L771) | $email = $result['es\_email\_mail']; |
| [772](#L772) | if ( ! in\_array( $email, $emails ) ) { |
| [773](#L773) |  |
| [774](#L774) | $contacts[ $key ] = $result; |
| [775](#L775) |  |
| [776](#L776) | $names = array( |
| [777](#L777) | 'first\_name' => '', |
| [778](#L778) | 'last\_name'  => '', |
| [779](#L779) | ); |
| [780](#L780) |  |
| [781](#L781) | if ( ! empty( $result['es\_email\_name'] ) ) { |
| [782](#L782) | $names = ES\_Common::prepare\_first\_name\_last\_name( $result['es\_email\_name'] ); |
| [783](#L783) | } else { |
| [784](#L784) | $name = ES\_Common::get\_name\_from\_email( $email ); |
| [785](#L785) |  |
| [786](#L786) | $names['first\_name'] = $name; |
| [787](#L787) | } |
| [788](#L788) |  |
| [789](#L789) | $contacts[ $key ]['first\_name']   = $names['first\_name']; |
| [790](#L790) | $contacts[ $key ]['last\_name']    = $names['last\_name']; |
| [791](#L791) | $contacts[ $key ]['email']        = $email; |
| [792](#L792) | $contacts[ $key ]['source']       = 'Migrated'; |
| [793](#L793) | $contacts[ $key ]['status']       = ( 'spam' === strtolower( $result['es\_email\_status'] ) ) ? 'spam' : 'verified'; |
| [794](#L794) | $contacts[ $key ]['unsubscribed'] = ( 'Unsubscribed' === $result['es\_email\_status'] ) ? 1 : 0; |
| [795](#L795) | $contacts[ $key ]['hash']         = $result['es\_email\_guid']; |
| [796](#L796) | $contacts[ $key ]['created\_at']   = $result['es\_email\_created']; |
| [797](#L797) | $contacts[ $key ]['updated\_at']   = ig\_get\_current\_date\_time(); |
| [798](#L798) |  |
| [799](#L799) | $emails[] = $email; |
| [800](#L800) | } |
| [801](#L801) |  |
| [802](#L802) | // Collect all contacts based on Lists |
| [803](#L803) | // if ( ! in\_array( $result['es\_email\_status'], $exclude\_status ) ) { |
| [804](#L804) | $lists\_contacts[ $result['es\_email\_group'] ][ $j ]['email']         = $email; |
| [805](#L805) | $lists\_contacts[ $result['es\_email\_group'] ][ $j ]['status']        = $result['es\_email\_status']; |
| [806](#L806) | $lists\_contacts[ $result['es\_email\_group'] ][ $j ]['subscribed\_at'] = $result['es\_email\_created']; |
| [807](#L807) | $lists\_contacts[ $result['es\_email\_group'] ][ $j ]['subscribed\_ip'] = null; |
| [808](#L808) | $j ++; |
| [809](#L809) | // } |
| [810](#L810) | } |
| [811](#L811) |  |
| [812](#L812) | $this->bulk\_insert( $contacts ); |
| [813](#L813) | } |
| [814](#L814) | } |
| [815](#L815) |  |
| [816](#L816) | // Do import Lists Contacts |
| [817](#L817) | if ( count( $lists\_contacts ) > 0 ) { |
| [818](#L818) | $list\_name\_id\_map = ES()->lists\_db->get\_list\_id\_name\_map( '', true ); |
| [819](#L819) | foreach ( $lists\_contacts as $list\_name => $contacts ) { |
| [820](#L820) | if ( ! empty( $list\_name\_id\_map[ $list\_name ] ) ) { |
| [821](#L821) | ES()->lists\_contacts\_db->import\_contacts\_into\_lists( $list\_name\_id\_map[ $list\_name ], $contacts ); |
| [822](#L822) | } |
| [823](#L823) | } |
| [824](#L824) | } |
| [825](#L825) | } |
| [826](#L826) | } |
| [827](#L827) |  |
| [828](#L828) | /\*\* |
| [829](#L829) | \* Edit List Contact Status |
| [830](#L830) | \* |
| [831](#L831) | \* @param $contact\_ids |
| [832](#L832) | \* @param $list\_ids |
| [833](#L833) | \* @param $status |
| [834](#L834) | \* |
| [835](#L835) | \* @return bool|int |
| [836](#L836) | \* |
| [837](#L837) | \* @since 4.2.0 |
| [838](#L838) | \* @since 4.3.4 Used prepare\_for\_in\_query instead of array\_to\_str |
| [839](#L839) | \*/ |
| [840](#L840) | public function edit\_list\_contact\_status( $contact\_ids, $list\_ids, $status ) { |
| [841](#L841) | global $wpbd; |
| [842](#L842) |  |
| [843](#L843) | $contact\_ids\_placeholders = implode( ',', array\_fill( 0, count( $contact\_ids), '%d') ); |
| [844](#L844) | $list\_ids\_placeholders    = implode( ',', array\_fill( 0, count( $list\_ids ), '%d') ); |
| [845](#L845) | $current\_date             = ig\_get\_current\_date\_time(); |
| [846](#L846) |  |
| [847](#L847) | if ( 'unconfirmed' === $status ) { |
| [848](#L848) | $query\_args = array\_merge([$status, IG\_DOUBLE\_OPTIN], $contact\_ids, $list\_ids); |
| [849](#L849) | } else { |
| [850](#L850) | $query\_args = array\_merge([$status, $current\_date], $contact\_ids, $list\_ids); |
| [851](#L851) | } |
| [852](#L852) |  |
| [853](#L853) | $query\_result = array(); |
| [854](#L854) | if ( 'subscribed' === $status ) { |
| [855](#L855) | $query\_result = $wpbd->query( |
| [856](#L856) | $wpbd->prepare( |
| [857](#L857) | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, subscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
| [858](#L858) | $query\_args |
| [859](#L859) | ) |
| [860](#L860) | ); |
| [861](#L861) | } elseif ( 'unsubscribed' === $status ) { |
| [862](#L862) | $query\_result = $wpbd->query( |
| [863](#L863) | $wpbd->prepare( |
| [864](#L864) | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, unsubscribed\_at = %s WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
| [865](#L865) | $query\_args |
| [866](#L866) | ) |
| [867](#L867) | ); |
| [868](#L868) | } elseif ( 'unconfirmed' === $status ) { |
| [869](#L869) | $query\_result = $wpbd->query( |
| [870](#L870) | $wpbd->prepare( |
| [871](#L871) | "UPDATE {$wpbd->prefix}ig\_lists\_contacts SET status = %s, optin\_type = %d, subscribed\_at = NULL, unsubscribed\_at = NULL WHERE contact\_id IN( {$contact\_ids\_placeholders} ) AND list\_id IN( {$list\_ids\_placeholders} )", |
| [872](#L872) | $query\_args |
| [873](#L873) | ) |
| [874](#L874) | ); |
| [875](#L875) | } |
| [876](#L876) |  |
| [877](#L877) | return $query\_result; |
| [878](#L878) | } |
| [879](#L879) |  |
| [880](#L880) | /\*\* |
| [881](#L881) | \* Get total contacts by date |
| [882](#L882) | \* |
| [883](#L883) | \* @param string $status |
| [884](#L884) | \* @param int    $days |
| [885](#L885) | \* |
| [886](#L886) | \* @return array |
| [887](#L887) | \* |
| [888](#L888) | \* @since 4.4.0 |
| [889](#L889) | \*/ |
| [890](#L890) | public function get\_total\_contacts\_by\_date( $status = 'subscribed', $days = 60 ) { |
| [891](#L891) |  |
| [892](#L892) | if ( 'subscribed' === $status ) { |
| [893](#L893) | $results = $this->get\_total\_subscribed\_contacts\_by\_date( $days ); |
| [894](#L894) | } |
| [895](#L895) |  |
| [896](#L896) | return $results; |
| [897](#L897) | } |
| [898](#L898) |  |
| [899](#L899) | /\*\* |
| [900](#L900) | \* Get contact id by email |
| [901](#L901) | \* |
| [902](#L902) | \* @param $email |
| [903](#L903) | \* |
| [904](#L904) | \* @return string|null |
| [905](#L905) | \* |
| [906](#L906) | \* @since 4.4.1 |
| [907](#L907) | \*/ |
| [908](#L908) | public function get\_contact\_id\_by\_wp\_user\_id( $user\_id ) { |
| [909](#L909) |  |
| [910](#L910) | if ( empty( $user\_id ) ) { |
| [911](#L911) | return null; |
| [912](#L912) | } |
| [913](#L913) |  |
| [914](#L914) | return $this->get\_column\_by( 'id', 'wp\_user\_id', $user\_id ); |
| [915](#L915) | } |
| [916](#L916) |  |
| [917](#L917) | /\*\* |
| [918](#L918) | \* Get total subscribed contacts by date |
| [919](#L919) | \* |
| [920](#L920) | \* @param string $status |
| [921](#L921) | \* @param int    $days |
| [922](#L922) | \* |
| [923](#L923) | \* @return array |
| [924](#L924) | \* |
| [925](#L925) | \* @since 4.4.2 |
| [926](#L926) | \*/ |
| [927](#L927) | public function get\_total\_subscribed\_contacts\_by\_date( $days = 60 ) { |
| [928](#L928) | global $wpbd; |
| [929](#L929) |  |
| [930](#L930) | $columns = array( 'DATE(created\_at) as date', 'count(DISTINCT(id)) as total' ); |
| [931](#L931) | $where   = 'unsubscribed = %d'; |
| [932](#L932) | $args[]  = 0; |
| [933](#L933) |  |
| [934](#L934) | if ( 0 != $days ) { |
| [935](#L935) | $days   = esc\_sql( $days ); |
| [936](#L936) | $where .= ' AND created\_at >= DATE\_SUB(NOW(), INTERVAL %d DAY)'; |
| [937](#L937) | $args[] = $days; |
| [938](#L938) | } |
| [939](#L939) |  |
| [940](#L940) | $group\_by = ' GROUP BY DATE(created\_at)'; |
| [941](#L941) |  |
| [942](#L942) | $where .= $group\_by; |
| [943](#L943) |  |
| [944](#L944) | $where = $wpbd->prepare( $where, $args ); |
| [945](#L945) |  |
| [946](#L946) | $results = $this->get\_columns\_by\_condition( $columns, $where ); |
| [947](#L947) |  |
| [948](#L948) | $contacts = array(); |
| [949](#L949) | if ( ! empty( $results ) ) { |
| [950](#L950) | foreach ( $results as $result ) { |
| [951](#L951) | $contacts[ $result['date'] ] = $result['total']; |
| [952](#L952) | } |
| [953](#L953) | } |
| [954](#L954) |  |
| [955](#L955) | return $contacts; |
| [956](#L956) | } |
| [957](#L957) |  |
| [958](#L958) | /\*\* |
| [959](#L959) | \* Get total subscribed contacts before $days |
| [960](#L960) | \* |
| [961](#L961) | \* @param int $days |
| [962](#L962) | \* |
| [963](#L963) | \* @return array |
| [964](#L964) | \* |
| [965](#L965) | \* @since 4.4.2 |
| [966](#L966) | \*/ |
| [967](#L967) | public function get\_total\_subscribed\_contacts\_before\_days( $days = 60 ) { |
| [968](#L968) | global $wpbd; |
| [969](#L969) |  |
| [970](#L970) | $columns = array( 'count(DISTINCT(id)) as total' ); |
| [971](#L971) | $where   = 'unsubscribed = %d'; |
| [972](#L972) | $args[]  = 0; |
| [973](#L973) |  |
| [974](#L974) | if ( 0 != $days ) { |
| [975](#L975) | $days   = esc\_sql( $days ); |
| [976](#L976) | $where .= ' AND created\_at < DATE\_SUB(NOW(), INTERVAL %d DAY)'; |
| [977](#L977) | $args[] = $days; |
| [978](#L978) | } |
| [979](#L979) |  |
| [980](#L980) | $where = $wpbd->prepare( $where, $args ); |
| [981](#L981) |  |
| [982](#L982) | $results = $this->get\_columns\_by\_condition( $columns, $where ); |
| [983](#L983) |  |
| [984](#L984) | $results = array\_shift( $results ); |
| [985](#L985) |  |
| [986](#L986) | return ! empty( $results['total'] ) ? $results['total'] : 0; |
| [987](#L987) | } |
| [988](#L988) |  |
| [989](#L989) |  |
| [990](#L990) | /\*\* |
| [991](#L991) | \* Get total subscribed contacts between $days |
| [992](#L992) | \* |
| [993](#L993) | \* @param int $days |
| [994](#L994) | \* |
| [995](#L995) | \* @return array |
| [996](#L996) | \* |
| [997](#L997) | \* @since 4.4.2 |
| [998](#L998) | \*/ |
| [999](#L999) | public function get\_total\_subscribed\_contacts\_between\_days( $days = 60 ) { |
| [1000](#L1000) | global $wpbd; |
| [1001](#L1001) |  |
| [1002](#L1002) | $columns = array( 'count(DISTINCT(id)) as total' ); |
| [1003](#L1003) | $where   = 'unsubscribed = %d'; |
| [1004](#L1004) | $args[]  = 0; |
| [1005](#L1005) |  |
| [1006](#L1006) | if ( 0 != $days ) { |
| [1007](#L1007) | $days   = esc\_sql( $days ); |
| [1008](#L1008) | $where .= ' AND created\_at > DATE\_SUB(NOW(), INTERVAL %d DAY) AND created\_at < DATE\_SUB(NOW(), INTERVAL %d DAY) '; |
| [1009](#L1009) | $args[] = $days \* 2; |
| [1010](#L1010) | $args[] = $days; |
| [1011](#L1011) | } |
| [1012](#L1012) |  |
| [1013](#L1013) | $where = $wpbd->prepare( $where, $args ); |
| [1014](#L1014) |  |
| [1015](#L1015) | $results = $this->get\_columns\_by\_condition( $columns, $where ); |
| [1016](#L1016) |  |
| [1017](#L1017) | $results = array\_shift( $results ); |
| [1018](#L1018) |  |
| [1019](#L1019) | return ! empty( $results['total'] ) ? $results['total'] : 0; |
| [1020](#L1020) | } |
| [1021](#L1021) |  |
| [1022](#L1022) |  |
| [1023](#L1023) | /\*\* |
| [1024](#L1024) | \* Count contacts by Form id |
| [1025](#L1025) | \* |
| [1026](#L1026) | \* @param string $form\_id |
| [1027](#L1027) | \* |
| [1028](#L1028) | \* @return string|null |
| [1029](#L1029) | \* |
| [1030](#L1030) | \* @since 4.6.3 |
| [1031](#L1031) | \*/ |
| [1032](#L1032) | public function get\_total\_contacts\_by\_form\_id( $form\_id = '', $status = 0 ) { |
| [1033](#L1033) |  |
| [1034](#L1034) | global $wpdb; |
| [1035](#L1035) |  |
| [1036](#L1036) | $total\_subscribers = ''; |
| [1037](#L1037) |  |
| [1038](#L1038) | if ( ! empty( $form\_id ) ) { |
| [1039](#L1039) | // phpcs:disable |
| [1040](#L1040) | $total\_subscribers = $wpdb->get\_var( |
| [1041](#L1041) | $wpdb->prepare( |
| [1042](#L1042) | "SELECT count(distinct(id)) as total\_active\_subscribers FROM {$wpdb->prefix}ig\_contacts where form\_id = %d AND unsubscribed = %d", |
| [1043](#L1043) | $form\_id, |
| [1044](#L1044) | $status |
| [1045](#L1045) | ) |
| [1046](#L1046) | ); |
| [1047](#L1047) | // phpcs:enable |
| [1048](#L1048) | } |
| [1049](#L1049) |  |
| [1050](#L1050) | return $total\_subscribers; |
| [1051](#L1051) |  |
| [1052](#L1052) | } |
| [1053](#L1053) |  |
| [1054](#L1054) | /\*\* |
| [1055](#L1055) | \* Migrate Ip address of subscribers from lists\_contacts to contacts table |
| [1056](#L1056) | \* |
| [1057](#L1057) | \* @since 4.6.3 |
| [1058](#L1058) | \*/ |
| [1059](#L1059) | public function migrate\_ip\_from\_list\_contacts\_to\_contacts\_table() { |
| [1060](#L1060) | global $wpdb; |
| [1061](#L1061) |  |
| [1062](#L1062) | // Get Total count of subscribers |
| [1063](#L1063) | // phpcs:disable |
| [1064](#L1064) | $total = $wpdb->get\_var( "SELECT count(\*) as total FROM {$wpdb->prefix}ig\_contacts" ); |
| [1065](#L1065) | // phpcs:enable |
| [1066](#L1066) | // If we have subscribers? |
| [1067](#L1067) | if ( $total > 0 ) { |
| [1068](#L1068) | // phpcs:disable |
| [1069](#L1069) | $wpdb->query( |
| [1070](#L1070) | "UPDATE {$wpdb->prefix}ig\_contacts AS contact\_data |
| [1071](#L1071) | LEFT JOIN {$wpdb->prefix}ig\_lists\_contacts AS list\_data |
| [1072](#L1072) | ON contact\_data.id = list\_data.contact\_id |
| [1073](#L1073) | SET contact\_data.ip\_address = list\_data.subscribed\_ip |
| [1074](#L1074) | WHERE contact\_data.id = list\_data.contact\_id |
| [1075](#L1075) | AND list\_data.subscribed\_ip IS NOT NULL |
| [1076](#L1076) | AND list\_data.subscribed\_ip <> ''" |
| [1077](#L1077) | ); |
| [1078](#L1078) | // phpcs:enable |
| [1079](#L1079) | } |
| [1080](#L1080) | } |
| [1081](#L1081) |  |
| [1082](#L1082) | /\*\* |
| [1083](#L1083) | \* Add custom fields column |
| [1084](#L1084) | \* |
| [1085](#L1085) | \* @param $col\_name |
| [1086](#L1086) | \* @param string $type |
| [1087](#L1087) | \* |
| [1088](#L1088) | \* @return array |
| [1089](#L1089) | \* |
| [1090](#L1090) | \* @since 4.8.4 |
| [1091](#L1091) | \* |
| [1092](#L1092) | \* @modify 5.6.7 |
| [1093](#L1093) | \*/ |
| [1094](#L1094) | public function add\_custom\_field\_col\_in\_contacts\_table( $slug\_name, $custom\_field\_type = 'text' ) { |
| [1095](#L1095) | global $wpbd; |
| [1096](#L1096) |  |
| [1097](#L1097) | $slug\_name = sanitize\_title( $slug\_name ); |
| [1098](#L1098) | $col\_added = 0; |
| [1099](#L1099) | if ( ! empty( $slug\_name ) ) { |
| [1100](#L1100) | // To check if column exists or not |
| [1101](#L1101) | $custom\_field\_col = $wpbd->get\_results( $wpbd->prepare( "SHOW COLUMNS FROM {$wpbd->prefix}ig\_contacts LIKE %s", $slug\_name ) , 'ARRAY\_A' ); |
| [1102](#L1102) | $custom\_field\_num\_rows    = $wpbd->num\_rows; |
| [1103](#L1103) |  |
| [1104](#L1104) | // If column doesn't exists, then insert it |
| [1105](#L1105) | if ( '1' != $custom\_field\_num\_rows ) { |
| [1106](#L1106) |  |
| [1107](#L1107) | $col\_data\_type = ES\_Common::get\_custom\_field\_col\_datatype( $custom\_field\_type ); |
| [1108](#L1108) | // Template table |
| [1109](#L1109) | $col\_added = $wpbd->query( "ALTER TABLE {$wpbd->prefix}ig\_contacts |
| [1110](#L1110) | ADD COLUMN {$slug\_name} {$col\_data\_type} DEFAULT NULL" ); |
| [1111](#L1111) | } |
| [1112](#L1112) | } |
| [1113](#L1113) | return $col\_added; |
| [1114](#L1114) | } |
| [1115](#L1115) |  |
| [1116](#L1116) | /\*\* |
| [1117](#L1117) | \* Delete Custom fields columns |
| [1118](#L1118) | \* |
| [1119](#L1119) | \* @param $ids |
| [1120](#L1120) | \* |
| [1121](#L1121) | \* @since 4.8.4 |
| [1122](#L1122) | \*/ |
| [1123](#L1123) | public function delete\_col\_by\_custom\_field\_id( $cf\_ids ) { |
| [1124](#L1124) |  |
| [1125](#L1125) | global $wpbd; |
| [1126](#L1126) | if ( ! is\_array( $cf\_ids ) ) { |
| [1127](#L1127) | $ids = array( $cf\_ids ); |
| [1128](#L1128) | } |
| [1129](#L1129) |  |
| [1130](#L1130) | $col\_deleted = 0; |
| [1131](#L1131) | $slug\_name\_list = ES()->custom\_fields\_db->get\_custom\_field\_slug\_list\_by\_ids( $cf\_ids ); |
| [1132](#L1132) |  |
| [1133](#L1133) | if ( is\_array( $slug\_name\_list ) && count( $slug\_name\_list ) > 0 ) { |
| [1134](#L1134) |  |
| [1135](#L1135) | foreach ( $slug\_name\_list as $col\_name ) { |
| [1136](#L1136) | $col\_deleted = $wpbd->query( "ALTER TABLE {$wpbd->prefix}ig\_contacts |
| [1137](#L1137) | DROP COLUMN {$col\_name}" ); |
| [1138](#L1138) | } |
| [1139](#L1139) | } |
| [1140](#L1140) | return $col\_deleted; |
| [1141](#L1141) |  |
| [1142](#L1142) | } |
| [1143](#L1143) |  |
| [1144](#L1144) | /\*\* |
| [1145](#L1145) | \* Insert IP along with subscriber data |
| [1146](#L1146) | \* |
| [1147](#L1147) | \* @param $data |
| [1148](#L1148) | \* @param string $type |
| [1149](#L1149) | \* |
| [1150](#L1150) | \* @return int |
| [1151](#L1151) | \* |
| [1152](#L1152) | \* @since 4.6.3 |
| [1153](#L1153) | \*/ |
| [1154](#L1154) | public function insert( $data, $type = '' ) { |
| [1155](#L1155) | $source = array( 'admin', 'import' ); |
| [1156](#L1156) |  |
| [1157](#L1157) | if ( ! ES()->is\_pro() ) { |
| [1158](#L1158) | $data['ip\_address']   = ''; |
| [1159](#L1159) | $data['country\_code'] = ''; |
| [1160](#L1160) | } else { |
| [1161](#L1161) |  |
| [1162](#L1162) | if ( empty( $data['ip\_address'] ) && ! in\_array( $data['source'], $source, true ) ) { |
| [1163](#L1163) | $data = apply\_filters( 'ig\_es\_get\_subscriber\_ip', $data, 'ip\_address' ); |
| [1164](#L1164) | } |
| [1165](#L1165) |  |
| [1166](#L1166) | if ( ! empty( $data['ip\_address'] ) ) { |
| [1167](#L1167) | $data = apply\_filters( 'ig\_es\_get\_country\_based\_on\_ip', $data ); |
| [1168](#L1168) | } |
| [1169](#L1169) | } |
| [1170](#L1170) | $contact\_id = parent::insert( $data, $type ); |
| [1171](#L1171) | do\_action( 'ig\_es\_new\_contact\_inserted', $contact\_id ); |
| [1172](#L1172) | return $contact\_id; |
| [1173](#L1173) | } |
| [1174](#L1174) |  |
| [1175](#L1175) | /\*\* |
| [1176](#L1176) | \* Get last contact's id |
| [1177](#L1177) | \* |
| [1178](#L1178) | \* @since 5.3.14 |
| [1179](#L1179) | \* |
| [1180](#L1180) | \* @param @int $last\_contact\_id |
| [1181](#L1181) | \*/ |
| [1182](#L1182) | public function get\_last\_contact\_id() { |
| [1183](#L1183) | global $wpdb; |
| [1184](#L1184) | // phpcs:disable |
| [1185](#L1185) | $last\_contact\_id = $wpdb->get\_var( "SELECT id FROM {$wpdb->prefix}ig\_contacts ORDER BY id DESC LIMIT 0, 1" ); |
| [1186](#L1186) | // phpcs:enable |
| [1187](#L1187) | return $last\_contact\_id; |
| [1188](#L1188) | } |
| [1189](#L1189) |  |
| [1190](#L1190) | //Get contacts by list id. |
| [1191](#L1191) | public function get\_contacts\_by\_list\_id( $status = 'all', $list\_id = 0 ) { |
| [1192](#L1192) |  |
| [1193](#L1193) | $contacts = ES()->lists\_contacts\_db->get\_contacts($status, $list\_id); |
| [1194](#L1194) | $contact\_ids = array\_column($contacts, 'contact\_id'); |
| [1195](#L1195) | $contact\_details = $this->get\_details\_by\_ids($contact\_ids); |
| [1196](#L1196) |  |
| [1197](#L1197) | return $contact\_details; |
| [1198](#L1198) | } |
| [1199](#L1199) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php?format=txt)
* [Original Format](/export/3220520/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_dfef73dd_20250111_035543.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Email Subscribers by Icegram Express – Email Marketing, Newsletters, Automation for WordPress & WooCommerce <= 5.7.25 - Unauthenticated SQL Injection via unsubscribe

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Email Subscribers by Icegram Express – Email Marketing, Newsletters, Automation for WordPress & WooCommerce <= 5.7.25 - Unauthenticated SQL Injection via unsubscribe

9.8

**Improper Neutralization of Special Elements used in an SQL Command ('SQL Injection')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2024-6172](https://www.cve.org/CVERecord?id=CVE-2024-6172) |
| --- | --- |
| CVSS | 9.8 (Critical) |
| Publicly Published | July 1, 2024 |
| Last Updated | July 2, 2024 |
| Researcher | [shaman0x01 - Shaman Red Team](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/khayal-farzaliyev) |

### Description

The Email Subscribers by Icegram Express – Email Marketing, Newsletters, Automation for WordPress & WooCommerce plugin for WordPress is vulnerable to time-based SQL Injection via the db parameter in all versions up to, and including, 5.7.25 due to insufficient escaping on the user supplied parameter and lack of sufficient preparation on the existing SQL query. This makes it possible for unauthenticated attackers to append additional SQL queries into already existing queries that can be used to extract sensitive information from the database. CVE-2024-37252 appears to be a duplicate of this issue.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/email-subscribers/trunk/lite/includes/db/class-es-db-contacts.php#L834)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3107964/email-subscribers#file4)
* [wordpress.org](https://wordpress.org/plugins/email-subscribers/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3107964%40email-subscribers%2Ftrunk&old=3104864%40email-subscribers%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Femail-subscribers%2Femail-subscribers-by-icegram-express-email-marketing-newsletters-automation-for-wordpress-woocommerce-5725-unauthenticated-sql-injection-via-unsubscribe&t=Email%20Subscribers%20by%20Icegram%20Express%20%E2%80%93%20Email%20Marketing%2C%20Newsletters%2C%20Automation%20for%20WordPress%20%26%20WooCommerce%20%3C%3D%205.7.25%20-%20Unauthenticated%20SQL%20Injection%20via%20unsubscribe "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Femail-subscribers%2Femail-subscribers-by-icegram-express-email-marketing-newsletters-automation-for-wordpress-woocommerce-5725-unauthenticated-sql-injection-via-unsubscribe&text=Email%20Subscribers%20by%20Icegram%20Express%20%E2%80%93%20Email%20Marketing%2C%20Newsletters%2C%20Automation%20for%20WordPress%20%26%20WooCommerce%20%3C%3D%205.7.25%20-%20Unauthenticated%20SQL%20Injection%20via%20unsubscribe "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Femail-subscribers%2Femail-subscribers-by-icegram-express-email-marketing-newsletters-automation-for-wordpress-woocommerce-5725-unauthenticated-sql-injection-via-unsubscribe "LinkedIn")
Email

## Vulnerability Details for Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce

#### [Email Subscribers by Icegram Express – Affordable, Powerful Email Marketing for WordPress & WooCommerce](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/email-subscribers)

| Software Type | Plugin |
| --- | --- |
| Software Slug | email-subscribers [(view on wordpress.org)](https://wordpress.org/plugins/email-subscribers) |
| Patched? | Yes |
| Remediation | Update to version 5.7.26, or a newer patched version |
| Affected Version | * <= 5.7.25 |
| Patched Version | * 5.7.26 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation


