<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Lasse Collin">
<link rel="icon" type="image/png" href="../images/tukaani_32x32.png">
<title>XZ Utils backdoor</title>
<link rel="stylesheet" href="./../style.css">
</head>
<body class="article">
<div class="navigation">
<p><a href="../">tukaani.org</a> &#187; XZ Utils backdoor</p>
<hr>
</div>
<main>
<div id="header">
<h1>XZ Utils backdoor</h1>
<div class="details">
<span id="author" class="author">Lasse Collin</span><br>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page will get updated as I learn more about the incident.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_facts">Facts</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>CVE-2024-3094</p>
</li>
<li>
<p>XZ Utils 5.6.0 and 5.6.1 release tarballs contain a backdoor.
These tarballs were created and signed by <em>Jia Tan</em>.</p>
</li>
<li>
<p>Tarballs created by Jia Tan were signed by him.
Any tarballs signed by me were created by me.</p>
</li>
<li>
<p>GitHub accounts of both me (Larhzu) and Jia Tan were suspended.
Mine was reinstated on 2024-04-02.</p>
</li>
<li>
<p>Only I have had access to the main tukaani.org website,
git.tukaani.org repositories, and related files.
Jia Tan only had access to things hosted on GitHub,
including xz.tukaani.org subdomain (and only that subdomain).</p>
</li>
<li>
<p>The XZ projects have been moved to their old URLs on tukaani.org.
XZ Utils&#8217;s home page is under construction still though.</p>
</li>
<li>
<p>xz.tukaani.org DNS name (CNAME) has been removed and won&#8217;t be restored.</p>
</li>
<li>
<p>The email address xz <em>at</em> tukaani <em>dot</em> org no longer forwards to Jia Tan.
This change was made on 2024-03-30.</p>
</li>
<li>
<p>2024-04-09: The Git repositories of XZ projects are available
on <a href="https://github.com/tukaani-project">GitHub</a> again.
Please use these for downloading the code to reduce the bandwidth usage
on git.tukaani.org.</p>
</li>
<li>
<p>GitHub had closed all pull requests and
marked them as if I had closed them on 2024-04-05.
I didn&#8217;t close any PRs on that day, GitHub just misattributed it to me.
On 2024-04-12 I tried to re-open PRs and GitHub immediately closed them again,
again marking them as if I had done it.
(On IRC it was suggested that
this might have happened because the PRs refer to forks that are disabled.)</p>
</li>
<li>
<p>After the primary location of xz.git was officially moved to GitHub,
I didn&#8217;t detected any force pushes to the master or v5.x branches.
I haven&#8217;t force pushed to git.tukaani.org.</p>
</li>
<li>
<p>However, I force pushed to the xz-java repository on GitHub on 2024-04-05,
deleting two harmless commits by Jia.
I had pushed commits to git.tukaani.org
when the repositories on GitHub were disabled
and I didn&#8217;t have the two commits by Jia available locally.</p>
</li>
<li>
<p>The version 1.0 of the <a href="review.html">XZ Utils review notes</a> was
published on 2024-05-29.
(The first work-in-progress version was published on 2024-04-15.)</p>
</li>
<li>
<p>New, clean XZ Utils releases were made on 2024-05-29.
The <a href="../xz/">home page</a> is available again too.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_to_media_and_reporters">To media and reporters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I won&#8217;t reply for now.
I might reconsider after my planned article is out.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_email">Email</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I have gotten a lot of email.
Thanks for the positive comments.
Unfortunately I don&#8217;t have time to reply to most of them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_donations">Donations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A few have suggested that I should enable GitHub Sponsors.</p>
</div>
<div class="paragraph">
<p>The Finnish law doesn&#8217;t allow a private person
to request money from the general public and give nothing in return.
Certain types of organizations can ask for donations but
to do that even they need to get a permit first.</p>
</div>
<div class="paragraph">
<p>This means that things like GitHub Sponsors don&#8217;t seem legal to use.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plans">Plans</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_git_repositories">Git repositories</h3>
<div class="paragraph">
<p>There was discussion if the master branch should have been rebased to purge
the malicious files.
This would have been equivalent to dropping
<a href="https://git.tukaani.org/?p=xz.git;a=commit;h=e93e13c8b3bec925c56e0c0b675d8000a0f7f754">eight commits</a>.
The main benefit would have been that then
antivirus software wouldn&#8217;t complain about them.
Otherwise the files are harmless without the trigger code that was never
included in the Git repository.</p>
</div>
<div class="paragraph">
<p>It was decided that the Git repository will <em>not</em> be rebased.</p>
</div>
<div class="paragraph">
<p>The other Git repositories (xz-embedded and xz-java) are fine
and never had malicious or suspicious content.</p>
</div>
</div>
<div class="sect2">
<h3 id="_releases">Releases</h3>
<div class="paragraph">
<p>There was discussion if the 5.6.x version numbers shouldn&#8217;t be used further
and the next release could be 5.8.0.
However, it felt clearer to make XZ Utils 5.6.2 as a cleanup step.
There are a few small improvements planned which could become 5.8.0
in shorter time than usual, hopefully replacing 5.6.x somewhat soon.</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_can_be_learned_from_this">What can be learned from this</h3>
<div class="paragraph">
<p>I&#8217;m writing an article how the backdoor got into the releases
and what can be learned from this.
This is taking much longer than I had thought.
I&#8217;ve made progress but I don&#8217;t want to estimate when it&#8217;s ready.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">Details by Andres Freund</a></p>
</li>
<li>
<p><a href="https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27">FAQ by Sam James</a></p>
</li>
<li>
<p><a href="https://bugs.gentoo.org/928134">Gentoo bug 928134</a></p>
</li>
<li>
<p><a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1068024">Debian bug 1068024</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-12-05 19:34:28 +0200
</div>
</div>
</main>
<div class="navigation">
<hr>
<p><a href="../">tukaani.org</a> &#187; XZ Utils backdoor</p>
</div>
</body>
</html>