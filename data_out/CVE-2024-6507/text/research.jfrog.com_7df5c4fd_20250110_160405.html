
[![JFrog Security Research](/assets/static/jfrog-logo-svg.5788598.74a3bea875bf053c65a0663c9ec9a0fd.svg)](/)JFrog Security Research

* [Discover](/vulnerabilities/)
* [Follow JFrog Security
  ![twitter](/assets/static/twitter.e0519be.9769aec62433fd58c76ad32c2d613842.svg)](https://twitter.com/JFrogSecurity)
![Menu](/assets/static/hamburger.a58a0fd.dc5087fee70346d455e75c87bc430716.svg)![Menu](data:image/svg+xml...)![Menu](/assets/static/close.5cd2673.91b568c73f917f773ea7915d69802829.svg)

* [Home](/)
* [Discover](/vulnerabilities/)
* [Follow JFrog Security](https://twitter.com/JFrogSecurity)
[< Back](/vulnerabilities/)
# JFSA-2024-001035320 - Deep Lake Kaggle dataset command injection

CVE-2024-6507
| CVSS 8.1

 JFrog Severity:high

Discovered By**Natan Nehorai**of the JFrog Security Research Team

Published 4 Jul, 2024 | Last updated 4 Jul, 2024

## [Summary](#summary)

Command injection when ingesting a remote Kaggle dataset due to a lack of input sanitization in the ingest\_kaggle() API

## [Component](#component)

[deeplake](https://pypi.org/project/deeplake/)

## [Affected versions](#affected-versions)

(,3.9.10]

## [Description](#description)

Deep Lake can be used for storing data and vectors while building LLM applications or to manage datasets while training deep learning models.
Datasets can be loaded from various external sources, such as the Kaggle platform.
In order to load an external Kaggle dataset a user will use the exported `ingest_kaggle` method.

The method will receive the `tag` parameter which should indicate the Kaggle dataset tag.

The `tag` parameter propagates into the `_exec_command` method without any form of input filtering.

Due to this issue, if a user builds an external facing application based on the Deep Lake application with the ability to upload Kaggle datasets, an attacker will be able to perform a remote code execution attack on the server, compromising all integrity, availability, and confidentiality of the available resources.

## [PoC](#poc)

```
import deeplake

deeplake.ingest_kaggle('some/text||touch /tmp/hacked','/tmp/somepath','./tmp/somepath2',kagg
le_credentials={"username":"mister","key":"john","password":"doe"},overwrite=True)

```
## [Vulnerability Mitigations](#vulnerability-mitigations)

No mitigations are supplied for this issue

## [References](#references)

[Vendor fix](https://github.com/activeloopai/deeplake/pull/2876)

[< Back](/vulnerabilities/)[![JFrog Security Research](/assets/static/jfrog-logo-svg.5788598.74a3bea875bf053c65a0663c9ec9a0fd.svg)](/)

* [Terms of Use](https://jfrog.com/terms-of-use/)
* [Cookies Policy](https://jfrog.com/jfrog-cookies-policy/)
* [Privacy Policy](https://jfrog.com/privacy-policy/)
* Cookies Settings

Â©2025 All Rights Reserved. JFrog Ltd.

