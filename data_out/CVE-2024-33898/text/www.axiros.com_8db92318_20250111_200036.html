
[0](/cart)

[Skip to Content](#page)

[![Axiros | Open Device &amp; Service Management](//images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/49e028dc-63bc-45db-876c-580c8912f50e/2024+Axiros+Logo-RGB-Black.png?format=1500w)](/)

[Solutions](/solutions)

[Products](/products)

[Company](/company)
[At A Glance](/at-a-glance)

[Customers & Successes](/customers-successes)

[Careers](/careers)

[Information Hub](/information-hub)
[Blog](/blog)

[Events](/events)

[Knowledge Base](/knowledge-base)

[News & Announcements](/news-and-announcements)

[Contact Us](#lightbox>contact-form)

Open Menu
Close Menu

[![Axiros | Open Device &amp; Service Management](//images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/49e028dc-63bc-45db-876c-580c8912f50e/2024+Axiros+Logo-RGB-Black.png?format=1500w)](/)

[Solutions](/solutions)

[Products](/products)

[Company](/company)
[At A Glance](/at-a-glance)

[Customers & Successes](/customers-successes)

[Careers](/careers)

[Information Hub](/information-hub)
[Blog](/blog)

[Events](/events)

[Knowledge Base](/knowledge-base)

[News & Announcements](/news-and-announcements)

[Contact Us](#lightbox>contact-form)

Open Menu
Close Menu

[Solutions](/solutions)

[Products](/products)

[Folder:
Company](/company)

[Back](/)

[At A Glance](/at-a-glance)

[Customers & Successes](/customers-successes)

[Careers](/careers)

[Folder:
Information Hub](/information-hub)

[Back](/)

[Blog](/blog)

[Events](/events)

[Knowledge Base](/knowledge-base)

[News & Announcements](/news-and-announcements)

[Contact Us](#lightbox>contact-form)

---

# [**Vulnerability in AXUserManager**](https://wiki.axiros.com/display/AXESS/2024-03%2BVulnerability%2Bin%2BAXUserManager)

## **Affected Software**

**AXESS versions 4.x and 5.0.0** are affected by a potential authentication schema
bypass vulnerability. (Other Axiros products are not affected.)

Date of detection: March 18th 2024 (credits to nsideattacklogic)
Contact: [***[emailÂ protected]***](/cdn-cgi/l/email-protection#c6b5a3a5b3b4afb2bf86a7beafb4a9b5e8a5a9abf9)

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/720fc0c9-b532-46e1-bd99-d66842ed01f1/Bildschirmfoto+2024-06-18+um+10.44.02.png)

## **Description**

The mentioned AXESS releases are vulnerable to authentication schema bypass

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/f54735d4-8328-4657-bc31-c942f736d224/Bildschirmfoto+2024-06-18+um+10.52.40.png)

Although Axiros can not make general statements regarding the impact of the mentioned vulnerabilities on the deployed systems, Axiros recommends to apply the described fix as soon as possible. Future AXESS versions will include a patch for this vulnerability.

## **Mitigation & Fix**

In oder to patch the vulnerability a file inside the AXUserManager must be replaced and a new permission must be added on the RBAC configuration.

### **Ansible upgrade process**

Please read the Ansible patch procedures before applying the patch.
[***https://docs.axiros.com/axess-documentation/install/latest/ansible\_playbook\_reference/utilities/distribute\_patches/index.html***](https://docs.axiros.com/axess-documentation/install/latest/ansible_playbook_reference/utilities/distribute_patches/index.html)Please note that this procedure must be repeated on every environment (e.g. lab, staging, production)

---

#### **Download the patch file according to the AXESS version**

4.0.0 [*AXESS\_4\_0\_0\_\_LegacyAXUserManager.py*](https://wiki.axiros.com/download/attachments/349564099/AXESS_4_0_0__LegacyAXUserManager.py?version=2&modificationDate=1710777081925&api=v2)/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/LegacyAXUserManager.py

4.1.0 [*AXESS\_4\_1\_0\_\_AXUserManager.py*](https://wiki.axiros.com/download/attachments/349564099/AXESS_4_1_0__AXUserManager.py?version=2&modificationDate=1710777082099&api=v2)/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/AXUserManager.py

4.2.0 [*AXESS\_4\_2\_0\_\_AXUserManager.py*](https://wiki.axiros.com/download/attachments/349564099/AXESS_4_2_0__AXUserManager.py?version=2&modificationDate=1710777082170&api=v2)/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/AXUserManager.py

4.3.0 + 4.3.1 [*AXESS\_4\_3\_0\_\_AXUserManager.py*](https://wiki.axiros.com/download/attachments/349564099/AXESS_4_3_0__AXUserManager.py?version=2&modificationDate=1710777082239&api=v2)/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/AXUserManager.py

5.0.0 [*AXESS\_5\_0\_0\_\_AXUserManager.py*](https://wiki.axiros.com/download/attachments/349564099/AXESS_5_0_0__AXUserManager.py?version=2&modificationDate=1710777082304&api=v2)/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/AXUserManager.py

---

#### **Place the file inside the Ansible control machine**

Please copy the patch file from above inside your Ansible control machine chroot.

Please note that you might need to create the folder structure inside the patch directory (by default its is empty). Remove the version prefix from the file before placing it in the patches folder (e.g. AXESS\_5\_0\_0\_\_AXUserManager.py rename to AXUserManager.py

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/1fd9eac4-8475-42f2-bbc3-c107d5476c64/Attention+Triangle.png)

```

admin@ip-172-31-8-138:~$ sudo chroot /opt/axess-ansible
axess-ansible root@ip-172-31-8-138:/# cd /opt/axess-ansible/contrib-project/patches/
axess-ansible root@ip-172-31-8-138:/opt/axess-ansible/contrib-project/patches# ls -l
total 8.0K
drwxr-xr-x  2 root root 4.0K 2022-11-23 09:07 .
drwxr-xr-x 16 root root 4.0K 2022-07-06 16:11 ..
-rw-r--r--  1 root root    0 2022-11-22 19:00 .gitkeep

# In this setup the patches folder is empty. Now we create the folder structure for the patch
axess-ansible root@ip-172-31-8-138:/opt/axess-ansible/contrib-project/patches# mkdir -p axess/base/Products/AXUserManager/
axess-ansible root@ip-172-31-8-138:/opt/axess-ansible/contrib-project/patches# cd axess/base/Products/AXUserManager/
axess-ansible root@ip-172-31-8-138:/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager# ls
total 8.0K
drwxr-xr-x 2 root root 4.0K 2024-03-18 16:04 .
drwxr-xr-x 3 root root 4.0K 2024-03-18 16:04 ..
# The folder structure was created please place the downloaded patch file in that directory so it looks like this
axess-ansible root@ip-172-31-8-138:/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager# ls -l
total 24K
drwxr-xr-x 2 root root 4.0K 2024-03-18 16:06 .
drwxr-xr-x 3 root root 4.0K 2024-03-18 16:04 ..
-rw-r--r-- 1 root root  15K 2024-03-18 16:06 AXUserManager.py

```

Create the necessary folder structure

---

#### **Distribute the patch via Ansible playbooks**

Now we want to deploy the patch to all nodes in the cluster. The playbook can be executed like any other playbook - please make sure to select the correct inventory file.

```

ansible-playbook --ask-vault-pass -i inventory/lab.py util_axess_patch_files.yml

```

Example output

```

TASK [Create missing destination directories] *****************************************************************************************************************************
ok: [axess] => (item=directory base)
skipping: [axess] => (item=skipping file)
ok: [axess] => (item=directory base/Products)
ok: [axess] => (item=directory base/Products/AXUserManager)
skipping: [axess] => (item=skipping file)

TASK [Copy patched files to the managed nodes] ****************************************************************************************************************************
skipping: [axess] => (item=skipping directory)
skipping: [axess] => (item=/opt/axess-ansible/contrib-project/patches/axess/.gitkeep)
skipping: [axess] => (item=skipping directory)
skipping: [axess] => (item=skipping directory)
changed: [axess] => (item=/opt/axess-ansible/contrib-project/patches/axess/base/Products/AXUserManager/AXUserManager.py)

PLAY [Distribute patches to tr069controller nodes] ************************************************************************************************************************

TASK [Patches directory query] ********************************************************************************************************************************************
ok: [axess -> localhost]

TASK [Create missing destination directories] *****************************************************************************************************************************
skipping: [axess] => (item=skipping file)

TASK [Copy patched files to the managed nodes] ****************************************************************************************************************************
skipping: [axess] => (item=/opt/axess-ansible/contrib-project/patches/tr069controller/.gitkeep)

PLAY [Distribute patches to configcontroller nodes] ***********************************************************************************************************************

TASK [Patches directory query] ********************************************************************************************************************************************
ok: [axess -> localhost]

TASK [Create missing destination directories] *****************************************************************************************************************************
skipping: [axess] => (item=skipping file)

TASK [Copy patched files to the managed nodes] ****************************************************************************************************************************
skipping: [axess] => (item=/opt/axess-ansible/contrib-project/patches/configcontroller/.gitkeep)

PLAY RECAP ****************************************************************************************************************************************************************
axess                      : ok=17   changed=1    unreachable=0    failed=0    skipped=13   rescued=0    ignored=0

```

---

#### **Restart AXESS Northbound processes**

After the patch was deployed we need to restart all AXESS northbound processes

```

ansible-playbook --ask-vault-pass -i inventory/lab.py node-axess-northbound-uwsgi_restart.yml

```

---

#### **Create a new permission on AXESS.GUI**

The AXCustomerSupportPortal is using a logout URL that is now restricted for non "Manager" user roles after the patch was applied.
Please create a new permission and assign it to the "Authenticated" user role. In that way all other roles will inherit this permission.

This step is only mandatory if you are using the AXCustomerSupportPortal or a custom HTML logout page

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/1fd9eac4-8475-42f2-bbc3-c107d5476c64/Attention+Triangle.png)

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/5bfab855-0428-4473-b489-9c65b1cddae7/Screenshot+2024-03-18+at+18.49.40.jpg)

Login on AXESS.GUI and navigate to the Role Based Access Control page.

**Create the new permission**

Create a new permission with the following settings

Name: support\_portal\_logout
Operations, RPCs and Facets: \*
Path: \*/acl\_users/logout.html\*

AssignÂ to the existing Authenticated Role

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/9b89e23c-42b4-45ad-9a54-3c2ead626a3f/Screenshot+2024-03-18+at+18.52.37.png)

Select the new permission from the dropdown and click the Save button.
The new permission becomes active after the cache is renewed (default 60 seconds). It is not required to logout existing user sessions.

![](https://images.squarespace-cdn.com/content/v1/5ece2ac40514bb77afb1018d/8fb0481b-5c12-4c10-ad5a-db7fa2a72e72/2024-Axiros+Horizontal+Logo-Dark+Bg-RGB+%281%29+%281%29.png)

**Company**

[At A Glance](/at-a-glance)
[Press Kit](/press-kit)
[Contact Us](/contact-form)

**Portfolio**

[Solutions](/solutions)
[Products](/products)
[Value Proposition](/value-proposition)

**Legal**

[Data Protection](/data-protection)
[Legal Information](/legal-information)
[Code Of Conduct](/code-of-conduct)

---

Â© 2025 Axiros GmbH - Lasting Advantage.

Scroll

![](https://px.ads.linkedin.com/collect/?pid=7889793&fmt=gif)

