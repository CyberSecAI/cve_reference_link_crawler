<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes">


<title>The Fabasoft Cloud Enterprise Client</title>
<meta name="mes-date" content="20.12.2024" />
<meta name="mes-category" content="Software Product Information" />
<meta name="mes-language" content="English" />
<meta name="mes-product" content="Fabasoft Cloud" />

<script type="text/javascript">
  /* <![CDATA[ */
  if (typeof String.prototype.startsWith != 'function') {
    String.prototype.startsWith = function(str) {
      return this.substring(0, str.length) === str;
    }
  };
  
  var images = new Array();
  function preload() {
    for (i = 0; i < preload.arguments.length; i++) {
      images[i] = new Image()
      images[i].src = preload.arguments[i]
    }
  }
  preload(
  "images/ArrowLeft-SVG.svg",
  "images/ArrowRight-SVG.svg"
  )
  /* ]]> */
</script>

<script type="text/javascript" src="js/help.js"></script>
<script type="text/javascript">/*<![CDATA[*/__apmcfg={id:"APM31777",ts:new Date(),url:"https://at.cloud.fabasoft.com/feedback/",apptype:"html",timing:false};(function(d, t, c) {var s, scr, id = '__apm_script';if (!d.getElementById(id)) {s = d.createElement(t);s.async = true;s.src = ('https:' === d.location.protocol ? c.url.replace(/^(http:)?\/\//, 'https://') : c.url) + (c.lb || 'v1') + '/web.telemetry?RESOURCE&file=apm.js';s.id = id;scr = d.getElementsByTagName(t)[0];scr.parentNode.insertBefore(s, scr);}}(document, 'script', __apmcfg));/*]]>*/</script>
<link rel="stylesheet" href="styles/stylesFabasoft.css" type="text/css" />

<script type="text/javascript">
  /* <![CDATA[ */
  $.ajaxSetup({ cache: false });
  var g_isstandalone = true;
  var g_title = "Fabasoft Cloud";
  var g_mbid = "at#COO.6505.100.1.70519#help.cloud.fabasoft.com";
  var g_baseurl = "https://help.cloud.fabasoft.com/index.php?topic=";
  var g_docinfo = {};
  var g_chapterinfo = {};
  g_page_initial = getUrlParams()["topic"];
  var g_highlight = null;
  
  var g_anchor = window.location.hash.substr(1);
  var g_browserlang = navigator.language || navigator.browserLanguage;
  var g_ger = new Array("Suche", "z", "w", "Vorherige Seite", "Nächste Seite", "index_de.htm", "Suchergebnis", "de", "Dieser Inhalt wurde leider nicht gefunden. Zur weiteren Recherche steht Ihnen das Suchfeld zur Verfügung.", "Impressum<span class='FscAcc'>: neues Fenster</span>", "https://www.fabasoft.com/de/impressum", "Suche starten", "Hauptnavigation", "Pfad", "2", "Bildansicht", "Schließen","5","Seitenbereiche","Zum Inhalt (Alt + 2)", "Zum Inhaltsverzeichnis (Alt + 5)");
  var g_eng = new Array("Search", "p", "n", "Previous Page", "Next Page", "index_en.htm", "Search Result", "en", "Unfortunately this content could not be found. The search field is available for further research.", "Imprint<span class='FscAcc'>: new window</span>", "https://www.fabasoft.com/en/imprint", "Start Search", "Main Navigation", "Path", "2", "Image View", "Close","5","Page Areas","To the content (Alt + 2)", "To the table of contents (Alt + 5)");
  
  if (g_browserlang && g_browserlang.length >= 2 && g_browserlang.toLowerCase().substring(0, 2) === "de") {
    g_browserlang = "de";
  }
  else {
    g_browserlang = "en";
  }
  
  
  window.addEventListener('popstate', function(event) {
    doWorkBasedOnHistory();
  });
  /* ]]> */
</script>
</head>
<body onload="init()">
  <nav id="siteNavigation" class="FscAcc">
    <a id="contentSkipLink" href="#maincontent" onclick="focusContent()"></a><br>
    <a id="tocSkipLink" href="#treeId" onclick="focusTree()"></a>
  </nav>
  <div id="FscPageWrapper" class="FscPageWrapper">
    <header id="headerbar" class="FscTopBarWrapper">
      <div class="FscTopBarLeft">
        <a tabindex="-1" aria-hidden="true" href="https://help.cloud.fabasoft.com/index.php"><img src="images/Fabasoft-Cloud.svg" class="FscLogo" alt="Home" title="Home"></a>
      </div>
      <div class="FscTopBarRight">
        <a href="https://help.cloud.fabasoft.com/index.php"><img class="FscCloudLogo" src="images/CloudSymbol-SVG.svg" alt="Home" title="Home"></a>
        <div class="FscServiceBlock">
          <div class="FscService">
            <ul>
              
              <li class="FscFontSizeSmall FscServiceEntry FscBtn"><a href="#" id="support" class="apm-feedback-button" data-formid="FORM42970" lang="en">Support</a></li>
              <li class="FscFontSizeSmall FscServiceEntry FscBtn"><a href="https://www.fabasoft.com/en/imprint" target="_blank" id="imprint">Imprint<span class="FscAcc">: new window</span></a></li>
            </ul>
            <div class="FscFontSizeSmall FscServiceEntry ">2024 December Release</div>
          </div>
          <div id="mainSearch">
            <form class="mb_queryfield center search-field mb-print-left" role="search" data-template="searchform" data-requires-user-input="true">
              <script type="text/x-mustache-template" data-tag-name="label" data-class-name="mb-acc" data-attr-for="query">{{i18n.search}}</script>
              <input size="1" data-template="suggest" data-disabled="true" data-placeholder="search" data-shortcut="alt+1" id="search" class="mb-query mb-role" name="query" type="search" data-property="headings" data-source="DOCUMENT_PROPERTY" data-grouped="true" data-show-onfocus="true"/>
              <button type="button"><img id="searchimg" class="FscSearchIcon" src="images/FindEmbedded-SVG.svg" alt="Start Search" title="Start Search"/></button>
            </form>
          </div>
        </div>
      </div>
    </header>
    <nav id="NavWrapper" aria-labelledby="mainNav" class="FscNavigationPanel" tabindex="-1">
      <h2 id="mainNav" class="FscFontBlank">Main Navigation</h2>
      <div id="treeId" aria-labelledby="mainNav"><div style="display:none;"><ul><li id='g0'><a href='#'>Fabasoft Cloud</a><ul><li id='d0'><a href='doc/Whats-New-in-the-Fabasoft-Cloud-ger/index.htm'>What's New in the Fabasoft Cloud (ger)</a></li><li id='d1'><a href='doc/Whats-New-in-the-Fabasoft-Cloud-eng/index.htm'>What's New in the Fabasoft Cloud (eng)</a></li><li id='d2'><a href='doc/Benutzerhilfe-Fabasoft-Cloud-ger/index.htm'>Benutzerhilfe Fabasoft Cloud (ger)</a></li><li id='d3'><a href='doc/User-Help-Fabasoft-Cloud-eng/index.htm'>User Help Fabasoft Cloud (eng)</a></li><li id='d4'><a href='doc/Administrationshilfe-Fabasoft-Cloud-ger/index.htm'>Administrationshilfe Fabasoft Cloud (ger)</a></li><li id='d5'><a href='doc/Administration-Help-Fabasoft-Cloud-eng/index.htm'>Administration Help Fabasoft Cloud (eng)</a></li><li id='d6'><a href='doc/SPI-Fabasoft-Cloud-ger/index.htm'>SPI Fabasoft Cloud (ger)</a></li><li id='d7'><a href='doc/SPI-Fabasoft-Cloud-eng/index.htm'>SPI Fabasoft Cloud (eng)</a></li><li id='d8'><a href='doc/SPI-Fabasoft-Cloud-Professional-Enterprise-Superior-ger/index.htm'>SPI Fabasoft Cloud Professional, Enterprise, Superior (ger)</a></li><li id='d9'><a href='doc/SPI-Fabasoft-Cloud-Professional-Enterprise-Superior-eng/index.htm'>SPI Fabasoft Cloud Professional, Enterprise, Superior (eng)</a></li><li id='d10'><a href='doc/SPI-Fabasoft-Cloud-Virtual-Development-Environment-ger/index.htm'>SPI Fabasoft Cloud Virtual Development Environment (ger)</a></li><li id='d11'><a href='doc/SPI-Fabasoft-Cloud-Virtual-Development-Environment-eng/index.htm'>SPI Fabasoft Cloud Virtual Development Environment (eng)</a></li><li id='d12'><a href='doc/Technische-Informationen-ger/index.htm'>Technische Informationen (ger)</a></li><li id='d13'><a href='doc/Technical-Information-eng/index.htm'>Technical Information (eng)</a></li><li id='d14'><a href='doc/Open-Source-Lizenzen---Fabasoft-Softwareprodukte-ger/index.htm'>Open-Source-Lizenzen - Fabasoft Softwareprodukte (ger)</a></li><li id='d15'><a href='doc/Open-Source-Licenses---Fabasoft-Software-Products-eng/index.htm'>Open Source Licenses - Fabasoft Software Products (eng)</a></li></ul></li><li id='g1'><a href='#'>Mobile App</a><ul><li id='d16'><a href='doc/Whats-New-in-the-Fabasoft-Cloud-App-eng/index.htm'>What's New in the Fabasoft Cloud App (eng)</a></li><li id='d17'><a href='doc/User-Help-Fabasoft-Cloud-App-eng/index.htm'>User Help Fabasoft Cloud App (eng)</a></li></ul></li><li id='g2'><a href='#'>Fabasoft Approve</a><ul><li id='d18'><a href='doc/Whats-New-Fabasoft-Approve-ger/index.htm'>What's New Fabasoft Approve (ger)</a></li><li id='d19'><a href='doc/Whats-New-Fabasoft-Approve-eng/index.htm'>What's New Fabasoft Approve (eng)</a></li><li id='d20'><a href='doc/Benutzerhilfe-Fabasoft-Approve-ger/index.htm'>Benutzerhilfe Fabasoft Approve (ger)</a></li><li id='d21'><a href='doc/User-Help-Fabasoft-Approve-eng/index.htm'>User Help Fabasoft Approve (eng)</a></li><li id='d22'><a href='doc/SPI-Fabasoft-Approve-ger/index.htm'>SPI Fabasoft Approve (ger)</a></li><li id='d23'><a href='doc/SPI-Fabasoft-Approve-eng/index.htm'>SPI Fabasoft Approve (eng)</a></li><li id='d24'><a href='doc/IAM-Integration/index.htm'>IAM Integration</a></li><li id='d25'><a href='doc/Microsoft-Graph-E-Mail-Import/index.htm'>Microsoft Graph E-Mail Import</a></li></ul></li><li id='g3'><a href='#'>Fabasoft Contracts</a><ul><li id='d26'><a href='doc/Whats-New-Fabasoft-Contracts-ger/index.htm'>What's New Fabasoft Contracts (ger)</a></li><li id='d27'><a href='doc/Whats-New-Fabasoft-Contracts-eng/index.htm'>What's New Fabasoft Contracts (eng)</a></li><li id='d28'><a href='doc/Benutzerhilfe-Fabasoft-Contracts-ger/index.htm'>Benutzerhilfe Fabasoft Contracts (ger)</a></li><li id='d29'><a href='doc/User-Help-Fabasoft-Contracts-eng/index.htm'>User Help Fabasoft Contracts (eng)</a></li><li id='d30'><a href='doc/SPI-Fabasoft-Contracts-ger/index.htm'>SPI Fabasoft Contracts (ger)</a></li><li id='d31'><a href='doc/SPI-Fabasoft-Contracts-eng/index.htm'>SPI Fabasoft Contracts (eng)</a></li><li id='d32'><a href='doc/SPI-Fabasoft-DORA-ger/index.htm'>SPI Fabasoft DORA (ger)</a></li><li id='d33'><a href='doc/SPI-Fabasoft-DORA-eng/index.htm'>SPI Fabasoft DORA (eng)</a></li></ul></li><li id='g4'><a href='#'>Fabasoft Personnel File</a><ul><li id='d34'><a href='doc/Whats-New-Fabasoft-Personalakte-ger/index.htm'>What's New Fabasoft Personalakte (ger)</a></li><li id='d35'><a href='doc/Whats-New-Fabasoft-Personnel-File-eng/index.htm'>What's New Fabasoft Personnel File (eng)</a></li><li id='d36'><a href='doc/Benutzerhilfe-Fabasoft-Personalakte-ger/index.htm'>Benutzerhilfe Fabasoft Personalakte (ger)</a></li><li id='d37'><a href='doc/User-Help-Fabasoft-Personnel-File-eng/index.htm'>User Help Fabasoft Personnel File (eng)</a></li><li id='d38'><a href='doc/Erste-Schritte-Fabasoft-Personalakte/index.htm'>Erste Schritte Fabasoft Personalakte</a></li><li id='d39'><a href='doc/SPI-Fabasoft-Personalakte-ger/index.htm'>SPI Fabasoft Personalakte (ger)</a></li><li id='d40'><a href='doc/SPI-Fabasoft-Personnel-File-eng/index.htm'>SPI Fabasoft Personnel File (eng)</a></li></ul></li><li id='g5'><a href='#'>Boards</a><ul><li id='d41'><a href='doc/Whats-New-Boards-ger/index.htm'>What's New Boards (ger)</a></li><li id='d42'><a href='doc/Whats-New-Boards-eng/index.htm'>What's New Boards (eng)</a></li><li id='d43'><a href='doc/Benutzerhilfe-Boards-ger/index.htm'>Benutzerhilfe Boards (ger)</a></li><li id='d44'><a href='doc/SPI-Boards-on-Fabasoft-PROCECO-ger/index.htm'>SPI Boards on Fabasoft PROCECO (ger)</a></li></ul></li><li id='g6'><a href='#'>Oblivation</a><ul><li id='d45'><a href='doc/User-Help-Oblivation-eng/index.htm'>User Help Oblivation (eng)</a></li><li id='d46'><a href='doc/SPI-Oblivation-on-Fabasoft-PROCECO-ger/index.htm'>SPI Oblivation on Fabasoft PROCECO (ger)</a></li><li id='d47'><a href='doc/SPI-Oblivation-on-Fabasoft-PROCECO-eng/index.htm'>SPI Oblivation on Fabasoft PROCECO (eng)</a></li></ul></li><li id='g7'><a href='#'>OneGov GEVER</a><ul><li id='d48'><a href='doc/Whats-New-OneGov-GEVER-ger/index.htm'>What's New OneGov GEVER (ger)</a></li><li id='d49'><a href='doc/Whats-New-OneGov-GEVER-eng/index.htm'>What's New OneGov GEVER (eng)</a></li><li id='d50'><a href='doc/Benutzerhilfe-OneGov-GEVER-ger/index.htm'>Benutzerhilfe OneGov GEVER (ger)</a></li><li id='d51'><a href='doc/SPI-OneGov-GEVER-on-Fabasoft-PROCECO-ger/index.htm'>SPI OneGov GEVER on Fabasoft PROCECO (ger)</a></li></ul></li><li id='g8'><a href='#'>Xpublisher</a><ul><li id='d52'><a href='doc/Whats-New-Publishing-ger/index.htm'>What's New Publishing (ger)</a></li><li id='d53'><a href='doc/Whats-New-Publishing-eng/index.htm'>What's New Publishing (eng)</a></li><li id='d54'><a href='doc/Whats-New-Digital-Asset-Management-ger/index.htm'>What's New Digital-Asset-Management (ger)</a></li><li id='d55'><a href='doc/Whats-New-Digital-Asset-Management-eng/index.htm'>What's New Digital Asset Management (eng)</a></li><li id='d56'><a href='doc/Benutzerhilfe-Publishing-ger/index.htm'>Benutzerhilfe Publishing (ger)</a></li><li id='d57'><a href='doc/User-Help-Publishing-eng/index.htm'>User Help Publishing (eng)</a></li><li id='d58'><a href='doc/Benutzerhilfe-Digital-Asset-Management-ger/index.htm'>Benutzerhilfe Digital-Asset-Management (ger)</a></li><li id='d59'><a href='doc/User-Help-Digital-Asset-Management-eng/index.htm'>User Help Digital Asset Management (eng)</a></li><li id='d60'><a href='doc/SPI-Xpublisher-on-Fabasoft-PROCECO-ger/index.htm'>SPI Xpublisher on Fabasoft PROCECO (ger)</a></li><li id='d61'><a href='doc/SPI-Xpublisher-on-Fabasoft-PROCECO-eng/index.htm'>SPI Xpublisher on Fabasoft PROCECO (eng)</a></li><li id='d62'><a href='doc/Antenna-House-Formatter-ger/index.htm'>Antenna House Formatter (ger)</a></li><li id='d63'><a href='doc/Antenna-House-Formatter-eng/index.htm'>Antenna House Formatter (eng)</a></li><li id='d64'><a href='doc/InDesign-Integration-ger/index.htm'>InDesign Integration (ger)</a></li><li id='d65'><a href='doc/InDesign-Integration-eng/index.htm'>InDesign Integration (eng)</a></li><li id='d66'><a href='doc/Transpect-jats2html-ger/index.htm'>Transpect jats2html (ger)</a></li><li id='d67'><a href='doc/Transpect-jats2html-eng/index.htm'>Transpect jats2html (eng)</a></li></ul></li><li id='g9'><a href='#'>White Papers</a><ul><li id='d68'><a href='doc/CA-and-User-Certificate-Management/index.htm'>CA and User Certificate Management</a></li><li id='d69'><a href='doc/Configuration-of-Single-Sign-On/index.htm'>Configuration of Single Sign-On</a></li><li id='d70'><a href='doc/Digital-Signatures-in-the-Fabasoft-Cloud/index.htm'>Digital Signatures in the Fabasoft Cloud</a></li><li id='d71'><a href='doc/Fabasoft-appducx-Expressions/index.htm'>Fabasoft app.ducx Expressions</a></li><li id='d72'><a href='doc/Fabasoft-Cloud-Client/index.htm'>Fabasoft Cloud Client</a></li><li id='d73'><a href='doc/Fabasoft-Cloud-Web-Services/index.htm'>Fabasoft Cloud Web Services</a></li><li id='d74'><a href='doc/Fabasoft-Cloud-Website-Integration/index.htm'>Fabasoft Cloud Website Integration</a></li><li id='d75'><a href='doc/Fabasoft-Flavored-Markdown/index.htm'>Fabasoft Flavored Markdown</a></li><li id='d76'><a href='doc/Fabasoft-Integration-for-CMIS/index.htm'>Fabasoft Integration for CMIS</a></li><li id='d77'><a href='doc/Fabasoft-Integration-for-Microsoft-Teams/index.htm'>Fabasoft Integration for Microsoft Teams</a></li><li id='d78'><a href='doc/Fabasoft-Integration-for-OData/index.htm'>Fabasoft Integration for OData</a></li><li id='d79'><a href='doc/Fabasoft-Integration-for-WebDAV/index.htm'>Fabasoft Integration for WebDAV</a></li><li id='d80'><a href='doc/Fabasoft-Scrum/index.htm'>Fabasoft Scrum</a></li><li id='d81'><a href='doc/Login-Dialog-Parameters/index.htm'>Login Dialog Parameters</a></li><li id='d82'><a href='doc/Mobile-Device-Management/index.htm'>Mobile Device Management</a></li><li id='d83'><a href='doc/Model-Based-Customizing/index.htm'>Model-Based Customizing</a></li><li id='d84'><a href='doc/Optimized-Updates-for-WebDAV/index.htm'>Optimized Updates for WebDAV</a></li><li id='d85'><a href='doc/Reference-Documentation/index.htm'>Reference Documentation</a></li></ul></li></ul></div></div>
    </nav>
    <div class="FscContentWrapper">
      <div class="FscHeader">
        <noscript>To view this page, JavaScript has to be enabled.</noscript>
        <div id="replaceBreadcrumb">
          <div id="headertitle" aria-hidden="true" class="FscTitle">Home</div>
          <nav aria-labelledby="breadCrumbs" class="FscBreadcrumb FscFontSizeSmall">
            <h2 id="breadCrumbs" class="FscFontBlank">Path</h2>
            <select aria-labelledby="breadCrumbs" id="selectBreadcrumb" class="FscBreadcrumbDropdown">
              <option id="optionBreadcrumb" value="home">Home</option>
            </select>
          </nav>
        </div>
      </div>
      <div tabindex="-1" id="replaceMain" class="FscContentPad">
        <div id="replacecontent" lang="en">
<main class="FscContent" id="maincontent">
<a id="the-fabasoft-cloud-enterprise-client" class="anchor"></a><h1 tabindex="-1">The Fabasoft Cloud Enterprise Client<a href="doc/Technical-Information-eng/the-fabasoft-cloud-enterprise-client.htm" class="lnk FscHeaderLink"><img width="16" height="16" src="images/Hyperlink-SVG.svg" alt="Permanent link for this heading" title="Permanent link for this heading"/></a></h1><p>The ability to install software in a local user profile is often limited in an enterprise environment (e.g. users are not allowed to execute MSI packages or the software must be installed on a terminal server). In this case, you can use the Enterprise Client. This Client is installed for all users on a computer (a so-called &ldquo;per machine&rdquo; installation) and can be distributed centrally by administrators. </p><p>Download the installation package for this client here (respectively <span class="DCourierNew">de.cloud.fabasoft.com</span> or <span class="DCourierNew">ch.cloud.fabasoft.com</span>):</p><p><a href="https://at.cloud.fabasoft.com/folio/fscasp/content/lib/CloudClientEnterprise.msi" target="_blank"><span class="DHyperlink">https://at.cloud.fabasoft.com/folio/fscasp/content/lib/CloudClientEnterprise.msi</span><span class='FscAcc'>: new window</span></a></p><p><span class="DBold">Note:</span> Make sure that the WebView2 Runtime is available on the client (included by default in current versions of Microsoft Windows 10 and 11).</p><p>The optimal browser settings for your users are not set automatically. Thus, administrators must ensure that the settings are rolled out in accordance with the white paper &ldquo;<a href="https://help.cloud.fabasoft.com/index.php?topic=doc/Fabasoft-Cloud-Client/index.htm" target="_blank"><span class="DHyperlink">Fabasoft Cloud Client</span><span class='FscAcc'>: new window</span></a>&rdquo;.</p><p>Installing the Enterprise Client and the Cloud Client on the same computer is not supported.</p></main><div class="FscAdditionalNavigation"><div class="FscFirstPdf" role="region" aria-labelledby="pdfDownload"><h2 id="pdfDownload">Download PDF</h2><ul><li><a target='_blank' href='pdfs/Technical%20Information%20%28eng%29.pdf'>Technical Information (eng)<span class='FscAcc'>: new window</span></a></li></ul></div><nav class="FscNavTopics" aria-labelledby="topics"><h2 id="topics">Further Topics</h2><ul><li><a class="lnk" href="doc/Technical-Information-eng/introduction.htm">Introduction</a></li><li><a class="lnk" href="doc/Technical-Information-eng/supported-platforms.htm">Supported Platforms</a></li><li><a class="lnk" href="doc/Technical-Information-eng/the-fabasoft-cloud-client.htm">The Fabasoft Cloud Client</a></li><li class="FscCurrentTopic" aria-current="page">The Fabasoft Cloud Enterprise Client</li></ul></nav><div class="FscSecondPdf" role="region" aria-labelledby="pdfDownload1"><h2 id="pdfDownload1">Download PDF</h2><ul><li><a target='_blank' href='pdfs/Technical%20Information%20%28eng%29.pdf'>Technical Information (eng)<span class='FscAcc'>: new window</span></a></li></ul></div></div><nav aria-labelledby="fastNav"><h2 id="fastNav" class="FscFontBlank">Fast Navigation</h2><a id='prev' class='lnk FscArrowContentLeft' href='doc/Technical-Information-eng/the-fabasoft-cloud-client.htm' accesskey='p'><img src="images/ArrowLeft-SVG.svg" alt="Previous" title="Previous"></a> </nav>
</div>
      </div>
      <div id="FscM" class="FscMenu FscDispNone" role="menu"></div>
    </div>
  </div>

  
<script type="text/javascript">
/* <![CDATA[ */
$("#search").attr("placeholder", getString(0));
$("#search").attr("aria-label", getString(0));
$("#searchimg").attr("alt", getString(11));
$("#searchimg").attr("title", getString(11));
$("#mbicon").attr("alt", getString(0));
$("#mblabel").html(getString(0));
$("#imprint").html(getString(9));
$("#imprint").attr("href", getString(10));
$("#support").attr("lang", getString(7));
$("#headerbar").attr("lang", getString(7));
$("#mainNav").html(getString(12));
$("#breadCrumbs").html(getString(13));
$("html").attr("lang", getString(7));
$("#siteNavigation").attr("aria-label", getString(18));
$("#contentSkipLink").html(getString(19));
$("#tocSkipLink").html(getString(20));

$(function () {

  $('#treeId').jstree({
    'core' : {
      'multiple' : false,
      'themes' : {
        'icons' : false
      },
      'data' : {
        'url' : function (node) {
          if(node.id === '#') {
            return 'root.json';
          }
          else {
            var url = node.a_attr.href.replace("doc/", "documents/");
            var toc; 
            if(url.indexOf("=") != -1) {
              toc = url.substring(url.lastIndexOf("=") + 1, url.lastIndexOf("/")) + "/toc.json";
            }
            else{
              toc = url.substring(0, url.lastIndexOf("/")) + "/toc.json";
            }
            
            var doc = node.a_attr.href.replace("doc/", "");
            if(doc.indexOf("/") != -1) {
              doc = doc.substring(0, doc.indexOf("/"));
            }
            return toc;
          }
        },
        'data' : function (node) {
          return { 'id' : node.id };
        }
      }
    }
  }).bind("select_node.jstree", function (event, data) { 
    //console.log("SELECT_NODE.JSTREE");
    var breadNames = $.jstree.reference('#treeId').get_path(data.node, '', false);
    var breadIds = $.jstree.reference('#treeId').get_path(data.node, '', true);
    var breadcrumb = getBreadcrumbs(breadIds, breadNames);
    var id = data.node.id;
    var url = data.node.a_attr.href;
    var showurl = url;

    if(url.indexOf("index.htm?topic=") != -1) {
      showurl = url.substr(url.indexOf("=") + 1);
    }

    // # identifies folders 
    if(url != "#") {
      try {
        var title = breadNames[breadNames.length-1];
        $("title").html(title);
        
        if(!g_first1) {           
          history.pushState({info:new Array(breadcrumb, id, url, title)}, g_title, "?topic=" + showurl);
        }
        else{
          history.replaceState({info:new Array(breadcrumb, id, url, title)}, g_title, "?topic=" + showurl);
        }
        
        doWorkBasedOnHistory();
       
      } catch (e) {
        doWork(breadcrumb, id, url);
      }
    }
    else {
      $("#treeId").jstree("toggle_node", data.node);
    }
    g_first1 = false;  
  }).bind("ready.jstree", function (event, data) {
    //console.log("READY.JSTREE");
    
    // maps document URLs to the corresponding IDs
    makeDocMapping("treeId");

    if(g_first){
      // if URL parameters define a page that should be opened
      if(g_page_initial) {
        if(g_page_initial.lastIndexOf("doc/Search-Result/") != -1) {
          var query = getUrlParams().q;
          openSearchResult(query);
        }
        else {
          openPath("treeId", g_page_initial, true);
        }
      }
    }
    g_first = false;
  });
});

$(document).on('click', 'a.bc', function(e) {
  e.preventDefault();
  var url = $(this).attr("href");
  openBc(url.substring(1, url.length));
});

$(document).on('click', 'a.lnk', function(e) {
  e.preventDefault();
  var url = $(this).attr("href");

  g_anchor = getAnchor(url);
  if (strStartsWith(url, '#')) {
    jumpToAnchor(g_anchor);
    g_anchor = "";
  }
  else {
    openPath("treeId", url, true);
  }
});

$(document).on('click', 'a.slnk', function(e) {
  e.preventDefault();
  var url = $(this).attr("href");
  if (strStartsWith(url.toLowerCase(), g_baseurl)) {
    if (e.shiftKey || e.metaKey || e.ctrlKey) {
      window.open(url, '_blank');
    }
    else {
      var topic = url.replace(g_baseurl, "");
      var query = getUrlParams()["q"];
      if (query) {
        g_highlight = query;
      }
      openPath("treeId", topic, true);
    }
  }
  else {
    window.open(url, '_blank');
  }
});

/*
function showResult(url) {
  if(strStartsWith(url.toLowerCase(), g_baseurl)) {
    var topic = url.replace(g_baseurl, "");
    var query = getUrlParams()["q"];
    if (query) {
      g_highlight = query;
    }
    openPath("treeId", topic, true);
  }
  else {
    window.open(url, '_self');
  }
}
*/

//$(document).on('click', 'button.accordion', function(e) {
//  $(this).toggleClass("active");
//  $(this).next().toggleClass("show");
//});

$(document).on('change', '#selectBreadcrumb', function(e) {
setTimeout( function() {
  var nodeId = e.currentTarget.value;
  // "home" is the ID of Home
  if (nodeId === "home") {
    window.open(location.protocol + '//' + location.host + location.pathname, '_self');
  }
  else {
    openBc(nodeId);
  }
}, 50);
});

$('.mb_queryfield input').focus(function() {
  $("#maincontent").removeHighlight();
});

$("form.mb_queryfield").on("submit", function (e) {
  e.preventDefault();
  openSearchResult();
});

$("form.mb_queryfield button").on("click", function (e) {
  e.preventDefault();
  openSearchResult();
});

$(document).on('click', 'a#prev', function(e) {
  document.getElementById('replaceMain').scrollTop = 0;
  document.getElementById('FscPageWrapper').scrollTop = 0;
});

$(document).on('click', 'a#next', function(e) {
  document.getElementById('replaceMain').scrollTop = 0;
  document.getElementById('FscPageWrapper').scrollTop = 0;
});

//Lightbox v2.11.2 by Lokesh Dhakar; More info: http://lokeshdhakar.com/projects/lightbox2/
//Copyright Lokesh Dhakar; Released under the MIT license; https://github.com/lokesh/lightbox2/blob/master/LICENSE
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,d,a){b instanceof String&&(b=String(b));for(var c=b.length,e=0;e<c;e++){var k=b[e];if(d.call(a,k,e,b))return{i:e,v:k}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,a){if(b==Array.prototype||b==Object.prototype)return b;b[d]=a.value;return b};$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<b.length;++d){var a=b[d];if(a&&a.Math==Math)return a}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,d){var a=$jscomp.propertyToPolyfillSymbol[d];if(null==a)return b[d];a=b[a];return void 0!==a?a:b[d]};
$jscomp.polyfill=function(b,d,a,c){d&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,d,a,c):$jscomp.polyfillUnisolated(b,d,a,c))};$jscomp.polyfillUnisolated=function(b,d,a,c){a=$jscomp.global;b=b.split(".");for(c=0;c<b.length-1;c++){var e=b[c];if(!(e in a))return;a=a[e]}b=b[b.length-1];c=a[b];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:d})};
$jscomp.polyfillIsolated=function(b,d,a,c){var e=b.split(".");b=1===e.length;c=e[0];c=!b&&c in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var k=0;k<e.length-1;k++){var l=e[k];if(!(l in c))return;c=c[l]}e=e[e.length-1];a=$jscomp.IS_SYMBOL_NATIVE&&"es6"===a?c[e]:null;d=d(a);null!=d&&(b?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:d}):d!==a&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(c,e,{configurable:!0,writable:!0,value:d})))};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(d,a){return $jscomp.findInternal(this,d,a).v}},"es6","es3");
(function(b,d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d(require("jquery")):b.lightbox=d(b.jQuery)})(this,function(b){function d(a){this.album=[];this.currentImageIndex=void 0;this.init();this.options=b.extend({},this.constructor.defaults);this.option(a)}d.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,
wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1};d.prototype.option=function(a){b.extend(this.options,a)};d.prototype.imageCountLabel=function(a,c){return this.options.albumLabel.replace(/%1/g,a).replace(/%2/g,c)};d.prototype.init=function(){var a=this;b(document).ready(function(){a.enable();a.build()})};d.prototype.enable=function(){var a=this;b("body").on("keydown",function(c){if(a.$lightbox.is(":visible")&&!b.contains(a.$lightbox.get(0),c.target))return a.$closeButton[0].focus(),!1});b("body").on("keydown",
"a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){var e=c.keyCode||c.which;if(32==e||13===e)return a.start(b(c.currentTarget)),!1}).on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){a.start(b(c.currentTarget));return!1})};d.prototype.build=function(){if(!(0<b("#lightbox").length)){var a=this;b('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" role="dialog" aria-modal="true" aria-label="'+
getString(15)+'" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" aria-label="Previous image" href="" role="button" tabindex="0"></a><a class="lb-next" aria-label="Next image" href="" role="button" tabindex="0"></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span aria-live="polite" class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" href="#" tabindex="0" role="button" aria-label="'+
getString(16)+'"></a></div></div></div></div></div>').appendTo(b("body"));this.$lightbox=b("#lightbox");this.$overlay=b("#lightboxOverlay");this.$outerContainer=this.$lightbox.find(".lb-outerContainer");this.$container=this.$lightbox.find(".lb-container");this.$image=this.$lightbox.find(".lb-image");this.$nav=this.$lightbox.find(".lb-nav");this.$closeButton=this.$lightbox.find(".lb-close");this.navPressed=0;this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),
10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)};this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)};this.$overlay.hide().on("click",function(){a.end();return!1});this.$lightbox.hide().on("click",function(c){"lightbox"===b(c.target).attr("id")&&
a.end()});this.$outerContainer.on("click",function(c){"lightbox"===b(c.target).attr("id")&&a.end();return!1});this.$lightbox.find(".lb-prev").on("click",function(){0===a.currentImageIndex?a.changeImage(a.album.length-1):a.changeImage(a.currentImageIndex-1);a.navPressed=1;return!1});this.$lightbox.find(".lb-next").on("click",function(){a.currentImageIndex===a.album.length-1?a.changeImage(0):a.changeImage(a.currentImageIndex+1);a.navPressed=2;return!1});this.$nav.on("mousedown",function(c){3===c.which&&
(a.$nav.css("pointer-events","none"),a.$lightbox.one("contextmenu",function(){setTimeout(function(){this.$nav.css("pointer-events","auto")}.bind(a),0)}))});this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){a.end();return!1})}};d.prototype.start=function(a){function c(h){e.album.push({alt:h.attr("data-alt"),link:h.attr("href"),title:h.attr("data-title")||h.attr("title")})}this.$initialLink=a;this.$lightbox.attr("aria-hidden","false");var e=this,k=b(window);k.on("resize",b.proxy(this.sizeOverlay,
this));this.sizeOverlay();this.album=[];var l=0,g=a.attr("data-lightbox");if(g){g=b(a.prop("tagName")+'[data-lightbox="'+g+'"]');for(var f=0;f<g.length;f=++f)c(b(g[f])),g[f]===a[0]&&(l=f)}else if("lightbox"===a.attr("rel"))c(a);else for(g=b(a.prop("tagName")+'[rel="'+a.attr("rel")+'"]'),f=0;f<g.length;f=++f)c(b(g[f])),g[f]===a[0]&&(l=f);a=k.scrollTop()+this.options.positionFromTop;k=k.scrollLeft();this.$lightbox.css({top:a+"px",left:k+"px"}).fadeIn(this.options.fadeDuration);this.options.disableScrolling&&
b("body").addClass("lb-disable-scrolling");this.changeImage(l)};d.prototype.changeImage=function(a){b("body").attr("aria-busy","true");var c=this,e=this.album[a].link,k=e.split(".").slice(-1)[0],l=this.$lightbox.find(".lb-image");this.disableKeyboardNav();this.$overlay.fadeIn(this.options.fadeDuration);b(".lb-loader").fadeIn("slow");this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide();this.$outerContainer.addClass("animating");var g=new Image;
g.onload=function(){l.attr({alt:c.album[a].alt,src:e});b(g);l.width(g.width);l.height(g.height);var f=b(window).width();var h=b(window).height();f=f-c.containerPadding.left-c.containerPadding.right-c.imageBorderWidth.left-c.imageBorderWidth.right-20;h=h-c.containerPadding.top-c.containerPadding.bottom-c.imageBorderWidth.top-c.imageBorderWidth.bottom-c.options.positionFromTop-70;"svg"===k&&(l.width(f),l.height(h));c.options.fitImagesInViewport?(c.options.maxWidth&&c.options.maxWidth<f&&(f=c.options.maxWidth),
c.options.maxHeight&&c.options.maxHeight<h&&(h=c.options.maxHeight)):(f=c.options.maxWidth||g.width||f,h=c.options.maxHeight||g.height||h);if(g.width>f||g.height>h)g.width/f>g.height/h?(h=f,f=parseInt(g.height/(g.width/h),10)):(f=h,h=parseInt(g.width/(g.height/f),10)),l.width(h),l.height(f);c.sizeContainer(l.width(),l.height())};g.src=this.album[a].link;this.currentImageIndex=a};d.prototype.sizeOverlay=function(){var a=this;setTimeout(function(){a.$overlay.width(b(document).width()).height(b(document).height())},
0)};d.prototype.sizeContainer=function(a,c){function e(){k.$lightbox.find(".lb-dataContainer").width(f);k.$lightbox.find(".lb-prevLink").height(h);k.$lightbox.find(".lb-nextLink").height(h);k.showImage()}var k=this,l=this.$outerContainer.outerWidth(),g=this.$outerContainer.outerHeight(),f=a+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,h=c+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;
l!==f||g!==h?this.$outerContainer.animate({width:f,height:h},this.options.resizeDuration,"swing",function(){e()}):e()};d.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide();this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration);this.updateNav();this.updateDetails();this.preloadNeighboringImages();this.enableKeyboardNav()};d.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(c){}1<
this.album.length?(this.$lightbox.find(".lb-nav").show(),this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(0<this.currentImageIndex&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1")))):this.$lightbox.find(".lb-nav").hide()};d.prototype.updateDetails=
function(){var a=this;if("undefined"!==typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title){var c=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?c.text(this.album[this.currentImageIndex].title):c.html(this.album[this.currentImageIndex].title);c.fadeIn("fast")}1<this.album.length&&this.options.showImageNumberLabel?(c=this.imageCountLabel(this.currentImageIndex+1,this.album.length),this.$lightbox.find(".lb-number").text(c).fadeIn("fast")):this.$lightbox.find(".lb-number").hide();
this.$outerContainer.removeClass("animating");b("body").attr("aria-busy","false");this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){1==a.navPressed&&a.$lightbox.find(".lb-prev:visible").length?a.$lightbox.find(".lb-prev:visible").focus():2==a.navPressed&&a.$lightbox.find(".lb-next:visible").length?a.$lightbox.find(".lb-next:visible").focus():a.$closeButton.focus();a.navPressed=0;return a.sizeOverlay()})};d.prototype.preloadNeighboringImages=function(){this.album.length>
this.currentImageIndex+1&&((new Image).src=this.album[this.currentImageIndex+1].link);0<this.currentImageIndex&&((new Image).src=this.album[this.currentImageIndex-1].link)};d.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",b.proxy(this.keyboardAction,this));this.$overlay.on("keyup.keyboard",b.proxy(this.keyboardAction,this));this.$lightbox.on("keydown",b.proxy(this.keydown,this))};d.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard");this.$overlay.off(".keyboard")};
d.prototype.keydown=function(a){if(9===(a.keyCode||a.which)){var c=this.$lightbox.find("[tabindex=0]:visible");a.shiftKey?c.first().is(":focus")&&(c.last().focus(),a.preventDefault()):c.last().is(":focus")&&(c.first().focus(),a.preventDefault())}};d.prototype.keyboardAction=function(a){var c=a.keyCode;27===c?(a.stopPropagation(),this.end()):37===c?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&1<this.album.length&&this.changeImage(this.album.length-
1):39===c&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&1<this.album.length&&this.changeImage(0))};d.prototype.end=function(){this.$initialLink.focus();this.disableKeyboardNav();b(window).off("resize",this.sizeOverlay);this.$lightbox.fadeOut(this.options.fadeDuration);this.$overlay.fadeOut(this.options.fadeDuration);this.$lightbox.attr("aria-hidden","true");this.options.disableScrolling&&b("body").removeClass("lb-disable-scrolling")};
return new d});

/* ]]> */
</script>

<script type='text/javascript' src='//apps.mindbreeze.com/insite/apps/scripts/client.js'></script>
<script>
/* <![CDATA[ */
  Mindbreeze.require(["client/application", "component!suggest", "underscore"], function(Application, Suggest, _) {

    var application = new Application({
      rootEl: document.getElementById("mainSearch"),
      enableProfile: false,
      enableSourceInfo: false,
      enableUserSourceInfo: false
    });

    application.execute(function (application) {
      application.models.search.set("source_context.constraints.tentant", { unparsed: "tenantid:" + g_mbid }, { silent: true })
    });

    var original_handleKeypress = Suggest.View.prototype.handleKeypress;
    Suggest.View.prototype.handleKeypress = function (e, traceContext) {
      if (e.keyCode === 13) {
        this.$el.autocomplete("close");
        this.$el.data("uiAutocomplete").disable();
        openSearchResult();
        e.preventDefault();
        return false;
      } 
      this.$el.autocomplete("enable");
    };
    
    var originalViewInitialize = Suggest.View.prototype.initialize;
    Suggest.View.prototype.initialize = function()
    {
      originalViewInitialize.apply(this, arguments);
      var parentEl = this.$el.parent();
      var parentWidth = parentEl.width();
      var parentUl = $('body').find("ul.ui-autocomplete")
      var that = this;
      this.$el.autocomplete({
        appendTo: this.$el.parent(),
        open: function()
        {
          parentUl.attr("style", "width:" + parentWidth + "px");
          parentUl.removeAttr("tabindex");
          parentUl.find("[tabindex]").each(function()
          {
            this.removeAttribute("tabindex");
          });
          parentUl.find("button").each(function()
          {
            this.setAttribute("tabindex", "-1");
          });
        }
      });
    };
    
    var original__triggerSelect = Suggest.View.prototype._triggerSelect;
    Suggest.View.prototype._triggerSelect = function (event, data, traceContext, options) {
      options = options || {};

      var that = this;
      var value = _.escape(that.el.value);
      var usedAutocomplete = !!data;

      if (data && data.item && data.item.value) {
        value = data.item.value;
        that.el.value = value;
      }
      if (!options.silent && that.options.parentView && that.options.parentView.submit) {
        that.submittedValue = value;
        
        var selectedTab = this.options.application.models.tabs.getSelectedTab();
        if (selectedTab && data && data.item && data.item.category != selectedTab.id ) {
          options.changeViewValue = data.item.tabID;
        }

        openSearchResult();
        //that.options.parentView.submit(event, traceContext, that.submittedValue, usedAutocomplete, options);
      }
    };
  });
  
  $(document).ajaxError(function(event, jqxhr, settings, thrownError) {
    if (jqxhr.status === 0) {
      location.reload();
    }
  });

  /*
  Mindbreeze.require(["jquery", "component!results", "i18n/i18n"], function ($, ResultsComponent, i18n) {
    var ScrollSpyMini = function (scrollContainer, scrollTarget) {
      var that = this;

      if (scrollContainer.get(0) === document || scrollContainer.is("body")) scrollContainer = window;

      this.$scrollTarget = $(scrollTarget)
      this.$scrollTarget.on("focus", function () {
        that.activate(that.$scrollTarget);
      });
      
      var callback = _.bind(this.process, this);
      this.$scrollContainer = $(scrollContainer).on("scroll.mb.scroll-spy-mini.data-api", callback);
      $(window).on("resize.mb.scroll-spy-mini.data-api", callback);
      this.process();
    }
    ;
    _.extend(ScrollSpyMini.prototype, {

      pageY: function(elem) {
        return elem.offsetParent ? (elem.offsetTop + this.pageY(elem.offsetParent)) : elem.offsetTop;
      },


      process: function () {
        if (!this.$scrollTarget.is(":visible")) return; // we don't want to page, if the element is not visible

        var scrollTop    = this.$scrollContainer.scrollTop();
        var $el = this.$scrollTarget;
        var offsetMethod = this.$scrollContainer[0] == window ? 'offset' : 'position'
        
        // var offset = $el[offsetMethod]().top + (!$.isWindow(this.$scrollContainer.get(0)) && this.$scrollContainer.scrollTop());
        var offset = $el[offsetMethod]().top;
        if (!$.isWindow(this.$scrollContainer.get(0))) {
          var pageYContainer = this.pageY(this.$scrollContainer.get(0));
          var pageYEl = this.pageY($el.get(0));
          offset = pageYEl - pageYContainer;
        }
        var bottomOffset = offset - this.$scrollContainer.outerHeight();

        if (scrollTop >= bottomOffset) {
          this.activate($el);
          return;
        }
      },

      activate: function (target) {
        target.trigger('activate')
      },

      destroy: function () {
        // what about multiple instances?
        this.$scrollContainer.off("scroll.mb.scroll-spy-mini.data-api");
        $(window).off("resize.mb.scroll-spy-mini.data-api");
      }
    });

    ResultsComponent.View.prototype.scrollPlaceholderAvailable = function() {
      return true;
    },

    ResultsComponent.View.prototype.appendScrollPlaceholderAndCreateScrollSpy = function() {
      var that = this;
      this.appendScrollPlaceholderEl();

      $(this.scrollPlaceholder).on("activate", function (e) {
        $(this.scrollPlaceholder).off("activate");
        that.page();
      });

      this.scrollspy = new ScrollSpyMini($(this.scrollPlaceholder).scrollParent(), this.scrollPlaceholder);
    },    

    ResultsComponent.View.prototype.appendScrollPlaceholder = function () {
      if (this._removed || this.scrollPlaceholder) return;

      this.scrollPlaceholder = this.make(
        "h3",
        {
          "tabindex": "0",
          "class": "mb-scroll-placeholder mb-center mb-no-print"
        },
        '<div role="button" class="mb-pulse">' + i18n("loading_more_results") + '</div>'
        );

      if (this.scrollPlaceholderAvailable()) {
        this.appendScrollPlaceholderAndCreateScrollSpy();
      }
      else {
        this.once("scrollplaceholderavailable", this.appendScrollPlaceholderAndCreateScrollSpy, this);
      }
    }


    ResultsComponent.View.prototype.appendScrollPlaceholderEl = function () {
      this.appendChild(this.scrollPlaceholder, true);
    }
  });
  */
/* ]]> */
</script>





</body>
</html>
