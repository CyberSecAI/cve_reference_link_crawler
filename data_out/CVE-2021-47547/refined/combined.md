=== Content from git.kernel.org_b28144fb_20250111_064846.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 08:50:12 +0100 |
| commit | [2c1a6a9a011d622a7c61324a97a49801ba425eff](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)) | |
| tree | [aa2242d1ee40e9fa1d1b3ddded0d7f580be82853](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff) | |
| parent | [dd07f8971b81ad98cc754b179b331b57f35aa1ff](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd07f8971b81ad98cc754b179b331b57f35aa1ff) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff&id2=dd07f8971b81ad98cc754b179b331b57f35aa1ff)) | |
| download | [linux-2c1a6a9a011d622a7c61324a97a49801ba425eff.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2c1a6a9a011d622a7c61324a97a49801ba425eff.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=2c1a6a9a011d622a7c61324a97a49801ba425eff) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex c813e6f2b371eb..a80252973171f2 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=dd07f8971b81ad98cc754b179b331b57f35aa1ff)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=2c1a6a9a011d622a7c61324a97a49801ba425eff)@@ -4999,19 +4999,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:23 +0000



=== Content from git.kernel.org_6e6f6f3c_20250111_064848.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=77ff166909458646e66450e42909e0adacc99049)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=77ff166909458646e66450e42909e0adacc99049)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=77ff166909458646e66450e42909e0adacc99049)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=77ff166909458646e66450e42909e0adacc99049)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 09:01:10 +0100 |
| commit | [77ff166909458646e66450e42909e0adacc99049](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=77ff166909458646e66450e42909e0adacc99049) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=77ff166909458646e66450e42909e0adacc99049)) | |
| tree | [c98235dd436e137f6ff7cc576e5abe3ce507ac45](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=77ff166909458646e66450e42909e0adacc99049) | |
| parent | [99bb25cb6753beaf2c2bc37927c2ecc0ceff3f6d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=99bb25cb6753beaf2c2bc37927c2ecc0ceff3f6d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=77ff166909458646e66450e42909e0adacc99049&id2=99bb25cb6753beaf2c2bc37927c2ecc0ceff3f6d)) | |
| download | [linux-77ff166909458646e66450e42909e0adacc99049.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-77ff166909458646e66450e42909e0adacc99049.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=77ff166909458646e66450e42909e0adacc99049)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=77ff166909458646e66450e42909e0adacc99049) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex c813e6f2b371eb..a80252973171f2 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=99bb25cb6753beaf2c2bc37927c2ecc0ceff3f6d)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=77ff166909458646e66450e42909e0adacc99049)@@ -4999,19 +4999,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:25 +0000



=== Content from git.kernel.org_485a367f_20250111_064843.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 09:04:40 +0100 |
| commit | [12f907cb11576b8cd0b1d95a16d1f10ed5bb7237](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)) | |
| tree | [2443a5d393828392c7c8b4732e69f166f430b8f7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237) | |
| parent | [634ef8cf4e51841a1f7d7bd5771335b4e1960690](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=634ef8cf4e51841a1f7d7bd5771335b4e1960690) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237&id2=634ef8cf4e51841a1f7d7bd5771335b4e1960690)) | |
| download | [linux-12f907cb11576b8cd0b1d95a16d1f10ed5bb7237.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-12f907cb11576b8cd0b1d95a16d1f10ed5bb7237.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 36ab4cbf2ad08a..0ebc0bc83c73a9 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=634ef8cf4e51841a1f7d7bd5771335b4e1960690)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=12f907cb11576b8cd0b1d95a16d1f10ed5bb7237)@@ -4999,19 +4999,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:20 +0000



=== Content from git.kernel.org_1ed4b859_20250111_064846.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=61217be886b5f7402843677e4be7e7e83de9cb41)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=61217be886b5f7402843677e4be7e7e83de9cb41)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=61217be886b5f7402843677e4be7e7e83de9cb41)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=61217be886b5f7402843677e4be7e7e83de9cb41)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | David S. Miller <davem@davemloft.net> | 2021-11-18 11:59:26 +0000 |
| commit | [61217be886b5f7402843677e4be7e7e83de9cb41](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=61217be886b5f7402843677e4be7e7e83de9cb41) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=61217be886b5f7402843677e4be7e7e83de9cb41)) | |
| tree | [47681275b5b3399144d45b3cf6a006cd1ad91fc8](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=61217be886b5f7402843677e4be7e7e83de9cb41) | |
| parent | [4e5d2124f74f6f481de4f85bc825fe52a5af4280](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4e5d2124f74f6f481de4f85bc825fe52a5af4280) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=61217be886b5f7402843677e4be7e7e83de9cb41&id2=4e5d2124f74f6f481de4f85bc825fe52a5af4280)) | |
| download | [linux-61217be886b5f7402843677e4be7e7e83de9cb41.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-61217be886b5f7402843677e4be7e7e83de9cb41.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of boundIn line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=61217be886b5f7402843677e4be7e7e83de9cb41)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=61217be886b5f7402843677e4be7e7e83de9cb41) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 13121c4dcfe6f4..bb334042f8e13f 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=4e5d2124f74f6f481de4f85bc825fe52a5af4280)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=61217be886b5f7402843677e4be7e7e83de9cb41)@@ -5000,19 +5000,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:24 +0000



=== Content from git.kernel.org_6ded7532_20250111_064844.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 08:45:05 +0100 |
| commit | [142ead3dc70411bd5977e8c47a6d8bf22287b3f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)) | |
| tree | [e6cdca2f7b129e72c5dafcb27fdfbcb9182c4fc1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8) | |
| parent | [948968f8747650447c8f21c9fdba0e1973be040b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=948968f8747650447c8f21c9fdba0e1973be040b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8&id2=948968f8747650447c8f21c9fdba0e1973be040b)) | |
| download | [linux-142ead3dc70411bd5977e8c47a6d8bf22287b3f8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-142ead3dc70411bd5977e8c47a6d8bf22287b3f8.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 005c79b5b3f01c..b39e8315e4e271 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=948968f8747650447c8f21c9fdba0e1973be040b)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=142ead3dc70411bd5977e8c47a6d8bf22287b3f8)@@ -4995,19 +4995,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:22 +0000



=== Content from git.kernel.org_80afd2a9_20250111_064849.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d3dedaa5a601107cfedda087209772c76e364d58)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d3dedaa5a601107cfedda087209772c76e364d58)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d3dedaa5a601107cfedda087209772c76e364d58)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3dedaa5a601107cfedda087209772c76e364d58)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 08:46:54 +0100 |
| commit | [d3dedaa5a601107cfedda087209772c76e364d58](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d3dedaa5a601107cfedda087209772c76e364d58) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d3dedaa5a601107cfedda087209772c76e364d58)) | |
| tree | [1bae4de692ac141ba18378812c256c1a55bbfde7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d3dedaa5a601107cfedda087209772c76e364d58) | |
| parent | [abbd5faa0748d0aa95d5191d56ff7a17a6275bd1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=abbd5faa0748d0aa95d5191d56ff7a17a6275bd1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3dedaa5a601107cfedda087209772c76e364d58&id2=abbd5faa0748d0aa95d5191d56ff7a17a6275bd1)) | |
| download | [linux-d3dedaa5a601107cfedda087209772c76e364d58.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d3dedaa5a601107cfedda087209772c76e364d58.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3dedaa5a601107cfedda087209772c76e364d58)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=d3dedaa5a601107cfedda087209772c76e364d58) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 8f108a30cba664..84cf7b4582f3e7 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=abbd5faa0748d0aa95d5191d56ff7a17a6275bd1)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=d3dedaa5a601107cfedda087209772c76e364d58)@@ -4994,19 +4994,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:26 +0000



=== Content from git.kernel.org_96ea4070_20250111_064850.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 08:44:07 +0100 |
| commit | [ec5bd0aef1cec96830d0c7e06d3597d9e786cc98](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)) | |
| tree | [031e383c2aa94bddbdf91ca8ace15f431d5754cd](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98) | |
| parent | [ecb534f3481b09f9fb4101301848c0e638bac433](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ecb534f3481b09f9fb4101301848c0e638bac433) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98&id2=ecb534f3481b09f9fb4101301848c0e638bac433)) | |
| download | [linux-ec5bd0aef1cec96830d0c7e06d3597d9e786cc98.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ec5bd0aef1cec96830d0c7e06d3597d9e786cc98.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 7799cf33cc6e21..7c4150a83a0824 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=ecb534f3481b09f9fb4101301848c0e638bac433)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=ec5bd0aef1cec96830d0c7e06d3597d9e786cc98)@@ -4992,19 +4992,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:28 +0000



=== Content from git.kernel.org_850365cc_20250111_064852.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | zhangyue <zhangyue1@kylinos.cn> | 2021-11-18 13:46:32 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2021-12-08 09:03:20 +0100 |
| commit | [f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)) | |
| tree | [e54f5c124d9c3d11eee1e66640e54fb2ff05381d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f) | |
| parent | [4d5968ea06fbfc7f6bb88dee7ce459f4755cebb5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4d5968ea06fbfc7f6bb88dee7ce459f4755cebb5) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f&id2=4d5968ea06fbfc7f6bb88dee7ce459f4755cebb5)) | |
| download | [linux-f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f.tar.gz) | |

net: tulip: de4x5: fix the problem that the array 'lp->phy[8]' may be out of bound[ Upstream commit 61217be886b5f7402843677e4be7e7e83de9cb41 ]
In line 5001, if all id in the array 'lp->phy[8]' is not 0, when the
'for' end, the 'k' is 8.
At this time, the array 'lp->phy[8]' may be out of bound.
Signed-off-by: zhangyue <zhangyue1@kylinos.cn>
Signed-off-by: David S. Miller <davem@davemloft.net>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)

| -rw-r--r-- | [drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/dec/tulip/de4x5.c?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f) | 30 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 17 insertions, 13 deletions

| diff --git a/drivers/net/ethernet/dec/tulip/de4x5.c b/drivers/net/ethernet/dec/tulip/de4x5.cindex 683e328b5461d8..ffc25ecfa8d6ab 100644--- a/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=4d5968ea06fbfc7f6bb88dee7ce459f4755cebb5)+++ b/[drivers/net/ethernet/dec/tulip/de4x5.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/dec/tulip/de4x5.c?id=f059fa40f0fcc6bc7a12e0f2a2504e9a4ff74f1f)@@ -4997,19 +4997,23 @@ mii\_get\_phy(struct net\_device \*dev) } if ((j == limit) && (i < DE4X5\_MAX\_MII)) { for (k=0; k < DE4X5\_MAX\_PHY && lp->phy[k].id; k++);- lp->phy[k].addr = i;- lp->phy[k].id = id;- lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/- lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/- lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/- lp->mii\_cnt++;- lp->active++;- printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);- j = de4x5\_debug;- de4x5\_debug |= DEBUG\_MII;- de4x5\_dbg\_mii(dev, k);- de4x5\_debug = j;- printk("\n");+ if (k < DE4X5\_MAX\_PHY) {+ lp->phy[k].addr = i;+ lp->phy[k].id = id;+ lp->phy[k].spd.reg = GENERIC\_REG; /\* ANLPA register \*/+ lp->phy[k].spd.mask = GENERIC\_MASK; /\* 100Mb/s technologies \*/+ lp->phy[k].spd.value = GENERIC\_VALUE; /\* TX & T4, H/F Duplex \*/+ lp->mii\_cnt++;+ lp->active++;+ printk("%s: Using generic MII device control. If the board doesn't operate,\nplease mail the following dump to the author:\n", dev->name);+ j = de4x5\_debug;+ de4x5\_debug |= DEBUG\_MII;+ de4x5\_dbg\_mii(dev, k);+ de4x5\_debug = j;+ printk("\n");+ } else {+ goto purgatory;+ } } } purgatory: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 06:47:29 +0000


