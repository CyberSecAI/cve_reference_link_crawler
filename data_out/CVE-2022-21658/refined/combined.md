=== Content from github.com_f61fa0d1_20250108_140522.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F32ed6e599bb4722efefd78bbc9cd7ec4613cb946)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F32ed6e599bb4722efefd78bbc9cd7ec4613cb946)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=rust-lang%2Frust)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rust-lang](/rust-lang)
/
**[rust](/rust-lang/rust)**
Public

* [Notifications](/login?return_to=%2Frust-lang%2Frust) You must be signed in to change notification settings
* [Fork
  13k](/login?return_to=%2Frust-lang%2Frust)
* [Star
   100k](/login?return_to=%2Frust-lang%2Frust)

* [Code](/rust-lang/rust)
* [Issues
  5k+](/rust-lang/rust/issues)
* [Pull requests
  653](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects
  7](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

Additional navigation options

* [Code](/rust-lang/rust)
* [Issues](/rust-lang/rust/issues)
* [Pull requests](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)
to your account

# [stable] Fix CVE 2022 21658 and prepare 1.58.1 #93110

 Merged

[bors](/bors)
merged 15 commits into
[rust-lang:stable](/rust-lang/rust/tree/stable "rust-lang/rust:stable")
from
[pietroalbini:pa-cve-2022-21658-stable](/pietroalbini/rust/tree/pa-cve-2022-21658-stable "pietroalbini/rust:pa-cve-2022-21658-stable")

Jan 20, 2022

[Conversation
26](/rust-lang/rust/pull/93110)
[Commits
15](/rust-lang/rust/pull/93110/commits)
[Checks
0](/rust-lang/rust/pull/93110/checks)
[Files changed](/rust-lang/rust/pull/93110/files)

 Merged

# [[stable] Fix CVE 2022 21658 and prepare 1.58.1](#top) #93110

 Show file tree

 Hide file tree

Changes from **1 commit**

Commits

[Show all changes

15 commits](/rust-lang/rust/pull/93110/files)
Select commit
Hold shift + click to select a range

[`b167157`
fix(rustfmt): resolve generated file formatting issue

calebcartwright Jan 15, 2022](/rust-lang/rust/pull/93110/commits/b16715751a222be1953bae1010c77eae6996fd8a)
[`70a61c9`
Only check for errors in predicate when skipping impl assembly

Aaron1011 Nov 26, 2021](/rust-lang/rust/pull/93110/commits/70a61c97cbc8375432b16482f127d45b08054951)
[`a14ae6f`
Move `non\_send\_fields\_in\_send\_ty` back to `nursery`

Qwaz Jan 19, 2022](/rust-lang/rust/pull/93110/commits/a14ae6f0791f499a2205a11846fdd75f25a5ae9a)
[`408709d`
Handle implicit named arguments in `useless\_format`

Jarcho Jan 19, 2022](/rust-lang/rust/pull/93110/commits/408709d88c4e8928aaf57663e6d4b692839e9626)
[`acd6476`
add release notes for 1.58.1

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/acd647611d03cc80bb2b9cc6186c8f83c8ca7940)
[`0076b17`
bump cargo to fix spurious failure

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865)
[`4f0ad1c`
Fix CVE-2022-21658 for Windows

ChrisDenton Jan 6, 2022](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)
[`32ed6e5`
Fix CVE-2022-21658 for UNIX-like

hkratz Jan 17, 2022](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)
[`406cc07`
Fix CVE-2022-21658 for WASI

alexcrichton Jan 4, 2022](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)
[`42cb17e`
Update std::fs::remove\_dir\_all documentation

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e)
[`1e17daf`
Update release notes to include CVE-2022-21658

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/1e17daf1e0104ef096f70c062dd92e4310cd2966)
[`cb88166`
backport missed illumos fix

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/cb88166762d30dfc6f7d57679755e79ba5676f4c)
[`2923f3a`
Fuchsia apparently does not have DT\_UNKNOWN.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/2923f3a4659326067b5c9dd0ff6e890e4e0681e3)
[`68976d1`
name\_cstr() is not needed for Redox.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/68976d1ac1718311bf6125e137747f61226638db)
[`1c63ec4`
Better fix for Fuchsia

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/1c63ec48b8cbf553d291a04957d86cfd191fcd78)

**File filter**

### Filter by extension

Filter by extension

.rs
(3)

All 1 file type selected

---

Viewed files

[Clear filters](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

* library/std/src

  + fs

    - library/std/src/fs/tests.rs
      [tests.rs](#diff-0ec4075fea7f5f4cc82c306e975ae7638b1fc500d30c11a83f337a69ef1dfd65)
  + sys/unix

    - library/std/src/sys/unix/fs.rs
      [fs.rs](#diff-4a74019cd4088485a9e0706be6ccf93ff091cb19d9aad474e4e9d03e2bb8522d)
    - library/std/src/sys/unix/weak.rs
      [weak.rs](#diff-040d2c43ad9588dc93729a4af523987e4ffe7f4862571046a0c4a3e6580fe856)

 [Prev](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)Previous commit

 [Next](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)Next commit

Fix CVE-2022-21658 for UNIX-like

* Loading branch information

[![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=40&v=4)](/hkratz) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

[hkratz](/rust-lang/rust/commits?author=hkratz "View all commits by hkratz")
authored and
[pietroalbini](/rust-lang/rust/commits?author=pietroalbini "View all commits by pietroalbini")
committed
Jan 20, 2022

commit 32ed6e599bb4722efefd78bbc9cd7ec4613cb946

## There are no files selected for viewing

70 changes: 70 additions & 0 deletions

70
[library/std/src/fs/tests.rs](#diff-0ec4075fea7f5f4cc82c306e975ae7638b1fc500d30c11a83f337a69ef1dfd65 "library/std/src/fs/tests.rs")

Show comments

[View file](/pietroalbini/rust/blob/32ed6e599bb4722efefd78bbc9cd7ec4613cb946/library/std/src/fs/tests.rs)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,8 +4,10 @@ use crate::fs::{self, File, OpenOptions}; |
|  |  | use crate::io::{ErrorKind, SeekFrom}; |
|  |  | use crate::path::Path; |
|  |  | use crate::str; |
|  |  | use crate::sync::Arc; |
|  |  | use crate::sys\_common::io::test::{tmpdir, TempDir}; |
|  |  | use crate::thread; |
|  |  | use crate::time::{Duration, Instant}; |
|  |  |  |
|  |  | use rand::{rngs::StdRng, RngCore, SeedableRng}; |
|  |  |  |
| Expand Down  Expand Up | | @@ -602,6 +604,21 @@ fn recursive\_rmdir\_of\_symlink() { |
|  |  | assert!(canary.exists()); |
|  |  | } |
|  |  |  |
|  |  | #[test] |
|  |  | fn recursive\_rmdir\_of\_file\_fails() { |
|  |  | // test we do not delete a directly specified file. |
|  |  | let tmpdir = tmpdir(); |
|  |  | let canary = tmpdir.join("do\_not\_delete"); |
|  |  | check!(check!(File::create(&canary)).write(b"foo")); |
|  |  | let result = fs::remove\_dir\_all(&canary); |
|  |  | #[cfg(unix)] |
|  |  | error!(result, "Not a directory"); |
|  |  | #[cfg(windows)] |
|  |  | error!(result, 267); // ERROR\_DIRECTORY - The directory name is invalid. |
|  |  | assert!(result.is\_err()); |
|  |  | assert!(canary.exists()); |
|  |  | } |
|  |  |  |
|  |  | #[test] |
|  |  | // only Windows makes a distinction between file and directory symlinks. |
|  |  | #[cfg(windows)] |
| Expand All | | @@ -621,6 +638,59 @@ fn recursive\_rmdir\_of\_file\_symlink() { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #[test] |
|  |  | #[ignore] // takes too much time |
|  |  | fn recursive\_rmdir\_toctou() { |
|  |  | // Test for time-of-check to time-of-use issues. |
|  |  | // |
|  |  | // Scenario: |
|  |  | // The attacker wants to get directory contents deleted, to which he does not have access. |
|  |  | // He has a way to get a privileged Rust binary call `std::fs::remove\_dir\_all()` on a |
|  |  | // directory he controls, e.g. in his home directory. |
|  |  | // |
|  |  | // The POC sets up the `attack\_dest/attack\_file` which the attacker wants to have deleted. |
|  |  | // The attacker repeatedly creates a directory and replaces it with a symlink from |
|  |  | // `victim\_del` to `attack\_dest` while the victim code calls `std::fs::remove\_dir\_all()` |
|  |  | // on `victim\_del`. After a few seconds the attack has succeeded and |
|  |  | // `attack\_dest/attack\_file` is deleted. |
|  |  | let tmpdir = tmpdir(); |
|  |  | let victim\_del\_path = tmpdir.join("victim\_del"); |
|  |  | let victim\_del\_path\_clone = victim\_del\_path.clone(); |
|  |  |  |
|  |  | // setup dest |
|  |  | let attack\_dest\_dir = tmpdir.join("attack\_dest"); |
|  |  | let attack\_dest\_dir = attack\_dest\_dir.as\_path(); |
|  |  | fs::create\_dir(attack\_dest\_dir).unwrap(); |
|  |  | let attack\_dest\_file = tmpdir.join("attack\_dest/attack\_file"); |
|  |  | File::create(&attack\_dest\_file).unwrap(); |
|  |  |  |
|  |  | let drop\_canary\_arc = Arc::new(()); |
|  |  | let drop\_canary\_weak = Arc::downgrade(&drop\_canary\_arc); |
|  |  |  |
|  |  | eprintln!("x: {:?}", &victim\_del\_path); |
|  |  |  |
|  |  | // victim just continuously removes `victim\_del` |
|  |  | thread::spawn(move || { |
|  |  | while drop\_canary\_weak.upgrade().is\_some() { |
|  |  | let \_ = fs::remove\_dir\_all(&victim\_del\_path\_clone); |
|  |  | } |
|  |  | }); |
|  |  |  |
|  |  | // attacker (could of course be in a separate process) |
|  |  | let start\_time = Instant::now(); |
|  |  | while Instant::now().duration\_since(start\_time) < Duration::from\_secs(1000) { |
|  |  | if !attack\_dest\_file.exists() { |
|  |  | panic!( |
|  |  | "Victim deleted symlinked file outside of victim\_del. Attack succeeded in {:?}.", |
|  |  | Instant::now().duration\_since(start\_time) |
|  |  | ); |
|  |  | } |
|  |  | let \_ = fs::create\_dir(&victim\_del\_path); |
|  |  | let \_ = fs::remove\_dir(&victim\_del\_path); |
|  |  | let \_ = symlink\_dir(attack\_dest\_dir, &victim\_del\_path); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #[test] |
|  |  | fn unicode\_path\_is\_dir() { |
|  |  | assert!(Path::new(".").is\_dir()); |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c6e92a51_20250108_140523.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F406cc071d6cfdfdb678bf3d83d766851de95abaf)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F406cc071d6cfdfdb678bf3d83d766851de95abaf)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=rust-lang%2Frust)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rust-lang](/rust-lang)
/
**[rust](/rust-lang/rust)**
Public

* [Notifications](/login?return_to=%2Frust-lang%2Frust) You must be signed in to change notification settings
* [Fork
  13k](/login?return_to=%2Frust-lang%2Frust)
* [Star
   100k](/login?return_to=%2Frust-lang%2Frust)

* [Code](/rust-lang/rust)
* [Issues
  5k+](/rust-lang/rust/issues)
* [Pull requests
  653](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects
  7](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

Additional navigation options

* [Code](/rust-lang/rust)
* [Issues](/rust-lang/rust/issues)
* [Pull requests](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)
to your account

# [stable] Fix CVE 2022 21658 and prepare 1.58.1 #93110

 Merged

[bors](/bors)
merged 15 commits into
[rust-lang:stable](/rust-lang/rust/tree/stable "rust-lang/rust:stable")
from
[pietroalbini:pa-cve-2022-21658-stable](/pietroalbini/rust/tree/pa-cve-2022-21658-stable "pietroalbini/rust:pa-cve-2022-21658-stable")

Jan 20, 2022

[Conversation
26](/rust-lang/rust/pull/93110)
[Commits
15](/rust-lang/rust/pull/93110/commits)
[Checks
0](/rust-lang/rust/pull/93110/checks)
[Files changed](/rust-lang/rust/pull/93110/files)

 Merged

# [[stable] Fix CVE 2022 21658 and prepare 1.58.1](#top) #93110

Changes from **1 commit**

Commits

[Show all changes

15 commits](/rust-lang/rust/pull/93110/files)
Select commit
Hold shift + click to select a range

[`b167157`
fix(rustfmt): resolve generated file formatting issue

calebcartwright Jan 15, 2022](/rust-lang/rust/pull/93110/commits/b16715751a222be1953bae1010c77eae6996fd8a)
[`70a61c9`
Only check for errors in predicate when skipping impl assembly

Aaron1011 Nov 26, 2021](/rust-lang/rust/pull/93110/commits/70a61c97cbc8375432b16482f127d45b08054951)
[`a14ae6f`
Move `non\_send\_fields\_in\_send\_ty` back to `nursery`

Qwaz Jan 19, 2022](/rust-lang/rust/pull/93110/commits/a14ae6f0791f499a2205a11846fdd75f25a5ae9a)
[`408709d`
Handle implicit named arguments in `useless\_format`

Jarcho Jan 19, 2022](/rust-lang/rust/pull/93110/commits/408709d88c4e8928aaf57663e6d4b692839e9626)
[`acd6476`
add release notes for 1.58.1

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/acd647611d03cc80bb2b9cc6186c8f83c8ca7940)
[`0076b17`
bump cargo to fix spurious failure

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865)
[`4f0ad1c`
Fix CVE-2022-21658 for Windows

ChrisDenton Jan 6, 2022](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)
[`32ed6e5`
Fix CVE-2022-21658 for UNIX-like

hkratz Jan 17, 2022](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)
[`406cc07`
Fix CVE-2022-21658 for WASI

alexcrichton Jan 4, 2022](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)
[`42cb17e`
Update std::fs::remove\_dir\_all documentation

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e)
[`1e17daf`
Update release notes to include CVE-2022-21658

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/1e17daf1e0104ef096f70c062dd92e4310cd2966)
[`cb88166`
backport missed illumos fix

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/cb88166762d30dfc6f7d57679755e79ba5676f4c)
[`2923f3a`
Fuchsia apparently does not have DT\_UNKNOWN.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/2923f3a4659326067b5c9dd0ff6e890e4e0681e3)
[`68976d1`
name\_cstr() is not needed for Redox.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/68976d1ac1718311bf6125e137747f61226638db)
[`1c63ec4`
Better fix for Fuchsia

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/1c63ec48b8cbf553d291a04957d86cfd191fcd78)

**File filter**

### Filter by extension

Filter by extension

.rs
(1)

All 1 file type selected

---

Viewed files

[Clear filters](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

 [Prev](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)Previous commit

 [Next](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e)Next commit

Fix CVE-2022-21658 for WASI

* Loading branch information

[![@alexcrichton](https://avatars.githubusercontent.com/u/64996?s=40&v=4)](/alexcrichton) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

[alexcrichton](/rust-lang/rust/commits?author=alexcrichton "View all commits by alexcrichton")
authored and
[pietroalbini](/rust-lang/rust/commits?author=pietroalbini "View all commits by pietroalbini")
committed
Jan 20, 2022

commit 406cc071d6cfdfdb678bf3d83d766851de95abaf

## There are no files selected for viewing

71 changes: 63 additions & 8 deletions

71
[library/std/src/sys/wasi/fs.rs](#diff-1f856985e41d720bcef5a5badbfa3b0e20f69076712559ee314aefd3f18b46d7 "library/std/src/sys/wasi/fs.rs")

Show comments

[View file](/pietroalbini/rust/blob/406cc071d6cfdfdb678bf3d83d766851de95abaf/library/std/src/sys/wasi/fs.rs)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,7 +16,7 @@ use crate::sys::time::SystemTime; |
|  |  | use crate::sys::unsupported; |
|  |  | use crate::sys\_common::{AsInner, FromInner, IntoInner}; |
|  |  |  |
|  |  | pub use crate::sys\_common::fs::{remove\_dir\_all, try\_exists}; |
|  |  | pub use crate::sys\_common::fs::try\_exists; |
|  |  |  |
|  |  | pub struct File { |
|  |  | fd: WasiFd, |
| Expand Down  Expand Up | | @@ -130,6 +130,18 @@ impl FileType { |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | impl ReadDir { |
|  |  | fn new(dir: File, root: PathBuf) -> ReadDir { |
|  |  | ReadDir { |
|  |  | cookie: Some(0), |
|  |  | buf: vec![0; 128], |
|  |  | offset: 0, |
|  |  | cap: 0, |
|  |  | inner: Arc::new(ReadDirInner { dir, root }), |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | impl fmt::Debug for ReadDir { |
|  |  | fn fmt(&self, f: &mut fmt::Formatter<'\_>) -> fmt::Result { |
|  |  | f.debug\_struct("ReadDir").finish\_non\_exhaustive() |
| Expand Down  Expand Up | | @@ -512,13 +524,7 @@ pub fn readdir(p: &Path) -> io::Result<ReadDir> { |
|  |  | opts.directory(true); |
|  |  | opts.read(true); |
|  |  | let dir = File::open(p, &opts)?; |
|  |  | Ok(ReadDir { |
|  |  | cookie: Some(0), |
|  |  | buf: vec![0; 128], |
|  |  | offset: 0, |
|  |  | cap: 0, |
|  |  | inner: Arc::new(ReadDirInner { dir, root: p.to\_path\_buf() }), |
|  |  | }) |
|  |  | Ok(ReadDir::new(dir, p.to\_path\_buf())) |
|  |  | } |
|  |  |  |
|  |  | pub fn unlink(p: &Path) -> io::Result<()> { |
| Expand Down  Expand Up | | @@ -712,3 +718,52 @@ pub fn copy(from: &Path, to: &Path) -> io::Result<u64> { |
|  |  |  |
|  |  | io::copy(&mut reader, &mut writer) |
|  |  | } |
|  |  |  |
|  |  | pub fn remove\_dir\_all(path: &Path) -> io::Result<()> { |
|  |  | let (parent, path) = open\_parent(path)?; |
|  |  | remove\_dir\_all\_recursive(&parent, &path) |
|  |  | } |
|  |  |  |
|  |  | fn remove\_dir\_all\_recursive(parent: &WasiFd, path: &Path) -> io::Result<()> { |
|  |  | // Open up a file descriptor for the directory itself. Note that we don't |
|  |  | // follow symlinks here and we specifically open directories. |
|  |  | // |
|  |  | // At the root invocation of this function this will correctly handle |
|  |  | // symlinks passed to the top-level `remove\_dir\_all`. At the recursive |
|  |  | // level this will double-check that after the `readdir` call deduced this |
|  |  | // was a directory it's still a directory by the time we open it up. |
|  |  | // |
|  |  | // If the opened file was actually a symlink then the symlink is deleted, |
|  |  | // not the directory recursively. |
|  |  | let mut opts = OpenOptions::new(); |
|  |  | opts.lookup\_flags(0); |
|  |  | opts.directory(true); |
|  |  | opts.read(true); |
|  |  | let fd = open\_at(parent, path, &opts)?; |
|  |  | if fd.file\_attr()?.file\_type().is\_symlink() { |
|  |  | return parent.unlink\_file(osstr2str(path.as\_ref())?); |
|  |  | } |
|  |  |  |
|  |  | // this "root" is only used by `DirEntry::path` which we don't use below so |
|  |  | // it's ok for this to be a bogus value |
|  |  | let dummy\_root = PathBuf::new(); |
|  |  |  |
|  |  | // Iterate over all the entries in this directory, and travel recursively if |
|  |  | // necessary |
|  |  | for entry in ReadDir::new(fd, dummy\_root) { |
|  |  | let entry = entry?; |
|  |  | let path = crate::str::from\_utf8(&entry.name).map\_err(|\_| { |
|  |  | io::Error::new\_const(io::ErrorKind::Uncategorized, &"invalid utf-8 file name found") |
|  |  | })?; |
|  |  |  |
|  |  | if entry.file\_type()?.is\_dir() { |
|  |  | remove\_dir\_all\_recursive(&entry.inner.dir.fd, path.as\_ref())?; |
|  |  | } else { |
|  |  | entry.inner.dir.fd.unlink\_file(path)?; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // Once all this directory's contents are deleted it should be safe to |
|  |  | // delete the directory tiself. |
|  |  | parent.remove\_directory(osstr2str(path.as\_ref())?) |
|  |  | } |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from support.apple.com_8a05b6c3_20250108_140528.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of watchOS 8.5

This document describes the security content of watchOS 8.5.

## About Apple security updates

For our customers' protection, Apple doesn't disclose, discuss, or confirm security issues until an investigation has occurred and patches or releases are available. Recent releases are listed on the [Apple security updates](https://support.apple.com/kb/HT201222) page.

Apple security documents reference vulnerabilities by [CVE-ID](http://cve.mitre.org/about/) when possible.

For more information about security, see the [Apple Product Security](https://support.apple.com/kb/HT201220) page.

## watchOS 8.5

Released March 14, 2022

**Accelerate Framework**

Available for: Apple Watch Series 3 and later

Impact: Opening a maliciously crafted PDF file may lead to an unexpected application termination or arbitrary code execution

Description: A memory corruption issue was addressed with improved state management.

CVE-2022-22633: ryuzaki

Entry updated May 25, 2022

**AppleAVD**

Available for: Apple Watch Series 3 and later

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22666: Marc Schoenefeld, Dr. rer. nat.

**ImageIO**

Available for: Apple Watch Series 3 and later

Impact: Processing a maliciously crafted image may lead to arbitrary code execution

Description: An out-of-bounds read was addressed with improved input validation.

CVE-2022-22611: Xingyu Jin of Google

**ImageIO**

Available for: Apple Watch Series 3 and later

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory consumption issue was addressed with improved memory handling.

CVE-2022-22612: Xingyu Jin of Google

**Kernel**

Available for: Apple Watch Series 3 and later

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22596: an anonymous researcher

CVE-2022-22640: sqrtpwn

**Kernel**

Available for: Apple Watch Series 3 and later

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22613: Alex, an anonymous researcher

**Kernel**

Available for: Apple Watch Series 3 and later

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22614: an anonymous researcher

CVE-2022-22615: an anonymous researcher

**Kernel**

Available for: Apple Watch Series 3 and later

Impact: A malicious application may be able to elevate privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22632: Keegan Saunders

**Kernel**

Available for: Apple Watch Series 3 and later

Impact: An attacker in a privileged position may be able to perform a denial of service attack

Description: A null pointer dereference was addressed with improved validation.

CVE-2022-22638: derrek (@derrekr6)

**LaunchServices**

Available for: Apple Watch Series 3 and later

Impact: An app may be able to bypass certain Privacy preferences

Description: A logic issue was addressed with improved restrictions.

CVE-2021-30946: @gorelics, and Ron Masas of BreakPoint.sh

Entry added June 6, 2023

**libarchive**

Available for: Apple Watch Series 3 and later

Impact: Multiple issues in libarchive

Description: Multiple memory corruption issues existed in libarchive. These issues were addressed with improved input validation.

CVE-2021-36976

**LLVM**

Available for: Apple Watch Series 3 and later

Impact: An application may be able to delete files for which it does not have permission

Description: A race condition was addressed with additional validation.

CVE-2022-21658: Florian Weimer (@fweimer)

Entry added May 25, 2022

**MediaRemote**

Available for: Apple Watch Series 3 and later

Impact: A malicious application may be able to identify what other applications a user has installed

Description: An access issue was addressed with improved access restrictions.

CVE-2022-22670: Brandon Azad

**Phone**

Available for: Apple Watch Series 3 and later

Impact: A user may be able to bypass the Emergency SOS passcode prompt

Description: This issue was addressed with improved checks.

CVE-2022-22618: Yicong Ding (@AntonioDing)

**Preferences**

Available for: Apple Watch Series 3 and later

Impact: A malicious application may be able to read other applications' settings

Description: The issue was addressed with additional permissions checks.

CVE-2022-22609: Mickey Jin (@patch1t), Zhipeng Huo (@R3dF09) and Yuebin Sun (@yuebinsun2020) of Tencent Security Xuanwu Lab (xlab.tencent.com)

Entry updated June 6, 2023

**Safari**

Available for: Apple Watch Series 3 and later

Impact: Visiting a malicious website may lead to address bar spoofing

Description: A user interface issue was addressed.

CVE-2022-22654: Abdullah Md Shaleh of take0ver

**Sandbox**

Available for: Apple Watch Series 3 and later

Impact: A malicious application may be able to bypass certain Privacy preferences

Description: The issue was addressed with improved permissions logic.

CVE-2022-22600: Sudhakar Muthumani (@sudhakarmuthu04) of Primefort Private Limited, Khiem Tran

Entry updated May 25, 2022

**Siri**

Available for: Apple Watch Series 3 and later

Impact: A person with physical access to a device may be able to use Siri to obtain some location information from the lock screen

Description: A permissions issue was addressed with improved validation.

CVE-2022-22599: Andrew Goldberg of the University of Texas at Austin, McCombs School of Business (linkedin.com/andrew-goldberg-/)

Entry updated May 25, 2022

**UIKit**

Available for: Apple Watch Series 3 and later

Impact: A person with physical access to an iOS device may be able to see sensitive information via keyboard suggestions

Description: This issue was addressed with improved checks.

CVE-2022-22621: Joey Hewitt

**WebKit**

Available for: Apple Watch Series 3 and later

Impact: Processing maliciously crafted web content may disclose sensitive user information

Description: A cookie management issue was addressed with improved state management.

WebKit Bugzilla: 232748

CVE-2022-22662: Prakash (@1lastBr3ath) of Threat Nix

**WebKit**

Available for: Apple Watch Series 3 and later

Impact: Processing maliciously crafted web content may lead to code execution

Description: A memory corruption issue was addressed with improved state management.

WebKit Bugzilla: 232812

CVE-2022-22610: Quan Yin of Bigo Technology Live Client Team

**WebKit**

Available for: Apple Watch Series 3 and later

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A use after free issue was addressed with improved memory management.

WebKit Bugzilla 233172

CVE-2022-22624: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

WebKit Bugzilla: 234147

CVE-2022-22628: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

**WebKit**

Available for: Apple Watch Series 3 and later

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A buffer overflow issue was addressed with improved memory handling.

WebKit Bugzilla: 234966

CVE-2022-22629: Jeonghoon Shin at Theori working with Trend Micro Zero Day Initiative

**WebKit**

Available for: Apple Watch Series 3 and later

Impact: A malicious website may cause unexpected cross-origin behavior

Description: A logic issue was addressed with improved state management.

WebKit Bugzilla: 235294

CVE-2022-22637: Tom McKee of Google

## Additional recognition

**AirDrop**

We would like to acknowledge Omar Espino (omespino.com), Ron Masas of BreakPoint.sh for their assistance.

**Bluetooth**

We would like to acknowledge an anonymous researcher for their assistance.

**Face Gallery**

We would like to acknowledge Tian Zhang (@KhaosT) for their assistance.

**Safari**

We would like to acknowledge Konstantin Darutkin of FingerprintJS (fingerprintjs.com) for their assistance.

**Shortcuts**

We would like to acknowledge Baibhav Anand Jha of Streamers Land for their assistance.

**Siri**

We would like to acknowledge an anonymous researcher for their assistance.

**syslog**

We would like to acknowledge Yonghwi Jin (@jinmo123) of Theori for their assistance.

**UIKit**

We would like to acknowledge Tim Shadel of Day Logger, Inc. for their assistance.

**Wallet**

We would like to acknowledge an anonymous researcher for their assistance.

**WebKit**

We would like to acknowledge Abdullah Md Shaleh for their assistance.

**WebKit Storage**

We would like to acknowledge Martin Bajanik of FingerprintJS for their assistance.

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: October 31, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of watchOS 8.5

[United States](https://support.apple.com/en-us/102762/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from github.com_a26b0d26_20250108_140525.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fsecurity%2Fadvisories%2FGHSA-r9cc-f5pr-p3j2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fsecurity%2Fadvisories%2FGHSA-r9cc-f5pr-p3j2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=rust-lang%2Frust)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rust-lang](/rust-lang)
/
**[rust](/rust-lang/rust)**
Public

* [Notifications](/login?return_to=%2Frust-lang%2Frust) You must be signed in to change notification settings
* [Fork
  13k](/login?return_to=%2Frust-lang%2Frust)
* [Star
   100k](/login?return_to=%2Frust-lang%2Frust)

* [Code](/rust-lang/rust)
* [Issues
  5k+](/rust-lang/rust/issues)
* [Pull requests
  653](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects
  7](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

Additional navigation options

* [Code](/rust-lang/rust)
* [Issues](/rust-lang/rust/issues)
* [Pull requests](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

# Race condition in std::fs::remove\_dir\_all

High

[pietroalbini](/pietroalbini)
published
GHSA-r9cc-f5pr-p3j2
Jan 20, 2022

## Package

cargo

std
([Rust](/advisories?query=ecosystem%3Arust))

## Affected versions

<= 1.58.0

## Patched versions

1.58.1

## Description

> This is a cross-post [of the official security advisory](https://groups.google.com/g/rustlang-security-announcements/c/R1fZFDhnJVQ). The official advisory contains a signed version with our PGP key, as well.

The Rust Security Response WG was notified that the `std::fs::remove_dir_all`

standard library function is vulnerable a race condition enabling symlink

following (CWE-363). An attacker could use this security issue to trick a

privileged program into deleting files and directories the attacker couldn't

otherwise access or delete.

This issue has been assigned [CVE-2022-21658](https://www.cve.org/CVERecord?id=CVE-2022-21658).

## Overview

Let's suppose an attacker obtained unprivileged access to a system and needed

to delete a system directory called `sensitive/`, but they didn't have the

permissions to do so. If `std::fs::remove_dir_all` followed symbolic links,

they could find a privileged program that removes a directory they have access

to (called `temp/`), create a symlink from `temp/foo` to `sensitive/`, and wait

for the privileged program to delete `foo/`. The privileged program would

follow the symlink from `temp/foo` to `sensitive/` while recursively deleting,

resulting in `sensitive/` being deleted.

To prevent such attacks, `std::fs::remove_dir_all` already includes protection

to avoid recursively deleting symlinks, as described in its documentation:

> This function does **not** follow symbolic links and it will simply remove
>
> the symbolic link itself.

Unfortunately that check was implemented incorrectly in the standard library,

resulting in a TOCTOU (Time-of-check Time-of-use) race condition. Instead of

telling the system not to follow symlinks, the standard library first checked

whether the thing it was about to delete was a symlink, and otherwise it would

proceed to recursively delete the directory.

This exposed a race condition: an attacker could create a directory and replace

it with a symlink between the check and the actual deletion. While this attack

likely won't work the first time it's attempted, in our experimentation we were

able to reliably perform it within a couple of seconds.

## Affected Versions

Rust 1.0.0 through Rust 1.58.0 is affected by this vulnerability. We're going

to release Rust 1.58.1 later today, which will include mitigations for this

vulnerability. Patches to the Rust standard library are also available for

custom-built Rust toolchains [here](https://github.com/rust-lang/wg-security-response/tree/master/patches/CVE-2022-21658).

Note that the following targets don't have usable APIs to properly mitigate the

attack, and are thus still vulnerable even with a patched toolchain:

* macOS before version 10.10 (Yosemite)
* REDOX

## Mitigations

We recommend everyone to update to Rust 1.58.1 as soon as possible, especially

people developing programs expected to run in privileged contexts (including

system daemons and setuid binaries), as those have the highest risk of being

affected by this.

Note that adding checks in your codebase before calling `remove_dir_all` will

**not** mitigate the vulnerability, as they would also be vulnerable to race

conditions like `remove_dir_all` itself. The existing mitigation is working as

intended outside of race conditions.

## Acknowledgments

We want to thank Hans Kratz for independently discovering and disclosing this

issue to us according to the [Rust security policy](https://www.rust-lang.org/policies/security), for developing the fix

for UNIX-like targets and for reviewing fixes for other platforms.

We also want to thank Florian Weimer for reviewing the UNIX-like fix and for

reporting the same issue back in 2018, even though the Security Response WG

didn't realize the severity of the issue at the time.

Finally we want to thank Pietro Albini for coordinating the security response

and writing this advisory, Chris Denton for writing the Windows fix, Alex

Crichton for writing the WASI fix, and Mara Bos for reviewing the patches.

### Severity

High

7.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Changed

Confidentiality
None

Integrity
Low

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:L/A:H

### CVE ID

CVE-2022-21658

### Weaknesses

[CWE-363](/advisories?query=cwe%3A363)

### Credits

* [![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=40&v=4)](/hkratz)
  [hkratz](/hkratz)
  Analyst
* [![@fweimer](https://avatars.githubusercontent.com/u/2729073?s=40&v=4)](/fweimer)
  [fweimer](/fweimer)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from rustsec.org_2054a27a_20250108_161834.html ===


CVE-2022-21658: std: Time-of-check time-of-use race condition can allow attacker to delete files they do not have access to delete › RustSec Advisory Database

#

[About](/)
[Advisories](/advisories/)
[Report Vulnerabilities](/contributing.html)

[History](https://github.com/RustSec/advisory-db/commits/main/rust/std/CVE-2022-21658.md) ⋅
[Edit](https://github.com/RustSec/advisory-db/edit/main/rust/std/CVE-2022-21658.md) ⋅
[JSON (OSV)](https://api.osv.dev/v1/vulns/CVE-2022-21658)

# CVE-2022-21658

Time-of-check time-of-use race condition can allow attacker to delete files they do not have access to delete

Reported
January 16, 2022

Issued
January 21, 2022

Package
`[std](/packages/std.html)`

Type
Vulnerability

Categories

* [file-disclosure](/categories/file-disclosure.html)

References

* <https://blog.rust-lang.org/2022/01/20/cve-2022-21658.html>

CVSS Score
7.3
HIGH

CVSS Details
Attack vectorLocal
Attack complexityLow
Privileges requiredLow
User interactionNone
ScopeChanged
ConfidentialityNone
IntegrityLow
AvailabilityHigh

CVSS Vector
[CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:L/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:C/C:N/I:L/A:H)
Patched

* `>=1.58.1`

Affected Functions
Version
`std::fs::remove_dir_all`

* `<1.58.1`

### Description

In the standard library in Rust before 1.58.1, an attacker with unprivileged access to a system could trick a privileged program using `std::fs::remove_dir_all` into deleting files they don't have access to delete by creating a symlink in a directory that would be removed by a `std::fs::remove_dir_all` call due to a Time-of-check time-of-use race condition around this function's check for symbolic links. The function should remove the symbolic links rather than recursively deleting the linked file or directory.

Advisory available under [CC0-1.0](https://spdx.org/licenses/CC0-1.0.html)
license.



=== Content from support.apple.com_6bf270df_20250108_140527.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of macOS Monterey 12.3

This document describes the security content of macOS Monterey 12.3.

## About Apple security updates

For our customers' protection, Apple doesn't disclose, discuss, or confirm security issues until an investigation has occurred and patches or releases are available. Recent releases are listed on the [Apple security updates](https://support.apple.com/kb/HT201222) page.

Apple security documents reference vulnerabilities by [CVE-ID](http://cve.mitre.org/about/) when possible.

For more information about security, see the [Apple Product Security](https://support.apple.com/kb/HT201220) page.

## macOS Monterey 12.3

Released March 14, 2022

**Accelerate Framework**

Available for: macOS Monterey

Impact: Opening a maliciously crafted PDF file may lead to an unexpected application termination or arbitrary code execution

Description: A memory corruption issue was addressed with improved state management.

CVE-2022-22633: ryuzaki

Entry updated May 25, 2022

**AMD**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22669: an anonymous researcher

**AppKit**

Available for: macOS Monterey

Impact: A malicious application may be able to gain root privileges

Description: A logic issue was addressed with improved validation.

CVE-2022-22665: Lockheed Martin Red Team

**AppleEvents**

Available for: macOS Monterey

Impact: A remote attacker may cause an unexpected app termination or arbitrary code execution

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22630: Jeremy Brown working with Trend Micro Zero Day Initiative

Entry added June 8, 2023

**AppleGraphicsControl**

Available for: macOS Monterey

Impact: An application may be able to gain elevated privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22631: Wang Yu of cyberserval

Entry updated May 25, 2022

**AppleScript**

Available for: macOS Monterey

Impact: Processing a maliciously crafted AppleScript binary may result in unexpected application termination or disclosure of process memory

Description: An out-of-bounds read was addressed with improved input validation.

CVE-2022-22625: Mickey Jin (@patch1t) of Trend Micro

**AppleScript**

Available for: macOS Monterey

Impact: An application may be able to read restricted memory

Description: This issue was addressed with improved checks.

CVE-2022-22648: Mickey Jin (@patch1t) of Trend Micro

Entry updated May 25, 2022

**AppleScript**

Available for: macOS Monterey

Impact: Processing a maliciously crafted AppleScript binary may result in unexpected application termination or disclosure of process memory

Description: An out-of-bounds read was addressed with improved bounds checking.

CVE-2022-22626: Mickey Jin (@patch1t) of Trend Micro

CVE-2022-22627: Qi Sun and Robert Ai of Trend Micro

**AppleScript**

Available for: macOS Monterey

Impact: Processing a maliciously crafted file may lead to arbitrary code execution

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22597: Qi Sun and Robert Ai of Trend Micro

**BOM**

Available for: macOS Monterey

Impact: A maliciously crafted ZIP archive may bypass Gatekeeper checks

Description: This issue was addressed with improved checks.

CVE-2022-22616: Ferdous Saljooki (@malwarezoo) and Jaron Bradley (@jbradley89) of Jamf Software, Mickey Jin (@patch1t)

**CoreTypes**

Available for: macOS Monterey

Impact: A malicious application may bypass Gatekeeper checks

Description: This issue was addressed with improved checks to prevent unauthorized actions.

CVE-2022-22663: Arsenii Kostromin (0x3c3e)

Entry added May 25, 2022

**CUPS**

Available for: macOS Monterey

Impact: An application may be able to gain elevated privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-26691: Joshua Mason of Mandiant

Entry added May 25, 2022

**curl**

Available for: macOS Monterey

Impact: Multiple issues in curl

Description: Multiple issues were addressed by updating to curl version 7.79.1.

CVE-2021-22946

CVE-2021-22947

CVE-2021-22945

Entry updated March 21, 2022

**FaceTime**

Available for: macOS Monterey

Impact: A user may send audio and video in a FaceTime call without knowing that they have done so

Description: This issue was addressed with improved checks.

CVE-2022-22643: Sonali Luthar of the University of Virginia, Michael Liao of the University of Illinois at Urbana-Champaign, Rohan Pahwa of Rutgers University, and Bao Nguyen of the University of Florida

**GarageBand MIDI**

Available for: macOS Monterey

Impact: Opening a maliciously crafted file may lead to unexpected application termination or arbitrary code execution

Description: A memory initialization issue was addressed with improved memory handling.

CVE-2022-22657: Brandon Perry of Atredis Partners

**GarageBand MIDI**

Available for: macOS Monterey

Impact: Opening a maliciously crafted file may lead to unexpected application termination or arbitrary code execution

Description: An out-of-bounds read was addressed with improved bounds checking.

CVE-2022-22664: Brandon Perry of Atredis Partners

**Graphics Drivers**

Available for: macOS Monterey

Impact: A malicious application may be able to execute arbitrary code with kernel privileges

Description: A buffer overflow was addressed with improved bounds checking.

CVE-2021-30977: Jack Dates of RET2 Systems, Inc.

Entry added May 25, 2022

**ImageIO**

Available for: macOS Monterey

Impact: Processing a maliciously crafted image may lead to arbitrary code execution

Description: An out-of-bounds read was addressed with improved input validation.

CVE-2022-22611: Xingyu Jin of Google

**ImageIO**

Available for: macOS Monterey

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory consumption issue was addressed with improved memory handling.

CVE-2022-22612: Xingyu Jin of Google

**Intel Graphics Driver**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A type confusion issue was addressed with improved state handling.

CVE-2022-46706: Wang Yu of Cyberserval, and Pan ZhenPeng (@Peterpan0927) of Alibaba Security Pandora Lab

Entry added June 8, 2023

**Intel Graphics Driver**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A type confusion issue was addressed with improved state handling.

CVE-2022-22661: Wang Yu of Cyberserval and Pan ZhenPeng (@Peterpan0927) of Alibaba Security Pandora Lab

Entry updated May 25, 2022, updated June 8, 2023

**IOGPUFamily**

Available for: macOS Monterey

Impact: An application may be able to gain elevated privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22641: Mohamed Ghannam (@\_simo36)

**Kernel**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22613: Alex, an anonymous researcher

**Kernel**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22614: an anonymous researcher

CVE-2022-22615: an anonymous researcher

**Kernel**

Available for: macOS Monterey

Impact: A malicious application may be able to elevate privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22632: Keegan Saunders

**Kernel**

Available for: macOS Monterey

Impact: An attacker in a privileged position may be able to perform a denial of service attack

Description: A null pointer dereference was addressed with improved validation.

CVE-2022-22638: derrek (@derrekr6)

**Kernel**

Available for: macOS Monterey

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22640: sqrtpwn

**LaunchServices**

Available for: macOS Monterey

Impact: An app may be able to bypass certain Privacy preferences

Description: A logic issue was addressed with improved restrictions.

CVE-2021-30946: @gorelics, and Ron Masas of BreakPoint.sh

Entry added June 8, 2023

**libarchive**

Available for: macOS Monterey

Impact: Multiple issues in libarchive

Description: Multiple memory corruption issues existed in libarchive. These issues were addressed with improved input validation.

CVE-2021-36976

**LLVM**

Available for: macOS Monterey

Impact: An application may be able to delete files for which it does not have permission

Description: A race condition was addressed with additional validation.

CVE-2022-21658: Florian Weimer (@fweimer)

Entry added May 25, 2022

**Login Window**

Available for: macOS Monterey

Impact: A person with access to a Mac may be able to bypass Login Window

Description: This issue was addressed with improved checks.

CVE-2022-22647: Yuto Ikeda of Kyushu University

Entry updated May 25, 2022

**LoginWindow**

Available for: macOS Monterey

Impact: A local attacker may be able to view the previous logged in user’s desktop from the fast user switching screen

Description: An authentication issue was addressed with improved state management.

CVE-2022-22656

**MobileAccessoryUpdater**

Available for: macOS Monterey

Impact: A malicious application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved memory handling.

CVE-2022-22672: Siddharth Aeri (@b1n4r1b01)

Entry added May 25, 2022

**NSSpellChecker**

Available for: macOS Monterey

Impact: A malicious application may be able to access information about a user's contacts

Description: A privacy issue existed in the handling of Contact cards. This was addressed with improved state management.

CVE-2022-22644: Thomas Roth (@stacksmashing) of leveldown security

Entry updated May 25, 2022

**PackageKit**

Available for: macOS Monterey

Impact: A malicious application may be able to modify protected parts of the file system

Description: A race condition was addressed with additional validation.

CVE-2022-26690: Mickey Jin (@patch1t) of Trend Micro

Entry added May 25, 2022

**PackageKit**

Available for: macOS Monterey

Impact: A malicious app with root privileges may be able to modify the contents of system files

Description: An issue in the handling of symlinks was addressed with improved validation.

CVE-2022-26688: Mickey Jin (@patch1t) of Trend Micro

Entry added May 25, 2022

**PackageKit**

Available for: macOS Monterey

Impact: An application may be able to gain elevated privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22617: Mickey Jin (@patch1t)

**Preferences**

Available for: macOS Monterey

Impact: A malicious application may be able to read other applications' settings

Description: The issue was addressed with additional permissions checks.

CVE-2022-22609: Mickey Jin (@patch1t), and Zhipeng Huo (@R3dF09) and Yuebin Sun (@yuebinsun2020) of Tencent Security Xuanwu Lab (xlab.tencent.com)

Entry updated June 8, 2023

**QuickTime Player**

Available for: macOS Monterey

Impact: A plug-in may be able to inherit the application's permissions and access user data

Description: This issue was addressed with improved checks.

CVE-2022-22650: Wojciech Reguła (@\_r3ggi) of SecuRing

**Safari Downloads**

Available for: macOS Monterey

Impact: A maliciously crafted ZIP archive may bypass Gatekeeper checks

Description: This issue was addressed with improved checks.

CVE-2022-22616: Ferdous Saljooki (@malwarezoo) and Jaron Bradley (@jbradley89) of Jamf Software, Mickey Jin (@patch1t)

**Sandbox**

Available for: macOS Monterey

Impact: An app may be able to leak sensitive user information

Description: An access issue was addressed with improvements to the sandbox.

CVE-2022-22655: Csaba Fitzl (@theevilbit) of Offensive Security

Entry added June 8, 2023

**Sandbox**

Available for: macOS Monterey

Impact: A malicious application may be able to bypass certain Privacy preferences

Description: The issue was addressed with improved permissions logic.

CVE-2022-22600: Sudhakar Muthumani (@sudhakarmuthu04) of Primefort Private Limited, Khiem Tran

Entry updated May 25, 2022

**Siri**

Available for: macOS Monterey

Impact: A person with physical access to a device may be able to use Siri to obtain some location information from the lock screen

Description: A permissions issue was addressed with improved validation.

CVE-2022-22599: Andrew Goldberg of the University of Texas at Austin, McCombs School of Business (linkedin.com/andrew-goldberg-/)

Entry updated May 25, 2022

**SMB**

Available for: macOS Monterey

Impact: A remote attacker may be able to cause unexpected system termination or corrupt kernel memory

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22651: Felix Poulin-Belanger

**SoftwareUpdate**

Available for: macOS Monterey

Impact: An application may be able to gain elevated privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22639: Mickey Jin (@patch1t)

**System Preferences**

Available for: macOS Monterey

Impact: An app may be able to spoof system notifications and UI

Description: This issue was addressed with a new entitlement.

CVE-2022-22660: Guilherme Rambo of Best Buddy Apps (rambo.codes)

**UIKit**

Available for: macOS Monterey

Impact: A person with physical access to an iOS device may be able to see sensitive information via keyboard suggestions

Description: This issue was addressed with improved checks.

CVE-2022-22621: Joey Hewitt

**Vim**

Available for: macOS Monterey

Impact: Multiple issues in Vim

Description: Multiple issues were addressed by updating Vim.

CVE-2021-4136

CVE-2021-4166

CVE-2021-4173

CVE-2021-4187

CVE-2021-4192

CVE-2021-4193

CVE-2021-46059

CVE-2022-0128

CVE-2022-0156

CVE-2022-0158

**VoiceOver**

Available for: macOS Monterey

Impact: A user may be able to view restricted content from the lock screen

Description: A lock screen issue was addressed with improved state management.

CVE-2021-30918: an anonymous researcher

**WebKit**

Available for: macOS Monterey

Impact: Processing maliciously crafted web content may disclose sensitive user information

Description: A cookie management issue was addressed with improved state management.

WebKit Bugzilla: 232748

CVE-2022-22662: Prakash (@1lastBr3ath) of Threat Nix

**WebKit**

Available for: macOS Monterey

Impact: Processing maliciously crafted web content may lead to code execution

Description: A memory corruption issue was addressed with improved state management.

WebKit Bugzilla: 232812

CVE-2022-22610: Quan Yin of Bigo Technology Live Client Team

**WebKit**

Available for: macOS Monterey

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A use after free issue was addressed with improved memory management.

WebKit Bugzilla: 233172

CVE-2022-22624: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

WebKit Bugzilla: 234147

CVE-2022-22628: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

**WebKit**

Available for: macOS Monterey

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A buffer overflow issue was addressed with improved memory handling.

WebKit Bugzilla: 234966

CVE-2022-22629: Jeonghoon Shin at Theori working with Trend Micro Zero Day Initiative

**WebKit**

Available for: macOS Monterey

Impact: A malicious website may cause unexpected cross-origin behavior

Description: A logic issue was addressed with improved state management.

WebKit Bugzilla: 235294

CVE-2022-22637: Tom McKee of Google

**Wi-Fi**

Available for: macOS Monterey

Impact: A malicious application may be able to leak sensitive user information

Description: A logic issue was addressed with improved restrictions.

CVE-2022-22668: MrPhil17

**xar**

Available for: macOS Monterey

Impact: A local user may be able to write arbitrary files

Description: A validation issue existed in the handling of symlinks. This issue was addressed with improved validation of symlinks.

CVE-2022-22582: Richard Warren of NCC Group

## Additional recognition

**AirDrop**

We would like to acknowledge Omar Espino (omespino.com), Ron Masas of BreakPoint.sh for their assistance.

**Bluetooth**

We would like to acknowledge an anonymous researcher, chenyuwang (@mzzzz\_\_) of Tencent Security Xuanwu Lab for their assistance.

**Disk Utility**

We would like to acknowledge Csaba Fitzl (@theevilbit) of Offensive Security for their assistance.

Entry added June 8, 2023

**Face Gallery**

We would like to acknowledge Tian Zhang (@KhaosT) for their assistance.

**Intel Graphics Driver**

We would like to acknowledge Jack Dates of RET2 Systems, Inc., Yinyi Wu (@3ndy1) for their assistance.

**Local Authentication**

We would like to acknowledge an anonymous researcher for their assistance.

**Notes**

We would like to acknowledge Nathaniel Ekoniak of Ennate Technologies for their assistance.

**Password Manager**

We would like to acknowledge Maximilian Golla (@m33x) of Max Planck Institute for Security and Privacy (MPI-SP) for their assistance.

**Siri**

We would like to acknowledge an anonymous researcher for their assistance.

**syslog**

We would like to acknowledge Yonghwi Jin (@jinmo123) of Theori for their assistance.

**TCC**

We would like to acknowledge Csaba Fitzl (@theevilbit) of Offensive Security for their assistance.

**UIKit**

We would like to acknowledge Tim Shadel of Day Logger, Inc. for their assistance.

**WebKit**

We would like to acknowledge Abdullah Md Shaleh for their assistance.

**WebKit Storage**

We would like to acknowledge Martin Bajanik of FingerprintJS for their assistance.

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: October 31, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of macOS Monterey 12.3

[United States](https://support.apple.com/en-us/102882/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from security.gentoo.org_8d9f0d19_20250108_140527.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Rust: Multiple Vulnerabilities — GLSA **202210-09**

Multiple vulnerabilities have been discovered in Rust, the worst of which could result in denial of service.

### Affected packages

| Package | **dev-lang/rust** on all architectures |
| --- | --- |
| Affected versions | < **1.63.0-r1** |
| Unaffected versions | >= **1.63.0-r1** |

| Package | **dev-lang/rust-bin** on all architectures |
| --- | --- |
| Affected versions | < **1.64.0** |
| Unaffected versions | >= **1.64.0** |

### Background

A systems programming language that runs blazingly fast, prevents segfaults, and guarantees thread safety.

### Description

Multiple vulnerabilities have been discovered in Rust. Please review the CVE identifiers referenced below for details.

### Impact

Please review the referenced CVE identifiers for details.

### Workaround

There is no known workaround at this time.

### Resolution

All Rust users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-lang/rust-1.63.0-r1"

```

All Rust binary users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-lang/rust-bin-1.64.0"

```

In addition, users using Portage 3.0.38 or later should ensure that packages with Rust binaries have no vulnerable code statically linked into their binaries by rebuilding the @rust-rebuild set:

```
 # emerge --ask --oneshot --verbose @rust-rebuild

```
### References

* [CVE-2021-28875](https://nvd.nist.gov/vuln/detail/CVE-2021-28875)
* [CVE-2021-28876](https://nvd.nist.gov/vuln/detail/CVE-2021-28876)
* [CVE-2021-28877](https://nvd.nist.gov/vuln/detail/CVE-2021-28877)
* [CVE-2021-28878](https://nvd.nist.gov/vuln/detail/CVE-2021-28878)
* [CVE-2021-28879](https://nvd.nist.gov/vuln/detail/CVE-2021-28879)
* [CVE-2021-29922](https://nvd.nist.gov/vuln/detail/CVE-2021-29922)
* [CVE-2021-31162](https://nvd.nist.gov/vuln/detail/CVE-2021-31162)
* [CVE-2021-36317](https://nvd.nist.gov/vuln/detail/CVE-2021-36317)
* [CVE-2021-36318](https://nvd.nist.gov/vuln/detail/CVE-2021-36318)
* [CVE-2021-42574](https://nvd.nist.gov/vuln/detail/CVE-2021-42574)
* [CVE-2021-42694](https://nvd.nist.gov/vuln/detail/CVE-2021-42694)
* [CVE-2022-21658](https://nvd.nist.gov/vuln/detail/CVE-2022-21658)
* [CVE-2022-36113](https://nvd.nist.gov/vuln/detail/CVE-2022-36113)
* [CVE-2022-36114](https://nvd.nist.gov/vuln/detail/CVE-2022-36114)

**Release date**

October 16, 2022

**Latest revision**

October 16, 2022: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [870166](https://bugs.gentoo.org/show_bug.cgi?id=870166)
* [831638](https://bugs.gentoo.org/show_bug.cgi?id=831638)
* [821157](https://bugs.gentoo.org/show_bug.cgi?id=821157)
* [807052](https://bugs.gentoo.org/show_bug.cgi?id=807052)
* [782367](https://bugs.gentoo.org/show_bug.cgi?id=782367)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.fedoraproject.org_e1cd6499_20250108_140526.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ.mbox.gz?message=C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/#C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ)

# [SECURITY] Fedora 34 Update: rust-1.58.1-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

24 Jan
2022

24 Jan
'22

7:04 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-2c73789458
2022-01-25 01:02:31.955867
--------------------------------------------------------------------------------

Name : rust
Product : Fedora 34
Version : 1.58.1
Release : 1.fc34
URL : <https://www.rust-lang.org>
Summary : The Rust Programming Language
Description :
Rust is a systems programming language that runs blazingly fast, prevents
segfaults, and guarantees thread safety.

This package includes the Rust compiler and documentation generator.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2022-21658, a TOCTOU race condition in
std::fs::remove\_dir\_all. Privileged programs should be rebuilt if they use this
function on paths that may be manipulated with lesser privileges. For more
details, see the upstream [security advisory](<https://blog.rust->
lang.org/2022/01/20/cve-2022-21658.html).
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Jan 20 2022 Josh Stone jistone@redhat.com - 1.58.1-1
- Update to 1.58.1.
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2041504 - CVE-2022-21658 rust: Race condition in remove\_dir\_all leading to removal of files outside of the directory being removed
<https://bugzilla.redhat.com/show_bug.cgi?id=2041504>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-2c73789458' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ/#C63NH72Q7UHJM5V3IVYRI7LVBGGFQMSQ)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_e26ed998_20250108_161834.html ===

[Skip to content](#start-of-content)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

# Sign in to GitHub

{{ message }}

Username or email address

Password

[Forgot password?](/password_reset)

## Password login alternatives

Sign in with a passkey

New to GitHub?
[Create an account](/signup?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2Fnew%2F93071%29.&source=login)

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Docs](https://docs.github.com)
* [Contact GitHub Support](https://support.github.com)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a13b497b_20250108_140521.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=rust-lang%2Frust)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rust-lang](/rust-lang)
/
**[rust](/rust-lang/rust)**
Public

* [Notifications](/login?return_to=%2Frust-lang%2Frust) You must be signed in to change notification settings
* [Fork
  13k](/login?return_to=%2Frust-lang%2Frust)
* [Star
   100k](/login?return_to=%2Frust-lang%2Frust)

* [Code](/rust-lang/rust)
* [Issues
  5k+](/rust-lang/rust/issues)
* [Pull requests
  653](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects
  7](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

Additional navigation options

* [Code](/rust-lang/rust)
* [Issues](/rust-lang/rust/issues)
* [Pull requests](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# [stable] Fix CVE 2022 21658 and prepare 1.58.1 #93110

 Merged

[bors](/bors)
merged 15 commits into
[rust-lang:stable](/rust-lang/rust/tree/stable "rust-lang/rust:stable")
from
[pietroalbini:pa-cve-2022-21658-stable](/pietroalbini/rust/tree/pa-cve-2022-21658-stable "pietroalbini/rust:pa-cve-2022-21658-stable")

Jan 20, 2022

 Merged

# [[stable] Fix CVE 2022 21658 and prepare 1.58.1](#top) #93110

[bors](/bors)
merged 15 commits into
[rust-lang:stable](/rust-lang/rust/tree/stable "rust-lang/rust:stable")
from
[pietroalbini:pa-cve-2022-21658-stable](/pietroalbini/rust/tree/pa-cve-2022-21658-stable "pietroalbini/rust:pa-cve-2022-21658-stable")

Jan 20, 2022

[Conversation
26](/rust-lang/rust/pull/93110)
[Commits
15](/rust-lang/rust/pull/93110/commits)
[Checks
0](/rust-lang/rust/pull/93110/checks)
[Files changed](/rust-lang/rust/pull/93110/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=60&v=4)](/pietroalbini)

Copy link

Member

### @pietroalbini **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issue-1109166475)

Followup to [#93071](https://github.com/rust-lang/rust/pull/93071). Includes the fix for CVE-2022-21658.

r? [@ghost](https://github.com/ghost)

cc @rust-lang/release @rust-lang/security

Sorry, something went wrong.

All reactions

 [calebcartwright](/calebcartwright)
and others
added 11 commits
[January 19, 2022 10:25](#commits-pushed-b167157)

[![@calebcartwright](https://avatars.githubusercontent.com/u/13042488?s=40&v=4)](/calebcartwright) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[fix(rustfmt): resolve generated file formatting issue](/rust-lang/rust/pull/93110/commits/b16715751a222be1953bae1010c77eae6996fd8a "fix(rustfmt): resolve generated file formatting issue")`

`[b167157](/rust-lang/rust/pull/93110/commits/b16715751a222be1953bae1010c77eae6996fd8a)`

[![@Aaron1011](https://avatars.githubusercontent.com/u/1408859?s=40&v=4)](/Aaron1011) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Only check for errors in predicate when skipping impl assembly](/rust-lang/rust/pull/93110/commits/70a61c97cbc8375432b16482f127d45b08054951 "Only check for errors in predicate when skipping impl assembly

Prior to PR #91205, checking for errors in the overall obligation
would check checking the `ParamEnv`, due to an incorrect
`super_visit_with` impl. With this bug fixed, we will now
bail out of impl candidate assembly if the `ParamEnv` contains
any error types.

In practice, this appears to be overly conservative - when an error
occurs early in compilation, we end up giving up early for some
predicates that we could have successfully evaluated without overflow.
By only checking for errors in the predicate itself, we avoid causing
additional spurious 'type annotations needed' errors after a 'real'
error has already occurred.

With this PR, the diagnostic changes caused by PR #91205 are reverted.")`
 …

`[70a61c9](/rust-lang/rust/pull/93110/commits/70a61c97cbc8375432b16482f127d45b08054951)`

```
Prior to PR [rust-lang#91205](https://github.com/rust-lang/rust/pull/91205), checking for errors in the overall obligation
would check checking the `ParamEnv`, due to an incorrect
`super_visit_with` impl. With this bug fixed, we will now
bail out of impl candidate assembly if the `ParamEnv` contains
any error types.

In practice, this appears to be overly conservative - when an error
occurs early in compilation, we end up giving up early for some
predicates that we could have successfully evaluated without overflow.
By only checking for errors in the predicate itself, we avoid causing
additional spurious 'type annotations needed' errors after a 'real'
error has already occurred.

With this PR, the diagnostic changes caused by PR [rust-lang#91205](https://github.com/rust-lang/rust/pull/91205) are reverted.
```

[![@Qwaz](https://avatars.githubusercontent.com/u/5073807?s=40&v=4)](/Qwaz) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Move non_send_fields_in_send_ty back to nursery](/rust-lang/rust/pull/93110/commits/a14ae6f0791f499a2205a11846fdd75f25a5ae9a "Move `non_send_fields_in_send_ty` back to `nursery`")`

`[a14ae6f](/rust-lang/rust/pull/93110/commits/a14ae6f0791f499a2205a11846fdd75f25a5ae9a)`

[![@Jarcho](https://avatars.githubusercontent.com/u/7761774?s=40&v=4)](/Jarcho) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Handle implicit named arguments in useless_format](/rust-lang/rust/pull/93110/commits/408709d88c4e8928aaf57663e6d4b692839e9626 "Handle implicit named arguments in `useless_format`")`

`[408709d](/rust-lang/rust/pull/93110/commits/408709d88c4e8928aaf57663e6d4b692839e9626)`

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[add release notes for 1.58.1](/rust-lang/rust/pull/93110/commits/acd647611d03cc80bb2b9cc6186c8f83c8ca7940 "add release notes for 1.58.1")`

`[acd6476](/rust-lang/rust/pull/93110/commits/acd647611d03cc80bb2b9cc6186c8f83c8ca7940)`

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[bump cargo to fix spurious failure](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865 "bump cargo to fix spurious failure")`

`[0076b17](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865)`

[![@ChrisDenton](https://avatars.githubusercontent.com/u/4459874?s=40&v=4)](/ChrisDenton) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Fix CVE-2022-21658 for Windows](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714 "Fix CVE-2022-21658 for Windows")`

`[4f0ad1c](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)`

[![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=40&v=4)](/hkratz) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Fix CVE-2022-21658 for UNIX-like](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946 "Fix CVE-2022-21658 for UNIX-like")`

`[32ed6e5](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)`

[![@alexcrichton](https://avatars.githubusercontent.com/u/64996?s=40&v=4)](/alexcrichton) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Fix CVE-2022-21658 for WASI](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf "Fix CVE-2022-21658 for WASI")`

`[406cc07](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)`

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Update std::fs::remove_dir_all documentation](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e "Update std::fs::remove_dir_all documentation")`

`[42cb17e](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e)`

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[Update release notes to include CVE-2022-21658](/rust-lang/rust/pull/93110/commits/1e17daf1e0104ef096f70c062dd92e4310cd2966 "Update release notes to include CVE-2022-21658")`

`[1e17daf](/rust-lang/rust/pull/93110/commits/1e17daf1e0104ef096f70c062dd92e4310cd2966)`

[![@rustbot](https://avatars.githubusercontent.com/u/47979223?s=40&u=8e3da52dfa4b8cfeb822acd82600ee339d4637bd&v=4)](/rustbot)
[rustbot](/rustbot)
added
the
[T-compiler](/rust-lang/rust/labels/T-compiler)
Relevant to the compiler team, which will review and decide on the PR/issue.
label
[Jan 20, 2022](#event-5923992780)

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=80&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)

Copy link

Member

Author

### **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issuecomment-1017386815)

| [@bors](https://github.com/bors) r+ p=1000 rollup=never |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017386866)

| 📌 Commit [1e17daf](https://github.com/rust-lang/rust/commit/1e17daf1e0104ef096f70c062dd92e4310cd2966) has been approved by `pietroalbini` |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
added
the
[S-waiting-on-bors](/rust-lang/rust/labels/S-waiting-on-bors)
Status: Waiting on bors to run and complete tests. Bors will change the label on completion.
label
[Jan 20, 2022](#event-5923994633)

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017387421)

| ⌛ Testing commit [1e17daf](https://github.com/rust-lang/rust/commit/1e17daf1e0104ef096f70c062dd92e4310cd2966) with merge 141c792fcb22e7b5e2e37ec143a68518b2e9c48a... |
| --- |

All reactions

Sorry, something went wrong.

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)
[pietroalbini](/pietroalbini)
mentioned this pull request
[Jan 20, 2022](#ref-pullrequest-1107882719)

[[stable] Prepare 1.58.1 point release
#93071](/rust-lang/rust/pull/93071)
 Merged

[![@rust-log-analyzer](https://avatars.githubusercontent.com/u/68648060?s=80&u=5800488b3a43878989d2df5c0eead5c90ce18593&v=4)](/rust-log-analyzer)

### This comment has been minimized.

[Sign in to view](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110)

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017396482)

| 💔 Test failed - [checks-actions](https://github.com/rust-lang-ci/rust/runs/4881260973?check_suite_focus=true) |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
added
[S-waiting-on-review](/rust-lang/rust/labels/S-waiting-on-review)
Status: Awaiting review from the assignee but also interested parties.
and removed
[S-waiting-on-bors](/rust-lang/rust/labels/S-waiting-on-bors)
Status: Waiting on bors to run and complete tests. Bors will change the label on completion.
labels
[Jan 20, 2022](#event-5924057989)

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=80&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)

Copy link

Member

Author

### **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issuecomment-1017407255)

| cc [@hkratz](https://github.com/hkratz), something went wrong during the rebase :( |
| --- |

All reactions

Sorry, something went wrong.

[![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=40&v=4)](/hkratz) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

`[backport missed illumos fix](/rust-lang/rust/pull/93110/commits/cb88166762d30dfc6f7d57679755e79ba5676f4c "backport missed illumos fix")`

`[cb88166](/rust-lang/rust/pull/93110/commits/cb88166762d30dfc6f7d57679755e79ba5676f4c)`

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=80&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)

Copy link

Member

Author

### **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issuecomment-1017411001)

| [@bors](https://github.com/bors) r+ p=1000 rollup=never |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017411011)

| 📌 Commit [cb88166](https://github.com/rust-lang/rust/commit/cb88166762d30dfc6f7d57679755e79ba5676f4c) has been approved by `pietroalbini` |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
added
[S-waiting-on-bors](/rust-lang/rust/labels/S-waiting-on-bors)
Status: Waiting on bors to run and complete tests. Bors will change the label on completion.
and removed
[S-waiting-on-review](/rust-lang/rust/labels/S-waiting-on-review)
Status: Awaiting review from the assignee but also interested parties.
labels
[Jan 20, 2022](#event-5924182752)

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017411110)

| ⌛ Testing commit [cb88166](https://github.com/rust-lang/rust/commit/cb88166762d30dfc6f7d57679755e79ba5676f4c) with merge 2486f951e3e7b4ec9048593c82664b7353d1814d... |
| --- |

All reactions

Sorry, something went wrong.

14 hidden items

Load more…

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=80&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)

Copy link

Member

Author

### **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issuecomment-1017459309)

| [@bors](https://github.com/bors) r+ p=1000 rollup=never  Improved the Fuchsia fix and fixed a compiler error in REDOX. |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017459323)

| 📌 Commit [1c63ec4](https://github.com/rust-lang/rust/commit/1c63ec48b8cbf553d291a04957d86cfd191fcd78) has been approved by `pietroalbini` |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
added
[S-waiting-on-bors](/rust-lang/rust/labels/S-waiting-on-bors)
Status: Waiting on bors to run and complete tests. Bors will change the label on completion.
and removed
[S-waiting-on-review](/rust-lang/rust/labels/S-waiting-on-review)
Status: Awaiting review from the assignee but also interested parties.
labels
[Jan 20, 2022](#event-5924565717)

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017459425)

| ⌛ Testing commit [1c63ec4](https://github.com/rust-lang/rust/commit/1c63ec48b8cbf553d291a04957d86cfd191fcd78) with merge [08182e4](https://github.com/rust-lang/rust/commit/08182e4670b07fbb0511e01338eb9d6402c90dd3)... |
| --- |

All reactions

Sorry, something went wrong.

This was referenced Jan 20, 2022

[intra-doc: Use the impl's assoc item where possible
#92680](/rust-lang/rust/pull/92680)
 Merged

[Fix variant index / discriminant confusion in uninhabited enum branching
#89764](/rust-lang/rust/pull/89764)
 Merged

[update comment for `ensure_monomorphic_enough`
#93114](/rust-lang/rust/pull/93114)
 Merged

[Update some rustc dependencies to deduplicate them
#92896](/rust-lang/rust/pull/92896)
 Merged

[Stabilize `-Z print-link-args` as `--print link-args`
#91606](/rust-lang/rust/pull/91606)
 Merged

[[beta] Fix CVE-2022-21658
#93111](/rust-lang/rust/pull/93111)
 Merged

[Fix CVE-2022-21658
#93112](/rust-lang/rust/pull/93112)
 Merged

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=80&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)

Copy link

Member

Author

### **[pietroalbini](/pietroalbini)** commented [Jan 20, 2022](#issuecomment-1017640351)

| [@bors](https://github.com/bors) treeclosed- |
| --- |

All reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=80&v=4)](/bors)

Copy link

Contributor

### **[bors](/bors)** commented [Jan 20, 2022](#issuecomment-1017646858)

| ☀️ Test successful - [checks-actions](https://github.com/rust-lang-ci/rust/runs/4884645566?check_suite_focus=true) Approved by: pietroalbini Pushing [08182e4](https://github.com/rust-lang/rust/commit/08182e4670b07fbb0511e01338eb9d6402c90dd3) to stable... |
| --- |

 🎉
3
 flip1995, tatsuya6502, and pietroalbini reacted with hooray emoji

All reactions

* 🎉
  3 reactions

Sorry, something went wrong.

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
added
the
[merged-by-bors](/rust-lang/rust/labels/merged-by-bors)
This PR was explicitly merged by bors.
label
[Jan 20, 2022](#event-5926042510)

[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)
[bors](/bors)
merged commit [`08182e4`](/rust-lang/rust/commit/08182e4670b07fbb0511e01338eb9d6402c90dd3)
into
rust-lang:stable

[Jan 20, 2022](https://github.com/rust-lang/rust/pull/93110#event-5926043202)

 [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)
[pietroalbini](/pietroalbini)
deleted the
pa-cve-2022-21658-stable

branch
[January 20, 2022 15:50](#event-5926045191)

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)
[pietroalbini](/pietroalbini)
mentioned this pull request
[Jan 20, 2022](#ref-pullrequest-1109528787)

[[stable] Prepare 1.58.1 artifacts
#93121](/rust-lang/rust/pull/93121)
 Merged

[bors](/bors)
added a commit
to rust-lang-ci/rust
that referenced
this pull request
[Jan 20, 2022](#ref-commit-db9d1b2)
[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)

`[Auto merge of](/rust-lang-ci/rust/commit/db9d1b20bba1968c1ec1fc49616d4742c1725b4b "Auto merge of #93121 - pietroalbini:pa-1.58.1-really, r=pietroalbini

[stable] Prepare 1.58.1 artifacts

#93110 added all the changes needed for the 1.58.1 release, but didn't bump the version number. This PR bumps the version number to produce the 1.58.1 stable artifacts.

r? `@ghost`") [rust-lang#93121](https://github.com/rust-lang/rust/pull/93121) [- pietroalbini:pa-1.58.1-really, r=piet…](/rust-lang-ci/rust/commit/db9d1b20bba1968c1ec1fc49616d4742c1725b4b "Auto merge of #93121 - pietroalbini:pa-1.58.1-really, r=pietroalbini

[stable] Prepare 1.58.1 artifacts

#93110 added all the changes needed for the 1.58.1 release, but didn't bump the version number. This PR bumps the version number to produce the 1.58.1 stable artifacts.

r? `@ghost`")`
…

`[db9d1b2](/rust-lang-ci/rust/commit/db9d1b20bba1968c1ec1fc49616d4742c1725b4b)`

```
…roalbini

[stable] Prepare 1.58.1 artifacts

[rust-lang#93110](https://github.com/rust-lang/rust/pull/93110) added all the changes needed for the 1.58.1 release, but didn't bump the version number. This PR bumps the version number to produce the 1.58.1 stable artifacts.

r? `@ghost`
```

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&u=8c43b73285fe3e82d464b38b98020290f4bc4882&v=4)](/pietroalbini)
[pietroalbini](/pietroalbini)
mentioned this pull request
[Jan 20, 2022](#ref-pullrequest-1109737704)

[Add script to prevent point releases with same number as existing ones
#93128](/rust-lang/rust/pull/93128)
 Merged

[![the8472](https://avatars.githubusercontent.com/u/1065730?s=60&v=4)](/the8472)

**[the8472](/the8472)**
reviewed
[Jan 20, 2022](#pullrequestreview-858777308)

 [View reviewed changes](/rust-lang/rust/pull/93110/files/1c63ec48b8cbf553d291a04957d86cfd191fcd78)

[library/std/src/sys/unix/fs.rs](/rust-lang/rust/pull/93110/files/1c63ec48b8cbf553d291a04957d86cfd191fcd78#diff-4a74019cd4088485a9e0706be6ccf93ff091cb19d9aad474e4e9d03e2bb8522d)

|  |  | let child = child?; |
| --- | --- | --- |
|  |  | match is\_dir(&child) { |
|  |  | Some(true) => { |
|  |  | remove\_dir\_all\_recursive(Some(fd), Path::new(&child.file\_name()))?; |

Copy link

Member

### @the8472 **[the8472](/the8472)** [Jan 20, 2022](#discussion_r789132637)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This seems like a breaking change since it lacks loop detection? A sufficiently deep directory tree should return ELOOP or ENAMETOOLONG, but the kernel can't do that for us if we're using `openat`. Instead of returning an error it would result stack overflow panics.

I already had a PR open for openat-based remove\_dir\_all ([#88731](https://github.com/rust-lang/rust/pull/88731)) that does loop detection.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @hkratz **[hkratz](/hkratz)** [Jan 20, 2022](#discussion_r789138299) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

There should be no loops. Bind mounts on Linux and directory hardlinks (available for Macos only) are not allowed to loop and we are not descending into symlinked dirs because we open them with `openat(..., O_NOFOLLOW)`.

Sorry, something went wrong.

All reactions

Copy link

Member

### @the8472 **[the8472](/the8472)** [Jan 20, 2022](#discussion_r789141945)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I thought I have managed to introduce loops with bind mounts or overlayfs in the past. But let me check again.

And FUSE might be another option.

Sorry, something went wrong.

All reactions

Copy link

Member

### @the8472 **[the8472](/the8472)** [Jan 20, 2022](#discussion_r789142227)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Anyway, I have filed [#93129](https://github.com/rust-lang/rust/issues/93129) let's continue discussion there.

Sorry, something went wrong.

All reactions

[![@the8472](https://avatars.githubusercontent.com/u/1065730?s=40&v=4)](/the8472)
[the8472](/the8472)
mentioned this pull request
[Jan 20, 2022](#ref-issue-1109754094)

[Security fix for remove\_dir\_all may have introduced a regression how filesystem loops are handled
#93129](/rust-lang/rust/issues/93129)

Open

[matthiaskrgr](/matthiaskrgr)
added a commit
to matthiaskrgr/rust
that referenced
this pull request
[Jan 20, 2022](#ref-commit-9ea966a)
[![@matthiaskrgr](https://avatars.githubusercontent.com/u/476013?s=40&v=4)](/matthiaskrgr)

`[Rollup merge of](/matthiaskrgr/rust/commit/9ea966a275b5d7753f3c14f3122549f08fc854e4 "Rollup merge of #93128 - pietroalbini:pa-verify-stable-version-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with #93110 and #93121, where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`") [rust-lang#93128](https://github.com/rust-lang/rust/pull/93128) [- pietroalbini:pa-verify-stable-versi…](/matthiaskrgr/rust/commit/9ea966a275b5d7753f3c14f3122549f08fc854e4 "Rollup merge of #93128 - pietroalbini:pa-verify-stable-version-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with #93110 and #93121, where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`")`
…

`[9ea966a](/matthiaskrgr/rust/commit/9ea966a275b5d7753f3c14f3122549f08fc854e4)`

```
…on-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with [rust-lang#93110](https://github.com/rust-lang/rust/pull/93110) and [rust-lang#93121](https://github.com/rust-lang/rust/pull/93121), where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`
```

[![@dscottboggs](https://avatars.githubusercontent.com/u/7088510?s=40&v=4)](/dscottboggs)
[dscottboggs](/dscottboggs)
mentioned this pull request
[Jan 23, 2022](#ref-pullrequest-1111863645)

[Bump rust version to mitigate CVE-2022-21658
dani-garcia/vaultwarden#2255](/dani-garcia/vaultwarden/pull/2255)
 Merged

[ehuss](/ehuss)
pushed a commit
to ehuss/rust
that referenced
this pull request
[Jan 25, 2022](#ref-commit-9f7c5dc)
[![@matthiaskrgr](https://avatars.githubusercontent.com/u/476013?s=40&v=4)](/matthiaskrgr) [![@ehuss](https://avatars.githubusercontent.com/u/43198?s=40&v=4)](/ehuss)

`[Rollup merge of](/ehuss/rust/commit/9f7c5dce21e0e17833ff6da4800ce1211aca02de "Rollup merge of #93128 - pietroalbini:pa-verify-stable-version-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with #93110 and #93121, where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`") [rust-lang#93128](https://github.com/rust-lang/rust/pull/93128) [- pietroalbini:pa-verify-stable-versi…](/ehuss/rust/commit/9f7c5dce21e0e17833ff6da4800ce1211aca02de "Rollup merge of #93128 - pietroalbini:pa-verify-stable-version-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with #93110 and #93121, where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`")`
…

`[9f7c5dc](/ehuss/rust/commit/9f7c5dce21e0e17833ff6da4800ce1211aca02de)`

```
…on-number, r=Mark-Simulacrum

Add script to prevent point releases with same number as existing ones

This will hopefully prevent what happened today with [rust-lang#93110](https://github.com/rust-lang/rust/pull/93110) and [rust-lang#93121](https://github.com/rust-lang/rust/pull/93121), where we built point release artifacts without changing version numbers, thus requiring another PR to change the version number.

r? `@Mark-Simulacrum`
```

[![@flip1995](https://avatars.githubusercontent.com/u/9744647?s=40&v=4)](/flip1995)
[flip1995](/flip1995)
mentioned this pull request
[Jan 27, 2022](#ref-pullrequest-1116276858)

[[beta] Clippy: Handle implicit named arguments in `useless_format`
#93377](/rust-lang/rust/pull/93377)
 Merged

[bors](/bors)
added a commit
to rust-lang-ci/rust
that referenced
this pull request
[Jan 27, 2022](#ref-commit-28c8a34)
[![@bors](https://avatars.githubusercontent.com/u/3372342?s=40&v=4)](/bors)

`[Auto merge of](/rust-lang-ci/rust/commit/28c8a34e18fc05277c81328d1bbf5ed931f4d22e "Auto merge of #93377 - flip1995:beta-backport, r=Mark-Simulacrum

[beta] Clippy: Handle implicit named arguments in `useless_format`

Closes #92938

This backports a Clippy fix to beta, that was already backported for 1.58.1 in https://github.com/rust-lang/rust/pull/93110") [rust-lang#93377](https://github.com/rust-lang/rust/pull/93377) [- flip1995:beta-backport, r=Mark-Simula…](/rust-lang-ci/rust/commit/28c8a34e18fc05277c81328d1bbf5ed931f4d22e "Auto merge of #93377 - flip1995:beta-backport, r=Mark-Simulacrum

[beta] Clippy: Handle implicit named arguments in `useless_format`

Closes #92938

This backports a Clippy fix to beta, that was already backported for 1.58.1 in https://github.com/rust-lang/rust/pull/93110")`
…

`[28c8a34](/rust-lang-ci/rust/commit/28c8a34e18fc05277c81328d1bbf5ed931f4d22e)`

```
…crum

[beta] Clippy: Handle implicit named arguments in `useless_format`

Closes [rust-lang#92938](https://github.com/rust-lang/rust/issues/92938)

This backports a Clippy fix to beta, that was already backported for 1.58.1 in [rust-lang#93110](https://github.com/rust-lang/rust/pull/93110)
```

[![@cuviper](https://avatars.githubusercontent.com/u/36186?s=40&v=4)](/cuviper)
[cuviper](/cuviper)
added this to the [1.58.1](/rust-lang/rust/milestone/91) milestone
[Nov 16, 2023](#event-10987237553)

[![@fmease](https://avatars.githubusercontent.com/u/14913065?s=40&v=4)](/fmease)
[fmease](/fmease)
mentioned this pull request
[Nov 25, 2024](#ref-issue-2690425028)

[Meta tracking issue for release notes PRs
#133444](/rust-lang/rust/issues/133444)

Open

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110)

Reviewers

[![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=40&v=4)](/hkratz) [hkratz](/hkratz)

hkratz left review comments

[![@the8472](https://avatars.githubusercontent.com/u/1065730?s=40&v=4)](/the8472) [the8472](/the8472)

the8472 left review comments

Assignees

No one assigned

Labels

[merged-by-bors](/rust-lang/rust/labels/merged-by-bors)
This PR was explicitly merged by bors.
[S-waiting-on-bors](/rust-lang/rust/labels/S-waiting-on-bors)
Status: Waiting on bors to run and complete tests. Bors will change the label on completion.
[T-compiler](/rust-lang/rust/labels/T-compiler)
Relevant to the compiler team, which will review and decide on the PR/issue.

Projects

None yet

Milestone

 [**1.58.1**](/rust-lang/rust/milestone/91 "1.58.1")

Development

Successfully merging this pull request may close these issues.

14 participants

[![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=52&v=4)](/pietroalbini) [![@bors](https://avatars.githubusercontent.com/u/3372342?s=52&v=4)](/bors) [![@rust-log-analyzer](https://avatars.githubusercontent.com/u/68648060?s=52&v=4)](/rust-log-analyzer) [![@the8472](https://avatars.githubusercontent.com/u/1065730?s=52&v=4)](/the8472) [![@hkratz](https://avatars.githubusercontent.com/u/3736990?s=52&v=4)](/hkratz) [![@kaimast](https://avatars.githubusercontent.com/u/4525445?s=52&v=4)](/kaimast) [![@cuviper](https://avatars.githubusercontent.com/u/36186?s=52&v=4)](/cuviper) [![@rustbot](https://avatars.githubusercontent.com/u/47979223?s=52&v=4)](/rustbot) [![@calebcartwright](https://avatars.githubusercontent.com/u/13042488?s=52&v=4)](/calebcartwright) [![@Aaron1011](https://avatars.githubusercontent.com/u/1408859?s=52&v=4)](/Aaron1011) [![@Qwaz](https://avatars.githubusercontent.com/u/5073807?s=52&v=4)](/Qwaz) [![@Jarcho](https://avatars.githubusercontent.com/u/7761774?s=52&v=4)](/Jarcho) [![@ChrisDenton](https://avatars.githubusercontent.com/u/4459874?s=52&v=4)](/ChrisDenton) [![@alexcrichton](https://avatars.githubusercontent.com/u/64996?s=52&v=4)](/alexcrichton)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_abe8ebc6_20250108_140526.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW.mbox.gz?message=7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/#7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW)

# [SECURITY] Fedora 34 Update: rust-afterburn-5.2.0-4.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

13 Feb
2022

13 Feb
'22

1:07 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-06569a0a60
2022-02-13 01:05:54.905011
--------------------------------------------------------------------------------

Name : rust-afterburn
Product : Fedora 34
Version : 5.2.0
Release : 4.fc34
URL : <https://crates.io/crates/afterburn>
Summary : Simple cloud provider agent
Description :
Simple cloud provider agent.

--------------------------------------------------------------------------------
Update Information:

Rebuild to fix
[RUSTSEC-2022-0006](<https://rustsec.org/advisories/RUSTSEC-2022-0006.html>)
(possible memory corruption caused by a data race) and
[CVE-2022-21658](<https://rustsec.org/advisories/CVE-2022-21658.html>) (Time-of-
check Time-of-use race condition in `std::fs::remove\_dir\_all` from the Rust
standard library).
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Jan 31 2022 Benjamin Gilbert bgilbert@redhat.com - 5.2.0-4
- Rebuild to fix out-of-order push
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-06569a0a60' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW/#7JKZDTBMGAWIFJSNWKBMPO5EAKRR4BEW)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_454ee594_20250108_140524.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F4f0ad1c92ca08da6e8dc17838070975762f59714)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Frust%2Fpull%2F93110%2Fcommits%2F4f0ad1c92ca08da6e8dc17838070975762f59714)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=rust-lang%2Frust)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[rust-lang](/rust-lang)
/
**[rust](/rust-lang/rust)**
Public

* [Notifications](/login?return_to=%2Frust-lang%2Frust) You must be signed in to change notification settings
* [Fork
  13k](/login?return_to=%2Frust-lang%2Frust)
* [Star
   100k](/login?return_to=%2Frust-lang%2Frust)

* [Code](/rust-lang/rust)
* [Issues
  5k+](/rust-lang/rust/issues)
* [Pull requests
  653](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects
  7](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

Additional navigation options

* [Code](/rust-lang/rust)
* [Issues](/rust-lang/rust/issues)
* [Pull requests](/rust-lang/rust/pulls)
* [Actions](/rust-lang/rust/actions)
* [Projects](/rust-lang/rust/projects)
* [Security](/rust-lang/rust/security)
* [Insights](/rust-lang/rust/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Frust-lang%2Frust%2Fissues%2Fnew%2Fchoose)
to your account

# [stable] Fix CVE 2022 21658 and prepare 1.58.1 #93110

 Merged

[bors](/bors)
merged 15 commits into
[rust-lang:stable](/rust-lang/rust/tree/stable "rust-lang/rust:stable")
from
[pietroalbini:pa-cve-2022-21658-stable](/pietroalbini/rust/tree/pa-cve-2022-21658-stable "pietroalbini/rust:pa-cve-2022-21658-stable")

Jan 20, 2022

[Conversation
26](/rust-lang/rust/pull/93110)
[Commits
15](/rust-lang/rust/pull/93110/commits)
[Checks
0](/rust-lang/rust/pull/93110/checks)
[Files changed](/rust-lang/rust/pull/93110/files)

 Merged

# [[stable] Fix CVE 2022 21658 and prepare 1.58.1](#top) #93110

 Show file tree

 Hide file tree

Changes from **1 commit**

Commits

[Show all changes

15 commits](/rust-lang/rust/pull/93110/files)
Select commit
Hold shift + click to select a range

[`b167157`
fix(rustfmt): resolve generated file formatting issue

calebcartwright Jan 15, 2022](/rust-lang/rust/pull/93110/commits/b16715751a222be1953bae1010c77eae6996fd8a)
[`70a61c9`
Only check for errors in predicate when skipping impl assembly

Aaron1011 Nov 26, 2021](/rust-lang/rust/pull/93110/commits/70a61c97cbc8375432b16482f127d45b08054951)
[`a14ae6f`
Move `non\_send\_fields\_in\_send\_ty` back to `nursery`

Qwaz Jan 19, 2022](/rust-lang/rust/pull/93110/commits/a14ae6f0791f499a2205a11846fdd75f25a5ae9a)
[`408709d`
Handle implicit named arguments in `useless\_format`

Jarcho Jan 19, 2022](/rust-lang/rust/pull/93110/commits/408709d88c4e8928aaf57663e6d4b692839e9626)
[`acd6476`
add release notes for 1.58.1

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/acd647611d03cc80bb2b9cc6186c8f83c8ca7940)
[`0076b17`
bump cargo to fix spurious failure

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865)
[`4f0ad1c`
Fix CVE-2022-21658 for Windows

ChrisDenton Jan 6, 2022](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)
[`32ed6e5`
Fix CVE-2022-21658 for UNIX-like

hkratz Jan 17, 2022](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)
[`406cc07`
Fix CVE-2022-21658 for WASI

alexcrichton Jan 4, 2022](/rust-lang/rust/pull/93110/commits/406cc071d6cfdfdb678bf3d83d766851de95abaf)
[`42cb17e`
Update std::fs::remove\_dir\_all documentation

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/42cb17e224e1c5ba6292adeb5b77db5bd19a7e3e)
[`1e17daf`
Update release notes to include CVE-2022-21658

pietroalbini Jan 19, 2022](/rust-lang/rust/pull/93110/commits/1e17daf1e0104ef096f70c062dd92e4310cd2966)
[`cb88166`
backport missed illumos fix

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/cb88166762d30dfc6f7d57679755e79ba5676f4c)
[`2923f3a`
Fuchsia apparently does not have DT\_UNKNOWN.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/2923f3a4659326067b5c9dd0ff6e890e4e0681e3)
[`68976d1`
name\_cstr() is not needed for Redox.

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/68976d1ac1718311bf6125e137747f61226638db)
[`1c63ec4`
Better fix for Fuchsia

hkratz Jan 20, 2022](/rust-lang/rust/pull/93110/commits/1c63ec48b8cbf553d291a04957d86cfd191fcd78)

**File filter**

### Filter by extension

Filter by extension

.rs
(2)

All 1 file type selected

---

Viewed files

[Clear filters](/rust-lang/rust/pull/93110/commits/4f0ad1c92ca08da6e8dc17838070975762f59714)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

* library/std/src/sys/windows

  + library/std/src/sys/windows/c.rs
    [c.rs](#diff-96f5abd15201d718909ac0227541d568d9985ac9b075a34ae7eb9f5f66a562f9)
  + library/std/src/sys/windows/fs.rs
    [fs.rs](#diff-e8df55f38a9a224cf1cfd40e6c535535aa66e8073cc8d9b959308659ba1de1f9)

 [Prev](/rust-lang/rust/pull/93110/commits/0076b17beffa3aca955b5311fcdeb2a1309af865)Previous commit

 [Next](/rust-lang/rust/pull/93110/commits/32ed6e599bb4722efefd78bbc9cd7ec4613cb946)Next commit

Fix CVE-2022-21658 for Windows

* Loading branch information

[![@ChrisDenton](https://avatars.githubusercontent.com/u/4459874?s=40&v=4)](/ChrisDenton) [![@pietroalbini](https://avatars.githubusercontent.com/u/2299951?s=40&v=4)](/pietroalbini)

[ChrisDenton](/rust-lang/rust/commits?author=ChrisDenton "View all commits by ChrisDenton")
authored and
[pietroalbini](/rust-lang/rust/commits?author=pietroalbini "View all commits by pietroalbini")
committed
Jan 20, 2022

commit 4f0ad1c92ca08da6e8dc17838070975762f59714

## There are no files selected for viewing

124 changes: 114 additions & 10 deletions

124
[library/std/src/sys/windows/c.rs](#diff-96f5abd15201d718909ac0227541d568d9985ac9b075a34ae7eb9f5f66a562f9 "library/std/src/sys/windows/c.rs")

Show comments

[View file](/pietroalbini/rust/blob/4f0ad1c92ca08da6e8dc17838070975762f59714/library/std/src/sys/windows/c.rs)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,6 +4,7 @@ |
|  |  | #![cfg\_attr(test, allow(dead\_code))] |
|  |  | #![unstable(issue = "none", feature = "windows\_c")] |
|  |  |  |
|  |  | use crate::mem; |
|  |  | use crate::os::raw::NonZero\_c\_ulong; |
|  |  | use crate::os::raw::{c\_char, c\_int, c\_long, c\_longlong, c\_uint, c\_ulong, c\_ushort}; |
|  |  | use crate::ptr; |
| Expand Down  Expand Up | | @@ -36,6 +37,7 @@ pub type USHORT = c\_ushort; |
|  |  | pub type SIZE\_T = usize; |
|  |  | pub type WORD = u16; |
|  |  | pub type CHAR = c\_char; |
|  |  | pub type CCHAR = c\_char; |
|  |  | pub type ULONG\_PTR = usize; |
|  |  | pub type ULONG = c\_ulong; |
|  |  | pub type NTSTATUS = LONG; |
| Expand Down  Expand Up | | @@ -86,16 +88,21 @@ pub const FILE\_SHARE\_DELETE: DWORD = 0x4; |
|  |  | pub const FILE\_SHARE\_READ: DWORD = 0x1; |
|  |  | pub const FILE\_SHARE\_WRITE: DWORD = 0x2; |
|  |  |  |
|  |  | pub const FILE\_OPEN\_REPARSE\_POINT: ULONG = 0x200000; |
|  |  | pub const OBJ\_DONT\_REPARSE: ULONG = 0x1000; |
|  |  |  |
|  |  | pub const CREATE\_ALWAYS: DWORD = 2; |
|  |  | pub const CREATE\_NEW: DWORD = 1; |
|  |  | pub const OPEN\_ALWAYS: DWORD = 4; |
|  |  | pub const OPEN\_EXISTING: DWORD = 3; |
|  |  | pub const TRUNCATE\_EXISTING: DWORD = 5; |
|  |  |  |
|  |  | pub const FILE\_LIST\_DIRECTORY: DWORD = 0x1; |
|  |  | pub const FILE\_WRITE\_DATA: DWORD = 0x00000002; |
|  |  | pub const FILE\_APPEND\_DATA: DWORD = 0x00000004; |
|  |  | pub const FILE\_WRITE\_EA: DWORD = 0x00000010; |
|  |  | pub const FILE\_WRITE\_ATTRIBUTES: DWORD = 0x00000100; |
|  |  | pub const DELETE: DWORD = 0x10000; |
|  |  | pub const READ\_CONTROL: DWORD = 0x00020000; |
|  |  | pub const SYNCHRONIZE: DWORD = 0x00100000; |
|  |  | pub const GENERIC\_READ: DWORD = 0x80000000; |
| Expand Down  Expand Up | | @@ -261,9 +268,61 @@ pub const FD\_SETSIZE: usize = 64; |
|  |  | pub const STACK\_SIZE\_PARAM\_IS\_A\_RESERVATION: DWORD = 0x00010000; |
|  |  |  |
|  |  | pub const STATUS\_SUCCESS: NTSTATUS = 0x00000000; |
|  |  | pub const STATUS\_DELETE\_PENDING: NTSTATUS = 0xc0000056\_u32 as \_; |
|  |  | pub const STATUS\_INVALID\_PARAMETER: NTSTATUS = 0xc000000d\_u32 as \_; |
|  |  |  |
|  |  | // Equivalent to the `NT\_SUCCESS` C preprocessor macro. |
|  |  | // See: https://docs.microsoft.com/en-us/windows-hardware/drivers/kernel/using-ntstatus-values |
|  |  | pub fn nt\_success(status: NTSTATUS) -> bool { |
|  |  | status >= 0 |
|  |  | } |
|  |  |  |
|  |  | pub const BCRYPT\_USE\_SYSTEM\_PREFERRED\_RNG: DWORD = 0x00000002; |
|  |  |  |
|  |  | #[repr(C)] |
|  |  | pub struct UNICODE\_STRING { |
|  |  | pub Length: u16, |
|  |  | pub MaximumLength: u16, |
|  |  | pub Buffer: \*mut u16, |
|  |  | } |
|  |  | impl UNICODE\_STRING { |
|  |  | pub fn from\_ref(slice: &[u16]) -> Self { |
|  |  | let len = slice.len() \* mem::size\_of::<u16>(); |
|  |  | Self { Length: len as \_, MaximumLength: len as \_, Buffer: slice.as\_ptr() as \_ } |
|  |  | } |
|  |  | } |
|  |  | #[repr(C)] |
|  |  | pub struct OBJECT\_ATTRIBUTES { |
|  |  | pub Length: ULONG, |
|  |  | pub RootDirectory: HANDLE, |
|  |  | pub ObjectName: \*const UNICODE\_STRING, |
|  |  | pub Attributes: ULONG, |
|  |  | pub SecurityDescriptor: \*mut c\_void, |
|  |  | pub SecurityQualityOfService: \*mut c\_void, |
|  |  | } |
|  |  | impl Default for OBJECT\_ATTRIBUTES { |
|  |  | fn default() -> Self { |
|  |  | Self { |
|  |  | Length: mem::size\_of::<Self>() as \_, |
|  |  | RootDirectory: ptr::null\_mut(), |
|  |  | ObjectName: ptr::null\_mut(), |
|  |  | Attributes: 0, |
|  |  | SecurityDescriptor: ptr::null\_mut(), |
|  |  | SecurityQualityOfService: ptr::null\_mut(), |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | #[repr(C)] |
|  |  | pub struct IO\_STATUS\_BLOCK { |
|  |  | pub Pointer: \*mut c\_void, |
|  |  | pub Information: usize, |
|  |  | } |
|  |  | impl Default for IO\_STATUS\_BLOCK { |
|  |  | fn default() -> Self { |
|  |  | Self { Pointer: ptr::null\_mut(), Information: 0 } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | #[repr(C)] |
|  |  | #[cfg(not(target\_pointer\_width = "64"))] |
|  |  | pub struct WSADATA { |
| Expand Down  Expand Up | | @@ -353,9 +412,43 @@ pub enum FILE\_INFO\_BY\_HANDLE\_CLASS { |
|  |  | FileIdInfo = 18, // 0x12 |
|  |  | FileIdExtdDirectoryInfo = 19, // 0x13 |
|  |  | FileIdExtdDirectoryRestartInfo = 20, // 0x14 |
|  |  | FileDispositionInfoEx = 21, // 0x15, Windows 10 version 1607 |
|  |  | MaximumFileInfoByHandlesClass, |
|  |  | } |
|  |  |  |
|  |  | #[repr(C)] |
|  |  | pub struct FILE\_DISPOSITION\_INFO { |
|  |  | pub DeleteFile: BOOLEAN, |
|  |  | } |
|  |  |  |
|  |  | pub const FILE\_DISPOSITION\_DELETE: DWORD = 0x1; |
|  |  | pub const FILE\_DISPOSITION\_POSIX\_SEMANTICS: DWORD = 0x2; |
|  |  | pub const FILE\_DISPOSITION\_IGNORE\_READONLY\_ATTRIBUTE: DWORD = 0x10; |
|  |  |  |
|  |  | #[repr(C)] |
|  |  | pub struct FILE\_DISPOSITION\_INFO\_EX { |
|  |  | pub Flags: DWORD, |
|  |  | } |
|  |  |  |
|  |  | #[repr(C)] |
|  |  | #[derive(Default)] |
|  |  | pub struct FILE\_ID\_BOTH\_DIR\_INFO { |
|  |  | pub NextEntryOffset: DWORD, |
|  |  | pub FileIndex: DWORD, |
|  |  | pub CreationTime: LARGE\_INTEGER, |
|  |  | pub LastAccessTime: LARGE\_INTEGER, |
|  |  | pub LastWriteTime: LARGE\_INTEGER, |
|  |  | pub ChangeTime: LARGE\_INTEGER, |
|  |  | pub EndOfFile: LARGE\_INTEGER, |
|  |  | pub AllocationSize: LARGE\_INTEGER, |
|  |  | pub FileAttributes: DWORD, |
|  |  | pub FileNameLength: DWORD, |
|  |  | pub EaSize: DWORD, |
|  |  | pub ShortNameLength: CCHAR, |
|  |  | pub ShortName: [WCHAR; 12], |
|  |  | pub FileId: LARGE\_INTEGER, |
|  |  | pub FileName: [WCHAR; 1], |
|  |  | } |
|  |  | #[repr(C)] |
|  |  | pub struct FILE\_BASIC\_INFO { |
|  |  | pub CreationTime: LARGE\_INTEGER, |
| Expand Down  Expand Up | | @@ -750,16 +843,6 @@ if #[cfg(target\_vendor = "uwp")] { |
|  |  | pub DeletePending: BOOLEAN, |
|  |  | pub Directory: BOOLEAN, |
|  |  | } |
|  |  |  |
|  |  | #[link(name = "kernel32")] |
|  |  | extern "system" { |
|  |  | pub fn GetFileInformationByHandleEx( |
|  |  | hFile: HANDLE, |
|  |  | fileInfoClass: FILE\_INFO\_BY\_HANDLE\_CLASS, |
|  |  | lpFileInformation: LPVOID, |
|  |  | dwBufferSize: DWORD, |
|  |  | ) -> BOOL; |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -949,6 +1032,12 @@ extern "system" { |
|  |  | cchFilePath: DWORD, |
|  |  | dwFlags: DWORD, |
|  |  | ) -> DWORD; |
|  |  | pub fn GetFileInformationByHandleEx( |
|  |  | hFile: HANDLE, |
|  |  | fileInfoClass: FILE\_INFO\_BY\_HANDLE\_CLASS, |
|  |  | lpFileInformation: LPVOID, |
|  |  | dwBufferSize: DWORD, |
|  |  | ) -> BOOL; |
|  |  | pub fn SetFileInformationByHandle( |
|  |  | hFile: HANDLE, |
|  |  | FileInformationClass: FILE\_INFO\_BY\_HANDLE\_CLASS, |
| Expand Down  Expand Up | | @@ -1133,6 +1222,21 @@ compat\_fn! { |
|  |  |  |
|  |  | compat\_fn! { |
|  |  | "ntdll": |
|  |  | pub fn NtOpenFile( |
|  |  | FileHandle: \*mut HANDLE, |
|  |  | DesiredAccess: ACCESS\_MASK, |
|  |  | ObjectAttributes: \*const OBJECT\_ATTRIBUTES, |
|  |  | IoStatusBlock: \*mut IO\_STATUS\_BLOCK, |
|  |  | ShareAccess: ULONG, |
|  |  | OpenOptions: ULONG |
|  |  | ) -> NTSTATUS { |
|  |  | panic!("`NtOpenFile` not available"); |
|  |  | } |
|  |  | pub fn RtlNtStatusToDosError( |
|  |  | Status: NTSTATUS |
|  |  | ) -> ULONG { |
|  |  | panic!("`RtlNtStatusToDosError` not available"); |
|  |  | } |
|  |  | pub fn NtCreateKeyedEvent( |
|  |  | KeyedEventHandle: LPHANDLE, |
|  |  | DesiredAccess: ACCESS\_MASK, |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_2c05af5d_20250108_140526.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX.mbox.gz?message=BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/#BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX)

# [SECURITY] Fedora 35 Update: rust-1.58.1-1.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

25 Jan
2022

25 Jan
'22

1:12 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-1bafa3fc91
2022-01-25 01:10:00.815588
--------------------------------------------------------------------------------

Name : rust
Product : Fedora 35
Version : 1.58.1
Release : 1.fc35
URL : <https://www.rust-lang.org>
Summary : The Rust Programming Language
Description :
Rust is a systems programming language that runs blazingly fast, prevents
segfaults, and guarantees thread safety.

This package includes the Rust compiler and documentation generator.

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2022-21658, a TOCTOU race condition in
std::fs::remove\_dir\_all. Privileged programs should be rebuilt if they use this
function on paths that may be manipulated with lesser privileges. For more
details, see the upstream [security advisory](<https://blog.rust->
lang.org/2022/01/20/cve-2022-21658.html).
--------------------------------------------------------------------------------
ChangeLog:

\* Thu Jan 20 2022 Josh Stone jistone@redhat.com - 1.58.1-1
- Update to 1.58.1.
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #2041504 - CVE-2022-21658 rust: Race condition in remove\_dir\_all leading to removal of files outside of the directory being removed
<https://bugzilla.redhat.com/show_bug.cgi?id=2041504>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-1bafa3fc91' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX/#BK32QZLHDC2OVLPKTUHNT2G3VHWHD4LX)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_1df2ee5f_20250108_140527.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-CKGTACKMKAPRDPWPTU26GYWBELIRFF5N.mbox.gz?message=CKGTACKMKAPRDPWPTU26GYWBELIRFF5N "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/#CKGTACKMKAPRDPWPTU26GYWBELIRFF5N)

# [SECURITY] Fedora 35 Update: rust-afterburn-5.2.0-4.fc35

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

8 Feb
2022

8 Feb
'22

5:18 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2022-1b76e3a192
2022-02-09 01:17:02.762426
--------------------------------------------------------------------------------

Name : rust-afterburn
Product : Fedora 35
Version : 5.2.0
Release : 4.fc35
URL : <https://crates.io/crates/afterburn>
Summary : Simple cloud provider agent
Description :
Simple cloud provider agent.

--------------------------------------------------------------------------------
Update Information:

Rebuild to fix
[RUSTSEC-2022-0006](<https://rustsec.org/advisories/RUSTSEC-2022-0006.html>)
(possible memory corruption caused by a data race) and
[CVE-2022-21658](<https://rustsec.org/advisories/CVE-2022-21658.html>) (Time-of-
check Time-of-use race condition in `std::fs::remove\_dir\_all` from the Rust
standard library).
--------------------------------------------------------------------------------
ChangeLog:

\* Mon Jan 31 2022 Benjamin Gilbert bgilbert@redhat.com - 5.2.0-4
- Rebuild to fix out-of-order push
\* Tue Jan 25 2022 Fabio Valentini decathorpe@gmail.com - 5.2.0-3
- Rebuild with thread\_local 1.1.4 for RUSTSEC-2022-0006.
\* Fri Jan 21 2022 Fedora Release Engineering releng@fedoraproject.org - 5.2.0-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_36_Mass_Rebuild>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2022-1b76e3a192' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/CKGTACKMKAPRDPWPTU26GYWBELIRFF5N/#CKGTACKMKAPRDPWPTU26GYWBELIRFF5N)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from blog.rust-lang.org_2ac45b59_20250108_140518.html ===

[![Rust Logo](../../../images/rust-logo-blk.svg)
Rust Blog](../../../)

* [Rust](https://www.rust-lang.org)
* [Install](https://www.rust-lang.org/tools/install)
* [Learn](https://www.rust-lang.org/learn)
* [Tools](https://www.rust-lang.org/tools)
* [Governance](https://www.rust-lang.org/governance)
* [Community](https://www.rust-lang.org/community)
🖌

+ Light
+ Dark
+ System

## Security advisory for the standard library (CVE-2022-21658)

Jan. 20, 2022 · The Rust Security Response WG

> This is a cross-post of [the official security advisory](https://groups.google.com/g/rustlang-security-announcements/c/R1fZFDhnJVQ). The
> official advisory contains a signed version with our PGP key, as well.

The Rust Security Response WG was notified that the `std::fs::remove_dir_all`
standard library function is vulnerable to a race condition enabling symlink
following (CWE-363). An attacker could use this security issue to trick a
privileged program into deleting files and directories the attacker couldn't
otherwise access or delete.

This issue has been assigned [CVE-2022-21658](https://www.cve.org/CVERecord?id=CVE-2022-21658).

## Overview

Let's suppose an attacker obtained unprivileged access to a system and needed
to delete a system directory called `sensitive/`, but they didn't have the
permissions to do so. If `std::fs::remove_dir_all` followed symbolic links,
they could find a privileged program that removes a directory they have access
to (called `temp/`), create a symlink from `temp/foo` to `sensitive/`, and wait
for the privileged program to delete `foo/`. The privileged program would
follow the symlink from `temp/foo` to `sensitive/` while recursively deleting,
resulting in `sensitive/` being deleted.

To prevent such attacks, `std::fs::remove_dir_all` already includes protection
to avoid recursively deleting symlinks, as described in [its documentation](https://doc.rust-lang.org/std/fs/fn.remove_dir_all.html):

> This function does **not** follow symbolic links and it will simply remove
> the symbolic link itself.

Unfortunately that check was implemented incorrectly in the standard library,
resulting in a TOCTOU (Time-of-check Time-of-use) race condition. Instead of
telling the system not to follow symlinks, the standard library first checked
whether the thing it was about to delete was a symlink, and otherwise it would
proceed to recursively delete the directory.

This exposed a race condition: an attacker could create a directory and replace
it with a symlink between the check and the actual deletion. While this attack
likely won't work the first time it's attempted, in our experimentation we were
able to reliably perform it within a couple of seconds.

## Affected Versions

Rust 1.0.0 through Rust 1.58.0 is affected by this vulnerability. We're going
to release Rust 1.58.1 later today, which will include mitigations for this
vulnerability. Patches to the Rust standard library are also available for
custom-built Rust toolchains [here](https://github.com/rust-lang/wg-security-response/tree/master/patches/CVE-2022-21658).

Note that the following targets don't have usable APIs to properly mitigate the
attack, and are thus still vulnerable even with a patched toolchain:

* macOS before version 10.10 (Yosemite)
* REDOX

## Mitigations

We recommend everyone to update to Rust 1.58.1 as soon as possible, especially
people developing programs expected to run in privileged contexts (including
system daemons and setuid binaries), as those have the highest risk of being
affected by this.

Note that adding checks in your codebase before calling `remove_dir_all` will
**not** mitigate the vulnerability, as they would also be vulnerable to race
conditions like `remove_dir_all` itself. The existing mitigation is working as
intended outside of race conditions.

## Acknowledgments

We want to thank Hans Kratz for independently discovering and disclosing this
issue to us according to the [Rust security policy](https://www.rust-lang.org/policies/security), for developing the fix
for UNIX-like targets and for reviewing fixes for other platforms.

We also want to thank Florian Weimer for reviewing the UNIX-like fix and for
reporting the same issue back in 2018, even though the Security Response WG
didn't realize the severity of the issue at the time.

Finally we want to thank Pietro Albini for coordinating the security response
and writing this advisory, Chris Denton for writing the Windows fix, Alex
Crichton for writing the WASI fix, and Mara Bos for reviewing the patches.

#### Get help!

* [Documentation](https://doc.rust-lang.org)
* Contact the Rust Team

#### Terms and policies

* [Code of Conduct](https://www.rust-lang.org/policies/code-of-conduct)
* [Licenses](https://www.rust-lang.org/policies/licenses)
* [Logo Policy and Media Guide](https://www.rust-lang.org/policies/media-guide)
* [Security Disclosures](https://www.rust-lang.org/policies/security)
* [All Policies](https://www.rust-lang.org/policies)

#### Social

[![mastodon logo](../../../images/mastodon.svg "Mastodon")](https://social.rust-lang.org/%40rust)
[![twitter logo](../../../images/twitter.svg "Twitter")](https://twitter.com/rustlang)
[![youtube logo](../../../images/youtube.svg "YouTube")](https://www.youtube.com/channel/UCaYhcUwRBNscFNUKTjgPFiA)
[![discord logo](../../../images/discord.svg "Discord")](https://discord.gg/rust-lang)
[![github logo](../../../images/github.svg "GitHub")](https://github.com/rust-lang)
#### RSS

* [Main Blog](../../../feed.xml)
* ["Inside Rust" Blog](../../../inside-rust/feed.xml)

Maintained by the Rust Team. See a typo?
[Send a fix here](https://github.com/rust-lang/blog.rust-lang.org)!



=== Content from support.apple.com_b95e1e1a_20250108_140528.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of tvOS 15.4

This document describes the security content of tvOS 15.4.

## About Apple security updates

For our customers' protection, Apple doesn't disclose, discuss, or confirm security issues until an investigation has occurred and patches or releases are available. Recent releases are listed on the [Apple security updates](https://support.apple.com/kb/HT201222) page.

Apple security documents reference vulnerabilities by [CVE-ID](http://cve.mitre.org/about/) when possible.

For more information about security, see the [Apple Product Security](https://support.apple.com/kb/HT201220) page.

## tvOS 15.4

Released March 14, 2022

**Accelerate Framework**

Available for: Apple TV 4K and Apple TV HD

Impact: Opening a maliciously crafted PDF file may lead to an unexpected application termination or arbitrary code execution

Description: A buffer overflow issue was addressed with improved memory handling.

CVE-2022-22633: ryuzaki

Entry added May 25, 2022

**Accelerate Framework**

Available for: Apple TV 4K and Apple TV HD

Impact: Opening a maliciously crafted PDF file may lead to an unexpected application termination or arbitrary code execution

Description: A memory corruption issue was addressed with improved state management.

CVE-2022-22633: ryuzaki

Entry added May 25, 2022

**AppleAVD**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22666: Marc Schoenefeld, Dr. rer. nat.

**AVEVideoEncoder**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious application may be able to execute arbitrary code with kernel privileges

Description: A buffer overflow was addressed with improved bounds checking.

CVE-2022-22634: an anonymous researcher

**AVEVideoEncoder**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to gain elevated privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22635: an anonymous researcher

**AVEVideoEncoder**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22636: an anonymous researcher

**ImageIO**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing a maliciously crafted image may lead to arbitrary code execution

Description: An out-of-bounds read was addressed with improved input validation.

CVE-2022-22611: Xingyu Jin of Google

**ImageIO**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory consumption issue was addressed with improved memory handling.

CVE-2022-22612: Xingyu Jin of Google

**IOGPUFamily**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to gain elevated privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22641: Mohamed Ghannam (@\_simo36)

**Kernel**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22613: Alex, an anonymous researcher

**Kernel**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22614: an anonymous researcher

CVE-2022-22615: an anonymous researcher

**Kernel**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious application may be able to elevate privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22632: Keegan Saunders

**Kernel**

Available for: Apple TV 4K and Apple TV HD

Impact: An attacker in a privileged position may be able to perform a denial of service attack

Description: A null pointer dereference was addressed with improved validation.

CVE-2022-22638: derrek (@derrekr6)

**Kernel**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22640: sqrtpwn

**LLVM**

Available for: Apple TV 4K and Apple TV HD

Impact: An application may be able to delete files for which it does not have permission

Description: A race condition was addressed with additional validation.

CVE-2022-21658: Florian Weimer (@fweimer)

Entry added May 25, 2022

**MediaRemote**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious application may be able to identify what other applications a user has installed

Description: An access issue was addressed with improved access restrictions.

CVE-2022-22670: Brandon Azad

**Preferences**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious application may be able to read other applications' settings

Description: The issue was addressed with additional permissions checks.

CVE-2022-22609: Mickey Jin (@patch1t), and Zhipeng Huo (@R3dF09) and Yuebin Sun (@yuebinsun2020) of Tencent Security Xuanwu Lab (xlab.tencent.com)

Entry updated June 7, 2023

**Sandbox**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious application may be able to bypass certain Privacy preferences

Description: The issue was addressed with improved permissions logic.

CVE-2022-22600: Sudhakar Muthumani (@sudhakarmuthu04) of Primefort Private Limited, Khiem Tran

Entry updated May 25, 2022

**UIKit**

Available for: Apple TV 4K and Apple TV HD

Impact: A person with physical access to an iOS device may be able to see sensitive information via keyboard suggestions

Description: This issue was addressed with improved checks.

CVE-2022-22621: Joey Hewitt

**WebKit**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing maliciously crafted web content may disclose sensitive user information

Description: A cookie management issue was addressed with improved state management.

WebKit Bugzilla: 232748

CVE-2022-22662: Prakash (@1lastBr3ath) of Threat Nix

**WebKit**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing maliciously crafted web content may lead to code execution

Description: A memory corruption issue was addressed with improved state management.

WebKit Bugzilla: 232812

CVE-2022-22610: Quan Yin of Bigo Technology Live Client Team

**WebKit**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A use after free issue was addressed with improved memory management.

WebKit Bugzilla: 233172

CVE-2022-22624: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

WebKit Bugzilla: 234147

CVE-2022-22628: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

**WebKit**

Available for: Apple TV 4K and Apple TV HD

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A buffer overflow issue was addressed with improved memory handling.

WebKit Bugzilla: 234966

CVE-2022-22629: Jeonghoon Shin at Theori working with Trend Micro Zero Day Initiative

**WebKit**

Available for: Apple TV 4K and Apple TV HD

Impact: A malicious website may cause unexpected cross-origin behavior

Description: A logic issue was addressed with improved state management.

WebKit Bugzilla: 235294

CVE-2022-22637: Tom McKee of Google

## Additional recognition

**Bluetooth**

We would like to acknowledge an anonymous researcher for their assistance.

**Siri**

We would like to acknowledge an anonymous researcher for their assistance

**syslog**

We would like to acknowledge Yonghwi Jin (@jinmo123) of Theori for their assistance.

**UIKit**

We would like to acknowledge Tim Shadel of Day Logger, Inc. for their assistance.

**WebKit**

We would like to acknowledge Abdullah Md Shaleh for their assistance.

**WebKit Storage**

We would like to acknowledge Martin Bajanik of FingerprintJS for their assistance.

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: November 02, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of tvOS 15.4

[United States](https://support.apple.com/en-us/102886/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)



=== Content from support.apple.com_bc350637_20250108_140527.html ===


* [Apple](https://www.apple.com/)
* + [Store](https://www.apple.com/us/shop/goto/store)
  + [Mac](https://www.apple.com/mac/)
  + [iPad](https://www.apple.com/ipad/)
  + [iPhone](https://www.apple.com/iphone/)
  + [Watch](https://www.apple.com/watch/)
  + [Vision](https://www.apple.com/apple-vision-pro/)
  + [AirPods](https://www.apple.com/airpods/)
  + [TV & Home](https://www.apple.com/tv-home/)
  + [Entertainment](https://www.apple.com/entertainment/)
  + [Accessories](https://www.apple.com/us/shop/goto/buy_accessories)
  + [Support](https://support.apple.com/?cid=gn-ols-home-hp-tab)
* 0+

# About the security content of iOS 15.4 and iPadOS 15.4

This document describes the security content of iOS 15.4 and iPadOS 15.4.

## About Apple security updates

For our customers' protection, Apple doesn't disclose, discuss, or confirm security issues until an investigation has occurred and patches or releases are available. Recent releases are listed on the [Apple security updates](https://support.apple.com/kb/HT201222) page.

Apple security documents reference vulnerabilities by [CVE-ID](http://cve.mitre.org/about/) when possible.

For more information about security, see the [Apple Product Security](https://support.apple.com/kb/HT201220) page.

## iOS 15.4 and iPadOS 15.4

Released March 14, 2022

**Accelerate Framework**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Opening a maliciously crafted PDF file may lead to an unexpected application termination or arbitrary code execution

Description: A memory corruption issue was addressed with improved state management.

CVE-2022-22633: ryuzaki

Entry updated May 25, 2022

**AppleAVD**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22666: Marc Schoenefeld, Dr. rer. nat.

**AVEVideoEncoder**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to execute arbitrary code with kernel privileges

Description: A buffer overflow was addressed with improved bounds checking.

CVE-2022-22634: an anonymous researcher

**AVEVideoEncoder**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to gain elevated privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22635: an anonymous researcher

**AVEVideoEncoder**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22636: an anonymous researcher

**Cellular**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A person with physical access may be able to view and modify the carrier account information and settings from the lock screen

Description: The GSMA authentication panel could be presented on the lock screen. The issue was resolved by requiring device unlock to interact with the GSMA authentication panel.

CVE-2022-22652: Kağan Eğlence (linkedin.com/in/kaganeglence), Oğuz Kırat (@oguzkirat)

Entry updated May 25, 2022

**CoreMedia**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An app may be able to learn information about the current camera view before being granted camera access

Description: An issue with app access to camera metadata was addressed with improved logic.

CVE-2022-22598: Will Blaschko of Team Quasko

**CoreTypes**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may bypass Gatekeeper checks

Description: This issue was addressed with improved checks to prevent unauthorized actions.

CVE-2022-22663: Arsenii Kostromin (0x3c3e)

Entry added May 25, 2022

**FaceTime**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A user may be able to bypass the Emergency SOS passcode prompt

Description: This issue was addressed with improved checks.

CVE-2022-22642: Yicong Ding (@AntonioDing)

**FaceTime**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A user may send audio and video in a FaceTime call without knowing that they have done so

Description: This issue was addressed with improved checks.

CVE-2022-22643: Sonali Luthar of the University of Virginia, Michael Liao of the University of Illinois at Urbana-Champaign, Rohan Pahwa of Rutgers University, and Bao Nguyen of the University of Florida

**GPU Drivers**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22667: Justin Sherman of the University of Maryland, Baltimore County

**ImageIO**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing a maliciously crafted image may lead to arbitrary code execution

Description: An out-of-bounds read was addressed with improved input validation.

CVE-2022-22611: Xingyu Jin of Google

**ImageIO**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing a maliciously crafted image may lead to heap corruption

Description: A memory consumption issue was addressed with improved memory handling.

CVE-2022-22612: Xingyu Jin of Google

**IOGPUFamily**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to gain elevated privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22641: Mohamed Ghannam (@\_simo36)

**iTunes**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious website may be able to access information about the user and their devices

Description: A logic issue was addressed with improved restrictions.

CVE-2022-22653: Aymeric Chaib of CERT Banque de France

**Kernel**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved validation.

CVE-2022-22596: an anonymous researcher

CVE-2022-22640: sqrtpwn

**Kernel**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: An out-of-bounds write issue was addressed with improved bounds checking.

CVE-2022-22613: Alex, an anonymous researcher

**Kernel**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to execute arbitrary code with kernel privileges

Description: A use after free issue was addressed with improved memory management.

CVE-2022-22614: an anonymous researcher

CVE-2022-22615: an anonymous researcher

**Kernel**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to elevate privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22632: Keegan Saunders

**Kernel**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An attacker in a privileged position may be able to perform a denial of service attack

Description: A null pointer dereference was addressed with improved validation.

CVE-2022-22638: derrek (@derrekr6)

**LaunchServices**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An app may be able to bypass certain Privacy preferences

Description: A logic issue was addressed with improved restrictions.

CVE-2021-30946: @gorelics, and Ron Masas of BreakPoint.sh

Entry added March 16, 2023

**libarchive**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Multiple issues in libarchive

Description: Multiple memory corruption issues existed in libarchive. These issues were addressed with improved input validation.

CVE-2021-36976

**LLVM**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to delete files for which it does not have permission

Description: A race condition was addressed with additional validation.

CVE-2022-21658: Florian Weimer (@fweimer)

Entry added May 25, 2022

**Markup**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A person with physical access to an iOS device may be able to see sensitive information via keyboard suggestions

Description: This issue was addressed with improved checks.

CVE-2022-22622: Ingyu Lim (@\_kanarena)

**MediaRemote**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to identify what other applications a user has installed

Description: An access issue was addressed with improved access restrictions.

CVE-2022-22670: Brandon Azad

**MobileAccessoryUpdater**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to execute arbitrary code with kernel privileges

Description: A memory corruption issue was addressed with improved memory handling.

CVE-2022-22672: Siddharth Aeri (@b1n4r1b01)

Entry added May 25, 2022

**NetworkExtension**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An attacker in a privileged network position may be able to leak sensitive user information

Description: A logic issue was addressed with improved state management.

CVE-2022-22659: George Chen Kaidi of PayPal

Entry updated May 25, 2022

**Phone**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A user may be able to bypass the Emergency SOS passcode prompt

Description: This issue was addressed with improved checks.

CVE-2022-22618: Yicong Ding (@AntonioDing)

**Preferences**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to read other applications' settings

Description: The issue was addressed with additional permissions checks.

CVE-2022-22609: Mickey Jin (@patch1t), and Zhipeng Huo (@R3dF09) and Yuebin Sun (@yuebinsun2020) of Tencent Security Xuanwu Lab (xlab.tencent.com)

Entry updated May 11, 2023

**Sandbox**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An app may be able to leak sensitive user information

Description: An access issue was addressed with improvements to the sandbox.

CVE-2022-22655: Csaba Fitzl (@theevilbit) of Offensive Security

Entry added March 16, 2023, updated June 7, 2023

**Sandbox**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to bypass certain Privacy preferences

Description: The issue was addressed with improved permissions logic.

CVE-2022-22600: Sudhakar Muthumani (@sudhakarmuthu04) of Primefort Private Limited, Khiem Tran

Entry updated May 25, 2022

**Siri**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A person with physical access to a device may be able to use Siri to obtain some location information from the lock screen

Description: A permissions issue was addressed with improved validation.

CVE-2022-22599: Andrew Goldberg of the University of Texas at Austin, McCombs School of Business (linkedin.com/andrew-goldberg-/)

Entry updated May 25, 2022

**SoftwareUpdate**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: An application may be able to gain elevated privileges

Description: A logic issue was addressed with improved state management.

CVE-2022-22639: Mickey (@patch1t)

**UIKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A person with physical access to an iOS device may be able to see sensitive information via keyboard suggestions

Description: This issue was addressed with improved checks.

CVE-2022-22621: Joey Hewitt

**VoiceOver**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A person with physical access to an iOS device may be able to access photos from the lock screen

Description: An authentication issue was addressed with improved state management.

CVE-2022-22671: videosdebarraquito

**WebKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing maliciously crafted web content may disclose sensitive user information

Description: A cookie management issue was addressed with improved state management.

WebKit Bugzilla: 232748

CVE-2022-22662: Prakash (@1lastBr3ath) of Threat Nix

**WebKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing maliciously crafted web content may lead to code execution

Description: A memory corruption issue was addressed with improved state management.

WebKit Bugzilla: 232812

CVE-2022-22610: Quan Yin of Bigo Technology Live Client Team

**WebKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A use after free issue was addressed with improved memory management.

WebKit Bugzilla: 233172

CVE-2022-22624: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

WebKit Bugzilla: 234147

CVE-2022-22628: Kirin (@Pwnrin) of Tencent Security Xuanwu Lab

**WebKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: Processing maliciously crafted web content may lead to arbitrary code execution

Description: A buffer overflow issue was addressed with improved memory handling.

WebKit Bugzilla: 234966

CVE-2022-22629: Jeonghoon Shin at Theori working with Trend Micro Zero Day Initiative

**WebKit**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious website may cause unexpected cross-origin behavior

Description: A logic issue was addressed with improved state management.

WebKit Bugzilla: 235294

CVE-2022-22637: Tom McKee of Google

**Wi-Fi**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to leak sensitive user information

Description: A logic issue was addressed with improved restrictions.

CVE-2022-22668: MrPhil17

Entry added May 25, 2022

**Wi-Fi**

Available for: iPhone 6s and later, iPad Pro (all models), iPad Air 2 and later, iPad 5th generation and later, iPad mini 4 and later, and iPod touch (7th generation)

Impact: A malicious application may be able to leak sensitive user information

Description: A logic issue was addressed with improved restrictions.

CVE-2022-22668: MrPhil17

## Additional recognition

**AirDrop**

We would like to acknowledge Omar Espino (omespino.com), Ron Masas of BreakPoint.sh for their assistance.

**Bluetooth**

We would like to acknowledge an anonymous researcher for their assistance.

**Music**

We would like to acknowledge Vishesh Balani of Urban Company for their assistance.

**Notes**

We would like to acknowledge Abhishek Bansal of Wipro Technologies for their assistance.

**Safari**

We would like to acknowledge Konstantin Darutkin of FingerprintJS (fingerprintjs.com) for their assistance.

**Shortcuts**

We would like to acknowledge Baibhav Anand Jha of Streamers Land for their assistance.

**Siri**

We would like to acknowledge an anonymous researcher for their assistance.

**syslog**

We would like to acknowledge Yonghwi Jin (@jinmo123) of Theori for their assistance.

**UIKit**

We would like to acknowledge Tim Shadel of Day Logger, Inc. for their assistance.

**Wallet**

We would like to acknowledge an anonymous researcher for their assistance.

**WebKit**

We would like to acknowledge Abdullah Md Shaleh for their assistance.

**WebKit Storage**

We would like to acknowledge Martin Bajanik of FingerprintJS for their assistance.

**WidgetKit**

We would like to acknowledge an anonymous researcher for their assistance.

Information about products not manufactured by Apple, or independent websites not controlled or tested by Apple, is provided without recommendation or endorsement. Apple assumes no responsibility with regard to the selection, performance, or use of third-party websites or products. Apple makes no representations regarding third-party website accuracy or reliability. [Contact the vendor](https://support.apple.com/103190) for additional information.

Published Date: October 31, 2023

Helpful?

Yes

No

Character limit:
250

Maximum character limit is 250.

Please don’t include any personal information in your comment.
Submit

Thanks for your feedback.

## Apple Footer

[
Apple](https://www.apple.com)

1. [Support](https://support.apple.com)
2. About the security content of iOS 15.4 and iPadOS 15.4

[United States](https://support.apple.com/en-us/102850/localeselector "Choose your country or region")

Copyright © 2025 Apple Inc. All rights reserved.
 [Privacy Policy](https://www.apple.com/legal/privacy/en-ww/) [Terms of Use](https://www.apple.com/legal/internet-services/terms/site.html) [Sales and Refunds](https://www.apple.com/shop/goto/help/sales_refunds) [Site Map](https://www.apple.com/sitemap/)


