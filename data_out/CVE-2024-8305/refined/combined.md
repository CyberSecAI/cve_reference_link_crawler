=== Content from jira.mongodb.org_6e5c2758_20250110_150857.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FSERVER-92382)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![MongoDB Jira](/s/ub562g/9160001/fy41z4/_/jira-logo-scaled.png)](https://jira.mongodb.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")
* [eazyBI](/plugins/servlet/eazybi)

* Give feedback to Atlassian
* [Help](/secure/ViewKeyboardShortcuts%21default.jspa "Help")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FSERVER-92382)
  + [Acknowledged notifications](/plugins/servlet/wittified/profile/notifications)

![Uploaded image for project: 'Core Server'](https://jira.mongodb.org/secure/projectavatar?pid=10000&avatarId=13900)

1. [Core Server](/browse/SERVER)
2. [SERVER-92382](/browse/SERVER-92382)

## Updating a prepareUnique index does not check whether constraints are being enforced

Schedule Issue[Undo Transition](/secure/UndoTransition%21default.jspa?id=2728989)ClosedExportnullXMLWordPrintableJSON
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Fixed
* **Priority:**
  ![Icon: Major - P3](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.") Major - P3
* **Fix Version/s:**
  [8.1.0-rc0](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+8.1.0-rc0 "8.1.0-rc0 "), [7.3.4](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+7.3.4 "7.3.4 "), [7.0.13](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+7.0.13 "7.0.13 "), [6.0.17](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+6.0.17 "6.0.17 "), [8.0.0-rc14](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+8.0.0-rc14 "8.0.0-rc14 ")
* **Affects Version/s:**
  None
* **Component/s:**
  None
* **Labels:**
  None

* **Assigned Teams:**
  Storage Execution
* **Backwards Compatibility:**
  Fully Compatible
* **Operating System:**
  ALL
* **Backport Requested:**
  v8.0, v7.3, v7.0, v6.0
* **Sprint:**
  Execution Team 2024-07-22
* **Case:**

  (copied to CRM)

### Description

**CVE ID:**

CVE-2024-8305

**Title:**

MongoDB Server secondaries may crash due to forced index constraints

**Description:**

prepareUnique index may cause secondaries to crash due to incorrect enforcement of index constraints on secondaries, where in extreme cases may cause multiple secondaries crashing leading to no primaries. This issue affects MongoDB Server v6.0 versions prior to 6.0.17, MongoDB Server v7.0 versions prior to 7.0.13 and MongoDB Server v7.3 versions prior to 7.3.4

**CVSS Score:**

6.5 -Â <https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H>

**List all affected product versions:**

MongoDB Server v6.0 versions prior to 6.0.17

MongoDB Server v7.0 versions prior to 7.0.13

MongoDB Server v7.3 versions prior to 7.3.4

**CWE:**

CWE-1288: Improper Validation of Consistency within Input

### Attachments

### Activity

### People

Assignee:
![gregory.noma@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=17814)
Gregory Noma

Reporter:
![gregory.noma@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=17814)
Gregory Noma

Participants:

[Githook User](/secure/IssueNavigator.jspa?reset=true&customfield_10051=xgen-internal-githook "Find all issues Githook User participated in"), [Gregory Noma](/secure/IssueNavigator.jspa?reset=true&customfield_10051=gregory.noma%40mongodb.com "Find all issues Gregory Noma participated in")

Votes:
0
Vote for this issue

Watchers:
3
Start watching this issue

### Dates

Created:

Jul 12 2024 03:38:52 PM UTC

Updated:

Nov 15 2024 12:45:59 AM UTC

Resolved:

Jul 12 2024 05:37:43 PM UTC

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for MongoDB. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)


