=== Content from git.kernel.org_e76d5f18_20250110_104458.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 14:23:42 +0100 |
| commit | [1fb9dd3787495b4deb0efe66c58306b65691a48f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)) | |
| tree | [e865134f58a55933f4c0f847b0f83ab3096ab655](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f) | |
| parent | [441bc1e3d7e0b9df6683dd7f32225d23f1fbf25c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=441bc1e3d7e0b9df6683dd7f32225d23f1fbf25c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f&id2=441bc1e3d7e0b9df6683dd7f32225d23f1fbf25c)) | |
| download | [linux-1fb9dd3787495b4deb0efe66c58306b65691a48f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1fb9dd3787495b4deb0efe66c58306b65691a48f.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=1fb9dd3787495b4deb0efe66c58306b65691a48f) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex e390c924ec1c8f..3c680ed4429c13 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=441bc1e3d7e0b9df6683dd7f32225d23f1fbf25c)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=1fb9dd3787495b4deb0efe66c58306b65691a48f)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:43:35 +0000



=== Content from git.kernel.org_c30a89a6_20250110_104459.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 12:57:08 +0100 |
| commit | [83a9c886c2b5a0d28c0b37e1736b47f38d61332a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)) | |
| tree | [ea2c05eb7df06fa7fa520c53f31da86f9a2218c2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a) | |
| parent | [ca8c9fd34278ac22db0c6682e2d92432a85e11f3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca8c9fd34278ac22db0c6682e2d92432a85e11f3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a&id2=ca8c9fd34278ac22db0c6682e2d92432a85e11f3)) | |
| download | [linux-83a9c886c2b5a0d28c0b37e1736b47f38d61332a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-83a9c886c2b5a0d28c0b37e1736b47f38d61332a.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex ed0c5fd2d640cc..8a863686dd6d47 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=ca8c9fd34278ac22db0c6682e2d92432a85e11f3)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=83a9c886c2b5a0d28c0b37e1736b47f38d61332a)@@ -85,14 +85,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:44 +0000



=== Content from git.kernel.org_65368867_20250110_104459.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 14:16:01 +0100 |
| commit | [6d9700b445098dbbce0caff4b8cfca214cf1e757](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)) | |
| tree | [ba0a493ba0d0c129ff3682d83600e9c82f5bd8d2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757) | |
| parent | [8c1bc04c8c8252e964de2c60a456545cdc810ad3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8c1bc04c8c8252e964de2c60a456545cdc810ad3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757&id2=8c1bc04c8c8252e964de2c60a456545cdc810ad3)) | |
| download | [linux-6d9700b445098dbbce0caff4b8cfca214cf1e757.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6d9700b445098dbbce0caff4b8cfca214cf1e757.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=6d9700b445098dbbce0caff4b8cfca214cf1e757) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex bd5f8743340432..de30262c3fae02 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=8c1bc04c8c8252e964de2c60a456545cdc810ad3)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=6d9700b445098dbbce0caff4b8cfca214cf1e757)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:43:36 +0000



=== Content from git.kernel.org_cd2fc01b_20250110_104459.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 12:49:01 +0100 |
| commit | [6dc7b87c62423bfa68139fe95e85028aab584c9a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)) | |
| tree | [97b69b30c066aecb71d21af544a8df84a6afe82a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a) | |
| parent | [55d2078cf0c1e3338d694e2c8c01df2a647f3460](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=55d2078cf0c1e3338d694e2c8c01df2a647f3460) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a&id2=55d2078cf0c1e3338d694e2c8c01df2a647f3460)) | |
| download | [linux-6dc7b87c62423bfa68139fe95e85028aab584c9a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6dc7b87c62423bfa68139fe95e85028aab584c9a.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=6dc7b87c62423bfa68139fe95e85028aab584c9a) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex 454e47424adead..463f920d378252 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=55d2078cf0c1e3338d694e2c8c01df2a647f3460)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=6dc7b87c62423bfa68139fe95e85028aab584c9a)@@ -85,14 +85,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:42 +0000



=== Content from git.kernel.org_66788943_20250110_104459.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 14:26:49 +0100 |
| commit | [d39dc79513e99147b4c158a8a9e46743e23944f5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d39dc79513e99147b4c158a8a9e46743e23944f5) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)) | |
| tree | [81ba6e8e56fc45234366192090e7c8e01deabff5](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d39dc79513e99147b4c158a8a9e46743e23944f5) | |
| parent | [eaa3d08792b5859f9670b23ab6d85b218f159272](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eaa3d08792b5859f9670b23ab6d85b218f159272) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d39dc79513e99147b4c158a8a9e46743e23944f5&id2=eaa3d08792b5859f9670b23ab6d85b218f159272)) | |
| download | [linux-d39dc79513e99147b4c158a8a9e46743e23944f5.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d39dc79513e99147b4c158a8a9e46743e23944f5.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d39dc79513e99147b4c158a8a9e46743e23944f5)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=d39dc79513e99147b4c158a8a9e46743e23944f5) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex 493ed4821515be..0d8d8fed283d03 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=eaa3d08792b5859f9670b23ab6d85b218f159272)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=d39dc79513e99147b4c158a8a9e46743e23944f5)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:52 +0000



=== Content from git.kernel.org_6448506e_20250110_104458.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 13:20:27 +0100 |
| commit | [48ecdf3e29a6e514e8196691589c7dfc6c4ac169](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)) | |
| tree | [dd8d844764f20eeed5ba442f5fb35a07e7f111d6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169) | |
| parent | [d60f27d6ff8a8d28441b44cd2e8a2fda64c99aac](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d60f27d6ff8a8d28441b44cd2e8a2fda64c99aac) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169&id2=d60f27d6ff8a8d28441b44cd2e8a2fda64c99aac)) | |
| download | [linux-48ecdf3e29a6e514e8196691589c7dfc6c4ac169.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-48ecdf3e29a6e514e8196691589c7dfc6c4ac169.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex 3c537807f4d14f..eb6046087a916c 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=d60f27d6ff8a8d28441b44cd2e8a2fda64c99aac)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=48ecdf3e29a6e514e8196691589c7dfc6c4ac169)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:46 +0000



=== Content from git.kernel.org_2c8288e6_20250110_104459.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-01 22:42:32 +0100 |
| commit | [fc7f750dc9d102c1ed7bbe4591f991e770c99033](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)) | |
| tree | [b78435c9ec5eba185ef09c9b42473d7751903bc1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033) | |
| parent | [7e57714cd0ad2d5bb90e50b5096a0e671dec1ef3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7e57714cd0ad2d5bb90e50b5096a0e671dec1ef3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033&id2=7e57714cd0ad2d5bb90e50b5096a0e671dec1ef3)) | |
| download | [linux-fc7f750dc9d102c1ed7bbe4591f991e770c99033.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fc7f750dc9d102c1ed7bbe4591f991e770c99033.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex 493ed4821515be..0d8d8fed283d03 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=7e57714cd0ad2d5bb90e50b5096a0e671dec1ef3)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=fc7f750dc9d102c1ed7bbe4591f991e770c99033)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:54 +0000



=== Content from git.kernel.org_de542d09_20250110_104458.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@oracle.com> | 2022-02-28 10:43:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2022-03-16 13:21:47 +0100 |
| commit | [403e3afe241b62401de1f8629c9c6b9b3d69dbff](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)) | |
| tree | [8835ed0bda6b44b304fcef3bb8e63a4d8690ea3e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff) | |
| parent | [a9174077febfb1608ec3361622bf5f91e2668d7f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a9174077febfb1608ec3361622bf5f91e2668d7f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff&id2=a9174077febfb1608ec3361622bf5f91e2668d7f)) | |
| download | [linux-403e3afe241b62401de1f8629c9c6b9b3d69dbff.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-403e3afe241b62401de1f8629c9c6b9b3d69dbff.tar.gz) | |

staging: gdm724x: fix use after free in gdm\_lte\_rx()commit fc7f750dc9d102c1ed7bbe4591f991e770c99033 upstream.
The netif\_rx\_ni() function frees the skb so we can't dereference it to
save the skb->len.
Fixes: 61e121047645 ("staging: gdm7240: adding LTE USB driver")
Cc: stable <stable@vger.kernel.org>
Reported-by: kernel test robot <lkp@intel.com>
Signed-off-by: Dan Carpenter <dan.carpenter@oracle.com>
Link: [https://lore.kernel.org/r/20220228074331.GA13685@kili](https://lore.kernel.org/r/20220228074331.GA13685%40kili)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)

| -rw-r--r-- | [drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/staging/gdm724x/gdm_lte.c?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/staging/gdm724x/gdm\_lte.c b/drivers/staging/gdm724x/gdm\_lte.cindex 8093d060863887..4dba62aed10b8e 100644--- a/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=a9174077febfb1608ec3361622bf5f91e2668d7f)+++ b/[drivers/staging/gdm724x/gdm\_lte.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/staging/gdm724x/gdm_lte.c?id=403e3afe241b62401de1f8629c9c6b9b3d69dbff)@@ -76,14 +76,15 @@ static void tx\_complete(void \*arg)  static int gdm\_lte\_rx(struct sk\_buff \*skb, struct nic \*nic, int nic\_type) {- int ret;+ int ret, len; + len = skb->len + ETH\_HLEN; ret = netif\_rx\_ni(skb); if (ret == NET\_RX\_DROP) { nic->stats.rx\_dropped++; } else { nic->stats.rx\_packets++;- nic->stats.rx\_bytes += skb->len + ETH\_HLEN;+ nic->stats.rx\_bytes += len; }  return 0; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 10:37:48 +0000


