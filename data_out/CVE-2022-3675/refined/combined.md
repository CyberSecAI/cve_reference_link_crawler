=== Content from github.com_678a5146_20250108_160437.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=coreos%2Ffedora-coreos-tracker)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[coreos](/coreos)
/
**[fedora-coreos-tracker](/coreos/fedora-coreos-tracker)**
Public

* [Notifications](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker) You must be signed in to change notification settings
* [Fork
  59](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)
* [Star
   265](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)

* [Code](/coreos/fedora-coreos-tracker)
* [Issues
  400](/coreos/fedora-coreos-tracker/issues)
* [Pull requests
  1](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

Additional navigation options

* [Code](/coreos/fedora-coreos-tracker)
* [Issues](/coreos/fedora-coreos-tracker/issues)
* [Pull requests](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675) #1333

Closed

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Closed

# [Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675)](#top) #1333

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Assignees
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

Labels
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

## Comments

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issue-1432007781)

| Fedora CoreOS recently added support for [setting a GRUB password](https://docs.fedoraproject.org/en-US/fedora-coreos/grub-password/). When this feature is enabled, GRUB requires a password to access the GRUB command-line, modify kernel command-line arguments, or boot non-default OSTree deployments.  Recent Fedora CoreOS releases have a misconfiguration which allows booting non-default OSTree deployments without entering a password. This allows someone with access to the GRUB menu to boot into an older version of Fedora CoreOS. A password is still required to modify kernel command-line arguments and to access the GRUB command line.  Machines provisioned from the following Fedora CoreOS releases are affected:   * `stable` 36.20220820.3.0 and later * `testing` 36.20220906.2.0 and later * `next` 36.20220906.1.0 and later   If you do not use the GRUB password feature, or if you do use it and have provisioned your machines from unaffected Fedora CoreOS images, no action is required.  If your machines are affected, and you are willing to wait for the problem to be corrected automatically in upcoming releases, no action is required. Otherwise, you can correct the problem manually by running the following commands on affected machines:  ``` sudo ostree config set sysroot.bls-append-except-default 'grub_users=""' sudo unshare -mw /boot/loader/entries bash -c \     'mount -o rw,remount /boot &&      for f in $(ls -v ostree-*-fedora-coreos.conf | head -n -1); do          if ! grep -q grub_users "$f"; then              echo grub_users \"\" >> "$f";          fi;      done'  ```  To check which version of Fedora CoreOS was used to provisioned a machine, run the following command:  ``` jq -r .build /sysroot/.coreos-aleph-version.json  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
the
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)
label
[Nov 1, 2022](#event-7716728972)

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
self-assigned this
[Nov 1, 2022](#event-7716729013)

This was referenced Nov 1, 2022

[create\_disk: correctly configure BLS `grub_users` setting (CVE-2022-3675)
coreos/coreos-assembler#3155](/coreos/coreos-assembler/pull/3155)
 Merged

[overlay/15fcos: retroactively fix BLS `grub_users` setting for CVE-2022-3675
coreos/fedora-coreos-config#2048](/coreos/fedora-coreos-config/pull/2048)
 Merged

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

Author

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issuecomment-1299216905)

| [coreos-status post](https://lists.fedoraproject.org/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/). |
| --- |

All reactions

Sorry, something went wrong.

[bgilbert](/bgilbert)
pushed a commit
to coreos/coreos-assembler
that referenced
this issue
[Nov 1, 2022](#ref-commit-7967f62)
[![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&u=9a6692ae58a70817aadcd570d102791d65f612f1&v=4)](/jlebon) [![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

`[create_disk: correctly configure BLS grub_users setting (](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[7967f62](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa)`

```
The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: [b4cb857](https://github.com/coreos/coreos-assembler/commit/b4cb8578850aba272fd7fb31700ddbeaaf0f9989) ("create_disk: Fix s390x regression from previous change")
For: [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[bgilbert](/bgilbert)
added a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 2, 2022](#ref-commit-d7d4068)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d7d4068](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7718472701)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499363)

| The fix for this went into `next` stream release `37.20221031.1.0`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499462)

| The fix for this went into `testing` stream release `36.20221030.2.1`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
added
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
and removed
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7727980756)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 15, 2022](#issuecomment-1315554169)

| The fix for this went into `stable` stream release `36.20221030.3.0`. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
closed this as [completed](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Nov 15, 2022](#event-7815597148)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
removed
the
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
label
[Nov 15, 2022](#event-7815597853)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319168915)

| Before we can pull out the migration script from our code base we need it to be in at least one barrier release.  The barrier for `testing` for the F37 transition already happened in [coreos/fedora-coreos-streams@8679f68](https://github.com/coreos/fedora-coreos-streams/commit/8679f6814bf0b3ab688321a87d482b7c2f619eaa)  The barrier for `stable` will come through in the next release on that stream (since we're switching to F37 there too).  That leaves `next`. Since we had already switched to F37 in `next` before this landed we need a new barrier there so I'll add one. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-b9154a2)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b9154a2](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453957283)

[next: add barrier for GRUB Password CVE-2022-3675
coreos/fedora-coreos-streams#604](/coreos/fedora-coreos-streams/pull/604)
 Merged

[dustymabe](/dustymabe)
added a commit
to coreos/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-a4b0300)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4 "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[a4b0300](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319177613)

| OK removing the migration script should be unblocked now. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-config
that referenced
this issue
[Nov 17, 2022](#ref-commit-8146fce)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[8146fce](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/dustymabe/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453972477)

[Revert "overlay/15fcos: retroactively fix BLS grub\_users setting (CVE-2022-3675)
coreos/fedora-coreos-config#2095](/coreos/fedora-coreos-config/pull/2095)
 Merged

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319183357)

| revert in [coreos/fedora-coreos-config#2095](https://github.com/coreos/fedora-coreos-config/pull/2095) |
| --- |

All reactions

Sorry, something went wrong.

[jlebon](/jlebon)
pushed a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 18, 2022](#ref-commit-b38aa7f)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&v=4)](/jlebon)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b38aa7f](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-8b8b009)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[8b8b009](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-b4bab05)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b4bab05](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-d570673)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d570673](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-f0ce31b)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[f0ce31b](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-00d3ae4)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[00d3ae4](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)
[lukewarmtemp](/lukewarmtemp)
mentioned this issue
[Jan 11, 2024](#ref-pullrequest-2076841416)

[stages/org.osbuild.ostree.config: support bls-append-except-default
osbuild/osbuild#1534](/osbuild/osbuild/pull/1534)
 Merged

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-925ba57)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[925ba57](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to osbuild/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-d089b42)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[d089b42](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

Assignees

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert) [bgilbert](/bgilbert)

Labels

[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=52&v=4)](/bgilbert) [![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=52&v=4)](/dustymabe)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_b0d39f29_20250108_133539.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/)
[Sign Up](/accounts/signup/?next=/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/)

* [Sign In](/accounts/login/?next=/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/)
* [Sign Up](/accounts/signup/?next=/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/)

* [Manage this list](/admin/lists/coreos-status.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[List overview](/archives/list/coreos-status%40lists.fedoraproject.org/)
[All Threads](/archives/list/coreos-status%40lists.fedoraproject.org/latest)

[Download](/archives/list/coreos-status%40lists.fedoraproject.org/export/coreos-status%40lists.fedoraproject.org-NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ.mbox.gz?thread=NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ "This thread in gzipped mbox format")

[newer](/archives/list/coreos-status%40lists.fedoraproject.org/thread/WA4CU7ZZCCPPEWB3AVQEZ2QPDVTDM7ZP/ "Fedora CoreOS streams rebasing to Fedora Linux 37")

### Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675)

[older](/archives/list/coreos-status%40lists.fedoraproject.org/thread/HA7QDCZGLHTYVS6TGN2MAI4K7G7PZRSV/ "Fedora CoreOS fixes for OpenSSL CVE-2022-3602/CVE-2022-3786")

[Fedora CoreOS streams rebasing to...](/archives/list/coreos-status%40lists.fedoraproject.org/thread/WA4CU7ZZCCPPEWB3AVQEZ2QPDVTDM7ZP/ "Fedora CoreOS streams rebasing to Fedora Linux 37")

[Fedora CoreOS fixes for OpenSSL...](/archives/list/coreos-status%40lists.fedoraproject.org/thread/HA7QDCZGLHTYVS6TGN2MAI4K7G7PZRSV/ "Fedora CoreOS fixes for OpenSSL CVE-2022-3602/CVE-2022-3786")

* [First Post](#home)
* [Replies](#replies)
* [Stats](#stats)
* Threads by month
  + ----- 2025 -----
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2025/1/)
  + ----- 2024 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2024/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2024/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2024/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2024/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2024/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2024/7/)
  + [June](/archives/list/coreos-status%40lists.fedoraproject.org/2024/6/)
  + [May](/archives/list/coreos-status%40lists.fedoraproject.org/2024/5/)
  + [April](/archives/list/coreos-status%40lists.fedoraproject.org/2024/4/)
  + [March](/archives/list/coreos-status%40lists.fedoraproject.org/2024/3/)
  + [February](/archives/list/coreos-status%40lists.fedoraproject.org/2024/2/)
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2024/1/)
  + ----- 2023 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2023/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2023/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2023/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2023/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2023/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2023/7/)
  + [June](/archives/list/coreos-status%40lists.fedoraproject.org/2023/6/)
  + [May](/archives/list/coreos-status%40lists.fedoraproject.org/2023/5/)
  + [April](/archives/list/coreos-status%40lists.fedoraproject.org/2023/4/)
  + [March](/archives/list/coreos-status%40lists.fedoraproject.org/2023/3/)
  + [February](/archives/list/coreos-status%40lists.fedoraproject.org/2023/2/)
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2023/1/)
  + ----- 2022 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2022/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2022/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2022/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2022/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2022/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2022/7/)
  + [June](/archives/list/coreos-status%40lists.fedoraproject.org/2022/6/)
  + [May](/archives/list/coreos-status%40lists.fedoraproject.org/2022/5/)
  + [April](/archives/list/coreos-status%40lists.fedoraproject.org/2022/4/)
  + [March](/archives/list/coreos-status%40lists.fedoraproject.org/2022/3/)
  + [February](/archives/list/coreos-status%40lists.fedoraproject.org/2022/2/)
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2022/1/)
  + ----- 2021 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2021/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2021/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2021/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2021/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2021/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2021/7/)
  + [June](/archives/list/coreos-status%40lists.fedoraproject.org/2021/6/)
  + [May](/archives/list/coreos-status%40lists.fedoraproject.org/2021/5/)
  + [April](/archives/list/coreos-status%40lists.fedoraproject.org/2021/4/)
  + [March](/archives/list/coreos-status%40lists.fedoraproject.org/2021/3/)
  + [February](/archives/list/coreos-status%40lists.fedoraproject.org/2021/2/)
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2021/1/)
  + ----- 2020 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2020/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2020/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2020/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2020/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2020/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2020/7/)
  + [June](/archives/list/coreos-status%40lists.fedoraproject.org/2020/6/)
  + [May](/archives/list/coreos-status%40lists.fedoraproject.org/2020/5/)
  + [April](/archives/list/coreos-status%40lists.fedoraproject.org/2020/4/)
  + [March](/archives/list/coreos-status%40lists.fedoraproject.org/2020/3/)
  + [February](/archives/list/coreos-status%40lists.fedoraproject.org/2020/2/)
  + [January](/archives/list/coreos-status%40lists.fedoraproject.org/2020/1/)
  + ----- 2019 -----
  + [December](/archives/list/coreos-status%40lists.fedoraproject.org/2019/12/)
  + [November](/archives/list/coreos-status%40lists.fedoraproject.org/2019/11/)
  + [October](/archives/list/coreos-status%40lists.fedoraproject.org/2019/10/)
  + [September](/archives/list/coreos-status%40lists.fedoraproject.org/2019/9/)
  + [August](/archives/list/coreos-status%40lists.fedoraproject.org/2019/8/)
  + [July](/archives/list/coreos-status%40lists.fedoraproject.org/2019/7/)

![](https://seccdn.libravatar.org/avatar/e37037a378974f66a91574f0ba81c405.jpg?s=120&d=retro&r=g)

[Benjamin Gilbert](/archives/users/146514658293882536590391613636640574338/ "See the profile for Benjamin Gilbert")

1 Nov
2022

1 Nov
'22

9:11 p.m.

Hi,

Fedora CoreOS recently added support for setting a GRUB password [1].
When this feature is enabled, GRUB requires a password to access the
GRUB command-line, modify kernel command-line arguments, or boot
non-default OSTree deployments.

Recent Fedora CoreOS releases have a misconfiguration which allows
booting non-default OSTree deployments without entering a password.
This allows someone with access to the GRUB menu to boot into an older
version of Fedora CoreOS. A password is still required to modify
kernel command-line arguments and to access the GRUB command line.

Machines provisioned from the following Fedora CoreOS releases are affected:
- stable 36.20220820.3.0 and later
- testing 36.20220906.2.0 and later
- next 36.20220906.1.0 and later

The following Fedora CoreOS releases will fix the problem for newly
deployed machines and automatically correct the misconfiguration for
existing machines:
- stable 36.20221014.3.0 (new machines), 36.20221030.3.0 (existing machines)
- testing 36.20221030.2.0 (new and existing machines)
- next 37.20221031.1.0 (new and existing machines)

If you do not use the GRUB password feature, or if you do use it and
have provisioned your machines from unaffected Fedora CoreOS images,
no action is required.

If your machines on the `next` or `testing` streams are affected, the
problem will be automatically corrected by this week's releases. On
the `stable` stream, newly created machines will be fixed by this
week's release, and existing machines will be fixed by the release on
the week of November 14. If you would like to correct the problem
before then, you can manually run the following commands on affected
machines:

sudo ostree config set sysroot.bls-append-except-default 'grub\_users=""'
sudo unshare -mw /boot/loader/entries bash -c \
'mount -o rw,remount /boot &&
for f in $(ls -v ostree-\*-fedora-coreos.conf | head -n -1); do
if ! grep -q grub\_users "$f"; then
echo grub\_users "" >> "$f";
fi;
done'

To check which version of Fedora CoreOS was used to provisioned a
machine, run the following command:

jq -r .build /sysroot/.coreos-aleph-version.json

For additional updates, follow the Fedora CoreOS tracker issue [2].
If you have any questions or concerns, post a comment in the issue or
contact us in #fedora-coreos on Libera.Chat.

--Benjamin Gilbert, for the Fedora CoreOS team

[1]: <https://docs.fedoraproject.org/en-US/fedora-coreos/grub-password/>
[2]: <https://github.com/coreos/fedora-coreos-tracker/issues/1333>

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Show replies by date](/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/?sort=date)

![Loading...](/static/hyperkitty/img/ajax-loader.gif)
[Visit here for a non-javascript version of this page.](/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/?noscript)

799
Age (days ago)

799
Last active (days ago)

[coreos-status@lists.fedoraproject.org](/archives/list/coreos-status%40lists.fedoraproject.org/)

0 comments

1 participants

[Add to favorites](#AddFav "You must be logged-in to have favorites.")
[Remove from favorites](#RmFav)

tags (0)

participants (1)

* ![](https://seccdn.libravatar.org/avatar/e37037a378974f66a91574f0ba81c405.jpg?s=48&d=retro&r=g)
  Benjamin Gilbert

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_dd03df3c_20250108_160436.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333.)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333.)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fissues%2Findex&source=header-repo&source_repo=coreos%2Ffedora-coreos-tracker)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[coreos](/coreos)
/
**[fedora-coreos-tracker](/coreos/fedora-coreos-tracker)**
Public

* [Notifications](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker) You must be signed in to change notification settings
* [Fork
  59](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)
* [Star
   265](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)

* [Code](/coreos/fedora-coreos-tracker)
* [Issues
  400](/coreos/fedora-coreos-tracker/issues)
* [Pull requests
  1](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

Additional navigation options

* [Code](/coreos/fedora-coreos-tracker)
* [Issues](/coreos/fedora-coreos-tracker/issues)
* [Pull requests](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

# Issues: coreos/fedora-coreos-tracker

[tracker: Rebase onto Fedora 42](/coreos/fedora-coreos-tracker/issues/1851)

#1851
opened Dec 11, 2024 by
[marmijo](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+is%3Aopen+author%3Amarmijo "Open issues created by marmijo")

Open

[Labels
111](/coreos/fedora-coreos-tracker/labels) [Milestones
0](/coreos/fedora-coreos-tracker/milestones)

[Labels
111](/coreos/fedora-coreos-tracker/labels) [Milestones
0](/coreos/fedora-coreos-tracker/milestones)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)
to your account

[Clear current search query, filters, and sorts](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+is%3Aopen)
[0 Open](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+author%3A1333.+is%3Aopen)
[0 Closed](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+author%3A1333.+is%3Aclosed)

[0 Open](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+author%3A1333.+is%3Aopen)
[0 Closed](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+author%3A1333.+is%3Aclosed)

Author

Filter by author

 Loading

author:
Filter by this user

Label

Filter by label

 Loading

Use `alt` + `click/return` to exclude labels

or `⇧` + `click/return` for logical OR

 Projects

Filter by project

 Loading

 Milestones

Filter by milestone

 Loading

Assignee

Filter by who’s assigned

[**Assigned to nobody**](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+no%3Aassignee)

 Loading

assignee:
Filter by this user

Sort

Sort by

[Newest](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.)
[Oldest](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Acreated-asc)
[Most commented](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Acomments-desc)
[Least commented](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Acomments-asc)
[Recently updated](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Aupdated-desc)
[Least recently updated](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Aupdated-asc)
[Best match](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Arelevance-desc)
Most reactions
[👍](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-%2B1-desc)
[👎](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions--1-desc)
[😄](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-smile-desc)
[🎉](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-tada-desc)
[😕](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-thinking_face-desc)
[❤️](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-heart-desc)
[🚀](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-rocket-desc)
[👀](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+sort%3Areactions-eyes-desc)

## No results matched your search.

You could search [all of GitHub](/search) or try an [advanced search](/search/advanced).

**ProTip!**
Adding [no:label](/coreos/fedora-coreos-tracker/issues?q=is%3Aopen+is%3Aissue+author%3A1333.+no%3Alabel) will show everything without a label.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from docs.fedoraproject.org_78b8408c_20250108_133537.html ===


[![](../../_/img/docs_logo_white.png)](https://docs.fedoraproject.org/en-US)

 In this section

### [Fedora CoreOS](../)

* + [Getting Started](../getting-started/)
  + Provisioning Machines
    - [Stream metadata](../stream-metadata/)
    - [Installing on Bare Metal](../bare-metal/)
    - [Running directly from RAM](../live-booting/)
    - [Booting on Alibaba Cloud](../provisioning-aliyun/)
    - [Booting on AWS](../provisioning-aws/)
    - [Booting on Azure](../provisioning-azure/)
    - [Booting on DigitalOcean](../provisioning-digitalocean/)
    - [Booting on Exoscale](../provisioning-exoscale/)
    - [Booting on GCP](../provisioning-gcp/)
    - [Booting on Hyper-V](../provisioning-hyperv/)
    - [Booting on IBM Cloud](../provisioning-ibmcloud/)
    - [Booting on KubeVirt](../provisioning-kubevirt/)
    - [Booting on libvirt](../provisioning-libvirt/)
    - [Booting on OpenStack](../provisioning-openstack/)
    - [Booting on Nutanix](../provisioning-nutanix/)
    - [Booting on QEMU](../provisioning-qemu/)
    - [Booting on the Raspberry Pi 4](../provisioning-raspberry-pi4/)
    - [Booting on VirtualBox](../provisioning-virtualbox/)
    - [Booting on VMware](../provisioning-vmware/)
    - [Booting on Vultr](../provisioning-vultr/)
  + System Configuration
    - [Producing an Ignition File](../producing-ign/)
    - [Butane Specification](https://coreos.github.io/butane/specs/)
    - [Using a remote Ignition config](../remote-ign/)
    - [Configuring Storage](../storage/)
    - [Managing Files](../managing-files/)
    - [Network Configuration](../sysconfig-network-configuration/)
    - [Enabling Wi-Fi](../sysconfig-enabling-wifi/)
    - [Kernel Tuning](../sysctl/)
    - [Running Containers](../running-containers/)
    - [Configuring Users and Groups](../authentication/)
    - [Setting a Hostname](../hostname/)
    - [Proxied Internet Access](../proxy/)
    - [Setting Keyboard Layout](../sysconfig-setting-keymap/)
    - [Adding OS extensions](../os-extensions/)
    - [Installing Docker CE](../docker-ce/)
    - [How to Customize a NIC Name](../customize-nic/)
    - [Configuring SwapOnZRAM](../sysconfig-configure-swaponzram/)
    - [Configuring WireGuard](../sysconfig-configure-wireguard/)
    - [Modifying Kernel Arguments](../kernel-args/)
    - [Setting alternatives](../alternatives/)
    - [Node counting](../counting/)
    - [Configuring Time Zone](../time-zone/)
    - [Setting a GRUB password](./)
    - [Managing the audit daemon](../audit/)
    - [ComposeFS](../composefs/)
  + OS updates
    - [Update Streams](../update-streams/)
    - [Auto-Updates](../auto-updates/)
    - [Bootloader Updates](../bootloader-updates/)
  + [Major Changes](../major-changes/)
  + Troubleshooting
    - [Manual Rollbacks](../manual-rollbacks/)
    - [Access Recovery](../access-recovery/)
    - [Emergency Console Access](../emergency-shell/)
    - [Debugging with Toolbx](../debugging-with-toolbox/)
    - [Debugging Kernel Crashes](../debugging-kernel-crashes/)
  + Tutorials
    - [Prerequisites for the tutorials](../tutorial-setup/)
    - [Enabling autologin and custom hostname](../tutorial-autologin/)
    - [Starting a service on first boot](../tutorial-services/)
    - [SSH access and starting containers](../tutorial-containers/)
    - [Launching a user-level systemd unit on boot](../tutorial-user-systemd-unit-on-boot/)
    - [Testing Fedora CoreOS updates](../tutorial-updates/)
  + Reference pages
    - [Live ISO/PXE reference](../live-reference/)
    - [Supported Platforms](../platforms/)
    - [Projects Using Fedora CoreOS](../fcos-projects/)
    - [Signing keys and updates](../update-barrier-signing-keys/)
  + Projects documentation
    - [Afterburn](https://coreos.github.io/afterburn/)
    - [Butane (Config Transpiler)](https://coreos.github.io/butane/)
    - [CoreOS Assembler](https://coreos.github.io/coreos-assembler/)
    - [CoreOS Installer](https://coreos.github.io/coreos-installer/)
    - [Ignition](https://coreos.github.io/ignition/)
    - [rpm-ostree](https://coreos.github.io/rpm-ostree/)
    - [Zincati](https://coreos.github.io/zincati/)
    - [ostree](https://ostreedev.github.io/ostree/)
  + Migration notes
    - [Migrating from Atomic Host](../migrate-ah/)
    - [Migrating from Container Linux](../migrate-cl/)
  + [FAQ](../faq/)

Fedora CoreOS

* [ARM Single Board Computers](../../arm-sbc/)
* [Ask Fedora SOPs](../../ask-fedora-sops/)
* [Community Architecture (CommArch)](../../community/)
* [Community Linux Engineering](../../cle/)
* [Defensive Coding Guide](../../defensive-coding/)
* [Emerging Fedora Desktops](../../emerging/)
* [Engineering Teams](../../engineering/)
* [EPEL](../../epel/)
* [Fedora Accessibility (a11y) WG](../../a11y/)
* [Fedora Accounts](../../fedora-accounts/)
* [Fedora Asahi Remix](../../fedora-asahi-remix/)
* [Fedora Badges](../../badges/)
* [Fedora CI](../../ci/)
* [Fedora Community Ops](../../commops/)
* [Fedora Container Docs](../../containers/)
* [Fedora CoreOS](../)
* [Fedora Council](../../council/)
* [Fedora Diversity, Equity, and Inclusion (DEI)](../../dei/)
* [Fedora Docs Team](../../fedora-docs/)
* [Fedora Documentation](../../docs/)
* [Fedora ELN](../../eln/)
* [Fedora Gaming](../../gaming/)
* [Fedora i3 S.I.G.](../../i3/)
* [Fedora Infrastructure & Release Engineering](../../infra/)
* [Fedora Internet Of Things](../../iot/)
* [Fedora IoT Working Group](../../iot-wg/)
* [Fedora Join SIG](../../fedora-join/)
* [Fedora Kinoite](../../fedora-kinoite/)
* [Fedora Legal](../../legal/)
* [Fedora Linux Releases](../../releases/)
* [Fedora Localization Team](../../localization/)
* [Fedora Magazine](../../fedora-magazine/)
* [Fedora Marketing Team](../../marketing/)
* [Fedora Mentored Projects](../../mentored-projects/)
* [Fedora Mindshare Committee](../../mindshare-committee/)
* [Fedora Program Management](../../program_management/)
* [Fedora Project](../../project/)
* [Fedora Quality Docs](../../qa-docs/)
* [Fedora Rawhide Gating](../../rawhide-gating/)
* [Fedora Robotics SIG](../../robotics-sig/)
* [Fedora Server Documentation](../../fedora-server/)
* [Fedora Server Working Group](../../server-working-group/)
* [Fedora Silverblue](../../fedora-silverblue/)
* [Fedora Spins & Labs](../../spins-labs/)
* [Fedora Sway Atomic](../../fedora-sericea/)
* [Fedora TeleIRC SIG](../../teleirc-sig/)
* [Fedora Tools](../../tools/)
* [Fedora User Docs](../../fedora/latest/)
  + [rawhide](../../fedora/rawhide/)
  + [f41](../../fedora/latest/)
  + [f40](../../fedora/f40/)
  + [f39](../../fedora/f39/)
  + [f38](../../fedora/f38/)
  + [f37](../../fedora/f37/)
  + [f36](../../fedora/f36/)
  + [f35](../../fedora/f35/)
  + [f34](../../fedora/f34/)
  + [f33](../../fedora/f33/)
  + [f32](../../fedora/f32/)
  + [f31](../../fedora/f31/)
  + [f30](../../fedora/f30/)
  + [f29](../../fedora/f29/)
  + [f28](../../fedora/f28/)
  + [f27](../../fedora/f27/)
  + [f26](../../fedora/f26/)
* [Fedora Websites & Apps](../../websites/)
* [Fedora Workstation Documentation](../../workstation-docs/)
* [Fedora Workstation Working Group](../../workstation-working-group/)
* [Fedora/CentOS bootc](../../bootc/)
* [FESCo](../../fesco/)
* [Flatpak](../../flatpak/)
* [Java Packaging HOWTO](../../java-packaging-howto/)
* [Localization help and stats](../../docs-l10n/)
* [Mindshare Teams](../../mindshare/)
* [Minimization](../../minimization/)
* [Modularity](../../modularity/)
* [NeuroFedora User Documentation](../../neurofedora/overview/)
* [Package Maintainers](../../package-maintainers/)
* [Packaging Guidelines](../../packaging-guidelines/)
* [Quick Docs](../../quick-docs/)
* [Remix Docs](../../remix-building/remix-ci/)
* [Reproducible Builds](../../reproducible-builds/)

* [Fedora CoreOS](../)
* System Configuration
* [Setting a GRUB password](./)

en-US

[en-US](../../../en-US/fedora-coreos/grub-password/)
[ar](../../../ar/fedora-coreos/grub-password/)
[ast](../../../ast/fedora-coreos/grub-password/)
[az](../../../az/fedora-coreos/grub-password/)
[be](../../../be/fedora-coreos/grub-password/)
[bg](../../../bg/fedora-coreos/grub-password/)
[bn](../../../bn/fedora-coreos/grub-password/)
[ca](../../../ca/fedora-coreos/grub-password/)
[cs](../../../cs/fedora-coreos/grub-password/)
[de](../../../de/fedora-coreos/grub-password/)
[el](../../../el/fedora-coreos/grub-password/)
[es](../../../es/fedora-coreos/grub-password/)
[es\_419](../../../es_419/fedora-coreos/grub-password/)
[fa](../../../fa/fedora-coreos/grub-password/)
[fi](../../../fi/fedora-coreos/grub-password/)
[fil](../../../fil/fedora-coreos/grub-password/)
[fr](../../../fr/fedora-coreos/grub-password/)
[fur](../../../fur/fedora-coreos/grub-password/)
[ga](../../../ga/fedora-coreos/grub-password/)
[he](../../../he/fedora-coreos/grub-password/)
[hi](../../../hi/fedora-coreos/grub-password/)
[hr](../../../hr/fedora-coreos/grub-password/)
[hu](../../../hu/fedora-coreos/grub-password/)
[id](../../../id/fedora-coreos/grub-password/)
[it](../../../it/fedora-coreos/grub-password/)
[ja](../../../ja/fedora-coreos/grub-password/)
[jp](../../../jp/fedora-coreos/grub-password/)
[ka](../../../ka/fedora-coreos/grub-password/)
[kab](../../../kab/fedora-coreos/grub-password/)
[ko](../../../ko/fedora-coreos/grub-password/)
[mr](../../../mr/fedora-coreos/grub-password/)
[ms](../../../ms/fedora-coreos/grub-password/)
[my](../../../my/fedora-coreos/grub-password/)
[nb\_NO](../../../nb_NO/fedora-coreos/grub-password/)
[ne](../../../ne/fedora-coreos/grub-password/)
[nl](../../../nl/fedora-coreos/grub-password/)
[nn](../../../nn/fedora-coreos/grub-password/)
[or](../../../or/fedora-coreos/grub-password/)
[pl](../../../pl/fedora-coreos/grub-password/)
[pt](../../../pt/fedora-coreos/grub-password/)
[pt\_BR](../../../pt_BR/fedora-coreos/grub-password/)
[pt\_PT](../../../pt_PT/fedora-coreos/grub-password/)
[ro](../../../ro/fedora-coreos/grub-password/)
[ru](../../../ru/fedora-coreos/grub-password/)
[si](../../../si/fedora-coreos/grub-password/)
[sk](../../../sk/fedora-coreos/grub-password/)
[sq](../../../sq/fedora-coreos/grub-password/)
[sv](../../../sv/fedora-coreos/grub-password/)
[sw](../../../sw/fedora-coreos/grub-password/)
[te](../../../te/fedora-coreos/grub-password/)
[tr](../../../tr/fedora-coreos/grub-password/)
[tzm](../../../tzm/fedora-coreos/grub-password/)
[uk](../../../uk/fedora-coreos/grub-password/)
[ur](../../../ur/fedora-coreos/grub-password/)
[ur\_PK](../../../ur_PK/fedora-coreos/grub-password/)
[uz](../../../uz/fedora-coreos/grub-password/)
[zh\_CN](../../../zh_CN/fedora-coreos/grub-password/)
[zh\_Hans](../../../zh_Hans/fedora-coreos/grub-password/)
[zh\_Hant](../../../zh_Hant/fedora-coreos/grub-password/)
[zh\_TW](../../../zh_TW/fedora-coreos/grub-password/)

# Setting a GRUB password

You can set up a password to prevent unauthorized users from accessing the GRUB command line, modifying kernel command-line arguments, or booting non-default OSTree deployments.

## Creating the password hash

You can use `grub2-mkpasswd-pbkdf2` to create a password hash for GRUB.

```
$ grub2-mkpasswd-pbkdf2
Enter password: <PASSWORD>
Reenter password: <PASSWORD>
PBKDF2 hash of your password is grub.pbkdf2.sha512.10000.5AE6255...
```

|  | `grub2-mkpasswd-pbkdf2` tool is a component of the `grub2-tools-minimal` package on Fedora. |
| --- | --- |

## Butane config

With the password hash ready, you can now create the Butane config.

```
variant: fcos
version: 1.5.0
grub:
  users:
    - name: root
      password_hash: grub.pbkdf2.sha512.10000.5AE6255...
```

The Butane config defines a GRUB superuser `root` and sets the password for that user using a hash.

You can now use this config to boot a Fedora CoreOS instance.

Want to help? [Learn how to contribute to Fedora Docs âº](https://docs.fedoraproject.org/en-US/fedora-docs/contributing-docs/)

All Fedora Documentation content available under [CC BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0/legalcode) or, when specifically noted, under another [accepted](https://fedoraproject.org/wiki/Licensing%3AMain) free and open content license.

![Fedora Logo](../../_/img/fedora-blue.png)

* [Privacy Statement](/en-US/legal/privacy/)
* [Legal](/en-US/legal/)
* [Code of Conduct](/en-US/project/code-of-conduct/)
* [Sponsors](https://getfedora.org/en/sponsors/)

Last build: 2025-01-08 12:50:12 UTC | Last content update: 2024-02-07

![Sponsored by Red Hat Logo](../../_/img/logo-sponsored-by-red-hat.png)

Fedora is sponsored by Red Hat.
[Learn more about the relationship between Red Hat and Fedora.](https://www.redhat.com/en/technologies/linux-platforms/articles/relationship-between-fedora-and-rhel)



=== Content from github.com_678a5146_20250108_133539.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=coreos%2Ffedora-coreos-tracker)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[coreos](/coreos)
/
**[fedora-coreos-tracker](/coreos/fedora-coreos-tracker)**
Public

* [Notifications](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker) You must be signed in to change notification settings
* [Fork
  59](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)
* [Star
   265](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)

* [Code](/coreos/fedora-coreos-tracker)
* [Issues
  400](/coreos/fedora-coreos-tracker/issues)
* [Pull requests
  1](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

Additional navigation options

* [Code](/coreos/fedora-coreos-tracker)
* [Issues](/coreos/fedora-coreos-tracker/issues)
* [Pull requests](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675) #1333

Closed

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Closed

# [Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675)](#top) #1333

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Assignees
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

Labels
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

## Comments

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issue-1432007781)

| Fedora CoreOS recently added support for [setting a GRUB password](https://docs.fedoraproject.org/en-US/fedora-coreos/grub-password/). When this feature is enabled, GRUB requires a password to access the GRUB command-line, modify kernel command-line arguments, or boot non-default OSTree deployments.  Recent Fedora CoreOS releases have a misconfiguration which allows booting non-default OSTree deployments without entering a password. This allows someone with access to the GRUB menu to boot into an older version of Fedora CoreOS. A password is still required to modify kernel command-line arguments and to access the GRUB command line.  Machines provisioned from the following Fedora CoreOS releases are affected:   * `stable` 36.20220820.3.0 and later * `testing` 36.20220906.2.0 and later * `next` 36.20220906.1.0 and later   If you do not use the GRUB password feature, or if you do use it and have provisioned your machines from unaffected Fedora CoreOS images, no action is required.  If your machines are affected, and you are willing to wait for the problem to be corrected automatically in upcoming releases, no action is required. Otherwise, you can correct the problem manually by running the following commands on affected machines:  ``` sudo ostree config set sysroot.bls-append-except-default 'grub_users=""' sudo unshare -mw /boot/loader/entries bash -c \     'mount -o rw,remount /boot &&      for f in $(ls -v ostree-*-fedora-coreos.conf | head -n -1); do          if ! grep -q grub_users "$f"; then              echo grub_users \"\" >> "$f";          fi;      done'  ```  To check which version of Fedora CoreOS was used to provisioned a machine, run the following command:  ``` jq -r .build /sysroot/.coreos-aleph-version.json  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
the
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)
label
[Nov 1, 2022](#event-7716728972)

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
self-assigned this
[Nov 1, 2022](#event-7716729013)

This was referenced Nov 1, 2022

[create\_disk: correctly configure BLS `grub_users` setting (CVE-2022-3675)
coreos/coreos-assembler#3155](/coreos/coreos-assembler/pull/3155)
 Merged

[overlay/15fcos: retroactively fix BLS `grub_users` setting for CVE-2022-3675
coreos/fedora-coreos-config#2048](/coreos/fedora-coreos-config/pull/2048)
 Merged

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

Author

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issuecomment-1299216905)

| [coreos-status post](https://lists.fedoraproject.org/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/). |
| --- |

All reactions

Sorry, something went wrong.

[bgilbert](/bgilbert)
pushed a commit
to coreos/coreos-assembler
that referenced
this issue
[Nov 1, 2022](#ref-commit-7967f62)
[![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&u=9a6692ae58a70817aadcd570d102791d65f612f1&v=4)](/jlebon) [![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

`[create_disk: correctly configure BLS grub_users setting (](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[7967f62](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa)`

```
The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: [b4cb857](https://github.com/coreos/coreos-assembler/commit/b4cb8578850aba272fd7fb31700ddbeaaf0f9989) ("create_disk: Fix s390x regression from previous change")
For: [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[bgilbert](/bgilbert)
added a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 2, 2022](#ref-commit-d7d4068)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d7d4068](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7718472701)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499363)

| The fix for this went into `next` stream release `37.20221031.1.0`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499462)

| The fix for this went into `testing` stream release `36.20221030.2.1`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
added
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
and removed
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7727980756)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 15, 2022](#issuecomment-1315554169)

| The fix for this went into `stable` stream release `36.20221030.3.0`. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
closed this as [completed](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Nov 15, 2022](#event-7815597148)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
removed
the
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
label
[Nov 15, 2022](#event-7815597853)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319168915)

| Before we can pull out the migration script from our code base we need it to be in at least one barrier release.  The barrier for `testing` for the F37 transition already happened in [coreos/fedora-coreos-streams@8679f68](https://github.com/coreos/fedora-coreos-streams/commit/8679f6814bf0b3ab688321a87d482b7c2f619eaa)  The barrier for `stable` will come through in the next release on that stream (since we're switching to F37 there too).  That leaves `next`. Since we had already switched to F37 in `next` before this landed we need a new barrier there so I'll add one. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-b9154a2)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b9154a2](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453957283)

[next: add barrier for GRUB Password CVE-2022-3675
coreos/fedora-coreos-streams#604](/coreos/fedora-coreos-streams/pull/604)
 Merged

[dustymabe](/dustymabe)
added a commit
to coreos/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-a4b0300)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4 "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[a4b0300](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319177613)

| OK removing the migration script should be unblocked now. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-config
that referenced
this issue
[Nov 17, 2022](#ref-commit-8146fce)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[8146fce](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/dustymabe/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453972477)

[Revert "overlay/15fcos: retroactively fix BLS grub\_users setting (CVE-2022-3675)
coreos/fedora-coreos-config#2095](/coreos/fedora-coreos-config/pull/2095)
 Merged

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319183357)

| revert in [coreos/fedora-coreos-config#2095](https://github.com/coreos/fedora-coreos-config/pull/2095) |
| --- |

All reactions

Sorry, something went wrong.

[jlebon](/jlebon)
pushed a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 18, 2022](#ref-commit-b38aa7f)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&v=4)](/jlebon)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b38aa7f](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-8b8b009)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[8b8b009](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-b4bab05)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b4bab05](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-d570673)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d570673](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-f0ce31b)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[f0ce31b](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-00d3ae4)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[00d3ae4](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)
[lukewarmtemp](/lukewarmtemp)
mentioned this issue
[Jan 11, 2024](#ref-pullrequest-2076841416)

[stages/org.osbuild.ostree.config: support bls-append-except-default
osbuild/osbuild#1534](/osbuild/osbuild/pull/1534)
 Merged

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-925ba57)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[925ba57](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to osbuild/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-d089b42)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[d089b42](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

Assignees

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert) [bgilbert](/bgilbert)

Labels

[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=52&v=4)](/bgilbert) [![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=52&v=4)](/dustymabe)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_10fe078d_20250108_160436.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-747q-wq4p-22g3)

**CVE-2022-3675**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-747q-wq4p-22g3)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [Unreviewed](/advisories?query=type%3Aunreviewed)
3. [CVE-2022-3675](/advisories/GHSA-747q-wq4p-22g3)

## Fedora CoreOS supports setting a GRUB bootloader password...

Moderate severity

Unreviewed

Published
Nov 3, 2022
to the GitHub Advisory Database
•
Updated Jul 21, 2023

## Package

No package listed—
[Suggest a package](/advisories/GHSA-747q-wq4p-22g3/improve)

## Affected versions

Unknown

## Patched versions

Unknown

## Description

Fedora CoreOS supports setting a GRUB bootloader password using a Butane config. When this feature is enabled, GRUB requires a password to access the GRUB command-line, modify kernel command-line arguments, or boot non-default OSTree deployments. Recent Fedora CoreOS releases have a misconfiguration which allows booting non-default OSTree deployments without entering a password. This allows someone with access to the GRUB menu to boot into an older version of Fedora CoreOS, reverting any security fixes that have recently been applied to the machine. A password is still required to modify kernel command-line arguments and to access the GRUB command line.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2022-3675>
* [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
* <https://docs.fedoraproject.org/en-US/fedora-coreos/grub-password/>
* [https://lists.fedoraproject.org/archives/list/coreos-status@lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/](https://lists.fedoraproject.org/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/)

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2022-3675)
Nov 3, 2022

Published to the GitHub Advisory Database
Nov 3, 2022

Last updated
Jul 21, 2023

### Severity

Moderate

5.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
High

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N

### [EPSS score](https://www.first.org/epss/user-guide)

0.047%
 (19th percentile)

### Weaknesses

[CWE-20](/advisories?query=cwe%3A20) [CWE-306](/advisories?query=cwe%3A306) [CWE-862](/advisories?query=cwe%3A862)

### CVE ID

CVE-2022-3675

### GHSA ID

GHSA-747q-wq4p-22g3

### Source code

No known source code

Dependabot alerts are not supported on this advisory because it does not have a package from a supported ecosystem with an affected and fixed version.

[Learn more about GitHub language support](https://docs.github.com/get-started/learning-about-github/github-language-support#about-supported-languages)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-747q-wq4p-22g3/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_6c3de222_20250108_160435.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=coreos%2Ffedora-coreos-tracker)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[coreos](/coreos)
/
**[fedora-coreos-tracker](/coreos/fedora-coreos-tracker)**
Public

* [Notifications](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker) You must be signed in to change notification settings
* [Fork
  59](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)
* [Star
   265](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker)

* [Code](/coreos/fedora-coreos-tracker)
* [Issues
  400](/coreos/fedora-coreos-tracker/issues)
* [Pull requests
  1](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

Additional navigation options

* [Code](/coreos/fedora-coreos-tracker)
* [Issues](/coreos/fedora-coreos-tracker/issues)
* [Pull requests](/coreos/fedora-coreos-tracker/pulls)
* [Actions](/coreos/fedora-coreos-tracker/actions)
* [Security](/coreos/fedora-coreos-tracker/security)
* [Insights](/coreos/fedora-coreos-tracker/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675) #1333

Closed

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Closed

# [Non-default OSTree deployments accessible without GRUB password (CVE-2022-3675)](#top) #1333

[bgilbert](/bgilbert) opened this issue
Nov 1, 2022
· 7 comments

Assignees
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

Labels
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

## Comments

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issue-1432007781)

| Fedora CoreOS recently added support for [setting a GRUB password](https://docs.fedoraproject.org/en-US/fedora-coreos/grub-password/). When this feature is enabled, GRUB requires a password to access the GRUB command-line, modify kernel command-line arguments, or boot non-default OSTree deployments.  Recent Fedora CoreOS releases have a misconfiguration which allows booting non-default OSTree deployments without entering a password. This allows someone with access to the GRUB menu to boot into an older version of Fedora CoreOS. A password is still required to modify kernel command-line arguments and to access the GRUB command line.  Machines provisioned from the following Fedora CoreOS releases are affected:   * `stable` 36.20220820.3.0 and later * `testing` 36.20220906.2.0 and later * `next` 36.20220906.1.0 and later   If you do not use the GRUB password feature, or if you do use it and have provisioned your machines from unaffected Fedora CoreOS images, no action is required.  If your machines are affected, and you are willing to wait for the problem to be corrected automatically in upcoming releases, no action is required. Otherwise, you can correct the problem manually by running the following commands on affected machines:  ``` sudo ostree config set sysroot.bls-append-except-default 'grub_users=""' sudo unshare -mw /boot/loader/entries bash -c \     'mount -o rw,remount /boot &&      for f in $(ls -v ostree-*-fedora-coreos.conf | head -n -1); do          if ! grep -q grub_users "$f"; then              echo grub_users \"\" >> "$f";          fi;      done'  ```  To check which version of Fedora CoreOS was used to provisioned a machine, run the following command:  ``` jq -r .build /sysroot/.coreos-aleph-version.json  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
the
[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)
label
[Nov 1, 2022](#event-7716728972)

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
self-assigned this
[Nov 1, 2022](#event-7716729013)

This was referenced Nov 1, 2022

[create\_disk: correctly configure BLS `grub_users` setting (CVE-2022-3675)
coreos/coreos-assembler#3155](/coreos/coreos-assembler/pull/3155)
 Merged

[overlay/15fcos: retroactively fix BLS `grub_users` setting for CVE-2022-3675
coreos/fedora-coreos-config#2048](/coreos/fedora-coreos-config/pull/2048)
 Merged

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=80&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

Copy link

Contributor

Author

### **[bgilbert](/bgilbert)** commented [Nov 1, 2022](#issuecomment-1299216905)

| [coreos-status post](https://lists.fedoraproject.org/archives/list/coreos-status%40lists.fedoraproject.org/thread/NHUCNH5Y4UH5DPUCXISYXXVA563TLFEJ/). |
| --- |

All reactions

Sorry, something went wrong.

[bgilbert](/bgilbert)
pushed a commit
to coreos/coreos-assembler
that referenced
this issue
[Nov 1, 2022](#ref-commit-7967f62)
[![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&u=9a6692ae58a70817aadcd570d102791d65f612f1&v=4)](/jlebon) [![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert)

`[create_disk: correctly configure BLS grub_users setting (](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa "create_disk: correctly configure BLS grub_users setting (CVE-2022-3675)

The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: b4cb857885 (\"create_disk: Fix s390x regression from previous change\")
For: https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[7967f62](/coreos/coreos-assembler/commit/7967f6280567d5fc2ab4f31246725e0a974ebaaa)`

```
The conditional always failed since it's not a valid command without
the brackets. So the `sysroot.bls-append-except-default` option was
not set in builds created by affected cosa versions. This means that
on systems provisioned from those releases with a GRUB password set,
unprivileged GRUB users can boot non-default GRUB menu entries without
entering a password.

Fixes: [b4cb857](https://github.com/coreos/coreos-assembler/commit/b4cb8578850aba272fd7fb31700ddbeaaf0f9989) ("create_disk: Fix s390x regression from previous change")
For: [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[bgilbert](/bgilbert)
added a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 2, 2022](#ref-commit-d7d4068)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d7d4068](/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert)
[bgilbert](/bgilbert)
added
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7718472701)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499363)

| The fix for this went into `next` stream release `37.20221031.1.0`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 2, 2022](#issuecomment-1301499462)

| The fix for this went into `testing` stream release `36.20221030.2.1`. Please try out the new release and report issues. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
added
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
and removed
[status/pending-testing-release](/coreos/fedora-coreos-tracker/labels/status/pending-testing-release)
Fixed upstream. Waiting on a testing release.
[status/pending-next-release](/coreos/fedora-coreos-tracker/labels/status/pending-next-release)
Fixed upstream. Waiting on a next release.
labels
[Nov 2, 2022](#event-7727980756)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 15, 2022](#issuecomment-1315554169)

| The fix for this went into `stable` stream release `36.20221030.3.0`. |
| --- |

All reactions

Sorry, something went wrong.

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
closed this as [completed](/coreos/fedora-coreos-tracker/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Nov 15, 2022](#event-7815597148)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
removed
the
[status/pending-stable-release](/coreos/fedora-coreos-tracker/labels/status/pending-stable-release)
Fixed upstream and in testing. Waiting on stable release.
label
[Nov 15, 2022](#event-7815597853)

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319168915)

| Before we can pull out the migration script from our code base we need it to be in at least one barrier release.  The barrier for `testing` for the F37 transition already happened in [coreos/fedora-coreos-streams@8679f68](https://github.com/coreos/fedora-coreos-streams/commit/8679f6814bf0b3ab688321a87d482b7c2f619eaa)  The barrier for `stable` will come through in the next release on that stream (since we're switching to F37 there too).  That leaves `next`. Since we had already switched to F37 in `next` before this landed we need a new barrier there so I'll add one. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-b9154a2)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b9154a2](/dustymabe/fedora-coreos-streams/commit/b9154a24825750cf33fd1543c8eedf8000fe165e)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453957283)

[next: add barrier for GRUB Password CVE-2022-3675
coreos/fedora-coreos-streams#604](/coreos/fedora-coreos-streams/pull/604)
 Merged

[dustymabe](/dustymabe)
added a commit
to coreos/fedora-coreos-streams
that referenced
this issue
[Nov 17, 2022](#ref-commit-a4b0300)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[next: add barrier for GRUB Password](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4 "next: add barrier for GRUB Password CVE-2022-3675

https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915") [CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[a4b0300](/coreos/fedora-coreos-streams/commit/a4b0300eb035e86a66e0795cfac97c2a7882f9b4)`

```
[coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319177613)

| OK removing the migration script should be unblocked now. |
| --- |

All reactions

Sorry, something went wrong.

[dustymabe](/dustymabe)
added a commit
to dustymabe/fedora-coreos-config
that referenced
this issue
[Nov 17, 2022](#ref-commit-8146fce)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[8146fce](/dustymabe/fedora-coreos-config/commit/8146fcee898480ee87ea0ebeb3507fa199d89183)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/dustymabe/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)
[dustymabe](/dustymabe)
mentioned this issue
[Nov 17, 2022](#ref-pullrequest-1453972477)

[Revert "overlay/15fcos: retroactively fix BLS grub\_users setting (CVE-2022-3675)
coreos/fedora-coreos-config#2095](/coreos/fedora-coreos-config/pull/2095)
 Merged

[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=80&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe)

Copy link

Member

### **[dustymabe](/dustymabe)** commented [Nov 17, 2022](#issuecomment-1319183357)

| revert in [coreos/fedora-coreos-config#2095](https://github.com/coreos/fedora-coreos-config/pull/2095) |
| --- |

All reactions

Sorry, something went wrong.

[jlebon](/jlebon)
pushed a commit
to coreos/fedora-coreos-config
that referenced
this issue
[Nov 18, 2022](#ref-commit-b38aa7f)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@jlebon](https://avatars.githubusercontent.com/u/11934099?s=40&v=4)](/jlebon)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b38aa7f](/coreos/fedora-coreos-config/commit/b38aa7ff6406e3aa370a521208c3694d071adca2)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/coreos/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-8b8b009)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2 "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[8b8b009](/HuijingHei/fedora-coreos-config/commit/8b8b00970dc53dfc31c72ec0712ffa6c9a192cd2)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-b4bab05)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[b4bab05](/HuijingHei/fedora-coreos-config/commit/b4bab057ef20d728349ab1d5480431e19bf60d0a)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-d570673)
[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&u=0458818bf9789e0f55982c890cb5ee6079cd8ffa&v=4)](/bgilbert) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")[CVE-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")[)](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b "overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)

Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=\"\"` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For https://github.com/coreos/fedora-coreos-tracker/issues/1333.")`
…

`[d570673](/HuijingHei/fedora-coreos-config/commit/d570673cb500fa4614adb771d2792f0072291f2b)`

```
Starting with FCOS 36.20220906.1.0, 36.20220906.2.0, and 36.20220820.3.0,
coreos-assembler inadvertently failed to configure ostree to set
`grub_users=""` in non-default BLS configs, allowing old deployments to
be booted without a GRUB password.  Add a service that fixes this setting
on the first boot after upgrade, if the aleph version corresponds to an
affected release.

This can be reverted after the next update barrier in all streams.

For [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333).
```

[HuijingHei](/HuijingHei)
pushed a commit
to HuijingHei/fedora-coreos-config
that referenced
this issue
[Oct 10, 2023](#ref-commit-f0ce31b)
[![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=40&u=b9bb0dddab91020dfefe947c93c6aad68e0d7f37&v=4)](/dustymabe) [![@HuijingHei](https://avatars.githubusercontent.com/u/25028837?s=40&v=4)](/HuijingHei)

`[Revert "overlay/15fcos: retroactively fix BLS grub_users setting (](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6 "Revert \"overlay/15fcos: retroactively fix BLS grub_users setting (CVE-2022-3675)\"

This reverts commit d7d40682debfa5a29d0a4e5ff4c73d52bd60f963.

This is no longer needed since we have implemented a barrier on each
release stream now: https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915")[CVE…](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675")`
…

`[f0ce31b](/HuijingHei/fedora-coreos-config/commit/f0ce31b2a5786f6c63c86829357a66c6d7b111d6)`

```
[…-2022-3675](https://github.com/advisories/GHSA-747q-wq4p-22g3 "CVE-2022-3675"))"

This reverts commit [d7d4068](https://github.com/HuijingHei/fedora-coreos-config/commit/d7d40682debfa5a29d0a4e5ff4c73d52bd60f963).

This is no longer needed since we have implemented a barrier on each
release stream now: [coreos/fedora-coreos-tracker#1333 (comment)](https://github.com/coreos/fedora-coreos-tracker/issues/1333#issuecomment-1319168915)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-00d3ae4)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[00d3ae4](/lukewarmtemp/osbuild/commit/00d3ae4de66ada6e9eb56cccc01015577633edde)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)
[lukewarmtemp](/lukewarmtemp)
mentioned this issue
[Jan 11, 2024](#ref-pullrequest-2076841416)

[stages/org.osbuild.ostree.config: support bls-append-except-default
osbuild/osbuild#1534](/osbuild/osbuild/pull/1534)
 Merged

[lukewarmtemp](/lukewarmtemp)
added a commit
to lukewarmtemp/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-925ba57)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[925ba57](/lukewarmtemp/osbuild/commit/925ba57cf3393f56be74fd60b177441ac6091162)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[lukewarmtemp](/lukewarmtemp)
added a commit
to osbuild/osbuild
that referenced
this issue
[Jan 11, 2024](#ref-commit-d089b42)
[![@lukewarmtemp](https://avatars.githubusercontent.com/u/74154406?s=40&u=a4288fe34dcf74d05b07bd71d1c9f67ef8e4418d&v=4)](/lukewarmtemp)

`[stages/org.osbuild.ostree.config: support bls-append-except-default](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7 "stages/org.osbuild.ostree.config: support bls-append-except-default

Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support https://github.com/coreos/fedora-coreos-tracker/issues/1333")`
…

`[d089b42](/osbuild/osbuild/commit/d089b429a7d11e0775a680249bc4b2ca6469b3b7)`

```
Support setting the sysroot.bls-append-except-default value in the
OSTree config. This is used by CoreOS to support configuration used
for GRUB password support [coreos/fedora-coreos-tracker#1333](https://github.com/coreos/fedora-coreos-tracker/issues/1333)
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcoreos%2Ffedora-coreos-tracker%2Fissues%2F1333)

Assignees

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=40&v=4)](/bgilbert) [bgilbert](/bgilbert)

Labels

[kind/regression](/coreos/fedora-coreos-tracker/labels/kind/regression)

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@bgilbert](https://avatars.githubusercontent.com/u/361374?s=52&v=4)](/bgilbert) [![@dustymabe](https://avatars.githubusercontent.com/u/4530030?s=52&v=4)](/dustymabe)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


