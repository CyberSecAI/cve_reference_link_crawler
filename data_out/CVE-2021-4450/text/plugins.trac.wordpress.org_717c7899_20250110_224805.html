

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F2644269)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/2644268 "Changeset 2644268")
* [Next Changeset](/changeset/2644270 "Changeset 2644270") →

---

# Changeset 2644269

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
12/15/2021 03:42:27 AM
([3 years](/timeline?from=2021-12-15T03%3A42%3A27Z&precision=second "See timeline at 12/15/2021 03:42:27 AM") ago)

Author:
pickplugins
Message:

version update

Location:
[post-grid/trunk](/browser/post-grid/trunk?rev=2644269)
Files:

3 edited

* [includes/duplicate-post.php](/browser/post-grid/trunk/includes/duplicate-post.php?rev=2644269 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [post-grid.php](/browser/post-grid/trunk/post-grid.php?rev=2644269 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [readme.txt](/browser/post-grid/trunk/readme.txt?rev=2644269 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [post-grid/trunk/includes/duplicate-post.php](/changeset/2644269/post-grid/trunk/includes/duplicate-post.php "Show the changeset 2644269 restricted to post-grid/trunk/includes/duplicate-post.php")

  | [r2314920](/browser/post-grid/trunk/includes/duplicate-post.php?rev=2314920#L15 "Show revision 2314920 of this file in browser") | [r2644269](/browser/post-grid/trunk/includes/duplicate-post.php?rev=2644269#L15 "Show revision 2644269 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 |  |
  | 16 | 16 | add\_action( 'admin\_action\_duplicate\_post\_as\_draft', array($this, 'duplicate\_post\_as\_draft') ); |
  |  | 17 |  |
  | 17 | 18 |  |
  | 18 | 19 |  |
  | […](/browser/post-grid/trunk/includes/duplicate-post.php?rev=2314920#L105) | […](/browser/post-grid/trunk/includes/duplicate-post.php?rev=2644269#L106) |  |
  | 105 | 106 | \* duplicate all post meta just in two SQL queries |
  | 106 | 107 | \*/ |
  | 107 |  | $post\_meta\_infos = $wpdb->get\_results("SELECT meta\_key, meta\_value FROM $wpdb->postmeta WHERE post\_id=$post\_id"); |
  | 108 |  | if (count($post\_meta\_infos)!=0) { |
  | 109 |  | $sql\_query = "INSERT INTO $wpdb->postmeta (post\_id, meta\_key, meta\_value) "; |
  | 110 |  | foreach ($post\_meta\_infos as $meta\_info) { |
  | 111 |  | $meta\_key = $meta\_info->meta\_key; |
  | 112 |  | if( $meta\_key == '\_wp\_old\_slug' ) continue; |
  | 113 |  | $meta\_value = addslashes($meta\_info->meta\_value); |
  | 114 |  | $sql\_query\_sel[]= "SELECT $new\_post\_id, '$meta\_key', '$meta\_value'"; |
  |  | 108 | // Copy post metadata |
  |  | 109 | $data = get\_post\_custom($post\_id); |
  |  | 110 | foreach ( $data as $key => $values) { |
  |  | 111 | foreach ($values as $value) { |
  |  | 112 | add\_post\_meta( $new\_post\_id, $key, maybe\_unserialize( $value ) );// it is important to unserialize data to avoid conflicts. |
  |  | 113 | } |
  | 115 | 114 | } |
  | 116 |  | ~~$sql\_query.= implode(" UNION ALL ", $sql\_query\_sel);~~ |
  | 117 |  | ~~$wpdb->query($sql\_query);~~ |
  | 118 |  | ~~}~~ |
  | 119 | 115 |  |
  | 120 | 116 |  |
* ## [post-grid/trunk/post-grid.php](/changeset/2644269/post-grid/trunk/post-grid.php "Show the changeset 2644269 restricted to post-grid/trunk/post-grid.php")

  | [r2641637](/browser/post-grid/trunk/post-grid.php?rev=2641637#L4 "Show revision 2641637 of this file in browser") | [r2644269](/browser/post-grid/trunk/post-grid.php?rev=2644269#L4 "Show revision 2644269 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://www.pickplugins.com/item/post-grid-create-awesome-grid-from-any-post-type-for-wordpress/ |
  | 5 | 5 | Description: Awesome post grid for query post from any post type and display on grid. |
  | 6 |  | Version: 2.1.1~~2~~ |
  |  | 6 | Version: 2.1.13 |
  | 7 | 7 | Author: PickPlugins |
  | 8 | 8 | Author URI: https://www.pickplugins.com/ |
  | […](/browser/post-grid/trunk/post-grid.php?rev=2641637#L22) | […](/browser/post-grid/trunk/post-grid.php?rev=2644269#L22) |  |
  | 22 | 22 | define('post\_grid\_plugin\_basename', plugin\_basename(\_\_FILE\_\_)); |
  | 23 | 23 | define('post\_grid\_plugin\_name', 'Post Grid'); |
  | 24 |  | define('post\_grid\_version', '2.1.1~~2~~'); |
  |  | 24 | define('post\_grid\_version', '2.1.13'); |
  | 25 | 25 | define('post\_grid\_server\_url', 'https://www.pickplugins.com/demo/post-grid/'); |
  | 26 | 26 |  |
* ## [post-grid/trunk/readme.txt](/changeset/2644269/post-grid/trunk/readme.txt "Show the changeset 2644269 restricted to post-grid/trunk/readme.txt")

  | [r2641637](/browser/post-grid/trunk/readme.txt?rev=2641637#L5 "Show revision 2641637 of this file in browser") | [r2644269](/browser/post-grid/trunk/readme.txt?rev=2644269#L5 "Show revision 2644269 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires at least: 3.8 |
  | 6 | 6 | Tested up to: 5.8 |
  | 7 |  | Stable tag: 2.1.1~~2~~ |
  |  | 7 | Stable tag: 2.1.13 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/post-grid/trunk/readme.txt?rev=2641637#L223) | […](/browser/post-grid/trunk/readme.txt?rev=2644269#L223) |  |
  | 223 | 223 | == Changelog == |
  | 224 | 224 |  |
  |  | 225 |  |
  |  | 226 | = 2.1.13 = |
  |  | 227 | \* 2021-12-15 - fix - SQL security issue fixed. |
  |  | 228 |  |
  | 225 | 229 | = 2.1.12 = |
  | 226 | 230 | \* 2021-12-09 fix -  PHP warning issue fixed. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=2644269)
* [Zip Archive](?format=zip&new=2644269)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

