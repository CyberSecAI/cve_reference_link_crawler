

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3085420)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3085419 "Changeset 3085419")
* [Next Changeset](/changeset/3085421 "Changeset 3085421") →

---

# Changeset 3085420

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/13/2024 06:26:40 AM
([8 months](/timeline?from=2024-05-13T06%3A26%3A40Z&precision=second "See timeline at 05/13/2024 06:26:40 AM") ago)

Author:
wpdevteam
Message:

Update to version 5.9.21 from GitHub

Location:
[essential-addons-for-elementor-lite](/browser/essential-addons-for-elementor-lite?rev=3085420)
Files:

18 edited
1 copied

* [tags/5.9.21](/browser/essential-addons-for-elementor-lite/tags/5.9.21?rev=3085420 "Show entry in browser")
  (copied)
  *(copied from [essential-addons-for-elementor-lite/trunk](/browser/essential-addons-for-elementor-lite/trunk?rev=3083162 "Show original file (revision 3085419)"))*
* [tags/5.9.21/assets/front-end/js/view/table-of-content.js](/browser/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.js?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/5.9.21/assets/front-end/js/view/table-of-content.min.js](/browser/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.min.js?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/5.9.21/essential\_adons\_elementor.php](/browser/essential-addons-for-elementor-lite/tags/5.9.21/essential_adons_elementor.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [tags/5.9.21/includes/Classes/Helper.php](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [tags/5.9.21/includes/Elements/NFT\_Gallery.php](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT_Gallery.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [tags/5.9.21/includes/Traits/Controls.php](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [tags/5.9.21/includes/Traits/Elements.php](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420 "Show entry in browser")
  (modified)
  ([5 diffs](#file7 "Show differences"))
* [tags/5.9.21/languages/essential-addons-for-elementor-lite.pot](/browser/essential-addons-for-elementor-lite/tags/5.9.21/languages/essential-addons-for-elementor-lite.pot?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [tags/5.9.21/readme.txt](/browser/essential-addons-for-elementor-lite/tags/5.9.21/readme.txt?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file9 "Show differences"))
* [trunk/assets/front-end/js/view/table-of-content.js](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [trunk/assets/front-end/js/view/table-of-content.min.js](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [trunk/essential\_adons\_elementor.php](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))
* [trunk/includes/Classes/Helper.php](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file13 "Show differences"))
* [trunk/includes/Elements/NFT\_Gallery.php](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file14 "Show differences"))
* [trunk/includes/Traits/Controls.php](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file15 "Show differences"))
* [trunk/includes/Traits/Elements.php](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420 "Show entry in browser")
  (modified)
  ([5 diffs](#file16 "Show differences"))
* [trunk/languages/essential-addons-for-elementor-lite.pot](/browser/essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot?rev=3085420 "Show entry in browser")
  (modified)
  ([1 diff](#file17 "Show differences"))
* [trunk/readme.txt](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3085420 "Show entry in browser")
  (modified)
  ([2 diffs](#file18 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.js](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.js "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.js")

  | [r3075644](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js?rev=3075644#L94 "Show revision 3075644 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.js?rev=3085420#L94 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 94 | 94 | /\*\*\*/ (function(module, exports) { |
  | 95 | 95 |  |
  | 96 |  | eval("function \_toConsumableArray(arr) { return \_arrayWithoutHoles(arr) || \_iterableToArray(arr) || \_unsupportedIterableToArray(arr) || \_nonIterableSpread(); }\nfunction \_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction \_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return \_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return \_arrayLikeToArray(o, minLen); }\nfunction \_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction \_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return \_arrayLikeToArray(arr); }\nfunction \_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n(function ($) {\n  jQuery(document).ready(function () {\n    /\*\*\n     \* add ID in main content heading tag\n     \* @param selector\n     \* @param supportTag\n     \*/\n\n    var headerHeight = $(\"header\").height();\n    var page\_offset = $(\"#eael-toc\").data(\"page\_offset\");\n    var page\_offset = page\_offset !== 0 && page\_offset !== undefined ? page\_offset : null;\n    var offsetSpan = page\_offset !== null ? page\_offset : headerHeight !== undefined && headerHeight !== 0 ? headerHeight + 10 : 120;\n    function eael\_toc\_content(selector, supportTag) {\n      var listId = document.getElementById(\"eael-toc-list\");\n      if (selector === null || supportTag === undefined || !listId) {\n        return null;\n      }\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var excludeArr = typeof eaelToc.dataset.excludeSelector !== \"undefined\" ? eaelToc.dataset.excludeSelector.replace(/^,|,$/g, \"\") : \"\";\n      var allSupportTag = [];\n      var mainSelector = document.querySelectorAll(selector),\n        listIndex = 0;\n      for (var j = 0; j < mainSelector.length; j++) {\n        allSupportTag = [].concat(\_toConsumableArray(allSupportTag), \_toConsumableArray(mainSelector[j].querySelectorAll(supportTag)));\n      }\n      allSupportTag = Array.from(new Set(allSupportTag));\n      allSupportTag.forEach(function (el) {\n        if (eaelTocExclude(excludeArr, el)) {\n          return;\n        }\n        el.id = listIndex + \"-\" + eael\_build\_id(titleUrl, el.textContent);\n        el.classList.add(\"eael-heading-content\");\n        listIndex++;\n      });\n      //build toc list hierarchy\n      eael\_list\_hierarchy(selector, supportTag, allSupportTag);\n      var firstChild = $(\"ul.eael-toc-list > li\");\n      if (firstChild.length < 1) {\n        document.getElementById(\"eael-toc\").classList.add(\"eael-toc-disable\");\n      }\n      firstChild.each(function () {\n        this.classList.add(\"eael-first-child\");\n      });\n    }\n\n    /\*\*\n     \* Make toc list\n     \* @param selector\n     \* @param supportTag\n     \*/\n    function eael\_list\_hierarchy(selector, supportTag, allSupportTagList) {\n      var tagList = supportTag;\n      var allHeadings = allSupportTagList;\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var listId = document.getElementById(\"eael-toc-list\");\n      var excludeArr = typeof eaelToc.dataset.excludeselector !== \"undefined\" ? eaelToc.dataset.excludeselector.replace(/^,|,$/g, \"\") : \"\";\n      var parentLevel = \"\",\n        baseTag = parentLevel = tagList.trim().split(\",\")[0].substr(1, 1),\n        ListNode = listId;\n      listId.innerHTML = \"\";\n      if (allHeadings.length > 0) {\n        document.getElementById(\"eael-toc\").classList.remove(\"eael-toc-disable\");\n      }\n      for (var i = 0, len = allHeadings.length; i < len; ++i) {\n        var currentHeading = allHeadings[i],\n          ~~find\_main = $(currentHeading).closest('#main'),\n          exclude\_areas = 'nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts',\n          find\_exclude = $(currentHeading).closest(exclude\_areas),\n          in\_main\_area = find\_main.length > 0,\n          in\_exclude\_area = find\_exclude.length > 0;\n        if (eaelTocExclude(excludeArr, currentHeading) || !(in\_main\_area && !in\_exclude\_area)~~) {\n          continue;\n        }\n        var latestLavel = parseInt(currentHeading.tagName.substr(1, 1));\n        var diff = latestLavel - parentLevel;\n        if (diff > 0) {\n          var containerLiNode = ListNode.lastChild;\n          if (containerLiNode) {\n            var createUlNode = document.createElement(\"UL\");\n            containerLiNode.appendChild(createUlNode);\n            ListNode = createUlNode;\n            parentLevel = latestLavel;\n          }\n        }\n        var sequenceParent = false;\n        if (diff < 0) {\n          while (0 !== diff++) {\n            if (ListNode.parentNode.parentNode) {\n              ListNode = ListNode.parentNode.parentNode;\n            }\n          }\n          parentLevel = latestLavel;\n          sequenceParent = true;\n        }\n        if (ListNode.tagName !== \"UL\") {\n          ListNode = listId;\n        }\n        if (currentHeading.textContent.trim() === \"\") {\n          continue;\n        }\n        var liNode = document.createElement(\"LI\");\n        var anchorTag = document.createElement(\"A\");\n        var spanTag = document.createElement(\"SPAN\");\n        if (baseTag === parentLevel || sequenceParent) {\n          liNode.setAttribute(\"itemscope\", \"\");\n          liNode.setAttribute(\"itemtype\", \"http://schema.org/ListItem\");\n          liNode.setAttribute(\"itemprop\", \"itemListElement\");\n        }\n        var Linkid = \"#\" + i + \"-\" + eael\_build\_id(titleUrl, currentHeading.textContent);\n        anchorTag.className = \"eael-toc-link\";\n        anchorTag.setAttribute(\"itemprop\", \"item\");\n        anchorTag.setAttribute(\"href\", Linkid);\n        spanTag.appendChild(document.createTextNode(currentHeading.textContent));\n        anchorTag.appendChild(spanTag);\n        liNode.appendChild(anchorTag);\n        ListNode.appendChild(liNode);\n      }\n    }\n\n    // expand collapse\n    $(document).on(\"click\", \"ul.eael-toc-list a\", function (e) {\n      e.preventDefault();\n      $(document).off(\"scroll\");\n      var target = this.hash;\n      history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n      var parentLi = $(this).parent();\n      if (parentLi.is(\".eael-highlight-parent.eael-highlight-active\")) {\n        $('html, body').animate({\n          scrollTop: $(target).offset().top - offsetSpan\n        }, 0);\n        return false;\n      }\n      $(\".eael-highlight-active, .eael-highlight-parent\").removeClass(\"eael-highlight-active eael-highlight-parent\");\n      $(this).closest(\".eael-first-child\").addClass(\"eael-highlight-parent\");\n      $(this).parent().addClass(\"eael-highlight-active\");\n      $('html, body').animate({\n        scrollTop: $(target).offset().top - offsetSpan\n      }, 0);\n    });\n\n    //some site not working with \*\*window.onscroll\*\*\n    window.addEventListener(\"scroll\", function (e) {\n      eaelTocSticky();\n    });\n    var stickyScroll = $(\"#eael-toc\").data(\"stickyscroll\");\n\n    /\*\*\n     \* Check selector in array\n     \*\n     \* @param arr\n     \* @param el\n     \* @returns boolean\n     \*/\n    function eaelTocExclude(excludes, el) {\n      return $(el).closest(excludes).length;\n    }\n\n    /\*\*\n     \* check sticky\n     \*/\n    function eaelTocSticky() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (!eaelToc) {\n        return;\n      }\n      stickyScroll = stickyScroll !== undefined ? stickyScroll : 200;\n      if (window.pageYOffset >= stickyScroll && !eaelToc.classList.contains(\"eael-toc-disable\")) {\n        eaelToc.classList.add(\"eael-sticky\");\n        if ($('#eael-toc-list').hasClass('eael-toc-auto-highlight')) {\n          highlightCurrentHeading();\n        }\n      } else {\n        eaelToc.classList.remove(\"eael-sticky\");\n      }\n    }\n    function highlightCurrentHeading() {\n      var allHeadings = document.querySelectorAll(\"#eael-toc-list .eael-toc-link\");\n      $('#eael-toc-list .eael-toc-link').removeClass('eael-highlight-active');\n      var showSinlgeHeadingOnly = $('#eael-toc').hasClass('eael-toc-auto-highlight.eael-toc-highlight-single-item') ? true : false;\n      for (var i = 0; i < allHeadings.length; i++) {\n        var headingElement = allHeadings[i];\n        var headingTarget = headingElement.getAttribute(\"href\");\n        var headingTargettedElement = document.getElementById(headingTarget.substring(1)); //removes # and fetch element\n\n        if (isElementInViewport(headingTargettedElement)) {\n          $(headingElement).addClass(\"eael-highlight-active\");\n          if (showSinlgeHeadingOnly) {\n            break;\n          }\n        }\n      }\n    }\n\n    /\*\*\n     \* Determine if the element is in the viewport.\n     \* @param {\*} el \n     \* @returns \n     \*/\n    function isElementInViewport(el) {\n      // Special bonus for those using jQuery\n      if (typeof jQuery === \"function\" && el instanceof jQuery) {\n        el = el[0];\n      }\n      var rect = el.getBoundingClientRect();\n      return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /\* or $(window).height() \*/\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /\* or $(window).width() \*/;\n    }\n\n    /\*\*\n     \*\n     \* @param content\n     \* @returns {string}\n     \*/\n    function eael\_build\_id(showTitle, title) {\n      if (showTitle == \"true\" && title != \"\") {\n        //create slug from Heading text\n        return title.toString().toLowerCase().normalize(\"NFD\").trim().replace(/[^a-z0-9 -]/g, \"\").replace(/\\s+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\").replace(/-+/g, \"-\");\n      } else {\n        return \"eael-table-of-content\";\n      }\n    }\n\n    /\*\*\n     \*\n     \* @returns {null|selector}\n     \*/\n    function eael\_toc\_check\_content() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (eaelToc && eaelToc.dataset.contentselector) {\n        return eaelToc.dataset.contentselector;\n      }\n      var contentSelectro = \".site-content\";\n      if ($(\".site-content\")[0]) {\n        contentSelectro = \".site-content\";\n      } else if ($(\".elementor-inner\")[0]) {\n        contentSelectro = \".elementor-inner\";\n      } else if ($(\"#site-content\")[0]) {\n        contentSelectro = \"#site-content\";\n      } else if ($(\".site-main\")) {\n        contentSelectro = \".site-main\";\n      }\n      return contentSelectro;\n    }\n\n    //toc auto collapse\n    $(\"body\").click(function (e) {\n      var target = $(e.target);\n      var eaToc = $(\"#eael-toc\");\n      if (eaToc.hasClass(\"eael-toc-auto-collapse\") && eaToc.hasClass(\"eael-sticky\") && !eaToc.hasClass(\"collapsed\") && $(target).closest(\"#eael-toc\").length === 0) {\n        eaToc.toggleClass(\"collapsed\");\n      }\n    });\n    $(document).on(\"click\", \".eael-toc-close ,.eael-toc-button\", function (event) {\n      event.stopPropagation();\n      $(\".eael-toc\").toggleClass(\"collapsed\");\n    });\n    function eael\_build\_toc($settings) {\n      var pageSetting = $settings.settings,\n        title = pageSetting.eael\_ext\_toc\_title,\n        toc\_style\_class = \"eael-toc-list eael-toc-list-\" + pageSetting.eael\_ext\_table\_of\_content\_list\_style,\n        icon = pageSetting.eael\_ext\_table\_of\_content\_header\_icon.value,\n        el\_class = pageSetting.eael\_ext\_toc\_position === \"right\" ? \" eael-toc-right\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_collapse\_sub\_heading === \"yes\" ? \" eael-toc-collapse\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_list\_icon === \"number\" ? \" eael-toc-number\" : \" eael-toc-bullet\";\n      return '<div id=\"eael-toc\" class=\"eael-toc eael-toc-disable ' + el\_class + '\">' + '<div class=\"eael-toc-header\"><span class=\"eael-toc-close\">×</span><h2 class=\"eael-toc-title\">' + title + \"</h2></div>\" + '<div class=\"eael-toc-body\"><ul id=\"eael-toc-list\" class=\"' + toc\_style\_class + '\"></ul></div>' + '<button class=\"eael-toc-button\"><i class=\"' + icon + '\"></i><span>' + title + \"</span></button>\" + \"</div>\";\n    }\n    if (typeof ea !== 'undefined' && ea.isEditMode) {\n      elementorFrontend.hooks.addAction(\"frontend/element\_ready/widget\", function ($scope, jQuery) {\n        var tocLoad = jQuery(\"#eael-toc #eael-toc-list\");\n        var TocList = tocLoad.find(\"li.eael-first-child\");\n        if (TocList.length < 1 && tocLoad.length >= 1) {\n          var tagList = jQuery(\"#eael-toc\").data(\"eaeltoctag\");\n          if (tagList) {\n            eael\_toc\_content(eael\_toc\_check\_content(), tagList);\n          }\n        }\n      });\n    }\n    var editMode = typeof isEditMode !== 'undefined' ? isEditMode : false;\n    var intSupportTag = $(\"#eael-toc\").data(\"eaeltoctag\");\n    if (intSupportTag !== \"\" && !editMode) {\n      eael\_toc\_content(eael\_toc\_check\_content(), intSupportTag);\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack:///./src/js/view/table-of-content.js?"); |
  |  | 96 | eval("function \_toConsumableArray(arr) { return \_arrayWithoutHoles(arr) || \_iterableToArray(arr) || \_unsupportedIterableToArray(arr) || \_nonIterableSpread(); }\nfunction \_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction \_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return \_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return \_arrayLikeToArray(o, minLen); }\nfunction \_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction \_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return \_arrayLikeToArray(arr); }\nfunction \_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n(function ($) {\n  jQuery(document).ready(function () {\n    /\*\*\n     \* add ID in main content heading tag\n     \* @param selector\n     \* @param supportTag\n     \*/\n\n    var headerHeight = $(\"header\").height();\n    var page\_offset = $(\"#eael-toc\").data(\"page\_offset\");\n    var page\_offset = page\_offset !== 0 && page\_offset !== undefined ? page\_offset : null;\n    var offsetSpan = page\_offset !== null ? page\_offset : headerHeight !== undefined && headerHeight !== 0 ? headerHeight + 10 : 120;\n    function eael\_toc\_content(selector, supportTag) {\n      var listId = document.getElementById(\"eael-toc-list\");\n      if (selector === null || supportTag === undefined || !listId) {\n        return null;\n      }\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var excludeArr = typeof eaelToc.dataset.excludeSelector !== \"undefined\" ? eaelToc.dataset.excludeSelector.replace(/^,|,$/g, \"\") : \"\";\n      var allSupportTag = [];\n      var mainSelector = document.querySelectorAll(selector),\n        listIndex = 0;\n      for (var j = 0; j < mainSelector.length; j++) {\n        allSupportTag = [].concat(\_toConsumableArray(allSupportTag), \_toConsumableArray(mainSelector[j].querySelectorAll(supportTag)));\n      }\n      allSupportTag = Array.from(new Set(allSupportTag));\n      allSupportTag.forEach(function (el) {\n        if (eaelTocExclude(excludeArr, el)) {\n          return;\n        }\n        el.id = listIndex + \"-\" + eael\_build\_id(titleUrl, el.textContent);\n        el.classList.add(\"eael-heading-content\");\n        listIndex++;\n      });\n      //build toc list hierarchy\n      eael\_list\_hierarchy(selector, supportTag, allSupportTag);\n      var firstChild = $(\"ul.eael-toc-list > li\");\n      if (firstChild.length < 1) {\n        document.getElementById(\"eael-toc\").classList.add(\"eael-toc-disable\");\n      }\n      firstChild.each(function () {\n        this.classList.add(\"eael-first-child\");\n      });\n    }\n\n    /\*\*\n     \* Make toc list\n     \* @param selector\n     \* @param supportTag\n     \*/\n    function eael\_list\_hierarchy(selector, supportTag, allSupportTagList) {\n      var tagList = supportTag;\n      var allHeadings = allSupportTagList;\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var listId = document.getElementById(\"eael-toc-list\");\n      var excludeArr = typeof eaelToc.dataset.excludeselector !== \"undefined\" ? eaelToc.dataset.excludeselector.replace(/^,|,$/g, \"\") : \"\";\n      var parentLevel = \"\",\n        baseTag = parentLevel = tagList.trim().split(\",\")[0].substr(1, 1),\n        ListNode = listId;\n      listId.innerHTML = \"\";\n      if (allHeadings.length > 0) {\n        document.getElementById(\"eael-toc\").classList.remove(\"eael-toc-disable\");\n      }\n      for (var i = 0, len = allHeadings.length; i < len; ++i) {\n        var currentHeading = allHeadings[i],\n          exclude\_areas = '.ab-top-menu, .page-header, .site-title, nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts, .eael-toc-header',\n          find\_exclude = $(currentHeading).closest(exclude\_areas),\n          in\_exclude\_area = find\_exclude.length > 0;\n        if (eaelTocExclude(excludeArr, currentHeading) || in\_exclude\_area) {\n          continue;\n        }\n        var latestLavel = parseInt(currentHeading.tagName.substr(1, 1));\n        var diff = latestLavel - parentLevel;\n        if (diff > 0) {\n          var containerLiNode = ListNode.lastChild;\n          if (containerLiNode) {\n            var createUlNode = document.createElement(\"UL\");\n            containerLiNode.appendChild(createUlNode);\n            ListNode = createUlNode;\n            parentLevel = latestLavel;\n          }\n        }\n        var sequenceParent = false;\n        if (diff < 0) {\n          while (0 !== diff++) {\n            if (ListNode.parentNode.parentNode) {\n              ListNode = ListNode.parentNode.parentNode;\n            }\n          }\n          parentLevel = latestLavel;\n          sequenceParent = true;\n        }\n        if (ListNode.tagName !== \"UL\") {\n          ListNode = listId;\n        }\n        if (currentHeading.textContent.trim() === \"\") {\n          continue;\n        }\n        var liNode = document.createElement(\"LI\");\n        var anchorTag = document.createElement(\"A\");\n        var spanTag = document.createElement(\"SPAN\");\n        if (baseTag === parentLevel || sequenceParent) {\n          liNode.setAttribute(\"itemscope\", \"\");\n          liNode.setAttribute(\"itemtype\", \"http://schema.org/ListItem\");\n          liNode.setAttribute(\"itemprop\", \"itemListElement\");\n        }\n        var Linkid = \"#\" + i + \"-\" + eael\_build\_id(titleUrl, currentHeading.textContent);\n        anchorTag.className = \"eael-toc-link\";\n        anchorTag.setAttribute(\"itemprop\", \"item\");\n        anchorTag.setAttribute(\"href\", Linkid);\n        spanTag.appendChild(document.createTextNode(currentHeading.textContent));\n        anchorTag.appendChild(spanTag);\n        liNode.appendChild(anchorTag);\n        ListNode.appendChild(liNode);\n      }\n    }\n\n    // expand collapse\n    $(document).on(\"click\", \"ul.eael-toc-list a\", function (e) {\n      e.preventDefault();\n      $(document).off(\"scroll\");\n      var target = this.hash;\n      history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n      var parentLi = $(this).parent();\n      if (parentLi.is(\".eael-highlight-parent.eael-highlight-active\")) {\n        $('html, body').animate({\n          scrollTop: $(target).offset().top - offsetSpan\n        }, 0);\n        return false;\n      }\n      $(\".eael-highlight-active, .eael-highlight-parent\").removeClass(\"eael-highlight-active eael-highlight-parent\");\n      $(this).closest(\".eael-first-child\").addClass(\"eael-highlight-parent\");\n      $(this).parent().addClass(\"eael-highlight-active\");\n      $('html, body').animate({\n        scrollTop: $(target).offset().top - offsetSpan\n      }, 0);\n    });\n\n    //some site not working with \*\*window.onscroll\*\*\n    window.addEventListener(\"scroll\", function (e) {\n      eaelTocSticky();\n    });\n    var stickyScroll = $(\"#eael-toc\").data(\"stickyscroll\");\n\n    /\*\*\n     \* Check selector in array\n     \*\n     \* @param arr\n     \* @param el\n     \* @returns boolean\n     \*/\n    function eaelTocExclude(excludes, el) {\n      return $(el).closest(excludes).length;\n    }\n\n    /\*\*\n     \* check sticky\n     \*/\n    function eaelTocSticky() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (!eaelToc) {\n        return;\n      }\n      stickyScroll = stickyScroll !== undefined ? stickyScroll : 200;\n      if (window.pageYOffset >= stickyScroll && !eaelToc.classList.contains(\"eael-toc-disable\")) {\n        eaelToc.classList.add(\"eael-sticky\");\n        if ($('#eael-toc-list').hasClass('eael-toc-auto-highlight')) {\n          highlightCurrentHeading();\n        }\n      } else {\n        eaelToc.classList.remove(\"eael-sticky\");\n      }\n    }\n    function highlightCurrentHeading() {\n      var allHeadings = document.querySelectorAll(\"#eael-toc-list .eael-toc-link\");\n      $('#eael-toc-list .eael-toc-link').removeClass('eael-highlight-active');\n      var showSinlgeHeadingOnly = $('#eael-toc').hasClass('eael-toc-auto-highlight.eael-toc-highlight-single-item') ? true : false;\n      for (var i = 0; i < allHeadings.length; i++) {\n        var headingElement = allHeadings[i];\n        var headingTarget = headingElement.getAttribute(\"href\");\n        var headingTargettedElement = document.getElementById(headingTarget.substring(1)); //removes # and fetch element\n\n        if (isElementInViewport(headingTargettedElement)) {\n          $(headingElement).addClass(\"eael-highlight-active\");\n          if (showSinlgeHeadingOnly) {\n            break;\n          }\n        }\n      }\n    }\n\n    /\*\*\n     \* Determine if the element is in the viewport.\n     \* @param {\*} el \n     \* @returns \n     \*/\n    function isElementInViewport(el) {\n      // Special bonus for those using jQuery\n      if (typeof jQuery === \"function\" && el instanceof jQuery) {\n        el = el[0];\n      }\n      var rect = el.getBoundingClientRect();\n      return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /\* or $(window).height() \*/\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /\* or $(window).width() \*/;\n    }\n\n    /\*\*\n     \*\n     \* @param content\n     \* @returns {string}\n     \*/\n    function eael\_build\_id(showTitle, title) {\n      if (showTitle == \"true\" && title != \"\") {\n        //create slug from Heading text\n        return title.toString().toLowerCase().normalize(\"NFD\").trim().replace(/[^a-z0-9 -]/g, \"\").replace(/\\s+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\").replace(/-+/g, \"-\");\n      } else {\n        return \"eael-table-of-content\";\n      }\n    }\n\n    /\*\*\n     \*\n     \* @returns {null|selector}\n     \*/\n    function eael\_toc\_check\_content() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (eaelToc && eaelToc.dataset.contentselector) {\n        return eaelToc.dataset.contentselector;\n      }\n      var contentSelectro = \".site-content\";\n      if ($(\".site-content\")[0]) {\n        contentSelectro = \".site-content\";\n      } else if ($(\".elementor-inner\")[0]) {\n        contentSelectro = \".elementor-inner\";\n      } else if ($(\"#site-content\")[0]) {\n        contentSelectro = \"#site-content\";\n      } else if ($(\".site-main\")) {\n        contentSelectro = \".site-main\";\n      }\n      return contentSelectro;\n    }\n\n    //toc auto collapse\n    $(\"body\").click(function (e) {\n      var target = $(e.target);\n      var eaToc = $(\"#eael-toc\");\n      if (eaToc.hasClass(\"eael-toc-auto-collapse\") && eaToc.hasClass(\"eael-sticky\") && !eaToc.hasClass(\"collapsed\") && $(target).closest(\"#eael-toc\").length === 0) {\n        eaToc.toggleClass(\"collapsed\");\n      }\n    });\n    $(document).on(\"click\", \".eael-toc-close ,.eael-toc-button\", function (event) {\n      event.stopPropagation();\n      $(\".eael-toc\").toggleClass(\"collapsed\");\n    });\n    function eael\_build\_toc($settings) {\n      var pageSetting = $settings.settings,\n        title = pageSetting.eael\_ext\_toc\_title,\n        toc\_style\_class = \"eael-toc-list eael-toc-list-\" + pageSetting.eael\_ext\_table\_of\_content\_list\_style,\n        icon = pageSetting.eael\_ext\_table\_of\_content\_header\_icon.value,\n        el\_class = pageSetting.eael\_ext\_toc\_position === \"right\" ? \" eael-toc-right\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_collapse\_sub\_heading === \"yes\" ? \" eael-toc-collapse\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_list\_icon === \"number\" ? \" eael-toc-number\" : \" eael-toc-bullet\";\n      return '<div id=\"eael-toc\" class=\"eael-toc eael-toc-disable ' + el\_class + '\">' + '<div class=\"eael-toc-header\"><span class=\"eael-toc-close\">×</span><h2 class=\"eael-toc-title\">' + title + \"</h2></div>\" + '<div class=\"eael-toc-body\"><ul id=\"eael-toc-list\" class=\"' + toc\_style\_class + '\"></ul></div>' + '<button class=\"eael-toc-button\"><i class=\"' + icon + '\"></i><span>' + title + \"</span></button>\" + \"</div>\";\n    }\n    if (typeof ea !== 'undefined' && ea.isEditMode) {\n      elementorFrontend.hooks.addAction(\"frontend/element\_ready/widget\", function ($scope, jQuery) {\n        var tocLoad = jQuery(\"#eael-toc #eael-toc-list\");\n        var TocList = tocLoad.find(\"li.eael-first-child\");\n        if (TocList.length < 1 && tocLoad.length >= 1) {\n          var tagList = jQuery(\"#eael-toc\").data(\"eaeltoctag\");\n          if (tagList) {\n            eael\_toc\_content(eael\_toc\_check\_content(), tagList);\n          }\n        }\n      });\n    }\n    var editMode = typeof isEditMode !== 'undefined' ? isEditMode : false;\n    var intSupportTag = $(\"#eael-toc\").data(\"eaeltoctag\");\n    if (intSupportTag !== \"\" && !editMode) {\n      eael\_toc\_content(eael\_toc\_check\_content(), intSupportTag);\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack:///./src/js/view/table-of-content.js?"); |
  | 97 | 97 |  |
  | 98 | 98 | /\*\*\*/ }) |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.min.js](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.min.js "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.min.js")

  | [r3075644](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js?rev=3075644#L1 "Show revision 3075644 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/assets/front-end/js/view/table-of-content.min.js?rev=3085420#L1 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"\_\_esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.\_\_esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}({28:function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o;o=jQuery,jQuery(document).ready((function(){var e,t=o("header").height(),a=null!==(e=0!==(e=o("#eael-toc").data("page\_offset"))&&void 0!==e?e:null)?e:void 0!==t&&0!==t?t+10:120;function l(e,t){var a=document.getElementById("eael-toc-list");if(null===e||void 0===t||!a)return null;for(var l=document.getElementById("eael-toc"),r=void 0!==l.dataset.titleurl?l.dataset.titleurl:"false",c=void 0!==l.dataset.excludeSelector?l.dataset.excludeSelector.replace(/^,|,$/g,""):"",d=[],u=document.querySelectorAll(e),f=0,h=0;h<u.length;h++)d=[].concat(n(d),n(u[h].querySelectorAll(t)));(d=Array.from(new Set(d))).forEach((function(e){i(c,e)||(e.id=f+"-"+s(r,e.textContent),e.classList.add("eael-heading-content"),f++)})),function(e,t,n){var a=t,l=n,r=document.getElementById("eael-toc"),c=void 0!==r.dataset.titleurl?r.dataset.titleurl:"false",d=document.getElementById("eael-toc-list"),u=void 0!==r.dataset.excludeselector?r.dataset.excludeselector.replace(/^,|,$/g,""):"",f="",h=f=a.trim().split(",")[0].substr(1,1),m=d;d.innerHTML="",l.length>0&&document.getElementById("eael-toc").classList.remove("eael-toc-disable");for(var g=0,p=l.length;g<p;++g){var v=l[g],y=o(v).closest("~~#main"),b=o(v).closest("nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts"),C=y.length>0,E=b.length>0;if(!i(u,v)&&C&&!E){var w=parseInt(v.tagName.substr(1,1)),A=w-f;if(A>0){var S=m.lastChild;if(S){var I=document.createElement("UL");S.appendChild(I),m=I,f=w}}var L=!1;if(A<0){for(;0!=A++;)m.parentNode.parentNode&&(m=m.parentNode.parentNode);f=w,L=!0}if("UL"!==m.tagName&&(m=d),""!==v.textContent.trim()){var j=document.createElement("LI"),x=document.createElement("A"),k=document.createElement("SPAN");(h===f||L)&&(j.setAttribute("itemscope",""),j.setAttribute("itemtype","http://schema.org/ListItem"),j.setAttribute("itemprop","itemListElement"));var B="#"+g+"-"+s(c,v.textContent);x.className="eael-toc-link",x.setAttribute("itemprop","item"),x.setAttribute("href",B),k.appendChild(document.createTextNode(v.textContent)),x.appendChild(k),j.appendChild(x),m.appendChild(j~~)}}}}(0,t,d);var m=o("ul.eael-toc-list > li");m.length<1&&document.getElementById("eael-toc").classList.add("eael-toc-disable"),m.each((function(){this.classList.add("eael-first-child")}))}o(document).on("click","ul.eael-toc-list a",(function(e){e.preventDefault(),o(document).off("scroll");var t=this.hash;if(history.pushState("",document.title,window.location.pathname+window.location.search),o(this).parent().is(".eael-highlight-parent.eael-highlight-active"))return o("html, body").animate({scrollTop:o(t).offset().top-a},0),!1;o(".eael-highlight-active, .eael-highlight-parent").removeClass("eael-highlight-active eael-highlight-parent"),o(this).closest(".eael-first-child").addClass("eael-highlight-parent"),o(this).parent().addClass("eael-highlight-active"),o("html, body").animate({scrollTop:o(t).offset().top-a},0)})),window.addEventListener("scroll",(function(e){var t;(t=document.getElementById("eael-toc"))&&(r=void 0!==r?r:200,window.pageYOffset>=r&&!t.classList.contains("eael-toc-disable")?(t.classList.add("eael-sticky"),o("#eael-toc-list").hasClass("eael-toc-auto-highlight")&&function(){var e=document.querySelectorAll("#eael-toc-list .eael-toc-link");o("#eael-toc-list .eael-toc-link").removeClass("eael-highlight-active");for(var t=!!o("#eael-toc").hasClass("eael-toc-auto-highlight.eael-toc-highlight-single-item"),n=0;n<e.length;n++){var a=e[n],l=a.getAttribute("href");if(c(document.getElementById(l.substring(1)))&&(o(a).addClass("eael-highlight-active"),t))break}}()):t.classList.remove("eael-sticky"))}));var r=o("#eael-toc").data("stickyscroll");function i(e,t){return o(t).closest(e).length}function c(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(e,t){return"true"==e&&""!=t?t.toString().toLowerCase().normalize("NFD").trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-"):"eael-table-of-content"}function d(){var e=document.getElementById("eael-toc");if(e&&e.dataset.contentselector)return e.dataset.contentselector;var t=".site-content";return o(".site-content")[0]?t=".site-content":o(".elementor-inner")[0]?t=".elementor-inner":o("#site-content")[0]?t="#site-content":o(".site-main")&&(t=".site-main"),t}o("body").click((function(e){var t=o(e.target),n=o("#eael-toc");n.hasClass("eael-toc-auto-collapse")&&n.hasClass("eael-sticky")&&!n.hasClass("collapsed")&&0===o(t).closest("#eael-toc").length&&n.toggleClass("collapsed")})),o(document).on("click",".eael-toc-close ,.eael-toc-button",(function(e){e.stopPropagation(),o(".eael-toc").toggleClass("collapsed")})),"undefined"!=typeof ea&&ea.isEditMode&&elementorFrontend.hooks.addAction("frontend/element\_ready/widget",(function(e,t){var n=t("#eael-toc #eael-toc-list");if(n.find("li.eael-first-child").length<1&&n.length>=1){var a=t("#eael-toc").data("eaeltoctag");a&&l(d(),a)}}));var u="undefined"!=typeof isEditMode&&isEditMode,f=o("#eael-toc").data("eaeltoctag");""===f||u||l(d(),f)}))}}); |
  |  | 1 | !function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"\_\_esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.\_\_esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}({28:function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o;o=jQuery,jQuery(document).ready((function(){var e,t=o("header").height(),a=null!==(e=0!==(e=o("#eael-toc").data("page\_offset"))&&void 0!==e?e:null)?e:void 0!==t&&0!==t?t+10:120;function l(e,t){var a=document.getElementById("eael-toc-list");if(null===e||void 0===t||!a)return null;for(var l=document.getElementById("eael-toc"),r=void 0!==l.dataset.titleurl?l.dataset.titleurl:"false",c=void 0!==l.dataset.excludeSelector?l.dataset.excludeSelector.replace(/^,|,$/g,""):"",d=[],u=document.querySelectorAll(e),f=0,h=0;h<u.length;h++)d=[].concat(n(d),n(u[h].querySelectorAll(t)));(d=Array.from(new Set(d))).forEach((function(e){i(c,e)||(e.id=f+"-"+s(r,e.textContent),e.classList.add("eael-heading-content"),f++)})),function(e,t,n){var a=t,l=n,r=document.getElementById("eael-toc"),c=void 0!==r.dataset.titleurl?r.dataset.titleurl:"false",d=document.getElementById("eael-toc-list"),u=void 0!==r.dataset.excludeselector?r.dataset.excludeselector.replace(/^,|,$/g,""):"",f="",h=f=a.trim().split(",")[0].substr(1,1),m=d;d.innerHTML="",l.length>0&&document.getElementById("eael-toc").classList.remove("eael-toc-disable");for(var g=0,p=l.length;g<p;++g){var v=l[g],y=o(v).closest(".ab-top-menu, .page-header, .site-title, nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts, .eael-toc-header").length>0;if(!i(u,v)&&!y){var b=parseInt(v.tagName.substr(1,1)),C=b-f;if(C>0){var E=m.lastChild;if(E){var w=document.createElement("UL");E.appendChild(w),m=w,f=b}}var A=!1;if(C<0){for(;0!=C++;)m.parentNode.parentNode&&(m=m.parentNode.parentNode);f=b,A=!0}if("UL"!==m.tagName&&(m=d),""!==v.textContent.trim()){var S=document.createElement("LI"),I=document.createElement("A"),L=document.createElement("SPAN");(h===f||A)&&(S.setAttribute("itemscope",""),S.setAttribute("itemtype","http://schema.org/ListItem"),S.setAttribute("itemprop","itemListElement"));var j="#"+g+"-"+s(c,v.textContent);I.className="eael-toc-link",I.setAttribute("itemprop","item"),I.setAttribute("href",j),L.appendChild(document.createTextNode(v.textContent)),I.appendChild(L),S.appendChild(I),m.appendChild(S)}}}}(0,t,d);var m=o("ul.eael-toc-list > li");m.length<1&&document.getElementById("eael-toc").classList.add("eael-toc-disable"),m.each((function(){this.classList.add("eael-first-child")}))}o(document).on("click","ul.eael-toc-list a",(function(e){e.preventDefault(),o(document).off("scroll");var t=this.hash;if(history.pushState("",document.title,window.location.pathname+window.location.search),o(this).parent().is(".eael-highlight-parent.eael-highlight-active"))return o("html, body").animate({scrollTop:o(t).offset().top-a},0),!1;o(".eael-highlight-active, .eael-highlight-parent").removeClass("eael-highlight-active eael-highlight-parent"),o(this).closest(".eael-first-child").addClass("eael-highlight-parent"),o(this).parent().addClass("eael-highlight-active"),o("html, body").animate({scrollTop:o(t).offset().top-a},0)})),window.addEventListener("scroll",(function(e){var t;(t=document.getElementById("eael-toc"))&&(r=void 0!==r?r:200,window.pageYOffset>=r&&!t.classList.contains("eael-toc-disable")?(t.classList.add("eael-sticky"),o("#eael-toc-list").hasClass("eael-toc-auto-highlight")&&function(){var e=document.querySelectorAll("#eael-toc-list .eael-toc-link");o("#eael-toc-list .eael-toc-link").removeClass("eael-highlight-active");for(var t=!!o("#eael-toc").hasClass("eael-toc-auto-highlight.eael-toc-highlight-single-item"),n=0;n<e.length;n++){var a=e[n],l=a.getAttribute("href");if(c(document.getElementById(l.substring(1)))&&(o(a).addClass("eael-highlight-active"),t))break}}()):t.classList.remove("eael-sticky"))}));var r=o("#eael-toc").data("stickyscroll");function i(e,t){return o(t).closest(e).length}function c(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(e,t){return"true"==e&&""!=t?t.toString().toLowerCase().normalize("NFD").trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-"):"eael-table-of-content"}function d(){var e=document.getElementById("eael-toc");if(e&&e.dataset.contentselector)return e.dataset.contentselector;var t=".site-content";return o(".site-content")[0]?t=".site-content":o(".elementor-inner")[0]?t=".elementor-inner":o("#site-content")[0]?t="#site-content":o(".site-main")&&(t=".site-main"),t}o("body").click((function(e){var t=o(e.target),n=o("#eael-toc");n.hasClass("eael-toc-auto-collapse")&&n.hasClass("eael-sticky")&&!n.hasClass("collapsed")&&0===o(t).closest("#eael-toc").length&&n.toggleClass("collapsed")})),o(document).on("click",".eael-toc-close ,.eael-toc-button",(function(e){e.stopPropagation(),o(".eael-toc").toggleClass("collapsed")})),"undefined"!=typeof ea&&ea.isEditMode&&elementorFrontend.hooks.addAction("frontend/element\_ready/widget",(function(e,t){var n=t("#eael-toc #eael-toc-list");if(n.find("li.eael-first-child").length<1&&n.length>=1){var a=t("#eael-toc").data("eaeltoctag");a&&l(d(),a)}}));var u="undefined"!=typeof isEditMode&&isEditMode,f=o("#eael-toc").data("eaeltoctag");""===f||u||l(d(),f)}))}}); |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/essential\_adons\_elementor.php](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/essential_adons_elementor.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/essential_adons_elementor.php")

  | [r3083162](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3083162#L5 "Show revision 3083162 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/essential_adons_elementor.php?rev=3085420#L5 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Plugin URI: https://essential-addons.com/elementor/ |
  | 6 | 6 | \* Author: WPDeveloper |
  | 7 |  | \* Version: 5.9.2~~0~~ |
  |  | 7 | \* Version: 5.9.21 |
  | 8 | 8 | \* Author URI: https://wpdeveloper.com/ |
  | 9 | 9 | \* Text Domain: essential-addons-for-elementor-lite |
  | […](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3083162#L28) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/essential_adons_elementor.php?rev=3085420#L28) |  |
  | 28 | 28 | define('EAEL\_PLUGIN\_PATH', trailingslashit(plugin\_dir\_path(\_\_FILE\_\_))); |
  | 29 | 29 | define('EAEL\_PLUGIN\_URL', trailingslashit(plugins\_url('/', \_\_FILE\_\_))); |
  | 30 |  | define('EAEL\_PLUGIN\_VERSION', '5.9.2~~0~~'); |
  |  | 30 | define('EAEL\_PLUGIN\_VERSION', '5.9.21'); |
  | 31 | 31 | define('EAEL\_ASSET\_PATH', wp\_upload\_dir()['basedir'] . '/essential-addons-elementor'); |
  | 32 | 32 | define('EAEL\_ASSET\_URL', wp\_upload\_dir()['baseurl'] . '/essential-addons-elementor'); |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3081440#L1292 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php?rev=3085420#L1292 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1292 | 1292 | 'align' => [], |
  | 1293 | 1293 | ], |
  | 1294 |  | 'td'     => [ |
  |  | 1294 | 'td'     => [ |
  | 1295 | 1295 | 'class'   => [], |
  | 1296 | 1296 | 'id'      => [], |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3081440#L1300) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Classes/Helper.php?rev=3085420#L1300) |  |
  | 1300 | 1300 | 'rowspan' => [], |
  | 1301 | 1301 | ], |
  | 1302 |  | 'header'      => [ |
  | 1303 |  | 'class'   => [], |
  | 1304 |  | 'id'      => [], |
  | 1305 |  | 'style'   => [], |
  | 1306 |  | ], |
  |  | 1302 | 'header' => [ |
  |  | 1303 | 'class' => [], |
  |  | 1304 | 'id'    => [], |
  |  | 1305 | 'style' => [], |
  |  | 1306 | ], |
  |  | 1307 | 'iframe' => [ |
  |  | 1308 | 'class'  => [], |
  |  | 1309 | 'id'     => [], |
  |  | 1310 | 'style'  => [], |
  |  | 1311 | 'title'  => [], |
  |  | 1312 | 'width'  => [], |
  |  | 1313 | 'height' => [], |
  |  | 1314 | 'src'    => [] |
  |  | 1315 | ] |
  | 1307 | 1316 | ] ); |
  | 1308 | 1317 | } |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT\_Gallery.php](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT_Gallery.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT_Gallery.php")

  | [r3002014](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3002014#L104 "Show revision 3002014 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT_Gallery.php?rev=3085420#L104 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 104 | 104 | 'label'     => esc\_html\_\_( 'Type', 'essential-addons-for-elementor-lite' ), |
  | 105 | 105 | 'type'      => Controls\_Manager::SELECT, |
  | 106 |  | 'default'   => '~~asset~~s', |
  |  | 106 | 'default'   => 'collections', |
  | 107 | 107 | 'options'   => [ |
  | 108 |  | 'assets'      => esc\_html\_\_( 'Assets', 'essential-addons-for-elementor-lite' ), |
  |  | 108 | // 'assets'      => esc\_html\_\_( 'Assets', 'essential-addons-for-elementor-lite' ), |
  | 109 | 109 | 'collections' => esc\_html\_\_( 'Collections', 'essential-addons-for-elementor-lite' ), |
  | 110 | 110 | ], |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3002014#L2762) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Elements/NFT_Gallery.php?rev=3085420#L2762) |  |
  | 2762 | 2762 | $nft\_gallery['filterby\_wallet'] = ! empty( $settings['eael\_nft\_gallery\_opensea\_filterby\_wallet'] ) ? $settings['eael\_nft\_gallery\_opensea\_filterby\_wallet'] : ''; |
  | 2763 | 2763 |  |
  | 2764 |  | $url   = "https://api.opensea.io/api/v~~1~~"; |
  |  | 2764 | $url   = "https://api.opensea.io/api/v2"; |
  | 2765 | 2765 | $param = array(); |
  | 2766 | 2766 |  |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3081440#L1058 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php?rev=3085420#L1058 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1058 | 1058 |  |
  | 1059 | 1059 | $wb->add\_control( |
  | 1060 |  | 'eael\_show\_fallback\_img', |
  |  | 1060 | 'eael\_show\_fallback\_img\_all', |
  | 1061 | 1061 | [ |
  | 1062 | 1062 | 'label' => \_\_('Fallback Image', 'essential-addons-for-elementor-lite'), |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3081440#L1073) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Controls.php?rev=3085420#L1073) |  |
  | 1073 | 1073 |  |
  | 1074 | 1074 | $wb->add\_control( |
  | 1075 |  | 'eael\_post\_carousel\_fallback\_img', |
  |  | 1075 | 'eael\_post\_carousel\_fallback\_img\_all', |
  | 1076 | 1076 | [ |
  | 1077 | 1077 | 'label'             => \_\_( 'Image', 'essential-addons-for-elementor-lite' ), |
  | 1078 | 1078 | 'type'              => Controls\_Manager::MEDIA, |
  | 1079 | 1079 | 'condition'         => [ |
  | 1080 |  | 'eael\_show\_fallback\_img'    => 'yes', |
  |  | 1080 | 'eael\_show\_fallback\_img\_all'    => 'yes', |
  | 1081 | 1081 | 'eael\_show\_image' => 'yes', |
  | 1082 | 1082 | ], |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L451 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420#L451 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 451 | 451 |  |
  | 452 | 452 | if ( $global\_reading\_progress ) { |
  | 453 |  | $reading\_progress\_html .= '<div class="eael-reading-progress eael-reading-progress-global eael-reading-progress-' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_position' ) . '" style="height: ' . ~~$progress\_height~~ . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_bg\_color' ) . ';"> |
  | 454 |  | <div class="eael-reading-progress-fill" style="height: ' . ~~$progress\_height . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_fill\_color' ) . ';transition: width ' . $animation\_speed~~ . 'ms ease;"></div> |
  |  | 453 | $reading\_progress\_html .= '<div class="eael-reading-progress eael-reading-progress-global eael-reading-progress-' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_position' ) . '" style="height: ' . esc\_attr( $progress\_height ) . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_bg\_color' ) . ';"> |
  |  | 454 | <div class="eael-reading-progress-fill" style="height: ' . esc\_attr( $progress\_height ) . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_fill\_color' ) . ';transition: width ' . esc\_attr( $animation\_speed ) . 'ms ease;"></div> |
  | 455 | 455 | </div>'; |
  | 456 | 456 | } else { |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L548) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420#L548) |  |
  | 548 | 548 | <div class='eael-toc-header'> |
  | 549 | 549 | <span class='eael-toc-close'>×</span> |
  | 550 |  | <~~{$toc\_title\_tag} class='eael-toc-title'>{$toc\_title}</{$toc\_title\_tag}~~> |
  |  | 550 | <" . Helper::eael\_validate\_html\_tag( $toc\_title\_tag ) . " class='eael-toc-title'>" . esc\_html( $toc\_title ) . "</" . Helper::eael\_validate\_html\_tag( $toc\_title\_tag ) . "> |
  | 551 | 551 | </div> |
  | 552 | 552 | <div class='eael-toc-body'> |
  | 553 | 553 | <ul id='eael-toc-list' class='eael-toc-list " . esc\_attr( $toc\_style\_class ) . "'></ul> |
  | 554 | 554 | </div> |
  | 555 |  | <button class='eael-toc-button'>" . wp\_kses( $icon\_html, [ 'i' => [ 'class' => [] ] ] ) . "<span>~~{$toc\_title}~~</span></button> |
  |  | 555 | <button class='eael-toc-button'>" . wp\_kses( $icon\_html, [ 'i' => [ 'class' => [] ] ] ) . "<span>" . esc\_html( $toc\_title ) . "</span></button> |
  | 556 | 556 | </div>"; |
  | 557 | 557 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L769) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420#L769) |  |
  | 769 | 769 | .eael-toc-global .eael-toc-body .eael-toc-list li.eael-highlight-parent > a |
  | 770 | 770 | { |
  | 771 |  | color:$toc\_list\_color\_active !important; |
  |  | 771 | color: $toc\_list\_color\_active !important; |
  | 772 | 772 | } |
  | 773 | 773 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L775) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420#L775) |  |
  | 775 | 775 | .eael-toc-global .eael-toc-body .eael-toc-list li.eael-highlight-active > a:before |
  | 776 | 776 | { |
  | 777 |  | border-bottom-color:$toc\_list\_color\_active !important; |
  |  | 777 | border-bottom-color: $toc\_list\_color\_active !important; |
  | 778 | 778 | } |
  | 779 | 779 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L782) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/includes/Traits/Elements.php?rev=3085420#L782) |  |
  | 782 | 782 | .eael-toc-global .eael-toc-body .eael-toc-list.eael-toc-bullet li.eael-highlight-parent:before |
  | 783 | 783 | { |
  | 784 |  | background-color:$toc\_list\_color\_active !important; |
  |  | 784 | background-color: $toc\_list\_color\_active !important; |
  | 785 | 785 | } |
  | 786 | 786 |  |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/languages/essential-addons-for-elementor-lite.pot](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/languages/essential-addons-for-elementor-lite.pot "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/languages/essential-addons-for-elementor-lite.pot")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot?rev=3081440#L6294 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/languages/essential-addons-for-elementor-lite.pot?rev=3085420#L6294 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 6294 | 6294 | msgstr "" |
  | 6295 | 6295 |  |
  | 6296 |  | ~~#: ../includes/Elements/NFT\_Gallery.php:108~~ |
  | 6297 |  | ~~msgid "Assets"~~ |
  | 6298 |  | ~~msgstr ""~~ |
  | 6299 |  |  |
  | 6300 | 6296 | #: ../includes/Elements/NFT\_Gallery.php:109 |
  | 6301 | 6297 | msgid "Collections" |
* ## [essential-addons-for-elementor-lite/tags/5.9.21/readme.txt](/changeset/3085420/essential-addons-for-elementor-lite/tags/5.9.21/readme.txt "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/tags/5.9.21/readme.txt")

  | [r3083162](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3083162#L5 "Show revision 3083162 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/tags/5.9.21/readme.txt?rev=3085420#L5 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.5 |
  | 6 | 6 | Requires PHP: 7.0 |
  | 7 |  | Stable tag: 5.9.2~~0~~ |
  |  | 7 | Stable tag: 5.9.21 |
  | 8 | 8 | License: GPLv3 |
  | 9 | 9 | License URI: https://opensource.org/licenses/GPL-3.0 |
  | […](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3083162#L298) | […](/browser/essential-addons-for-elementor-lite/tags/5.9.21/readme.txt?rev=3085420#L298) |  |
  | 298 | 298 | == Changelog == |
  | 299 | 299 |  |
  |  | 300 | = 5.9.21 - 13/05/2024 = |
  |  | 301 |  |
  |  | 302 | - Revamped: NFT Gallery | OpenSea API version |
  |  | 303 | - Fixed: Filterable Gallery | iframe not working issue |
  |  | 304 | - Improved: Security Enhancement |
  |  | 305 | - Few minor bug fixes & improvements |
  |  | 306 |  |
  | 300 | 307 | = 5.9.20 - 08/05/2024 = |
  | 301 | 308 |  |
* ## [essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js](/changeset/3085420/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js")

  | [r3075644](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js?rev=3075644#L94 "Show revision 3075644 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.js?rev=3085420#L94 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 94 | 94 | /\*\*\*/ (function(module, exports) { |
  | 95 | 95 |  |
  | 96 |  | eval("function \_toConsumableArray(arr) { return \_arrayWithoutHoles(arr) || \_iterableToArray(arr) || \_unsupportedIterableToArray(arr) || \_nonIterableSpread(); }\nfunction \_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction \_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return \_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return \_arrayLikeToArray(o, minLen); }\nfunction \_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction \_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return \_arrayLikeToArray(arr); }\nfunction \_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n(function ($) {\n  jQuery(document).ready(function () {\n    /\*\*\n     \* add ID in main content heading tag\n     \* @param selector\n     \* @param supportTag\n     \*/\n\n    var headerHeight = $(\"header\").height();\n    var page\_offset = $(\"#eael-toc\").data(\"page\_offset\");\n    var page\_offset = page\_offset !== 0 && page\_offset !== undefined ? page\_offset : null;\n    var offsetSpan = page\_offset !== null ? page\_offset : headerHeight !== undefined && headerHeight !== 0 ? headerHeight + 10 : 120;\n    function eael\_toc\_content(selector, supportTag) {\n      var listId = document.getElementById(\"eael-toc-list\");\n      if (selector === null || supportTag === undefined || !listId) {\n        return null;\n      }\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var excludeArr = typeof eaelToc.dataset.excludeSelector !== \"undefined\" ? eaelToc.dataset.excludeSelector.replace(/^,|,$/g, \"\") : \"\";\n      var allSupportTag = [];\n      var mainSelector = document.querySelectorAll(selector),\n        listIndex = 0;\n      for (var j = 0; j < mainSelector.length; j++) {\n        allSupportTag = [].concat(\_toConsumableArray(allSupportTag), \_toConsumableArray(mainSelector[j].querySelectorAll(supportTag)));\n      }\n      allSupportTag = Array.from(new Set(allSupportTag));\n      allSupportTag.forEach(function (el) {\n        if (eaelTocExclude(excludeArr, el)) {\n          return;\n        }\n        el.id = listIndex + \"-\" + eael\_build\_id(titleUrl, el.textContent);\n        el.classList.add(\"eael-heading-content\");\n        listIndex++;\n      });\n      //build toc list hierarchy\n      eael\_list\_hierarchy(selector, supportTag, allSupportTag);\n      var firstChild = $(\"ul.eael-toc-list > li\");\n      if (firstChild.length < 1) {\n        document.getElementById(\"eael-toc\").classList.add(\"eael-toc-disable\");\n      }\n      firstChild.each(function () {\n        this.classList.add(\"eael-first-child\");\n      });\n    }\n\n    /\*\*\n     \* Make toc list\n     \* @param selector\n     \* @param supportTag\n     \*/\n    function eael\_list\_hierarchy(selector, supportTag, allSupportTagList) {\n      var tagList = supportTag;\n      var allHeadings = allSupportTagList;\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var listId = document.getElementById(\"eael-toc-list\");\n      var excludeArr = typeof eaelToc.dataset.excludeselector !== \"undefined\" ? eaelToc.dataset.excludeselector.replace(/^,|,$/g, \"\") : \"\";\n      var parentLevel = \"\",\n        baseTag = parentLevel = tagList.trim().split(\",\")[0].substr(1, 1),\n        ListNode = listId;\n      listId.innerHTML = \"\";\n      if (allHeadings.length > 0) {\n        document.getElementById(\"eael-toc\").classList.remove(\"eael-toc-disable\");\n      }\n      for (var i = 0, len = allHeadings.length; i < len; ++i) {\n        var currentHeading = allHeadings[i],\n          ~~find\_main = $(currentHeading).closest('#main'),\n          exclude\_areas = 'nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts',\n          find\_exclude = $(currentHeading).closest(exclude\_areas),\n          in\_main\_area = find\_main.length > 0,\n          in\_exclude\_area = find\_exclude.length > 0;\n        if (eaelTocExclude(excludeArr, currentHeading) || !(in\_main\_area && !in\_exclude\_area)~~) {\n          continue;\n        }\n        var latestLavel = parseInt(currentHeading.tagName.substr(1, 1));\n        var diff = latestLavel - parentLevel;\n        if (diff > 0) {\n          var containerLiNode = ListNode.lastChild;\n          if (containerLiNode) {\n            var createUlNode = document.createElement(\"UL\");\n            containerLiNode.appendChild(createUlNode);\n            ListNode = createUlNode;\n            parentLevel = latestLavel;\n          }\n        }\n        var sequenceParent = false;\n        if (diff < 0) {\n          while (0 !== diff++) {\n            if (ListNode.parentNode.parentNode) {\n              ListNode = ListNode.parentNode.parentNode;\n            }\n          }\n          parentLevel = latestLavel;\n          sequenceParent = true;\n        }\n        if (ListNode.tagName !== \"UL\") {\n          ListNode = listId;\n        }\n        if (currentHeading.textContent.trim() === \"\") {\n          continue;\n        }\n        var liNode = document.createElement(\"LI\");\n        var anchorTag = document.createElement(\"A\");\n        var spanTag = document.createElement(\"SPAN\");\n        if (baseTag === parentLevel || sequenceParent) {\n          liNode.setAttribute(\"itemscope\", \"\");\n          liNode.setAttribute(\"itemtype\", \"http://schema.org/ListItem\");\n          liNode.setAttribute(\"itemprop\", \"itemListElement\");\n        }\n        var Linkid = \"#\" + i + \"-\" + eael\_build\_id(titleUrl, currentHeading.textContent);\n        anchorTag.className = \"eael-toc-link\";\n        anchorTag.setAttribute(\"itemprop\", \"item\");\n        anchorTag.setAttribute(\"href\", Linkid);\n        spanTag.appendChild(document.createTextNode(currentHeading.textContent));\n        anchorTag.appendChild(spanTag);\n        liNode.appendChild(anchorTag);\n        ListNode.appendChild(liNode);\n      }\n    }\n\n    // expand collapse\n    $(document).on(\"click\", \"ul.eael-toc-list a\", function (e) {\n      e.preventDefault();\n      $(document).off(\"scroll\");\n      var target = this.hash;\n      history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n      var parentLi = $(this).parent();\n      if (parentLi.is(\".eael-highlight-parent.eael-highlight-active\")) {\n        $('html, body').animate({\n          scrollTop: $(target).offset().top - offsetSpan\n        }, 0);\n        return false;\n      }\n      $(\".eael-highlight-active, .eael-highlight-parent\").removeClass(\"eael-highlight-active eael-highlight-parent\");\n      $(this).closest(\".eael-first-child\").addClass(\"eael-highlight-parent\");\n      $(this).parent().addClass(\"eael-highlight-active\");\n      $('html, body').animate({\n        scrollTop: $(target).offset().top - offsetSpan\n      }, 0);\n    });\n\n    //some site not working with \*\*window.onscroll\*\*\n    window.addEventListener(\"scroll\", function (e) {\n      eaelTocSticky();\n    });\n    var stickyScroll = $(\"#eael-toc\").data(\"stickyscroll\");\n\n    /\*\*\n     \* Check selector in array\n     \*\n     \* @param arr\n     \* @param el\n     \* @returns boolean\n     \*/\n    function eaelTocExclude(excludes, el) {\n      return $(el).closest(excludes).length;\n    }\n\n    /\*\*\n     \* check sticky\n     \*/\n    function eaelTocSticky() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (!eaelToc) {\n        return;\n      }\n      stickyScroll = stickyScroll !== undefined ? stickyScroll : 200;\n      if (window.pageYOffset >= stickyScroll && !eaelToc.classList.contains(\"eael-toc-disable\")) {\n        eaelToc.classList.add(\"eael-sticky\");\n        if ($('#eael-toc-list').hasClass('eael-toc-auto-highlight')) {\n          highlightCurrentHeading();\n        }\n      } else {\n        eaelToc.classList.remove(\"eael-sticky\");\n      }\n    }\n    function highlightCurrentHeading() {\n      var allHeadings = document.querySelectorAll(\"#eael-toc-list .eael-toc-link\");\n      $('#eael-toc-list .eael-toc-link').removeClass('eael-highlight-active');\n      var showSinlgeHeadingOnly = $('#eael-toc').hasClass('eael-toc-auto-highlight.eael-toc-highlight-single-item') ? true : false;\n      for (var i = 0; i < allHeadings.length; i++) {\n        var headingElement = allHeadings[i];\n        var headingTarget = headingElement.getAttribute(\"href\");\n        var headingTargettedElement = document.getElementById(headingTarget.substring(1)); //removes # and fetch element\n\n        if (isElementInViewport(headingTargettedElement)) {\n          $(headingElement).addClass(\"eael-highlight-active\");\n          if (showSinlgeHeadingOnly) {\n            break;\n          }\n        }\n      }\n    }\n\n    /\*\*\n     \* Determine if the element is in the viewport.\n     \* @param {\*} el \n     \* @returns \n     \*/\n    function isElementInViewport(el) {\n      // Special bonus for those using jQuery\n      if (typeof jQuery === \"function\" && el instanceof jQuery) {\n        el = el[0];\n      }\n      var rect = el.getBoundingClientRect();\n      return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /\* or $(window).height() \*/\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /\* or $(window).width() \*/;\n    }\n\n    /\*\*\n     \*\n     \* @param content\n     \* @returns {string}\n     \*/\n    function eael\_build\_id(showTitle, title) {\n      if (showTitle == \"true\" && title != \"\") {\n        //create slug from Heading text\n        return title.toString().toLowerCase().normalize(\"NFD\").trim().replace(/[^a-z0-9 -]/g, \"\").replace(/\\s+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\").replace(/-+/g, \"-\");\n      } else {\n        return \"eael-table-of-content\";\n      }\n    }\n\n    /\*\*\n     \*\n     \* @returns {null|selector}\n     \*/\n    function eael\_toc\_check\_content() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (eaelToc && eaelToc.dataset.contentselector) {\n        return eaelToc.dataset.contentselector;\n      }\n      var contentSelectro = \".site-content\";\n      if ($(\".site-content\")[0]) {\n        contentSelectro = \".site-content\";\n      } else if ($(\".elementor-inner\")[0]) {\n        contentSelectro = \".elementor-inner\";\n      } else if ($(\"#site-content\")[0]) {\n        contentSelectro = \"#site-content\";\n      } else if ($(\".site-main\")) {\n        contentSelectro = \".site-main\";\n      }\n      return contentSelectro;\n    }\n\n    //toc auto collapse\n    $(\"body\").click(function (e) {\n      var target = $(e.target);\n      var eaToc = $(\"#eael-toc\");\n      if (eaToc.hasClass(\"eael-toc-auto-collapse\") && eaToc.hasClass(\"eael-sticky\") && !eaToc.hasClass(\"collapsed\") && $(target).closest(\"#eael-toc\").length === 0) {\n        eaToc.toggleClass(\"collapsed\");\n      }\n    });\n    $(document).on(\"click\", \".eael-toc-close ,.eael-toc-button\", function (event) {\n      event.stopPropagation();\n      $(\".eael-toc\").toggleClass(\"collapsed\");\n    });\n    function eael\_build\_toc($settings) {\n      var pageSetting = $settings.settings,\n        title = pageSetting.eael\_ext\_toc\_title,\n        toc\_style\_class = \"eael-toc-list eael-toc-list-\" + pageSetting.eael\_ext\_table\_of\_content\_list\_style,\n        icon = pageSetting.eael\_ext\_table\_of\_content\_header\_icon.value,\n        el\_class = pageSetting.eael\_ext\_toc\_position === \"right\" ? \" eael-toc-right\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_collapse\_sub\_heading === \"yes\" ? \" eael-toc-collapse\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_list\_icon === \"number\" ? \" eael-toc-number\" : \" eael-toc-bullet\";\n      return '<div id=\"eael-toc\" class=\"eael-toc eael-toc-disable ' + el\_class + '\">' + '<div class=\"eael-toc-header\"><span class=\"eael-toc-close\">×</span><h2 class=\"eael-toc-title\">' + title + \"</h2></div>\" + '<div class=\"eael-toc-body\"><ul id=\"eael-toc-list\" class=\"' + toc\_style\_class + '\"></ul></div>' + '<button class=\"eael-toc-button\"><i class=\"' + icon + '\"></i><span>' + title + \"</span></button>\" + \"</div>\";\n    }\n    if (typeof ea !== 'undefined' && ea.isEditMode) {\n      elementorFrontend.hooks.addAction(\"frontend/element\_ready/widget\", function ($scope, jQuery) {\n        var tocLoad = jQuery(\"#eael-toc #eael-toc-list\");\n        var TocList = tocLoad.find(\"li.eael-first-child\");\n        if (TocList.length < 1 && tocLoad.length >= 1) {\n          var tagList = jQuery(\"#eael-toc\").data(\"eaeltoctag\");\n          if (tagList) {\n            eael\_toc\_content(eael\_toc\_check\_content(), tagList);\n          }\n        }\n      });\n    }\n    var editMode = typeof isEditMode !== 'undefined' ? isEditMode : false;\n    var intSupportTag = $(\"#eael-toc\").data(\"eaeltoctag\");\n    if (intSupportTag !== \"\" && !editMode) {\n      eael\_toc\_content(eael\_toc\_check\_content(), intSupportTag);\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack:///./src/js/view/table-of-content.js?"); |
  |  | 96 | eval("function \_toConsumableArray(arr) { return \_arrayWithoutHoles(arr) || \_iterableToArray(arr) || \_unsupportedIterableToArray(arr) || \_nonIterableSpread(); }\nfunction \_nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction \_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return \_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return \_arrayLikeToArray(o, minLen); }\nfunction \_iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction \_arrayWithoutHoles(arr) { if (Array.isArray(arr)) return \_arrayLikeToArray(arr); }\nfunction \_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n(function ($) {\n  jQuery(document).ready(function () {\n    /\*\*\n     \* add ID in main content heading tag\n     \* @param selector\n     \* @param supportTag\n     \*/\n\n    var headerHeight = $(\"header\").height();\n    var page\_offset = $(\"#eael-toc\").data(\"page\_offset\");\n    var page\_offset = page\_offset !== 0 && page\_offset !== undefined ? page\_offset : null;\n    var offsetSpan = page\_offset !== null ? page\_offset : headerHeight !== undefined && headerHeight !== 0 ? headerHeight + 10 : 120;\n    function eael\_toc\_content(selector, supportTag) {\n      var listId = document.getElementById(\"eael-toc-list\");\n      if (selector === null || supportTag === undefined || !listId) {\n        return null;\n      }\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var excludeArr = typeof eaelToc.dataset.excludeSelector !== \"undefined\" ? eaelToc.dataset.excludeSelector.replace(/^,|,$/g, \"\") : \"\";\n      var allSupportTag = [];\n      var mainSelector = document.querySelectorAll(selector),\n        listIndex = 0;\n      for (var j = 0; j < mainSelector.length; j++) {\n        allSupportTag = [].concat(\_toConsumableArray(allSupportTag), \_toConsumableArray(mainSelector[j].querySelectorAll(supportTag)));\n      }\n      allSupportTag = Array.from(new Set(allSupportTag));\n      allSupportTag.forEach(function (el) {\n        if (eaelTocExclude(excludeArr, el)) {\n          return;\n        }\n        el.id = listIndex + \"-\" + eael\_build\_id(titleUrl, el.textContent);\n        el.classList.add(\"eael-heading-content\");\n        listIndex++;\n      });\n      //build toc list hierarchy\n      eael\_list\_hierarchy(selector, supportTag, allSupportTag);\n      var firstChild = $(\"ul.eael-toc-list > li\");\n      if (firstChild.length < 1) {\n        document.getElementById(\"eael-toc\").classList.add(\"eael-toc-disable\");\n      }\n      firstChild.each(function () {\n        this.classList.add(\"eael-first-child\");\n      });\n    }\n\n    /\*\*\n     \* Make toc list\n     \* @param selector\n     \* @param supportTag\n     \*/\n    function eael\_list\_hierarchy(selector, supportTag, allSupportTagList) {\n      var tagList = supportTag;\n      var allHeadings = allSupportTagList;\n      var eaelToc = document.getElementById(\"eael-toc\");\n      var titleUrl = typeof eaelToc.dataset.titleurl !== \"undefined\" ? eaelToc.dataset.titleurl : \"false\";\n      var listId = document.getElementById(\"eael-toc-list\");\n      var excludeArr = typeof eaelToc.dataset.excludeselector !== \"undefined\" ? eaelToc.dataset.excludeselector.replace(/^,|,$/g, \"\") : \"\";\n      var parentLevel = \"\",\n        baseTag = parentLevel = tagList.trim().split(\",\")[0].substr(1, 1),\n        ListNode = listId;\n      listId.innerHTML = \"\";\n      if (allHeadings.length > 0) {\n        document.getElementById(\"eael-toc\").classList.remove(\"eael-toc-disable\");\n      }\n      for (var i = 0, len = allHeadings.length; i < len; ++i) {\n        var currentHeading = allHeadings[i],\n          exclude\_areas = '.ab-top-menu, .page-header, .site-title, nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts, .eael-toc-header',\n          find\_exclude = $(currentHeading).closest(exclude\_areas),\n          in\_exclude\_area = find\_exclude.length > 0;\n        if (eaelTocExclude(excludeArr, currentHeading) || in\_exclude\_area) {\n          continue;\n        }\n        var latestLavel = parseInt(currentHeading.tagName.substr(1, 1));\n        var diff = latestLavel - parentLevel;\n        if (diff > 0) {\n          var containerLiNode = ListNode.lastChild;\n          if (containerLiNode) {\n            var createUlNode = document.createElement(\"UL\");\n            containerLiNode.appendChild(createUlNode);\n            ListNode = createUlNode;\n            parentLevel = latestLavel;\n          }\n        }\n        var sequenceParent = false;\n        if (diff < 0) {\n          while (0 !== diff++) {\n            if (ListNode.parentNode.parentNode) {\n              ListNode = ListNode.parentNode.parentNode;\n            }\n          }\n          parentLevel = latestLavel;\n          sequenceParent = true;\n        }\n        if (ListNode.tagName !== \"UL\") {\n          ListNode = listId;\n        }\n        if (currentHeading.textContent.trim() === \"\") {\n          continue;\n        }\n        var liNode = document.createElement(\"LI\");\n        var anchorTag = document.createElement(\"A\");\n        var spanTag = document.createElement(\"SPAN\");\n        if (baseTag === parentLevel || sequenceParent) {\n          liNode.setAttribute(\"itemscope\", \"\");\n          liNode.setAttribute(\"itemtype\", \"http://schema.org/ListItem\");\n          liNode.setAttribute(\"itemprop\", \"itemListElement\");\n        }\n        var Linkid = \"#\" + i + \"-\" + eael\_build\_id(titleUrl, currentHeading.textContent);\n        anchorTag.className = \"eael-toc-link\";\n        anchorTag.setAttribute(\"itemprop\", \"item\");\n        anchorTag.setAttribute(\"href\", Linkid);\n        spanTag.appendChild(document.createTextNode(currentHeading.textContent));\n        anchorTag.appendChild(spanTag);\n        liNode.appendChild(anchorTag);\n        ListNode.appendChild(liNode);\n      }\n    }\n\n    // expand collapse\n    $(document).on(\"click\", \"ul.eael-toc-list a\", function (e) {\n      e.preventDefault();\n      $(document).off(\"scroll\");\n      var target = this.hash;\n      history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n      var parentLi = $(this).parent();\n      if (parentLi.is(\".eael-highlight-parent.eael-highlight-active\")) {\n        $('html, body').animate({\n          scrollTop: $(target).offset().top - offsetSpan\n        }, 0);\n        return false;\n      }\n      $(\".eael-highlight-active, .eael-highlight-parent\").removeClass(\"eael-highlight-active eael-highlight-parent\");\n      $(this).closest(\".eael-first-child\").addClass(\"eael-highlight-parent\");\n      $(this).parent().addClass(\"eael-highlight-active\");\n      $('html, body').animate({\n        scrollTop: $(target).offset().top - offsetSpan\n      }, 0);\n    });\n\n    //some site not working with \*\*window.onscroll\*\*\n    window.addEventListener(\"scroll\", function (e) {\n      eaelTocSticky();\n    });\n    var stickyScroll = $(\"#eael-toc\").data(\"stickyscroll\");\n\n    /\*\*\n     \* Check selector in array\n     \*\n     \* @param arr\n     \* @param el\n     \* @returns boolean\n     \*/\n    function eaelTocExclude(excludes, el) {\n      return $(el).closest(excludes).length;\n    }\n\n    /\*\*\n     \* check sticky\n     \*/\n    function eaelTocSticky() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (!eaelToc) {\n        return;\n      }\n      stickyScroll = stickyScroll !== undefined ? stickyScroll : 200;\n      if (window.pageYOffset >= stickyScroll && !eaelToc.classList.contains(\"eael-toc-disable\")) {\n        eaelToc.classList.add(\"eael-sticky\");\n        if ($('#eael-toc-list').hasClass('eael-toc-auto-highlight')) {\n          highlightCurrentHeading();\n        }\n      } else {\n        eaelToc.classList.remove(\"eael-sticky\");\n      }\n    }\n    function highlightCurrentHeading() {\n      var allHeadings = document.querySelectorAll(\"#eael-toc-list .eael-toc-link\");\n      $('#eael-toc-list .eael-toc-link').removeClass('eael-highlight-active');\n      var showSinlgeHeadingOnly = $('#eael-toc').hasClass('eael-toc-auto-highlight.eael-toc-highlight-single-item') ? true : false;\n      for (var i = 0; i < allHeadings.length; i++) {\n        var headingElement = allHeadings[i];\n        var headingTarget = headingElement.getAttribute(\"href\");\n        var headingTargettedElement = document.getElementById(headingTarget.substring(1)); //removes # and fetch element\n\n        if (isElementInViewport(headingTargettedElement)) {\n          $(headingElement).addClass(\"eael-highlight-active\");\n          if (showSinlgeHeadingOnly) {\n            break;\n          }\n        }\n      }\n    }\n\n    /\*\*\n     \* Determine if the element is in the viewport.\n     \* @param {\*} el \n     \* @returns \n     \*/\n    function isElementInViewport(el) {\n      // Special bonus for those using jQuery\n      if (typeof jQuery === \"function\" && el instanceof jQuery) {\n        el = el[0];\n      }\n      var rect = el.getBoundingClientRect();\n      return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /\* or $(window).height() \*/\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /\* or $(window).width() \*/;\n    }\n\n    /\*\*\n     \*\n     \* @param content\n     \* @returns {string}\n     \*/\n    function eael\_build\_id(showTitle, title) {\n      if (showTitle == \"true\" && title != \"\") {\n        //create slug from Heading text\n        return title.toString().toLowerCase().normalize(\"NFD\").trim().replace(/[^a-z0-9 -]/g, \"\").replace(/\\s+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\").replace(/-+/g, \"-\");\n      } else {\n        return \"eael-table-of-content\";\n      }\n    }\n\n    /\*\*\n     \*\n     \* @returns {null|selector}\n     \*/\n    function eael\_toc\_check\_content() {\n      var eaelToc = document.getElementById(\"eael-toc\");\n      if (eaelToc && eaelToc.dataset.contentselector) {\n        return eaelToc.dataset.contentselector;\n      }\n      var contentSelectro = \".site-content\";\n      if ($(\".site-content\")[0]) {\n        contentSelectro = \".site-content\";\n      } else if ($(\".elementor-inner\")[0]) {\n        contentSelectro = \".elementor-inner\";\n      } else if ($(\"#site-content\")[0]) {\n        contentSelectro = \"#site-content\";\n      } else if ($(\".site-main\")) {\n        contentSelectro = \".site-main\";\n      }\n      return contentSelectro;\n    }\n\n    //toc auto collapse\n    $(\"body\").click(function (e) {\n      var target = $(e.target);\n      var eaToc = $(\"#eael-toc\");\n      if (eaToc.hasClass(\"eael-toc-auto-collapse\") && eaToc.hasClass(\"eael-sticky\") && !eaToc.hasClass(\"collapsed\") && $(target).closest(\"#eael-toc\").length === 0) {\n        eaToc.toggleClass(\"collapsed\");\n      }\n    });\n    $(document).on(\"click\", \".eael-toc-close ,.eael-toc-button\", function (event) {\n      event.stopPropagation();\n      $(\".eael-toc\").toggleClass(\"collapsed\");\n    });\n    function eael\_build\_toc($settings) {\n      var pageSetting = $settings.settings,\n        title = pageSetting.eael\_ext\_toc\_title,\n        toc\_style\_class = \"eael-toc-list eael-toc-list-\" + pageSetting.eael\_ext\_table\_of\_content\_list\_style,\n        icon = pageSetting.eael\_ext\_table\_of\_content\_header\_icon.value,\n        el\_class = pageSetting.eael\_ext\_toc\_position === \"right\" ? \" eael-toc-right\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_collapse\_sub\_heading === \"yes\" ? \" eael-toc-collapse\" : \" \";\n      toc\_style\_class += pageSetting.eael\_ext\_toc\_list\_icon === \"number\" ? \" eael-toc-number\" : \" eael-toc-bullet\";\n      return '<div id=\"eael-toc\" class=\"eael-toc eael-toc-disable ' + el\_class + '\">' + '<div class=\"eael-toc-header\"><span class=\"eael-toc-close\">×</span><h2 class=\"eael-toc-title\">' + title + \"</h2></div>\" + '<div class=\"eael-toc-body\"><ul id=\"eael-toc-list\" class=\"' + toc\_style\_class + '\"></ul></div>' + '<button class=\"eael-toc-button\"><i class=\"' + icon + '\"></i><span>' + title + \"</span></button>\" + \"</div>\";\n    }\n    if (typeof ea !== 'undefined' && ea.isEditMode) {\n      elementorFrontend.hooks.addAction(\"frontend/element\_ready/widget\", function ($scope, jQuery) {\n        var tocLoad = jQuery(\"#eael-toc #eael-toc-list\");\n        var TocList = tocLoad.find(\"li.eael-first-child\");\n        if (TocList.length < 1 && tocLoad.length >= 1) {\n          var tagList = jQuery(\"#eael-toc\").data(\"eaeltoctag\");\n          if (tagList) {\n            eael\_toc\_content(eael\_toc\_check\_content(), tagList);\n          }\n        }\n      });\n    }\n    var editMode = typeof isEditMode !== 'undefined' ? isEditMode : false;\n    var intSupportTag = $(\"#eael-toc\").data(\"eaeltoctag\");\n    if (intSupportTag !== \"\" && !editMode) {\n      eael\_toc\_content(eael\_toc\_check\_content(), intSupportTag);\n    }\n  });\n})(jQuery);\n\n//# sourceURL=webpack:///./src/js/view/table-of-content.js?"); |
  | 97 | 97 |  |
  | 98 | 98 | /\*\*\*/ }) |
* ## [essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js](/changeset/3085420/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js")

  | [r3075644](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js?rev=3075644#L1 "Show revision 3075644 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/assets/front-end/js/view/table-of-content.min.js?rev=3085420#L1 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"\_\_esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.\_\_esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}({28:function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o;o=jQuery,jQuery(document).ready((function(){var e,t=o("header").height(),a=null!==(e=0!==(e=o("#eael-toc").data("page\_offset"))&&void 0!==e?e:null)?e:void 0!==t&&0!==t?t+10:120;function l(e,t){var a=document.getElementById("eael-toc-list");if(null===e||void 0===t||!a)return null;for(var l=document.getElementById("eael-toc"),r=void 0!==l.dataset.titleurl?l.dataset.titleurl:"false",c=void 0!==l.dataset.excludeSelector?l.dataset.excludeSelector.replace(/^,|,$/g,""):"",d=[],u=document.querySelectorAll(e),f=0,h=0;h<u.length;h++)d=[].concat(n(d),n(u[h].querySelectorAll(t)));(d=Array.from(new Set(d))).forEach((function(e){i(c,e)||(e.id=f+"-"+s(r,e.textContent),e.classList.add("eael-heading-content"),f++)})),function(e,t,n){var a=t,l=n,r=document.getElementById("eael-toc"),c=void 0!==r.dataset.titleurl?r.dataset.titleurl:"false",d=document.getElementById("eael-toc-list"),u=void 0!==r.dataset.excludeselector?r.dataset.excludeselector.replace(/^,|,$/g,""):"",f="",h=f=a.trim().split(",")[0].substr(1,1),m=d;d.innerHTML="",l.length>0&&document.getElementById("eael-toc").classList.remove("eael-toc-disable");for(var g=0,p=l.length;g<p;++g){var v=l[g],y=o(v).closest("~~#main"),b=o(v).closest("nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts"),C=y.length>0,E=b.length>0;if(!i(u,v)&&C&&!E){var w=parseInt(v.tagName.substr(1,1)),A=w-f;if(A>0){var S=m.lastChild;if(S){var I=document.createElement("UL");S.appendChild(I),m=I,f=w}}var L=!1;if(A<0){for(;0!=A++;)m.parentNode.parentNode&&(m=m.parentNode.parentNode);f=w,L=!0}if("UL"!==m.tagName&&(m=d),""!==v.textContent.trim()){var j=document.createElement("LI"),x=document.createElement("A"),k=document.createElement("SPAN");(h===f||L)&&(j.setAttribute("itemscope",""),j.setAttribute("itemtype","http://schema.org/ListItem"),j.setAttribute("itemprop","itemListElement"));var B="#"+g+"-"+s(c,v.textContent);x.className="eael-toc-link",x.setAttribute("itemprop","item"),x.setAttribute("href",B),k.appendChild(document.createTextNode(v.textContent)),x.appendChild(k),j.appendChild(x),m.appendChild(j~~)}}}}(0,t,d);var m=o("ul.eael-toc-list > li");m.length<1&&document.getElementById("eael-toc").classList.add("eael-toc-disable"),m.each((function(){this.classList.add("eael-first-child")}))}o(document).on("click","ul.eael-toc-list a",(function(e){e.preventDefault(),o(document).off("scroll");var t=this.hash;if(history.pushState("",document.title,window.location.pathname+window.location.search),o(this).parent().is(".eael-highlight-parent.eael-highlight-active"))return o("html, body").animate({scrollTop:o(t).offset().top-a},0),!1;o(".eael-highlight-active, .eael-highlight-parent").removeClass("eael-highlight-active eael-highlight-parent"),o(this).closest(".eael-first-child").addClass("eael-highlight-parent"),o(this).parent().addClass("eael-highlight-active"),o("html, body").animate({scrollTop:o(t).offset().top-a},0)})),window.addEventListener("scroll",(function(e){var t;(t=document.getElementById("eael-toc"))&&(r=void 0!==r?r:200,window.pageYOffset>=r&&!t.classList.contains("eael-toc-disable")?(t.classList.add("eael-sticky"),o("#eael-toc-list").hasClass("eael-toc-auto-highlight")&&function(){var e=document.querySelectorAll("#eael-toc-list .eael-toc-link");o("#eael-toc-list .eael-toc-link").removeClass("eael-highlight-active");for(var t=!!o("#eael-toc").hasClass("eael-toc-auto-highlight.eael-toc-highlight-single-item"),n=0;n<e.length;n++){var a=e[n],l=a.getAttribute("href");if(c(document.getElementById(l.substring(1)))&&(o(a).addClass("eael-highlight-active"),t))break}}()):t.classList.remove("eael-sticky"))}));var r=o("#eael-toc").data("stickyscroll");function i(e,t){return o(t).closest(e).length}function c(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(e,t){return"true"==e&&""!=t?t.toString().toLowerCase().normalize("NFD").trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-"):"eael-table-of-content"}function d(){var e=document.getElementById("eael-toc");if(e&&e.dataset.contentselector)return e.dataset.contentselector;var t=".site-content";return o(".site-content")[0]?t=".site-content":o(".elementor-inner")[0]?t=".elementor-inner":o("#site-content")[0]?t="#site-content":o(".site-main")&&(t=".site-main"),t}o("body").click((function(e){var t=o(e.target),n=o("#eael-toc");n.hasClass("eael-toc-auto-collapse")&&n.hasClass("eael-sticky")&&!n.hasClass("collapsed")&&0===o(t).closest("#eael-toc").length&&n.toggleClass("collapsed")})),o(document).on("click",".eael-toc-close ,.eael-toc-button",(function(e){e.stopPropagation(),o(".eael-toc").toggleClass("collapsed")})),"undefined"!=typeof ea&&ea.isEditMode&&elementorFrontend.hooks.addAction("frontend/element\_ready/widget",(function(e,t){var n=t("#eael-toc #eael-toc-list");if(n.find("li.eael-first-child").length<1&&n.length>=1){var a=t("#eael-toc").data("eaeltoctag");a&&l(d(),a)}}));var u="undefined"!=typeof isEditMode&&isEditMode,f=o("#eael-toc").data("eaeltoctag");""===f||u||l(d(),f)}))}}); |
  |  | 1 | !function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"\_\_esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.\_\_esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.\_\_esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}({28:function(e,t){function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var o;o=jQuery,jQuery(document).ready((function(){var e,t=o("header").height(),a=null!==(e=0!==(e=o("#eael-toc").data("page\_offset"))&&void 0!==e?e:null)?e:void 0!==t&&0!==t?t+10:120;function l(e,t){var a=document.getElementById("eael-toc-list");if(null===e||void 0===t||!a)return null;for(var l=document.getElementById("eael-toc"),r=void 0!==l.dataset.titleurl?l.dataset.titleurl:"false",c=void 0!==l.dataset.excludeSelector?l.dataset.excludeSelector.replace(/^,|,$/g,""):"",d=[],u=document.querySelectorAll(e),f=0,h=0;h<u.length;h++)d=[].concat(n(d),n(u[h].querySelectorAll(t)));(d=Array.from(new Set(d))).forEach((function(e){i(c,e)||(e.id=f+"-"+s(r,e.textContent),e.classList.add("eael-heading-content"),f++)})),function(e,t,n){var a=t,l=n,r=document.getElementById("eael-toc"),c=void 0!==r.dataset.titleurl?r.dataset.titleurl:"false",d=document.getElementById("eael-toc-list"),u=void 0!==r.dataset.excludeselector?r.dataset.excludeselector.replace(/^,|,$/g,""):"",f="",h=f=a.trim().split(",")[0].substr(1,1),m=d;d.innerHTML="",l.length>0&&document.getElementById("eael-toc").classList.remove("eael-toc-disable");for(var g=0,p=l.length;g<p;++g){var v=l[g],y=o(v).closest(".ab-top-menu, .page-header, .site-title, nav, footer, .comments-area, .woocommerce-tabs, .related.products, .blog-author, .post-author, .post-related-posts, .eael-toc-header").length>0;if(!i(u,v)&&!y){var b=parseInt(v.tagName.substr(1,1)),C=b-f;if(C>0){var E=m.lastChild;if(E){var w=document.createElement("UL");E.appendChild(w),m=w,f=b}}var A=!1;if(C<0){for(;0!=C++;)m.parentNode.parentNode&&(m=m.parentNode.parentNode);f=b,A=!0}if("UL"!==m.tagName&&(m=d),""!==v.textContent.trim()){var S=document.createElement("LI"),I=document.createElement("A"),L=document.createElement("SPAN");(h===f||A)&&(S.setAttribute("itemscope",""),S.setAttribute("itemtype","http://schema.org/ListItem"),S.setAttribute("itemprop","itemListElement"));var j="#"+g+"-"+s(c,v.textContent);I.className="eael-toc-link",I.setAttribute("itemprop","item"),I.setAttribute("href",j),L.appendChild(document.createTextNode(v.textContent)),I.appendChild(L),S.appendChild(I),m.appendChild(S)}}}}(0,t,d);var m=o("ul.eael-toc-list > li");m.length<1&&document.getElementById("eael-toc").classList.add("eael-toc-disable"),m.each((function(){this.classList.add("eael-first-child")}))}o(document).on("click","ul.eael-toc-list a",(function(e){e.preventDefault(),o(document).off("scroll");var t=this.hash;if(history.pushState("",document.title,window.location.pathname+window.location.search),o(this).parent().is(".eael-highlight-parent.eael-highlight-active"))return o("html, body").animate({scrollTop:o(t).offset().top-a},0),!1;o(".eael-highlight-active, .eael-highlight-parent").removeClass("eael-highlight-active eael-highlight-parent"),o(this).closest(".eael-first-child").addClass("eael-highlight-parent"),o(this).parent().addClass("eael-highlight-active"),o("html, body").animate({scrollTop:o(t).offset().top-a},0)})),window.addEventListener("scroll",(function(e){var t;(t=document.getElementById("eael-toc"))&&(r=void 0!==r?r:200,window.pageYOffset>=r&&!t.classList.contains("eael-toc-disable")?(t.classList.add("eael-sticky"),o("#eael-toc-list").hasClass("eael-toc-auto-highlight")&&function(){var e=document.querySelectorAll("#eael-toc-list .eael-toc-link");o("#eael-toc-list .eael-toc-link").removeClass("eael-highlight-active");for(var t=!!o("#eael-toc").hasClass("eael-toc-auto-highlight.eael-toc-highlight-single-item"),n=0;n<e.length;n++){var a=e[n],l=a.getAttribute("href");if(c(document.getElementById(l.substring(1)))&&(o(a).addClass("eael-highlight-active"),t))break}}()):t.classList.remove("eael-sticky"))}));var r=o("#eael-toc").data("stickyscroll");function i(e,t){return o(t).closest(e).length}function c(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(e,t){return"true"==e&&""!=t?t.toString().toLowerCase().normalize("NFD").trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/^-+/,"").replace(/-+$/,"").replace(/-+/g,"-"):"eael-table-of-content"}function d(){var e=document.getElementById("eael-toc");if(e&&e.dataset.contentselector)return e.dataset.contentselector;var t=".site-content";return o(".site-content")[0]?t=".site-content":o(".elementor-inner")[0]?t=".elementor-inner":o("#site-content")[0]?t="#site-content":o(".site-main")&&(t=".site-main"),t}o("body").click((function(e){var t=o(e.target),n=o("#eael-toc");n.hasClass("eael-toc-auto-collapse")&&n.hasClass("eael-sticky")&&!n.hasClass("collapsed")&&0===o(t).closest("#eael-toc").length&&n.toggleClass("collapsed")})),o(document).on("click",".eael-toc-close ,.eael-toc-button",(function(e){e.stopPropagation(),o(".eael-toc").toggleClass("collapsed")})),"undefined"!=typeof ea&&ea.isEditMode&&elementorFrontend.hooks.addAction("frontend/element\_ready/widget",(function(e,t){var n=t("#eael-toc #eael-toc-list");if(n.find("li.eael-first-child").length<1&&n.length>=1){var a=t("#eael-toc").data("eaeltoctag");a&&l(d(),a)}}));var u="undefined"!=typeof isEditMode&&isEditMode,f=o("#eael-toc").data("eaeltoctag");""===f||u||l(d(),f)}))}}); |
* ## [essential-addons-for-elementor-lite/trunk/essential\_adons\_elementor.php](/changeset/3085420/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php")

  | [r3083162](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3083162#L5 "Show revision 3083162 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3085420#L5 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Plugin URI: https://essential-addons.com/elementor/ |
  | 6 | 6 | \* Author: WPDeveloper |
  | 7 |  | \* Version: 5.9.2~~0~~ |
  |  | 7 | \* Version: 5.9.21 |
  | 8 | 8 | \* Author URI: https://wpdeveloper.com/ |
  | 9 | 9 | \* Text Domain: essential-addons-for-elementor-lite |
  | […](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3083162#L28) | […](/browser/essential-addons-for-elementor-lite/trunk/essential_adons_elementor.php?rev=3085420#L28) |  |
  | 28 | 28 | define('EAEL\_PLUGIN\_PATH', trailingslashit(plugin\_dir\_path(\_\_FILE\_\_))); |
  | 29 | 29 | define('EAEL\_PLUGIN\_URL', trailingslashit(plugins\_url('/', \_\_FILE\_\_))); |
  | 30 |  | define('EAEL\_PLUGIN\_VERSION', '5.9.2~~0~~'); |
  |  | 30 | define('EAEL\_PLUGIN\_VERSION', '5.9.21'); |
  | 31 | 31 | define('EAEL\_ASSET\_PATH', wp\_upload\_dir()['basedir'] . '/essential-addons-elementor'); |
  | 32 | 32 | define('EAEL\_ASSET\_URL', wp\_upload\_dir()['baseurl'] . '/essential-addons-elementor'); |
* ## [essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php](/changeset/3085420/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3081440#L1292 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3085420#L1292 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1292 | 1292 | 'align' => [], |
  | 1293 | 1293 | ], |
  | 1294 |  | 'td'     => [ |
  |  | 1294 | 'td'     => [ |
  | 1295 | 1295 | 'class'   => [], |
  | 1296 | 1296 | 'id'      => [], |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3081440#L1300) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Classes/Helper.php?rev=3085420#L1300) |  |
  | 1300 | 1300 | 'rowspan' => [], |
  | 1301 | 1301 | ], |
  | 1302 |  | 'header'      => [ |
  | 1303 |  | 'class'   => [], |
  | 1304 |  | 'id'      => [], |
  | 1305 |  | 'style'   => [], |
  | 1306 |  | ], |
  |  | 1302 | 'header' => [ |
  |  | 1303 | 'class' => [], |
  |  | 1304 | 'id'    => [], |
  |  | 1305 | 'style' => [], |
  |  | 1306 | ], |
  |  | 1307 | 'iframe' => [ |
  |  | 1308 | 'class'  => [], |
  |  | 1309 | 'id'     => [], |
  |  | 1310 | 'style'  => [], |
  |  | 1311 | 'title'  => [], |
  |  | 1312 | 'width'  => [], |
  |  | 1313 | 'height' => [], |
  |  | 1314 | 'src'    => [] |
  |  | 1315 | ] |
  | 1307 | 1316 | ] ); |
  | 1308 | 1317 | } |
* ## [essential-addons-for-elementor-lite/trunk/includes/Elements/NFT\_Gallery.php](/changeset/3085420/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php")

  | [r3002014](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3002014#L104 "Show revision 3002014 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3085420#L104 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 104 | 104 | 'label'     => esc\_html\_\_( 'Type', 'essential-addons-for-elementor-lite' ), |
  | 105 | 105 | 'type'      => Controls\_Manager::SELECT, |
  | 106 |  | 'default'   => '~~asset~~s', |
  |  | 106 | 'default'   => 'collections', |
  | 107 | 107 | 'options'   => [ |
  | 108 |  | 'assets'      => esc\_html\_\_( 'Assets', 'essential-addons-for-elementor-lite' ), |
  |  | 108 | // 'assets'      => esc\_html\_\_( 'Assets', 'essential-addons-for-elementor-lite' ), |
  | 109 | 109 | 'collections' => esc\_html\_\_( 'Collections', 'essential-addons-for-elementor-lite' ), |
  | 110 | 110 | ], |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3002014#L2762) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Elements/NFT_Gallery.php?rev=3085420#L2762) |  |
  | 2762 | 2762 | $nft\_gallery['filterby\_wallet'] = ! empty( $settings['eael\_nft\_gallery\_opensea\_filterby\_wallet'] ) ? $settings['eael\_nft\_gallery\_opensea\_filterby\_wallet'] : ''; |
  | 2763 | 2763 |  |
  | 2764 |  | $url   = "https://api.opensea.io/api/v~~1~~"; |
  |  | 2764 | $url   = "https://api.opensea.io/api/v2"; |
  | 2765 | 2765 | $param = array(); |
  | 2766 | 2766 |  |
* ## [essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php](/changeset/3085420/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3081440#L1058 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3085420#L1058 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 1058 | 1058 |  |
  | 1059 | 1059 | $wb->add\_control( |
  | 1060 |  | 'eael\_show\_fallback\_img', |
  |  | 1060 | 'eael\_show\_fallback\_img\_all', |
  | 1061 | 1061 | [ |
  | 1062 | 1062 | 'label' => \_\_('Fallback Image', 'essential-addons-for-elementor-lite'), |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3081440#L1073) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Controls.php?rev=3085420#L1073) |  |
  | 1073 | 1073 |  |
  | 1074 | 1074 | $wb->add\_control( |
  | 1075 |  | 'eael\_post\_carousel\_fallback\_img', |
  |  | 1075 | 'eael\_post\_carousel\_fallback\_img\_all', |
  | 1076 | 1076 | [ |
  | 1077 | 1077 | 'label'             => \_\_( 'Image', 'essential-addons-for-elementor-lite' ), |
  | 1078 | 1078 | 'type'              => Controls\_Manager::MEDIA, |
  | 1079 | 1079 | 'condition'         => [ |
  | 1080 |  | 'eael\_show\_fallback\_img'    => 'yes', |
  |  | 1080 | 'eael\_show\_fallback\_img\_all'    => 'yes', |
  | 1081 | 1081 | 'eael\_show\_image' => 'yes', |
  | 1082 | 1082 | ], |
* ## [essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php](/changeset/3085420/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L451 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420#L451 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 451 | 451 |  |
  | 452 | 452 | if ( $global\_reading\_progress ) { |
  | 453 |  | $reading\_progress\_html .= '<div class="eael-reading-progress eael-reading-progress-global eael-reading-progress-' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_position' ) . '" style="height: ' . ~~$progress\_height~~ . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_bg\_color' ) . ';"> |
  | 454 |  | <div class="eael-reading-progress-fill" style="height: ' . ~~$progress\_height . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_fill\_color' ) . ';transition: width ' . $animation\_speed~~ . 'ms ease;"></div> |
  |  | 453 | $reading\_progress\_html .= '<div class="eael-reading-progress eael-reading-progress-global eael-reading-progress-' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_position' ) . '" style="height: ' . esc\_attr( $progress\_height ) . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_bg\_color' ) . ';"> |
  |  | 454 | <div class="eael-reading-progress-fill" style="height: ' . esc\_attr( $progress\_height ) . 'px;background-color: ' . $this->get\_extensions\_value( 'eael\_ext\_reading\_progress\_fill\_color' ) . ';transition: width ' . esc\_attr( $animation\_speed ) . 'ms ease;"></div> |
  | 455 | 455 | </div>'; |
  | 456 | 456 | } else { |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L548) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420#L548) |  |
  | 548 | 548 | <div class='eael-toc-header'> |
  | 549 | 549 | <span class='eael-toc-close'>×</span> |
  | 550 |  | <~~{$toc\_title\_tag} class='eael-toc-title'>{$toc\_title}</{$toc\_title\_tag}~~> |
  |  | 550 | <" . Helper::eael\_validate\_html\_tag( $toc\_title\_tag ) . " class='eael-toc-title'>" . esc\_html( $toc\_title ) . "</" . Helper::eael\_validate\_html\_tag( $toc\_title\_tag ) . "> |
  | 551 | 551 | </div> |
  | 552 | 552 | <div class='eael-toc-body'> |
  | 553 | 553 | <ul id='eael-toc-list' class='eael-toc-list " . esc\_attr( $toc\_style\_class ) . "'></ul> |
  | 554 | 554 | </div> |
  | 555 |  | <button class='eael-toc-button'>" . wp\_kses( $icon\_html, [ 'i' => [ 'class' => [] ] ] ) . "<span>~~{$toc\_title}~~</span></button> |
  |  | 555 | <button class='eael-toc-button'>" . wp\_kses( $icon\_html, [ 'i' => [ 'class' => [] ] ] ) . "<span>" . esc\_html( $toc\_title ) . "</span></button> |
  | 556 | 556 | </div>"; |
  | 557 | 557 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L769) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420#L769) |  |
  | 769 | 769 | .eael-toc-global .eael-toc-body .eael-toc-list li.eael-highlight-parent > a |
  | 770 | 770 | { |
  | 771 |  | color:$toc\_list\_color\_active !important; |
  |  | 771 | color: $toc\_list\_color\_active !important; |
  | 772 | 772 | } |
  | 773 | 773 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L775) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420#L775) |  |
  | 775 | 775 | .eael-toc-global .eael-toc-body .eael-toc-list li.eael-highlight-active > a:before |
  | 776 | 776 | { |
  | 777 |  | border-bottom-color:$toc\_list\_color\_active !important; |
  |  | 777 | border-bottom-color: $toc\_list\_color\_active !important; |
  | 778 | 778 | } |
  | 779 | 779 |  |
  | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3081440#L782) | […](/browser/essential-addons-for-elementor-lite/trunk/includes/Traits/Elements.php?rev=3085420#L782) |  |
  | 782 | 782 | .eael-toc-global .eael-toc-body .eael-toc-list.eael-toc-bullet li.eael-highlight-parent:before |
  | 783 | 783 | { |
  | 784 |  | background-color:$toc\_list\_color\_active !important; |
  |  | 784 | background-color: $toc\_list\_color\_active !important; |
  | 785 | 785 | } |
  | 786 | 786 |  |
* ## [essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot](/changeset/3085420/essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot")

  | [r3081440](/browser/essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot?rev=3081440#L6294 "Show revision 3081440 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/languages/essential-addons-for-elementor-lite.pot?rev=3085420#L6294 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 6294 | 6294 | msgstr "" |
  | 6295 | 6295 |  |
  | 6296 |  | ~~#: ../includes/Elements/NFT\_Gallery.php:108~~ |
  | 6297 |  | ~~msgid "Assets"~~ |
  | 6298 |  | ~~msgstr ""~~ |
  | 6299 |  |  |
  | 6300 | 6296 | #: ../includes/Elements/NFT\_Gallery.php:109 |
  | 6301 | 6297 | msgid "Collections" |
* ## [essential-addons-for-elementor-lite/trunk/readme.txt](/changeset/3085420/essential-addons-for-elementor-lite/trunk/readme.txt "Show the changeset 3085420 restricted to essential-addons-for-elementor-lite/trunk/readme.txt")

  | [r3083162](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3083162#L5 "Show revision 3083162 of this file in browser") | [r3085420](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3085420#L5 "Show revision 3085420 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.5 |
  | 6 | 6 | Requires PHP: 7.0 |
  | 7 |  | Stable tag: 5.9.2~~0~~ |
  |  | 7 | Stable tag: 5.9.21 |
  | 8 | 8 | License: GPLv3 |
  | 9 | 9 | License URI: https://opensource.org/licenses/GPL-3.0 |
  | […](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3083162#L298) | […](/browser/essential-addons-for-elementor-lite/trunk/readme.txt?rev=3085420#L298) |  |
  | 298 | 298 | == Changelog == |
  | 299 | 299 |  |
  |  | 300 | = 5.9.21 - 13/05/2024 = |
  |  | 301 |  |
  |  | 302 | - Revamped: NFT Gallery | OpenSea API version |
  |  | 303 | - Fixed: Filterable Gallery | iframe not working issue |
  |  | 304 | - Improved: Security Enhancement |
  |  | 305 | - Few minor bug fixes & improvements |
  |  | 306 |  |
  | 300 | 307 | = 5.9.20 - 08/05/2024 = |
  | 301 | 308 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3085420)
* [Zip Archive](?format=zip&new=3085420)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

