=== Content from plugins.trac.wordpress.org_b81fd54b_20250111_103201.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fstarbox%2Ftrunk%2Fcore%2FUserSettings.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/starbox/trunk/core/UserSettings.php?rev=3123101 "Revision 3123101")
* Next Revision →
* [Blame](/browser/starbox/trunk/core/UserSettings.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/starbox/trunk/core/UserSettings.php)

---

# [source:](/browser?order=name "Go to repository root") [starbox](/browser/starbox?order=name "View starbox")/[trunk](/browser/starbox/trunk?order=name "View trunk")/[core](/browser/starbox/trunk/core?order=name "View core")/[UserSettings.php](/browser/starbox/trunk/core/UserSettings.php?order=name "View UserSettings.php")

View diff against:

View revision:

| [Last change](/changeset/3147234/starbox/trunk/core/UserSettings.php "View differences") on this file was [3147234](/changeset/3147234/ "View changeset 3147234"), checked in by cifi, [4 months ago](/timeline?from=2024-09-05T18%3A47%3A33Z&precision=second "See timeline at 09/05/2024 06:47:33 PM") |
| --- |
| Update the social URL validation |
| **File size:** 7.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php defined( 'ABSPATH' ) || die( 'Cheatin\' uh?' ); |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* Affiliate settings |
| [5](#L5) | \*/ |
| [6](#L6) | class ABH\_Core\_UserSettings extends ABH\_Classes\_BlockController { |
| [7](#L7) |  |
| [8](#L8) | public $user; |
| [9](#L9) | public $author = array(); |
| [10](#L10) | public $themes = array(); |
| [11](#L11) |  |
| [12](#L12) | public function init( $user = null ) { |
| [13](#L13) | $this->user = $user; |
| [14](#L14) |  |
| [15](#L15) | if ( isset( $this->user->ID ) ) { |
| [16](#L16) | $this->author = ABH\_Classes\_Tools::getOption( 'abh\_author' . $this->user->ID ); |
| [17](#L17) | } |
| [18](#L18) |  |
| [19](#L19) | $default = array( |
| [20](#L20) | 'abh\_use'               => 1, |
| [21](#L21) | 'abh\_nofollow\_social'   => 1, |
| [22](#L22) | 'abh\_noopener\_social'   => 0, |
| [23](#L23) | 'abh\_noreferrer\_social' => 0, |
| [24](#L24) | // -- |
| [25](#L25) | 'abh\_title'             => "", |
| [26](#L26) | 'abh\_company'           => "", |
| [27](#L27) | 'abh\_company\_url'       => "", |
| [28](#L28) | 'abh\_extra\_description' => "", |
| [29](#L29) | // -- |
| [30](#L30) | 'abh\_socialtext'        => "", |
| [31](#L31) | 'abh\_twitter'           => "", |
| [32](#L32) | 'abh\_facebook'          => "", |
| [33](#L33) | 'abh\_google'            => "", |
| [34](#L34) | 'abh\_linkedin'          => "", |
| [35](#L35) | 'abh\_instagram'         => "", |
| [36](#L36) | 'abh\_flickr'            => "", |
| [37](#L37) | 'abh\_pinterest'         => "", |
| [38](#L38) | 'abh\_tumblr'            => "", |
| [39](#L39) | 'abh\_youtube'           => "", |
| [40](#L40) | 'abh\_vimeo'             => "", |
| [41](#L41) | 'abh\_klout'             => "", |
| [42](#L42) | 'abh\_gravatar'          => "", |
| [43](#L43) | 'abh\_theme'             => "default", |
| [44](#L44) | 'abh\_position'          => "default", |
| [45](#L45) | ); |
| [46](#L46) |  |
| [47](#L47) | if ( empty( $this->author ) ) { |
| [48](#L48) | $this->author = $default; |
| [49](#L49) | } else { |
| [50](#L50) | $this->author = @array\_merge( $default, $this->author ); |
| [51](#L51) |  |
| [52](#L52) | } |
| [53](#L53) |  |
| [54](#L54) | $this->themes = @array\_merge( array( 'default' ), ABH\_Classes\_Tools::getOption( 'abh\_themes' ) ); |
| [55](#L55) |  |
| [56](#L56) | parent::init(); |
| [57](#L57) | } |
| [58](#L58) |  |
| [59](#L59) | public function action() { |
| [60](#L60) | switch ( ABH\_CLasses\_Tools::getValue( 'action' ) ) { |
| [61](#L61) | //Update the user data in User Profile |
| [62](#L62) | case 'update': |
| [63](#L63) | case 'createuser': |
| [64](#L64) | $user\_id = (int) ABH\_CLasses\_Tools::getValue( 'user\_id' ); |
| [65](#L65) |  |
| [66](#L66) | if ( ! current\_user\_can( 'edit\_users' ) && get\_current\_user\_id() <> $user\_id ) { |
| [67](#L67) | return; |
| [68](#L68) | } |
| [69](#L69) |  |
| [70](#L70) | //Get the default settings |
| [71](#L71) | $settings = ABH\_Classes\_Tools::getOption( 'abh\_author' . $user\_id ); |
| [72](#L72) |  |
| [73](#L73) | $settings['abh\_use']               = (int) ABH\_CLasses\_Tools::getValue( 'abh\_use' ); |
| [74](#L74) | $settings['abh\_nofollow\_social']   = (int) ABH\_CLasses\_Tools::getValue( 'abh\_nofollow\_social' ); |
| [75](#L75) | $settings['abh\_noopener\_social']   = (int) ABH\_CLasses\_Tools::getValue( 'abh\_noopener\_social' ); |
| [76](#L76) | $settings['abh\_noreferrer\_social'] = (int) ABH\_CLasses\_Tools::getValue( 'abh\_noreferrer\_social' ); |
| [77](#L77) |  |
| [78](#L78) | $settings['abh\_title']       = ABH\_CLasses\_Tools::getValue( 'abh\_title' ); |
| [79](#L79) | $settings['abh\_company']     = ABH\_CLasses\_Tools::getValue( 'abh\_company' ); |
| [80](#L80) | $settings['abh\_company\_url'] = ABH\_CLasses\_Tools::getValue( 'abh\_company\_url' ); |
| [81](#L81) | if ( isset( $\_POST['abh\_extra\_description'] ) ) { |
| [82](#L82) | $allowed\_html = array( |
| [83](#L83) | 'a'      => array( |
| [84](#L84) | 'href'   => array(), |
| [85](#L85) | 'target' => array(), |
| [86](#L86) | 'title'  => array(), |
| [87](#L87) | 'style'  => array(), |
| [88](#L88) | 'class'  => array() |
| [89](#L89) | ), |
| [90](#L90) | 'img'    => array( 'src' => array(), 'alt' => array(), 'style' => array(), 'class' => array() ), |
| [91](#L91) | 'br'     => array(), |
| [92](#L92) | 'p'      => array(), |
| [93](#L93) | 'em'     => array(), |
| [94](#L94) | 'b'      => array(), |
| [95](#L95) | 'strong' => array(), |
| [96](#L96) | 'h2'     => array(), |
| [97](#L97) | 'h3'     => array(), |
| [98](#L98) | 'h4'     => array(), |
| [99](#L99) | 'h5'     => array(), |
| [100](#L100) | 'h6'     => array(), |
| [101](#L101) | ); |
| [102](#L102) |  |
| [103](#L103) | $settings['abh\_extra\_description'] = wp\_unslash( trim( wp\_kses( $\_POST['abh\_extra\_description'], $allowed\_html ) ) ); |
| [104](#L104) | } |
| [105](#L105) | // -- |
| [106](#L106) |  |
| [107](#L107) | $settings['abh\_socialtext'] = ABH\_CLasses\_Tools::getValue( 'abh\_socialtext' ); |
| [108](#L108) | $settings['abh\_twitter']    = ABH\_CLasses\_Tools::getValue( 'abh\_twitter' ); |
| [109](#L109) | $settings['abh\_facebook']   = ABH\_CLasses\_Tools::getValue( 'abh\_facebook' ); |
| [110](#L110) | $settings['abh\_google']     = ABH\_CLasses\_Tools::getValue( 'abh\_google' ); |
| [111](#L111) | $settings['abh\_linkedin']   = ABH\_CLasses\_Tools::getValue( 'abh\_linkedin' ); |
| [112](#L112) | $settings['abh\_instagram']  = ABH\_CLasses\_Tools::getValue( 'abh\_instagram' ); |
| [113](#L113) | $settings['abh\_flickr']     = ABH\_CLasses\_Tools::getValue( 'abh\_flickr' ); |
| [114](#L114) | $settings['abh\_pinterest']  = ABH\_CLasses\_Tools::getValue( 'abh\_pinterest' ); |
| [115](#L115) | $settings['abh\_tumblr']     = ABH\_CLasses\_Tools::getValue( 'abh\_tumblr' ); |
| [116](#L116) | $settings['abh\_youtube']    = ABH\_CLasses\_Tools::getValue( 'abh\_youtube' ); |
| [117](#L117) | $settings['abh\_vimeo']      = ABH\_CLasses\_Tools::getValue( 'abh\_vimeo' ); |
| [118](#L118) |  |
| [119](#L119) | $urlregex = '/[^a-zA-Z\/:\?&.\-\_]/'; |
| [120](#L120) | $settings['abh\_twitter'] = preg\_replace($urlregex,'', $settings['abh\_twitter']); |
| [121](#L121) | $settings['abh\_facebook'] = preg\_replace($urlregex,'', $settings['abh\_facebook']); |
| [122](#L122) | $settings['abh\_google'] = preg\_replace($urlregex,'', $settings['abh\_google']); |
| [123](#L123) | $settings['abh\_linkedin'] = preg\_replace($urlregex,'', $settings['abh\_linkedin']); |
| [124](#L124) | $settings['abh\_instagram'] = preg\_replace($urlregex,'', $settings['abh\_instagram']); |
| [125](#L125) | $settings['abh\_flickr'] = preg\_replace($urlregex,'', $settings['abh\_flickr']); |
| [126](#L126) | $settings['abh\_pinterest'] = preg\_replace($urlregex,'', $settings['abh\_pinterest']); |
| [127](#L127) | $settings['abh\_tumblr'] = preg\_replace($urlregex,'', $settings['abh\_tumblr']); |
| [128](#L128) | $settings['abh\_youtube'] = preg\_replace($urlregex,'', $settings['abh\_youtube']); |
| [129](#L129) | $settings['abh\_vimeo'] = preg\_replace($urlregex,'', $settings['abh\_vimeo']); |
| [130](#L130) |  |
| [131](#L131) | // -- |
| [132](#L132) | $settings['abh\_theme']    = ABH\_CLasses\_Tools::getValue( 'abh\_theme' ); |
| [133](#L133) | $settings['abh\_position'] = ABH\_CLasses\_Tools::getValue( 'abh\_position' ); |
| [134](#L134) |  |
| [135](#L135) | /\* if there is an icon to upload \*/ |
| [136](#L136) | if ( isset( $\_FILES['abh\_gravatar']['name'] ) && $\_FILES['abh\_gravatar']['name'] <> '' ) { |
| [137](#L137) | $return = $this->model->addImage( $\_FILES['abh\_gravatar'] ); |
| [138](#L138) | if ( $return['name'] <> '' ) { |
| [139](#L139) | $settings['abh\_gravatar'] = $return['name']; |
| [140](#L140) | } |
| [141](#L141) | if ( $return['message'] <> '' ) { |
| [142](#L142) | define( 'ABH\_MESSAGE\_FAVICON', $return['message'] ); |
| [143](#L143) | } |
| [144](#L144) | } |
| [145](#L145) | //////////////////////////////////// |
| [146](#L146) |  |
| [147](#L147) | if ( ABH\_CLasses\_Tools::getValue( 'abh\_resetgravatar' ) == 1 ) { |
| [148](#L148) | $settings['abh\_gravatar'] = ''; |
| [149](#L149) | } |
| [150](#L150) |  |
| [151](#L151) | ABH\_Classes\_Tools::saveOptions( 'abh\_author' . $user\_id, $settings ); |
| [152](#L152) |  |
| [153](#L153) | ABH\_Classes\_Tools::emptyCache(); |
| [154](#L154) |  |
| [155](#L155) | /\* Force call of error display \*/ |
| [156](#L156) | ABH\_Classes\_ObjController::getController( 'ABH\_Classes\_Error' )->hookNotices(); |
| [157](#L157) |  |
| [158](#L158) | break; |
| [159](#L159) |  |
| [160](#L160) | case 'abh\_get\_box': |
| [161](#L161) | $user\_id = (int) ABH\_CLasses\_Tools::getValue( 'user\_id' ); |
| [162](#L162) | $theme   = ABH\_CLasses\_Tools::getValue( 'abh\_theme' ); |
| [163](#L163) |  |
| [164](#L164) | if ( ! current\_user\_can( 'edit\_users' ) && get\_current\_user\_id() <> $user\_id ) { |
| [165](#L165) | return; |
| [166](#L166) | } |
| [167](#L167) |  |
| [168](#L168) | ABH\_CLasses\_Tools::setOption( 'abh\_titlefontsize', ABH\_CLasses\_Tools::getValue( 'abh\_titlefontsize', 'default' ) ); |
| [169](#L169) | ABH\_CLasses\_Tools::setOption( 'abh\_descfontsize', ABH\_CLasses\_Tools::getValue( 'abh\_descfontsize', 'default' ) ); |
| [170](#L170) |  |
| [171](#L171) | if ( $theme == 'default' ) { |
| [172](#L172) | $theme = ABH\_Classes\_Tools::getOption( 'abh\_theme' ); |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | $str = '<script type="text/javascript" src="' . \_ABH\_ALL\_THEMES\_URL\_ . $theme . '/js/frontend.js?ver=' . ABH\_VERSION . '"></script>'; |
| [176](#L176) | $str .= '<link rel="stylesheet"  href="' . \_ABH\_ALL\_THEMES\_URL\_ . $theme . '/css/frontend.css?ver=' . ABH\_VERSION . '" type="text/css" media="all" />'; |
| [177](#L177) | $str .= ABH\_Classes\_ObjController::getController( 'ABH\_Controllers\_Frontend' )->showBox( $user\_id ); |
| [178](#L178) |  |
| [179](#L179) | ABH\_Classes\_Tools::setHeader( 'json' ); |
| [180](#L180) | echo json\_encode( array( 'box' => $str ) ); |
| [181](#L181) | exit(); |
| [182](#L182) | } |
| [183](#L183) | } |
| [184](#L184) |  |
| [185](#L185) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/starbox/trunk/core/UserSettings.php?format=txt)
* [Original Format](/export/3220658/starbox/trunk/core/UserSettings.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_061f00a5_20250111_103203.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Starbox – the Author Box for Humans <= 3.4.7 - Insecure Direct Object Reference

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Starbox – the Author Box for Humans <= 3.4.7 - Insecure Direct Object Reference

4.3

**Improper Access Control**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

| CVE | [CVE-2024-0366](https://www.cve.org/CVERecord?id=CVE-2024-0366) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | January 30, 2024 |
| Last Updated | February 5, 2024 |
| Researcher | [Sh](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/shopen-sh) |

### Description

The Starbox – the Author Box for Humans plugin for WordPress is vulnerable to Insecure Direct Object Reference in all versions up to, and including, 3.4.7 via the action function due to missing validation on a user controlled key. This makes it possible for subscribers to view plugin preferences and potentially other user settings.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/starbox/trunk/core/UserSettings.php)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3028775/starbox/trunk?contextall=1&old=3000701&old_path=%2Fstarbox%2Ftrunk)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstarbox%2Fstarbox-the-author-box-for-humans-347-insecure-direct-object-reference&t=Starbox%20%E2%80%93%20the%20Author%20Box%20for%20Humans%20%3C%3D%203.4.7%20-%20Insecure%20Direct%20Object%20Reference "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstarbox%2Fstarbox-the-author-box-for-humans-347-insecure-direct-object-reference&text=Starbox%20%E2%80%93%20the%20Author%20Box%20for%20Humans%20%3C%3D%203.4.7%20-%20Insecure%20Direct%20Object%20Reference "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fstarbox%2Fstarbox-the-author-box-for-humans-347-insecure-direct-object-reference "LinkedIn")
Email

## Vulnerability Details for Starbox – the Author Box for Humans

#### [Starbox – the Author Box for Humans](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/starbox)

| Software Type | Plugin |
| --- | --- |
| Software Slug | starbox [(view on wordpress.org)](https://wordpress.org/plugins/starbox) |
| Patched? | Yes |
| Remediation | Update to version 3.4.8, or a newer patched version |
| Affected Version | * <= 3.4.7 |
| Patched Version | * 3.4.8 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_d81dbe14_20250111_103202.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3028775%2Fstarbox%2Ftrunk%3Fcontextall%3D1%26old%3D3000701%26old_path%3D%252Fstarbox%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3000701/starbox/trunk?old=3028775&old_path=%2Fstarbox%2Ftrunk)

---

# Changes in [starbox/trunk](/browser/starbox/trunk?rev=3028775 "Show entry in browser") [[3000701:3028775]](/log/starbox/trunk?rev=3028775&stop_rev=3000701 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[starbox/trunk](/browser/starbox/trunk?rev=3028775)
Files:

4 edited

* [core/UserSettings.php](/browser/starbox/trunk/core/UserSettings.php?rev=3028775 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [readme.txt](/browser/starbox/trunk/readme.txt?rev=3028775 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [starbox.php](/browser/starbox/trunk/starbox.php?rev=3028775 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [uninstall.php](/browser/starbox/trunk/uninstall.php?rev=3028775 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [starbox/trunk/core/UserSettings.php](/changeset/3028775/starbox/trunk/core/UserSettings.php?old=2964031&old_path=starbox%2Ftrunk%2Fcore%2FUserSettings.php "Show the [3000701:3028775] differences restricted to starbox/trunk/core/UserSettings.php")

  | [r3000701](/browser/starbox/trunk/core/UserSettings.php?rev=2964031#L1 "Show revision 3000701 of this file in browser") | [r3028775](/browser/starbox/trunk/core/UserSettings.php?rev=3028775#L1 "Show revision 3028775 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php defined('ABSPATH') || die('Cheatin\' uh?'); ?> |
  | 2 | 2 | <?php |
  | 3 | 3 |  |
  | 4 | 4 | /\*\* |
  | 5 | 5 | \* Affiliate settings |
  | 6 | 6 | \*/ |
  | 7 | 7 | class ABH\_Core\_UserSettings extends ABH\_Classes\_BlockController { |
  | 8 | 8 |  |
  | 9 | 9 | public $user; |
  | 10 | 10 | public $author = array(); |
  | 11 | 11 | public $themes = array(); |
  | 12 | 12 |  |
  | 13 | 13 | public function init($user = null) { |
  | 14 | 14 | $this->user = $user; |
  | 15 | 15 |  |
  | 16 | 16 | if (isset($this->user->ID)) |
  | 17 | 17 | $this->author = ABH\_Classes\_Tools::getOption('abh\_author' . $this->user->ID); |
  | 18 | 18 |  |
  | 19 | 19 | $default = array( |
  | 20 | 20 | 'abh\_use' => 1, |
  | 21 | 21 | 'abh\_nofollow\_social' => 1, |
  | 22 | 22 | 'abh\_noopener\_social' => 0, |
  | 23 | 23 | 'abh\_noreferrer\_social' => 0, |
  | 24 | 24 | // -- |
  | 25 | 25 | 'abh\_title' => "", |
  | 26 | 26 | 'abh\_company' => "", |
  | 27 | 27 | 'abh\_company\_url' => "", |
  | 28 | 28 | 'abh\_extra\_description' => "", |
  | 29 | 29 | // -- |
  | 30 | 30 | 'abh\_socialtext' => "", |
  | 31 | 31 | 'abh\_twitter' => "", |
  | 32 | 32 | 'abh\_facebook' => "", |
  | 33 | 33 | 'abh\_google' => "", |
  | 34 | 34 | 'abh\_linkedin' => "", |
  | 35 | 35 | 'abh\_instagram' => "", |
  | 36 | 36 | 'abh\_flickr' => "", |
  | 37 | 37 | 'abh\_pinterest' => "", |
  | 38 | 38 | 'abh\_tumblr' => "", |
  | 39 | 39 | 'abh\_youtube' => "", |
  | 40 | 40 | 'abh\_vimeo' => "", |
  | 41 | 41 | 'abh\_klout' => "", |
  | 42 | 42 | 'abh\_gravatar' => "", |
  | 43 | 43 | 'abh\_theme' => "default", |
  | 44 | 44 | 'abh\_position' => "default", |
  | 45 | 45 | ); |
  | 46 | 46 |  |
  | 47 | 47 | if (!isset($this->author) || empty($this->author)) { |
  | 48 | 48 | $this->author = $default; |
  | 49 | 49 | }else{ |
  | 50 | 50 | $this->author = @array\_merge($default,$this->author); |
  | 51 | 51 |  |
  | 52 | 52 | } |
  | 53 | 53 |  |
  | 54 | 54 | $this->themes = @array\_merge(array('default'), ABH\_Classes\_Tools::getOption('abh\_themes')); |
  | 55 | 55 |  |
  | 56 | 56 | parent::init(); |
  | 57 | 57 | } |
  | 58 | 58 |  |
  | 59 | 59 | public function action() { |
  | 60 | 60 | switch (ABH\_CLasses\_Tools::getValue('action')) { |
  | 61 | 61 | //Update the user data in User Profile |
  | 62 | 62 | case 'update': |
  | 63 | 63 | case 'createuser': |
  | 64 |  | $user\_id = ABH\_CLasses\_Tools::getValue('user\_id'); |
  |  | 64 | $user\_id = (int)ABH\_CLasses\_Tools::getValue('user\_id'); |
  |  | 65 |  |
  |  | 66 | if(get\_current\_user\_id() <> $user\_id){ |
  |  | 67 | return; |
  |  | 68 | } |
  | 65 | 69 |  |
  | 66 | 70 | //Get the default settings |
  | 67 | 71 | $settings = ABH\_Classes\_Tools::getOption('abh\_author' . $user\_id); |
  | 68 | 72 |  |
  | 69 | 73 | $settings['abh\_use'] = (int)ABH\_CLasses\_Tools::getValue('abh\_use'); |
  | 70 | 74 | $settings['abh\_nofollow\_social'] = (int)ABH\_CLasses\_Tools::getValue('abh\_nofollow\_social'); |
  | 71 | 75 | $settings['abh\_noopener\_social'] = (int)ABH\_CLasses\_Tools::getValue('abh\_noopener\_social'); |
  | 72 | 76 | $settings['abh\_noreferrer\_social'] = (int)ABH\_CLasses\_Tools::getValue('abh\_noreferrer\_social'); |
  | 73 | 77 |  |
  | 74 | 78 | $settings['abh\_title'] = ABH\_CLasses\_Tools::getValue('abh\_title'); |
  | 75 | 79 | $settings['abh\_company'] = ABH\_CLasses\_Tools::getValue('abh\_company'); |
  | 76 | 80 | $settings['abh\_company\_url'] = ABH\_CLasses\_Tools::getValue('abh\_company\_url'); |
  | 77 | 81 | if (isset($\_POST['abh\_extra\_description'])) { |
  | 78 | 82 | $allowed\_html = array( |
  | 79 | 83 | 'a' => array('href' => array(), 'target' => array(), 'title' => array(), 'style' => array(), 'class' => array()), |
  | 80 | 84 | 'img' => array('src' => array(), 'alt' => array(), 'style' => array(), 'class' => array()), |
  | 81 | 85 | 'br' => array(), 'p' => array(), |
  | 82 | 86 | 'em' => array(), 'b' => array(), 'strong' => array(), |
  | 83 | 87 | 'h2' => array(), 'h3' => array(), 'h4' => array(), 'h5' => array(), 'h6' => array(), |
  | 84 | 88 | ); |
  | 85 | 89 |  |
  | 86 | 90 | $settings['abh\_extra\_description'] = wp\_unslash(trim(wp\_kses($\_POST['abh\_extra\_description'], $allowed\_html))); |
  | 87 | 91 | } |
  | 88 | 92 | // -- |
  | 89 | 93 |  |
  | 90 | 94 | $settings['abh\_socialtext'] = ABH\_CLasses\_Tools::getValue('abh\_socialtext'); |
  | 91 | 95 | $settings['abh\_twitter'] = ABH\_CLasses\_Tools::getValue('abh\_twitter'); |
  | 92 | 96 | $settings['abh\_facebook'] = ABH\_CLasses\_Tools::getValue('abh\_facebook'); |
  | 93 | 97 | $settings['abh\_google'] = ABH\_CLasses\_Tools::getValue('abh\_google'); |
  | 94 | 98 | $settings['abh\_linkedin'] = ABH\_CLasses\_Tools::getValue('abh\_linkedin'); |
  | 95 | 99 | $settings['abh\_instagram'] = ABH\_CLasses\_Tools::getValue('abh\_instagram'); |
  | 96 | 100 | $settings['abh\_flickr'] = ABH\_CLasses\_Tools::getValue('abh\_flickr'); |
  | 97 | 101 | $settings['abh\_pinterest'] = ABH\_CLasses\_Tools::getValue('abh\_pinterest'); |
  | 98 | 102 | $settings['abh\_tumblr'] = ABH\_CLasses\_Tools::getValue('abh\_tumblr'); |
  | 99 | 103 | $settings['abh\_youtube'] = ABH\_CLasses\_Tools::getValue('abh\_youtube'); |
  | 100 | 104 | $settings['abh\_vimeo'] = ABH\_CLasses\_Tools::getValue('abh\_vimeo'); |
  | 101 | 105 |  |
  | 102 | 106 | // -- |
  | 103 | 107 | $settings['abh\_theme'] = ABH\_CLasses\_Tools::getValue('abh\_theme'); |
  | 104 | 108 | $settings['abh\_position'] = ABH\_CLasses\_Tools::getValue('abh\_position'); |
  | 105 | 109 |  |
  | 106 | 110 | /\* if there is an icon to upload \*/ |
  | 107 | 111 | if (isset($\_FILES['abh\_gravatar']['name']) && $\_FILES['abh\_gravatar']['name'] <> '') { |
  | 108 | 112 | $return = $this->model->addImage($\_FILES['abh\_gravatar']); |
  | 109 | 113 | if ($return['name'] <> '') |
  | 110 | 114 | $settings['abh\_gravatar'] = $return['name']; |
  | 111 | 115 | if ($return['message'] <> '') |
  | 112 | 116 | define('ABH\_MESSAGE\_FAVICON', $return['message']); |
  | 113 | 117 | } |
  | 114 | 118 | //////////////////////////////////// |
  | 115 | 119 |  |
  | 116 | 120 | if (ABH\_CLasses\_Tools::getValue('abh\_resetgravatar') == 1) { |
  | 117 | 121 | $settings['abh\_gravatar'] = ''; |
  | 118 | 122 | } |
  | 119 | 123 |  |
  | 120 | 124 | ABH\_Classes\_Tools::saveOptions('abh\_author' . $user\_id, $settings); |
  | 121 | 125 |  |
  | 122 | 126 | ABH\_Classes\_Tools::emptyCache(); |
  | 123 | 127 |  |
  | 124 | 128 | ABH\_Classes\_Tools::checkErrorSettings(); |
  | 125 | 129 | /\* Force call of error display \*/ |
  | 126 | 130 | ABH\_Classes\_ObjController::getController('ABH\_Classes\_Error')->hookNotices(); |
  | 127 | 131 |  |
  | 128 | 132 | break; |
  | 129 | 133 |  |
  | 130 | 134 | case 'abh\_get\_box': |
  | 131 |  | $user\_id = ABH\_CLasses\_Tools::getValue('user\_id'); |
  |  | 135 | $user\_id = (int)ABH\_CLasses\_Tools::getValue('user\_id'); |
  | 132 | 136 | $theme = ABH\_CLasses\_Tools::getValue('abh\_theme'); |
  | 133 | 137 |  |
  |  | 138 | if(get\_current\_user\_id() <> $user\_id){ |
  |  | 139 | return; |
  |  | 140 | } |
  | 134 | 141 |  |
  | 135 | 142 | ABH\_CLasses\_Tools::setOption('abh\_titlefontsize', ABH\_CLasses\_Tools::getValue('abh\_titlefontsize', 'default')); |
  | 136 | 143 | ABH\_CLasses\_Tools::setOption('abh\_descfontsize', ABH\_CLasses\_Tools::getValue('abh\_descfontsize', 'default')); |
  | 137 | 144 |  |
  | 138 | 145 | if ($theme == 'default') |
  | 139 | 146 | $theme = ABH\_Classes\_Tools::getOption('abh\_theme'); |
  | 140 | 147 |  |
  | 141 | 148 | $str = ''; |
  | 142 | 149 | $str .= '<script type="text/javascript" src="' . \_ABH\_ALL\_THEMES\_URL\_ . $theme . '/js/frontend.js?ver=' . ABH\_VERSION . '"></script>'; |
  | 143 | 150 | $str .= '<link rel="stylesheet"  href="' . \_ABH\_ALL\_THEMES\_URL\_ . $theme . '/css/frontend.css?ver=' . ABH\_VERSION . '" type="text/css" media="all" />'; |
  | 144 | 151 | $str .= ABH\_Classes\_ObjController::getController('ABH\_Controllers\_Frontend')->showBox($user\_id); |
  | 145 | 152 |  |
  | 146 | 153 | ABH\_Classes\_Tools::setHeader('json'); |
  | 147 | 154 | echo json\_encode(array('box' => $str)); |
  | 148 | 155 | exit(); |
  | 149 | 156 | } |
  | 150 | 157 | } |
  | 151 | 158 |  |
  | 152 | 159 | } |
* ## [starbox/trunk/readme.txt](/changeset/3028775/starbox/trunk/readme.txt?old=2995147&old_path=starbox%2Ftrunk%2Freadme.txt "Show the [3000701:3028775] differences restricted to starbox/trunk/readme.txt")

  | [r3000701](/browser/starbox/trunk/readme.txt?rev=2995147#L1 "Show revision 3000701 of this file in browser") | [r3028775](/browser/starbox/trunk/readme.txt?rev=3028775#L1 "Show revision 3028775 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | ﻿==== Starbox - the Author Box for Humans ==== |
  | 2 | 2 | Contributors: cifi, calinvingan, florinmuresan |
  | 3 | 3 | Tags: author,author box,author profile fields,author social icons,bio,profile fields, |
  | 4 | 4 | Requires at least: 4.3 |
  | 5 | 5 | Tested up to: 6.4 |
  | 6 | 6 | Requires PHP: 7.0 |
  | 7 | 7 | Stable tag: trunk |
  | 8 | 8 | Donate link:  http://starbox.squirrly.co/starbox-the-author-box-for-humans/ |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | 11 | 11 |  |
  | 12 | 12 | Starbox is the Author Box for Humans. Professional Themes to choose from, HTML5, Social Media Profiles, Google Authorship |
  | 13 | 13 |  |
  | 14 | 14 | == Description == |
  | 15 | 15 | \*\*How Do I Get Support For This Plugin?\*\* |
  | 16 | 16 | If you want more Social Icons and Premium Support, that also comes with High Priority, go to: |
  | 17 | 17 | http://starbox.squirrly.co/product/starbox-the-author-box-for-humans/ |
  | 18 | 18 | We added new features in the PRO version like: keep the user custom image in all the site |
  | 19 | 19 |  |
  | 20 | 20 | \*\*Starbox is the Author Box for Humans\*\* |
  | 21 | 21 | While search engines and other software that read your site care about files like robots.txt, you need Human readers to actually engage with your content and fall in love with it. |
  | 22 | 22 |  |
  | 23 | 23 | Humans look at beauty more than anything else (as you most probably already know, men and women alike). That's why you'll get an <strong>Author Box that's gorgeous to look at and it makes your readers click all the way through</strong> to see more about the Authors. |
  | 24 | 24 |  |
  | 25 | 25 | Now, if you have just yourself as an Author on your site, or a super-star team of Authors, you'll love Starbox. You can <strong>choose from the professionaly built themes and landscaping</strong>. If you are the super-star type, or want to boost social proof, place your Author Box on top of the page, so that your Human readers will know that they're reading stuff that a real awesome person has written. |
  | 26 | 26 |  |
  | 27 | 27 | You want the classy, bottom-of-the-page Author Box? You can choose that one as well. |
  | 28 | 28 |  |
  | 29 | 29 | And if your star Authors want different things, satisfy their needs by allowing them to place their Author Box at the top or bottom, with the default theme, or a better looking one. You can make each of them shine in their own way. |
  | 30 | 30 |  |
  | 31 | 31 | The <strong>Social Profiles</strong> of your writers will be obvious and clickable, getting you Humans that will engage with content on your blog and also on your social media streams. |
  | 32 | 32 |  |
  | 33 | 33 | Because your authors are stars or will be very soon, <strong>Google Authorship and Facebook Authorship</strong> are here for them with Starbox, and it's just type->click->boom! to set up. Amazingly easy. |
  | 34 | 34 |  |
  | 35 | 35 | Are you afraid of having to spend too much time setting Starbox up? Don't worry. You're covered by our "For Humans" guarantee. With NO coding or complicated menus whatsoever, you'll set your Author Box in a matter of minutes. And since we took a lot of care regarding all the coding, it will work well and you won't have to worry about that. |
  | 36 | 36 |  |
  | 37 | 37 | You'll build up some good social proof, you'll give your Human readers a sense of quality and they'll be happy to return for more (which will help you with the search engines who track your site). |
  | 38 | 38 |  |
  | 39 | 39 | If you're doing the tech stuff on your site or want to know what Starbox's inner workings are all about, here's a list: |
  | 40 | 40 |  |
  | 41 | 41 |  |
  | 42 | 42 | \* HTML 5 |
  | 43 | 43 | \* Google Microformats (vCard), to display Rich Snippets in google search results |
  | 44 | 44 | \* Easy to customize for each Author |
  | 45 | 45 | \* You'll get Google Authorship on your hands :-) For all your authors. |
  | 46 | 46 | \* Have it work only on blog posts, only on pages, or both! |
  | 47 | 47 | \* Links to the social media profiles of your authors: Facebook, Twitter,  Google+, LinkedIN, Instagram, Flickr, Pinterest, Tumblr, Youtube, Vimeo |
  | 48 | 48 | \* Each of your Authors can have a different set of social media profiles added |
  | 49 | 49 | \* Links to all the articles written by that author |
  | 50 | 50 | \* A section that displays the latest posts of a certain author |
  | 51 | 51 | \* Themes to choose from |
  | 52 | 52 | \* Themes setup for each individual Author, to really make them shine |
  | 53 | 53 | \* You Can set the Name of the Author |
  | 54 | 54 | \* You Can set the Job Title of each Author |
  | 55 | 55 | \* Can set Company (with a link to the company's site) |
  | 56 | 56 | \* Each Author can make the Author Box look like it's her own |
  | 57 | 57 | \* You can choose not to display it for certain authors |
  | 58 | 58 | \* Removes any other author box from the page, so that there aren't duplicates |
  | 59 | 59 | \* Enables you to upload your own image (so that you won't need a Gravatar) |
  | 60 | 60 | \* Paragraphs in the Author Bio to have a better looking text |
  | 61 | 61 | \* Displays the Author Box in the special pages built for each author. |
  | 62 | 62 | \* Special Pages for your authors |
  | 63 | 63 | \* Works even with sites that have woocommerce or other ecommerce plugins |
  | 64 | 64 | \* Add Starbox in your post's content or wordpress widgets using the shortcode [starbox] or [starbox id=USER\_ID] |
  | 65 | 65 |  |
  | 66 | 66 | So get your very own Starbox now: |
  | 67 | 67 |  |
  | 68 | 68 | 1. Your Authors will become real Stars |
  | 69 | 69 | 2. Your readers will notice the persons behind the articles better |
  | 70 | 70 | 3. It increases your social proof and credibility as an Author |
  | 71 | 71 | 4. It will increase the subscriber numbers across social media channels |
  | 72 | 72 | 5. Your readers will feel like they know you better and feel a connection, so they'll return more often |
  | 73 | 73 | 6. You know that right now for Google it matters a lot that you have returning visitors (because it means your site is: quality) |
  | 74 | 74 | 7. You'll get Google Authorship on your hands :-) For all your authors. |
  | 75 | 75 |  |
  | 76 | 76 | Download it from the Wordpress directory and try it out. Having an author box after posts will certainly increase engagement and help your authors grow their authority on the web. |
  | 77 | 77 |  |
  | 78 | 78 | === Installation === |
  | 79 | 79 | 1. Log In as an Admin on your Wordpress blog. |
  | 80 | 80 | 2. In the menu displayed on the left, there is a "Plugins" tab. Click it. |
  | 81 | 81 | 3. Now click "Add New". |
  | 82 | 82 | 4. There, you have the buttons: "Search | Upload | Featured | Popular | Newest". Click "Upload". |
  | 83 | 83 | 5. Upload the starbox.zip file. |
  | 84 | 84 | 6. After the upload is finished, click Activate Plugin. |
  | 85 | 85 | 7. Done :-) You'll see that this is as advertized. |
  | 86 | 86 |  |
  | 87 | 87 | == Screenshots == |
  | 88 | 88 | 1. Author Box with Business Theme |
  | 89 | 89 | 2. Author Bio Box with Business Theme |
  | 90 | 90 | 3. Author Box Settings |
  | 91 | 91 | 4. Author Box Settings for each Author |
  | 92 | 92 | 5. Author Box Social Settings |
  | 93 | 93 | 6. Author Box with Drop-Down Theme |
  | 94 | 94 | 7. Author Box with Drop-Down Theme |
  | 95 | 95 | 8. Author Box with Drop-Down Theme |
  | 96 | 96 | 9. Google Rich Snippets with the author's image |
  | 97 | 97 | 10. Google Rich Snippets with the author's image |
  | 98 | 98 | 11. Author Box with TopStar Theme |
  | 99 | 99 | 12. Author Box with TopStar Theme |
  | 100 | 100 | 13. Author Box with Drop-Down Theme |
  | 101 | 101 | 14. Author Box with Drop-Down Theme |
  | 102 | 102 | 15. Author Box with Fancy Theme |
  | 103 | 103 | 16. Author Box with Drop-Down Theme |
  | 104 | 104 |  |
  | 105 | 105 | == Changelog == |
  |  | 106 | = 3.4.9 = |
  |  | 107 | \* Update security on User setting |
  |  | 108 | \* Fixed Small Bugs |
  |  | 109 |  |
  |  | 110 | = 3.4.8 = |
  |  | 111 | \* Update compatibility with PHP 8.3 |
  |  | 112 | \* Update compatibility with WP 6.4.1 |
  |  | 113 |  |
  | 106 | 114 | = 3.4.7 = |
  | 107 | 115 | \* Updated the social icons as fontawesome |
  | 108 | 116 | \* Updated the twitter icon |
  | 109 | 117 | \* Update compatibility with PHP 8.2 |
  | 110 | 118 | \* Update compatibility with WP 6.4 |
  | 111 | 119 |  |
  | 112 | 120 | = 3.4.6 = |
  | 113 | 121 | \* Added compatibility with PHP 8.1, 8.2 |
  | 114 | 122 |  |
  | 115 | 123 | = 3.4.5 = |
  | 116 | 124 | \* Added compatibility with WP 6.1.x |
  | 117 | 125 |  |
  | 118 | 126 | = 3.4.4 = |
  | 119 | 127 | \* Added hooks for profile image "abh\_author\_profile\_image" to load different images for an author |
  | 120 | 128 | \* Added hooks for latest posts query "abh\_author\_latest\_posts" to add custom query in the Latest Posts section |
  | 121 | 129 | \* Added compatibility with WP 5.8.x |
  | 122 | 130 |  |
  | 123 | 131 | = 3.4.3 = |
  | 124 | 132 | \* Added compatibility with WP 5.7.2 |
  | 125 | 133 |  |
  | 126 | 134 | = 3.4.2 = |
  | 127 | 135 | \* Fixed the wp-content URL when WP\_CONTENT\_URL is defined and UPLOAD is not custom |
  | 128 | 136 | \* Added compatibility with WP 5.5.1 |
  | 129 | 137 |  |
  | 130 | 138 | = 3.4.0 = |
  | 131 | 139 | \* Added compatibility with WP 5.5 |
  | 132 | 140 | \* Added compatibility with custom UPLOAD paths |
  | 133 | 141 |  |
  | 134 | 142 | = 3.3.4 = |
  | 135 | 143 | \* Load jQuery if not queued |
  | 136 | 144 | \* Added Compatilibty with more WP themes |
  | 137 | 145 | \* Author Box Compatible with WordPress 5.4.1 |
  | 138 | 146 |  |
  | 139 | 147 | = 3.3.3 = |
  | 140 | 148 | \* Author Box Compatible with WordPress 5.4 |
  | 141 | 149 | \* Fixed the images issue in frontend |
  | 142 | 150 | \* Fixed the Dropbox CSS issue with the new tags |
  | 143 | 151 |  |
  | 144 | 152 | = 3.3.2 = |
  | 145 | 153 | \* Removed header H3 and H4 from Author Box |
  | 146 | 154 | \* Hide duplicate author box from more themes |
  | 147 | 155 |  |
  | 148 | 156 | = 3.3.1 = |
  | 149 | 157 | \* Updated view for default theme |
  | 150 | 158 | \* Don't show authors on api request |
  | 151 | 159 | \* Fixed warnings when user doesn't have Bio |
  | 152 | 160 |  |
  | 153 | 161 | = 3.3.0 = |
  | 154 | 162 | \* Added the Author Schema for 2020 in vcard |
  | 155 | 163 | \* CSS compatibility update for more themes |
  | 156 | 164 |  |
  | 157 | 165 | = 3.2.9 = |
  | 158 | 166 | \* Compatible with WordPress 5.3.2 |
  | 159 | 167 |  |
  | 160 | 168 | = 3.2.8 = |
  | 161 | 169 | \* Compatible with WordPress 5.3.1 |
  | 162 | 170 | \* Added noopener and noreferrer options for social media links |
  | 163 | 171 | \* Fixed compatibility with PHP 7.4 |
  | 164 | 172 |  |
  | 165 | 173 | = 3.2.8 = |
  | 166 | 174 | \* Compatible with WordPress 5.3 |
  | 167 | 175 | \* Fixed the wp-content/uploads URL error for HTTPS websites. |
  | 168 | 176 | \* Update the shortcode with order and orderby params |
  | 169 | 177 |  |
  | 170 | 178 | = 3.2.6 = |
  | 171 | 179 | \* Compatible with WordPress 5.2.1 |
  | 172 | 180 |  |
  | 173 | 181 | = 3.2.5 = |
  | 174 | 182 | \* Fixed the Image upload when the PHP gd extension is missing |
  | 175 | 183 |  |
  | 176 | 184 | = 3.2.4 = |
  | 177 | 185 | \* Added ABH\_AUTHORLINK constant to hide the author link |
  | 178 | 186 | \* Added ABH\_IMAGESIZE constant to set the author image size |
  | 179 | 187 |  |
  | 180 | 188 | = 3.2.3 = |
  | 181 | 189 | \* Changes the resize image to 250px |
  | 182 | 190 | \* Compatible with WordPress 5.1.1 |
  | 183 | 191 |  |
  | 184 | 192 | = 3.2.2 = |
  | 185 | 193 | \* Added target option in links |
  | 186 | 194 | \* Compatible with WordPress 5.1 |
  | 187 | 195 |  |
  | 188 | 196 | = 3.2.1 = |
  | 189 | 197 | \* Compatible with WordPress 5.0.3 |
  | 190 | 198 | \* Fixed image upload for gravatar when image has caps chars in the file name |
  | 191 | 199 |  |
  | 192 | 200 | = 3.2.0 = |
  | 193 | 201 | \* Compatible with WordPress 5.0 |
  | 194 | 202 | \* Fixed gravatar directory in case there are no write permissions in uploads dir |
  | 195 | 203 | \* Fixed CSS issue and compatibilities with more themes |
  | 196 | 204 |  |
  | 197 | 205 | = 3.1.9 = |
  | 198 | 206 | \* Fixed drop-down see all click event |
  | 199 | 207 |  |
  | 200 | 208 | = 3.1.8  = |
  | 201 | 209 | \* Compatible with more theme and plugins |
  | 202 | 210 | \* Fixed small bugs for PHP 7.2 |
  | 203 | 211 | \* Added Nofollow for author URL |
  | 204 | 212 |  |
  | 205 | 213 | = 3.1.6  = |
  | 206 | 214 | \* Update Starbox CSS loading conflict |
  | 207 | 215 | \* Fixed the Error: Warning: Invalid argument supplied for foreach() in /home/xxxxx/public\_html/wp-content/plugins/starbox/classes/ObjController.php on line 146 |
  | 208 | 216 | \* Fixed the Error: Starbox Note: No file was uploaded |
  | 209 | 217 |  |
  | 210 | 218 | = 3.1.5  = |
  | 211 | 219 | \* Fixed the shortcode for Starbox |
  | 212 | 220 |  |
  | 213 | 221 | = 3.1.4  = |
  | 214 | 222 | \* Fixed the loading image issue for new posts |
  | 215 | 223 | \* Updated the GDPR Terms |
  | 216 | 224 |  |
  | 217 | 225 | = 3.1.3  = |
  | 218 | 226 | \* Removed Klout Social Channel |
  | 219 | 227 |  |
  | 220 | 228 | = 3.1.2  = |
  | 221 | 229 | \* Added security filters on Settings saved |
  | 222 | 230 | \* Updated the Profile Upload Image process |
  | 223 | 231 | \* Compatible with WP 4.9.6 |
  | 224 | 232 |  |
  | 225 | 233 | = 3.1.1  = |
  | 226 | 234 | \* Let BIO with links in Custom Author Bio |
  | 227 | 235 | \* Compatible with WP 4.9.4 |
  | 228 | 236 |  |
  | 229 | 237 | = 3.1.0  = |
  | 230 | 238 | \* Fixed security issues with param sanitize |
  | 231 | 239 | \* Fixed the nonce issue on save settings |
  | 232 | 240 |  |
  | 233 | 241 | = 3.0.8  = |
  | 234 | 242 | \* Compatible with Woocommerce 3 |
  | 235 | 243 | \* Compatible with WP 4.8.2 |
  | 236 | 244 |  |
  | 237 | 245 | = 3.0.6  = |
  | 238 | 246 | \* Compatible with Woocommerce 3 |
  | 239 | 247 | \* Compatible with WP 4.7.3 |
  | 240 | 248 | \* Compatible with more WP Themes |
  | 241 | 249 |  |
  | 242 | 250 | = 3.0.5  = |
  | 243 | 251 | \* Fixed css issues |
  | 244 | 252 |  |
  | 245 | 253 | == Changelog == |
  | 246 | 254 | = 3.0.4  = |
  | 247 | 255 | \* Compatible with WP 4.6 |
  | 248 | 256 |  |
  | 249 | 257 | = 3.0.3 = |
  | 250 | 258 | \* Added the Brazilian Portuguese Language by Anderson Blaine |
  | 251 | 259 | \* Added styles for more themes |
  | 252 | 260 | \* Compatible with WP 4.3 |
  | 253 | 261 |  |
  | 254 | 262 | = 3.0.2 = |
  | 255 | 263 | \* Compatible with WP 4.1.1 |
  | 256 | 264 | \* Fix link tag close duplicates |
  | 257 | 265 | \* Added some theme compatibilities |
  | 258 | 266 |  |
  | 259 | 267 | = 3.0.1 = |
  | 260 | 268 | \* Compatible with WP 4.0.1 |
  | 261 | 269 |  |
  | 262 | 270 | = 3.0.0 = |
  | 263 | 271 | \* Made changed according to GPL 2.0 |
  | 264 | 272 |  |
  | 265 | 273 | = 2.2.0 = |
  | 266 | 274 | \* Compatible with WP 4.0 |
  | 267 | 275 | \* Fixed various bugs |
  | 268 | 276 |  |
  | 269 | 277 | = 2.1.4 = |
  | 270 | 278 | \* Compatible with WP 3.9.2 |
  | 271 | 279 |  |
  | 272 | 280 | = 2.1.3 = |
  | 273 | 281 | \* Fixed css and js loading issues for many different themes |
  | 274 | 282 | \* Fixed repeated header section |
  | 275 | 283 |  |
  | 276 | 284 | = 2.1.2 = |
  | 277 | 285 | \* Compatible with WP 3.9.1 |
  | 278 | 286 |  |
  | 279 | 287 | = 2.1.1 = |
  | 280 | 288 | \* Removed Author Box from products that you may have in Woocommerce when only posts are set to have the author box displayed (you can do this in settings) |
  | 281 | 289 |  |
  | 282 | 290 | = 2.1.0 = |
  | 283 | 291 | \* Compatible with WP 3.9 |
  | 284 | 292 |  |
  | 285 | 293 | = 2.0.5 = |
  | 286 | 294 | \* Fixed Klout score issue |
  | 287 | 295 |  |
  | 288 | 296 | = 2.0.4 = |
  | 289 | 297 | \* Fixed hook bugs for preview and frontend |
  | 290 | 298 | \* Update css on the author box plugin for some themes |
  | 291 | 299 | \* Fixed small bugs for Font size option |
  | 292 | 300 | \* Works with W3 Total Cache and Super Cache |
  | 293 | 301 |  |
  | 294 | 302 | = 2.0.3 = |
  | 295 | 303 | \* Added Font Size option for the name and description |
  | 296 | 304 |  |
  | 297 | 305 | = 2.0.2 = |
  | 298 | 306 | \* fixed show latest posts for shortcodes |
  | 299 | 307 | \* added show latest posts from specific category in shortcode [starbox lpc="category id"] or [starbox lpc="category name"] |
  | 300 | 308 |  |
  | 301 | 309 | = 2.0.1 = |
  | 302 | 310 | \* Fixed css for more themes |
  | 303 | 311 | \* Fixed hide from all posts in WP 3.8.1 issue |
  | 304 | 312 | \* Added French Translation by D SIGNED |
  | 305 | 313 |  |
  | 306 | 314 | = 2.0.0 = |
  | 307 | 315 | \* Fixed loading issues |
  | 308 | 316 | \* Compatible with Wordpress 3.8 |
  | 309 | 317 | \* Fixed css for different themes and for Wordpress 3.8 |
  | 310 | 318 |  |
  | 311 | 319 | == Frequently Asked Questions == |
  | 312 | 320 | = Why is there no meta for google and facebook authorship? = |
  | 313 | 321 | You have to fill the google and facebook social accounts in your profile and it will show up. |
  | 314 | 322 |  |
  | 315 | 323 | = How Do I Get Support For This Plugin? = |
  | 316 | 324 | We're following the threads and based on them we always try to build up new and better implementations for the Author Box for Humans. If you want Premium Support, that also comes with High Priority, then go to: |
  | 317 | 325 | http://starbox.squirrly.co/product/starbox-the-author-box-for-humans/ |
  | 318 | 326 |  |
  | 319 | 327 | = How Do I Make Sure I Get Priority Support From Buying The Recommended Version? = |
  | 320 | 328 | It will help you have a premium email from us, on which you can get super-fast support. |
  | 321 | 329 | http://starbox.squirrly.co/product/starbox-the-author-box-for-humans/ |
  | 322 | 330 | After you buy it, it will show you the email on which you can write to us for Premium and Fast Support |
  | 323 | 331 |  |
  | 324 | 332 | =  How can I call (display) the author box in a post or widget?  = |
  | 325 | 333 | Just add <strong>[starbox]</strong> or <strong>[starbox id="login\_name"]</strong> in your post or widget.. |
  | 326 | 334 | You can also add different description for the author box, by adding <strong>[starbox id="login\_name" desc="custom description" ]</strong> |
  | 327 | 335 | And more than that, you can add a default theme for author box <strong>[starbox id="login\_name" desc="custom description"  theme="business"]</strong> |
  | 328 | 336 |  |
  | 329 | 337 | =  How can i add multiple author boxes to a post?  = |
  | 330 | 338 | You can use startbox shortcode at the bottom of the content like this: |
  | 331 | 339 | [starbox id="john,david"] where john and david are the username of the authors |
  | 332 | 340 |  |
  | 333 | 341 | or |
  | 334 | 342 |  |
  | 335 | 343 | [starbox id="1,2,3..n"] where 1,2,3 .. n are the ID of the authors |
  | 336 | 344 |  |
  | 337 | 345 | = Is your team dedicated to this plugin? = |
  | 338 | 346 | You can count on it :-) Our team of 8 people over at Squirrly (registered in the UK) are focused on making both our wordpress seo plugin and our author box plugin the best there are. So far we succeeded in making them one of the most popular, because we listen to your feedback and you're the reason for their success. |
* ## [starbox/trunk/starbox.php](/changeset/3028775/starbox/trunk/starbox.php?old=2964031&old_path=starbox%2Ftrunk%2Fstarbox.php "Show the [3000701:3028775] differences restricted to starbox/trunk/starbox.php")

  | [r3000701](/browser/starbox/trunk/starbox.php?rev=2964031#L1 "Show revision 3000701 of this file in browser") | [r3028775](/browser/starbox/trunk/starbox.php?rev=3028775#L1 "Show revision 3028775 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php defined('ABSPATH') || die('Cheatin\' uh?'); ?> |
  | 2 | 2 | <?php |
  | 3 | 3 | /\* |
  | 4 | 4 | \*  Copyright (c) 2013-2023, Squirrly Limited. |
  | 5 | 5 | \*  The copyrights to the software code in this file are licensed under the (revised) BSD open source license. |
  | 6 | 6 | \* |
  | 7 | 7 | \*  Plugin Name: StarBox |
  | 8 | 8 | \*  Author: Squirrly UK |
  | 9 | 9 | \*  Description: Starbox is the Author Box for Humans. Professional Themes to choose from, HTML5, Social Media Profiles, Google Authorship |
  | 10 |  | \*  Version: 3.4.~~7~~ |
  |  | 10 | \*  Version: 3.4.9 |
  | 11 | 11 | \*  Author URI: https://www.squirrly.co/wordpress-seo-by-squirrly |
  | 12 | 12 | \*  License:     GPLv2 or later |
  | 13 | 13 | \*  License URI: http://www.gnu.org/licenses/old-licenses/gpl-2.0.html |
  | 14 | 14 | \*  Text Domain: starbox |
  | 15 | 15 | \*  Domain Path: /languages |
  | 16 | 16 | \* |
  | 17 | 17 | \* This program is free software; you can redistribute it and/or modify |
  | 18 | 18 | \* it under the terms of the GNU General Public License as published by |
  | 19 | 19 | \* the Free Software Foundation; either version 2 of the License, or |
  | 20 | 20 | \* (at your option) any later version. |
  | 21 | 21 | \* |
  | 22 | 22 | \* This program is distributed in the hope that it will be useful, |
  | 23 | 23 | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
  | 24 | 24 | \* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the |
  | 25 | 25 | \* GNU General Public License for more details. |
  | 26 | 26 | \*/ |
  | 27 | 27 |  |
  | 28 | 28 | /\* SET THE CURRENT VERSION ABOVE AND BELOW \*/ |
  | 29 |  | define('ABH\_VERSION', '3.4.~~7~~'); |
  |  | 29 | define('ABH\_VERSION', '3.4.9'); |
  | 30 | 30 |  |
  | 31 | 31 | if (!defined('ABHP\_VERSION')) { |
  | 32 | 32 |  |
  | 33 | 33 | /\* Call config files \*/ |
  | 34 | 34 | require(dirname(\_\_FILE\_\_) . '/config/config.php'); |
  | 35 | 35 |  |
  | 36 | 36 | /\* important to check the PHP version \*/ |
  | 37 | 37 | if (PHP\_VERSION\_ID >= 5100) { |
  | 38 | 38 | /\* inport main classes \*/ |
  | 39 | 39 | require\_once(\_ABH\_CLASSES\_DIR\_ . 'ObjController.php'); |
  | 40 | 40 | require\_once(\_ABH\_CLASSES\_DIR\_ . 'BlockController.php'); |
  | 41 | 41 |  |
  | 42 | 42 | /\* Main class call \*/ |
  | 43 | 43 | ABH\_Classes\_ObjController::getController('ABH\_Classes\_FrontController')->run(); |
  | 44 | 44 |  |
  | 45 | 45 | if (!is\_admin()) |
  | 46 | 46 | ABH\_Classes\_ObjController::getController('ABH\_Controllers\_Frontend'); |
  | 47 | 47 | } else { |
  | 48 | 48 | /\* Main class call \*/ |
  | 49 | 49 | add\_action('admin\_notices', array(ABH\_Classes\_ObjController::getController('ABH\_Classes\_FrontController'), 'phpVersionError')); |
  | 50 | 50 | } |
  | 51 | 51 |  |
  | 52 | 52 | // -- |
  | 53 | 53 |  |
  | 54 | 54 | // Upgrade StarBox call. |
  | 55 | 55 | register\_activation\_hook(\_\_FILE\_\_, 'abh\_upgrade'); |
  | 56 | 56 |  |
  | 57 | 57 | function abh\_upgrade() { |
  | 58 | 58 | set\_transient('abh\_upgrade', true, 30); |
  | 59 | 59 | } |
  | 60 | 60 | } |
  | 61 | 61 |  |
  | 62 | 62 |  |
* ## [starbox/trunk/uninstall.php](/changeset/3028775/starbox/trunk/uninstall.php?old=2995173&old_path=starbox%2Ftrunk%2Funinstall.php "Show the [3000701:3028775] differences restricted to starbox/trunk/uninstall.php")

  | [r3000701](/browser/starbox/trunk/uninstall.php?rev=2995173#L1 "Show revision 3000701 of this file in browser") | [r3028775](/browser/starbox/trunk/uninstall.php?rev=3028775#L1 "Show revision 3028775 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php defined('ABSPATH') || die('Cheatin\' uh?'); ?> |
  | 2 |  | ~~<?php~~ |
  | 3 | 2 |  |
  | 4 |  | ~~/\*\*~~ |
  | 5 |  | ~~\* Called on plugin uninstall~~ |
  | 6 |  | ~~\*/~~ |
  | 7 |  | ~~if (!defined('ABSPATH') && !defined('WP\_UNINSTALL\_PLUGIN'))~~ |
  | 8 |  | ~~exit();~~ |
  | 9 |  |  |
  | 10 |  |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3028775&old=3000701&new_path=%2Fstarbox%2Ftrunk&old_path=%2Fstarbox%2Ftrunk)
* [Zip Archive](?format=zip&new=3028775&old=3000701&new_path=%2Fstarbox%2Ftrunk&old_path=%2Fstarbox%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


