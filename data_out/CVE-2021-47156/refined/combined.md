=== Content from metacpan.org_88c99158_20250111_070327.html ===


* [About](/about)
* [Sponsor](/about/sponsors)
* [grep::cpan](https://grep.metacpan.org/)
* [Recent](/recent)
* [FAQ](/about/faq)
* [Tools](/tools)
* [API](https://fastapi.metacpan.org/)

* + [Identities](/account/identities)
  + [Profile](/account/profile)
  + [Favorites](/account/favorite/list)
  + Logout
* + [GitHub](/login/github)
  + [Twitter](/login/twitter)
  + [Google](/login/google)

* 11 Apr 2021 04:34:22 UTC
* [Browse](/dist/Net-IPAddress-Util/source) ([raw](/dist/Net-IPAddress-Util/source?raw=1))
* [Changes](/dist/Net-IPAddress-Util/changes)
* [How to Contribute](/dist/Net-IPAddress-Util/contribute)
* [Issues](https://rt.cpan.org/Public/Dist/Display.html?Name=Net-IPAddress-Util)
  (0)
* [Testers](http://matrix.cpantesters.org/?dist=Net-IPAddress-Util+5.001 "Matrix")
  ([275](https://www.cpantesters.org/distro/N/Net-IPAddress-Util.html?oncpan=1&distmat=1&version=5.001&grade=2) / [13](https://www.cpantesters.org/distro/N/Net-IPAddress-Util.html?oncpan=1&distmat=1&version=5.001&grade=3) / [0](https://www.cpantesters.org/distro/N/Net-IPAddress-Util.html?oncpan=1&distmat=1&version=5.001&grade=4))
* [Kwalitee](http://cpants.cpanauthors.org/release/PWBENNETT/Net-IPAddress-Util-5.001)
* Bus factor: 0
* [69.65% Coverage](http://cpancover.com/latest/Net-IPAddress-Util-5.001/index.html)
* License: perl\_5
* Perl: v5.12.0
* Activity
* ![](/dist/Net-IPAddress-Util/activity.svg?res=month)
  24 month
* Tools
* [Download (22.93KB)](https://cpan.metacpan.org/authors/id/P/PW/PWBENNETT/Net-IPAddress-Util-5.001.tar.gz)
* [MetaCPAN Explorer](https://explorer.metacpan.org/?url=%2Frelease%2FPWBENNETT%2FNet-IPAddress-Util-5.001)
* [Permissions](/dist/Net-IPAddress-Util/permissions)
* [Subscribe to distribution](/dist/Net-IPAddress-Util/releases.rss)
* Install Instructions
* Jump to version
  5.001
  (PWBENNETT on 2021-04-11)
  4.004
  (PWBENNETT on 2017-10-05)
  3.034
  (PWBENNETT on 2017-09-20)
  '
  5.000
  (PWBENNETT on 2021-04-05)
  4.003
  (PWBENNETT on 2017-10-05)
  4.002
  (PWBENNETT on 2017-10-04)
  4.001
  (PWBENNETT on 2017-09-22)
  4.000
  (PWBENNETT on 2017-09-21)
  3.033
  (PWBENNETT on 2017-08-31)
  3.032
  (PWBENNETT on 2017-08-31)
  3.031
  (PWBENNETT on 2017-08-18)
  3.030
  (PWBENNETT on 2017-08-18)
  3.029
  (PWBENNETT on 2017-08-17)
  3.028
  (PWBENNETT on 2017-08-17)
  3.027
  (PWBENNETT on 2016-04-13)
  3.026
  (PWBENNETT on 2016-04-07)
  3.025
  (PWBENNETT on 2016-03-30)
  3.024
  (PWBENNETT on 2016-03-30)
  3.022
  (PWBENNETT on 2015-03-21)
  3.021
  (PWBENNETT on 2015-02-18)
  3.020
  (PWBENNETT on 2015-01-11)
  3.019
  (PWBENNETT on 2015-01-11)
  3.018
  (PWBENNETT on 2014-09-30)
  3.017
  (PWBENNETT on 2014-09-30)
  3.016
  (PWBENNETT on 2014-09-30)
  3.015
  (PWBENNETT on 2014-09-30)
  3.014
  (PWBENNETT on 2014-09-27)
  3.013
  (PWBENNETT on 2014-09-27)
  3.012
  (PWBENNETT on 2014-09-26)
  3.011
  (PWBENNETT on 2014-09-24)
  3.010
  (PWBENNETT on 2014-09-24)
  3.003
  (PWBENNETT on 2014-06-14)
  3.002
  (PWBENNETT on 2014-06-10)
  3.001
  (PWBENNETT on 2014-04-29)
  3.000
  (PWBENNETT on 2013-11-02)
  1.500
  (PWBENNETT on 2013-11-01)
  2.004\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.003\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.002\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.001\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.000\_TRIAL
  (PWBENNETT on 2013-10-29)
  2.000
  (PWBENNETT on 2013-10-29)
  1.002
  (PWBENNETT on 2012-06-09)
  1.001
  (PWBENNETT on 2012-05-31)
  1.000
  (PWBENNETT on 2012-05-30)
  0.12
  (PWBENNETT on 2011-03-27)
  0.11
  (PWBENNETT on 2011-03-26)
  0.10
  (PWBENNETT on 2010-04-29)
  0.09
  (PWBENNETT on 2010-03-27)
  0.08
  (PWBENNETT on 2010-03-26)
  0.07
  (PWBENNETT on 2010-03-25)
  0.06
  (PWBENNETT on 2010-03-24)
  0.05
  (PWBENNETT on 2010-03-23)
  0.04
  (PWBENNETT on 2010-03-22)
  0.03
  (PWBENNETT on 2010-03-21)
  0.02
  (PWBENNETT on 2010-03-21)
  0.01
  (PWBENNETT on 2010-03-21)
* Diff with version
  5.001
  (PWBENNETT on 2021-04-11)
  4.004
  (PWBENNETT on 2017-10-05)
  3.034
  (PWBENNETT on 2017-09-20)
  '
  5.000
  (PWBENNETT on 2021-04-05)
  4.003
  (PWBENNETT on 2017-10-05)
  4.002
  (PWBENNETT on 2017-10-04)
  4.001
  (PWBENNETT on 2017-09-22)
  4.000
  (PWBENNETT on 2017-09-21)
  3.033
  (PWBENNETT on 2017-08-31)
  3.032
  (PWBENNETT on 2017-08-31)
  3.031
  (PWBENNETT on 2017-08-18)
  3.030
  (PWBENNETT on 2017-08-18)
  3.029
  (PWBENNETT on 2017-08-17)
  3.028
  (PWBENNETT on 2017-08-17)
  3.027
  (PWBENNETT on 2016-04-13)
  3.026
  (PWBENNETT on 2016-04-07)
  3.025
  (PWBENNETT on 2016-03-30)
  3.024
  (PWBENNETT on 2016-03-30)
  3.022
  (PWBENNETT on 2015-03-21)
  3.021
  (PWBENNETT on 2015-02-18)
  3.020
  (PWBENNETT on 2015-01-11)
  3.019
  (PWBENNETT on 2015-01-11)
  3.018
  (PWBENNETT on 2014-09-30)
  3.017
  (PWBENNETT on 2014-09-30)
  3.016
  (PWBENNETT on 2014-09-30)
  3.015
  (PWBENNETT on 2014-09-30)
  3.014
  (PWBENNETT on 2014-09-27)
  3.013
  (PWBENNETT on 2014-09-27)
  3.012
  (PWBENNETT on 2014-09-26)
  3.011
  (PWBENNETT on 2014-09-24)
  3.010
  (PWBENNETT on 2014-09-24)
  3.003
  (PWBENNETT on 2014-06-14)
  3.002
  (PWBENNETT on 2014-06-10)
  3.001
  (PWBENNETT on 2014-04-29)
  3.000
  (PWBENNETT on 2013-11-02)
  1.500
  (PWBENNETT on 2013-11-01)
  2.004\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.003\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.002\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.001\_TRIAL
  (PWBENNETT on 2013-10-30)
  2.000\_TRIAL
  (PWBENNETT on 2013-10-29)
  2.000
  (PWBENNETT on 2013-10-29)
  1.002
  (PWBENNETT on 2012-06-09)
  1.001
  (PWBENNETT on 2012-05-31)
  1.000
  (PWBENNETT on 2012-05-30)
  0.12
  (PWBENNETT on 2011-03-27)
  0.11
  (PWBENNETT on 2011-03-26)
  0.10
  (PWBENNETT on 2010-04-29)
  0.09
  (PWBENNETT on 2010-03-27)
  0.08
  (PWBENNETT on 2010-03-26)
  0.07
  (PWBENNETT on 2010-03-25)
  0.06
  (PWBENNETT on 2010-03-24)
  0.05
  (PWBENNETT on 2010-03-23)
  0.04
  (PWBENNETT on 2010-03-22)
  0.03
  (PWBENNETT on 2010-03-21)
  0.02
  (PWBENNETT on 2010-03-21)
  0.01
  (PWBENNETT on 2010-03-21)
* + Dependencies
  + [Carp](/pod/Carp "Carp")
  + [Exporter](/pod/Exporter "Exporter")
  + [List::MoreUtils](/pod/List%3A%3AMoreUtils "List::MoreUtils")
  + [Math::BigInt](/pod/Math%3A%3ABigInt "Math::BigInt")
  + [overload](/pod/overload "overload")
  + *and possibly others*
  + ---
  + [Reverse dependencies](/dist/Net-IPAddress-Util/requires)
  + [CPAN Testers List](http://deps.cpantesters.org/?module=Net%3A%3AIPAddress%3A%3AUtil)
  + [Dependency graph](https://cpandeps.grinnz.com/?dist=Net-IPAddress-Util)
* Permalinks
* [This version](/release/PWBENNETT/Net-IPAddress-Util-5.001)
* [Latest version](/dist/Net-IPAddress-Util)

[Paul W Bennett](/author/PWBENNETT)

 /

5.001
(PWBENNETT on 2021-04-11)
4.004
(PWBENNETT on 2017-10-05)
3.034
(PWBENNETT on 2017-09-20)
'
5.000
(PWBENNETT on 2021-04-05)
4.003
(PWBENNETT on 2017-10-05)
4.002
(PWBENNETT on 2017-10-04)
4.001
(PWBENNETT on 2017-09-22)
4.000
(PWBENNETT on 2017-09-21)
3.033
(PWBENNETT on 2017-08-31)
3.032
(PWBENNETT on 2017-08-31)
3.031
(PWBENNETT on 2017-08-18)
3.030
(PWBENNETT on 2017-08-18)
3.029
(PWBENNETT on 2017-08-17)
3.028
(PWBENNETT on 2017-08-17)
3.027
(PWBENNETT on 2016-04-13)
3.026
(PWBENNETT on 2016-04-07)
3.025
(PWBENNETT on 2016-03-30)
3.024
(PWBENNETT on 2016-03-30)
3.022
(PWBENNETT on 2015-03-21)
3.021
(PWBENNETT on 2015-02-18)
3.020
(PWBENNETT on 2015-01-11)
3.019
(PWBENNETT on 2015-01-11)
3.018
(PWBENNETT on 2014-09-30)
3.017
(PWBENNETT on 2014-09-30)
3.016
(PWBENNETT on 2014-09-30)
3.015
(PWBENNETT on 2014-09-30)
3.014
(PWBENNETT on 2014-09-27)
3.013
(PWBENNETT on 2014-09-27)
3.012
(PWBENNETT on 2014-09-26)
3.011
(PWBENNETT on 2014-09-24)
3.010
(PWBENNETT on 2014-09-24)
3.003
(PWBENNETT on 2014-06-14)
3.002
(PWBENNETT on 2014-06-10)
3.001
(PWBENNETT on 2014-04-29)
3.000
(PWBENNETT on 2013-11-02)
1.500
(PWBENNETT on 2013-11-01)
2.004\_TRIAL
(PWBENNETT on 2013-10-30)
2.003\_TRIAL
(PWBENNETT on 2013-10-30)
2.002\_TRIAL
(PWBENNETT on 2013-10-30)
2.001\_TRIAL
(PWBENNETT on 2013-10-30)
2.000\_TRIAL
(PWBENNETT on 2013-10-29)
2.000
(PWBENNETT on 2013-10-29)
1.002
(PWBENNETT on 2012-06-09)
1.001
(PWBENNETT on 2012-05-31)
1.000
(PWBENNETT on 2012-05-30)
0.12
(PWBENNETT on 2011-03-27)
0.11
(PWBENNETT on 2011-03-26)
0.10
(PWBENNETT on 2010-04-29)
0.09
(PWBENNETT on 2010-03-27)
0.08
(PWBENNETT on 2010-03-26)
0.07
(PWBENNETT on 2010-03-25)
0.06
(PWBENNETT on 2010-03-24)
0.05
(PWBENNETT on 2010-03-23)
0.04
(PWBENNETT on 2010-03-22)
0.03
(PWBENNETT on 2010-03-21)
0.02
(PWBENNETT on 2010-03-21)
0.01
(PWBENNETT on 2010-03-21)

Net-IPAddress-Util-5.001

 River stage zero
No dependents

 ++

 ++

## Changes for version 5.001 - 2021-04-10

* Fix bug where I was confusing "use bigint" and "use Math::BigInt", which caused issues on 32-bit systems compiled without 64-bit support.

[ Show lessShow more ]

## Modules

[Net::IPAddress::Util](/pod/Net%3A%3AIPAddress%3A%3AUtil)
Version-agnostic representation of an IP address

[Net::IPAddress::Util::Collection](/pod/Net%3A%3AIPAddress%3A%3AUtil%3A%3ACollection)
A collection of Net::IPAddress::Util::Range objects

[Net::IPAddress::Util::Collection::Tie](/pod/Net%3A%3AIPAddress%3A%3AUtil%3A%3ACollection%3A%3ATie)
These aren't the droids you're looking for

[Net::IPAddress::Util::Range](/pod/Net%3A%3AIPAddress%3A%3AUtil%3A%3ARange)
Representation of a range of IP addresses

## Other files

* [Changes](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/Changes)
* [LICENSE](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/LICENSE)
* [MANIFEST](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/MANIFEST)
* [META.json](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/META.json)
* [META.yml](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/META.yml)
* [Makefile.PL](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/Makefile.PL)
* [README](/release/PWBENNETT/Net-IPAddress-Util-5.001/source/README)

×
#### Module Install Instructions

To install Net::IPAddress::Util, copy and paste the appropriate command in to your terminal.

[cpanm](/dist/App-cpanminus/view/bin/cpanm)

```
cpanm Net::IPAddress::Util
```

[CPAN shell](/pod/CPAN)

```
perl -MCPAN -e shell
install Net::IPAddress::Util
```

For more information on module installation, please visit [the detailed CPAN module installation guide](https://www.cpan.org/modules/INSTALL.html).

Close

[![MetaCPAN](/static/images/metacpan-logo.svg)](/)

[About](/about)

[Sponsor](/about/sponsors)

[grep::cpan](https://grep.metacpan.org)

[Recent](/recent)

[FAQ](/about/faq)

[Tools](/tools)

[API](https://fastapi.metacpan.org/)

[Perl.org](https://www.perl.org/)

[![Bytemark logo](/static/images/sponsors/bytemark_logo.svg)](https://www.bytemark.co.uk/)
[![liquidweb logo](/static/images/sponsors/liquidweb_logo.png)](https://www.liquidweb.com/)
[![Deriv logo](/static/images/sponsors/deriv.svg)](https://deriv.com/careers/)
[![Geocode logo](/static/images/sponsors/geocodelogo.svg)](https://geocode.xyz)
[![Fastly logo](/static/images/sponsors/fastly_logo.svg)](https://www.fastly.com/)
[![OpenCage logo](/static/images/sponsors/open-cage.svg)](https://opencagedata.com)

[![Elastic logo](/static/images/sponsors/elastic.svg)](https://www.elastic.co/)

[![Route4Me logo](/static/images/sponsors/route4me.png)](https://route4me.com/)

×
#### Keyboard Shortcuts

|  | Global |
| --- | --- |
| `s` | Focus search bar |
| `?` | Bring up this help dialog |

|  | GitHub |
| --- | --- |
| `g` `p` | Go to pull requests |
| `g` `i` | go to github issues (only if github is preferred repository) |

|  | POD |
| --- | --- |
| `g` `a` | Go to author |
| `g` `c` | Go to changes |
| `g` `i` | Go to issues |
| `g` `d` | Go to dist |
| `g` `r` | Go to repository/SCM |
| `g` `s` | Go to source |
| `g` `b` | Go to file browse |

|  | Search terms |
| --- | --- |
| *module:* (e.g. [module:Plugin](/search?q=module%3APlugin)) |
| *distribution:* (e.g. [distribution:Dancer auth](/search?q=distribution%3ADancer+auth)) |
| *author:* (e.g. [author:SONGMU Redis](/search?q=author%3ASONGMU+Redis)) |
| *version:* (e.g. [version:1.00](/search?q=version%3A1.00)) |



=== Content from metacpan.org_e06e9e32_20250111_070327.html ===


* [About](/about)
* [Sponsor](/about/sponsors)
* [grep::cpan](https://grep.metacpan.org/)
* [Recent](/recent)
* [FAQ](/about/faq)
* [Tools](/tools)
* [API](https://fastapi.metacpan.org/)

* + [Identities](/account/identities)
  + [Profile](/account/profile)
  + [Favorites](/account/favorite/list)
  + Logout
* + [GitHub](/login/github)
  + [Twitter](/login/twitter)
  + [Google](/login/google)

* Tools
* [Release Info](/release/PWBENNETT/Net-IPAddress-Util-5.000)
* [Author](/author/PWBENNETT)
* [Raw code](https://fastapi.metacpan.org/source/PWBENNETT/Net-IPAddress-Util-5.000/Changes)
* [Permalink](/release/PWBENNETT/Net-IPAddress-Util-5.000/source/Changes)
* [Download](/release/PWBENNETT/Net-IPAddress-Util-5.000/raw/Changes?download=1)
* HideShow Pod
* Info
* 102 lines of code
* 0 lines of pod
* 4.63K bytes

[PWBENNETT / Net-IPAddress-Util-5.000](/release/PWBENNETT/Net-IPAddress-Util-5.000/source)
/ Changes

```
Revision history for Net-IPAddress-Util

5.000   2018-09-03
        v3.x data is not "broken", just "following a different (and more commonly followed) RFC".
        Go back to v3.x being the default, but allow v4.x to be specified with an option-setting method.
        Make the output of Data::Dumper *not* break certain terminals.
        Fix a bug where dot-quad octets beginning with '0' were not being treated as octal.

4.004   2017-10-05
        Enhanced detection and logging of repairable <= v3.x data.

4.003   2017-10-05
        Fix ::Tie so that it actually does what the POD says it does.

4.002   2017-10-04
        Add "repair" functionality to upgrade v3.x data to v4.x format.

4.001   2017-09-22
        Doc fix so that the POD specifies ::ffff:0:0:0/96 to agree with the code.

4.000   2017-09-21
        Major backwards-incompatible bug fix. Was treating ::ffff:0:0/96 as SIIT
        instead of ::ffff:0:0:0/96. Was self-compatible, but RFC-wrong.

3.033   2017-08-31
        Starting to prepare for Perl 5.026

3.032   2017-08-31
        A couple of ultra-paranoid numification tweaks

3.031   2017-08-18
        Fixup whitespace and make the tests smarter

3.030   2017-08-18
        Fix Range->outer_bounds() to return a moderately-compatible object (instead of gibberish), and nudge the tests to reflect that.
        Get rid of weird dangling dependency on utf8 -- we don't use Unicode.

3.029   2017-08-17
        Additional documentation, and a re-check of POD coverage

3.028   2017-08-17
        Clean up versioning in docs & throughout

3.027   2016-04-13
        Clean up versioning in docs & throughout

3.026   2016-04-07
        Respond better to unparseable arguments
        Respond to undef() arguments early, instead of trying to parse them

3.025   2016-03-30
        Trying again to fix stringification of IPv6 addresses

3.024   2016-03-30
        Fix stringification of IPv6 addresses

3.023   2015-03-21
        Remove requirement for Perl 5.12, to see whether it'll work on vanilla 5.10

3.022   2015-03-21
        Solve some extreme edge cases that can arise due to unpacking 'U' and then packing 'C'

3.021   2015-02-18
        Wasn't properly identifying well-formed IPv6 addresses

3.020   2015-01-??
        Code beautifying for Kwalitee purposes

3.019   2015-01-10
        Code beautifying for Kwalitee purposes

3.017   2014-09-29
        Code beautifying for Kwalitee purposes

3.016   2014-09-29
        Code cleaning

3.015   2014-09-29
        Was not accepting integers bigger than 32 bits, regardless of $PROMOTE_N32 setting

3.014   2014-09-27
        Fix typo in documentation: s/to_str/as_str/smg;

        Code cleaning on something that bizarrely appeared to work as desired
        despite being written in a highly nasty way.

3.013   2014-09-27
        Fix RT #99174: IPv6 addresses with fewer than 4 digits per word handled wrong

3.000   2013-11-01
        Back to proper CPAN-friendly version numbers

1.500   2013-10-31
        Attempt to backport the 2.x speedups and fixes into a non-mop env.

1.002   2012-06-09
        Make it explicit that 5.010 is required. Start trying to make the
        time trials smarter.

1.001   2012-05-31
        Try advancing some of the deps to see if that cures the spurious
        test fails on what look like random architectures. This is unrelated
        to the previous GMP / Pari stuff, and might be BigInt version related.

1.000   2012-05-24
        Move from ISA BigInt to HASA BigInt to try to solve the GMP / Pari
        stuff once and for all.

0.12    2011-03-26
        Fix completely idiotic thinko in handling backend specification.

0.11    2011-03-26
        Try to solve weird issue with certain binary versions of GMP and Pari.

0.10    2010-04-28
        Fewer internal dependencies means fewer chances to use the wrong lib.

0.09    2010-03-27
        Try to be even more bullet-proof wrt the N32 bugs.

0.08    2010-03-25
        Add hopefully more-useful output to the diagnostic tests

0.07    2010-03-25
        Add more purely-diagnostic tests.
        Hopefully fix weird $PROMOTE_N32 and ->as_n32() bug on Windows and BSD.

0.06    2010-03-22
        Add $PROMOTE_N32 and ->as_n32().
        Hopefully fix a weird bug on *BSD systems.
        Now at 76.2% coverage.

0.05    2010-03-22
        Make compatability API test better at surviving lack of Net::IPAddress

0.04    2010-03-21
        Added more tests for compatibility API. Now at 75.9% coverage.

0.03    2010-03-21
        Added tests for compatibility API.

0.02    2010-03-21
        Fixed bugs in ip2num() and num2ip(). Fixed distro name in Changes file.

0.01    2010-03-21
        First version, released on an unsuspecting world.

```

[![MetaCPAN](/static/images/metacpan-logo.svg)](/)

[About](/about)

[Sponsor](/about/sponsors)

[grep::cpan](https://grep.metacpan.org)

[Recent](/recent)

[FAQ](/about/faq)

[Tools](/tools)

[API](https://fastapi.metacpan.org/)

[Perl.org](https://www.perl.org/)

[![Bytemark logo](/static/images/sponsors/bytemark_logo.svg)](https://www.bytemark.co.uk/)
[![liquidweb logo](/static/images/sponsors/liquidweb_logo.png)](https://www.liquidweb.com/)
[![Deriv logo](/static/images/sponsors/deriv.svg)](https://deriv.com/careers/)
[![Geocode logo](/static/images/sponsors/geocodelogo.svg)](https://geocode.xyz)
[![Fastly logo](/static/images/sponsors/fastly_logo.svg)](https://www.fastly.com/)
[![OpenCage logo](/static/images/sponsors/open-cage.svg)](https://opencagedata.com)

[![Elastic logo](/static/images/sponsors/elastic.svg)](https://www.elastic.co/)

[![Route4Me logo](/static/images/sponsors/route4me.png)](https://route4me.com/)

×
#### Keyboard Shortcuts

|  | Global |
| --- | --- |
| `s` | Focus search bar |
| `?` | Bring up this help dialog |

|  | GitHub |
| --- | --- |
| `g` `p` | Go to pull requests |
| `g` `i` | go to github issues (only if github is preferred repository) |

|  | POD |
| --- | --- |
| `g` `a` | Go to author |
| `g` `c` | Go to changes |
| `g` `i` | Go to issues |
| `g` `d` | Go to dist |
| `g` `r` | Go to repository/SCM |
| `g` `s` | Go to source |
| `g` `b` | Go to file browse |

|  | Search terms |
| --- | --- |
| *module:* (e.g. [module:Plugin](/search?q=module%3APlugin)) |
| *distribution:* (e.g. [distribution:Dancer auth](/search?q=distribution%3ADancer+auth)) |
| *author:* (e.g. [author:SONGMU Redis](/search?q=author%3ASONGMU+Redis)) |
| *version:* (e.g. [version:1.00](/search?q=version%3A1.00)) |



=== Content from blog.urth.org_4360737e_20250111_070327.html ===
[House Absolute(ly Pointless)](/)

* [Home](https://blog.urth.org/)
* [Archives](https://blog.urth.org/posts/)
* [About](https://blog.urth.org/about)
XSearch[House Absolute(ly Pointless)](/)

* [Home](/)
* [Archives](/posts/)
* [About](/about)
# Security Issues in Perl IP Address distros

2021-03-29

*Edit on 2021-03-29 21:40(ish) UTC:* Added Net-Subnet (appears unaffected) and reordered the details
to match the list at the top of the post.

*Edit on 2021-03-30 14:50(ish) UTC:* Added Net-Works (appears unaffected).

*Edit on 2021-03-30 15:40(ish) UTC:* Added Net-CIDR (some functions are affected).

*Edit on 2021-03-31 01:05(ish) UTC:* Added Net-IPv4Addr (affected).

*Edit on 2021-04-05 01:21(ish) UTC:* Net-CIDR-Lite 0.22 contains a remediation.

*Edit on 2021-04-05 19:30(ish) UTC:* Net-IPAddress-Util 5.000 contains a remediation.

warning

**TLDR: Some Perl modules for working with IP addresses and netmasks have
bugs with potential security applications.** See below for more details on the bug and which modules
are affected.

* Net-IPv4Addr: Affected.
* Net-CIDR-Lite: Vulnerable before the 0.22 release. Upgrade now.
* Net-Netmask: Vulnerable before the 2.00000 release. Upgrade now.
* Net-IPAddress-Util: Vulnerable before the 5.000 release. Upgrade now.
* Data-Validate-IP: Depends on exactly how it’s used. See below for details.
* Net-CIDR: Depends on exactly how it’s used. See below for details.
* Socket: Appears unaffected.
* Net-DNS: Appears unaffected.
* NetAddr-IP: Appears unaffected.
* Net-Works: Appears unaffected.
* Net-Subnet: Appears unaffected.
* Net-Patricia: Appears unaffected.

Yesterday,
[a security issue with the NPM package `netmask` was published](https://sick.codes/universal-netmask-npm-package-used-by-270000-projects-vulnerable-to-octal-input-data-server-side-request-forgery-remote-file-inclusion-local-file-inclusion-and-more-cve-2021-28918/)[1](#fn:1).

The issue itself is pretty straightforward. Your OS will allow an IP address like `010.0.0.1` or a
netmask like `010.0.0.0/8`. That `010` is treated **as an octal number, not a base-10 number with a
leading zero!** That means that `010.0.0.1` is actually `8.0.0.1`. We can confirm this with `ping`:

| ``` 1 2  ``` | ``` ping 010.0.0.1 PING 010.0.0.1 (8.0.0.1) 56(84) bytes of data.  ``` |
| --- | --- |

But the NPM `netmask` package would treat this as `10.0.0.1`. This confusion means that an
application could be tricked into thinking a public IP - `8.0.0.1` - was part of a private subnet -
`10.0.0.0/8`. And conversely, you could trick it into thinking a private IP - `10.0.0.1` written as
`012.0.0.1` - was part of a public subnet - `12.0.0.1`.

This has security implications for any application that is trying to distinguish between public and
private IP addresses or networks for access control, firewalling, etc.

As I was reading about this I checked out
[the Git repo for the `netmask` package](https://github.com/rs/node-netmask). Its README says “This
module is highly inspired by Perl [Net::Netmask](http://search.cpan.org/dist/Net-Netmask/) module.”

And at that point I realized that it was quite possible that this affected Perl code as well! So I
started digging into this by looking at various CPAN modules for working with IP addresses,
networks, and netmasks.

Here’s the current state of CPAN modules, ordered roughly by their position in
[The River of CPAN](https://neilb.org/2015/04/20/river-of-cpan.html) (which basically means how many
modules depend on them).

## [`Net-IPv4Addr`](https://metacpan.org/release/Net-IPv4Addr)

warning**This distribution is affected by this issue. In addition, this module is
almost certainly no longer being maintained. Emails to the author bounce.**

This distribution has 4 direct dependents and 12 total dependents.

| ``` 1 2 3  ``` | ``` perl -MNet::IPv4Addr=:all -E 'say $_ for ipv4_network("010.0.0.1")' 10.0.0.0 8  ``` |
| --- | --- |

## [`Net-CIDR-Lite`](https://metacpan.org/release/Net-CIDR-Lite)

info**This distribution was vulnerable prior to its 0.22 release made on 2021-04-04.
Thanks to Stig Palmquist for taking this distro over and releasing a fix!**

This distribution has 24 direct dependents and 36 total dependents.

| ``` 1 2 3  ``` | ``` perl -MNet::CIDR::Lite -E 'my $c = Net::CIDR::Lite->new; $c->add("010.0.0.0/8"); say $_ for $c->list_range' Can't determine ip format at /home/autarch/.perlbrew/libs/perl-5.30.1@dev/lib/perl5/Net/CIDR/Lite.pm line 38. 	Net::CIDR::Lite::add(Net::CIDR::Lite=HASH(0x55fe55ade740), "010.0.0.0/8") called at -e line 1  ``` |
| --- | --- |

## [`Net-Netmask`](https://metacpan.org/release/Net-Netmask)

info**This distribution was vulnerable prior to its 2.0000 release earlier today.
Great job on the quick response, Joelle Maslak!**

This distribution has 22 direct dependents and 30 total dependents.

So for versions before 2.0000 we see this:

| ``` 1 2  ``` | ``` perl -MNet::Netmask -E 'say defined Net::Netmask->new2(q{010.0.0.0/8}) ? 1 : 0' 0  ``` |
| --- | --- |

Note the use of the `new2` constructor. The old `new` constructor cannot be changed to return
`undef` for backwards compatibility reasons. Fortunately, it’s probably not vulnerable in any
exploitable way, as it returns a 0-length subnet:

| ``` 1 2  ``` | ``` perl -MNet::Netmask -E 'say Net::Netmask->new(q{010.0.0.0/8})' 0.0.0.0/0  ``` |
| --- | --- |

## [`Net-IPAddress-Util`](https://metacpan.org/release/Net-IPAddress-Util)

info**This distribution was vulnerable prior to its 5.000 release made on
2021-04-04. Thanks to Paul W Bennett for the fix!**

This distribution has no dependents.

| ``` 1 2  ``` | ``` perl -MNet::IPAddress::Util=IP -E 'say IP(q{010.0.0.1})' 8.0.0.1  ``` |
| --- | --- |

## [`Data-Validate-IP`](https://metacpan.org/release/Data-Validate-IP)

info**This distribution doesn’t misparse octal numbers, but you could be affected
depending on exactly how your code uses this distro. See below for details.**

This distribution has 21 direct dependents and 60 total dependents.

This distribution returns false for any `is_*_ipv4` method that includes an octal number. So both
`is_private_ipv4('010.0.0.1')` and `is_public_ipv4('010.0.0.1')` return false. **Depending on how
you’re using this module, it’s *possible* that this could lead to bugs, including bugs with security
implications.**

I
[updated the documentation](https://metacpan.org/pod/Data%3A%3AValidate%3A%3AIP#USAGE-AND-SECURITY-RECOMMENDATIONS)
to explicitly recommend that you **always call `is_ipv4()` in addition to calling a method like
`is_private_ipv4()`**. The `is_ipv4()` method will always return false for IP addresses with octal
numbers.

While this isn’t strictly POSIX-correct, this seems like the safest behavior for a module like this.
It’s better to be too strict if this eliminates a potential footgun.

**If you are using this distribution, I highly encourage you to audit your use of it in a security
context!**

## [`Net-CIDR`](https://metacpan.org/release/Net-CIDR)

info**This distribution is affected, but it has a function to validate CIDR strings
that you should use before calling any other functions.**

This distribution has 17 direct dependents and 25 total dependents.

The distribution provides a number of functions for working with networks and IP addresses. Most of
these are not affected. However, two are:

| ```  1  2  3  4  5  6  7  8  9 10 11  ``` | ``` perl -MNet::CIDR -E 'say for Net::CIDR::addr2cidr("010.0.0.1")' 010.0.0.1/32 010.0.0.0/31 ... 010.0.0.0/8 10.0.0.0/7 8.0.0.0/6 ... perl -MNet::CIDR -E 'say Net::CIDR::cidrlookup("10.0.0.1", "010.0.0.0/8")' 1  ``` |
| --- | --- |

However, this distribution also contains a `cidrvalidate` function that will return false for any
CIDR string with a leading 0 in an octet. The documentation explicitly tells you to use this before
passing the data to other functions.

**If you are using this distribution, I highly encourage you to audit your use of it in a security
context!**

## [`Socket`](https://metacpan.org/release/Socket)

note**This distribution appears to be unaffected by this issue.**

This distribution has 275 direct dependents and 9,936 total dependents.

| ``` 1 2 3 4 5  ``` | ``` perl -MSocket -E 'say inet_ntoa(inet_aton(q{010.0.0.1}))' 8.0.0.1 perl -MSocket=inet_pton,inet_ntop,AF_INET -E 'say inet_ntop(AF_INET, inet_pton(AF_INET, q{010.0.0.1}))' Bad address length for Socket::inet_ntop on AF_INET; got 0, should be 4 at -e line 1.  ``` |
| --- | --- |

The `inet_pton()` function is just returning `undef` for this octal-formatted address.

## [`Net-DNS`](https://metacpan.org/release/Net-DNS)

note**This distribution appears to be unaffected by this issue.**

This distribution has 104 direct dependents and 561 total dependents.

If you try to resolve an IP address, it turns this into a reverse lookup, but it treats the IP as
text:

| ```  1  2  3  4  5  6  7  8  9 10 11  ``` | ``` perl ./demo/perldig 010.0.0.1 ;; Response received from 127.0.0.53 (40 octets) ;; HEADER SECTION ;;	id = 6342 ;;	qr = 1	aa = 0	tc = 0	rd = 1	opcode = QUERY ;;	ra = 1	z  = 0	ad = 0	cd = 0	rcode  = NXDOMAIN ;;	qdcount = 1	ancount = 0	nscount = 0	arcount = 0 ;;	do = 0 ;; QUESTION SECTION (1 record) ;; 1.0.0.010.in-addr.arpa.	IN	A  ``` |
| --- | --- |

So it’s not a useful answer, but it’s not looking up the *wrong* address.

## [`NetAddr-IP`](https://metacpan.org/release/NetAddr-IP)

note**This distribution appears to be unaffected by this issue.**

This distribution has 36 direct dependents and 110 total dependents.

| ``` 1 2  ``` | ``` perl -MNetAddr::IP -E 'say NetAddr::IP->new(q{010.0.0.024})' 8.0.0.20/32  ``` |
| --- | --- |

## [`Net-Works`](https://metacpan.org/release/Net-Works)

note**This distribution appears to be unaffected by this issue.**

This distribution has 3 direct dependents and 7 total dependents.

| ``` 1 2 3 4 5 6 7 8  ``` | ``` perl -MNet::Works::Network -E 'say Net::Works::Network->new_from_string(string => q{010.0.0.1/8})' 010.0.0.1/8 is not a valid IP network at /home/autarch/.perlbrew/libs/perl-5.30.1@dev/lib/perl5/Net/Works/Network.pm line 120. 	Net::Works::Network::new_from_string("Net::Works::Network", "string", "010.0.0.1/8") called at -e line 1 perl -MNet::Works::Address -E 'say Net::Works::Address->new_from_string(string => q{010.0.0.1})' 010.0.0.1 is not a valid IPv6 address at /home/autarch/.perlbrew/libs/perl-5.30.1@dev/lib/perl5/Net/Works/Util.pm line 70. 	Net::Works::Util::_validate_ip_string("010.0.0.1", 6) called at /home/autarch/.perlbrew/libs/perl-5.30.1@dev/lib/perl5/Net/Works/Address.pm line 74 	Net::Works::Address::new_from_string("Net::Works::Address", "string", "010.0.0.1") called at -e line 1  ``` |
| --- | --- |

Thanks to Stig Palmquist for checking this one and letting me know.

## [`Net-Subnet`](https://metacpan.org/release/Net-Subnet)

note**This distribution appears to be unaffected by this issue.**

This distribution has 3 direct dependents and 7 total dependents.

| ``` 1 2 3 4 5  ``` | ``` perl -MNet::Subnet -E 'my $m = subnet_matcher(q{10.0.0.0/8}); say $m->(q{012.0.0.1}) ? 1 : 0' 1 perl -MNet::Subnet -E 'my $m = subnet_matcher(q{012.0.0.0/8}); say $m->(q{10.0.0.1}) ? 1 : 0' 1  ``` |
| --- | --- |

## [`Net-Patricia`](https://metacpan.org/release/Net-Patricia)

note**This distribution appears to be unaffected by this issue.**

This distribution has 1 direct dependent and 1 total dependent.

| ``` 1 2 3 4 5  ``` | ``` perl -MNet::Patricia -E 'my $p = Net::Patricia->new; $p->add_string("010.0.0.0/8"); say $p->match_string("8.0.0.1") ? 1 : 0' 1 perl -MNet::Patricia -E 'my $p = Net::Patricia->new; $p->add_string("8.0.0.0/8"); say $p->match_string("010.0.0.1") ? 1 : 0' 1  ``` |
| --- | --- |

---

1. One of the most ridiculous URL paths I’ve ever seen. [↩︎](#fnref:1)
[Down the Golang nil Rabbit Hole
Next](/2021/03/27/down-the-golang-nil-rabbit-hole/)[API Design and the Recent IP Address Module Issues
Prev](/2021/04/03/api-design-and-the-recent-ip-address-module-issues/)

---

Found a typo? Fix it by [editing this page on GitHub](https://github.com/autarch/blog.urth.org/edit/master/content/posts/2021-03-29-security-issues-in-perl-ip-address-distros.md).

Comments?

Discuss this post on:

* [/r/perl](https://www.reddit.com/r/perl/comments/mfzxuh/security_issues_in_perl_ip_address_distros/)
* [/r/programming](https://www.reddit.com/r/programming/comments/mg0s73/security_issues_in_perl_ip_address_distros/)
* [Hacker News](https://news.ycombinator.com/item?id=26628827)

You can
also email me directly.

Powered by [Hugo](https://gohugo.io)
|
Theme - [Jane](https://github.com/xianmin/hugo-theme-jane)
©
2007 -
2024
Dave Rolsky

[This work](https://blog.urth.org/) by David Rolsky is licensed under [CC BY-SA 4.0![](https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1)![](https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1)![](https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1)](http://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1)


