

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3086402)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3086401 "Changeset 3086401")
* [Next Changeset](/changeset/3086403 "Changeset 3086403") →

---

# Changeset 3086402

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/14/2024 09:40:56 AM
([8 months](/timeline?from=2024-05-14T09%3A40%3A56Z&precision=second "See timeline at 05/14/2024 09:40:56 AM") ago)

Author:
Nikschavan
Message:

Update to version 1.6.29 from GitHub

Location:
[header-footer-elementor](/browser/header-footer-elementor?rev=3086402)
Files:

12 edited
1 copied

* [tags/1.6.29](/browser/header-footer-elementor/tags/1.6.29?rev=3086402 "Show entry in browser")
  (copied)
  *(copied from [header-footer-elementor/trunk](/browser/header-footer-elementor/trunk?rev=3071514 "Show original file (revision 3086401)"))*
* [tags/1.6.29/header-footer-elementor.php](/browser/header-footer-elementor/tags/1.6.29/header-footer-elementor.php?rev=3086402 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [tags/1.6.29/inc/class-hfe-settings-page.php](/browser/header-footer-elementor/tags/1.6.29/inc/class-hfe-settings-page.php?rev=3086402 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [tags/1.6.29/inc/widgets-css/frontend.css](/browser/header-footer-elementor/tags/1.6.29/inc/widgets-css/frontend.css?rev=3086402 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [tags/1.6.29/inc/widgets-manager/class-widgets-loader.php](/browser/header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php?rev=3086402 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [tags/1.6.29/languages/header-footer-elementor.pot](/browser/header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot?rev=3086402 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))
* [tags/1.6.29/readme.txt](/browser/header-footer-elementor/tags/1.6.29/readme.txt?rev=3086402 "Show entry in browser")
  (modified)
  ([2 diffs](#file6 "Show differences"))
* [trunk/header-footer-elementor.php](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3086402 "Show entry in browser")
  (modified)
  ([3 diffs](#file7 "Show differences"))
* [trunk/inc/class-hfe-settings-page.php](/browser/header-footer-elementor/trunk/inc/class-hfe-settings-page.php?rev=3086402 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [trunk/inc/widgets-css/frontend.css](/browser/header-footer-elementor/trunk/inc/widgets-css/frontend.css?rev=3086402 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [trunk/inc/widgets-manager/class-widgets-loader.php](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3086402 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))
* [trunk/languages/header-footer-elementor.pot](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3086402 "Show entry in browser")
  (modified)
  ([3 diffs](#file11 "Show differences"))
* [trunk/readme.txt](/browser/header-footer-elementor/trunk/readme.txt?rev=3086402 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [header-footer-elementor/tags/1.6.29/header-footer-elementor.php](/changeset/3086402/header-footer-elementor/tags/1.6.29/header-footer-elementor.php "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/header-footer-elementor.php")

  | [r3071514](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L8 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/header-footer-elementor.php?rev=3086402#L8 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Text Domain: header-footer-elementor |
  | 9 | 9 | \* Domain Path: /languages |
  | 10 |  | \* Version: 1.6.2~~8~~ |
  |  | 10 | \* Version: 1.6.29 |
  | 11 | 11 | \* Elementor tested up to: 3.21 |
  | 12 | 12 | \* Elementor Pro tested up to: 3.21 |
  | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L15) | […](/browser/header-footer-elementor/tags/1.6.29/header-footer-elementor.php?rev=3086402#L15) |  |
  | 15 | 15 | \*/ |
  | 16 | 16 |  |
  | 17 |  | define( 'HFE\_VER', '1.6.2~~8~~' ); |
  |  | 17 | define( 'HFE\_VER', '1.6.29' ); |
  | 18 | 18 | define( 'HFE\_FILE', \_\_FILE\_\_ ); |
  | 19 | 19 | define( 'HFE\_DIR', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
  | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L26) | […](/browser/header-footer-elementor/tags/1.6.29/header-footer-elementor.php?rev=3086402#L26) |  |
  | 26 | 26 | \*/ |
  | 27 | 27 | require\_once HFE\_DIR . '/inc/class-header-footer-elementor.php'; |
  |  | 28 |  |
  |  | 29 | /\*\* |
  |  | 30 | \* Include Composer autoloader. |
  |  | 31 | \*/ |
  |  | 32 | require\_once HFE\_DIR . 'vendor/autoload.php'; |
  | 28 | 33 |  |
  | 29 | 34 | /\*\* |
* ## [header-footer-elementor/tags/1.6.29/inc/class-hfe-settings-page.php](/changeset/3086402/header-footer-elementor/tags/1.6.29/inc/class-hfe-settings-page.php "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/inc/class-hfe-settings-page.php")

  | [r3028025](/browser/header-footer-elementor/trunk/inc/class-hfe-settings-page.php?rev=3028025#L166 "Show revision 3028025 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/inc/class-hfe-settings-page.php?rev=3086402#L166 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 166 | 166 | <?php |
  | 167 | 167 | echo sprintf( |
  | 168 |  | ~~esc\_html\_\_( 'Sometimes above methods might not work well with your theme, in this case, contact your theme author and request them to add support for the <a href="https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-Header-Footer-Elementor-support-for-your-theme">plugin.</~~>', 'header-footer-elementor' ), |
  |  | 168 | wp\_kses( 'Sometimes above methods might not work well with your theme, in this case, contact your theme author and request them to add support for the <a href="https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-Header-Footer-Elementor-support-for-your-theme">plugin.</a>', 'header-footer-elementor' ), |
  | 169 | 169 | '<br>' |
  | 170 | 170 | ); |
* ## [header-footer-elementor/tags/1.6.29/inc/widgets-css/frontend.css](/changeset/3086402/header-footer-elementor/tags/1.6.29/inc/widgets-css/frontend.css "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/inc/widgets-css/frontend.css")

  | [r3034938](/browser/header-footer-elementor/trunk/inc/widgets-css/frontend.css?rev=3034938#L121 "Show revision 3034938 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/inc/widgets-css/frontend.css?rev=3086402#L121 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 121 | 121 | } |
  | 122 | 122 |  |
  |  | 123 | .hfe-nav-menu\_\_layout-horizontal .hfe-nav-menu .sub-menu { |
  |  | 124 | display: none; |
  |  | 125 | } |
  |  | 126 |  |
  |  | 127 | .hfe-nav-menu\_\_layout-horizontal .hfe-nav-menu li.menu-item:hover > .sub-menu { |
  |  | 128 | display: block; |
  |  | 129 | } |
  | 123 | 130 |  |
  | 124 | 131 | /\* Alignemnt CSS \*/ |
* ## [header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php](/changeset/3086402/header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php")

  | [r3003681](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3003681#L58 "Show revision 3003681 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php?rev=3086402#L58 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 | // Add svg support. |
  | 59 | 59 | add\_filter( 'upload\_mimes', [ $this, 'hfe\_svg\_mime\_types' ] ); // PHPCS:Ignore WordPressVIPMinimum.Hooks.RestrictedHooks.upload\_mimes |
  |  | 60 |  |
  |  | 61 | // Add filter to sanitize uploaded SVG files. |
  |  | 62 | add\_filter( 'wp\_handle\_upload\_prefilter', [ $this, 'sanitize\_uploaded\_svg' ] ); |
  | 60 | 63 |  |
  | 61 | 64 | // Refresh the cart fragments. |
  | […](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3003681#L161) | […](/browser/header-footer-elementor/tags/1.6.29/inc/widgets-manager/class-widgets-loader.php?rev=3086402#L164) |  |
  | 161 | 164 |  |
  | 162 | 165 | /\*\* |
  |  | 166 | \* Sanitize uploaded SVG files before they are saved. |
  |  | 167 | \* |
  |  | 168 | \* @param array $file Array of uploaded file information. |
  |  | 169 | \* @return array Modified array of uploaded file information. |
  |  | 170 | \*/ |
  |  | 171 | public function sanitize\_uploaded\_svg( $file ) { |
  |  | 172 | if ( 'image/svg+xml' === $file['type'] ) { |
  |  | 173 | $clean\_svg = $this->sanitize\_svg( $file['tmp\_name'] ); |
  |  | 174 |  |
  |  | 175 | if ( false !== $clean\_svg ) { |
  |  | 176 | file\_put\_contents( $file['tmp\_name'], $clean\_svg ); |
  |  | 177 | } |
  |  | 178 | } |
  |  | 179 |  |
  |  | 180 | return $file; |
  |  | 181 | } |
  |  | 182 | /\*\* |
  |  | 183 | \* Sanitize SVG content using enshrined\svgSanitize\Sanitizer. |
  |  | 184 | \* |
  |  | 185 | \* @param string $file\_path Path to the SVG file. |
  |  | 186 | \* @return string|bool Sanitized SVG content or false on failure. |
  |  | 187 | \*/ |
  |  | 188 | public function sanitize\_svg( $file\_path ) { |
  |  | 189 | $sanitizer = new \enshrined\svgSanitize\Sanitizer(); |
  |  | 190 | $dirty\_svg = file\_get\_contents( $file\_path ); |
  |  | 191 | $clean\_svg = $sanitizer->sanitize( $dirty\_svg ); |
  |  | 192 |  |
  |  | 193 | if ( false !== $clean\_svg ) { |
  |  | 194 | return $clean\_svg; |
  |  | 195 | } else { |
  |  | 196 | return false; |
  |  | 197 | } |
  |  | 198 | } |
  |  | 199 |  |
  |  | 200 | /\*\* |
  | 163 | 201 | \* Register Category |
  | 164 | 202 | \* |
* ## [header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot](/changeset/3086402/header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot")

  | [r3071514](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L3 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot?rev=3086402#L3 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Elementor Header & Footer Builder 1.6.2~~8~~\n" |
  |  | 5 | "Project-Id-Version: Elementor Header & Footer Builder 1.6.29\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://wordpress.org/support/plugin/header-footer-elementor\n" |
  | 8 |  | "POT-Creation-Date: 2024-0~~4-16 10:00:51~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2024-05-14 05:36:53+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
  | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L390) | […](/browser/header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot?rev=3086402#L390) |  |
  | 390 | 390 | msgstr "" |
  | 391 | 391 |  |
  | 392 |  | ~~#: inc/class-hfe-settings-page.php:168~~ |
  | 393 |  | ~~msgid ""~~ |
  | 394 |  | ~~"Sometimes above methods might not work well with your theme, in this case, "~~ |
  | 395 |  | ~~"contact your theme author and request them to add support for the <a "~~ |
  | 396 |  | ~~"href=\"https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-"~~ |
  | 397 |  | ~~"Header-Footer-Elementor-support-for-your-theme\">plugin.</>"~~ |
  | 398 |  | ~~msgstr ""~~ |
  | 399 |  |  |
  | 400 | 392 | #: inc/class-hfe-settings-page.php:187 inc/class-hfe-settings-page.php:188 |
  | 401 | 393 | #: inc/class-hfe-settings-page.php:833 |
  | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L741) | […](/browser/header-footer-elementor/tags/1.6.29/languages/header-footer-elementor.pot?rev=3086402#L733) |  |
  | 741 | 733 | msgstr "" |
  | 742 | 734 |  |
  | 743 |  | #: inc/widgets-manager/class-widgets-loader.php:2~~34~~ |
  |  | 735 | #: inc/widgets-manager/class-widgets-loader.php:272 |
  | 744 | 736 | #: inc/widgets-manager/widgets/class-cart.php:51 |
  | 745 | 737 | #: inc/widgets-manager/widgets/class-cart.php:651 |
* ## [header-footer-elementor/tags/1.6.29/readme.txt](/changeset/3086402/header-footer-elementor/tags/1.6.29/readme.txt "Show the changeset 3086402 restricted to header-footer-elementor/tags/1.6.29/readme.txt")

  | [r3071514](/browser/header-footer-elementor/trunk/readme.txt?rev=3071514#L6 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/tags/1.6.29/readme.txt?rev=3086402#L6 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 5.4 |
  | 7 | 7 | Tested up to: 6.5 |
  | 8 |  | Stable tag: 1.6.2~~8~~ |
  |  | 8 | Stable tag: 1.6.29 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/header-footer-elementor/trunk/readme.txt?rev=3071514#L141) | […](/browser/header-footer-elementor/tags/1.6.29/readme.txt?rev=3086402#L141) |  |
  | 141 | 141 | == Changelog == |
  | 142 | 142 |  |
  |  | 143 | = 1.6.29 = |
  |  | 144 | - Fix: Navigation Menu – The submenu container opens without hovering over the parent menu item. |
  |  | 145 | - Fix: This update addressed a security bug. Props to Wordfence. |
  |  | 146 |  |
  | 143 | 147 | = 1.6.28 = |
  | 144 | 148 | - Fix: Error messages appearing for Display rules. |
* ## [header-footer-elementor/trunk/header-footer-elementor.php](/changeset/3086402/header-footer-elementor/trunk/header-footer-elementor.php "Show the changeset 3086402 restricted to header-footer-elementor/trunk/header-footer-elementor.php")

  | [r3071514](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L8 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3086402#L8 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | \* Text Domain: header-footer-elementor |
  | 9 | 9 | \* Domain Path: /languages |
  | 10 |  | \* Version: 1.6.2~~8~~ |
  |  | 10 | \* Version: 1.6.29 |
  | 11 | 11 | \* Elementor tested up to: 3.21 |
  | 12 | 12 | \* Elementor Pro tested up to: 3.21 |
  | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L15) | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3086402#L15) |  |
  | 15 | 15 | \*/ |
  | 16 | 16 |  |
  | 17 |  | define( 'HFE\_VER', '1.6.2~~8~~' ); |
  |  | 17 | define( 'HFE\_VER', '1.6.29' ); |
  | 18 | 18 | define( 'HFE\_FILE', \_\_FILE\_\_ ); |
  | 19 | 19 | define( 'HFE\_DIR', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
  | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3071514#L26) | […](/browser/header-footer-elementor/trunk/header-footer-elementor.php?rev=3086402#L26) |  |
  | 26 | 26 | \*/ |
  | 27 | 27 | require\_once HFE\_DIR . '/inc/class-header-footer-elementor.php'; |
  |  | 28 |  |
  |  | 29 | /\*\* |
  |  | 30 | \* Include Composer autoloader. |
  |  | 31 | \*/ |
  |  | 32 | require\_once HFE\_DIR . 'vendor/autoload.php'; |
  | 28 | 33 |  |
  | 29 | 34 | /\*\* |
* ## [header-footer-elementor/trunk/inc/class-hfe-settings-page.php](/changeset/3086402/header-footer-elementor/trunk/inc/class-hfe-settings-page.php "Show the changeset 3086402 restricted to header-footer-elementor/trunk/inc/class-hfe-settings-page.php")

  | [r3028025](/browser/header-footer-elementor/trunk/inc/class-hfe-settings-page.php?rev=3028025#L166 "Show revision 3028025 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/inc/class-hfe-settings-page.php?rev=3086402#L166 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 166 | 166 | <?php |
  | 167 | 167 | echo sprintf( |
  | 168 |  | ~~esc\_html\_\_( 'Sometimes above methods might not work well with your theme, in this case, contact your theme author and request them to add support for the <a href="https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-Header-Footer-Elementor-support-for-your-theme">plugin.</~~>', 'header-footer-elementor' ), |
  |  | 168 | wp\_kses( 'Sometimes above methods might not work well with your theme, in this case, contact your theme author and request them to add support for the <a href="https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-Header-Footer-Elementor-support-for-your-theme">plugin.</a>', 'header-footer-elementor' ), |
  | 169 | 169 | '<br>' |
  | 170 | 170 | ); |
* ## [header-footer-elementor/trunk/inc/widgets-css/frontend.css](/changeset/3086402/header-footer-elementor/trunk/inc/widgets-css/frontend.css "Show the changeset 3086402 restricted to header-footer-elementor/trunk/inc/widgets-css/frontend.css")

  | [r3034938](/browser/header-footer-elementor/trunk/inc/widgets-css/frontend.css?rev=3034938#L121 "Show revision 3034938 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/inc/widgets-css/frontend.css?rev=3086402#L121 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 121 | 121 | } |
  | 122 | 122 |  |
  |  | 123 | .hfe-nav-menu\_\_layout-horizontal .hfe-nav-menu .sub-menu { |
  |  | 124 | display: none; |
  |  | 125 | } |
  |  | 126 |  |
  |  | 127 | .hfe-nav-menu\_\_layout-horizontal .hfe-nav-menu li.menu-item:hover > .sub-menu { |
  |  | 128 | display: block; |
  |  | 129 | } |
  | 123 | 130 |  |
  | 124 | 131 | /\* Alignemnt CSS \*/ |
* ## [header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php](/changeset/3086402/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php "Show the changeset 3086402 restricted to header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php")

  | [r3003681](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3003681#L58 "Show revision 3003681 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3086402#L58 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 58 | 58 | // Add svg support. |
  | 59 | 59 | add\_filter( 'upload\_mimes', [ $this, 'hfe\_svg\_mime\_types' ] ); // PHPCS:Ignore WordPressVIPMinimum.Hooks.RestrictedHooks.upload\_mimes |
  |  | 60 |  |
  |  | 61 | // Add filter to sanitize uploaded SVG files. |
  |  | 62 | add\_filter( 'wp\_handle\_upload\_prefilter', [ $this, 'sanitize\_uploaded\_svg' ] ); |
  | 60 | 63 |  |
  | 61 | 64 | // Refresh the cart fragments. |
  | […](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3003681#L161) | […](/browser/header-footer-elementor/trunk/inc/widgets-manager/class-widgets-loader.php?rev=3086402#L164) |  |
  | 161 | 164 |  |
  | 162 | 165 | /\*\* |
  |  | 166 | \* Sanitize uploaded SVG files before they are saved. |
  |  | 167 | \* |
  |  | 168 | \* @param array $file Array of uploaded file information. |
  |  | 169 | \* @return array Modified array of uploaded file information. |
  |  | 170 | \*/ |
  |  | 171 | public function sanitize\_uploaded\_svg( $file ) { |
  |  | 172 | if ( 'image/svg+xml' === $file['type'] ) { |
  |  | 173 | $clean\_svg = $this->sanitize\_svg( $file['tmp\_name'] ); |
  |  | 174 |  |
  |  | 175 | if ( false !== $clean\_svg ) { |
  |  | 176 | file\_put\_contents( $file['tmp\_name'], $clean\_svg ); |
  |  | 177 | } |
  |  | 178 | } |
  |  | 179 |  |
  |  | 180 | return $file; |
  |  | 181 | } |
  |  | 182 | /\*\* |
  |  | 183 | \* Sanitize SVG content using enshrined\svgSanitize\Sanitizer. |
  |  | 184 | \* |
  |  | 185 | \* @param string $file\_path Path to the SVG file. |
  |  | 186 | \* @return string|bool Sanitized SVG content or false on failure. |
  |  | 187 | \*/ |
  |  | 188 | public function sanitize\_svg( $file\_path ) { |
  |  | 189 | $sanitizer = new \enshrined\svgSanitize\Sanitizer(); |
  |  | 190 | $dirty\_svg = file\_get\_contents( $file\_path ); |
  |  | 191 | $clean\_svg = $sanitizer->sanitize( $dirty\_svg ); |
  |  | 192 |  |
  |  | 193 | if ( false !== $clean\_svg ) { |
  |  | 194 | return $clean\_svg; |
  |  | 195 | } else { |
  |  | 196 | return false; |
  |  | 197 | } |
  |  | 198 | } |
  |  | 199 |  |
  |  | 200 | /\*\* |
  | 163 | 201 | \* Register Category |
  | 164 | 202 | \* |
* ## [header-footer-elementor/trunk/languages/header-footer-elementor.pot](/changeset/3086402/header-footer-elementor/trunk/languages/header-footer-elementor.pot "Show the changeset 3086402 restricted to header-footer-elementor/trunk/languages/header-footer-elementor.pot")

  | [r3071514](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L3 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3086402#L3 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | msgid "" |
  | 4 | 4 | msgstr "" |
  | 5 |  | "Project-Id-Version: Elementor Header & Footer Builder 1.6.2~~8~~\n" |
  |  | 5 | "Project-Id-Version: Elementor Header & Footer Builder 1.6.29\n" |
  | 6 | 6 | "Report-Msgid-Bugs-To: " |
  | 7 | 7 | "https://wordpress.org/support/plugin/header-footer-elementor\n" |
  | 8 |  | "POT-Creation-Date: 2024-0~~4-16 10:00:51~~+00:00\n" |
  |  | 8 | "POT-Creation-Date: 2024-05-14 05:36:53+00:00\n" |
  | 9 | 9 | "MIME-Version: 1.0\n" |
  | 10 | 10 | "Content-Type: text/plain; charset=utf-8\n" |
  | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L390) | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3086402#L390) |  |
  | 390 | 390 | msgstr "" |
  | 391 | 391 |  |
  | 392 |  | ~~#: inc/class-hfe-settings-page.php:168~~ |
  | 393 |  | ~~msgid ""~~ |
  | 394 |  | ~~"Sometimes above methods might not work well with your theme, in this case, "~~ |
  | 395 |  | ~~"contact your theme author and request them to add support for the <a "~~ |
  | 396 |  | ~~"href=\"https://github.com/Nikschavan/header-footer-elementor/wiki/Adding-"~~ |
  | 397 |  | ~~"Header-Footer-Elementor-support-for-your-theme\">plugin.</>"~~ |
  | 398 |  | ~~msgstr ""~~ |
  | 399 |  |  |
  | 400 | 392 | #: inc/class-hfe-settings-page.php:187 inc/class-hfe-settings-page.php:188 |
  | 401 | 393 | #: inc/class-hfe-settings-page.php:833 |
  | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3071514#L741) | […](/browser/header-footer-elementor/trunk/languages/header-footer-elementor.pot?rev=3086402#L733) |  |
  | 741 | 733 | msgstr "" |
  | 742 | 734 |  |
  | 743 |  | #: inc/widgets-manager/class-widgets-loader.php:2~~34~~ |
  |  | 735 | #: inc/widgets-manager/class-widgets-loader.php:272 |
  | 744 | 736 | #: inc/widgets-manager/widgets/class-cart.php:51 |
  | 745 | 737 | #: inc/widgets-manager/widgets/class-cart.php:651 |
* ## [header-footer-elementor/trunk/readme.txt](/changeset/3086402/header-footer-elementor/trunk/readme.txt "Show the changeset 3086402 restricted to header-footer-elementor/trunk/readme.txt")

  | [r3071514](/browser/header-footer-elementor/trunk/readme.txt?rev=3071514#L6 "Show revision 3071514 of this file in browser") | [r3086402](/browser/header-footer-elementor/trunk/readme.txt?rev=3086402#L6 "Show revision 3086402 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires PHP: 5.4 |
  | 7 | 7 | Tested up to: 6.5 |
  | 8 |  | Stable tag: 1.6.2~~8~~ |
  |  | 8 | Stable tag: 1.6.29 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/header-footer-elementor/trunk/readme.txt?rev=3071514#L141) | […](/browser/header-footer-elementor/trunk/readme.txt?rev=3086402#L141) |  |
  | 141 | 141 | == Changelog == |
  | 142 | 142 |  |
  |  | 143 | = 1.6.29 = |
  |  | 144 | - Fix: Navigation Menu – The submenu container opens without hovering over the parent menu item. |
  |  | 145 | - Fix: This update addressed a security bug. Props to Wordfence. |
  |  | 146 |  |
  | 143 | 147 | = 1.6.28 = |
  | 144 | 148 | - Fix: Error messages appearing for Display rules. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3086402)
* [Zip Archive](?format=zip&new=3086402)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

