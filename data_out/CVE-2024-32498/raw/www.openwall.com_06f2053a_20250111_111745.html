<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>oss-security - [OSSA-2024-001] OpenStack Cinder, Glance, Nova: Arbitrary file
 access through custom QCOW2 external data (CVE-2024-32498)</title>

<link href="/style.css" type="text/css" rel="stylesheet">
<style type="text/css">
.calendar { text-align: center; }
.ccell { background: #ccc; width: 5ex; padding: 2px; }

.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>
</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">


<table bgcolor="#ffffff" width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>

<td>
<a href="/"><img class="logo" src="/logo.png" border="0" width="182" height="80" alt="Openwall"></a>
<td width="100%">
<div class="nav">
<ul>
<li><a href="/">Products</a>
<ul>
<li><a href="/Owl/">Openwall GNU/*/Linux &nbsp; <i>server OS</i></a>
<li><a href="/lkrg/">Linux Kernel Runtime Guard</a>
<li><a href="/john/">John the Ripper &nbsp; <i>password cracker</i></a>
<ul>
<li><a href="/john/">Free &amp; Open Source for any platform</a>
<li><a href="/john/cloud/">in the cloud</a>
<li><a href="/john/pro/linux/">Pro for Linux</a>
<li><a href="/john/pro/macosx/">Pro for macOS</a>
</ul>
<li><a href="/wordlists/">Wordlists &nbsp; <i>for password cracking</i></a>
<li><a href="/passwdqc/">passwdqc &nbsp; <i>policy enforcement</i></a>
<ul>
<li><a href="/passwdqc/">Free &amp; Open Source for Unix</a>
<li><a href="/passwdqc/windows/">Pro for Windows (Active Directory)</a>
</ul>
<li><a href="/yescrypt/">yescrypt &nbsp; <i>KDF &amp; password hashing</i></a>
<li><a href="/yespower/">yespower &nbsp; <i>Proof-of-Work (PoW)</i></a>
<li><a href="/crypt/">crypt_blowfish &nbsp; <i>password hashing</i></a>
<li><a href="/phpass/">phpass &nbsp; <i>ditto in PHP</i></a>
<li><a href="/tcb/">tcb &nbsp; <i>better password shadowing</i></a>
<li><a href="/pam/">Pluggable Authentication Modules</a>
<li><a href="/scanlogd/">scanlogd &nbsp; <i>port scan detector</i></a>
<li><a href="/popa3d/">popa3d &nbsp; <i>tiny POP3 daemon</i></a>
<li><a href="/blists/">blists &nbsp; <i>web interface to mailing lists</i></a>
<li><a href="/msulogin/">msulogin &nbsp; <i>single user mode login</i></a>
<li><a href="/php_mt_seed/">php_mt_seed &nbsp; <i>mt_rand() cracker</i></a>
</ul>
<li><a href="/services/">Services</a>
<li id="narrow-li-1"><a>Publications</a>
<ul>
<li><a href="/articles/">Articles</a>
<li><a href="/presentations/">Presentations</a>
</ul>
<li><a>Resources</a>
<ul>
<li><a href="/lists/">Mailing lists</a>
<li><a href="https://openwall.info/wiki/">Community wiki</a>
<li><a href="https://github.com/openwall">Source code repositories (GitHub)</a>
<li><a href="https://cvsweb.openwall.com">Source code repositories (CVSweb)</a>
<li><a href="/mirrors/">File archive &amp; mirrors</a>
<li><a href="/signatures/">How to verify digital signatures</a>
<li><a href="/ove/">OVE IDs</a>
</ul>
<li id="last-li"><a href="/news">What's new</a>
</ul>
</div>


</table>


<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">
<a href="https://hashsuite.openwall.net">
Hash Suite - Windows password security audit tool. GUI, reports in PDF.</a>

</TABLE>
</TABLE>

<a href="1">[&lt;prev]</a> <a href="../../../2024/07/03/1">[next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;20240702150121.fxt4445gwlrxwk3r&#64;yuggoth.org&gt;
Date: Tue, 2 Jul 2024 15:01:21 +0000
From: Jeremy Stanley &lt;fungi&#64;...goth.org&gt;
To: oss-security&#64;...ts.openwall.com
Subject: [OSSA-2024-001] OpenStack Cinder, Glance, Nova: Arbitrary file
 access through custom QCOW2 external data (CVE-2024-32498)

=======================================================================
OSSA-2024-001: Arbitrary file access through custom QCOW2 external data
=======================================================================

:Date: July 02, 2024
:CVE: CVE-2024-32498


Affects
~~~~~~~
- Cinder: &lt;22.1.3, &gt;=23.0.0 &lt;23.1.1, ==24.0.0
- Glance: &lt;26.0.1, ==27.0.0, &gt;=28.0.0 &lt;28.0.2
- Nova: &lt;27.3.1, &gt;=28.0.0 &lt;28.1.1, &gt;=29.0.0 &lt;29.0.3


Description
~~~~~~~~~~~
Martin Kaesberger reported a vulnerability in QCOW2 image processing
for Cinder, Glance and Nova. By supplying a specially created QCOW2
image which references a specific data file path, an authenticated
user may convince systems to return a copy of that file's contents
from the server resulting in unauthorized access to potentially
sensitive data. All Cinder deployments are affected; only Glance
deployments with image conversion enabled are affected; all Nova
deployments are affected.



Patches
~~~~~~~
- <a href="https://review.opendev.org/923247" rel="nofollow">https://review.opendev.org/923247</a> (2023.1/antelope(cinder))
- <a href="https://review.opendev.org/923277" rel="nofollow">https://review.opendev.org/923277</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923278" rel="nofollow">https://review.opendev.org/923278</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923279" rel="nofollow">https://review.opendev.org/923279</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923280" rel="nofollow">https://review.opendev.org/923280</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923281" rel="nofollow">https://review.opendev.org/923281</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923282" rel="nofollow">https://review.opendev.org/923282</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923283" rel="nofollow">https://review.opendev.org/923283</a> (2023.1/antelope(glance))
- <a href="https://review.opendev.org/923288" rel="nofollow">https://review.opendev.org/923288</a> (2023.1/antelope(nova))
- <a href="https://review.opendev.org/923289" rel="nofollow">https://review.opendev.org/923289</a> (2023.1/antelope(nova))
- <a href="https://review.opendev.org/923290" rel="nofollow">https://review.opendev.org/923290</a> (2023.1/antelope(nova))
- <a href="https://review.opendev.org/923281" rel="nofollow">https://review.opendev.org/923281</a> (2023.1/antelope(nova))
- <a href="https://review.opendev.org/923246" rel="nofollow">https://review.opendev.org/923246</a> (2023.2/bobcat(cinder))
- <a href="https://review.opendev.org/923266" rel="nofollow">https://review.opendev.org/923266</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923267" rel="nofollow">https://review.opendev.org/923267</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923268" rel="nofollow">https://review.opendev.org/923268</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923269" rel="nofollow">https://review.opendev.org/923269</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923270" rel="nofollow">https://review.opendev.org/923270</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923271" rel="nofollow">https://review.opendev.org/923271</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923272" rel="nofollow">https://review.opendev.org/923272</a> (2023.2/bobcat(glance))
- <a href="https://review.opendev.org/923284" rel="nofollow">https://review.opendev.org/923284</a> (2023.2/bobcat(nova))
- <a href="https://review.opendev.org/923285" rel="nofollow">https://review.opendev.org/923285</a> (2023.2/bobcat(nova))
- <a href="https://review.opendev.org/923286" rel="nofollow">https://review.opendev.org/923286</a> (2023.2/bobcat(nova))
- <a href="https://review.opendev.org/923287" rel="nofollow">https://review.opendev.org/923287</a> (2023.2/bobcat(nova))
- <a href="https://review.opendev.org/923245" rel="nofollow">https://review.opendev.org/923245</a> (2024.1/caracal(cinder))
- <a href="https://review.opendev.org/923259" rel="nofollow">https://review.opendev.org/923259</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923260" rel="nofollow">https://review.opendev.org/923260</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923261" rel="nofollow">https://review.opendev.org/923261</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923262" rel="nofollow">https://review.opendev.org/923262</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923263" rel="nofollow">https://review.opendev.org/923263</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923264" rel="nofollow">https://review.opendev.org/923264</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923265" rel="nofollow">https://review.opendev.org/923265</a> (2024.1/caracal(glance))
- <a href="https://review.opendev.org/923273" rel="nofollow">https://review.opendev.org/923273</a> (2024.1/caracal(nova))
- <a href="https://review.opendev.org/923274" rel="nofollow">https://review.opendev.org/923274</a> (2024.1/caracal(nova))
- <a href="https://review.opendev.org/923275" rel="nofollow">https://review.opendev.org/923275</a> (2024.1/caracal(nova))
- <a href="https://review.opendev.org/923276" rel="nofollow">https://review.opendev.org/923276</a> (2024.1/caracal(nova))
- <a href="https://review.opendev.org/923244" rel="nofollow">https://review.opendev.org/923244</a> (2024.2/dalmatian(cinder))
- <a href="https://review.opendev.org/923248" rel="nofollow">https://review.opendev.org/923248</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923249" rel="nofollow">https://review.opendev.org/923249</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923250" rel="nofollow">https://review.opendev.org/923250</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923251" rel="nofollow">https://review.opendev.org/923251</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923252" rel="nofollow">https://review.opendev.org/923252</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923253" rel="nofollow">https://review.opendev.org/923253</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923254" rel="nofollow">https://review.opendev.org/923254</a> (2024.2/dalmatian(glance))
- <a href="https://review.opendev.org/923255" rel="nofollow">https://review.opendev.org/923255</a> (2024.2/dalmatian(nova))
- <a href="https://review.opendev.org/923256" rel="nofollow">https://review.opendev.org/923256</a> (2024.2/dalmatian(nova))
- <a href="https://review.opendev.org/923257" rel="nofollow">https://review.opendev.org/923257</a> (2024.2/dalmatian(nova))
- <a href="https://review.opendev.org/923258" rel="nofollow">https://review.opendev.org/923258</a> (2024.2/dalmatian(nova))


Credits
~~~~~~~
- Martin Kaesberger (CVE-2024-32498)


References
~~~~~~~~~~
- <a href="https://launchpad.net/bugs/2059809" rel="nofollow">https://launchpad.net/bugs/2059809</a>
- <a href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-32498" rel="nofollow">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-32498</a>


Notes
~~~~~
- Due to the scope of the problem and complexity of the resulting
  fixes, regressions and additional bypasses were reported in the
  original bug by downstream stakeholders during the coordinated
  disclosure period. As a result, our initially chosen publication
  date was rescheduled, which put the advisory four days past our
  promised ninety day maximum embargo length. Additional revised
  patches and regression fixes were supplied to stakeholders as soon
  as possible, but we understand the unfortunate timing of these
  last-minute changes resulted in a lot of additional work for
  everyone involved.

-- 
Jeremy Stanley
OpenStack Vulnerability Management Team

<span style="font-family: times;"><strong>Download attachment "</strong><a href="2/1" rel="nofollow" download>signature.asc</a><strong>" of type "</strong>application/pgp-signature<strong>" (964 bytes)</strong></span>
</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>
Please check out the
<a href="https://oss-security.openwall.org/wiki/">
Open Source Software Security Wiki</a>, which is counterpart to this
<a href="https://oss-security.openwall.org/wiki/mailing-lists/oss-security">mailing list</a>.
<p>
Confused about <a href="/lists/">mailing lists</a> and their use?
<a href="https://en.wikipedia.org/wiki/Electronic_mailing_list">Read about mailing lists on Wikipedia</a>
and check out these
<a href="https://www.complang.tuwien.ac.at/anton/mail-news-errors.html">guidelines on proper formatting of your messages</a>.
<p>

</body>
</html>
