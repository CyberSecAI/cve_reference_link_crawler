=== Content from github.com_33342e1e_20250110_193614.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fsecurity%2Fadvisories%2FGHSA-578p-fxmm-6229)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fsecurity%2Fadvisories%2FGHSA-578p-fxmm-6229)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=FelixSchwarz%2Fmjml-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[FelixSchwarz](/FelixSchwarz)
/
**[mjml-python](/FelixSchwarz/mjml-python)**
Public

* [Notifications](/login?return_to=%2FFelixSchwarz%2Fmjml-python) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2FFelixSchwarz%2Fmjml-python)
* [Star
   78](/login?return_to=%2FFelixSchwarz%2Fmjml-python)

* [Code](/FelixSchwarz/mjml-python)
* [Issues
  3](/FelixSchwarz/mjml-python/issues)
* [Pull requests
  2](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

Additional navigation options

* [Code](/FelixSchwarz/mjml-python)
* [Issues](/FelixSchwarz/mjml-python/issues)
* [Pull requests](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

# Potentially untrusted input is rendered as HTML in final output

High

[FelixSchwarz](/FelixSchwarz)
published
GHSA-578p-fxmm-6229
Feb 22, 2024

## Package

pip

mjml-python
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

0.10.0

## Patched versions

0.11.0

## Description

### Impact

All users of mjml-python who insert untrusted data into mjml templates unless that data is checked in a very strict manner. User input like `&lt;script&gt;` would be rendered as `<script>` in the final HTML output.

The attacker must be able to control some data which is later injected in an mjml template which is then send out as email to other users. The attacker could control contents of email messages sent through the platform.

### Patches

The problem has been fixed in version 0.11.0 of this library. Versions before 0.10.0 are not affected by this security issue which was added as part of commit [84c495d](https://github.com/FelixSchwarz/mjml-python/commit/84c495da20a91640a1ca551ace17df7f3be644aa).

### Workarounds

* Ensure that potentially untrusted user input does not contain any sequences which could be rendered as HTML.

### References

* Initial issue report by [@sh-at-cs](https://github.com/sh-at-cs) in [#52](https://github.com/FelixSchwarz/mjml-python/issues/52)

### Severity

High

8.2

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
Low

User interaction
Required

Scope
Changed

Confidentiality
Low

Integrity
High

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:H/A:L

### CVE ID

CVE-2024-26151

### Weaknesses

No CWEs

### Credits

* [![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=40&v=4)](/sh-at-cs)
  [sh-at-cs](/sh-at-cs)
  Reporter

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_d9227b0f_20250110_193612.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F8d410b7a500703080bb14ed7e3d2663fe16767e6)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F8d410b7a500703080bb14ed7e3d2663fe16767e6)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=FelixSchwarz%2Fmjml-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[FelixSchwarz](/FelixSchwarz)
/
**[mjml-python](/FelixSchwarz/mjml-python)**
Public

* [Notifications](/login?return_to=%2FFelixSchwarz%2Fmjml-python) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2FFelixSchwarz%2Fmjml-python)
* [Star
   78](/login?return_to=%2FFelixSchwarz%2Fmjml-python)

* [Code](/FelixSchwarz/mjml-python)
* [Issues
  3](/FelixSchwarz/mjml-python/issues)
* [Pull requests
  2](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

Additional navigation options

* [Code](/FelixSchwarz/mjml-python)
* [Issues](/FelixSchwarz/mjml-python/issues)
* [Pull requests](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

## Commit

[Permalink](/FelixSchwarz/mjml-python/commit/8d410b7a500703080bb14ed7e3d2663fe16767e6)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

escaped HTML entities like `&gt;` were unescaped in the final mjml ou‚Ä¶

[Browse files](/FelixSchwarz/mjml-python/tree/8d410b7a500703080bb14ed7e3d2663fe16767e6)
Browse the repository at this point in the history

```
‚Ä¶tput
```

* Loading branch information

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=40&v=4)](/FelixSchwarz)

[FelixSchwarz](/FelixSchwarz/mjml-python/commits?author=FelixSchwarz "View all commits by FelixSchwarz")
committed
Feb 22, 2024

1 parent
[136697f](/FelixSchwarz/mjml-python/commit/136697fcb39956f62136644aea03fd6e7da96bb1)

commit 8d410b7

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**147 additions**
and
**4 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* CHANGELOG.md
  [CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
* mjml

  + elements/head

    - mjml/elements/head/mj\_style.py
      [mj\_style.py](#diff-21af48f504e71e0d695a80781fb09ad56bae2e72a87ecfbe0ddc444707193406)
  + mjml/mjml2html.py
    [mjml2html.py](#diff-223c5c3c47c5eb2f20eb68c57af73399b7a5c647f086936a776c1b0ec1cb781f)
* tests

  + testdata

    - tests/testdata/mj-text-escaped-html-expected.html
      [mj-text-escaped-html-expected.html](#diff-25b5edd4241cd1ee780090fecb9543a097c8e11f8609c6de27486fcef468a90c)
    - tests/testdata/mj-text-escaped-html.mjml
      [mj-text-escaped-html.mjml](#diff-ebbacb2c380bed412879d71c18888b9fb84f0ebfc9d2d35bf63f50b33aeafcec)
  + tests/upstream\_alignment\_test.py
    [upstream\_alignment\_test.py](#diff-344140b0a02d143e8e5f17c5267258129f7c80f3f53f0421cc9b8bad174a65df)

## There are no files selected for viewing

6 changes: 6 additions & 0 deletions

6
[CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed "CHANGELOG.md")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/CHANGELOG.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,4 +1,10 @@ |
|  |  |  |
|  |  | 0.11.0 (2024-02-xx) |
|  |  | ------------------- |
|  |  |  |
|  |  | - security fix: escaped HTML entities like `&gt;` were unescaped in the final mjml output, leading to potential injection of untrusted user data (reported by @sh-at-cs) |
|  |  |  |
|  |  |  |
|  |  | 0.10.0 (2023-11-17) |
|  |  | ------------------ |
|  |  |  |
| Expand Down | |  |

9 changes: 7 additions & 2 deletions

9
[mjml/elements/head/mj\_style.py](#diff-21af48f504e71e0d695a80781fb09ad56bae2e72a87ecfbe0ddc444707193406 "mjml/elements/head/mj_style.py")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/mjml/elements/head/mj_style.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,10 +10,15 @@ class MjStyle(HeadComponent): |
|  |  | @classmethod |
|  |  | def default\_attrs(cls): |
|  |  | return { |
|  |  | 'inline' : '', |
|  |  | 'inline': '', |
|  |  | } |
|  |  |  |
|  |  | def handler(self): |
|  |  | add = self.context['add'] |
|  |  | inline\_attr = 'inlineStyle' if (self.get\_attr('inline') == 'inline') else 'style' |
|  |  | add(inline\_attr, self.getContent()) |
|  |  | html\_str = self.getContent() |
|  |  | # CSS can contain child selectors (e.g. "h1 > p") beautifulsoup only |
|  |  | # returns escaped entities. To make these selectors work, we need to |
|  |  | # unescape these. |
|  |  | css\_str = html\_str.replace('&gt;', '>') |
|  |  | add(inline\_attr, css\_str) |

4 changes: 2 additions & 2 deletions

4
[mjml/mjml2html.py](#diff-223c5c3c47c5eb2f20eb68c57af73399b7a5c647f086936a776c1b0ec1cb781f "mjml/mjml2html.py")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/mjml/mjml2html.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -116,7 +116,7 @@ def parse(\_mjml, parentMjClass='', \*, template\_dir): |
|  |  | classes = ignore\_empty(attributes.get('mj-class', '').split(' ')) |
|  |  |  |
|  |  | # upstream parses text contents (+ comments) in mjml-parser-xml/index.js |
|  |  | content = \_mjml.decode\_contents(formatter=None) |
|  |  | content = \_mjml.decode\_contents() |
|  |  |  |
|  |  | attributesClasses = {} |
|  |  | for css\_class in classes: |
| Expand Down  Expand Up | | @@ -213,7 +213,7 @@ def \_head\_data\_add(attr, \*params): |
|  |  | for element in contentSoup.select(selector): |
|  |  | element[attrName] = value or '' |
|  |  |  |
|  |  | content = contentSoup.decode\_contents(formatter=None) |
|  |  | content = contentSoup.decode\_contents() |
|  |  |  |
|  |  | content = skeleton( |
|  |  | content=content, |
| Expand Down | |  |

120 changes: 120 additions & 0 deletions

120
[tests/testdata/mj-text-escaped-html-expected.html](#diff-25b5edd4241cd1ee780090fecb9543a097c8e11f8609c6de27486fcef468a90c "tests/testdata/mj-text-escaped-html-expected.html")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/tests/testdata/mj-text-escaped-html-expected.html)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,120 @@ |
|  |  | <!doctype html> |
|  |  | <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"> |
|  |  |  |
|  |  | <head> |
|  |  | <title> |
|  |  | </title> |
|  |  | <!--[if !mso]><!--> |
|  |  | <meta http-equiv="X-UA-Compatible" content="IE=edge"> |
|  |  | <!--<![endif]--> |
|  |  | <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> |
|  |  | <meta name="viewport" content="width=device-width, initial-scale=1"> |
|  |  | <style type="text/css"> |
|  |  | #outlook a { |
|  |  | padding: 0; |
|  |  | } |
|  |  |  |
|  |  | body { |
|  |  | margin: 0; |
|  |  | padding: 0; |
|  |  | -webkit-text-size-adjust: 100%; |
|  |  | -ms-text-size-adjust: 100%; |
|  |  | } |
|  |  |  |
|  |  | table, |
|  |  | td { |
|  |  | border-collapse: collapse; |
|  |  | mso-table-lspace: 0pt; |
|  |  | mso-table-rspace: 0pt; |
|  |  | } |
|  |  |  |
|  |  | img { |
|  |  | border: 0; |
|  |  | height: auto; |
|  |  | line-height: 100%; |
|  |  | outline: none; |
|  |  | text-decoration: none; |
|  |  | -ms-interpolation-mode: bicubic; |
|  |  | } |
|  |  |  |
|  |  | p { |
|  |  | display: block; |
|  |  | margin: 13px 0; |
|  |  | } |
|  |  |  |
|  |  | </style> |
|  |  | <!--[if mso]> |
|  |  | <noscript> |
|  |  | <xml> |
|  |  | <o:OfficeDocumentSettings> |
|  |  | <o:AllowPNG/> |
|  |  | <o:PixelsPerInch>96</o:PixelsPerInch> |
|  |  | </o:OfficeDocumentSettings> |
|  |  | </xml> |
|  |  | </noscript> |
|  |  | <![endif]--> |
|  |  | <!--[if lte mso 11]> |
|  |  | <style type="text/css"> |
|  |  | .mj-outlook-group-fix { width:100% !important; } |
|  |  | </style> |
|  |  | <![endif]--> |
|  |  | <!--[if !mso]><!--> |
|  |  | <link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700" rel="stylesheet" type="text/css"> |
|  |  | <style type="text/css"> |
|  |  | @import url(https://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700); |
|  |  |  |
|  |  | </style> |
|  |  | <!--<![endif]--> |
|  |  | <style type="text/css"> |
|  |  | @media only screen and (min-width:480px) { |
|  |  | .mj-column-per-100 { |
|  |  | width: 100% !important; |
|  |  | max-width: 100%; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | </style> |
|  |  | <style media="screen and (min-width:480px)"> |
|  |  | .moz-text-html .mj-column-per-100 { |
|  |  | width: 100% !important; |
|  |  | max-width: 100%; |
|  |  | } |
|  |  |  |
|  |  | </style> |
|  |  | <style type="text/css"> |
|  |  | </style> |
|  |  | <style type="text/css"> |
|  |  | </style> |
|  |  | </head> |
|  |  |  |
|  |  | <body style="word-spacing:normal;"> |
|  |  | <div style=""> |
|  |  | <!--[if mso | IE]><table align="center" border="0" cellpadding="0" cellspacing="0" class="" role="presentation" style="width:600px;" width="600" ><tr><td style="line-height:0px;font-size:0px;mso-line-height-rule:exactly;"><![endif]--> |
|  |  | <div style="margin:0px auto;max-width:600px;"> |
|  |  | <table align="center" border="0" cellpadding="0" cellspacing="0" role="presentation" style="width:100%;"> |
|  |  | <tbody> |
|  |  | <tr> |
|  |  | <td style="direction:ltr;font-size:0px;padding:20px 0;text-align:center;"> |
|  |  | <!--[if mso | IE]><table role="presentation" border="0" cellpadding="0" cellspacing="0"><tr><td class="" style="vertical-align:top;width:600px;" ><![endif]--> |
|  |  | <div class="mj-column-per-100 mj-outlook-group-fix" style="font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;"> |
|  |  | <table border="0" cellpadding="0" cellspacing="0" role="presentation" style="vertical-align:top;" width="100%"> |
|  |  | <tbody> |
|  |  | <tr> |
|  |  | <td align="left" style="font-size:0px;padding:10px 25px;word-break:break-word;"> |
|  |  | <div style="font-family:Ubuntu, Helvetica, Arial, sans-serif;font-size:13px;line-height:1;text-align:left;color:#000000;">Pretty unsafe: &lt;script&gt;</div> |
|  |  | </td> |
|  |  | </tr> |
|  |  | </tbody> |
|  |  | </table> |
|  |  | </div> |
|  |  | <!--[if mso | IE]></td></tr></table><![endif]--> |
|  |  | </td> |
|  |  | </tr> |
|  |  | </tbody> |
|  |  | </table> |
|  |  | </div> |
|  |  | <!--[if mso | IE]></td></tr></table><![endif]--> |
|  |  | </div> |
|  |  | </body> |
|  |  |  |
|  |  | </html> |

11 changes: 11 additions & 0 deletions

11
[tests/testdata/mj-text-escaped-html.mjml](#diff-ebbacb2c380bed412879d71c18888b9fb84f0ebfc9d2d35bf63f50b33aeafcec "tests/testdata/mj-text-escaped-html.mjml")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/tests/testdata/mj-text-escaped-html.mjml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,11 @@ |
|  |  | <mjml> |
|  |  | <mj-body> |
|  |  | <mj-section> |
|  |  | <mj-column> |
|  |  | <mj-text> |
|  |  | Pretty unsafe: &lt;script&gt; |
|  |  | </mj-text> |
|  |  | </mj-column> |
|  |  | </mj-section> |
|  |  | </mj-body> |
|  |  | </mjml> |

1 change: 1 addition & 0 deletions

1
[tests/upstream\_alignment\_test.py](#diff-344140b0a02d143e8e5f17c5267258129f7c80f3f53f0421cc9b8bad174a65df "tests/upstream_alignment_test.py")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/8d410b7a500703080bb14ed7e3d2663fe16767e6/tests/upstream_alignment_test.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -48,6 +48,7 @@ |
|  |  | 'mj-raw-head-with-tags', |
|  |  | 'mj-social', |
|  |  | 'mj-spacer', |
|  |  | 'mj-text-escaped-html', # this test is security-critical |
|  |  | 'mj-wrapper', |
|  |  | ) |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 1 comment on commit `8d410b7`

[![@Smartkeyss](https://avatars.githubusercontent.com/u/106775982?s=80&v=4)](/Smartkeyss)

Copy link

### @Smartkeyss **[Smartkeyss](/Smartkeyss)** commented on `[8d410b7](/FelixSchwarz/mjml-python/commit/8d410b7a500703080bb14ed7e3d2663fe16767e6)` [Mar 5, 2024](#commitcomment-139396108)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

My uujjjujjjjjuujjjujjjjjjjj

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F8d410b7a500703080bb14ed7e3d2663fe16767e6) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_b1bee1ee_20250110_193613.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fissues%2F52)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fissues%2F52)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=FelixSchwarz%2Fmjml-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[FelixSchwarz](/FelixSchwarz)
/
**[mjml-python](/FelixSchwarz/mjml-python)**
Public

* [Notifications](/login?return_to=%2FFelixSchwarz%2Fmjml-python) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2FFelixSchwarz%2Fmjml-python)
* [Star
   78](/login?return_to=%2FFelixSchwarz%2Fmjml-python)

* [Code](/FelixSchwarz/mjml-python)
* [Issues
  3](/FelixSchwarz/mjml-python/issues)
* [Pull requests
  2](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

Additional navigation options

* [Code](/FelixSchwarz/mjml-python)
* [Issues](/FelixSchwarz/mjml-python/issues)
* [Pull requests](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FFelixSchwarz%2Fmjml-python%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FFelixSchwarz%2Fmjml-python%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Escaped HTML tags are "un-escaped" when rendering HTML #52

Closed

[sh-at-cs](/sh-at-cs) opened this issue
Feb 19, 2024
¬∑ 8 comments
 ¬∑ Fixed by [#54](https://github.com/FelixSchwarz/mjml-python/pull/54)

Closed

# [Escaped HTML tags are "un-escaped" when rendering HTML](#top) #52

[sh-at-cs](/sh-at-cs) opened this issue
Feb 19, 2024
¬∑ 8 comments
 ¬∑ Fixed by [#54](https://github.com/FelixSchwarz/mjml-python/pull/54)

## Comments

[![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=80&u=c1a35087d0d516f15f1a6080c4294bcb03f3c194&v=4)](/sh-at-cs)

Copy link

### **[sh-at-cs](/sh-at-cs)** commented [Feb 19, 2024](#issue-2142438119) ‚Ä¢ edited Loading

| Consider:  ``` from mjml import mjml_to_html  result = mjml_to_html(""" <mjml>   <mj-body>     <mj-text>       Pretty unsafe: &lt;script&gt;     </mj-text>   </mj-body> </mjml>""")  print(result["html"]) ```  In the resulting HTML output, the formerly HTML-escaped `<` (`&lt;`) and `>` (`&gt`) are "un-escaped", so the rendered HTML actually contains `Pretty unsafe: <script>`.  Why does this happen? This *reverses* the user's safety measures and can be dangerous.  The MJML reference implementation doesn't do this and correctly keeps such escape sequences untouched: <https://mjml.io/try-it-live/fvvhZhdu9V> |
| --- |
| The text was updated successfully, but these errors were encountered: |

 üëÄ
1
 FelixSchwarz reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

[![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=40&u=c1a35087d0d516f15f1a6080c4294bcb03f3c194&v=4)](/sh-at-cs)
[sh-at-cs](/sh-at-cs)
changed the title
~~Escaped HTML tags are "un-escaped" when rendering to HTML~~
Escaped HTML tags are "un-escaped" when rendering HTML
[Feb 19, 2024](#event-11850765324)

[![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=80&u=c1a35087d0d516f15f1a6080c4294bcb03f3c194&v=4)](/sh-at-cs)

Copy link

Author

### **[sh-at-cs](/sh-at-cs)** commented [Feb 19, 2024](#issuecomment-1952981124) ‚Ä¢ edited Loading

| I tracked it down to the changes made in [84c495d](https://github.com/FelixSchwarz/mjml-python/commit/84c495da20a91640a1ca551ace17df7f3be644aa) ([#45](https://github.com/FelixSchwarz/mjml-python/pull/45)), where the `formatter` argument to BeautifulSoup's `decode_contents` was explicitly set to `None`. If it is set to `"minimal"` instead (the default and prior value), HTML escape sequences are left as they are.  But it seems like (part of) the whole point of [#45](https://github.com/FelixSchwarz/mjml-python/pull/45) was to **not** leave HTML entities as they are so as to fix [#44](https://github.com/FelixSchwarz/mjml-python/issues/44)...  [@caseyjhol](https://github.com/caseyjhol) Care to comment? üôÇ |
| --- |

All reactions

Sorry, something went wrong.

[![@caseyjhol](https://avatars.githubusercontent.com/u/2874325?s=80&u=7c48706ca46951c05d86fc80997a977b95e94188&v=4)](/caseyjhol)

Copy link

Contributor

### **[caseyjhol](/caseyjhol)** commented [Feb 19, 2024](#issuecomment-1953032176) ‚Ä¢ edited Loading

| Ah I could've sworn I tested and accounted for this scenario, but clearly I missed the mark. I think the better approach then might be to limit the scope to `mjStyle` rather than all HTML. |
| --- |

All reactions

Sorry, something went wrong.

[![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=80&u=c1a35087d0d516f15f1a6080c4294bcb03f3c194&v=4)](/sh-at-cs)

Copy link

Author

### **[sh-at-cs](/sh-at-cs)** commented [Feb 19, 2024](#issuecomment-1953197579)

| [@caseyjhol](https://github.com/caseyjhol) Thanks for the quick response! You're right, you did add an example of a very similar situation:   [mjml-python/tests/testdata/css-inlining.mjml](https://github.com/FelixSchwarz/mjml-python/blob/713d0aad96837d12f83627736eaa35e18ff3b9ec/tests/testdata/css-inlining.mjml#L22)  Line 22 in [713d0aa](/FelixSchwarz/mjml-python/commit/713d0aad96837d12f83627736eaa35e18ff3b9ec)   |  | &lt; Hello World &gt; | | --- | --- |      [mjml-python/tests/testdata/css-inlining-expected.html](https://github.com/FelixSchwarz/mjml-python/blob/713d0aad96837d12f83627736eaa35e18ff3b9ec/tests/testdata/css-inlining-expected.html#L127)  Line 127 in [713d0aa](/FelixSchwarz/mjml-python/commit/713d0aad96837d12f83627736eaa35e18ff3b9ec)   |  | <div style="font-family:helvetica;font-size:20px;line-height:1;text-align:left;color:#F45E43;"><span style="border: 3px solid blue;"> &lt; Hello World &gt; </span></div> | | --- | --- |      But as it turns out, the entities are in fact "un-escaped" during rendering of the test MJML file as described in this issue - the reason the test passes anyway is that the space between `&lt;` and `Hello` makes HTMLCompare consider them equal to `< Hello` (the rendered output). Minimal example:  ``` # no exception: htmlcompare.assert_same_html("&lt; script &gt;", "< script >") # exception: htmlcompare.assert_same_html("&lt;script &gt;", "<script >") ```  I haven't checked HTMLCompare's code, but I think this is probably because putting a space between `<` and the tag name [makes it stop being an HTML tag](https://stackoverflow.com/a/3314572/21564193), so the `<` is in fact equivalent to `&lt;` in this context.  But that is exactly the case that people *don't* need to guard against with sanitization/escaping. So the fix for this issue should add another test case (or extend this one) with an escaped HTML tag like `&lt;script&gt;`. |
| --- | --- | --- | --- | --- |

 ‚ù§Ô∏è
1
 FelixSchwarz reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=80&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)

Copy link

Owner

### **[FelixSchwarz](/FelixSchwarz)** commented [Feb 20, 2024](#issuecomment-1953727010)

| [@sh-at-cs](https://github.com/sh-at-cs) Thank you for reporting this issue, including the detailed analysis. I think this is a serious issue which we need to fix. I'll try to spend some time on this later - either on reviewing a solution or trying to fix this myself. When we merged [#45](https://github.com/FelixSchwarz/mjml-python/pull/45) somehow the security implications completely escaped my attention. |
| --- |

 üëç
1
 sh-at-cs reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 sh-at-cs reacted with heart emoji
 üöÄ
1
 sh-at-cs reacted with rocket emoji

All reactions

* üëç
  1 reaction
* ‚ù§Ô∏è
  1 reaction
* üöÄ
  1 reaction

Sorry, something went wrong.

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=80&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)

Copy link

Owner

### **[FelixSchwarz](/FelixSchwarz)** commented [Feb 21, 2024](#issuecomment-1956054365)

| Unfortunately all could do yesterday was to add the test case in a new branch [fix-escaped-html-tags](https://github.com/FelixSchwarz/mjml-python/compare/fix-escaped-html-tags).  How should we fix this issue? I see two approaches (just brainstorming here):   * contents of `<mj-style>` should be kept as-is * possibly parse the contents using [tinycss2](https://github.com/Kozea/tinycss2) to ensure this is really just CSS   Would that solve the issue if we also remove the `formatter=None`? As far as I could see, `css_inline` will keep the escaped sequences (as it should). |
| --- |

 üëç
1
 sh-at-cs reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 sh-at-cs reacted with heart emoji

All reactions

* üëç
  1 reaction
* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@caseyjhol](https://avatars.githubusercontent.com/u/2874325?s=80&u=7c48706ca46951c05d86fc80997a977b95e94188&v=4)](/caseyjhol)

Copy link

Contributor

### **[caseyjhol](/caseyjhol)** commented [Feb 21, 2024](#issuecomment-1956908305)

| Going to try to dig into this today a bit. |
| --- |

 üëç
1
 sh-at-cs reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 sh-at-cs reacted with heart emoji

All reactions

* üëç
  1 reaction
* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=80&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)

Copy link

Owner

### **[FelixSchwarz](/FelixSchwarz)** commented [Feb 21, 2024](#issuecomment-1957134524) ‚Ä¢ edited Loading

| I pushed some additional code in the branch [fix-escaped-html-tags](https://github.com/FelixSchwarz/mjml-python/compare/fix-escaped-html-tags). Basically the idea is to do the unescape only for contents of `<mj-style>`.  I also added CSS parsing using tinycss2. My idea is that this would blow up if the contents would be invalid (e.g. other HTML code) but I did not test that. Not sure if it is worth the additional dependency because arbitrary CSS can influence the displayed contents...  Update: It seems like tinycss happily parses even completely invalid HTML but I think css\_inline would remove that. Should we just assume that the `<mj-style>` does not contain untrusted user input? (and maybe add a section to the readme?) |
| --- |

 üëç
1
 sh-at-cs reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=80&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)

Copy link

Owner

### **[FelixSchwarz](/FelixSchwarz)** commented [Feb 21, 2024](#issuecomment-1957175150)

| Also maybe you can also check the security advisory draft I created for this issue. Feel free to suggest additions and please check if you agree with the severity classification. |
| --- |

All reactions

Sorry, something went wrong.

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=40&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)
[FelixSchwarz](/FelixSchwarz)
mentioned this issue
[Feb 21, 2024](#ref-pullrequest-2147737434)

[escaped HTML entities like `&gt;` were unescaped in the final mjml output
#54](/FelixSchwarz/mjml-python/pull/54)
 Merged

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=40&u=813ac44c46b5802ad3d5bd82969256d0458d7ef9&v=4)](/FelixSchwarz)
[FelixSchwarz](/FelixSchwarz)
closed this as [completed](/FelixSchwarz/mjml-python/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#54](/FelixSchwarz/mjml-python/pull/54)
[Feb 22, 2024](#event-11893912617)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fissues%2F52)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [escaped HTML entities like `&gt;` were unescaped in the final mjml output](/FelixSchwarz/mjml-python/pull/54)
 [FelixSchwarz/mjml-python](/FelixSchwarz/mjml-python)

3 participants

[![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=52&v=4)](/FelixSchwarz) [![@caseyjhol](https://avatars.githubusercontent.com/u/2874325?s=52&v=4)](/caseyjhol) [![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=52&v=4)](/sh-at-cs)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_fb5f63ce_20250110_193613.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Freleases%2Ftag%2Fv0.11.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Freleases%2Ftag%2Fv0.11.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=FelixSchwarz%2Fmjml-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[FelixSchwarz](/FelixSchwarz)
/
**[mjml-python](/FelixSchwarz/mjml-python)**
Public

* [Notifications](/login?return_to=%2FFelixSchwarz%2Fmjml-python) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2FFelixSchwarz%2Fmjml-python)
* [Star
   78](/login?return_to=%2FFelixSchwarz%2Fmjml-python)

* [Code](/FelixSchwarz/mjml-python/tree/v0.11.0)
* [Issues
  3](/FelixSchwarz/mjml-python/issues)
* [Pull requests
  2](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

Additional navigation options

* [Code](/FelixSchwarz/mjml-python/tree/v0.11.0)
* [Issues](/FelixSchwarz/mjml-python/issues)
* [Pull requests](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

1. [Releases](/FelixSchwarz/mjml-python/releases)
2. [v0.11.0](/FelixSchwarz/mjml-python/releases/tag/v0.11.0)

# 0.11.0 - CVE-2024-26151

[Latest](/FelixSchwarz/mjml-python/releases/latest)

[Latest](/FelixSchwarz/mjml-python/releases/latest)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/FelixSchwarz/mjml-python/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.11.0)

 Loading

[View all tags](/FelixSchwarz/mjml-python/tags)

![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=40&v=4)
[FelixSchwarz](/FelixSchwarz)
released this
22 Feb 17:01

¬∑
[6 commits](/FelixSchwarz/mjml-python/compare/v0.11.0...main)
to main
since this release

[v0.11.0](/FelixSchwarz/mjml-python/tree/v0.11.0)

[`98810f5`](/FelixSchwarz/mjml-python/commit/98810f5372ee3e852d8e6bccc59e8108150ba9d4)

This is a release which fixes an important **security issue** without additional features.

All users of 0.10.0 are encouraged to upgrade as soon as possible. If you are using mjml-python 0.9.1 or earlier, you are not affected.

Learn more in our security advisory: [Potentially untrusted input is rendered as HTML in final output (GHSA-578p-fxmm-6229)](https://github.com/FelixSchwarz/mjml-python/security/advisories/GHSA-578p-fxmm-6229) ([CVE-2024-26151](https://github.com/advisories/GHSA-578p-fxmm-6229 "CVE-2024-26151")). Credits go to [@sh-at-cs](https://github.com/sh-at-cs) for discovering the issue.

Other than that, only a few internal changes like the replacement of the homegrown `AttrDict` with [DotMap](https://github.com/drgrib/dotmap/) as well as switching the tests to use the well-known pytest.

### Contributors

* [![@sh-at-cs](https://avatars.githubusercontent.com/u/112704226?s=64&v=4)](https://github.com/sh-at-cs)

sh-at-cs

 Assets
6

 Loading

 üëç
1
 VictorGambarini reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

 1 person reacted

0

 [Join discussion](/FelixSchwarz/mjml-python/discussions/56)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from www.vicarius.io_a6524531_20250110_193615.html ===


 [about](/vsociety/about) [by vicarius](https://vicarius.io/) [log in](/vsociety/sign/in) [join community](/vsociety/sign/up)

* [scripts](/vsociety/posts)
* [CVEs](/vsociety/vulnerabilities)
* [apps](/vsociety/products)
* [OS](/vsociety/operating-systems)

 [by @Smartkeyss](/vsociety/users/Smartkeyss)08 Mar 2024230424#cve\_analysis

Write a blog analysis for a CVE

[publish](/vsociety/sign/in)see all related posts
# CVE-2024-26151 (MJML-PYTHON Vulnerability)

 [by @Smartkeyss](/vsociety/users/Smartkeyss)23 [by @Smartkeyss](/vsociety/users/Smartkeyss)08 Mar 2024230424#cve\_analysis

Write a blog analysis for a CVE

[publish](/vsociety/sign/in)see all related posts
# CVE-2024-26151 (MJML-PYTHON Vulnerability)

CVEs

[CVE-2024-26151](/vsociety/vulnerabilities/cve-2024-26151)8.2 High Severity
## PoC video

## Description

Tags

[#trending](/vsociety/search?hashtags=trending)[#CVE-2024-26151](/vsociety/search?hashtags=cve-2024-26151)[![users/photos/clsevlral8gef1hon15grbvup.jpg](data:image/svg+xml;charset=UTF-8...)](/vsociety/users/Smartkeyss)[@Smartkeyss](/vsociety/users/Smartkeyss)

63 posts

I am just curious üòä
I use simple words to explain complicated things.

subscribe to user

Total vcoins

99.8K

show more

 remediate more CVEs with vRx  [explore more](https://www.vicarius.io/?utm_source=vsociety&utm_medium=organic&utm_campaign=cve_scripts%26analysis) Comments (2)submitshow 5 more replies[![users/photos/clsevlral8gef1hon15grbvup.jpg](data:image/svg+xml;charset=UTF-8...)](/vsociety/users/Smartkeyss)[@Smartkeyss](/vsociety/users/Smartkeyss)

63 posts

I am just curious üòä
I use simple words to explain complicated things.

subscribe to user

Total vcoins

99.8K

Share

show more

CVEs

[CVE-2024-26151](/vsociety/vulnerabilities/cve-2024-26151)8.2 High Severity

Tags

[#trending](/vsociety/search?hashtags=trending)[#CVE-2024-26151](/vsociety/search?hashtags=cve-2024-26151)

Democratizing infosec research for a more secure society. Be a part of the movement.

##### about

* [An Origin Story: vsociety](/vsociety/posts/an-origin-story-vsociety)
* [Frequently Asked Questions](/vsociety/faq)
##### be Part

* [Join Community](/vsociety/sign/up)
* [Login](/vsociety/sign/in)
##### legal

* [Privacy Policy](/vsociety/privacy-policy)
* [Terms of Use](/vsociety/terms)

Copyright ¬© Vicarius 2022. [Privacy Policy](https://www.vicarius.io/privacy) and [Terms of Use](/vsociety/terms)



=== Content from github.com_7c7f4f50_20250110_193611.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F84c495da20a91640a1ca551ace17df7f3be644aa)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F84c495da20a91640a1ca551ace17df7f3be644aa)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=FelixSchwarz%2Fmjml-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[FelixSchwarz](/FelixSchwarz)
/
**[mjml-python](/FelixSchwarz/mjml-python)**
Public

* [Notifications](/login?return_to=%2FFelixSchwarz%2Fmjml-python) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2FFelixSchwarz%2Fmjml-python)
* [Star
   78](/login?return_to=%2FFelixSchwarz%2Fmjml-python)

* [Code](/FelixSchwarz/mjml-python)
* [Issues
  3](/FelixSchwarz/mjml-python/issues)
* [Pull requests
  2](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

Additional navigation options

* [Code](/FelixSchwarz/mjml-python)
* [Issues](/FelixSchwarz/mjml-python/issues)
* [Pull requests](/FelixSchwarz/mjml-python/pulls)
* [Discussions](/FelixSchwarz/mjml-python/discussions)
* [Actions](/FelixSchwarz/mjml-python/actions)
* [Security](/FelixSchwarz/mjml-python/security)
* [Insights](/FelixSchwarz/mjml-python/pulse)

## Commit

[Permalink](/FelixSchwarz/mjml-python/commit/84c495da20a91640a1ca551ace17df7f3be644aa)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix CSS child selectors; don't load remote stylesheets

[Browse files](/FelixSchwarz/mjml-python/tree/84c495da20a91640a1ca551ace17df7f3be644aa)
Browse the repository at this point in the history

* Loading branch information

[![@caseyjhol](https://avatars.githubusercontent.com/u/2874325?s=40&v=4)](/caseyjhol) [![@FelixSchwarz](https://avatars.githubusercontent.com/u/212753?s=40&v=4)](/FelixSchwarz)

[caseyjhol](/FelixSchwarz/mjml-python/commits?author=caseyjhol "View all commits by caseyjhol")
authored and
[FelixSchwarz](/FelixSchwarz/mjml-python/commits?author=FelixSchwarz "View all commits by FelixSchwarz")
committed
Nov 17, 2023

1 parent
[3308bba](/FelixSchwarz/mjml-python/commit/3308bbae0d36b048f89eb5057d2c2a6a87e868da)

commit 84c495d

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**14 additions**
and
**4 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* CHANGELOG.md
  [CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed)
* mjml

  + mjml/mjml2html.py
    [mjml2html.py](#diff-223c5c3c47c5eb2f20eb68c57af73399b7a5c647f086936a776c1b0ec1cb781f)
* tests/testdata

  + tests/testdata/css-inlining-expected.html
    [css-inlining-expected.html](#diff-1d347f92e30d7d90bc55008b5313e941a8688ffdc0b73a6e01079aa6066c21a9)
  + tests/testdata/css-inlining.mjml
    [css-inlining.mjml](#diff-bf3c1679c642172b7844c9a2f8ed8e356eb77c93e5d8a5d425fb592cc3e843a7)

## There are no files selected for viewing

2 changes: 2 additions & 0 deletions

2
[CHANGELOG.md](#diff-06572a96a58dc510037d5efa622f9bec8519bc1beab13c9f251e97e657a9d4ed "CHANGELOG.md")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/84c495da20a91640a1ca551ace17df7f3be644aa/CHANGELOG.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -2,6 +2,8 @@ |
|  |  | 0.10.0 (?) |
|  |  | ------------------ |
|  |  |  |
|  |  | - fix CSS child selectors |
|  |  | - disable loading remote stylesheets |
|  |  | - require css-inline 0.11.x for performance improvements |
|  |  | - drop css-inline Python 3.6 support |
|  |  | - fix exception when processing an `mj-section` with `background-size` (reported by Thomas Handorf) |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[mjml/mjml2html.py](#diff-223c5c3c47c5eb2f20eb68c57af73399b7a5c647f086936a776c1b0ec1cb781f "mjml/mjml2html.py")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/84c495da20a91640a1ca551ace17df7f3be644aa/mjml/mjml2html.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -115,7 +115,7 @@ def parse(\_mjml, parentMjClass='', \*, template\_dir): |
|  |  | classes = ignore\_empty(attributes.get('mj-class', '').split(' ')) |
|  |  |  |
|  |  | # upstream parses text contents (+ comments) in mjml-parser-xml/index.js |
|  |  | content = \_mjml.decode\_contents() |
|  |  | content = \_mjml.decode\_contents(formatter=None) |
|  |  |  |
|  |  | attributesClasses = {} |
|  |  | for css\_class in classes: |
| Expand Down  Expand Up | | @@ -212,7 +212,7 @@ def \_head\_data\_add(attr, \*params): |
|  |  | for element in contentSoup.select(selector): |
|  |  | element[attrName] = value or '' |
|  |  |  |
|  |  | content = contentSoup.decode\_contents() |
|  |  | content = contentSoup.decode\_contents(formatter=None) |
|  |  |  |
|  |  | content = skeleton( |
|  |  | content=content, |
| Expand All | | @@ -235,6 +235,7 @@ def \_head\_data\_add(attr, \*params): |
|  |  | inline\_style\_tags=False, |
|  |  | keep\_link\_tags=True, |
|  |  | keep\_style\_tags=True, |
|  |  | load\_remote\_stylesheets=False, |
|  |  | ) |
|  |  | content = inliner.inline(content) |
|  |  |  |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[tests/testdata/css-inlining-expected.html](#diff-1d347f92e30d7d90bc55008b5313e941a8688ffdc0b73a6e01079aa6066c21a9 "tests/testdata/css-inlining-expected.html")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/84c495da20a91640a1ca551ace17df7f3be644aa/tests/testdata/css-inlining-expected.html)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -124,7 +124,7 @@ |
|  |  | </tr> |
|  |  | <tr> |
|  |  | <td align="left" class="box" style="border: 5px solid red; font-size: 0px; padding: 10px 25px; word-break: break-word;"> |
|  |  | <div style="font-family:helvetica;font-size:20px;line-height:1;text-align:left;color:#F45E43;">Hello World</div> |
|  |  | <div style="font-family:helvetica;font-size:20px;line-height:1;text-align:left;color:#F45E43;"><span style="border: 3px solid blue;"> &lt; Hello World &gt; </span></div> |
|  |  | </td> |
|  |  | </tr> |
|  |  | </tbody> |
| Expand Down | |  |

9 changes: 8 additions & 1 deletion

9
[tests/testdata/css-inlining.mjml](#diff-bf3c1679c642172b7844c9a2f8ed8e356eb77c93e5d8a5d425fb592cc3e843a7 "tests/testdata/css-inlining.mjml")

Show comments

[View file](/FelixSchwarz/mjml-python/blob/84c495da20a91640a1ca551ace17df7f3be644aa/tests/testdata/css-inlining.mjml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,6 +4,9 @@ |
|  |  | .box { |
|  |  | border: 5px solid red; |
|  |  | } |
|  |  | .box > div > span { |
|  |  | border: 3px solid blue; |
|  |  | } |
|  |  | </mj-style> |
|  |  | </mj-head> |
|  |  | <mj-body> |
| Expand All | | @@ -14,7 +17,11 @@ |
|  |  |  |
|  |  | <mj-divider border-color="#F45E43"></mj-divider> |
|  |  |  |
|  |  | <mj-text css-class="box" font-size="20px" color="#F45E43" font-family="helvetica">Hello World</mj-text> |
|  |  | <mj-text css-class="box" font-size="20px" color="#F45E43" font-family="helvetica"> |
|  |  | <span> |
|  |  | &lt; Hello World &gt; |
|  |  | </span> |
|  |  | </mj-text> |
|  |  |  |
|  |  | </mj-column> |
|  |  | </mj-section> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `84c495d`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FFelixSchwarz%2Fmjml-python%2Fcommit%2F84c495da20a91640a1ca551ace17df7f3be644aa) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


