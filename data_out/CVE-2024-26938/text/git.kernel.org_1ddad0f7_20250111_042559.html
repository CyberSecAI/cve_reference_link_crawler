

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ville Syrj채l채 <ville.syrjala@linux.intel.com> | 2024-03-19 11:24:42 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-04-03 15:32:42 +0200 |
| commit | [94cf2fb6feccd625e5b4e23e1b70f39a206f82ac](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)) | |
| tree | [5dd924e84f3e2ccd4e03cf2a914d85ad7253ce67](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac) | |
| parent | [59b2626dd8c8a2e13f18054b3530e0c00073d79f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=59b2626dd8c8a2e13f18054b3530e0c00073d79f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac&id2=59b2626dd8c8a2e13f18054b3530e0c00073d79f)) | |
| download | [linux-94cf2fb6feccd625e5b4e23e1b70f39a206f82ac.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-94cf2fb6feccd625e5b4e23e1b70f39a206f82ac.tar.gz) | |

drm/i915/bios: Tolerate devdata==NULL in intel\_bios\_encoder\_supports\_dp\_dual\_mode()commit 32e39bab59934bfd3f37097d4dd85ac5eb0fd549 upstream.
If we have no VBT, or the VBT didn't declare the encoder
in question, we won't have the 'devdata' for the encoder.
Instead of oopsing just bail early.
We won't be able to tell whether the port is DP++ or not,
but so be it.
Cc: stable@vger.kernel.org
Closes: https://gitlab.freedesktop.org/drm/intel/-/issues/10464
Signed-off-by: Ville Syrj채l채 <ville.syrjala@linux.intel.com>
Link: [https://patchwork.freedesktop.org/patch/msgid/20240319092443.15769-1-ville.syrjala@linux.intel.com](https://patchwork.freedesktop.org/patch/msgid/20240319092443.15769-1-ville.syrjala%40linux.intel.com)
Reviewed-by: Jani Nikula <jani.nikula@intel.com>
(cherry picked from commit 26410896206342c8a80d2b027923e9ee7d33b733)
Signed-off-by: Rodrigo Vivi <rodrigo.vivi@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)

| -rw-r--r-- | [drivers/gpu/drm/i915/display/intel\_bios.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/i915/display/intel_bios.c?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/i915/display/intel\_bios.c b/drivers/gpu/drm/i915/display/intel\_bios.cindex aa169b0055e97d..56ef7b6b1c865d 100644--- a/[drivers/gpu/drm/i915/display/intel\_bios.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/i915/display/intel_bios.c?id=59b2626dd8c8a2e13f18054b3530e0c00073d79f)+++ b/[drivers/gpu/drm/i915/display/intel\_bios.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/i915/display/intel_bios.c?id=94cf2fb6feccd625e5b4e23e1b70f39a206f82ac)@@ -3344,6 +3344,9 @@ bool intel\_bios\_encoder\_supports\_dp\_dual\_mode(const struct intel\_bios\_encoder\_da { const struct child\_device\_config \*child = &devdata->child; + if (!devdata)+ return false;+ if (!intel\_bios\_encoder\_supports\_dp(devdata) || !intel\_bios\_encoder\_supports\_hdmi(devdata)) return false; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 04:24:36 +0000

