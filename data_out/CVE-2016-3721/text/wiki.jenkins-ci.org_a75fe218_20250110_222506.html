

1. [Jenkins](index.html)
2. [Home](Home.html)
# Jenkins : Plugins affected by fix for SECURITY-170

Created by  Unknown User (orrc), last modified by  Unknown User (yafim\_kazak) on Jan 23, 2017

## Background

In a [May 2016 security advisory](https://wiki.jenkins.io/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2016-05-11), a vulnerability was announced (SECURITY-170 / CVE-2016-3721) whereby attackers could potentially exploit the fact that certain Jenkins plugins allow the definition of arbitrary build parameters â which are in turn injected into the build envirionment.

The fix for this issue â which was first included in Jenkins versions 1.651.2 and Jenkins 2.3 â means that only build parameters that have been explicitly defined in a job's configuration will be available by default at build time. Any other arbitrary parameters added to a build by plugins will not be available by default.

As there are a number of plugins that rely on the behaviour in older Jenkins versions, upgrading to 1.651.2 or 2.3 means that certain build behaviours may be broken.

This page attempts to list the affected plugins, how the plugin behaves in current versions of Jenkins, and whether those plugins have been fixed to work with the new parameter filtering behaviour of Jenkins.

## Workarounds

Note that there are a couple of global workarounds to either turn off the new parameter-filtering behaviour, or to whitelist certain parameter names, preventing them from being filtered out.

These are described in the [security advisory](https://wiki.jenkins.io/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2016-05-11) and in the [accompanying blog post](https://jenkins.io/blog/2016/05/11/security-update/).

## Affected plugins

Note that this list is not exhaustive. If you encounter a plugin that no longer works as expected due to the fix for SECURITY-170, please add it to the list.

**More importantly, please** **[*file a bug report*](https://wiki.jenkins-ci.org/display/JENKINS/How%2Bto%2Breport%2Ban%2Bissue)****, if one doesn't exist, to help ensure that the appropriate plugin maintainer is informed.**

Some items here include a list of the parameter names that they use, which could be added to the whitelist mentioned in the "Workarounds" section above.

| Plugin name | Behaviour | Issue | Status |
| --- | --- | --- | --- |
| [Assembla Merge Request Builder Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Assembla%2BMerge%2BRequest%2BBuilder%2BPlugin) | Parameters are stripped unless defined. Parameter names used assemblaSourceSpaceId,assemblaAuthorName,assemblaDescription,assemblaSourceRepositoryUrl,assemblaTargetBranch,assemblaSourceRepositoryName,assemblaTargetRepositoryUrl,assemblaMergeRequestId,assemblaRefName,assemblaSourceBranch | [JENKINS-38254](https://issues.jenkins-ci.org/browse/JENKINS-38254) | [PR](https://github.com/jenkinsci/assembla-merge-request-builder-plugin/pull/4)Â - fixed inÂ 1.1.4 |
| [CloudBees Docker Hub Notification](CloudBees-Docker-Hub-Notification.html) | ? | ? | Fixed in 2.1.0 ([fix](https://github.com/jenkinsci/dockerhub-notification-plugin/pull/13)) |
| [Delivery Pipeline Plugin](Delivery-Pipeline-Plugin.html) | PIPELINE\_VERSION doesn't get created | [JENKINS-34805](https://issues.jenkins-ci.org/browse/JENKINS-34805) | [PR](https://github.com/Diabol/delivery-pipeline-plugin/pull/182) - fixed in 0.9.12 |
| [Gearman Plugin](Gearman-Plugin.html) | Parameters are stripped unless defined. Should be made to autowhitelist. | [JENKINS-34885](https://issues.jenkins-ci.org/browse/JENKINS-34885) | Not fixed |
| [Gerrit Trigger](Gerrit-Trigger.html) | Builds fail with message "stderr: fatal: Couldn't find remote ref $GERRIT\_REFSPEC" Parameter names used GERRIT\_EVENT\_TYPE,GERRIT\_EVENT\_HASH,GERRIT\_BRANCH,GERRIT\_TOPIC,  GERRIT\_CHANGE\_NUMBER,GERRIT\_CHANGE\_ID,GERRIT\_PATCHSET\_NUMBER,  GERRIT\_PATCHSET\_REVISION,GERRIT\_REFSPEC,GERRIT\_PROJECT,GERRIT\_CHANGE\_SUBJECT,  GERRIT\_CHANGE\_COMMIT\_MESSAGE,GERRIT\_CHANGE\_URL,GERRIT\_CHANGE\_OWNER,  GERRIT\_CHANGE\_OWNER\_NAME,GERRIT\_CHANGE\_OWNER\_EMAIL,  GERRIT\_PATCHSET\_UPLOADER,GERRIT\_PATCHSET\_UPLOADER\_NAME | [JENKINS-34753](https://issues.jenkins-ci.org/browse/JENKINS-34753) | [PR](https://github.com/jenkinsci/gerrit-trigger-plugin/pull/285)Â - fixed in 2.21.0 |
| [GitHub Pull Request Builder Plugin](GitHub-pull-request-builder-plugin.html) | If using the standard `${sha1`} branch spec, builds will fail with "Couldn't find any revision to build".  Pull requests remain in the "pending" state as the plugin fails to update the PR with the build outcome Parameter names used ghprbActualCommit,ghprbActualCommitAuthor,ghprbActualCommitAuthorEmail,ghprbAuthorRepoGitUrl,  ghprbCommentBody,ghprbCredentialsId,ghprbGhRepository,ghprbPullAuthorEmail,ghprbPullAuthorLogin,  ghprbPullAuthorLoginMention,ghprbPullDescription,ghprbPullId,ghprbPullLink,  ghprbPullLongDescription,ghprbPullTitle,ghprbSourceBranch,ghprbTargetBranch,ghprbTriggerAuthor,  ghprbTriggerAuthorEmail,ghprbTriggerAuthorLogin,ghprbTriggerAuthorLoginMention,GIT\_BRANCH,sha1 | [JENKINS-34762](https://issues.jenkins-ci.org/browse/JENKINS-34762) | **Fixed in 1.32.3 (**[fix](https://github.com/jenkinsci/ghprb-plugin/commit/eff442fa26500e6ebfe6008af3d929e5fe61d0cc)**)**  Fix removed from 1.32.2  Tentative fix in 1.32.1 ([fix](https://github.com/jenkinsci/ghprb-plugin/pull/344)) |
| [HP Application Automation Tools](HP-Application-Automation-Tools.html) | HP\_RUN\_ID not available to subsequent build steps. | [JENKINS-39654](https://issues.jenkins-ci.org/browse/JENKINS-39654) | Not fixed |
| [Inheritance Plugin](inheritance-plugin.html) | Parameters defined on a `super` project are not expanded in a derived project | [JENKINS-34831](https://issues.jenkins-ci.org/browse/JENKINS-34831) | Not fixed |
| [Job Generator Plugin](Job-Generator-Plugin.html) | Parameters aren't passed to child jobs | [JENKINS-34814](https://issues.jenkins-ci.org/browse/JENKINS-34814) | Not fixed |
| [Lockable Resources Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Lockable%2BResources%2BPlugin) | Reserved resources variable name will not pass to the build | [JENKINS-34853](https://issues.jenkins-ci.org/browse/JENKINS-34853) | [PR](https://github.com/jenkinsci/lockable-resources-plugin/pull/31)Â - fixed in 1.9 |
| [Matrix Project Plugin](Matrix-Project-Plugin.html) | Parameters defined on a project are not passed to child jobs | [JENKINS-34758](https://issues.jenkins-ci.org/browse/JENKINS-34758) | [PR](https://github.com/jenkinsci/matrix-project-plugin/pull/36)Â - fixed in 1.7 |
| [Parameterized Trigger Plugin](Parameterized-Trigger-Plugin.html) | Parameters (e.g. when using properties files as source) are only passed if they are defined on the downstream job. This is the behavior intended by the SECURITY-170, see [Jenkins Security Advisory 2016-05-11](https://wiki.jenkins.io/display/SECURITY/Jenkins%2BSecurity%2BAdvisory%2B2016-05-11) | n/a | Won't fix (hopefully) |
| [Poll Mailbox Trigger Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Poll%20Mailbox%20Trigger%20Plugin) | [pmt\_\* job parameters](https://github.com/jenkinsci/poll-mailbox-trigger-plugin#job-parameters) are no longer injected into the job. e.g. [pmt\_from, pmt\_replyTo, pmt\_content, etc](https://github.com/jenkinsci/poll-mailbox-trigger-plugin#job-parameters) | [#19](https://github.com/jenkinsci/poll-mailbox-trigger-plugin/issues/19) | Fixed in 1.024 ([fix](https://github.com/jenkinsci/poll-mailbox-trigger-plugin/commit/d0154dab63dc3a5978ebcbcd6aaa6d98212009cf)) |
| [Promoted Builds Plugin](Promoted-Builds-Plugin.html) | Promoted builds do not receive parameter values defined at the job level | [JENKINS-34826](https://issues.jenkins-ci.org/browse/JENKINS-34826) | **Fixed in 2.27**Â ([fix](https://github.com/jenkinsci/promoted-builds-plugin/pull/93)) |
| [Release Plugin](Release-Plugin.html) | Release parameters are not passed to the build | [JENKINS-34996](https://issues.jenkins-ci.org/browse/JENKINS-34996) | [PR](https://github.com/jenkinsci/release-plugin/pull/17) - fixed in 2.6 |
| [Stash PullRequest Builder Plugin](Stash-PullRequest-Builder-Plugin.html) | Builds will fail with "Couldn't find any revision to build".  As this plugin accepts arbitrary parameters, it's one of the plugins that caused SECURITY-170. Parameter names used pullRequestId,pullRequestTitle,sourceBranch,targetBranch,sourceRepositoryOwner,  sourceRepositoryName,destinationRepositoryOwner,destinationRepositoryName,  sourceCommitHash,destinationCommitHash | [#84](https://github.com/nemccarthy/stash-pullrequest-builder-plugin/issues/84) | Fixed in 1.7.0 - [PR](https://github.com/nemccarthy/stash-pullrequest-builder-plugin/pull/89) |
| [P4 Plugin](P4-Plugin.html) | Parameters generated for review builds are not passed. Parameter names used json, review, change, status, pass,  fail, label, Submit  Note that there may be more missing parameters for other special build types. | [JENKINS-35210](https://issues.jenkins-ci.org/browse/JENKINS-35210) | [PR](https://github.com/jenkinsci/p4-plugin/pull/25) |
| [M2 Release Plugin](M2-Release-Plugin.html) | SCM username and password environment variables, if configured, are not set | [JENKINS-35261](https://issues.jenkins-ci.org/browse/JENKINS-35261) | Not fixed |
| [Multijob Plugin (tikal-multijob-plugin)](59510168.html) | see description inÂ [JENKINS-36124](https://issues.jenkins-ci.org/browse/JENKINS-36124) | [JENKINS-36124](https://issues.jenkins-ci.org/browse/JENKINS-36124) | Fixed in 1.22 ([fix](https://github.com/jenkinsci/tikal-multijob-plugin/pull/100)) |
| [Repository Connector Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Repository%2BConnector%2BPlugin) | Artifact version chosen does not get set. | Â | Not fixed. [PR pending](https://github.com/jenkinsci/repository-connector-plugin/pull/19) |
| [Maven Metadata Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Maven%2BMetadata%2BPlugin) | The following parameters do not get passed on from parent to child jobs in [Matrix Project Plugin](https://github.com/jenkinsci/matrix-project-plugin).Â Version 1.7 (May 24, 2016)  Â Version 1.7 broke the ability to pass these parameters to child jobs.JENKINS-34758 Parameters visibility in child builds (related to SECURITY-170)   MY\_JAR\_VERSION MY\_JAR\_ARTIFACT\_URL MY\_JAR\_GROUP\_ID MY\_JAR\_ARTIFACT\_ID MY\_JAR\_CLASSIFIER MY\_JAR\_PACKAGING | [JENKINS-38978](https://issues.jenkins-ci.org/browse/JENKINS-38978) | Not fixed |

Document generated by Confluence on Sep 07, 2021 13:10

[Wiki home](/display/)

