=== Content from github.com_b6cca08b_20250110_233835.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrianvoe%2Fslim-select%2Fissues%2F564)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrianvoe%2Fslim-select%2Fissues%2F564)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=brianvoe%2Fslim-select)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[brianvoe](/brianvoe)
/
**[slim-select](/brianvoe/slim-select)**
Public

* [Notifications](/login?return_to=%2Fbrianvoe%2Fslim-select) You must be signed in to change notification settings
* [Fork
  200](/login?return_to=%2Fbrianvoe%2Fslim-select)
* [Star
   1.1k](/login?return_to=%2Fbrianvoe%2Fslim-select)

* [Code](/brianvoe/slim-select)
* [Issues
  10](/brianvoe/slim-select/issues)
* [Pull requests
  2](/brianvoe/slim-select/pulls)
* [Discussions](/brianvoe/slim-select/discussions)
* [Actions](/brianvoe/slim-select/actions)
* [Projects
  0](/brianvoe/slim-select/projects)
* [Security](/brianvoe/slim-select/security)
* [Insights](/brianvoe/slim-select/pulse)

Additional navigation options

* [Code](/brianvoe/slim-select)
* [Issues](/brianvoe/slim-select/issues)
* [Pull requests](/brianvoe/slim-select/pulls)
* [Discussions](/brianvoe/slim-select/discussions)
* [Actions](/brianvoe/slim-select/actions)
* [Projects](/brianvoe/slim-select/projects)
* [Security](/brianvoe/slim-select/security)
* [Insights](/brianvoe/slim-select/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fbrianvoe%2Fslim-select%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fbrianvoe%2Fslim-select%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Cross Site Scripting #564

Closed

[Skileau](/Skileau) opened this issue
Sep 3, 2024
· 17 comments

Closed

# [Cross Site Scripting](#top) #564

[Skileau](/Skileau) opened this issue
Sep 3, 2024
· 17 comments

## Comments

[![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=80&u=6640cb7ec39665ee37d84543cc083d7892a42abf&v=4)](/Skileau)

Copy link

### **[Skileau](/Skileau)** commented [Sep 3, 2024](#issue-2503241093)

| **Describe the bug** I have found a Cross Site Scripting in the library, where should I submit the PoC? |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 3, 2024](#issuecomment-2326961821)

| here |
| --- |

All reactions

Sorry, something went wrong.

[![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=80&u=6640cb7ec39665ee37d84543cc083d7892a42abf&v=4)](/Skileau)

Copy link

Author

### **[Skileau](/Skileau)** commented [Sep 4, 2024](#issuecomment-2328197553)

| Because of the use of innerHTML here instead of innerText, it is possible to inject HTML which is interpreted: <https://github.com/brianvoe/slim-select/blob/master/src/slim-select/select.ts#L345>  I used the following HTML page as an example:  ``` <html>   <head>     <script src="https://unpkg.com/slim-select@latest/dist/slimselect.min.js"></script>     <link href="https://unpkg.com/slim-select@latest/dist/slimselect.css" rel="stylesheet"></link>   </head>   <body>     <select id="selectElement">       <option>&lt;IMG SRC=X ONERROR=alert(2)&gt;&lt;/IMG&gt;</option>       <option>&#x3c;&#x69;&#x6d;&#x67;&#x20;&#x73;&#x72;&#x63;&#x3d;&#x78;&#x20;&#x6f;&#x6e;&#x65;&#x72;&#x72;&#x6f;&#x72;&#x3d;&#x61;&#x6c;&#x65;&#x72;&#x74;&#x28;&#x31;&#x29;&#x3e;&#x3c;&#x2f;&#x69;&#x6d;&#x67;&#x3e;</option>       <option>Option 3</option>     </select>     <script>       new SlimSelect({         select: '#selectElement'       })     </script>   </body> </html> ```  It is important to note that the payload is HTML encoded.  Changing the selected option on the page leads to the execution of JavaScript: [image](https://private-user-images.githubusercontent.com/83423277/364281851-579aa949-0c3a-4a25-b95f-42918a9b7a35.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY1NTI2MTQsIm5iZiI6MTczNjU1MjMxNCwicGF0aCI6Ii84MzQyMzI3Ny8zNjQyODE4NTEtNTc5YWE5NDktMGMzYS00YTI1LWI5NWYtNDI5MThhOWI3YTM1LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTAlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTEwVDIzMzgzNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTllODkzYTA1NjdjZmUyYzkzMTYzZmU1NDQ3ZDU1ZTNlNjk4MzFlNmI4Y2YxYTVkY2JkNmRhNDhhMmE0MWVlMWUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.cu8wE01P7njg6ZW4T7mDOYcdKjYwlnI4axNR3DEjGp0) |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 4, 2024](#issuecomment-2329519778)

| Sorry i just dont see this as a slim select issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=40&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)
[brianvoe](/brianvoe)
closed this as [completed](/brianvoe/slim-select/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Sep 4, 2024](#event-14134272402)

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 23, 2024](#issuecomment-2369184621)

| [@Skileau](https://github.com/Skileau) You told another company about this? |
| --- |

All reactions

Sorry, something went wrong.

[![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=80&u=6640cb7ec39665ee37d84543cc083d7892a42abf&v=4)](/Skileau)

Copy link

Author

### **[Skileau](/Skileau)** commented [Sep 23, 2024](#issuecomment-2369397334)

| Yes, I reported it during a pentest as it's my job and the usual process, and reached out to you so we can secure this issue upstream. |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 24, 2024](#issuecomment-2371328495)

| Your letting someone submit XSS attacks through your input fields, save them into the database, serve them up to another user, inject it into a ui select dropdown and want to say the ui select dropdown is the issue? |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 24, 2024](#issuecomment-2371362462)

| If you have a fix for this that doesn't effect how things currently work. Submit a pr |
| --- |

All reactions

Sorry, something went wrong.

[![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=80&u=6640cb7ec39665ee37d84543cc083d7892a42abf&v=4)](/Skileau)

Copy link

Author

### **[Skileau](/Skileau)** commented [Sep 24, 2024](#issuecomment-2372495357)

| Is there a specific reason why you are using innerHTML rather than innerText here ? <https://github.com/brianvoe/slim-select/blob/master/src/slim-select/select.ts#L377C14-L377C23> |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 25, 2024](#issuecomment-2374357061)

| Nope, dont care what value it is as long as it works. If you have a fix for this that doesn't effect how things currently work. Submit a pr |
| --- |

All reactions

Sorry, something went wrong.

[![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=80&u=6640cb7ec39665ee37d84543cc083d7892a42abf&v=4)](/Skileau)

Copy link

Author

### **[Skileau](/Skileau)** commented [Sep 27, 2024](#issuecomment-2379020042) • edited Loading

| I am not a developer so I would not be able to provide you with a fix and confirm that it would not break anything, sorry. I can simply confirm you that the part of the code that I exploited to get an XSS is this specific innerHTML: <https://github.com/brianvoe/slim-select/blob/master/src/slim-select/select.ts#L377C14-L377C23>  You can try to replace it with an innerText and build the application on your side to make sure that it works well. As previously said, here is the index.html that I used for a small PoC:  ``` <html>   <head>     <script src="https://unpkg.com/slim-select@latest/dist/slimselect.min.js"></script>     <link href="https://unpkg.com/slim-select@latest/dist/slimselect.css" rel="stylesheet"></link>   </head>   <body>     <select id="selectElement">       <option>&lt;IMG SRC=X ONERROR=alert(1)&gt;&lt;/IMG&gt;</option>       <option>Option 2</option>       <option>Option 3</option>     </select>     <script> new SlimSelect({   select: '#selectElement', })     </script>   </body> </html> ```  As long as once you change the selection and it does not trigger the alert(1), then the reported vulnerability can be considered as fixed.  Also notice that this example is provided as a PoC but I exploited this vulnerability in a global application during a security assessment to elevate my privileges to super admin as I was able to inject a malicious payload into one of the list. Even though it was their choice to let users create new options, I think that this is a frequent use case and it cannot be ignored ... Especially as there doesn't seem to be any real point in converting the option's innerText into HTML, so the fix is unlikely to break any feature. |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Sep 27, 2024](#issuecomment-2379718050)

| "I am not a developer" - ok thanks have a good one |
| --- |

All reactions

Sorry, something went wrong.

[![@shelbyc](https://avatars.githubusercontent.com/u/5782553?s=40&v=4)](/shelbyc)
[shelbyc](/shelbyc)
mentioned this issue
[Oct 8, 2024](#ref-pullrequest-2572380112)

[[GHSA-qvqv-mcxr-x8qw] Slim Select 2.0 versions through 2.9.0 are affected by a...
github/advisory-database#4875](/github/advisory-database/pull/4875)
 Merged

[![@Zerotask](https://avatars.githubusercontent.com/u/20150243?s=80&u=0fdbf5d46ed3ebcabb3bcafa33b2985a44d7b15f&v=4)](/Zerotask)

Copy link

### **[Zerotask](/Zerotask)** commented [Oct 9, 2024](#issuecomment-2401698547) • edited Loading

| Dependabot also warned us about a potential risk for slimselect: <https://nvd.nist.gov/vuln/detail/CVE-2024-9440>  Slim Select 2.0 versions through 2.9.0 are affected by a potential cross-site scripting vulnerability. In select.ts:createOption(), the text variable from the user-provided Options object is assigned to an innerHTML without sanitation. Software that depends on this library to dynamically generate lists using unsanitized user-provided input may be vulnerable to cross-site scripting, resulting in attacker executed JavaScript. At this time, no patch is available. |
| --- |

All reactions

Sorry, something went wrong.

[![@Shoplifter](https://avatars.githubusercontent.com/u/1181094?s=80&v=4)](/Shoplifter)

Copy link

### **[Shoplifter](/Shoplifter)** commented [Oct 9, 2024](#issuecomment-2402025082)

| I can't see any reason why innerText should not be used [here](https://github.com/brianvoe/slim-select/blob/master/src/slim-select/select.ts#L377C14-L377C23) instead of innerHTML. In contrast: In an option tag only text is permitted anyways see: <https://developer.mozilla.org/en-US/docs/Web/HTML/Element/option#technical_summary> |
| --- |

All reactions

Sorry, something went wrong.

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Oct 9, 2024](#issuecomment-2402514037)

| update the code and add a test. submit a pr and ill get it in. |
| --- |

All reactions

Sorry, something went wrong.

[![@Shoplifter](https://avatars.githubusercontent.com/u/1181094?s=40&v=4)](/Shoplifter)
[Shoplifter](/Shoplifter)
mentioned this issue
[Oct 11, 2024](#ref-pullrequest-2580949231)

[patch for #564: Use textContent instead of innerHTML for setting an option's text
#572](/brianvoe/slim-select/pull/572)
 Merged

[![@Shoplifter](https://avatars.githubusercontent.com/u/1181094?s=80&v=4)](/Shoplifter)

Copy link

### **[Shoplifter](/Shoplifter)** commented [Oct 11, 2024](#issuecomment-2407069228) • edited Loading

| Hi [@brianvoe](https://github.com/brianvoe) I just submitted a PR for that. ~~Don't know what you mean with "add a test" I think the update should be already covered by all the tests that use the `select.createOption` method~~  UPDATE: the original PR did not pass the test suite. I changed `innerText` to `textContent`. Also added a test for this and now all tests pass. |
| --- |

 👍
1
 Zerotask reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[brianvoe](/brianvoe)
added a commit
that referenced
this issue
[Oct 11, 2024](#ref-commit-f8534f2)
[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=40&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

`[Merge pull request](/brianvoe/slim-select/commit/f8534f27d6e9bab89024d139f1c4f7555f1efd5e "Merge pull request #572 from Shoplifter/master

patch for #564: Use textContent instead of innerHTML for setting an option's text") [#572](https://github.com/brianvoe/slim-select/pull/572) [from Shoplifter/master](/brianvoe/slim-select/commit/f8534f27d6e9bab89024d139f1c4f7555f1efd5e "Merge pull request #572 from Shoplifter/master

patch for #564: Use textContent instead of innerHTML for setting an option's text")`
…

`[f8534f2](/brianvoe/slim-select/commit/f8534f27d6e9bab89024d139f1c4f7555f1efd5e)`

```
patch for [#564](https://github.com/brianvoe/slim-select/issues/564): Use textContent instead of innerHTML for setting an option's text
```

[![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=80&u=51b393a90cd9bd9faffa2b9592e045d6b299c2b2&v=4)](/brianvoe)

Copy link

Owner

### **[brianvoe](/brianvoe)** commented [Oct 11, 2024](#issuecomment-2408216005)

| v2.9.2 |
| --- |

All reactions

Sorry, something went wrong.

[![@frenkel](https://avatars.githubusercontent.com/u/121169?s=80&u=01c0a7b1cf2181cbc9a7ca63ad9f6974651722d2&v=4)](/frenkel)

Copy link

Contributor

### **[frenkel](/frenkel)** commented [Oct 16, 2024](#issuecomment-2415943401)

| Thanks for fixing this [@Shoplifter](https://github.com/Shoplifter)! |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrianvoe%2Fslim-select%2Fissues%2F564)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

5 participants

[![@frenkel](https://avatars.githubusercontent.com/u/121169?s=52&v=4)](/frenkel) [![@Shoplifter](https://avatars.githubusercontent.com/u/1181094?s=52&v=4)](/Shoplifter) [![@brianvoe](https://avatars.githubusercontent.com/u/1580910?s=52&v=4)](/brianvoe) [![@Zerotask](https://avatars.githubusercontent.com/u/20150243?s=52&v=4)](/Zerotask) [![@Skileau](https://avatars.githubusercontent.com/u/83423277?s=52&v=4)](/Skileau)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_647abfa5_20250110_233833.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrianvoe%2Fslim-select%2Fblob%2Fe7e37e2ff90e125f846bd98d6b8f278524ead79e%2Fsrc%2Fslim-select%2Fselect.ts)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbrianvoe%2Fslim-select%2Fblob%2Fe7e37e2ff90e125f846bd98d6b8f278524ead79e%2Fsrc%2Fslim-select%2Fselect.ts)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=brianvoe%2Fslim-select)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[brianvoe](/brianvoe)
/
**[slim-select](/brianvoe/slim-select)**
Public

* [Notifications](/login?return_to=%2Fbrianvoe%2Fslim-select) You must be signed in to change notification settings
* [Fork
  200](/login?return_to=%2Fbrianvoe%2Fslim-select)
* [Star
   1.1k](/login?return_to=%2Fbrianvoe%2Fslim-select)

* [Code](/brianvoe/slim-select)
* [Issues
  10](/brianvoe/slim-select/issues)
* [Pull requests
  2](/brianvoe/slim-select/pulls)
* [Discussions](/brianvoe/slim-select/discussions)
* [Actions](/brianvoe/slim-select/actions)
* [Projects
  0](/brianvoe/slim-select/projects)
* [Security](/brianvoe/slim-select/security)
* [Insights](/brianvoe/slim-select/pulse)

Additional navigation options

* [Code](/brianvoe/slim-select)
* [Issues](/brianvoe/slim-select/issues)
* [Pull requests](/brianvoe/slim-select/pulls)
* [Discussions](/brianvoe/slim-select/discussions)
* [Actions](/brianvoe/slim-select/actions)
* [Projects](/brianvoe/slim-select/projects)
* [Security](/brianvoe/slim-select/security)
* [Insights](/brianvoe/slim-select/pulse)

## Files

 e7e37e2
## Breadcrumbs

1. [slim-select](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e)
2. /[src](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src)
3. /[slim-select](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src/slim-select)
/
# select.ts

Copy path Blame  Blame
## Latest commit

## History

[History](/brianvoe/slim-select/commits/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src/slim-select/select.ts)428 lines (362 loc) · 12 KB e7e37e2
## Breadcrumbs

1. [slim-select](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e)
2. /[src](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src)
3. /[slim-select](/brianvoe/slim-select/tree/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src/slim-select)
/
# select.ts

Top
## File metadata and controls

* Code
* Blame

428 lines (362 loc) · 12 KB[Raw](https://github.com/brianvoe/slim-select/raw/e7e37e2ff90e125f846bd98d6b8f278524ead79e/src/slim-select/select.ts)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428import { kebabCase } from './helpers'import { DataArray, DataArrayPartial, Optgroup, OptgroupOptional, Option } from './store'
export default class Select { public select: HTMLSelectElement
 // Mutation observer fields public onValueChange?: (value: Option[]) => void public onClassChange?: (classes: string[]) => void public onDisabledChange?: (disabled: boolean) => void public onOptionsChange?: (data: DataArrayPartial) => void
 // Change observers public listen: boolean = false private observer: MutationObserver | null = null
 constructor(select: HTMLSelectElement) { this.select = select
 this.valueChange = this.valueChange.bind(this) // Add change event listener this.select.addEventListener('change', this.valueChange, { // allow bubbling of event passive: true })
 // Initiate mutation observer this.observer = new MutationObserver(this.observeCall.bind(this))
 // Start listening for changes this.changeListen(true) }
 public enable(): void { this.select.disabled = false }
 public disable(): void { this.select.disabled = true }
 public hideUI(): void { this.select.tabIndex = -1 this.select.style.display = 'none' this.select.setAttribute('aria-hidden', 'true') }
 public showUI(): void { this.select.removeAttribute('tabindex') this.select.style.display = '' this.select.removeAttribute('aria-hidden') }
 public changeListen(listen: boolean) { this.listen = listen
 // Start listening for changes if (listen) { if (this.observer) { this.observer.observe(this.select, { subtree: true, // subtree for optgroups options childList: true, // children changes attributes: true // attributes changes }) } }
 // Stop listening for changes if (!listen) { if (this.observer) { this.observer.disconnect() } } }
 // This function get triggers when the select value changes // and will call the onValueChange function if it exists public valueChange(ev: Event): boolean { if (this.listen && this.onValueChange) { this.onValueChange(this.getSelectedOptions()) }
 // Allow bubbling back to other change event listeners return true }
 private observeCall(mutations: MutationRecord[]): void { // If we are not listening, do nothing. if (!this.listen) { return }
 let classChanged = false let disabledChanged = false let optgroupOptionChanged = false
 // Loop through mutations and check various things for (const m of mutations) { // Check if its the select if (m.target === this.select) { // Check if disabled has changed if (m.attributeName === 'disabled') { disabledChanged = true }
 // Check if class has changed if (m.attributeName === 'class') { classChanged = true }
 if (m.type === 'childList') { for (const n of m.addedNodes) { if (n.nodeName === 'OPTION' && (<HTMLOptionElement>n).value === this.select.value) { // we added a new option that's now the select value this.select.dispatchEvent(new Event('change')) break } }
 // options changed, so we need the optionsChange event to fire optgroupOptionChanged = true } }
 // Check if its an optgroup or option if (m.target.nodeName === 'OPTGROUP' || m.target.nodeName === 'OPTION') { optgroupOptionChanged = true } }
 // If class has changed then call the class change function if (classChanged && this.onClassChange) { this.onClassChange(this.select.className.split(' ')) }
 // If disabled has changed then call the disabled change function if (disabledChanged && this.onDisabledChange) { this.changeListen(false) this.onDisabledChange(this.select.disabled) this.changeListen(true) }
 // If optgroup or option has changed then call the select change function if (optgroupOptionChanged && this.onOptionsChange) { this.changeListen(false) this.onOptionsChange(this.getData()) this.changeListen(true) } }
 // From the select element pull optgroup and options into data public getData(): DataArrayPartial { let data = [] as DataArrayPartial
 // Loop through nodes and get data const nodes = this.select.childNodes as any as HTMLOptGroupElement[] | HTMLOptionElement[] for (const n of nodes) { // Optgroup if (n.nodeName === 'OPTGROUP') { data.push(this.getDataFromOptgroup(n as HTMLOptGroupElement)) }
 // Option if (n.nodeName === 'OPTION') { data.push(this.getDataFromOption(n as HTMLOptionElement)) } }
 return data }
 public getDataFromOptgroup(optgroup: HTMLOptGroupElement): OptgroupOptional { let data = { id: optgroup.id, label: optgroup.label, selectAll: optgroup.dataset ? optgroup.dataset.selectall === 'true' : false, selectAllText: optgroup.dataset ? optgroup.dataset.selectalltext : 'Select all', closable: optgroup.dataset ? optgroup.dataset.closable : 'off', options: [] } as OptgroupOptional
 const options = optgroup.childNodes as any as HTMLOptionElement[] for (const o of options) { if (o.nodeName === 'OPTION') { data.options!.push(this.getDataFromOption(o as HTMLOptionElement)) } }
 return data }
 // From passed in option pull pieces of usable information public getDataFromOption(option: HTMLOptionElement): Option { return { id: option.id, value: option.value, text: option.text, html: option.dataset && option.dataset.html ? option.dataset.html : '', selected: option.selected, display: option.style.display !== 'none', disabled: option.disabled, mandatory: option.dataset ? option.dataset.mandatory === 'true' : false, placeholder: option.dataset.placeholder === 'true', class: option.className, style: option.style.cssText, data: option.dataset } as Option }
 public getSelectedOptions(): Option[] { let options = []
 // Loop through options and set selected const opts = this.select.childNodes as any as (HTMLOptGroupElement | HTMLOptionElement)[] for (const o of opts) { if (o.nodeName === 'OPTGROUP') { const optgroupOptions = o.childNodes as any as HTMLOptionElement[] for (const oo of optgroupOptions) { if (oo.nodeName === 'OPTION') { const option = oo as HTMLOptionElement if (option.selected) { options.push(this.getDataFromOption(option)) } } } }
 if (o.nodeName === 'OPTION') { const option = o as HTMLOptionElement if (option.selected) { options.push(this.getDataFromOption(option)) } } }
 return options }
 public getSelectedValues(): string[] { return this.getSelectedOptions().map((option) => option.value) }
 public setSelected(ids: string[]): void { // Stop listening to changes this.changeListen(false)
 // Loop through options and set selected const options = this.select.childNodes as any as (HTMLOptGroupElement | HTMLOptionElement)[] for (const o of options) { if (o.nodeName === 'OPTGROUP') { const optgroup = o as HTMLOptGroupElement const optgroupOptions = optgroup.childNodes as any as HTMLOptionElement[] for (const oo of optgroupOptions) { if (oo.nodeName === 'OPTION') { const option = oo as HTMLOptionElement option.selected = ids.includes(option.id) } } }
 if (o.nodeName === 'OPTION') { const option = o as HTMLOptionElement option.selected = ids.includes(option.id) } }
 // Stop listening to changes this.changeListen(true) }
 // Set selected options by value instead of id // This is useful when the id is not known // and only the value is known // but the value is not unique and can be duplicated public setSelectedByValue(values: string[]): void { // Stop listening to changes this.changeListen(false)
 // Loop through options and set selected const options = this.select.childNodes as any as (HTMLOptGroupElement | HTMLOptionElement)[] for (const o of options) { if (o.nodeName === 'OPTGROUP') { const optgroup = o as HTMLOptGroupElement const optgroupOptions = optgroup.childNodes as any as HTMLOptionElement[] for (const oo of optgroupOptions) { if (oo.nodeName === 'OPTION') { const option = oo as HTMLOptionElement option.selected = values.includes(option.value) } } }
 if (o.nodeName === 'OPTION') { const option = o as HTMLOptionElement option.selected = values.includes(option.value) } }
 // Stop listening to changes this.changeListen(true) }
 public updateSelect(id?: string, style?: string, classes?: string[]): void { // Stop listening to changes this.changeListen(false)
 // Update id, only if the id isnt already set if (id) { this.select.dataset.id = id }
 // Update style if (style) { this.select.style.cssText = style }
 // Update classes if (classes) { this.select.className = '' classes.forEach((c) => { if (c.trim() !== '') { this.select.classList.add(c.trim()) } }) }
 // Start listening to changes this.changeListen(true) }
 public updateOptions(data: DataArray): void { // Stop listening to changes this.changeListen(false)
 // Clear out select this.select.innerHTML = ''
 for (const d of data) { if (d instanceof Optgroup) { this.select.appendChild(this.createOptgroup(d)) }
 if (d instanceof Option) { this.select.appendChild(this.createOption(d)) } }
 // Trigger change event on original select this.select.dispatchEvent(new Event('change', { bubbles: true }))
 // Start listening to changes this.changeListen(true) }
 public createOptgroup(optgroup: Optgroup): HTMLOptGroupElement { const optgroupEl = document.createElement('optgroup') optgroupEl.id = optgroup.id optgroupEl.label = optgroup.label if (optgroup.selectAll) { optgroupEl.dataset.selectAll = 'true' } if (optgroup.closable !== 'off') { optgroupEl.dataset.closable = optgroup.closable } if (optgroup.options) { for (const o of optgroup.options) { optgroupEl.appendChild(this.createOption(o)) } } return optgroupEl }
 public createOption(info: Option): HTMLOptionElement { const optionEl = document.createElement('option') optionEl.id = info.id optionEl.value = info.value optionEl.innerHTML = info.text if (info.html !== '') { optionEl.setAttribute('data-html', info.html) } if (info.selected) { optionEl.selected = info.selected } if (info.disabled) { optionEl.disabled = true } if (!info.display) { optionEl.style.display = 'none' } if (info.placeholder) { optionEl.setAttribute('data-placeholder', 'true') } if (info.mandatory) { optionEl.setAttribute('data-mandatory', 'true') } if (info.class) { info.class.split(' ').forEach((optionClass: string) => { optionEl.classList.add(optionClass) }) } if (info.data && typeof info.data === 'object') { Object.keys(info.data).forEach((key) => { optionEl.setAttribute('data-' + kebabCase(key), info.data[key]) }) }
 return optionEl }
 public destroy() { this.changeListen(false)
 // Remove event change listener this.select.removeEventListener('change', this.valueChange)
 // Disconnect observer and null if (this.observer) { this.observer.disconnect() this.observer = null }
 // Remove dataset id from original select delete this.select.dataset.id
 // Show the original select this.showUI() }}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from vulncheck.com_7ec179d1_20250110_233836.html ===

## Cookies

We use our own cookies and third-party cookies so that we can display this website correctly and better understand how this website is used, with a view to improving the services we offer. A decision on cookie usage permissions can be changed anytime using the cookie button that will appear after a selection has been made on this banner.

AcceptDeclineLearn more and customize[Products](/product)[Government](/government)Resources[Community](/community)Open Source[Company](/company)Go back

Slim Select 2.0 createOption "text" XSS

severitymediumdateOctober 2, 2024Affecting

* Slim Select 2.0 through 2.9.0

CVECVE-2024-9440CVE typeCross-site Scripting (XSS)CVSS5.4CVSS V3 VectorAV:N/AC:L/PR:N/UI:R/S:U/C:L/I:L/A:NReferences

* [Disclosure](https://github.com/brianvoe/slim-select/issues/564)

CreditAlexis MarquoisFooterVulnCheck helps organizations outpace adversaries with vulnerability intelligence that predicts avenues of attack with speed and accuracy.© 2025 VulnCheck Inc.Products

* [Exploit & Vulnerability Intelligence](/product/exploit-intelligence)
* [Initial Access Intelligence](/product/initial-access-intelligence)
* [IP Intelligence](/product/ip-intelligence)
* [VulnCheck for Government](/government)

Resources

* [Documentation](https://docs.vulncheck.com/)
* [API](https://docs.vulncheck.com/api)
* [Changelog](https://docs.vulncheck.com/changelog)
* [Glossary](https://docs.vulncheck.com/glossary/terms)
* Contact Support

Community

* [VulnCheck KEV](/kev)
* [NVD++](/nvd2)
* [XDB](/xdb)
* [Knowledge Base](/blog?tags=101)
* [Report a Vulnerability](/advisories/report)

Open Source

* [SDK for Go](https://github.com/vulncheck-oss/sdk-go)
* [SDK for Python](https://github.com/vulncheck-oss/sdk-python)
* [CLI](https://github.com/vulncheck-oss/cli)
* [GitHub Action](https://github.com/vulncheck-oss/action)
* [go-exploit](https://github.com/vulncheck-oss/go-exploit)

Company

* [Blog](/blog)
* [News and Awards](/news)
* [Press Releases](/press)
* [Partners](/partners)
* [Events](/events)
* [VulnCheck Advisories](/advisories)
* [Leadership Team](/company/about)

Legal

* [Privacy Policy](/privacy)
* [Terms & Conditions](/terms)
* [Vulnerability Disclosure Policy](/vulnerability-disclosure-policy)


