=== Content from github.com_f91f58e9_20250110_162504.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbaden03%2Fcollapse-o-matic%2Fblob%2F561d8ab53a03e44c12234ba9687226fdbb5054cc%2Fcollapse-o-matic.php)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbaden03%2Fcollapse-o-matic%2Fblob%2F561d8ab53a03e44c12234ba9687226fdbb5054cc%2Fcollapse-o-matic.php)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=baden03%2Fcollapse-o-matic)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[baden03](/baden03)
/
**[collapse-o-matic](/baden03/collapse-o-matic)**
Public

* [Notifications](/login?return_to=%2Fbaden03%2Fcollapse-o-matic) You must be signed in to change notification settings
* [Fork
  7](/login?return_to=%2Fbaden03%2Fcollapse-o-matic)
* [Star
   6](/login?return_to=%2Fbaden03%2Fcollapse-o-matic)

* [Code](/baden03/collapse-o-matic)
* [Issues
  1](/baden03/collapse-o-matic/issues)
* [Pull requests
  0](/baden03/collapse-o-matic/pulls)
* [Actions](/baden03/collapse-o-matic/actions)
* [Projects
  0](/baden03/collapse-o-matic/projects)
* [Wiki](/baden03/collapse-o-matic/wiki)
* [Security](/baden03/collapse-o-matic/security)
* [Insights](/baden03/collapse-o-matic/pulse)

Additional navigation options

* [Code](/baden03/collapse-o-matic)
* [Issues](/baden03/collapse-o-matic/issues)
* [Pull requests](/baden03/collapse-o-matic/pulls)
* [Actions](/baden03/collapse-o-matic/actions)
* [Projects](/baden03/collapse-o-matic/projects)
* [Wiki](/baden03/collapse-o-matic/wiki)
* [Security](/baden03/collapse-o-matic/security)
* [Insights](/baden03/collapse-o-matic/pulse)

## Files

 561d8ab
## Breadcrumbs

1. [collapse-o-matic](/baden03/collapse-o-matic/tree/561d8ab53a03e44c12234ba9687226fdbb5054cc)
/
# collapse-o-matic.php

Copy path Blame  Blame
## Latest commit

## History

[History](/baden03/collapse-o-matic/commits/561d8ab53a03e44c12234ba9687226fdbb5054cc/collapse-o-matic.php)executable file·976 lines (875 loc) · 41 KB 561d8ab
## Breadcrumbs

1. [collapse-o-matic](/baden03/collapse-o-matic/tree/561d8ab53a03e44c12234ba9687226fdbb5054cc)
/
# collapse-o-matic.php

Top
## File metadata and controls

* Code
* Blame

executable file·976 lines (875 loc) · 41 KB[Raw](https://github.com/baden03/collapse-o-matic/raw/561d8ab53a03e44c12234ba9687226fdbb5054cc/collapse-o-matic.php)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976<?php/\*Plugin Name: Collapse-O-MaticText Domain: jquery-collapse-o-maticPlugin URI: https://pluginoven.com/plugins/collapse-o-matic/Description: Collapse-O-Matic adds an [expand] shortcode that wraps content into a lovely, jQuery collapsible div.Version: 1.8.5.6Author: twinpictures, baden03Author URI: https://twinpictures.de/License: GPL2\*/
/\*\* \* Class WP\_Collapse\_O\_Matic \* @package WP\_Collapse\_O\_Matic \* @category WordPress Plugins \*/
if(!defined('PLUGIN\_OVEN\_URL')){ define( 'PLUGIN\_OVEN\_URL', 'https://pluginoven.com/' );}if(!defined('PLUGIN\_OVEN\_CC')){ define( 'PLUGIN\_OVEN\_CC', 'Collapse Commander' );}
class WP\_Collapse\_O\_Matic {
 /\*\* \* Current version \* @var string \*/ var $version = '1.8.5.6';
 /\*\* \* Used as prefix for options entry \* @var string \*/ var $domain = 'colomat';
 /\*\* \* Name of the options \* @var string \*/ var $options\_name = 'WP\_Collapse\_O\_Matic\_options';
 /\*\* \* @var array \*/ var $options = array( 'style' => 'light', 'cid' => '', 'tag' => 'span', 'trigclass' => '', 'targtag' => 'div', 'targclass' => '', 'notitle' => '', 'duration' => 'fast', 'tabindex' => '0', 'slideEffect' => 'slideFade', 'custom\_css' => '', 'script\_check' => '', 'css\_check' => '', 'script\_location' => 'footer', 'cc\_download\_key' => '', 'cc\_email' => '', 'filter\_content' => '', 'pauseinit' => '', 'cc\_display\_id' => '', 'cc\_display\_title' => '', 'touch\_start' => '', );
 var $license\_group = 'colomat\_licenseing';
 var $license\_name = 'WP\_Collapse\_O\_Matic\_license';
 var $license\_options = array( 'collapse\_commander\_license\_key' => '', 'collapse\_commander\_license\_status' => '' );
 /\*\* \* PHP5 constructor \*/ function \_\_construct() { // set option values $this->\_set\_options();
 // load text domain for translations load\_plugin\_textdomain( 'jquery-collapse-o-matic' );
 //load the script and style if viewing the front-end add\_action('wp\_enqueue\_scripts', array( $this, 'collapsTronicInit' ) ); add\_action('admin\_enqueue\_scripts', array( $this, 'codemirror\_enqueue\_scripts') );
 // add actions add\_action( 'admin\_menu', array( $this, 'admin\_menu' ) ); add\_action( 'plugin\_action\_links\_' . plugin\_basename(\_\_FILE\_\_), array( $this, 'plugin\_actions' ) ); add\_action( 'admin\_init', array( $this, 'admin\_init' ) ); add\_shortcode('expand', array($this, 'shortcode')); add\_shortcode('colomat', array($this, 'shortcode'));
 //add expandsub shortcodes for ($i=1; $i<30; $i++) { add\_shortcode('expandsub'.$i, array($this, 'shortcode')); }
 // Add shortcode support for widgets add\_filter('widget\_text', 'do\_shortcode'); }
 /\*\* \* Callback init \*/ function collapsTronicInit() { //collapse script $load\_in\_footer = false; if($this->options['script\_location'] == 'footer' ){ $load\_in\_footer = true; } wp\_register\_script('collapseomatic-js', plugins\_url('js/collapse.js', \_\_FILE\_\_), array('jquery'), '1.7.2', $load\_in\_footer);  //prep options for injection $com\_options = [ 'colomatduration' => $this->options['duration'], 'colomatslideEffect' => $this->options['slideEffect'], 'colomatpauseInit' => $this->options['pauseinit'], 'colomattouchstart' => $this->options['touch\_start'] ]; wp\_add\_inline\_script( 'collapseomatic-js', 'const com\_options = ' . json\_encode( $com\_options ), 'before' );
 if( empty($this->options['script\_check']) ){ wp\_enqueue\_script('collapseomatic-js'); }
 //css wp\_register\_style( 'collapscore-css', plugins\_url('css/core\_style.css', \_\_FILE\_\_) , array (), '1.0' ); wp\_register\_style( 'collapseomatic-css', plugins\_url('css/'.$this->options['style'].'\_style.css', \_\_FILE\_\_) , array (), '1.6' ); if( !empty( $this->options['custom\_css'] ) ){ wp\_add\_inline\_style( 'collapscore-css', $this->options['custom\_css'] ); }
 if( empty($this->options['css\_check'])){ wp\_enqueue\_style( 'collapscore-css' ); if ($this->options['style'] !== 'none') { wp\_enqueue\_style( 'collapseomatic-css' ); } } }
 function codemirror\_enqueue\_scripts($hook) { if($hook == 'settings\_page\_collapse-o-matic-options'){ wp\_register\_script('cm\_js', plugins\_url('js/admin\_codemirror.js', \_\_FILE\_\_), array('jquery'), '0.1.0', true); $cm\_settings = wp\_enqueue\_code\_editor( [ 'type' => 'text/css', 'codemirror' => [ 'lineNumbers' => true, 'autoRefresh' => true ] ] ); wp\_localize\_script('cm\_js', 'cm\_settings', $cm\_settings); wp\_enqueue\_script( 'cm\_js' ); wp\_enqueue\_script( 'wp-theme-plugin-editor' ); wp\_enqueue\_style( 'wp-codemirror' ); wp\_register\_style( 'com-admin-css', plugins\_url('css/admin\_style.css', \_\_FILE\_\_) , array (), '1.0.0' ); wp\_enqueue\_style( 'com-admin-css' ); } }
 /\*\* \* Callback admin\_menu \*/ function admin\_menu() { if ( function\_exists( 'add\_options\_page' ) AND current\_user\_can( 'manage\_options' ) ) { // add options page $page = add\_options\_page('Collapse-O-Matic Options', 'Collapse-O-Matic', 'manage\_options', 'collapse-o-matic-options', array( $this, 'options\_page' )); } }
 /\*\* \* Callback admin\_init \*/ function admin\_init() { // register settings register\_setting( $this->domain, $this->options\_name ); register\_setting( $this->license\_group, $this->license\_name, array($this, 'edd\_sanitize\_license') ); }
 /\*\* \* Callback shortcode \*/ function shortcode($atts, $content = null){ $options = $this->options; if( !empty($this->options['script\_check']) ){ wp\_enqueue\_script('collapseomatic-js'); }
 if( !empty($this->options['css\_check'])){ wp\_enqueue\_style( 'collapscore-css' ); if ($this->options['style'] !== 'none') { wp\_enqueue\_style( 'collapseomatic-css' ); } }
 //find a random number, if no id is assigned $ran = uniqid(); extract(shortcode\_atts(array( 'title' => '', 'cid' => $options['cid'], 'template\_id' => '', 'swaptitle' => '', 'alt' => '', 'swapalt' => '', 'notitle' => $options['notitle'], 'id' => 'id'.$ran, 'tag' => $options['tag'], 'trigclass' => $options['trigclass'], 'targtag' => $options['targtag'], 'targclass' => $options['targclass'], 'targpos' => '', 'trigpos' => 'above', 'rel' => '', 'group' => '', 'togglegroup' => '', 'expanded' => '', 'excerpt' => '', 'swapexcerpt' => false, 'excerptpos' => 'below-trigger', 'excerpttag' => 'div', 'excerptclass' => '', 'findme' => '', 'scrollonclose' => '', 'startwrap' => '', 'endwrap' => '', 'elwraptag' => '', 'elwrapclass' => '', 'filter' => $options['filter\_content'], 'tabindex' => $options['tabindex'], 'animation\_effect' => '', 'duration' => '', 'orderby' => '', 'order' => '' ), $atts, 'expand'));
 //collapse commander if( !empty($cid) && is\_plugin\_active( 'collapse-commander/collapse-commander.php') ){ $meta\_values = WP\_CollapseCommander::meta\_grabber($cid, $orderby, $order); extract(shortcode\_atts($meta\_values, $atts)); }
 if(!empty($triggertext)){ $title = $triggertext; } if(!empty($highlander) && !empty($rel)){ $rel .= '-highlander'; }
 //content filtering if(empty($filter) || $filter == 'false'){ $content = do\_shortcode($content); } else{ $content = apply\_filters( 'the\_content', $content ); $content = str\_replace( ']]>', ']]&gt;', $content ); }
 if( !empty($cid) && get\_edit\_post\_link($cid) ){ $content .= '<div class="com\_edit\_link"><a class="post-edit-link" href="'.get\_edit\_post\_link($cid).'">'.\_\_('Edit').'</a></div>'; }
 if( !empty($sub\_cids) ){ foreach($sub\_cids as $sub\_cid){ $args = array('cid' => $sub\_cid); $content .= $this->shortcode($args); } }
 //id does not allow spaces $id = preg\_replace('/\s+/', '\_', $id);
 $ewo = ''; $ewc = '';
 //id does not allow spaces $id = preg\_replace('/\s+/', '\_', $id);
 //placeholders $placeholder\_arr = array('%(%', '%)%', '%{%', '%}%'); $swapout\_arr = array('<', '>', '[', ']');
 $allowed\_tags = [ "div", "span", "p", "li", "ul", "ol", "strong", "b", "em", "i", "u", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "a", "img", "tr", "td", "th", "caption", "small", "cite", "q" ];
  if(!empty($tag)){ $tag = $this->filter\_allowed\_tags( $tag, $allowed\_tags ); }
 $title = do\_shortcode(str\_replace($placeholder\_arr, $swapout\_arr, $title)); if($swaptitle){ $swaptitle = do\_shortcode(str\_replace($placeholder\_arr, $swapout\_arr, $swaptitle)); } if($startwrap){ $startwrap = do\_shortcode(str\_replace($placeholder\_arr, $swapout\_arr, $startwrap)); } if($endwrap){ $endwrap = do\_shortcode(str\_replace($placeholder\_arr, $swapout\_arr, $endwrap)); } //need to check for a few versions, because of new option setting. can be removed after a few revisiosn. if(!empty($targtag)){ $targtag = $this->filter\_allowed\_tags( $targtag, $allowed\_tags ); } else{ $targtag = 'div'; }
  if(!empty($elwraptag)){ $ewclass = ''; if($elwrapclass){ $ewclass = 'class="'.esc\_attr($elwrapclass).'"'; } $elwraptag = $this->filter\_allowed\_tags( $elwraptag, $allowed\_tags );
 $ewo = '<'. $elwraptag .' '.$ewclass.'>'; $ewc = '</'. $elwraptag .'>'; }
 $eDiv = '';
 if($content){ $inline\_class = ''; $collapse\_class = 'collapseomatic\_content '; if($targpos == 'inline'){ $inline\_class = 'colomat-inline '; $collapse\_class = 'collapseomatic\_content\_inline '; } $eDiv = '<'. esc\_attr( $targtag ) .' id="target-'.$id.'" class="'.esc\_attr($collapse\_class.$inline\_class.$targclass).'">'. $content .'</'. esc\_attr( $targtag ) .'>'; } if($excerpt){ $excerpt = str\_replace($placeholder\_arr, $swapout\_arr, $excerpt); $excerpt = do\_shortcode($excerpt); $excerpt = apply\_filters( 'colomat\_excerpt', $excerpt );
 if($targpos == 'inline'){ $excerpt .= $eDiv; $eDiv = ''; } if($excerptpos == 'above-trigger'){ $nibble = '<'. esc\_attr( $excerpttag ) .' id="excerpt-'.esc\_attr($id).'" class="'.esc\_attr($excerptclass).'">'. esc\_attr( $excerpt ).'</'. esc\_attr( $excerpttag ) .'>'; } else{ $nibble = '<'. esc\_attr( $excerpttag ) .' id="excerpt-'.esc\_attr($id).'" class="collapseomatic\_excerpt '.esc\_attr($excerptclass).'">'. esc\_attr( $excerpt ) .'</'. esc\_attr( $excerpttag ) .'>'; } //swapexcerpt if($swapexcerpt !== false){ $swapexcerpt = str\_replace($placeholder\_arr, $swapout\_arr, $swapexcerpt); $swapexcerpt = do\_shortcode($swapexcerpt); $swapexcerpt = apply\_filters( 'colomat\_swapexcerpt', $swapexcerpt ); $nibble .= '<'. esc\_attr( $excerpttag ) .' id="swapexcerpt-'.esc\_attr($id).'" style="display:none;">'. esc\_attr( $swapexcerpt ).'</'. esc\_attr( $excerpttag ) .'>'; } } $altatt = ''; if(!empty($alt)){ $altatt = 'alt="'.esc\_attr($alt).'" title="'.esc\_attr($alt).'"'; } else if( empty($notitle) ){ $altatt = 'title="'.esc\_attr($title).'"'; } $relatt = ''; if(!empty($rel)){ $relatt = 'rel="'.esc\_attr($rel).'"'; }
 $groupatt = ''; //legacy if($group && !$togglegroup){ $togglegroup = $group; }
 if($togglegroup){ $groupatt = 'data-togglegroup="'.esc\_attr($togglegroup).'"'; } $inexatt = ''; //var\_dump($tabindex); if(!empty($tabindex) || $tabindex == 0 ){ $inexatt = 'tabindex="'.esc\_attr($tabindex).'"'; } if($expanded && $expanded != 'false'){ $trigclass .= ' colomat-close'; } $anchor = ''; if($findme){ $trigclass .= ' find-me'; $offset = ''; if($findme != 'true' && $findme != 'auto'){ $offset = $findme; } //$anchor = '<input type="hidden" id="find-'.$id.'" name="'.$offset.'"/>'; $anchor = 'data-findme="'.$offset.'"'; }
 //effect $effatt = ''; if($animation\_effect){ $effatt = 'data-animation\_effect="'.esc\_attr($animation\_effect).'"'; }
 //duration $duratt = ''; if($duration){ $duratt = 'data-duration="'.esc\_attr($duration).'"'; }
 $closeanchor = ''; if($scrollonclose && (is\_numeric($scrollonclose) || $scrollonclose == 0)){ $trigclass .= ' scroll-to-trigger'; $closeanchor = '<input type="hidden" id="scrollonclose-'.esc\_attr($id).'" name="'.esc\_attr($scrollonclose).'"/>'; }
 //deal with image from collapse-commander if( !empty($trigtype) && $trigtype == 'image' && !empty($triggerimage) && strtolower($tag) == 'img' ){ $imageclass = 'collapseomatic noarrow' . esc\_attr($trigclass); $image\_atts = array( 'id' => $id, 'class' => $imageclass, 'alt' => $alt ); if(!$notitle){ $image\_atts['title'] = $alt; } $link = $closeanchor.wp\_get\_attachment\_image( $triggerimage, 'full', false, $image\_atts ); } else{ if(!empty($trigtype) && $trigtype == 'image' && !empty($triggerimage)){ $title = wp\_get\_attachment\_image( $triggerimage, 'full' ); } $link = $closeanchor.'<'. esc\_attr($tag) .' class="collapseomatic '.esc\_attr($trigclass).'" id="'.esc\_attr($id).'" '.$relatt.' '.$inexatt.' '.$altatt.' '.$anchor.' '.$groupatt.' '.$effatt.' '.$duratt.'>'.wp\_kses\_post($startwrap.$title.$endwrap).'</'. esc\_attr($tag) .'>'; }
 //swap image if( !empty($trigtype) && $trigtype == 'image' && !empty($swapimage) && strtolower($tag) == 'img' ){ $link .= wp\_get\_attachment\_image( $swapimage, 'full', false, array( 'id' => 'swap-'.$id, 'class' => 'colomat-swap', 'alt' => $swapalt, 'style' => 'display:none;' ) ); } else{ if(!empty($trigtype) && $trigtype == 'image' && !empty($swapimage)){ $swaptitle = wp\_get\_attachment\_image( $swapimage, 'full' ); } } //swap title if($swaptitle){ $swapalt\_attr = ''; if(!empty($swapalt)){ $swapalt\_attr = "alt='".esc\_attr($swapalt)."'"; } $link .= "<". esc\_attr($tag) ." id='swap-".esc\_attr($id)."' ".esc\_attr($swapalt\_attr)." class='colomat-swap' style='display:none;'>".wp\_kses\_post($startwrap.$swaptitle.$endwrap)."</". esc\_attr($tag) .">"; }
 if($excerpt){ if($excerptpos == 'above-trigger'){ if($trigpos == 'below'){ $retStr = $ewo.$eDiv.$nibble.$link.$ewc; } else{ $retStr = $ewo.$nibble.$link.$eDiv.$ewc; } } else if($excerptpos == 'below-trigger'){ if($trigpos == 'below'){ $retStr = $ewo.$eDiv.$link.$nibble.$ewc; } else{ $retStr = $ewo.$link.$nibble.$eDiv.$ewc; } } else{ if($trigpos == 'below'){ $retStr = $ewo.$eDiv.$link.$nibble.$ewc; } else{ $retStr = $ewo.$link.$eDiv.$nibble.$ewc; } } } else{ if($trigpos == 'below'){ $retStr = $ewo.$eDiv.$link.$ewc; } else{ $retStr = $ewo.$link.$eDiv.$ewc; } } return $retStr; }
 // Add link to options page from plugin list function plugin\_actions($links) { $new\_links = array(); $new\_links[] = '<a href="options-general.php?page=collapse-o-matic-options">' . \_\_('Settings', 'jquery-collapse-o-matic') . '</a>'; return array\_merge($new\_links, $links); }
 /\*\* \* Admin options page \*/ function options\_page() { $like\_it\_arr = array( \_\_('really tied the room together', 'jquery-collapse-o-matic'), \_\_('made you feel all warm and fuzzy on the inside', 'jquery-collapse-o-matic'), \_\_('restored your faith in humanity... even if only for a fleeting second', 'jquery-collapse-o-matic'), \_\_('rocked your world', 'provided a positive vision of future living', 'jquery-collapse-o-matic'), \_\_('inspired you to commit a random act of kindness', 'jquery-collapse-o-matic'), \_\_('encouraged more regular flossing of the teeth', 'jquery-collapse-o-matic'), \_\_('helped organize your life in the small ways that matter', 'jquery-collapse-o-matic'), \_\_('saved your minutes--if not tens of minutes--writing your own solution', 'jquery-collapse-o-matic'), \_\_('brightened your day... or darkened if if you are trying to sleep in', 'jquery-collapse-o-matic'), \_\_('caused you to dance a little jig of joy and joyousness', 'jquery-collapse-o-matic'), \_\_('inspired you to tweet a little @twinpictues social love', 'jquery-collapse-o-matic'), \_\_('tasted great, while also being less filling', 'jquery-collapse-o-matic'), \_\_('caused you to shout: "everybody spread love, give me some mo!"', 'jquery-collapse-o-matic'), \_\_('helped you keep the funk alive', 'jquery-collapse-o-matic'), \_\_('<a href="https://www.youtube.com/watch?v=dvQ28F5fOdU" target="\_blank">soften hands while you do dishes</a>', 'jquery-collapse-o-matic'), \_\_('helped that little old lady <a href="https://www.youtube.com/watch?v=Ug75diEyiA0" target="\_blank">find the beef</a>', 'jquery-collapse-o-matic') ); $rand\_key = array\_rand($like\_it\_arr); $like\_it = $like\_it\_arr[$rand\_key]; ?> <div class="wrap"> <h2>Collapse-O-Matic</h2> </div>
 <div class="postbox-container metabox-holder meta-box-sortables" style="width: 69%"> <div style="margin:0 5px;"> <div class="postbox"> <div class="handlediv" title="<?php \_e( 'Click to toggle', 'jquery-collapse-o-matic' ) ?>"><br/></div> <h3 class="hndle"><?php \_e( 'Default Collapse-O-Matic Settings', 'jquery-collapse-o-matic' ) ?></h3> <div class="inside"> <form method="post" action="options.php"> <?php settings\_fields( $this->domain ); $options = $this->options; ?> <fieldset class="options"> <table class="form-table"> <tr> <th><?php \_e( 'Style', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><select id="style" name="<?php echo esc\_attr($this->options\_name); ?>[style]"> <?php if(empty($options['style'])){ $options['style'] = 'light'; } $st\_array = array( \_\_('Light', 'jquery-collapse-o-matic') => 'light', \_\_('Dark', 'jquery-collapse-o-matic') => 'dark', \_\_('None', 'jquery-collapse-o-matic') => 'none' ); foreach( $st\_array as $key => $value){ $selected = ''; if($options['style'] == $value){ $selected = 'SELECTED'; } echo '<option value="'.esc\_attr($value).'" '.$selected.'>'.esc\_attr($key).'</option>'; } ?> </select> <br /><span class="description"><?php \_e('Select Light for sites with lighter backgrounds. Select Dark for sites with darker backgrounds. Select None to handle styling yourself.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <?php if( is\_plugin\_active( 'collapse-commander/collapse-commander.php' ) ) : ?> <tr> <th><?php \_e( 'CID Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="cid" name="<?php echo esc\_attr($this->options\_name); ?>[cid]" value="<?php echo esc\_attr($options['cid']); ?>" /> <br /><span class="description"><?php printf( \_\_('Default %sCollapse Commander%s ID', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/premium-plugins/collapse-commander/" target="\_blank">', '</a>'); ?></span></label> </td> </tr> <?php else: ?> <tr> <th><?php \_e( 'Collapse Management', 'colpromat' ) ?></th> <td><?php printf(\_\_( '%sCollapse Commander%s is an add-on plugin that introduces an advanced management interface to better organize expand elements and simplify expand shortcodes.', 'colpromat' ), '<a href="https://pluginoven.com/premium-plugins/collapse-commander/">', '</a>'); ?> </td> </tr> <?php endif; ?>
 <tr> <th><?php \_e( 'Tag Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="tag" name="<?php echo esc\_attr($this->options\_name); ?>[tag]" value="<?php echo esc\_attr($options['tag']); ?>" /> <br /><span class="description"><?php printf(\_\_('HTML tag use to wrap the trigger text. See %sTag Attribute%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/#tag-attribute" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Trigclass Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="trigclass" name="<?php echo esc\_attr($this->options\_name); ?>[trigclass]" value="<?php echo esc\_attr($options['trigclass']); ?>" /> <br /><span class="description"><?php printf(\_\_('Default class assigned to the trigger element. See %sTrigclass Attribute%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/#trigclass-attribute" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Tabindex Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="tabindex" name="<?php echo esc\_attr($this->options\_name); ?>[tabindex]" value="<?php echo esc\_attr($options['tabindex']); ?>" /> <br /><span class="description"><?php printf(\_\_('Default tabindex value to be assigned to the trigger element. See %sTabindex Attribute%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/#tabindex-attribute" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Targtag Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="targtag" name="<?php echo esc\_attr($this->options\_name); ?>[targtag]" value="<?php echo esc\_attr($options['targtag']); ?>" /> <br /><span class="description"><?php printf(\_\_('HTML tag use for the target element. See %sTargtag Attribute%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/#targtag-attribute" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Targclass Attribute', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="targclass" name="<?php echo esc\_attr($this->options\_name); ?>[targclass]" value="<?php echo esc\_attr($options['targclass']); ?>" /> <br /><span class="description"><?php printf(\_\_('Default class assigned to the target element. See %sTargclass Attribute%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/#targclass-attribute" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'No Title', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="checkbox" id="notitle" name="<?php echo esc\_attr($this->options\_name); ?>[notitle]" value="1" <?php echo checked( $options['notitle'], 1 ); ?> /> <?php \_e('No Title', 'jquery-collapse-o-matic'); ?> <br /><span class="description"><?php \_e('Do not use title tags by default.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Add touchstart', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="checkbox" id="touch\_start" name="<?php echo esc\_attr($this->options\_name); ?>[touch\_start]" value="1" <?php echo checked( $options['touch\_start'], 1 ); ?> /> <?php \_e('Add touchstart', 'jquery-collapse-o-matic'); ?> <br /><span class="description"><?php \_e('Add jQuery touchstart binding to triggers.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Initial Pause', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="number" id="pauseinit" name="<?php echo esc\_attr($this->options\_name); ?>[pauseinit]" value="<?php echo esc\_attr($options['pauseinit']); ?>" /> <br /><span class="description"><?php \_e('Amount of time in milliseconds to pause before the initial collapse is triggered on page load.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <tr> <?php if(empty($options['duration'])){ $options['duration'] = 'fast'; } ?> <th><?php \_e( 'Animation Duration', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="text" id="duration" name="<?php echo esc\_attr($this->options\_name); ?>[duration]" value="<?php echo esc\_attr($options['duration']); ?>" /> <br /><span class="description"><?php printf(\_\_('A string or number determining how long the animation will run. See %sDuration%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://plugins.twinpictures.de/plugins/collapse-o-matic/documentation/#duration" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Animation Effect', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><select id="slideEffect" name="<?php echo esc\_attr($this->options\_name); ?>[slideEffect]"> <?php if(empty($options['slideEffect'])){ $options['slideEffect'] = 'slideFade'; } $se\_array = array( \_\_('Slide Only', 'jquery-collapse-o-matic') => 'slideToggle', \_\_('Slide & Fade', 'jquery-collapse-o-matic') => 'slideFade', \_\_('Fade Only', 'jquery-collapse-o-matic') => 'fadeOnly' ); foreach( $se\_array as $key => $value){ $selected = ''; if($options['slideEffect'] == $value){ $selected = 'SELECTED'; } echo '<option value="'.esc\_attr($value).'" '.$selected.'>'.esc\_attr($key).'</option>'; } ?> </select> <br /><span class="description"><?php printf(\_\_('Animation effect to use while collapsing and expanding. See %sAnimation Effect%s in the documentation for more info.', 'jquery-collapse-o-matic'), '<a href="https://plugins.twinpictures.de/plugins/collapse-o-matic/documentation/#animation-effect" target="\_blank">', '</a>'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Custom Style', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><textarea id="custom\_css" name="<?php echo esc\_attr($this->options\_name); ?>[custom\_css]"><?php echo esc\_textarea($options['custom\_css']); ?></textarea> <br /><span class="description"><?php \_e( 'Custom CSS style for <em>ultimate flexibility</em>', 'jquery-collapse-o-matic' ) ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Content Filter', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="checkbox" id="filter\_content" name="<?php echo esc\_attr($this->options\_name); ?>[filter\_content]" value="1" <?php echo checked( $options['filter\_content'], 1 ); ?> /> <?php \_e('Apply filter', 'jquery-collapse-o-matic'); ?> <br /><span class="description"><?php \_e('Apply the\_content filter to target content.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <?php //if collapse-commander is installed, display options for displaying id and text in shortocdes if( is\_plugin\_active( 'collapse-commander/collapse-commander.php' ) ) : ?> <tr> <th><?php \_e( 'Display ID', 'colpromat' ) ?>:</th> <td><label><input type="checkbox" id="cc\_display\_id" name="<?php echo esc\_attr($this->options\_name); ?>[cc\_display\_id]" value="1" <?php echo checked( $options['cc\_display\_id'], 1 ); ?> /> <?php \_e('Display ID', 'colpromat'); ?> <br /><span class="description"><?php \_e('Display custom ID attribute in shortcodes if set for easier shortcode managment.', 'colpromat'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Display Title', 'colpromat' ) ?>:</th> <td><label><input type="checkbox" id="cc\_display\_title" name="<?php echo esc\_attr($this->options\_name); ?>[cc\_display\_title]" value="1" <?php echo checked( $options['cc\_display\_title'], 1 ); ?> /> <?php \_e('Display Title', 'colpromat'); ?> <br /><span class="description"><?php \_e('Display custom eT attribute in shortcodes that shows expand title for easier shortcode managment.', 'colpromat'); ?></span></label> </td> </tr> <?php endif; ?>
 <tr> <th><?php \_e( 'Shortcode Scripts', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="checkbox" id="script\_check" name="<?php echo esc\_attr($this->options\_name); ?>[script\_check]" value="1" <?php echo checked( $options['script\_check'], 1 ); ?> /> <?php \_e('Only load scripts with shortcode.', 'jquery-collapse-o-matic'); ?> <br /><span class="description"><?php \_e('Only load Collapse-O-Matic scripts if [expand] shortcode is used.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Shortcode CSS', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><input type="checkbox" id="css\_check" name="<?php echo esc\_attr($this->options\_name); ?>[css\_check]" value="1" <?php echo checked( $options['css\_check'], 1 ); ?> /> <?php \_e('Only load CSS with shortcode.', 'jquery-collapse-o-matic'); ?> <br /><span class="description"><?php \_e('Only load Collapse-O-Matic CSS if [expand] shortcode is used.', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr>
 <tr> <th><?php \_e( 'Script Load Location', 'jquery-collapse-o-matic' ) ?>:</th> <td><label><select id="script\_location" name="<?php echo esc\_attr($this->options\_name); ?>[script\_location]"> <?php if(empty($options['script\_location'])){ $options['script\_location'] = 'footer'; } $sl\_array = array( \_\_('Header', 'jquery-collapse-o-matic') => 'header', \_\_('Footer', 'jquery-collapse-o-matic') => 'footer' ); foreach( $sl\_array as $key => $value){ $selected = ''; if($options['script\_location'] == $value){ $selected = 'SELECTED'; } echo '<option value="'.esc\_attr($value).'" '.$selected.'>'.esc\_attr($key).'</option>'; } ?> </select> <br /><span class="description"><?php \_e('Where should the script be loaded, in the Header or the Footer?', 'jquery-collapse-o-matic'); ?></span></label> </td> </tr> <?php if( !is\_plugin\_active( 'collapse-commander/collapse-commander.php' ) ) : ?> <tr> <th><strong><?php \_e( 'Take Command!', 'jquery-collapse-o-matic' ) ?></strong></th> <td><?php printf(\_\_( '%sCollapse Commander%s is an add-on plugin that introduces an advanced management interface to better organize expand elements and simplify expand shortcodes.', 'jquery-collapse-o-matic' ), '<a href="https://pluginoven.com/premium-plugins/collapse-commander/?utm\_source=collapse-o-matic&utm\_medium=plugin-settings-page&utm\_content=collapse-commander&utm\_campaign=collapse-o-matic-commander">', '</a>'); ?> </td> </tr> <?php endif; ?> <tr> <th><strong><?php \_e( 'Level Up!', 'jquery-collapse-o-matic' ) ?></strong></th> <td><?php printf(\_\_( '%sCollapse-Pro-Matic%s is our premium plugin that offers additional attributes and features for <i>ultimate</i> flexibility, in addition to a very %shigh level of personal support%s.', 'jquery-collapse-o-matic' ), '<a href="https://pluginoven.com/premium-plugins/collapse-pro-matic/?utm\_source=collapse-o-matic&utm\_medium=plugin-settings-page&utm\_content=collapse-pro-matic&utm\_campaign=collapse-o-matic-pro">', '</a>', '<a href="https://pluginoven.com/premium-plugins/collapse-pro-matic/testimonials/?utm\_source=collapse-o-matic&utm\_medium=plugin-settings-page&utm\_content=collapse-pro-matic&utm\_campaign=collapse-o-matic-support">', '</a>'); ?> </td> </tr> </table> </fieldset>
 <p class="submit"> <input class="button-primary" type="submit" value="<?php \_e( 'Save Changes' ) ?>" /> </p> </form> </div> </div> </div> </div>
 <div class="postbox-container side metabox-holder meta-box-sortables" style="width:29%;"> <div style="margin:0 5px;"> <div class="postbox"> <div class="handlediv" title="<?php \_e( 'Click to toggle', 'jquery-collapse-o-matic' ) ?>"><br/></div> <h3 class="hndle"><?php \_e( 'About' ) ?></h3> <div class="inside"> <h4><img src="<?php echo plugins\_url( 'images/collapse-o-matic-icon.png', \_\_FILE\_\_ ) ?>" width="16" height="16"/> Collapse-O-Matic Version <?php echo esc\_attr($this->version); ?></h4> <p><?php \_e( 'Remove clutter, save space. Display and hide additional content in a SEO friendly way. Wrap any content&mdash;including other shortcodes&mdash;into a lovely jQuery expanding and collapsing element.', 'jquery-collapse-o-matic') ?></p> <ul> <li><?php printf( \_\_( '%sDetailed documentation%s, complete with working demonstrations of all shortcode attributes, is available for your instructional enjoyment.', 'jquery-collapse-o-matic'), '<a href="https://pluginoven.com/plugins/collapse-o-matic/documentation/" target="\_blank">', '</a>'); ?></li> <li><?php printf( \_\_( '%sFree Opensource Support%s', 'jquery-collapse-o-matic'), '<a href="https://wordpress.org/support/plugin/jquery-collapse-o-matic" target="\_blank">', '</a>'); ?></li> <li><?php printf( \_\_( 'If this plugin %s, please consider %sreviewing it at WordPress.org%s to help others.', 'jquery-collapse-o-matic'), $like\_it, '<a href="https://wordpress.org/support/view/plugin-reviews/jquery-collapse-o-matic" target="\_blank">', '</a>' ) ?></li> <li><a href="https://wordpress.org/plugins/jquery-collapse-o-matic/" target="\_blank">WordPress.org</a> | <a href="https://pluginoven.com/plugins/collapse-o-matic/" target="\_blank">Twinpictues Plugin Oven</a></li> </ul> </div> </div> </div> <div class="clear"></div> </div>
 <?php if( is\_plugin\_active( 'collapse-commander/collapse-commander.php' ) ) : ?>
 <div class="postbox-container side metabox-holder" style="width:29%;"> <div style="margin:0 5px;"> <div class="postbox"> <h3 class="handle"><?php \_e( 'Register Collapse Commander', 'jquery-collapse-o-matic') ?></h3> <div class="inside"> <p><?php printf( \_\_('To receive plugin updates you must register your plugin. Enter your Collapse Commander licence key below. Licence keys may be viewed and manged by logging into %syour account%s.', 'colpromat'), '<a href="https://pluginoven.com/my-account/" target="\_blank">', '</a>'); ?></p> <form method="post" action="options.php"> <?php settings\_fields( $this->license\_group ); $options = get\_option($this->license\_name); $cc\_licence = ( !isset( $options['collapse\_commander\_license\_key'] ) ) ? '' : $options['collapse\_commander\_license\_key']; ?> <fieldset> <table style="width: 100%"> <tbody> <tr> <th><?php \_e( 'License Key', 'colpromat' ) ?>:</th> <td><label for="collapse\_commander\_license\_key"><input type="text" id="collapse\_commander\_license\_key" name="<?php echo esc\_attr($this->license\_name); ?>[collapse\_commander\_license\_key]" value="<?php echo esc\_attr( $cc\_licence ); ?>" style="width: 100%" /> <br /><span class="description"><?php \_e('Enter your license key', 'jquery-collapse-o-matic'); ?></span></label> </td>
 </tr>
 <?php if( isset($options['collapse\_commander\_license\_key']) ) { ?> <tr valign="top"> <th><?php \_e('License Status', 'colpromat'); ?>:</th> <td> <?php if( isset($options['collapse\_commander\_license\_status']) && $options['collapse\_commander\_license\_status'] == 'valid' ) { ?> <span style="color:green;"><?php \_e('active'); ?></span><br/> <input type="submit" class="button-secondary" name="edd\_cc\_license\_deactivate" value="<?php \_e('Deactivate License', 'jquery-collapse-o-matic'); ?>"/> <?php } else { if( isset($options['collapse\_commander\_license\_status']) ){ ?> <span style="color: red"><?php echo esc\_attr($options['collapse\_commander\_license\_status']); ?></span><br/> <?php } else { ?> <span style="color: grey"><?php \_e('inactive', 'jquery-collapse-o-matic'); ?></span><br/> <?php } ?> <input type="submit" class="button-secondary" name="edd\_cc\_license\_activate" value="<?php \_e('Activate License', 'jquery-collapse-o-matic'); ?>"/> <?php } ?> </td> </tr> <?php } ?> </tbody> </table> </fieldset> <?php submit\_button( \_\_( 'Register', 'jquery-collapse-o-matic') ); ?> </form> </div> </div> </div> </div> <?php else: ?> <div class="postbox-container side metabox-holder meta-box-sortables" style="width:29%;"> <div style="margin:0 5px;"> <div class="postbox"> <div class="handlediv" title="<?php \_e( 'Click to toggle', 'jquery-collapse-o-matic' ) ?>"><br/></div> <h3 class="hndle">Collapse Commander</h3> <div class="inside"> <p>A brief and not-exactly-sober overview of <a href="https://pluginoven.com/premium-plugins/collapse-commander/?utm\_source=collapse-o-matic&utm\_medium=plugin-settings-page&utm\_content=collapse-commander&utm\_campaign=collapse-o-matic-commander">Collapse Commander</a>, a new add-on plugin for Collapse-O-Matic and Collapse-Pro-Matic that adds and advanded expand shortcode management system.</p> <iframe width="100%" height="300" src="//www.youtube.com/embed/w9X4nXpAEfo" frameborder="0" allowfullscreen></iframe> </div> </div> </div> <div class="clear"></div> </div> <?php endif; ?> <?php }
 /\*\* \* Set options from save values or defaults \*/ function \_set\_options() { // set options $saved\_options = get\_option( $this->options\_name );
 // backwards compatible (old values) if ( empty( $saved\_options ) ) { $saved\_options = get\_option( $this->domain . 'options' ); } // set all options if ( !empty( $saved\_options ) ) { foreach ( $this->options AS $key => $option ) { if($key == 'tabindex'){ $this->options[ $key ] = in\_array( $key, $saved\_options ) ? $saved\_options[ $key ] : 0; } else{ $this->options[ $key ] = ( empty( $saved\_options[ $key ] ) ) ? '' : $saved\_options[ $key ]; } } } }
 function edd\_sanitize\_license( $new ) { //collapse commander $options = get\_option($this->license\_name); $old\_cc = ( !isset( $options['collapse\_commander\_license\_key'] ) ) ? '' : $options['collapse\_commander\_license\_key']; $old\_cc\_status = ( !isset( $options['collapse\_commander\_license\_status'] ) ) ? '' : $options['collapse\_commander\_license\_status'];
 if( !empty($old\_cc) && $old\_cc != $new['collapse\_commander\_license\_key'] ) { $new['collapse\_commander\_license\_status'] = ''; } else{ $new['collapse\_commander\_license\_status'] = $old\_cc\_status; }
 if( isset( $\_POST['edd\_cc\_license\_activate'] ) ) { $new['collapse\_commander\_license\_status'] = $this->plugin\_oven\_activate\_license( urlencode( PLUGIN\_OVEN\_CC ), $new['collapse\_commander\_license\_key'], 'activate\_license'); }
 if( isset( $\_POST['edd\_cc\_license\_deactivate'] ) ) { $new['collapse\_commander\_license\_status'] = $this->plugin\_oven\_activate\_license( urlencode( PLUGIN\_OVEN\_CC ), $new['collapse\_commander\_license\_key'], 'deactivate\_license'); } return $new; }
 /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* \* this illustrates how to activate \* a license key \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/
 function plugin\_oven\_activate\_license($plugin\_name, $license\_key, $edd\_action) { // data to send in our API request $api\_params = array( 'edd\_action' => $edd\_action, 'license' => $license\_key, 'item\_name' => $plugin\_name, 'url' => home\_url() );
 // Call the custom API. $response = wp\_remote\_get( esc\_url\_raw( add\_query\_arg( $api\_params, PLUGIN\_OVEN\_URL ) ), array( 'timeout' => 15, 'sslverify' => false ) );
 // make sure the response came back okay if ( is\_wp\_error( $response ) ) return false;
 // decode the license data $license\_data = json\_decode( wp\_remote\_retrieve\_body( $response ) );
 // $license\_data->license will be either "valid" or "invalid" return $license\_data->license; }
 /\*\* \* Filter $input to allow only tags from $allowed\_tags array \*/ function filter\_allowed\_tags( $input, $allowed\_tags ) { $pattern = '/\A(' . implode( '|', $allowed\_tags ) . ')\Z/'; if ( preg\_match( $pattern, $input, $matches ) ) { $output = $matches[0]; } else { $output = ''; }
 return $output; }
} // end class WP\_Collapse\_O\_Matic
/\*\* \* Create instance \*/$WP\_Collapse\_O\_Matic = new WP\_Collapse\_O\_Matic;
//clean unwanted p and br tags from shortcodes//https://www.wpexplorer.com/clean-up-wordpress-shortcode-formattingif (!function\_exists('tp\_clean\_shortcodes')) { function tp\_clean\_shortcodes($content){ $array = array ( '<p>[' => '[', ']</p>' => ']', ']<br />' => ']' ); $content = strtr($content, $array); return $content; } add\_filter('the\_content', 'tp\_clean\_shortcodes');}
?>

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from plugins.trac.wordpress.org_18a23629_20250110_162509.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3094116%2540jquery-collapse-o-matic%26old%3D3094116%2540jquery-collapse-o-matic)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3075480/jquery-collapse-o-matic "Changeset 3075480 for jquery-collapse-o-matic")
* [Next Change](/changeset/3094118/jquery-collapse-o-matic "Changeset 3094118 for jquery-collapse-o-matic") →

---

# Changeset [3094116](/changeset/3094116 "Show full changeset") for [jquery-collapse-o-matic](/browser/jquery-collapse-o-matic?rev=3094116 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
05/28/2024 07:12:20 PM
([8 months](/timeline?from=2024-05-28T19%3A12%3A20Z&precision=second "See timeline at 05/28/2024 07:12:20 PM") ago)

Author:
baden03
Message:

escaping ID attribute to prevent any funny business

Location:
[jquery-collapse-o-matic/trunk](/browser/jquery-collapse-o-matic/trunk?rev=3094116)
Files:

3 edited

* [README.md](/browser/jquery-collapse-o-matic/trunk/README.md?rev=3094116 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [collapse-o-matic.php](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3094116 "Show entry in browser")
  (modified)
  ([3 diffs](#file1 "Show differences"))
* [readme.txt](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3094116 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [jquery-collapse-o-matic/trunk/README.md](/changeset/3094116/jquery-collapse-o-matic/trunk/README.md "Show the changeset 3094116 restricted to jquery-collapse-o-matic/trunk/README.md")

  | [r3075464](/browser/jquery-collapse-o-matic/trunk/README.md?rev=3075464#L5 "Show revision 3075464 of this file in browser") | [r3094116](/browser/jquery-collapse-o-matic/trunk/README.md?rev=3094116#L5 "Show revision 3094116 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Requires at least: 4.9 |
  | 6 | 6 | \* Tested up to: 6.5.3 |
  | 7 |  | \* Stable tag: 1.8.5.~~7~~ |
  |  | 7 | \* Stable tag: 1.8.5.8 |
  | 8 | 8 | \* Requires PHP: 7.2 |
  | 9 | 9 | \* License: GPLv2 or later |
* ## [jquery-collapse-o-matic/trunk/collapse-o-matic.php](/changeset/3094116/jquery-collapse-o-matic/trunk/collapse-o-matic.php "Show the changeset 3094116 restricted to jquery-collapse-o-matic/trunk/collapse-o-matic.php")

  | [r3075449](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3075449#L5 "Show revision 3075449 of this file in browser") | [r3094116](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3094116#L5 "Show revision 3094116 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Plugin URI: https://pluginoven.com/plugins/collapse-o-matic/ |
  | 6 | 6 | Description: Collapse-O-Matic adds an [expand] shortcode that wraps content into a lovely, jQuery collapsible div. |
  | 7 |  | Version: 1.8.5.~~7~~ |
  |  | 7 | Version: 1.8.5.8 |
  | 8 | 8 | Author: twinpictures, baden03 |
  | 9 | 9 | Author URI: https://twinpictures.de/ |
  | […](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3075449#L30) | […](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3094116#L30) |  |
  | 30 | 30 | \* @var string |
  | 31 | 31 | \*/ |
  | 32 |  | var $version = '1.8.5.~~7~~'; |
  |  | 32 | var $version = '1.8.5.8'; |
  | 33 | 33 |  |
  | 34 | 34 | /\*\* |
  | […](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3075449#L278) | […](/browser/jquery-collapse-o-matic/trunk/collapse-o-matic.php?rev=3094116#L278) |  |
  | 278 | 278 | } |
  | 279 | 279 |  |
  | 280 |  | ~~//id does not allow spaces~~ |
  | 281 |  | ~~$id = preg\_replace('/\s+/', '\_', $id);~~ |
  | 282 |  |  |
  | 283 | 280 | $ewo = ''; |
  | 284 | 281 | $ewc = ''; |
  | 285 | 282 |  |
  | 286 |  | //id does not allow spaces |
  | 287 |  | $id = preg\_replace('/\s+/', '\_', ~~$id~~); |
  |  | 283 | //id does not allow spaces or any funny business |
  |  | 284 | $id = preg\_replace('/\s+/', '\_', esc\_attr($id)); |
  | 288 | 285 |  |
  | 289 | 286 | //placeholders |
* ## [jquery-collapse-o-matic/trunk/readme.txt](/changeset/3094116/jquery-collapse-o-matic/trunk/readme.txt "Show the changeset 3094116 restricted to jquery-collapse-o-matic/trunk/readme.txt")

  | [r3075460](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3075460#L6 "Show revision 3075460 of this file in browser") | [r3094116](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3094116#L6 "Show revision 3094116 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires at least: 4.9 |
  | 7 | 7 | Tested up to: 6.5.2 |
  | 8 |  | Stable tag: 1.8.5.~~7~~ |
  |  | 8 | Stable tag: 1.8.5.8 |
  | 9 | 9 | Requires PHP: 7.2 |
  | 10 | 10 | License: GPLv2 or later |
  | 11 | 11 | License URI: https://www.gnu.org/licenses/gpl-2.0.html |
  | 12 | 12 |  |
  | 13 |  | ~~Place content inside an expanding/collapsing accordion element~~. |
  |  | 13 | Add an expanding/collapsing accordion shortcode. |
  | 14 | 14 |  |
  | 15 | 15 | == Description == |
  | […](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3075460#L51) | […](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3094116#L51) |  |
  | 51 | 51 |  |
  | 52 | 52 | == Changelog == |
  |  | 53 |  |
  |  | 54 | = 1.8.5.8 = |
  |  | 55 | \* the id attribute is escaped to prevent any funny business |
  |  | 56 |  |
  | 53 | 57 |  |
  | 54 | 58 | = 1.8.5.7 = |
  | […](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3075460#L440) | […](/browser/jquery-collapse-o-matic/trunk/readme.txt?rev=3094116#L444) |  |
  | 440 | 444 |  |
  | 441 | 445 | == Upgrade Notice == |
  | 442 |  | \* the tag, targtag and elwrap will now also allow the tag defined as the default tag attribute in the plugin settings page. |
  | 443 |  | \* button has been added to the allowed html tag list |
  |  | 446 | \* the id attribute is escaped to prevent any funny business |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3094116)
* [Zip Archive](?format=zip&new=3094116)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_7d7bb644_20250110_162511.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Collapse-O-Matic <= 1.8.5.8 - Authenticated (Contributor+) Stored Cross-Site Scripting via Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Collapse-O-Matic <= 1.8.5.8 - Authenticated (Contributor+) Stored Cross-Site Scripting via Shortcode

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-4095](https://www.cve.org/CVERecord?id=CVE-2024-4095) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | June 14, 2024 |
| Last Updated | June 15, 2024 |
| Researcher | [Jack Taylor](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/jack-taylor) |

### Description

The Collapse-O-Matic plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's 'expand' and 'expandsub' shortcode in all versions up to, and including, 1.8.5.7 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [github.com](https://github.com/baden03/collapse-o-matic/blob/561d8ab53a03e44c12234ba9687226fdbb5054cc/collapse-o-matic.php#L343)
* [wordpress.org](https://wordpress.org/plugins/jquery-collapse-o-matic/)
* [pluginoven.com](https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3094116%40jquery-collapse-o-matic&new=3094116%40jquery-collapse-o-matic&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjquery-collapse-o-matic%2Fcollapse-o-matic-1858-authenticated-contributor-stored-cross-site-scripting-via-shortcode&t=Collapse-O-Matic%20%3C%3D%201.8.5.8%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjquery-collapse-o-matic%2Fcollapse-o-matic-1858-authenticated-contributor-stored-cross-site-scripting-via-shortcode&text=Collapse-O-Matic%20%3C%3D%201.8.5.8%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjquery-collapse-o-matic%2Fcollapse-o-matic-1858-authenticated-contributor-stored-cross-site-scripting-via-shortcode "LinkedIn")
Email

## Vulnerability Details for Collapse-O-Matic

#### [Collapse-O-Matic](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/jquery-collapse-o-matic)

| Software Type | Plugin |
| --- | --- |
| Software Slug | jquery-collapse-o-matic [(view on wordpress.org)](https://wordpress.org/plugins/jquery-collapse-o-matic) |
| Patched? | No |
| Remediation | No known patch available. Please review the vulnerability's details in depth and employ mitigations based on your organization's risk tolerance. It may be best to uninstall the affected software and find a replacement. |
| Affected Version | * <= 1.8.5.8 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from wordpress.org_ae5b62ce_20250110_162509.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Collapse-O-Matic

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fjquery-collapse-o-matic&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fjquery-collapse-o-matic&locale=en_US)

Search plugins

![](https://s.w.org/plugins/geopattern-icon/jquery-collapse-o-matic_fffeff.svg)
# jquery-collapse-o-matic

By [twinpictures, baden03](https://twinpictures.de/)

[Live Preview](https://wordpress.org/plugins/jquery-collapse-o-matic/?preview=1)

* [Details](https://wordpress.org/plugins/jquery-collapse-o-matic/#description)
* [Reviews](https://wordpress.org/plugins/jquery-collapse-o-matic/#reviews)
* [Development](https://wordpress.org/plugins/jquery-collapse-o-matic/#developers)

[Support](https://wordpress.org/support/plugin/jquery-collapse-o-matic/)

## Description

This plugin has been closed as of June 14, 2024 and is not available for download. Reason: Security Issue.

## Reviews

![](https://secure.gravatar.com/avatar/4e631b033a148747714e7a3c792fb9545d37ec07b1555ab52af7911a6cf5c096?s=60&d=retro&r=g)
### [Excellent](https://wordpress.org/support/topic/excellent-13370/)

[stevenjc](https://profiles.wordpress.org/stevenjc/ "Posts by stevenjc")
April 23, 2024

Simple, clean plugin that does everything it should – flexible, styleable, ability to link directly to an accordion and have it open. Solid support.

![](https://secure.gravatar.com/avatar/ae38f90c73c44908350c6c90dab65fc5d72a4d6ce384324e4179680db09a0b25?s=60&d=retro&r=g)
### [Simple and Effective](https://wordpress.org/support/topic/simple-and-effective-1553/)

[John Dorner](https://profiles.wordpress.org/jdorner/ "Posts by John Dorner")
March 17, 2024

Easy to use and does what it is supposed to do – gives you a collapsible block of content.
Hate to see it go away. 🙁

![](https://secure.gravatar.com/avatar/6d7e8fc927a7c9085c688b2068ba5e36699edda2284034e3f506584b33bcb987?s=60&d=retro&r=g)
### [Vulnerable for weeks but no security fixes !](https://wordpress.org/support/topic/vulnerable-for-weeks-but-no-security-fixes/)

[siret](https://profiles.wordpress.org/siret/ "Posts by siret")
November 9, 2023

This plugin is vulnerable for weeks but not update at all….!
vulnerability description => Cross Site Scripting (XSS) vulnerability discovered by Rafshanzani Suhada in WordPress Plugin Collapse-O-Matic (versions <= 1.8.5.5)

![](https://secure.gravatar.com/avatar/119e0016a85c00ac510b728f4e681f860439a31c7c89e1aca316c487b328225a?s=60&d=retro&r=g)
### [Simple, Powerful, and Great support!](https://wordpress.org/support/topic/simple-powerful-and-great-support/)

[G.](https://profiles.wordpress.org/accentsduterroir/ "Posts by G.")
August 30, 2023

A plugin that’s both simple and powerful, with responsive and friendly support. What more could you ask for? Thank you 🙂

![](https://secure.gravatar.com/avatar/16649cf3436b9b4530573f53cd6e66019deb9d756925df51c011db2400a7d80d?s=60&d=retro&r=g)
### [Talk about prompt support…](https://wordpress.org/support/topic/talk-about-prompt-support/)

[Tim Derouin](https://profiles.wordpress.org/tderouindesign/ "Posts by Tim Derouin")
August 24, 2023

A recent release cause a issue when HTML is used within the plugin shortcodes. I quickly found a relevant support thread that the developer was actively replying to. Weighed in as one of the fixes partially worked for me and @twinpictures rolled out another update at lighting speed and we are good to go! That being said, I plan to see if the developer offers any other plugins I might be able to use considering how easy they are to reach.

![](https://secure.gravatar.com/avatar/6c46cc0cd36841cce74b84f71216b20d8c84d67e234b090ec40958facb0b4ad7?s=60&d=retro&r=g)
### [render blocking, bad ux](https://wordpress.org/support/topic/render-blocking-bad-ux/)

[awaaxyb](https://profiles.wordpress.org/awaaxyb/ "Posts by awaaxyb")
June 5, 2023

Not updated for 2023, the read more function is render blocking and provide a very bad User Experience on site, we don’t recommend use this plugin or check if developer have update this problem after this review. Sorry.

[Read all 238 reviews](https://wordpress.org/support/plugin/jquery-collapse-o-matic/reviews/)
## Contributors & Developers

“Collapse-O-Matic” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/99f3faf7eca38c74938984fcc854a63f6db29dfa0aa0b7582fba2ca6ed747ed5?s=32&d=mm&r=g) [twinpictures](https://profiles.wordpress.org/twinpictures/)
* ![](https://secure.gravatar.com/avatar/2c87323e15c8550d66adb82f49be8e91ba0c81be3056d843d9bb4a12591404d5?s=32&d=mm&r=g) [Baden](https://profiles.wordpress.org/baden03/)

“Collapse-O-Matic” has been translated into 2 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/jquery-collapse-o-matic/contributors) for their contributions.

[Translate “Collapse-O-Matic” into your language.](https://translate.wordpress.org/projects/wp-plugins/jquery-collapse-o-matic)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/jquery-collapse-o-matic/), check out the [SVN repository](https://plugins.svn.wordpress.org/jquery-collapse-o-matic/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/jquery-collapse-o-matic/) by [RSS](https://plugins.trac.wordpress.org/log/jquery-collapse-o-matic/?limit=100&mode=stop_on_copy&format=rss).

## Meta

* Version **1.8.5.8**
* Last updated **8 months ago**
* Active installations **N/A**
* WordPress version **4.9 or higher**
* Tested up to **6.5.5**
* PHP version **7.2 or higher**
* Languages
  See all 3

  Close

  [English (UK)](https://en-gb.wordpress.org/plugins/jquery-collapse-o-matic/), [English (US)](https://wordpress.org/plugins/jquery-collapse-o-matic/), and [Spanish (Spain)](https://es.wordpress.org/plugins/jquery-collapse-o-matic/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/jquery-collapse-o-matic)
* [Advanced View](https://wordpress.org/plugins/jquery-collapse-o-matic/advanced/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from pluginoven.com_3b84354f_20250110_162508.html ===


* [My Account](https://pluginoven.com/my-account/)

[![Plugin Oven](https://pluginoven.com/wp-content/uploads/2018/03/pluginoven_logo_color_v3.png "pluginoven_logo_color_v3")](https://pluginoven.com/ "pluginoven_logo_color_v3")

* [Home](https://pluginoven.com/)
* [Plugins](https://pluginoven.com/plugins/)
  + [Annual Archive](https://pluginoven.com/plugins/annual-archive/)
  + [Collapse-O-Matic](https://pluginoven.com/plugins/collapse-o-matic/)
  + [Print-O-Matic](https://pluginoven.com/plugins/print-o-matic/)
  + [T(-) Countdown](https://pluginoven.com/plugins/t-countdown/)
* [Premium Plugins](https://pluginoven.com/premium-plugins/)
  + [Archive-Pro-Matic](https://pluginoven.com/premium-plugins/archive-pro-matic/)
  + [Collapse-Pro-Matic](https://pluginoven.com/premium-plugins/collapse-pro-matic/)
  + [Collapse Commander](https://pluginoven.com/premium-plugins/collapse-commander/)
  + [Print-Pro-Matic](https://pluginoven.com/premium-plugins/print-pro-matic/)
  + [T(-) Countdown Control](https://pluginoven.com/premium-plugins/t-countdown-control/)
* [Donate](https://pluginoven.com/panares-fund/)
* [Search](?s=)
* **Menu**

  Menu

# [Shortcode](https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/ "Permanent Link: Shortcode")

You are here: [Home](https://pluginoven.com "Plugin Oven")1 / [Plugins](https://pluginoven.com/plugins/ "Plugins")2 / [Collapse-O-Matic](https://pluginoven.com/plugins/collapse-o-matic/ "Collapse-O-Matic")3 / [Documentation](https://pluginoven.com/plugins/collapse-o-matic/documentation/ "Documentation")4 / Shortcode
# Collapse-O-Matic | Documentation

Shortcode Attributes

When working with shortcodes using  the classic editor in WordPress it’s best to use the [Text Editor](https://make.wordpress.org/support/user-manual/content/editors/#text-editor). The [Visual Editor](https://make.wordpress.org/support/user-manual/content/editors/#visual-editor) in WordPress tends to add unwanted formatting elements, especially when pasting examples, producing undesired results. When using the [WordPress Block Editor](https://wordpress.org/support/article/wordpress-editor/), simply use the [shortcode block](https://wordpress.org/support/article/shortcode-block/). as this is *exactly* what it’s made for.

The `[expand]` shortcode is used to create a Collapse-O-Matic accordion element. Below is a full list of all shortcode attributes and special classes that can be used to customize the accordion elements. Live demonstrations and latest features can be found on our testing site under the category: [Collapse-O-Matic](https://spacedonkey.de/category/collapse-o-matic/).

### Attributes

* [Title Attribute](#title-attribute)
* [Swaptitle Attribute](#swaptitle-attribute)
* [Trigpos Attribute](#trigpos-attribute)
* [ID Attribute](#id-attribute)
* [Expanded Attribute](#expanded-attribute)
* [Tag Attribute](#tag-attribute)
* [Targtag Attribute](#targtag-attribute)
* [Alt Attribute](#alt-attribute)
* [Notitle Attribute](#notitle-attribute)
* [Placeholders](#placeholders)
* [Startwrap/Endwrap Attributes](#startwrap-endwrap-attributes)
* [Elwraptag Attribute](#elwraptag-attribute)
* [Tabindex Attribute](#tabindex-attribute)
* [Trigclass Attribute](#trigclass-attribute)
* [Targclass Attribute](#targclass-attribute)
* [Targpos Attribute](#targpos-attribute)
* [Rel Attribute](#rel-attribute)
* [Togglegroup Attribute](#togglegroup-attribute)
* [Highlander Grouping](#highlander-grouping)
* [Findme Attribute](#findme-attribute)
* [Internal Collapse Trigger](#internal-collapse-trigger)
* [Scrollonclose Attribute](#scrollonclose-attribute)
* [Excerpt Attribute](#excerpt-attribute)
* [Excerptpos Attribute](#excerptpos-attribute)
* [Excerptclass Attribute](#excerptclass-attribute)
* [Excerpttag Attribute](#excerpttag-attribute)
* [Swapexcerpt Attribute](#swapexcerpt-attribute)
* [Animation\_Effect Attribute](#animation_effect-attribute)
* [Duration Attribute](#duration-attribute)
### Title Attribute

The title attribute is used to define the clickable text use to trigger the accordion effect. The title attribute is the only required attribute for an expand element.

#### Examples

```
[expand title="Trigger Text"][/expand]
```

To assign target content for the expand element, wrapping the content within the shortcode tags like so:

```
[expand title="Trigger Text"]Target Content[/expand]
```

[Placeholders](#placeholders) may be used as a work-around to include shortcodes or HTML inside the title attribute.

### Swaptitle Attribute

The swaptitle attribute is used to ‘swap’ or replace the title while in the expanded state.

#### Examples

```
[expand title="On" swaptitle="Off"]Target Content[/expand]
```
```
[expand title="Open" swaptitle="Close"]Target Content[/expand]
```
```
[expand title=""Read More..." swaptitle="...Read Less"]Target Content[/expand]
```
### Trigpos Attribute

Use the trigpos attribute change the position of the trigger above or below the target. Default trigpos value is *above*.

* above (default) – the trigger text is placed above the collapsed content
* below – will move the trigger text below the target content

#### Example

```
[expand title="Open" trigpos="below"]Target Content[/expand]
```
### ID Attribute

Setting the ID attribute will assign the expand element a [HTML ID attribute](https://www.w3schools.com/tags/att_id.asp) with the provided value. Do not use duplicate ID values on elements that will exist on the same page. If no ID attribute is defined, the ID will be automatically assigned a unique, random value.

#### Example

```
[expand title="Pocket Calculator" id="kraftwerk"]Target Content[/expand]
```
##### URL Anchor

When an ID attribute is defined, the value can be used as an URL anchor to automatically expand and scroll to the target content on page load ([demo](https://spacedonkey.de/1382/collapse-o-matic-id-anchor-with-expanded-attribute/#kraftwerk)).

### Expanded Attribute

Setting the expanded attribute to *true* will set the default position of the element to *open* (expanded). The default position is closed (collapsed).

#### Example

```
[expand title="Vader" expanded="true"]Target Content[/expand]
```
### Tag Attribute

The tag attribute replaces the default HTML tag that wraps the trigger text. The HTML tag is set globally in the plugin options, under Tag.

#### Example

```
[expand title="A Long Time Ago" tag="h2"]Target Content[/expand]
```
### Targtag Attribute

The targtag attribute replaces the default HTML tag that wraps the target content. By default the HTML tag is *div*.

#### Example

```
[expand title="A Long Time Ago" targtag="strong"]Target Content[/expand]
```
### Alt Attribute

The [alt attribute](http://www.w3.org/QA/Tips/altAttribute "Alt Attribute at WC3") is used to provide additional information on non-textual screen elements that is used by screen readers and robots. In modern browsers alt text no longer “pops up” on roll-over, the title attribute is now used for this.

#### Example

```
[expand title="Imperial Starfleet" alt="Empire Strikes Back"]Target Content[/expand]
```
### Notitle Attribute

The notitle attribute is used to prevent any hover-over text from being displayed.

#### Example

```
[expand title="Cloud City" notitle="true"]Target Content[/expand]
```
### Placeholders

Placeholders allow HTML and shortcodes to be used within the [title](#title-attribue), [swaptitle](#swaptitle-attribute), [startwrap](#startwrap-attribute), [endwrap](#endwrap-attribute), excerpt and swapexcerpt attributes:

```
%(% = <
%)% = >
%{% = [
%}% = ]

```

See the [Collapse-O-Matic Excerpt Shortcode Test](https://spacedonkey.de/1512/collapse-o-matic-excerpt-shortcode-test/) for further details on how these are used.

### Startwrap/Endwrap Attributes

The startwrap/endwrap tags are used to wrap a trigger in extra HTML.

#### Example

```
[expand title="Hoth System" startwrap="<strong>" endwrap="</strong>"]Target Content[/expand]
```
### Elwraptag Attribute

The elwraptag attribute is used to wrap the entire collapse element.

#### Example

```
<ul>[expand title="Dagobah" elwraptag="li"]Target Content[/expand]</ul>
```
### Tabindex Attribute

Assigning the tabindex attribute a numerical value will set the trigger element the same tabindex value. As of Collapse-O-Matic version 1.6.4 the default is tabindex=”0″ and allows the trigger element’s tabindex to be placed in the default navigation order. Initial tests and more information on the tabindex attribute at [Collapse-O-Matic Tabindex Test](https://spacedonkey.de/1602/collapse-o-matic-tabindex-test/).

### Trigclass Attribute

The trigclass attribute allows the user to assign a custom class to the trigger element. This class will be added after the required *collapseomatic* class that is assigned by default. Multiple classes can be added separated with a space.

#### Examples

```
[expand title="A New Hope" trigclass="highlight"]Target Content[/expand]
```
```
[expand title="Jedi" trigclass="noarrow my_button"]Target Content[/expand]
```
### Targclass Attribute

The targclass attribute allows the user to assign a custom class to the target element. This class will be added after the required collapseomatic\_content class that is assigned by default.

#### Examples

```
[expand title="The Empire Strikes Back" targclass="highlight"]Target Content[/expand]
```
### Targpos Attribute

The targpos attribute is used to change the position of the target content. Currently the only accepted value is ‘inline’. For best results, targpos should be used when:

1. an excerpt has been defined
2. the targtag has been assigned [non-block element](https://www.w3schools.com/html/html_blocks.asp), such as span

#### Example

```
[expand title="Laugh It Up, Fuzzball" excerpt="Laugh It Up, Fuzzball: The Family Guy Trilogy." targtag="span" targpos="inline"]Target Content[/expand]
```
### Rel Attribute

The rel attribute is used to group related expand elements by the assigned value. Expanding a member of one group will automatically collapse any expanded elements the belong to another group.

#### Examples

```
[expand title="Star Wars" rel="fiction"]Target Content[/expand]
[expand title="Star Trek" rel="fiction"]Target Content[/expand]
[expand title="Battlestar Galactica" rel="fiction"]Target Content[/expand]
[expand title="Space Race" rel="history"]Target Content[/expand]
[expand title="Ansari X Prize" rel="history"]Target Content[/expand]
```

See [Rel vs Togglegroup](https://spacedonkey.de/3795/rel-vs-togglegroup/) for a working demo.

### Togglegroup Attribute

The togglegroup attribute and the related data-togglegroup HTML attribute are used to reference groups of expand elements without auto-collapsing other groups, as when using the group attribute.

#### Examples

```
[expand title="Star Wars" togglegroup="fiction"]Target Content[/expand]
[expand title="Star Trek" togglegroup="fiction"]Target Content[/expand]
[expand title="Battlestar Galactica" togglegroup="fiction"]Target Content[/expand]
[expand title="Space Race" togglegroup="history"]Target Content[/expand]
[expand title="Ansari X Prize" togglegroup="history"]Target Content[/expand]
```

See [Rel vs Togglegroup](https://spacedonkey.de/3795/rel-vs-togglegroup/) for a working demo.

### Highlander Grouping

If *-highlander* is added to all elements of a defined group (see [Rel](#rel-attribute) and [Togglegroup](#togglegroup-attribute)), expanding one element will force all other elements in the same group to collapse: *[Highlander](https://en.wikipedia.org/wiki/Highlander_%28film%29): [There can be only one](https://www.youtube.com/watch?v=sqcLjcSloXs)*.

#### Examples

The following is an example of [rel](#rel-attribute) highlander grouping:

```
[expand title="Monkeys" rel="animal-highlander"]Target Content[/expand]
[expand title="Donkeys" rel="animal-highlander"]Target Content[/expand]
```

Highlander grouping can also be used with the [togglegroups](#toggelgroup-attribute):

```
[expand title="Monkeys" togglegroup="animal-highlander"]Target Content[/expand]
[expand title="Donkeys" togglegroup="animal-highlander"]Target Content[/expand]
```

See [Rel vs Togglegroup](https://spacedonkey.de/3795/rel-vs-togglegroup/) for a working demo.

### Findme Attribute

Scroll the page to the trigger, target, or fixed value when expanded. Accepted values are:

* auto (same as target)
* target
* trigger
* a numeric value

#### Examples

```
[expand title="Stars" rel="star-highlander" findme="7070"]Target Content[/expand]
[expand title="Constellations" rel="star-highlander" findme="auto"]Target Content[/expand]
```
#### Roll-Your-Own Example

Use `data-findme` to define the findme value when using the roll-your-own method to create the collapse elements.

```
<div class="collapseomatic find-me" id="my_example" title="trigger text" data-findme="target">trigger text</div>
<div id="target-my_example" class="collapseomatic_content">Target Content</div>
```
### Internal Collapse Trigger

A second trigger element can be placed anywhere within the expanded content that will trigger a collapse. To accomplish this:

1. The expand tag must have a defined ID
2. The second *internal* trigger element must be assigned a class of **collapseomatic**
3. To have the arrow point up, rather than down, add the class of **colomat-close** to the second trigger element
4. The bottom trigger element must have an ID that is the same as the trigger pre-appended with “bot-“. For example: if the trigger has an ID of “r2d2″ then the second trigger id must be: ”bot-r2d2”.

#### Example

```
[expand title="R2 may have been stolen" id="stolenr2"]
Target Content
<span class="collapseomatic colomat-close" id="bot-stolenr2">click here to close</span>
[/expand]
```
### Scrollonclose Attribute

While [findme](#findme-attribute) is triggered when the element is expanded, scrollonclose triggers when the element is collapsed. The scrollonclose attribute may be assigned an exact offset-scroll value to scroll the page after the element collapses.

#### Examples

```
[expand title="Close-n-Scroll Auto" scrollonclose="auto"]Closing this should auto scroll the page so the element is displayed at the top of the page.[/expand]
[expand title="Close-n-Scroll" scrollonclose="7000"]Closing this will auto scroll the element to 7000 pixels from the top.[/expand]
```
### Excerpt Attribute

The excerpt attribute is used to display a teaser, or short nibble of text that hints at the content of the collapsed target text.

#### Examples

```
[expand title="Laugh It Up, Fuzzball" excerpt="Laugh It Up, Fuzzball: The Family Guy Trilogy"]Target Content[/expand]
```
### Excerptpos Attribute

The excerptpos attribute is used to position the excerpt in one of three locations:

* above-trigger
* below-trigger (default)
* below-target

#### Examples

```
[expand title="Harvest Moon" excerpt="The Family Guy - Blue Harvest" excerptpos="above-trigger"]Target Content[/expand]
```
### Excerptclass Attribute

The excerptclass attribute adds the defined class to the HTML element that wraps the excerpt text. This class will be added in addition to the default collapseomatic\_excerpt class.

#### Examples

```
[expand title="Something, Something, Something, Dark Side" excerpt="The Family Guy parody of The Empire Strikes Back" excerptclass="highlight"]Target Content[/expand]
```
### Excerpttag Attribute

The excerpttag attribute replaces the default HTML tag that wraps the excerpt text. Default excerpt HTML tag is *DIV*.

#### Examples

```
[expand title="It's a Trap!" excerpt="The Family Guy parody of Return of the Jedi" excerpttag="h2"]Target Content[/expand]
```
### Swapexcerpt Attribute

The swapexcerpt attribute is used to *swap out* or replace the excerpt when the content is in the expanded state.

#### Example

```
[expand title="Millennium Falcon" excerpt="Owner: Hans Solo" swapexcerpt="Previous Owner: Lando Calrissian"]Target Content[/expand]
```
### Animation\_Effect Attribute

The animation\_effect attribute is used to control the collapse/expand animation effect.

Valid values for this attribute are:

* slideToggle
* slideFade
* fadeOnly

#### Example

```
[expand title="trigger text" animation_effect="slideFade"]content[/expand]
```
#### Roll-Your-Own

The data-animation\_effect attribute is used when rolling your own expand elements:

```
<div class="collapseomatic" id="some_id" title="trigger text" data-animation_effect="slideFade">content</div>
```
### Duration Attribute

The duration attribute is used to control the speed of the collapse/expand animation in milliseconds.

#### Example

```
[expand title="trigger text" duration="2000"]content[/expand]
```
#### Roll-Your-Own

The data-duration attribute is used when rolling your own expand elements:

```
<div class="collapseomatic" id="some_id" title="trigger text" data-duraton="2000">content</div>
```

* [Annual Archive](https://pluginoven.com/plugins/annual-archive/)
  + [Documentation](https://pluginoven.com/plugins/annual-archive/documentation/)
    - [Plugin Settings](https://pluginoven.com/plugins/annual-archive/documentation/plugin-settings/)
    - [Shortcode](https://pluginoven.com/plugins/annual-archive/documentation/shortcode/)
    - [Widget](https://pluginoven.com/plugins/annual-archive/documentation/widget/)
* [Collapse-O-Matic](https://pluginoven.com/plugins/collapse-o-matic/)
  + [Documentation](https://pluginoven.com/plugins/collapse-o-matic/documentation/)
    - [Plugin Settings](https://pluginoven.com/plugins/collapse-o-matic/documentation/plugin-settings/)
    - [Shortcode](https://pluginoven.com/plugins/collapse-o-matic/documentation/shortcode/)
    - [Advanced Use Cases](https://pluginoven.com/plugins/collapse-o-matic/documentation/advanced-uses/)
* [Print-O-Matic](https://pluginoven.com/plugins/print-o-matic/)
  + [Documentation](https://pluginoven.com/plugins/print-o-matic/documentation/)
    - [Plugin Settings](https://pluginoven.com/plugins/print-o-matic/documentation/plugin-settings/)
    - [Shortcode](https://pluginoven.com/plugins/print-o-matic/documentation/shortcode/)
* [T(-) Countdown](https://pluginoven.com/plugins/t-countdown/)
  + [Documentation](https://pluginoven.com/plugins/t-countdown/documentation/)
    - [Plugin Settings](https://pluginoven.com/plugins/t-countdown/documentation/plugin-settings/)
    - [Shortcode](https://pluginoven.com/plugins/t-countdown/documentation/shortcode/)
    - [Block](https://pluginoven.com/plugins/t-countdown/documentation/block/)

© Copyright 2025 - Plugin Oven

* [Facebook](https://www.facebook.com/twinpictures/ "Facebook")
* [X](https://twitter.com/twinpictures "X")
* [Github](https://github.com/baden03 "Github")

* [Imprint](https://pluginoven.com/imprint/)
* [Privacy Policy](https://pluginoven.com/privacy-policy/)
* [Terms and Conditions](https://pluginoven.com/premium-plugins/terms-and-conditions/)

[Scroll to top](#top "Scroll to top")


