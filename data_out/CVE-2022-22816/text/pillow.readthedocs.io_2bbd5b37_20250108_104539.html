

Contents

Menu

Expand

Light mode

Dark mode

Auto light/dark, in light mode

Auto light/dark, in dark mode

Hide navigation sidebar

Hide table of contents sidebar

[Skip to content](#furo-main-content)
Toggle site navigation sidebar

[Pillow (PIL Fork) 11.1.0 documentation](../index.html)

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

[![Light Logo](../_static/pillow-logo-dark-text.png)
![Dark Logo](../_static/pillow-logo.png)

Pillow (PIL Fork) 11.1.0 documentation](../index.html)

* [Installation](../installation/index.html)Toggle navigation of Installation
  + [Basic Installation](../installation/basic-installation.html)
  + [Python Support](../installation/python-support.html)
  + [Platform Support](../installation/platform-support.html)
  + [Building From Source](../installation/building-from-source.html)
  + [Old Versions](../installation/building-from-source.html#old-versions)
* [Handbook](../handbook/index.html)Toggle navigation of Handbook
  + [Overview](../handbook/overview.html)
  + [Tutorial](../handbook/tutorial.html)
  + [Concepts](../handbook/concepts.html)
  + [Appendices](../handbook/appendices.html)Toggle navigation of Appendices
    - [Image file formats](../handbook/image-file-formats.html)
    - [Text anchors](../handbook/text-anchors.html)
    - [Writing Your Own Image Plugin](../handbook/writing-your-own-image-plugin.html)
    - [Decoders](../handbook/writing-your-own-image-plugin.html#decoders)
    - [Writing Your Own File Codec in C](../handbook/writing-your-own-image-plugin.html#writing-your-own-file-codec-in-c)
    - [Writing Your Own File Codec in Python](../handbook/writing-your-own-image-plugin.html#writing-your-own-file-codec-in-python)
* [Reference](../reference/index.html)Toggle navigation of Reference
  + [`Image` Module](../reference/Image.html)
  + [`ImageChops` (“Channel Operations”) Module](../reference/ImageChops.html)
  + [`ImageCms` Module](../reference/ImageCms.html)
  + [`ImageColor` Module](../reference/ImageColor.html)
  + [`ImageDraw` Module](../reference/ImageDraw.html)
  + [`ImageEnhance` Module](../reference/ImageEnhance.html)
  + [`ImageFile` Module](../reference/ImageFile.html)
  + [`ImageFilter` Module](../reference/ImageFilter.html)
  + [`ImageFont` Module](../reference/ImageFont.html)
  + [`ImageGrab` Module](../reference/ImageGrab.html)
  + [`ImageMath` Module](../reference/ImageMath.html)
  + [`ImageMorph` Module](../reference/ImageMorph.html)
  + [`ImageOps` Module](../reference/ImageOps.html)
  + [`ImagePalette` Module](../reference/ImagePalette.html)
  + [`ImagePath` Module](../reference/ImagePath.html)
  + [`ImageQt` Module](../reference/ImageQt.html)
  + [`ImageSequence` Module](../reference/ImageSequence.html)
  + [`ImageShow` Module](../reference/ImageShow.html)
  + [`ImageStat` Module](../reference/ImageStat.html)
  + [`ImageTk` Module](../reference/ImageTk.html)
  + [`ImageTransform` Module](../reference/ImageTransform.html)
  + [`ImageWin` Module (Windows-only)](../reference/ImageWin.html)
  + [`ExifTags` Module](../reference/ExifTags.html)
  + [`TiffTags` Module](../reference/TiffTags.html)
  + [`JpegPresets` Module](../reference/JpegPresets.html)
  + [`PSDraw` Module](../reference/PSDraw.html)
  + [`PixelAccess` Class](../reference/PixelAccess.html)
  + [`features` Module](../reference/features.html)
  + [PIL Package (autodoc of remaining modules)](../PIL.html)
  + [Plugin reference](../reference/plugins.html)
  + [Internal Reference](../reference/internal_design.html)Toggle navigation of Internal Reference
    - [File Handling in Pillow](../reference/open_files.html)
    - [Limits](../reference/limits.html)
    - [Block Allocator](../reference/block_allocator.html)
    - [Internal Modules](../reference/internal_modules.html)
    - [C Extension debugging on Linux, with gbd/valgrind.](../reference/c_extension_debugging.html)
* [Porting](../porting.html)
* [About](../about.html)
* [Release Notes](index.html)Toggle navigation of Release Notes
  + [11.1.0 (2025-01-02)](11.1.0.html)
  + [11.0.0 (2024-10-15)](11.0.0.html)
  + [10.4.0 (2024-07-01)](10.4.0.html)
  + [10.3.0 (2024-04-01)](10.3.0.html)
  + [10.2.0 (2024-01-02)](10.2.0.html)
  + [10.1.0 (2023-10-15)](10.1.0.html)
  + [10.0.1 (2023-09-15)](10.0.1.html)
  + [10.0.0 (2023-07-01)](10.0.0.html)
  + [9.5.0 (2023-04-01)](9.5.0.html)
  + [9.4.0 (2023-01-02)](9.4.0.html)
  + [9.3.0 (2022-10-29)](9.3.0.html)
  + [9.2.0 (2022-07-01)](9.2.0.html)
  + [9.1.1 (2022-05-17)](9.1.1.html)
  + [9.1.0 (2022-04-01)](9.1.0.html)
  + [9.0.1 (2022-02-03)](9.0.1.html)
  + 9.0.0 (2022-01-02)
  + [8.4.0 (2021-10-15)](8.4.0.html)
  + [8.3.2 (2021-09-02)](8.3.2.html)
  + [8.3.1 (2021-07-06)](8.3.1.html)
  + [8.3.0 (2021-07-01)](8.3.0.html)
  + [8.2.0 (2021-04-01)](8.2.0.html)
  + [8.1.2 (2021-03-06)](8.1.2.html)
  + [8.1.1 (2021-03-01)](8.1.1.html)
  + [8.1.0 (2021-01-02)](8.1.0.html)
  + [8.0.1 (2020-10-22)](8.0.1.html)
  + [8.0.0 (2020-10-14)](8.0.0.html)
  + [7.2.0 (2020-06-30)](7.2.0.html)
  + [7.1.2 (2020-04-25)](7.1.2.html)
  + [7.1.1 (2020-04-02)](7.1.1.html)
  + [7.1.0 (2020-04-01)](7.1.0.html)
  + [7.0.0 (2020-01-02)](7.0.0.html)
  + [6.2.2 (2020-01-02)](6.2.2.html)
  + [6.2.1 (2019-10-20)](6.2.1.html)
  + [6.2.0 (2019-10-01)](6.2.0.html)
  + [6.1.0 (2019-07-02)](6.1.0.html)
  + [6.0.0 (2019-04-02)](6.0.0.html)
  + [5.4.1 (2019-01-06)](5.4.1.html)
  + [5.4.0 (2019-01-01)](5.4.0.html)
  + [5.3.0 (2018-10-01)](5.3.0.html)
  + [5.2.0 (2018-07-01)](5.2.0.html)
  + [5.1.0 (2018-04-02)](5.1.0.html)
  + [5.0.0 (2018-01-01)](5.0.0.html)
  + [4.3.0 (2017-10-02)](4.3.0.html)
  + [4.2.1 (2017-07-06)](4.2.1.html)
  + [4.2.0 (2017-07-01)](4.2.0.html)
  + [4.1.1 (2017-04-28)](4.1.1.html)
  + [4.1.0 (2017-04-03)](4.1.0.html)
  + [4.0.0 (2017-01-01)](4.0.0.html)
  + [3.4.0 (2016-10-03)](3.4.0.html)
  + [3.3.2 (2016-09-29)](3.3.2.html)
  + [3.3.0 (2016-07-01)](3.3.0.html)
  + [3.2.0 (2016-04-01)](3.2.0.html)
  + [3.1.2 (2016-04-01)](3.1.2.html)
  + [3.1.1 (2016-02-04)](3.1.1.html)
  + [3.1.0 (2016-01-04)](3.1.0.html)
  + [3.0.0 (2015-10-01)](3.0.0.html)
  + [2.8.0 (2015-04-01)](2.8.0.html)
  + [2.7.0 (2014-12-31)](2.7.0.html)
  + [2.6.0 (2014-10-01)](2.6.0.html)
  + [2.5.2 (2014-08-12)](2.5.2.html)
  + [2.3.2 (2014-08-12)](2.3.2.html)
  + [2.3.1 (2014-03-14)](2.3.1.html)
  + [Versioning](versioning.html)
* [Deprecations and removals](../deprecations.html)

Back to top
[View this page](../_sources/releasenotes/9.0.0.rst.txt "View this page")

Toggle Light / Dark / Auto color theme

Toggle table of contents sidebar

# 9.0.0 (2022-01-02)[¶](#id1 "Link to this heading")

## Fredrik Lundh[¶](#fredrik-lundh "Link to this heading")

This release is dedicated to the memory of Fredrik Lundh, aka Effbot, who died in
November 2021. Fredrik created PIL in 1995 and he was instrumental in the early
success of Python.

[Guido wrote](https://mail.python.org/archives/list/python-dev%40python.org/thread/36Q5QBILL3QIFIA3KHNGFBNJQKXKN7SD/):

> Fredrik was an early Python contributor (e.g. Elementtree and the ‘re’
> module) and his enthusiasm for the language and community were inspiring
> for all who encountered him or his work. He spent countless hours on
> comp.lang.python answering questions from newbies and advanced users alike.
>
> He also co-founded an early Python startup, Secret Labs AB, which among
> other software released an IDE named PythonWorks. Fredrik also created the
> Python Imaging Library (PIL) which is still THE way to interact with images
> in Python, now most often through its Pillow fork. His effbot.org site was
> a valuable resource for generations of Python users, especially its Tkinter
> documentation.

Thank you, Fredrik.

## Security[¶](#security "Link to this heading")

### Ensure JpegImagePlugin stops at the end of a truncated file[¶](#ensure-jpegimageplugin-stops-at-the-end-of-a-truncated-file "Link to this heading")

`JpegImagePlugin` may append an EOF marker to the end of a truncated file, so that
the last segment of the data will still be processed by the decoder.

If the EOF marker is not detected as such however, this could lead to an infinite
loop where `JpegImagePlugin` keeps trying to end the file.

### Remove consecutive duplicate tiles that only differ by their offset[¶](#remove-consecutive-duplicate-tiles-that-only-differ-by-their-offset "Link to this heading")

To prevent attempts to slow down loading times for images, if an image has consecutive
duplicate tiles that only differ by their offset, only load the last tile. Credit to
Google’s [OSS-Fuzz](https://github.com/google/oss-fuzz) project for finding this issue.

### [**CVE 2022-22817**](https://www.cve.org/CVERecord?id=CVE-2022-22817): Restrict builtins available to ImageMath.eval[¶](#cve-2022-22817-restrict-builtins-available-to-imagemath-eval "Link to this heading")

To limit [`PIL.ImageMath`](../reference/ImageMath.html#module-PIL.ImageMath "PIL.ImageMath") to working with images, Pillow
will now restrict the builtins available to `PIL.ImageMath.eval()`. This will
help prevent problems arising if users evaluate arbitrary expressions, such as
`ImageMath.eval("exec(exit())")`.

### [**CVE 2022-22815**](https://www.cve.org/CVERecord?id=CVE-2022-22815), [**CVE 2022-22816**](https://www.cve.org/CVERecord?id=CVE-2022-22816): ImagePath.Path array handling[¶](#cve-2022-22815-cve-2022-22816-imagepath-path-array-handling "Link to this heading")

[**CVE 2022-22815**](https://www.cve.org/CVERecord?id=CVE-2022-22815) ([**CWE 126**](https://cwe.mitre.org/data/definitions/126.html)) and [**CVE 2022-22816**](https://www.cve.org/CVERecord?id=CVE-2022-22816) ([**CWE 665**](https://cwe.mitre.org/data/definitions/665.html)) were found when
initializing `ImagePath.Path`.

## Backwards Incompatible Changes[¶](#backwards-incompatible-changes "Link to this heading")

### Python 3.6[¶](#python-3-6 "Link to this heading")

Pillow has dropped support for Python 3.6, which reached end-of-life on 2021-12-23.

### PILLOW\_VERSION constant[¶](#pillow-version-constant "Link to this heading")

`PILLOW_VERSION` has been removed. Use `__version__` instead.

### FreeType 2.7[¶](#freetype-2-7 "Link to this heading")

Support for FreeType 2.7 has been removed; FreeType 2.8 is the minimum supported.

We recommend upgrading to at least [FreeType](https://freetype.org/) 2.10.4, which fixed a severe
vulnerability introduced in FreeType 2.6 ([**CVE 2020-15999**](https://www.cve.org/CVERecord?id=CVE-2020-15999)).

### Image.show command parameter[¶](#image-show-command-parameter "Link to this heading")

The `command` parameter has been removed. Use a subclass of
[`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer") instead.

### Image.\_showxv[¶](#image-showxv "Link to this heading")

`Image._showxv` has been removed. Use [`show()`](../reference/Image.html#PIL.Image.Image.show "PIL.Image.Image.show")
instead. If custom behaviour is required, use [`register()`](../reference/ImageShow.html#PIL.ImageShow.register "PIL.ImageShow.register") to add
a custom [`Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer") class.

### ImageFile.raise\_ioerror[¶](#imagefile-raise-ioerror "Link to this heading")

[`IOError`](https://docs.python.org/3/library/exceptions.html#IOError "(in Python v3.13)") was merged into [`OSError`](https://docs.python.org/3/library/exceptions.html#OSError "(in Python v3.13)") in Python 3.3. So, `ImageFile.raise_ioerror`
has been removed. Use `ImageFile.raise_oserror` instead.

## API Changes[¶](#api-changes "Link to this heading")

### Added line width parameter to ImageDraw polygon[¶](#added-line-width-parameter-to-imagedraw-polygon "Link to this heading")

An optional line `width` parameter has been added to `ImageDraw.Draw.polygon`.

## API Additions[¶](#api-additions "Link to this heading")

### ImageShow.XDGViewer[¶](#imageshow-xdgviewer "Link to this heading")

If `xdg-open` is present on Linux, this new [`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer") subclass
will be registered. It displays images using the application selected by the system.

It is higher in priority than the other default [`PIL.ImageShow.Viewer`](../reference/ImageShow.html#PIL.ImageShow.Viewer "PIL.ImageShow.Viewer")
instances, so it will be preferred by `im.show()` or [`ImageShow.show()`](../reference/ImageShow.html#PIL.ImageShow.show "PIL.ImageShow.show").

### Added support for “title” argument to DisplayViewer[¶](#added-support-for-title-argument-to-displayviewer "Link to this heading")

Support has been added for the “title” argument in
[`DisplayViewer`](../reference/ImageShow.html#PIL.ImageShow.UnixViewer.DisplayViewer "PIL.ImageShow.UnixViewer.DisplayViewer"), so that when `im.show()` or
[`ImageShow.show()`](../reference/ImageShow.html#PIL.ImageShow.show "PIL.ImageShow.show") use the `display` command line tool, the “title”
argument will also now be supported, e.g. `im.show(title="My Image")` and
`ImageShow.show(im, title="My Image")`.

## Other Changes[¶](#other-changes "Link to this heading")

### Convert subsequent GIF frames to RGB or RGBA[¶](#convert-subsequent-gif-frames-to-rgb-or-rgba "Link to this heading")

Since each frame of a GIF can have up to 256 colors, after the first frame it is
possible for there to be too many colors to fit in a P mode image. To allow for this,
seeking to any subsequent GIF frame will now convert the image to RGB or RGBA,
depending on whether or not the first frame had transparency.

### Switched to libjpeg-turbo in macOS and Linux wheels[¶](#switched-to-libjpeg-turbo-in-macos-and-linux-wheels "Link to this heading")

The Pillow wheels from PyPI for macOS and Linux have switched from libjpeg to
libjpeg-turbo. It is a fork of libjpeg, popular for its speed.

Because different JPEG decoders load images differently, JPEG pixels may be
altered slightly with this change.

### Added support for pickling TrueType fonts[¶](#added-support-for-pickling-truetype-fonts "Link to this heading")

TrueType fonts may now be pickled and unpickled. For example:

```
import pickle
from PIL import ImageFont

font = ImageFont.truetype("arial.ttf", size=30)
pickled_font = pickle.dumps(font, protocol=pickle.HIGHEST_PROTOCOL)

# Later...
unpickled_font = pickle.loads(pickled_font)

```

### Added support for additional TGA orientations[¶](#added-support-for-additional-tga-orientations "Link to this heading")

TGA images with top right or bottom right orientations are now supported.

[Next

8.4.0 (2021-10-15)](8.4.0.html)
[Previous

9.0.1 (2022-02-03)](9.0.1.html)

Copyright © 1995-2011 Fredrik Lundh and contributors, 2010 Jeffrey A. Clark and contributors.

Made with [Sphinx](https://www.sphinx-doc.org/) and [@pradyunsg](https://pradyunsg.me)'s
[Furo](https://github.com/pradyunsg/furo)

On this page

* 9.0.0 (2022-01-02)
  + [Fredrik Lundh](#fredrik-lundh)
  + [Security](#security)
    - [Ensure JpegImagePlugin stops at the end of a truncated file](#ensure-jpegimageplugin-stops-at-the-end-of-a-truncated-file)
    - [Remove consecutive duplicate tiles that only differ by their offset](#remove-consecutive-duplicate-tiles-that-only-differ-by-their-offset)
    - [**CVE 2022-22817**: Restrict builtins available to ImageMath.eval](#cve-2022-22817-restrict-builtins-available-to-imagemath-eval)
    - [**CVE 2022-22815**, **CVE 2022-22816**: ImagePath.Path array handling](#cve-2022-22815-cve-2022-22816-imagepath-path-array-handling)
  + [Backwards Incompatible Changes](#backwards-incompatible-changes)
    - [Python 3.6](#python-3-6)
    - [PILLOW\_VERSION constant](#pillow-version-constant)
    - [FreeType 2.7](#freetype-2-7)
    - [Image.show command parameter](#image-show-command-parameter)
    - [Image.\_showxv](#image-showxv)
    - [ImageFile.raise\_ioerror](#imagefile-raise-ioerror)
  + [API Changes](#api-changes)
    - [Added line width parameter to ImageDraw polygon](#added-line-width-parameter-to-imagedraw-polygon)
  + [API Additions](#api-additions)
    - [ImageShow.XDGViewer](#imageshow-xdgviewer)
    - [Added support for “title” argument to DisplayViewer](#added-support-for-title-argument-to-displayviewer)
  + [Other Changes](#other-changes)
    - [Convert subsequent GIF frames to RGB or RGBA](#convert-subsequent-gif-frames-to-rgb-or-rgba)
    - [Switched to libjpeg-turbo in macOS and Linux wheels](#switched-to-libjpeg-turbo-in-macos-and-linux-wheels)
    - [Added support for pickling TrueType fonts](#added-support-for-pickling-truetype-fonts)
    - [Added support for additional TGA orientations](#added-support-for-additional-tga-orientations)

