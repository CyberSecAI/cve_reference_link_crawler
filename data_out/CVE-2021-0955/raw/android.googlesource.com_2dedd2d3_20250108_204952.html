
            Commit Information:
            ------------------
            Author: Zim <zezeozue@google.com> 1628173742 +0100
            Date: Zimuzo Ezeozue <zezeozue@google.com> 1631113412 +0000
            Bug ID: Bug: 192085766 Bug: 195615818

            Commit Message:
            --------------
            Fix use-after-free bug in FuseDaemonThe FuseDaemon periodically runs fadvise on the lower file system toavoid double caching. As part of 'recording' the write for the fadvisequeue we sometimes raced and had the following ordering of events:T1: fuse_reply_writeT2: pf_release (destroy handle)T1: Record (using already destroyed handle)Now we, call Record before fuse_reply_writeTest: ManualBug: 192085766Bug: 195615818Change-Id: Iba7598d40aa03d082af10935552ac7db7e28c5b6(cherry picked from commit f38de0b09885b8766de2b351d90cc86ce7d9240c)
            