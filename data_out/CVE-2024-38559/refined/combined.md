=== Content from git.kernel.org_71ec0f9e_20250111_022350.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:44:33 +0200 |
| commit | [177f43c6892e6055de6541fe9391a8a3d1f95fc9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)) | |
| tree | [d1af90da0327c6c4b4b8f42f09e8da92acd0a247](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9) | |
| parent | [ecb76200f5557a2886888aaa53702da1ab9e6cdf](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ecb76200f5557a2886888aaa53702da1ab9e6cdf) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9&id2=ecb76200f5557a2886888aaa53702da1ab9e6cdf)) | |
| download | [linux-177f43c6892e6055de6541fe9391a8a3d1f95fc9.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-177f43c6892e6055de6541fe9391a8a3d1f95fc9.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=ecb76200f5557a2886888aaa53702da1ab9e6cdf)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=177f43c6892e6055de6541fe9391a8a3d1f95fc9)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:28 +0000



=== Content from git.kernel.org_4ca3a972_20250111_022353.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=769b9fd2af02c069451fe9108dba73355d9a021c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=769b9fd2af02c069451fe9108dba73355d9a021c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=769b9fd2af02c069451fe9108dba73355d9a021c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=769b9fd2af02c069451fe9108dba73355d9a021c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:32:08 +0200 |
| commit | [769b9fd2af02c069451fe9108dba73355d9a021c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=769b9fd2af02c069451fe9108dba73355d9a021c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=769b9fd2af02c069451fe9108dba73355d9a021c)) | |
| tree | [f8e9eab4cf4c50452575e56ba648fa9b4808df09](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=769b9fd2af02c069451fe9108dba73355d9a021c) | |
| parent | [00b425ff0891283207d7bad607a2412225274d7a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=00b425ff0891283207d7bad607a2412225274d7a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=769b9fd2af02c069451fe9108dba73355d9a021c&id2=00b425ff0891283207d7bad607a2412225274d7a)) | |
| download | [linux-769b9fd2af02c069451fe9108dba73355d9a021c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-769b9fd2af02c069451fe9108dba73355d9a021c.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=769b9fd2af02c069451fe9108dba73355d9a021c)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=769b9fd2af02c069451fe9108dba73355d9a021c) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=00b425ff0891283207d7bad607a2412225274d7a)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=769b9fd2af02c069451fe9108dba73355d9a021c)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:30 +0000



=== Content from git.kernel.org_45f74443_20250111_022355.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:03:16 +0200 |
| commit | [d93318f19d1e1a6d5f04f5d965eaa9055bb7c613](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)) | |
| tree | [cf7ec3acd30dd61164e240a326b3c70a750dbff1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613) | |
| parent | [7d3e694c4fe30f3aba9cd5ae86fb947a54c3db5c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7d3e694c4fe30f3aba9cd5ae86fb947a54c3db5c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613&id2=7d3e694c4fe30f3aba9cd5ae86fb947a54c3db5c)) | |
| download | [linux-d93318f19d1e1a6d5f04f5d965eaa9055bb7c613.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d93318f19d1e1a6d5f04f5d965eaa9055bb7c613.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=7d3e694c4fe30f3aba9cd5ae86fb947a54c3db5c)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=d93318f19d1e1a6d5f04f5d965eaa9055bb7c613)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:32 +0000



=== Content from git.kernel.org_331f27c9_20250111_022351.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:23:28 +0200 |
| commit | [1f84a2744ad813be23fc4be99fb74bfb24aadb95](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)) | |
| tree | [848320fe15d78f3f103043d32c30679a650fe6ea](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95) | |
| parent | [481fc0c8617304a67649027c4a44723a139a0462](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=481fc0c8617304a67649027c4a44723a139a0462) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95&id2=481fc0c8617304a67649027c4a44723a139a0462)) | |
| download | [linux-1f84a2744ad813be23fc4be99fb74bfb24aadb95.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1f84a2744ad813be23fc4be99fb74bfb24aadb95.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 84f1ddcfbb2180..4636c045e1e3ef 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=481fc0c8617304a67649027c4a44723a139a0462)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=1f84a2744ad813be23fc4be99fb74bfb24aadb95)@@ -190,7 +190,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:28 +0000



=== Content from git.kernel.org_1d1201f3_20250111_022354.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d0184a375ee797eb657d74861ba0935b6e405c62)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d0184a375ee797eb657d74861ba0935b6e405c62)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d0184a375ee797eb657d74861ba0935b6e405c62)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d0184a375ee797eb657d74861ba0935b6e405c62)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Martin K. Petersen <martin.petersen@oracle.com> | 2024-05-06 21:19:24 -0400 |
| commit | [d0184a375ee797eb657d74861ba0935b6e405c62](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d0184a375ee797eb657d74861ba0935b6e405c62) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d0184a375ee797eb657d74861ba0935b6e405c62)) | |
| tree | [fcaf6fc1cce2aae97c801dc9389aca872c4819f9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d0184a375ee797eb657d74861ba0935b6e405c62) | |
| parent | [13d0cecb4626fae67c00c84d3c7851f6b62f7df3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=13d0cecb4626fae67c00c84d3c7851f6b62f7df3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d0184a375ee797eb657d74861ba0935b6e405c62&id2=13d0cecb4626fae67c00c84d3c7851f6b62f7df3)) | |
| download | [linux-d0184a375ee797eb657d74861ba0935b6e405c62.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d0184a375ee797eb657d74861ba0935b6e405c62.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminatedCurrently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d0184a375ee797eb657d74861ba0935b6e405c62)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=d0184a375ee797eb657d74861ba0935b6e405c62) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=13d0cecb4626fae67c00c84d3c7851f6b62f7df3)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=d0184a375ee797eb657d74861ba0935b6e405c62)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:31 +0000



=== Content from git.kernel.org_c4032972_20250111_022355.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:39:24 +0200 |
| commit | [dccd97b39ab2f2b1b9a47a1394647a4d65815255](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)) | |
| tree | [3ebb39bc8bcc738ff58e4260b42c4435ae5ab9d9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255) | |
| parent | [1708e3cf2488788cba5489e4f913d227de757baf](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1708e3cf2488788cba5489e4f913d227de757baf) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255&id2=1708e3cf2488788cba5489e4f913d227de757baf)) | |
| download | [linux-dccd97b39ab2f2b1b9a47a1394647a4d65815255.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-dccd97b39ab2f2b1b9a47a1394647a4d65815255.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=1708e3cf2488788cba5489e4f913d227de757baf)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=dccd97b39ab2f2b1b9a47a1394647a4d65815255)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:33 +0000



=== Content from git.kernel.org_213e7da2_20250111_022352.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:11:50 +0200 |
| commit | [563e609275927c0b75fbfd0d90441543aa7b5e0d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)) | |
| tree | [ddb0d3fc3d0c24410b00cd6bb5134f4c4114bbf0](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d) | |
| parent | [204714e68015d6946279719fd464ecaf57240f35](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=204714e68015d6946279719fd464ecaf57240f35) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d&id2=204714e68015d6946279719fd464ecaf57240f35)) | |
| download | [linux-563e609275927c0b75fbfd0d90441543aa7b5e0d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-563e609275927c0b75fbfd0d90441543aa7b5e0d.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=563e609275927c0b75fbfd0d90441543aa7b5e0d) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=204714e68015d6946279719fd464ecaf57240f35)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=563e609275927c0b75fbfd0d90441543aa7b5e0d)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:29 +0000



=== Content from git.kernel.org_38935a49_20250111_022354.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:28:36 +0200 |
| commit | [a75001678e1d38aa607d5b898ec7ff8ed0700d59](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)) | |
| tree | [6cc82b1050e8327d85a6d865950bc58e974383eb](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59) | |
| parent | [595a6b98deec01b6dbb20139f71edcd5fb760ec2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=595a6b98deec01b6dbb20139f71edcd5fb760ec2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59&id2=595a6b98deec01b6dbb20139f71edcd5fb760ec2)) | |
| download | [linux-a75001678e1d38aa607d5b898ec7ff8ed0700d59.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a75001678e1d38aa607d5b898ec7ff8ed0700d59.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex b0a28a6a9c64aa..41e7fab99013c0 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=595a6b98deec01b6dbb20139f71edcd5fb760ec2)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=a75001678e1d38aa607d5b898ec7ff8ed0700d59)@@ -172,7 +172,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:31 +0000



=== Content from git.kernel.org_efa6d443_20250111_022352.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Bui Quang Minh <minhquangbui99@gmail.com> | 2024-04-24 21:44:21 +0700 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:49:22 +0200 |
| commit | [4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)) | |
| tree | [9faa1380cfceaf3c16047a46646cd4b3b4ac9c64](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8) | |
| parent | [7510fab46b1cbd1680e2a096e779aec3334b4143](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7510fab46b1cbd1680e2a096e779aec3334b4143) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8&id2=7510fab46b1cbd1680e2a096e779aec3334b4143)) | |
| download | [linux-4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8.tar.gz) | |

scsi: qedf: Ensure the copied buf is NUL terminated[ Upstream commit d0184a375ee797eb657d74861ba0935b6e405c62 ]
Currently, we allocate a count-sized kernel buffer and copy count from
userspace to that buffer. Later, we use kstrtouint on this buffer but we
don't ensure that the string is terminated inside the buffer, this can
lead to OOB read when using kstrtouint. Fix this issue by using
memdup\_user\_nul instead of memdup\_user.
Fixes: 61d8658b4a43 ("scsi: qedf: Add QLogic FastLinQ offload FCoE driver framework.")
Signed-off-by: Bui Quang Minh <minhquangbui99@gmail.com>
Link: [https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4@gmail.com](https://lore.kernel.org/r/20240424-fix-oob-read-v2-4-f1f1b53a10f4%40gmail.com)
Signed-off-by: Martin K. Petersen <martin.petersen@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)

| -rw-r--r-- | [drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/scsi/qedf/qedf_debugfs.c?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/scsi/qedf/qedf\_debugfs.c b/drivers/scsi/qedf/qedf\_debugfs.cindex 451fd236bfd058..96174353e3898f 100644--- a/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=7510fab46b1cbd1680e2a096e779aec3334b4143)+++ b/[drivers/scsi/qedf/qedf\_debugfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/scsi/qedf/qedf_debugfs.c?id=4907f5ad246fa9b51093ed7dfc7da9ebbd3f20b8)@@ -170,7 +170,7 @@ qedf\_dbg\_debug\_cmd\_write(struct file \*filp, const char \_\_user \*buffer, if (!count || \*ppos) return 0; - kern\_buf = memdup\_user(buffer, count);+ kern\_buf = memdup\_user\_nul(buffer, count); if (IS\_ERR(kern\_buf)) return PTR\_ERR(kern\_buf); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 02:22:29 +0000


