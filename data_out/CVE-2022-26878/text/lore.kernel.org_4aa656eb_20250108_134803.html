
```
[linux-bluetooth.vger.kernel.org archive mirror](../?t=20211020125922)
 [help](../_/text/help/) / [color](../_/text/color/) / [mirror](../_/text/mirror/) / [Atom feed](../new.atom)
```
```
From: Marcel Holtmann <marcel@holtmann.org>
To: Soenke Huster <soenke.huster@eknoes.de>
Cc: Johan Hedberg <johan.hedberg@gmail.com>,
	Luiz Augusto von Dentz <luiz.dentz@gmail.com>,
	[linux-bluetooth@vger.kernel.org](../../linux-bluetooth/?t=20211020125922), [linux-kernel@vger.kernel.org](../../lkml/?t=20211020125922)
Subject: [Re: [PATCH v2] Bluetooth: virtio_bt: fix memory leak in virtbt_rx_handle()](#r)
Date: Wed, 20 Oct 2021 14:59:19 +0200	[[thread overview]](#r)
Message-ID: <1A203F5E-FB5E-430C-BEA3-86B191D69D58@holtmann.org> (<raw>)
In-Reply-To: <[20211020081444.37324-1-soenke.huster@eknoes.de](../20211020081444.37324-1-soenke.huster%40eknoes.de/)>

Hi Soenke,

> On the reception of packets with an invalid packet type, the memory of
> the allocated socket buffers is never freed. Add a default case that frees
> these to avoid a memory leak.
>
> Signed-off-by: Soenke Huster <soenke.huster@eknoes.de>
> ---
> Changes in v2:
>  - Add break; to default case
>
> drivers/bluetooth/virtio_bt.c | 3 +++
> 1 file changed, 3 insertions(+)

patch has been applied to bluetooth-next tree.

Regards

Marcel

```

---

```
     [prev](../616fde8f.1c69fb81.ea1f0.43f8%40mx.google.com/) [parent](../20211020081444.37324-1-soenke.huster%40eknoes.de/) [reply](#R)other threads:[[~2021-10-20 12:59 UTC](../?t=20211020125922)|[newest](../)]

Thread overview: 3+ messages / expand[[flat](T/#u)|[nested](t/#u)]  [mbox.gz](t.mbox.gz)  [Atom feed](t.atom)  [top](#b)
2021-10-20  8:14 [[PATCH v2] Bluetooth: virtio_bt: fix memory leak in virtbt_rx_handle()](../20211020081444.37324-1-soenke.huster%40eknoes.de/) Soenke Huster
2021-10-20  9:17 ` [[v2]](../616fde8f.1c69fb81.ea1f0.43f8%40mx.google.com/) " bluez.test.bot
2021-10-20 12:59 ` [Marcel Holtmann [this message]](#t)

```

---

```
Reply instructions:

You may reply publicly to [this message](#t) via plain-text email
using any one of the following methods:

* Save the following mbox file, import it into your mail client,
  and reply-to-all from there: [mbox](raw)

  Avoid top-posting and favor interleaved quoting:
  <https://en.wikipedia.org/wiki/Posting_style#Interleaved_style>

* Reply using the --to, --cc, and --in-reply-to
  switches of git-send-email(1):

  git send-email \
    --in-reply-to=1A203F5E-FB5E-430C-BEA3-86B191D69D58@holtmann.org \
    --to=marcel@holtmann.org \
    --cc=johan.hedberg@gmail.com \
    --cc=linux-bluetooth@vger.kernel.org \
    --cc=linux-kernel@vger.kernel.org \
    --cc=luiz.dentz@gmail.com \
    --cc=soenke.huster@eknoes.de \
    /path/to/YOUR_REPLY

  <https://kernel.org/pub/software/scm/git/docs/git-send-email.html>

* If your mail client supports setting the In-Reply-To header
  via mailto: links, try the mailto: link

```
Be sure your reply has a **Subject:** header at the top and a blank line
before the message body.

---

```
This is a public inbox, see [mirroring instructions](../_/text/mirror/)
for how to clone and mirror all data and code used for this inbox;
as well as URLs for NNTP newsgroup(s).
```
