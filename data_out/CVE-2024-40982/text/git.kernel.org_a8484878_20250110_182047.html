

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Rand Deeb <rand.sec96@gmail.com> | 2024-03-06 15:30:28 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-27 13:49:01 +0200 |
| commit | [c5dc2d8eb3981bae261ea7d1060a80868e886813](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)) | |
| tree | [6c2232834da9c23bda71333de8f16a3ec7afaa39](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813) | |
| parent | [fd841ee01fb4a79cb7f5cc424b5c96c3a73b2d1e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fd841ee01fb4a79cb7f5cc424b5c96c3a73b2d1e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813&id2=fd841ee01fb4a79cb7f5cc424b5c96c3a73b2d1e)) | |
| download | [linux-c5dc2d8eb3981bae261ea7d1060a80868e886813.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c5dc2d8eb3981bae261ea7d1060a80868e886813.tar.gz) | |

ssb: Fix potential NULL pointer dereference in ssb\_device\_uevent()[ Upstream commit 789c17185fb0f39560496c2beab9b57ce1d0cbe7 ]
The ssb\_device\_uevent() function first attempts to convert the 'dev' pointer
to 'struct ssb\_device \*'. However, it mistakenly dereferences 'dev' before
performing the NULL check, potentially leading to a NULL pointer
dereference if 'dev' is NULL.
To fix this issue, move the NULL check before dereferencing the 'dev' pointer,
ensuring that the pointer is valid before attempting to use it.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Signed-off-by: Rand Deeb <rand.sec96@gmail.com>
Signed-off-by: Kalle Valo <kvalo@kernel.org>
Link: [https://msgid.link/20240306123028.164155-1-rand.sec96@gmail.com](https://msgid.link/20240306123028.164155-1-rand.sec96%40gmail.com)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)

| -rw-r--r-- | [drivers/ssb/main.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/ssb/main.c?id=c5dc2d8eb3981bae261ea7d1060a80868e886813) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 1 deletions

| diff --git a/drivers/ssb/main.c b/drivers/ssb/main.cindex ab080cf26c9fff..0c736d51566dc4 100644--- a/[drivers/ssb/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/ssb/main.c?id=fd841ee01fb4a79cb7f5cc424b5c96c3a73b2d1e)+++ b/[drivers/ssb/main.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/ssb/main.c?id=c5dc2d8eb3981bae261ea7d1060a80868e886813)@@ -341,11 +341,13 @@ static int ssb\_bus\_match(struct device \*dev, struct device\_driver \*drv)  static int ssb\_device\_uevent(const struct device \*dev, struct kobj\_uevent\_env \*env) {- const struct ssb\_device \*ssb\_dev = dev\_to\_ssb\_dev(dev);+ const struct ssb\_device \*ssb\_dev;  if (!dev) return -ENODEV; + ssb\_dev = dev\_to\_ssb\_dev(dev);+ return add\_uevent\_var(env, "MODALIAS=ssb:v%04Xid%04Xrev%02X", ssb\_dev->id.vendor, ssb\_dev->id.coreid, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 18:19:25 +0000

