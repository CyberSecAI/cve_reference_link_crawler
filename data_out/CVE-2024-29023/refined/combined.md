=== Content from github.com_900fbb22_20250111_000528.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fsecurity%2Fadvisories%2FGHSA-xmc6-cfq5-hg39)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fsecurity%2Fadvisories%2FGHSA-xmc6-cfq5-hg39)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=xibosignage%2Fxibo-cms)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[xibosignage](/xibosignage)
/
**[xibo-cms](/xibosignage/xibo-cms)**
Public

* [Notifications](/login?return_to=%2Fxibosignage%2Fxibo-cms) You must be signed in to change notification settings
* [Fork
  284](/login?return_to=%2Fxibosignage%2Fxibo-cms)
* [Star
   394](/login?return_to=%2Fxibosignage%2Fxibo-cms)

* [Code](/xibosignage/xibo-cms)
* [Pull requests
  6](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

Additional navigation options

* [Code](/xibosignage/xibo-cms)
* [Pull requests](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

# Session Hijacking via token exposure on the session page

High

[dasgarner](/dasgarner)
published
GHSA-xmc6-cfq5-hg39
Apr 11, 2024

## Package

composer

Xibo CMS
([Composer](/advisories?query=ecosystem%3Acomposer))

## Affected versions

>=1.8.0, <=4.0.8

## Patched versions

>=3.3.10, >=4.0.9

## Description

### Impact

Session tokens are exposed in the return of session search API call on the sessions page. Subsequently they can be exfiltrated and used to hijack a session.

Users must be granted access to the session page, or be a super admin.

### Patches

**Users should upgrade to version 3.3.10 or 4.0.9 which fix this issue**. Customers who host their CMS with Xibo Signage have already received an upgrade or patch to resolve this issue regardless of the CMS version that they are running.

### Workarounds

Upgrading to a fixed version is necessary to remediate.

Patches are available for earlier versions of Xibo CMS that are out of security support:

* [2.3 patch](https://github.com/xibosignage/xibo-cms/commit/ebeccd000b51f00b9a25f56a2f252d6812ebf850.diff)
* [1.8 patch](https://github.com/dasgarner/xibo-cms/commit/a81044e6ccdd92cc967e34c125bd8162432e51bc.diff)

### References

[Xibo Signage Security Advisory](https://xibosignage.com/blog/security-advisory-2024-04)

### Credit

Thanks to [@Saadet-T](https://github.com/Saadet-T) (Saadet Elif Tokuoğlu) who discovered this issue.

### Severity

High

7.2

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
High

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H

### CVE ID

CVE-2024-29023

### Weaknesses

[CWE-200](/advisories?query=cwe%3A200)

### Credits

* [![@Saadet-T](https://avatars.githubusercontent.com/u/68515706?s=40&v=4)](/Saadet-T)
  [Saadet-T](/Saadet-T)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from xibosignage.com_71b4a93d_20250111_000528.html ===


[![Xibo Logo](/dist/img/header-logo.svg)](/)
[![Xibo Logo](/dist/img/header-logo.svg)](/)

* [Open Source](/open-source)
* [Pricing](/pricing)
  + [Pricing](/pricing)
  + [Free Trial](/free-trial)
* Solutions
  + [Content Management System](/cms)
  + [Xibo Cloud Hosting](/hosting)
  + [Xibo for Android](/xibo-for-android)
  + [Xibo for Linux](/xibo-for-linux)
  + [Xibo for Tizen](/xibo-for-tizen)
  + [Xibo for webOS](/xibo-for-webos)
  + [Xibo for Windows](/xibo-for-windows)
  + [Hardware](/hardware)
  + [Advertising](/advertising)
  + [Audience Reporting](/audience-reporting)
  + [Professional Services](/services)
* Industries
  + [Hospitality](/hospitality)
  + [Retail](/retail)
  + [Education](/education)
  + [Healthcare](/healthcare)
  + [Corporate](/corporate)
  + [Transport](/transport)
  + [Out of Home](/ooh)
* Resources
  + [Case Studies](/case-studies)
  + [Documentation](/docs)
  + [Features](/features)
  + [Help / FAQs](/help)
  + [Downloads](/downloads)
  + [About](/about-us)
  + [Training](/training)
* [Blog](/blog)
* [Partners](/become-a-partner)

pending changes

[Login](/login)
[Free Trial](/free-trial)

![Close](/dist/img/menu-close.svg)

pending changes

[Login](/login)
[Get your free trial](/free-trial)
![Search](/dist/img/header-search.svg)

![Search](/dist/img/header-search.svg)

![Search Close](/dist/img/search-close.svg)

[Back](/blog)

![Feature image](/img/blog/features/239f3ac7-2c65-48c6-8794-1d3e7667a167_CMS-blog-banner.png)
# Security Advisory - 2 issues affecting the CMS

* Dan
* 11 Apr 24

Share

We recommend everyone upgrade to 3.3.10 or 4.0.9 or latest release as soon as possible. All affected CMS instances on our Cloud platform have been fully patched. For further information on each advisory please see the CVE link below.

Thanks to [@Saadet-T](https://github.com/Saadet-T) (Saadet Elif Tokuoğlu) for responsibly disclosing these vulnerabilities and allowing us time to release 3.3.10/4.0.9.

Disclosure Timeline

16th March 16:00 - A draft security advisory was submitted by Saadet
17th March 16:00 - The issue was acknowledged and confirmed by Xibo
18th March 11:40 - Patches produced and applied to Xibo Cloud Hosting
18th March 13:38 - 3.3.10 released
18th March 15:01 - 4.0.9 released
11th April - Public disclosure

Issue #1 - Session Hijacking via XSS attack in header and session grid
Some request headers are not correctly sanitised when stored in the session and display tables.

These headers can be used to inject a malicious script into the session page to exfiltrate session IDs and User Agents. These session IDs / User Agents can subsequently be used to hijack active sessions.

A malicious script can be injected into the display grid to exfiltrate information related to displays.

Versions affected: **1.8.0 and later. Fixed in 3.3.10 and 4.0.9**

After extensive research we have determined that CMS instances hosted via our Cloud platform have not been exploited. All CMS instances hosted by Xibo of any version have been patched.

[CVE-2024-29022](https://github.com/xibosignage/xibo-cms/security/advisories/GHSA-xchw-pf2w-rpgq)

Issue #2 - Session Hijacking via token exposure on the session page
Session tokens are exposed in the return of session search API call on the sessions page. Subsequently they can be exfiltrated and used to hijack a session.

Users must be granted access to the session page, or be a super admin.

Versions affected: **1.8.0 and later. Fixed in 3.3.10 and 4.0.9**

After extensive research we have determined that CMS instances hosted via our Cloud platform have not been exploited. All CMS instances hosted by Xibo of any version have been patched.

[CVE-2024-29023](https://github.com/xibosignage/xibo-cms/security/advisories/GHSA-xmc6-cfq5-hg39)

## More

Read more from the blog

[![View Post](/img/blog/features/8b85b5d3-d9ed-4c57-9936-c3e2c9cc063f_Android-Blog-Banner.png)](/blog/xibo-for-android-v4-r406)

#### [Xibo for Android v4 R406](/blog/xibo-for-android-v4-r406)

We are pleased to announce Xibo for Android v4 R405. This release fixes 2 issues.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/xibo-for-android-v4-r406)

[![View Post](/img/blog/features/3acedf1c-2cc4-4ce1-868a-609ae416ed67_Windows-Blog-Banner.png)](/blog/xibo-for-windows-v4-r404)

#### [Xibo for Windows v4 R404](/blog/xibo-for-windows-v4-r404)

We are pleased to announce Xibo for Windows v4 R404. This release fixes 2 issues.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/xibo-for-windows-v4-r404)

[![View Post](/img/blog/features/24279f5a-6390-41a6-80a1-79cd86f0475c_Advertise-Here---2-.png)](/blog/top-7-retail-digital-signage-trends-in-2025)

#### [Top 7 Retail Digital Signage Trends in 2025](/blog/top-7-retail-digital-signage-trends-in-2025)

Learn more about 2025âs retail digital signage trends. Whether retail media networks or AI-driven retail media planning, the upcoming year has a lot in store for retailers.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/top-7-retail-digital-signage-trends-in-2025)

## More

Read more from the blog

[![View Post](/img/blog/features/8b85b5d3-d9ed-4c57-9936-c3e2c9cc063f_Android-Blog-Banner.png)](/blog/xibo-for-android-v4-r406)

#### [Xibo for Android v4 R406](/blog/xibo-for-android-v4-r406)

We are pleased to announce Xibo for Android v4 R405. This release fixes 2 issues.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/xibo-for-android-v4-r406)

[![View Post](/img/blog/features/3acedf1c-2cc4-4ce1-868a-609ae416ed67_Windows-Blog-Banner.png)](/blog/xibo-for-windows-v4-r404)

#### [Xibo for Windows v4 R404](/blog/xibo-for-windows-v4-r404)

We are pleased to announce Xibo for Windows v4 R404. This release fixes 2 issues.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/xibo-for-windows-v4-r404)

[![View Post](/img/blog/features/24279f5a-6390-41a6-80a1-79cd86f0475c_Advertise-Here---2-.png)](/blog/top-7-retail-digital-signage-trends-in-2025)

#### [Top 7 Retail Digital Signage Trends in 2025](/blog/top-7-retail-digital-signage-trends-in-2025)

Learn more about 2025âs retail digital signage trends. Whether retail media networks or AI-driven retail media planning, the upcoming year has a lot in store for retailers.

[![View Post](/dist/img/btn-arrow-right.svg)](/blog/top-7-retail-digital-signage-trends-in-2025)

[![Xibo Logo](/dist/img/footer-logo.svg)](/)

#### Solutions

* [Free Trial](/free-trial)
* [Content Management System](/cms)
* [Xibo Cloud Hosting](/hosting)
* [Xibo for Android](/xibo-for-android)
* [Xibo for Linux](/xibo-for-linux)
* [Xibo for Tizen](/xibo-for-tizen)
* [Xibo for webOS](/xibo-for-webos)
* [Xibo for Windows](/xibo-for-windows)
* [Advertising](/advertising)
* [Hardware](/hardware)
* [Professional Services](/services)
* [Pricing](/pricing)
* [Feature list](/features)

#### Help & Resources

* [Help / FAQs](/help)
* [User Manual](/manual/en/)
* [Downloads](/downloads)
* [Knowledge Base](https://community.xibo.org.uk/c/kb)
* [Community](https://community.xibo.org.uk)
* [My Account](/login)
* [Blog](/blog)
* [Case Studies](/case-studies)
* [Service Status](https://xibosignage.github.io/status-page/)
* [Training](/training)
* [Contact Us](/contact)

#### Company

* [About us](/about-us)
* [Become a partner](/become-a-partner)
* [Terms](/terms)
* [EULA](/eula)
* [Privacy Policy](/privacy)
* [Data Processing Agreement](/dpa)

Â©  [Xibo Signage](https://xibosignage.com)&nbsp2025 |
Xibo Signage Ltd, Curtis House, 34 Third Avenue, Hove, England, BN3 2PD |
Company number: 07811749 |
VAT number: GB201808739

Xibo Signage Netherlands BV, Blaak 520, 3011TA, Rotterdam, Netherlands |
Kvk: 80891101 |
VAT number: NL861840586B01

##### Search Results

![Xibo Logo](/dist/img/header-logo.svg)
![Close](/dist/img/signup-close.svg)



=== Content from github.com_1e33102f_20250111_000527.html ===
diff --git a/lib/Controller/Sessions.php b/lib/Controller/Sessions.php
index 2077860ab1..cd7d2e50dd 100644
--- a/lib/Controller/Sessions.php
+++ b/lib/Controller/Sessions.php
@@ -88,11 +88,11 @@ function grid()
$row->includeProperty('buttons');
// Edit
- $row->buttons[] = array(
+ /\*$row->buttons[] = array(
'id' => 'sessions\_button\_logout',
'url' => $this->urlFor('sessions.confirm.logout.form', ['id' => $row->sessionId]),
'text' => \_\_('Logout')
- );
+ );\*/
}
}
diff --git a/lib/Factory/SessionFactory.php b/lib/Factory/SessionFactory.php
index 96bb38ecb5..abc22c5bcc 100644
--- a/lib/Factory/SessionFactory.php
+++ b/lib/Factory/SessionFactory.php
@@ -150,7 +150,14 @@ public function query($sortOrder = null, $filterBy = [])
foreach ($this->getStore()->select($sql, $params) as $row) {
- $entries[] = $this->createEmpty()->hydrate($row, ['stringProperties' => ['sessionId']]);
+ $session = $this->createEmpty()->hydrate($row, [
+ 'stringProperties' => ['sessionId'],
+ 'intProperties' => ['isExpired']
+ ]);
+ $session->userAgent = htmlspecialchars($session->userAgent);
+ $session->remoteAddress = filter\_var($session->remoteAddress, FILTER\_VALIDATE\_IP);
+ $session->excludeProperty('sessionId');
+ $entries[] = $session;
}
// Paging
diff --git a/lib/Helper/Session.php b/lib/Helper/Session.php
index 4aad4e3138..ef6038ba7f 100644
--- a/lib/Helper/Session.php
+++ b/lib/Helper/Session.php
@@ -170,7 +170,7 @@ function read($key)
$data = '';
$this->key = $key;
- $userAgent = substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253);
+ $userAgent = substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253);
try {
$dbh = $this->getDb();
@@ -420,7 +420,7 @@ private function insertSession($key, $data, $lastAccessed, $expiry)
'lastAccessed' => date('Y-m-d H:i:s', $lastAccessed),
'userId' => $this->userId,
'expired' => ($this->expired) ? 1 : 0,
- 'useragent' => substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253),
+ 'useragent' => substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253),
'remoteaddr' => $this->getIp()
];
@@ -469,7 +469,7 @@ private function getIp()
$clientIp = '';
$keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR');
foreach ($keys as $key) {
- if (isset($\_SERVER[$key])) {
+ if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) {
$clientIp = $\_SERVER[$key];
break;
}
diff --git a/lib/Xmds/Soap.php b/lib/Xmds/Soap.php
index 7f7d225c2e..4efb8bcd2a 100644
--- a/lib/Xmds/Soap.php
+++ b/lib/Xmds/Soap.php
@@ -2068,7 +2068,7 @@ protected function getIp()
$keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR');
foreach ($keys as $key) {
- if (isset($\_SERVER[$key])) {
+ if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) {
$clientIp = $\_SERVER[$key];
break;
}


=== Content from github.com_42396e57_20250111_000526.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F3b93636aa7aea07d1f7dfa36b63b773ac16d7cde)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F3b93636aa7aea07d1f7dfa36b63b773ac16d7cde)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=xibosignage%2Fxibo-cms)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[xibosignage](/xibosignage)
/
**[xibo-cms](/xibosignage/xibo-cms)**
Public

* [Notifications](/login?return_to=%2Fxibosignage%2Fxibo-cms) You must be signed in to change notification settings
* [Fork
  284](/login?return_to=%2Fxibosignage%2Fxibo-cms)
* [Star
   394](/login?return_to=%2Fxibosignage%2Fxibo-cms)

* [Code](/xibosignage/xibo-cms)
* [Pull requests
  6](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

Additional navigation options

* [Code](/xibosignage/xibo-cms)
* [Pull requests](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

## Commit

[Permalink](/xibosignage/xibo-cms/commit/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Improvements to filtering IP and sessions ([#2434](https://github.com/xibosignage/xibo-cms/pull/2434))

[Browse files](/xibosignage/xibo-cms/tree/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde)
Browse the repository at this point in the history

```
* Sessions: Add sanitization in getIp() and disable output of session ID in session grid. [xibosignage/xibo#3375](https://github.com/xibosignage/xibo/issues/3375)
* Bump to 3.3.10
```

* Loading branch information

[![@dasgarner](https://avatars.githubusercontent.com/u/10400067?s=40&v=4)](/dasgarner)

[dasgarner](/xibosignage/xibo-cms/commits?author=dasgarner "View all commits by dasgarner")
authored
Mar 18, 2024

1 parent
[5f81e99](/xibosignage/xibo-cms/commit/5f81e994aa6da2a9d089783ac33d1a8537316940)

commit 3b93636

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**39 additions**
and
**42 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* lib

  + Controller

    - lib/Controller/Sessions.php
      [Sessions.php](#diff-7d9a32df793ab6cd508c52695c791330f287dfc602b938e1a63879a58e19110b)
  + Factory

    - lib/Factory/SessionFactory.php
      [SessionFactory.php](#diff-80a4f77864aa498889018c6ca6aa0e6bfd7cc854f99d0eae27f8d81af19f537b)
  + Helper

    - lib/Helper/Environment.php
      [Environment.php](#diff-188bcf038c69f05fedd411855451d336591ddda3baf8ea9c165476184fd4bcd9)
    - lib/Helper/Session.php
      [Session.php](#diff-838c43181f6646907c8f3ac29dcb141494e178be50e2d81a2c5bf3d56911fd3f)
  + Xmds

    - lib/Xmds/Soap.php
      [Soap.php](#diff-2b0ae90ef679d745be101fff0a160e0a5844416ac322c9a6e4e64ef56de3bf65)
* views

  + views/sessions-form-confirm-logout.twig
    [sessions-form-confirm-logout.twig](#diff-4a80aaaa6e5f304f41770258019a5c3d82db41652ae3f299bf145e4489d9a496)

## There are no files selected for viewing

28 changes: 11 additions & 17 deletions

28
[lib/Controller/Sessions.php](#diff-7d9a32df793ab6cd508c52695c791330f287dfc602b938e1a63879a58e19110b "lib/Controller/Sessions.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/lib/Controller/Sessions.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,8 @@ |
|  |  | <?php |
|  |  | /\*\* |
|  |  | \* Copyright (C) 2021 Xibo Signage Ltd |
|  |  | /\* |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - http://www.xibo.org.uk |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
|  |  | \* This file is part of Xibo. |
|  |  | \* |
| Expand All | | @@ -22,7 +22,6 @@ |
|  |  | namespace Xibo\Controller; |
|  |  |  |
|  |  | use Carbon\Carbon; |
|  |  |  |
|  |  | use Slim\Http\Response as Response; |
|  |  | use Slim\Http\ServerRequest as Request; |
|  |  | use Xibo\Factory\SessionFactory; |
| Expand Down  Expand Up | | @@ -94,13 +93,16 @@ function grid(Request $request, Response $response) |
|  |  | $row->lastAccessed = Carbon::createFromTimeString($row->lastAccessed)->format(DateFormatHelper::getSystemFormat()); |
|  |  |  |
|  |  | if (!$this->isApi($request) && $this->getUser()->isSuperAdmin()) { |
|  |  |  |
|  |  | $row->includeProperty('buttons'); |
|  |  |  |
|  |  | if ($row->isExpired == 1) { |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | // Edit |
|  |  | $row->buttons[] = array( |
|  |  | 'id' => 'sessions\_button\_logout', |
|  |  | 'url' => $this->urlFor($request,'sessions.confirm.logout.form', ['id' => $row->sessionId]), |
|  |  | 'url' => $this->urlFor($request,'sessions.confirm.logout.form', ['id' => $row->userId]), |
|  |  | 'text' => \_\_('Logout') |
|  |  | ); |
|  |  | } |
| Expand Down  Expand Up | | @@ -131,7 +133,7 @@ function confirmLogoutForm(Request $request, Response $response, $id) |
|  |  |  |
|  |  | $this->getState()->template = 'sessions-form-confirm-logout'; |
|  |  | $this->getState()->setData([ |
|  |  | 'sessionId' => $id, |
|  |  | 'userId' => $id, |
|  |  | 'help' => $this->getHelp()->link('Sessions', 'Logout') |
|  |  | ]); |
|  |  |  |
| Expand All | | @@ -149,21 +151,13 @@ function confirmLogoutForm(Request $request, Response $response, $id) |
|  |  | \* @throws \Xibo\Support\Exception\GeneralException |
|  |  | \* @throws \Xibo\Support\Exception\NotFoundException |
|  |  | \*/ |
|  |  | function logout(Request $request, Response $response, $id) |
|  |  | public function logout(Request $request, Response $response, $id) |
|  |  | { |
|  |  | if ($this->getUser()->userTypeId != 1) { |
|  |  | throw new AccessDeniedException(); |
|  |  | } |
|  |  |  |
|  |  | $session = $this->sessionFactory->getById($id); |
|  |  |  |
|  |  | if ($session->userId != 0) { |
|  |  | $this->store->update('UPDATE `session` SET IsExpired = 1 WHERE userID = :userId ', |
|  |  | ['userId' => $session->userId]); |
|  |  | } else { |
|  |  | $this->store->update('UPDATE `session` SET IsExpired = 1 WHERE session\_id = :session\_id ', |
|  |  | ['session\_id' => $id]); |
|  |  | } |
|  |  | $this->sessionFactory->expireByUserId($id); |
|  |  |  |
|  |  | // Return |
|  |  | $this->getState()->hydrate([ |
| Expand Down | |  |

30 changes: 16 additions & 14 deletions

30
[lib/Factory/SessionFactory.php](#diff-80a4f77864aa498889018c6ca6aa0e6bfd7cc854f99d0eae27f8d81af19f537b "lib/Factory/SessionFactory.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/lib/Factory/SessionFactory.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,8 @@ |
|  |  | <?php |
|  |  | /\* |
|  |  | \* Copyright (c) 2022 Xibo Signage Ltd |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - http://www.xibo.org.uk |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
|  |  | \* This file is part of Xibo. |
|  |  | \* |
| Expand All | | @@ -26,7 +26,6 @@ |
|  |  |  |
|  |  | use Xibo\Entity\Session; |
|  |  | use Xibo\Helper\DateFormatHelper; |
|  |  | use Xibo\Support\Exception\NotFoundException; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Class SessionFactory |
| Expand All | | @@ -43,18 +42,14 @@ public function createEmpty() |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @param $sessionId |
|  |  | \* @return Session |
|  |  | \* @throws NotFoundException |
|  |  | \* @param int $userId |
|  |  | \*/ |
|  |  | public function getById($sessionId) |
|  |  | public function expireByUserId($userId): void |
|  |  | { |
|  |  | $session = $this->query(null, ['sessionId' => $sessionId]); |
|  |  |  |
|  |  | if (count($session) <= 0) |
|  |  | throw new NotFoundException(); |
|  |  |  |
|  |  | return $session[0]; |
|  |  | $this->getStore()->update( |
|  |  | 'UPDATE `session` SET IsExpired = 1 WHERE userID = :userId ', |
|  |  | ['userId' => $userId] |
|  |  | ); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -143,7 +138,14 @@ public function query($sortOrder = null, $filterBy = []) |
|  |  |  |
|  |  |  |
|  |  | foreach ($this->getStore()->select($sql, $params) as $row) { |
|  |  | $entries[] = $this->createEmpty()->hydrate($row, ['stringProperties' => ['sessionId']]); |
|  |  | $session = $this->createEmpty()->hydrate($row, [ |
|  |  | 'stringProperties' => ['sessionId'], |
|  |  | 'intProperties' => ['isExpired'] |
|  |  | ]); |
|  |  | $session->userAgent = htmlspecialchars($session->userAgent); |
|  |  | $session->remoteAddress = filter\_var($session->remoteAddress, FILTER\_VALIDATE\_IP); |
|  |  | $session->excludeProperty('sessionId'); |
|  |  | $entries[] = $session; |
|  |  | } |
|  |  |  |
|  |  | // Paging |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[lib/Helper/Environment.php](#diff-188bcf038c69f05fedd411855451d336591ddda3baf8ea9c165476184fd4bcd9 "lib/Helper/Environment.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/lib/Helper/Environment.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -30,7 +30,7 @@ |
|  |  | \*/ |
|  |  | class Environment |
|  |  | { |
|  |  | public static $WEBSITE\_VERSION\_NAME = '3.3.9'; |
|  |  | public static $WEBSITE\_VERSION\_NAME = '3.3.10'; |
|  |  | public static $XMDS\_VERSION = '6'; |
|  |  | public static $XLF\_VERSION = 3; |
|  |  | public static $VERSION\_REQUIRED = '7.2.9'; |
| Expand Down | |  |

13 changes: 7 additions & 6 deletions

13
[lib/Helper/Session.php](#diff-838c43181f6646907c8f3ac29dcb141494e178be50e2d81a2c5bf3d56911fd3f "lib/Helper/Session.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/lib/Helper/Session.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,14 +1,15 @@ |
|  |  | <?php |
|  |  | /\* |
|  |  | \* Xibo - Digital Signage - http://www.xibo.org.uk |
|  |  | \* Copyright (C) 2006-2018 Spring Signage Ltd |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
|  |  | \* This file is part of Xibo. |
|  |  | \* |
|  |  | \* Xibo is free software: you can redistribute it and/or modify |
|  |  | \* it under the terms of the GNU Affero General Public License as published by |
|  |  | \* the Free Software Foundation, either version 3 of the License, or |
|  |  | \* any later version. |
|  |  | \* any later version. |
|  |  | \* |
|  |  | \* Xibo is distributed in the hope that it will be useful, |
|  |  | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
| Expand Down  Expand Up | | @@ -171,7 +172,7 @@ function read($key) |
|  |  | $data = ''; |
|  |  | $this->key = $key; |
|  |  |  |
|  |  | $userAgent = substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253); |
|  |  | $userAgent = substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253); |
|  |  |  |
|  |  | try { |
|  |  | $dbh = $this->getDb(); |
| Expand Down  Expand Up | | @@ -421,7 +422,7 @@ private function insertSession($key, $data, $lastAccessed, $expiry) |
|  |  | 'lastAccessed' => Carbon::createFromTimestamp($lastAccessed)->format(DateFormatHelper::getSystemFormat()), |
|  |  | 'userId' => $this->userId, |
|  |  | 'expired' => ($this->expired) ? 1 : 0, |
|  |  | 'useragent' => substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253), |
|  |  | 'useragent' => substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253), |
|  |  | 'remoteaddr' => $this->getIp() |
|  |  | ]; |
|  |  |  |
| Expand Down  Expand Up | | @@ -470,7 +471,7 @@ private function getIp() |
|  |  | $clientIp = ''; |
|  |  | $keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR'); |
|  |  | foreach ($keys as $key) { |
|  |  | if (isset($\_SERVER[$key])) { |
|  |  | if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) { |
|  |  | $clientIp = $\_SERVER[$key]; |
|  |  | break; |
|  |  | } |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[lib/Xmds/Soap.php](#diff-2b0ae90ef679d745be101fff0a160e0a5844416ac322c9a6e4e64ef56de3bf65 "lib/Xmds/Soap.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/lib/Xmds/Soap.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,8 @@ |
|  |  | <?php |
|  |  | /\* |
|  |  | \* Copyright (C) 2023 Xibo Signage Ltd |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - http://www.xibo.org.uk |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
|  |  | \* This file is part of Xibo. |
|  |  | \* |
| Expand Down  Expand Up | | @@ -2230,7 +2230,7 @@ protected function getIp() |
|  |  |  |
|  |  | $keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR'); |
|  |  | foreach ($keys as $key) { |
|  |  | if (isset($\_SERVER[$key])) { |
|  |  | if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) { |
|  |  | $clientIp = $\_SERVER[$key]; |
|  |  | break; |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[views/sessions-form-confirm-logout.twig](#diff-4a80aaaa6e5f304f41770258019a5c3d82db41652ae3f299bf145e4489d9a496 "views/sessions-form-confirm-logout.twig")

Show comments

[View file](/xibosignage/xibo-cms/blob/3b93636aa7aea07d1f7dfa36b63b773ac16d7cde/views/sessions-form-confirm-logout.twig)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -37,7 +37,7 @@ |
|  |  | {% block formHtml %} |
|  |  | <div class="row"> |
|  |  | <div class="col-md-12"> |
|  |  | <form id="sessionsConfirmLogoutForm" class="XiboForm form-horizontal" method="delete" action="{{ url\_for("sessions.confirm.logout", {id: sessionId}) }}"> |
|  |  | <form id="sessionsConfirmLogoutForm" class="XiboForm form-horizontal" method="delete" action="{{ url\_for("sessions.confirm.logout", {id: userId}) }}"> |
|  |  | {% set message %}{% trans "Are you sure you want to logout this user?" %}{% endset %} |
|  |  | {{ forms.message(message) }} |
|  |  | </form> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `3b93636`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F3b93636aa7aea07d1f7dfa36b63b773ac16d7cde) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_197c0d47_20250111_000524.html ===
diff --git a/lib/Controller/Sessions.php b/lib/Controller/Sessions.php
index 2077860ab1..cd7d2e50dd 100644
--- a/lib/Controller/Sessions.php
+++ b/lib/Controller/Sessions.php
@@ -88,11 +88,11 @@ function grid()
$row->includeProperty('buttons');
// Edit
- $row->buttons[] = array(
+ /\*$row->buttons[] = array(
'id' => 'sessions\_button\_logout',
'url' => $this->urlFor('sessions.confirm.logout.form', ['id' => $row->sessionId]),
'text' => \_\_('Logout')
- );
+ );\*/
}
}
diff --git a/lib/Factory/SessionFactory.php b/lib/Factory/SessionFactory.php
index 96bb38ecb5..abc22c5bcc 100644
--- a/lib/Factory/SessionFactory.php
+++ b/lib/Factory/SessionFactory.php
@@ -150,7 +150,14 @@ public function query($sortOrder = null, $filterBy = [])
foreach ($this->getStore()->select($sql, $params) as $row) {
- $entries[] = $this->createEmpty()->hydrate($row, ['stringProperties' => ['sessionId']]);
+ $session = $this->createEmpty()->hydrate($row, [
+ 'stringProperties' => ['sessionId'],
+ 'intProperties' => ['isExpired']
+ ]);
+ $session->userAgent = htmlspecialchars($session->userAgent);
+ $session->remoteAddress = filter\_var($session->remoteAddress, FILTER\_VALIDATE\_IP);
+ $session->excludeProperty('sessionId');
+ $entries[] = $session;
}
// Paging
diff --git a/lib/Helper/Session.php b/lib/Helper/Session.php
index b977b82425..4632eecaef 100644
--- a/lib/Helper/Session.php
+++ b/lib/Helper/Session.php
@@ -170,7 +170,7 @@ function read($key)
$data = '';
$this->key = $key;
- $userAgent = substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253);
+ $userAgent = substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253);
try {
$dbh = $this->getDb();
@@ -420,7 +420,7 @@ private function insertSession($key, $data, $lastAccessed, $expiry)
'lastAccessed' => date('Y-m-d H:i:s', $lastAccessed),
'userId' => $this->userId,
'expired' => ($this->expired) ? 1 : 0,
- 'useragent' => substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253),
+ 'useragent' => substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253),
'remoteaddr' => $this->getIp()
];
@@ -469,7 +469,7 @@ private function getIp()
$clientIp = '';
$keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR');
foreach ($keys as $key) {
- if (isset($\_SERVER[$key])) {
+ if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) {
$clientIp = $\_SERVER[$key];
break;
}
diff --git a/lib/Xmds/Soap.php b/lib/Xmds/Soap.php
index 6e351fd447..b4716570d4 100644
--- a/lib/Xmds/Soap.php
+++ b/lib/Xmds/Soap.php
@@ -1772,7 +1772,7 @@ protected function getIp()
$keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR');
foreach ($keys as $key) {
- if (isset($\_SERVER[$key])) {
+ if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) {
$clientIp = $\_SERVER[$key];
break;
}


=== Content from github.com_254ca9df_20250111_000527.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=xibosignage%2Fxibo-cms)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[xibosignage](/xibosignage)
/
**[xibo-cms](/xibosignage/xibo-cms)**
Public

* [Notifications](/login?return_to=%2Fxibosignage%2Fxibo-cms) You must be signed in to change notification settings
* [Fork
  284](/login?return_to=%2Fxibosignage%2Fxibo-cms)
* [Star
   394](/login?return_to=%2Fxibosignage%2Fxibo-cms)

* [Code](/xibosignage/xibo-cms)
* [Pull requests
  6](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

Additional navigation options

* [Code](/xibosignage/xibo-cms)
* [Pull requests](/xibosignage/xibo-cms/pulls)
* [Actions](/xibosignage/xibo-cms/actions)
* [Security](/xibosignage/xibo-cms/security)
* [Insights](/xibosignage/xibo-cms/pulse)

## Commit

[Permalink](/xibosignage/xibo-cms/commit/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Improvements to filtering IP and sessions ([#2433](https://github.com/xibosignage/xibo-cms/pull/2433))

[Browse files](/xibosignage/xibo-cms/tree/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7)
Browse the repository at this point in the history

```
* Sessions: Add sanitization in getIp() and disable output of session ID in session grid. [xibosignage/xibo#3375](https://github.com/xibosignage/xibo/issues/3375)
* Bump to 4.0.9
```

* Loading branch information

[![@dasgarner](https://avatars.githubusercontent.com/u/10400067?s=40&v=4)](/dasgarner)

[dasgarner](/xibosignage/xibo-cms/commits?author=dasgarner "View all commits by dasgarner")
authored
Mar 18, 2024

1 parent
[fa1da3f](/xibosignage/xibo-cms/commit/fa1da3f252f66869f9ac7b06d02eb32181388564)

commit 49f018f

 Show file tree

 Hide file tree

Showing
**6 changed files**
with
**35 additions**
and
**39 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* lib

  + Controller

    - lib/Controller/Sessions.php
      [Sessions.php](#diff-7d9a32df793ab6cd508c52695c791330f287dfc602b938e1a63879a58e19110b)
  + Factory

    - lib/Factory/SessionFactory.php
      [SessionFactory.php](#diff-80a4f77864aa498889018c6ca6aa0e6bfd7cc854f99d0eae27f8d81af19f537b)
  + Helper

    - lib/Helper/Environment.php
      [Environment.php](#diff-188bcf038c69f05fedd411855451d336591ddda3baf8ea9c165476184fd4bcd9)
    - lib/Helper/Session.php
      [Session.php](#diff-838c43181f6646907c8f3ac29dcb141494e178be50e2d81a2c5bf3d56911fd3f)
  + Xmds

    - lib/Xmds/Soap.php
      [Soap.php](#diff-2b0ae90ef679d745be101fff0a160e0a5844416ac322c9a6e4e64ef56de3bf65)
* views

  + views/sessions-form-confirm-logout.twig
    [sessions-form-confirm-logout.twig](#diff-4a80aaaa6e5f304f41770258019a5c3d82db41652ae3f299bf145e4489d9a496)

## There are no files selected for viewing

30 changes: 12 additions & 18 deletions

30
[lib/Controller/Sessions.php](#diff-7d9a32df793ab6cd508c52695c791330f287dfc602b938e1a63879a58e19110b "lib/Controller/Sessions.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/lib/Controller/Sessions.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -96,6 +96,11 @@ public function grid(Request $request, Response $response): Response|\Psr\Http\M |
|  |  | if (!$this->isApi($request) && $this->getUser()->isSuperAdmin()) { |
|  |  | $row->includeProperty('buttons'); |
|  |  |  |
|  |  | // No buttons on expired sessions |
|  |  | if ($row->isExpired == 1) { |
|  |  | continue; |
|  |  | } |
|  |  |  |
|  |  | // logout, current user/session |
|  |  | if ($row->userId === $this->getUser()->userId && session\_id() === $row->sessionId) { |
|  |  | $url = $this->urlFor($request, 'logout'); |
| Expand All | | @@ -104,7 +109,7 @@ public function grid(Request $request, Response $response): Response|\Psr\Http\M |
|  |  | $url = $this->urlFor( |
|  |  | $request, |
|  |  | 'sessions.confirm.logout.form', |
|  |  | ['id' => $row->sessionId] |
|  |  | ['id' => $row->userId] |
|  |  | ); |
|  |  | } |
|  |  |  |
| Expand All | | @@ -127,21 +132,21 @@ public function grid(Request $request, Response $response): Response|\Psr\Http\M |
|  |  | \* Confirm Logout Form |
|  |  | \* @param Request $request |
|  |  | \* @param Response $response |
|  |  | \* @param $id |
|  |  | \* @param int $id The UserID |
|  |  | \* @return \Psr\Http\Message\ResponseInterface|Response |
|  |  | \* @throws AccessDeniedException |
|  |  | \* @throws \Xibo\Support\Exception\ControllerNotImplemented |
|  |  | \* @throws \Xibo\Support\Exception\GeneralException |
|  |  | \*/ |
|  |  | function confirmLogoutForm(Request $request, Response $response, $id) |
|  |  | public function confirmLogoutForm(Request $request, Response $response, $id) |
|  |  | { |
|  |  | if ($this->getUser()->userTypeId != 1) { |
|  |  | throw new AccessDeniedException(); |
|  |  | } |
|  |  |  |
|  |  | $this->getState()->template = 'sessions-form-confirm-logout'; |
|  |  | $this->getState()->setData([ |
|  |  | 'sessionId' => $id, |
|  |  | 'userId' => $id, |
|  |  | ]); |
|  |  |  |
|  |  | return $this->render($request, $response); |
| Expand All | | @@ -158,25 +163,14 @@ function confirmLogoutForm(Request $request, Response $response, $id) |
|  |  | \* @throws \Xibo\Support\Exception\GeneralException |
|  |  | \* @throws \Xibo\Support\Exception\NotFoundException |
|  |  | \*/ |
|  |  | function logout(Request $request, Response $response, $id) |
|  |  | public function logout(Request $request, Response $response, $id) |
|  |  | { |
|  |  | if ($this->getUser()->userTypeId != 1) { |
|  |  | throw new AccessDeniedException(); |
|  |  | } |
|  |  |  |
|  |  | $session = $this->sessionFactory->getById($id); |
|  |  |  |
|  |  | if ($session->userId != 0) { |
|  |  | $this->store->update( |
|  |  | 'UPDATE `session` SET IsExpired = 1 WHERE userID = :userId ', |
|  |  | ['userId' => $session->userId] |
|  |  | ); |
|  |  | } else { |
|  |  | $this->store->update( |
|  |  | 'UPDATE `session` SET IsExpired = 1 WHERE session\_id = :session\_id ', |
|  |  | ['session\_id' => $id] |
|  |  | ); |
|  |  | } |
|  |  | // We log out all of this user's sessions. |
|  |  | $this->sessionFactory->expireByUserId($id); |
|  |  |  |
|  |  | // Return |
|  |  | $this->getState()->hydrate([ |
| Expand Down | |  |

30 changes: 16 additions & 14 deletions

30
[lib/Factory/SessionFactory.php](#diff-80a4f77864aa498889018c6ca6aa0e6bfd7cc854f99d0eae27f8d81af19f537b "lib/Factory/SessionFactory.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/lib/Factory/SessionFactory.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,8 +1,8 @@ |
|  |  | <?php |
|  |  | /\* |
|  |  | \* Copyright (c) 2022 Xibo Signage Ltd |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - http://www.xibo.org.uk |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
|  |  | \* This file is part of Xibo. |
|  |  | \* |
| Expand All | | @@ -26,7 +26,6 @@ |
|  |  |  |
|  |  | use Xibo\Entity\Session; |
|  |  | use Xibo\Helper\DateFormatHelper; |
|  |  | use Xibo\Support\Exception\NotFoundException; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Class SessionFactory |
| Expand All | | @@ -43,18 +42,14 @@ public function createEmpty() |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @param $sessionId |
|  |  | \* @return Session |
|  |  | \* @throws NotFoundException |
|  |  | \* @param int $userId |
|  |  | \*/ |
|  |  | public function getById($sessionId) |
|  |  | public function expireByUserId(int $userId): void |
|  |  | { |
|  |  | $session = $this->query(null, ['sessionId' => $sessionId]); |
|  |  |  |
|  |  | if (count($session) <= 0) |
|  |  | throw new NotFoundException(); |
|  |  |  |
|  |  | return $session[0]; |
|  |  | $this->getStore()->update( |
|  |  | 'UPDATE `session` SET IsExpired = 1 WHERE userID = :userId ', |
|  |  | ['userId' => $userId] |
|  |  | ); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -143,7 +138,14 @@ public function query($sortOrder = null, $filterBy = []) |
|  |  |  |
|  |  |  |
|  |  | foreach ($this->getStore()->select($sql, $params) as $row) { |
|  |  | $entries[] = $this->createEmpty()->hydrate($row, ['stringProperties' => ['sessionId']]); |
|  |  | $session = $this->createEmpty()->hydrate($row, [ |
|  |  | 'stringProperties' => ['sessionId'], |
|  |  | 'intProperties' => ['isExpired'], |
|  |  | ]); |
|  |  | $session->userAgent = htmlspecialchars($session->userAgent); |
|  |  | $session->remoteAddress = filter\_var($session->remoteAddress, FILTER\_VALIDATE\_IP); |
|  |  | $session->excludeProperty('sessionId'); |
|  |  | $entries[] = $session; |
|  |  | } |
|  |  |  |
|  |  | // Paging |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[lib/Helper/Environment.php](#diff-188bcf038c69f05fedd411855451d336591ddda3baf8ea9c165476184fd4bcd9 "lib/Helper/Environment.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/lib/Helper/Environment.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -30,7 +30,7 @@ |
|  |  | \*/ |
|  |  | class Environment |
|  |  | { |
|  |  | public static $WEBSITE\_VERSION\_NAME = '4.0.8'; |
|  |  | public static $WEBSITE\_VERSION\_NAME = '4.0.9'; |
|  |  | public static $XMDS\_VERSION = '7'; |
|  |  | public static $XLF\_VERSION = 4; |
|  |  | public static $VERSION\_REQUIRED = '8.1.0'; |
| Expand Down | |  |

8 changes: 4 additions & 4 deletions

8
[lib/Helper/Session.php](#diff-838c43181f6646907c8f3ac29dcb141494e178be50e2d81a2c5bf3d56911fd3f "lib/Helper/Session.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/lib/Helper/Session.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | <?php |
|  |  | /\* |
|  |  | \* Copyright (C) 2023 Xibo Signage Ltd |
|  |  | \* Copyright (C) 2024 Xibo Signage Ltd |
|  |  | \* |
|  |  | \* Xibo - Digital Signage - https://xibosignage.com |
|  |  | \* |
| Expand Down  Expand Up | | @@ -172,7 +172,7 @@ public function read($key): false|string |
|  |  | $data = ''; |
|  |  | $this->key = $key; |
|  |  |  |
|  |  | $userAgent = substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253); |
|  |  | $userAgent = substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253); |
|  |  |  |
|  |  | try { |
|  |  | $dbh = $this->getDb(); |
| Expand Down  Expand Up | | @@ -422,7 +422,7 @@ private function insertSession($key, $data, $lastAccessed, $expiry) |
|  |  | 'lastAccessed' => Carbon::createFromTimestamp($lastAccessed)->format(DateFormatHelper::getSystemFormat()), |
|  |  | 'userId' => $this->userId, |
|  |  | 'expired' => ($this->expired) ? 1 : 0, |
|  |  | 'useragent' => substr($\_SERVER['HTTP\_USER\_AGENT'], 0, 253), |
|  |  | 'useragent' => substr(htmlspecialchars($\_SERVER['HTTP\_USER\_AGENT']), 0, 253), |
|  |  | 'remoteaddr' => $this->getIp() |
|  |  | ]; |
|  |  |  |
| Expand Down  Expand Up | | @@ -471,7 +471,7 @@ private function getIp() |
|  |  | $clientIp = ''; |
|  |  | $keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR'); |
|  |  | foreach ($keys as $key) { |
|  |  | if (isset($\_SERVER[$key])) { |
|  |  | if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) { |
|  |  | $clientIp = $\_SERVER[$key]; |
|  |  | break; |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[lib/Xmds/Soap.php](#diff-2b0ae90ef679d745be101fff0a160e0a5844416ac322c9a6e4e64ef56de3bf65 "lib/Xmds/Soap.php")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/lib/Xmds/Soap.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2640,7 +2640,7 @@ protected function getIp() |
|  |  |  |
|  |  | $keys = array('X\_FORWARDED\_FOR', 'HTTP\_X\_FORWARDED\_FOR', 'CLIENT\_IP', 'REMOTE\_ADDR'); |
|  |  | foreach ($keys as $key) { |
|  |  | if (isset($\_SERVER[$key])) { |
|  |  | if (isset($\_SERVER[$key]) && filter\_var($\_SERVER[$key], FILTER\_VALIDATE\_IP) !== false) { |
|  |  | $clientIp = $\_SERVER[$key]; |
|  |  | break; |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[views/sessions-form-confirm-logout.twig](#diff-4a80aaaa6e5f304f41770258019a5c3d82db41652ae3f299bf145e4489d9a496 "views/sessions-form-confirm-logout.twig")

Show comments

[View file](/xibosignage/xibo-cms/blob/49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7/views/sessions-form-confirm-logout.twig)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -36,7 +36,7 @@ |
|  |  | {% block formHtml %} |
|  |  | <div class="row"> |
|  |  | <div class="col-md-12"> |
|  |  | <form id="sessionsConfirmLogoutForm" class="XiboForm form-horizontal" method="delete" action="{{ url\_for("sessions.confirm.logout", {id: sessionId}) }}"> |
|  |  | <form id="sessionsConfirmLogoutForm" class="XiboForm form-horizontal" method="delete" action="{{ url\_for("sessions.confirm.logout", {id: userId}) }}"> |
|  |  | {% set message %}{% trans "Are you sure you want to logout this user?" %}{% endset %} |
|  |  | {{ forms.message(message) }} |
|  |  | </form> |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `49f018f`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fxibosignage%2Fxibo-cms%2Fcommit%2F49f018fd9fe64fcd417d7c2ef96078bd7b2b88b7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


