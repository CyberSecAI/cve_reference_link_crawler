=== Content from git.kernel.org_0fd54326_20250110_201726.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=099f0af9d98231bb74956ce92508e87cbcb896be)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=099f0af9d98231bb74956ce92508e87cbcb896be)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=099f0af9d98231bb74956ce92508e87cbcb896be)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=099f0af9d98231bb74956ce92508e87cbcb896be)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jani Nikula <jani.nikula@intel.com> | 2023-09-14 16:10:15 +0300 |
| --- | --- | --- |
| committer | Neil Armstrong <neil.armstrong@linaro.org> | 2023-09-20 15:44:31 +0200 |
| commit | [099f0af9d98231bb74956ce92508e87cbcb896be](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=099f0af9d98231bb74956ce92508e87cbcb896be) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=099f0af9d98231bb74956ce92508e87cbcb896be)) | |
| tree | [1b3cf3a7480f8d27c4917c62b64c5f3f478a762c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=099f0af9d98231bb74956ce92508e87cbcb896be) | |
| parent | [e2ee60ad9aba41afb68f4387574610ee390029f1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e2ee60ad9aba41afb68f4387574610ee390029f1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=099f0af9d98231bb74956ce92508e87cbcb896be&id2=e2ee60ad9aba41afb68f4387574610ee390029f1)) | |
| download | [linux-099f0af9d98231bb74956ce92508e87cbcb896be.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-099f0af9d98231bb74956ce92508e87cbcb896be.tar.gz) | |

drm/meson: fix memory leak on ->hpd\_notify callbackThe EDID returned by drm\_bridge\_get\_edid() needs to be freed.
Fixes: 0af5e0b41110 ("drm/meson: encoder\_hdmi: switch to bridge DRM\_BRIDGE\_ATTACH\_NO\_CONNECTOR")
Cc: Neil Armstrong <narmstrong@baylibre.com>
Cc: Sam Ravnborg <sam@ravnborg.org>
Cc: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Cc: Neil Armstrong <neil.armstrong@linaro.org>
Cc: Kevin Hilman <khilman@baylibre.com>
Cc: Jerome Brunet <jbrunet@baylibre.com>
Cc: dri-devel@lists.freedesktop.org
Cc: linux-amlogic@lists.infradead.org
Cc: linux-arm-kernel@lists.infradead.org
Cc: stable@vger.kernel.org # v5.17+
Signed-off-by: Jani Nikula <jani.nikula@intel.com>
Reviewed-by: Neil Armstrong <neil.armstrong@linaro.org>
Signed-off-by: Neil Armstrong <neil.armstrong@linaro.org>
Link: [https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula@intel.com](https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula%40intel.com)
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=099f0af9d98231bb74956ce92508e87cbcb896be)

| -rw-r--r-- | [drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=099f0af9d98231bb74956ce92508e87cbcb896be) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/meson/meson\_encoder\_hdmi.c b/drivers/gpu/drm/meson/meson\_encoder\_hdmi.cindex 9913971fa5d20b..25ea765586908f 100644--- a/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=e2ee60ad9aba41afb68f4387574610ee390029f1)+++ b/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=099f0af9d98231bb74956ce92508e87cbcb896be)@@ -334,6 +334,8 @@ static void meson\_encoder\_hdmi\_hpd\_notify(struct drm\_bridge \*bridge, return;  cec\_notifier\_set\_phys\_addr\_from\_edid(encoder\_hdmi->cec\_notifier, edid);++ kfree(edid); } else cec\_notifier\_phys\_addr\_invalidate(encoder\_hdmi->cec\_notifier); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 20:16:03 +0000



=== Content from git.kernel.org_5f302d10_20250110_201726.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=43b63e088887a8b82750e16762f77100ffa76cba)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=43b63e088887a8b82750e16762f77100ffa76cba)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=43b63e088887a8b82750e16762f77100ffa76cba)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=43b63e088887a8b82750e16762f77100ffa76cba)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jani Nikula <jani.nikula@intel.com> | 2023-09-14 16:10:15 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-10-06 13:16:29 +0200 |
| commit | [43b63e088887a8b82750e16762f77100ffa76cba](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=43b63e088887a8b82750e16762f77100ffa76cba) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=43b63e088887a8b82750e16762f77100ffa76cba)) | |
| tree | [9427a30e7ffe38914f3ea7fd2b2c0aec2b51b545](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=43b63e088887a8b82750e16762f77100ffa76cba) | |
| parent | [79aec38ba852ef1219e6e7c65052a14f343b7da7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=79aec38ba852ef1219e6e7c65052a14f343b7da7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=43b63e088887a8b82750e16762f77100ffa76cba&id2=79aec38ba852ef1219e6e7c65052a14f343b7da7)) | |
| download | [linux-43b63e088887a8b82750e16762f77100ffa76cba.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-43b63e088887a8b82750e16762f77100ffa76cba.tar.gz) | |

drm/meson: fix memory leak on ->hpd\_notify callbackcommit 099f0af9d98231bb74956ce92508e87cbcb896be upstream.
The EDID returned by drm\_bridge\_get\_edid() needs to be freed.
Fixes: 0af5e0b41110 ("drm/meson: encoder\_hdmi: switch to bridge DRM\_BRIDGE\_ATTACH\_NO\_CONNECTOR")
Cc: Neil Armstrong <narmstrong@baylibre.com>
Cc: Sam Ravnborg <sam@ravnborg.org>
Cc: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Cc: Neil Armstrong <neil.armstrong@linaro.org>
Cc: Kevin Hilman <khilman@baylibre.com>
Cc: Jerome Brunet <jbrunet@baylibre.com>
Cc: dri-devel@lists.freedesktop.org
Cc: linux-amlogic@lists.infradead.org
Cc: linux-arm-kernel@lists.infradead.org
Cc: stable@vger.kernel.org # v5.17+
Signed-off-by: Jani Nikula <jani.nikula@intel.com>
Reviewed-by: Neil Armstrong <neil.armstrong@linaro.org>
Signed-off-by: Neil Armstrong <neil.armstrong@linaro.org>
Link: [https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula@intel.com](https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula%40intel.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=43b63e088887a8b82750e16762f77100ffa76cba)

| -rw-r--r-- | [drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=43b63e088887a8b82750e16762f77100ffa76cba) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/meson/meson\_encoder\_hdmi.c b/drivers/gpu/drm/meson/meson\_encoder\_hdmi.cindex 53231bfdf7e247..b14e6e507c61bf 100644--- a/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=79aec38ba852ef1219e6e7c65052a14f343b7da7)+++ b/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=43b63e088887a8b82750e16762f77100ffa76cba)@@ -332,6 +332,8 @@ static void meson\_encoder\_hdmi\_hpd\_notify(struct drm\_bridge \*bridge, return;  cec\_notifier\_set\_phys\_addr\_from\_edid(encoder\_hdmi->cec\_notifier, edid);++ kfree(edid); } else cec\_notifier\_phys\_addr\_invalidate(encoder\_hdmi->cec\_notifier); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 20:16:04 +0000



=== Content from git.kernel.org_f244d89d_20250110_201727.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jani Nikula <jani.nikula@intel.com> | 2023-09-14 16:10:15 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-10-06 13:18:24 +0200 |
| commit | [66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)) | |
| tree | [2ac2c4db5c2794a2db45c9f78dbd2facda67ce0f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc) | |
| parent | [91f1f025b6d920cda3fd13a24360254ac51a1475](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=91f1f025b6d920cda3fd13a24360254ac51a1475) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc&id2=91f1f025b6d920cda3fd13a24360254ac51a1475)) | |
| download | [linux-66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc.tar.gz) | |

drm/meson: fix memory leak on ->hpd\_notify callbackcommit 099f0af9d98231bb74956ce92508e87cbcb896be upstream.
The EDID returned by drm\_bridge\_get\_edid() needs to be freed.
Fixes: 0af5e0b41110 ("drm/meson: encoder\_hdmi: switch to bridge DRM\_BRIDGE\_ATTACH\_NO\_CONNECTOR")
Cc: Neil Armstrong <narmstrong@baylibre.com>
Cc: Sam Ravnborg <sam@ravnborg.org>
Cc: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Cc: Neil Armstrong <neil.armstrong@linaro.org>
Cc: Kevin Hilman <khilman@baylibre.com>
Cc: Jerome Brunet <jbrunet@baylibre.com>
Cc: dri-devel@lists.freedesktop.org
Cc: linux-amlogic@lists.infradead.org
Cc: linux-arm-kernel@lists.infradead.org
Cc: stable@vger.kernel.org # v5.17+
Signed-off-by: Jani Nikula <jani.nikula@intel.com>
Reviewed-by: Neil Armstrong <neil.armstrong@linaro.org>
Signed-off-by: Neil Armstrong <neil.armstrong@linaro.org>
Link: [https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula@intel.com](https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula%40intel.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)

| -rw-r--r-- | [drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/meson/meson\_encoder\_hdmi.c b/drivers/gpu/drm/meson/meson\_encoder\_hdmi.cindex a7692584487ccd..b075c9bc3a5000 100644--- a/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=91f1f025b6d920cda3fd13a24360254ac51a1475)+++ b/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=66cb6d74f5a1b6eafe3370b56bf2cb575a91acbc)@@ -326,6 +326,8 @@ static void meson\_encoder\_hdmi\_hpd\_notify(struct drm\_bridge \*bridge, return;  cec\_notifier\_set\_phys\_addr\_from\_edid(encoder\_hdmi->cec\_notifier, edid);++ kfree(edid); } else cec\_notifier\_phys\_addr\_invalidate(encoder\_hdmi->cec\_notifier); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 20:16:04 +0000



=== Content from git.kernel.org_9ea5d2c0_20250110_201728.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jani Nikula <jani.nikula@intel.com> | 2023-09-14 16:10:15 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2023-10-06 14:57:06 +0200 |
| commit | [ee335e0094add7fc2c7034e0534e1920d61d2078](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ee335e0094add7fc2c7034e0534e1920d61d2078) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)) | |
| tree | [21aceeadd5a2c5bc45c24870995c6d6c109be7da](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ee335e0094add7fc2c7034e0534e1920d61d2078) | |
| parent | [b60028c81e463b0930191a4fa2ba770ff6d40e3a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b60028c81e463b0930191a4fa2ba770ff6d40e3a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ee335e0094add7fc2c7034e0534e1920d61d2078&id2=b60028c81e463b0930191a4fa2ba770ff6d40e3a)) | |
| download | [linux-ee335e0094add7fc2c7034e0534e1920d61d2078.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ee335e0094add7fc2c7034e0534e1920d61d2078.tar.gz) | |

drm/meson: fix memory leak on ->hpd\_notify callbackcommit 099f0af9d98231bb74956ce92508e87cbcb896be upstream.
The EDID returned by drm\_bridge\_get\_edid() needs to be freed.
Fixes: 0af5e0b41110 ("drm/meson: encoder\_hdmi: switch to bridge DRM\_BRIDGE\_ATTACH\_NO\_CONNECTOR")
Cc: Neil Armstrong <narmstrong@baylibre.com>
Cc: Sam Ravnborg <sam@ravnborg.org>
Cc: Martin Blumenstingl <martin.blumenstingl@googlemail.com>
Cc: Neil Armstrong <neil.armstrong@linaro.org>
Cc: Kevin Hilman <khilman@baylibre.com>
Cc: Jerome Brunet <jbrunet@baylibre.com>
Cc: dri-devel@lists.freedesktop.org
Cc: linux-amlogic@lists.infradead.org
Cc: linux-arm-kernel@lists.infradead.org
Cc: stable@vger.kernel.org # v5.17+
Signed-off-by: Jani Nikula <jani.nikula@intel.com>
Reviewed-by: Neil Armstrong <neil.armstrong@linaro.org>
Signed-off-by: Neil Armstrong <neil.armstrong@linaro.org>
Link: [https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula@intel.com](https://patchwork.freedesktop.org/patch/msgid/20230914131015.2472029-1-jani.nikula%40intel.com)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ee335e0094add7fc2c7034e0534e1920d61d2078)

| -rw-r--r-- | [drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=ee335e0094add7fc2c7034e0534e1920d61d2078) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/meson/meson\_encoder\_hdmi.c b/drivers/gpu/drm/meson/meson\_encoder\_hdmi.cindex 53231bfdf7e247..b14e6e507c61bf 100644--- a/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=b60028c81e463b0930191a4fa2ba770ff6d40e3a)+++ b/[drivers/gpu/drm/meson/meson\_encoder\_hdmi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/meson/meson_encoder_hdmi.c?id=ee335e0094add7fc2c7034e0534e1920d61d2078)@@ -332,6 +332,8 @@ static void meson\_encoder\_hdmi\_hpd\_notify(struct drm\_bridge \*bridge, return;  cec\_notifier\_set\_phys\_addr\_from\_edid(encoder\_hdmi->cec\_notifier, edid);++ kfree(edid); } else cec\_notifier\_phys\_addr\_invalidate(encoder\_hdmi->cec\_notifier); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 20:16:05 +0000


