

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0c3601a2fbfb265ce283651480e30c8e60459112)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c3601a2fbfb265ce283651480e30c8e60459112)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c3601a2fbfb265ce283651480e30c8e60459112)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3601a2fbfb265ce283651480e30c8e60459112)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Cong Liu <liucong2@kylinos.cn> | 2023-09-26 13:56:17 +0800 |
| --- | --- | --- |
| committer | Alex Deucher <alexander.deucher@amd.com> | 2023-09-28 15:36:57 -0400 |
| commit | [0c3601a2fbfb265ce283651480e30c8e60459112](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c3601a2fbfb265ce283651480e30c8e60459112) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0c3601a2fbfb265ce283651480e30c8e60459112)) | |
| tree | [4489f819da7a6c5934bc65b6c2be1944afff3b85](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c3601a2fbfb265ce283651480e30c8e60459112) | |
| parent | [554340133e4f596fc40fd75a58f9cf18b6b8dbbc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=554340133e4f596fc40fd75a58f9cf18b6b8dbbc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3601a2fbfb265ce283651480e30c8e60459112&id2=554340133e4f596fc40fd75a58f9cf18b6b8dbbc)) | |
| download | [linux-0c3601a2fbfb265ce283651480e30c8e60459112.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0c3601a2fbfb265ce283651480e30c8e60459112.tar.gz) | |

drm/amd/display: Fix null pointer dereference in error messageThis patch fixes a null pointer dereference in the error message that is
printed when the Display Core (DC) fails to initialize. The original
message includes the DC version number, which is undefined if the DC is
not initialized.
Fixes: 9788d087caff ("drm/amd/display: improve the message printed when loading DC")
Signed-off-by: Cong Liu <liucong2@kylinos.cn>
Reviewed-by: Harry Wentland <harry.wentland@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3601a2fbfb265ce283651480e30c8e60459112)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/amdgpu\_dm/amdgpu\_dm.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c?id=0c3601a2fbfb265ce283651480e30c8e60459112) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 2 deletions

| diff --git a/drivers/gpu/drm/amd/display/amdgpu\_dm/amdgpu\_dm.c b/drivers/gpu/drm/amd/display/amdgpu\_dm/amdgpu\_dm.cindex c53daaddc888a5..62566a26fcd677 100644--- a/[drivers/gpu/drm/amd/display/amdgpu\_dm/amdgpu\_dm.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c?id=554340133e4f596fc40fd75a58f9cf18b6b8dbbc)+++ b/[drivers/gpu/drm/amd/display/amdgpu\_dm/amdgpu\_dm.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/amdgpu_dm/amdgpu_dm.c?id=0c3601a2fbfb265ce283651480e30c8e60459112)@@ -1708,8 +1708,7 @@ static int amdgpu\_dm\_init(struct amdgpu\_device \*adev) DRM\_INFO("Display Core v%s initialized on %s\n", DC\_VER, dce\_version\_to\_string(adev->dm.dc->ctx->dce\_version)); } else {- DRM\_INFO("Display Core v%s failed to initialize on %s\n", DC\_VER,- dce\_version\_to\_string(adev->dm.dc->ctx->dce\_version));+ DRM\_INFO("Display Core failed to initialize with v%s!\n", DC\_VER); goto error; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 03:36:29 +0000

