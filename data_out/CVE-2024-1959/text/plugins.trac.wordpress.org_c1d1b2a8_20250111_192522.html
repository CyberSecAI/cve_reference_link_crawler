

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3064109%2540social-warfare%26old%3D3064109%2540social-warfare)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3056046/social-warfare "Changeset 3056046 for social-warfare")
* [Next Change](/changeset/3064110/social-warfare "Changeset 3064110 for social-warfare") →

---

# Changeset [3064109](/changeset/3064109 "Show full changeset") for [social-warfare](/browser/social-warfare?rev=3064109 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
04/03/2024 08:18:00 PM
([9 months](/timeline?from=2024-04-03T20%3A18%3A00Z&precision=second "See timeline at 04/03/2024 08:18:00 PM") ago)

Author:
WarfarePlugins
Message:
# 4.4.6.2 (3 Apr 2024)

* Implemented stricter attribute sanitization in SWP\_Buttons\_Panel\_Shortcode class to enhance security and mitigate the risk of cross-site scripting (XSS) attacks through shortcode attributes. This update introduces a more rigorous sanitization process for all attributes passed through the shortcode handling mechanism. The `sanitize_attributes` method now applies basic sanitization using `sanitize_text_field`, followed by a secondary sanitization step using a regex pattern to remove any remaining special characters that could be used in malicious injections.
  + Enhanced `sanitize_attributes` method in SWP\_Buttons\_Panel\_Shortcode class
  + Added regex pattern to remove special characters from attribute values after initial sanitization

Location:
[social-warfare/trunk](/browser/social-warfare/trunk?rev=3064109)
Files:

13 edited

* [lib/Social\_Warfare.php](/browser/social-warfare/trunk/lib/Social_Warfare.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [lib/buttons-panel/SWP\_Buttons\_Panel\_Shortcode.php](/browser/social-warfare/trunk/lib/buttons-panel/SWP_Buttons_Panel_Shortcode.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [lib/options/SWP\_Option.php](/browser/social-warfare/trunk/lib/options/SWP_Option.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [lib/options/SWP\_Option\_Abstract.php](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109 "Show entry in browser")
  (modified)
  ([6 diffs](#file3 "Show differences"))
* [lib/options/SWP\_Option\_Icons.php](/browser/social-warfare/trunk/lib/options/SWP_Option_Icons.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [lib/options/SWP\_Option\_Text.php](/browser/social-warfare/trunk/lib/options/SWP_Option_Text.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [lib/options/SWP\_User\_Options.php](/browser/social-warfare/trunk/lib/options/SWP_User_Options.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [lib/social-networks/SWP\_Facebook.php](/browser/social-warfare/trunk/lib/social-networks/SWP_Facebook.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [lib/utilities/SWP\_Database\_Migration.php](/browser/social-warfare/trunk/lib/utilities/SWP_Database_Migration.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [lib/utilities/SWP\_Notice.php](/browser/social-warfare/trunk/lib/utilities/SWP_Notice.php?rev=3064109 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [lib/widgets/SWP\_Popular\_Posts\_Widget.php](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3064109 "Show entry in browser")
  (modified)
  ([3 diffs](#file10 "Show differences"))
* [readme.txt](/browser/social-warfare/trunk/readme.txt?rev=3064109 "Show entry in browser")
  (modified)
  ([2 diffs](#file11 "Show differences"))
* [social-warfare.php](/browser/social-warfare/trunk/social-warfare.php?rev=3064109 "Show entry in browser")
  (modified)
  ([2 diffs](#file12 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [social-warfare/trunk/lib/Social\_Warfare.php](/changeset/3064109/social-warfare/trunk/lib/Social_Warfare.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/Social_Warfare.php")

  | [r3049980](/browser/social-warfare/trunk/lib/Social_Warfare.php?rev=3049980#L21 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/Social_Warfare.php?rev=3064109#L21 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 |  |
  | 22 | 22 | /\*\* |
  |  | 23 | \* Declare the core\_version property. |
  |  | 24 | \* |
  |  | 25 | \* @var string |
  |  | 26 | \*/ |
  |  | 27 | public $core\_version; |
  |  | 28 |  |
  |  | 29 | /\*\* |
  | 23 | 30 | \* The magic method used to instantiate this class. |
  | 24 | 31 | \* |
* ## [social-warfare/trunk/lib/buttons-panel/SWP\_Buttons\_Panel\_Shortcode.php](/changeset/3064109/social-warfare/trunk/lib/buttons-panel/SWP_Buttons_Panel_Shortcode.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/buttons-panel/SWP_Buttons_Panel_Shortcode.php")

  | [r3049980](/browser/social-warfare/trunk/lib/buttons-panel/SWP_Buttons_Panel_Shortcode.php?rev=3049980#L55 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/buttons-panel/SWP_Buttons_Panel_Shortcode.php?rev=3064109#L55 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 | \* |
  | 56 | 56 | \*/ |
  | 57 |  | public function buttons\_shortcode( $args ) { |
  |  | 57 | public function buttons\_shortcode( $atts ) { |
  |  | 58 | $atts      = (array) $atts; |
  |  | 59 | $safe\_atts = $this->sanitize\_attributes( $atts ); |
  | 58 | 60 |  |
  | 59 |  | if ( ! is\_array( $args ) ) : |
  | 60 |  | $args = array(); |
  | 61 |  | endif; |
  | 62 |  |  |
  | 63 |  | $buttons\_panel = new SWP\_Buttons\_Panel( $args, true ); |
  |  | 61 | $buttons\_panel = new SWP\_Buttons\_Panel( $safe\_atts, true ); |
  | 64 | 62 | return $buttons\_panel->render\_html(); |
  | 65 | 63 | } |
  |  | 64 |  |
  |  | 65 | private function sanitize\_attributes( $atts ) { |
  |  | 66 | $safe\_atts = array(); |
  |  | 67 |  |
  |  | 68 | foreach ( $atts as $attribute => $value ) { |
  |  | 69 | $cleaned\_value = sanitize\_text\_field( $value ); |
  |  | 70 | $cleaned\_value = preg\_replace( '/[^a-zA-Z0-9\_\-#]/', '', $cleaned\_value ); |
  |  | 71 |  |
  |  | 72 | $safe\_atts[ $attribute ] = $cleaned\_value; |
  |  | 73 | } |
  |  | 74 |  |
  |  | 75 | return $safe\_atts; |
  |  | 76 | } |
  | 66 | 77 | } |
* ## [social-warfare/trunk/lib/options/SWP\_Option.php](/changeset/3064109/social-warfare/trunk/lib/options/SWP_Option.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/options/SWP_Option.php")

  | [r3049980](/browser/social-warfare/trunk/lib/options/SWP_Option.php?rev=3049980#L76 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/options/SWP_Option.php?rev=3064109#L76 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 76 | 76 | public $swp\_registration; |
  | 77 | 77 |  |
  |  | 78 | /\*\* |
  |  | 79 | \* The CSS class representing the size (width) of the parent container. |
  |  | 80 | \* This property was dynamically created, but now is explicitly declared to avoid deprecation warnings. |
  |  | 81 | \* |
  |  | 82 | \* @var string $parent\_size |
  |  | 83 | \*/ |
  |  | 84 | public $parent\_size; |
  |  | 85 |  |
  |  | 86 | /\*\* |
  |  | 87 | \* Indicates the dependency of this option on another. |
  |  | 88 | \* Declared to prevent dynamic property creation and avoid deprecation warnings. |
  |  | 89 | \* |
  |  | 90 | \* @var stdClass |
  |  | 91 | \*/ |
  |  | 92 | protected $dependency; |
  | 78 | 93 |  |
  | 79 | 94 | /\*\* |
* ## [social-warfare/trunk/lib/options/SWP\_Option\_Abstract.php](/changeset/3064109/social-warfare/trunk/lib/options/SWP_Option_Abstract.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/options/SWP_Option_Abstract.php")

  | [r3049980](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L21 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L21 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 | use SWP\_Debug\_Trait; |
  | 22 | 22 |  |
  |  | 23 | /\*\* |
  |  | 24 | \* A collection of the social networks that are available within the plugin. |
  |  | 25 | \* This array is populated at runtime based on the active social networks. |
  |  | 26 | \* |
  |  | 27 | \* @var array |
  |  | 28 | \*/ |
  |  | 29 | protected $networks = array(); |
  | 23 | 30 |  |
  | 24 | 31 | /\*\* |
  | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L31) | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L38) |  |
  | 31 | 38 | \*/ |
  | 32 | 39 | public $name; |
  | 33 |  |  |
  | 34 | 40 |  |
  | 35 | 41 | /\*\* |
  | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L44) | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L50) |  |
  | 44 | 50 | public $type; |
  | 45 | 51 |  |
  | 46 |  |  |
  | 47 | 52 | /\*\* |
  | 48 | 53 | \* Default |
  | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L55) | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L60) |  |
  | 55 | 60 | \*/ |
  | 56 | 61 | public $default; |
  | 57 |  |  |
  | 58 | 62 |  |
  | 59 | 63 | /\*\* |
  | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L85) | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L89) |  |
  | 85 | 89 | public $addon = ''; |
  | 86 | 90 |  |
  | 87 |  |  |
  | 88 | 91 | /\*\* |
  | 89 | 92 | \* Priority |
  | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3049980#L99) | […](/browser/social-warfare/trunk/lib/options/SWP_Option_Abstract.php?rev=3064109#L102) |  |
  | 99 | 102 | public $priority; |
  | 100 | 103 |  |
  |  | 104 | /\*\* |
  |  | 105 | \* The key of this option, used as a unique identifier. |
  |  | 106 | \* |
  |  | 107 | \* @var string |
  |  | 108 | \*/ |
  |  | 109 | protected $key; |
  |  | 110 |  |
  |  | 111 | /\*\* |
  |  | 112 | \* User options pulled from the database. |
  |  | 113 | \* |
  |  | 114 | \* @var array |
  |  | 115 | \*/ |
  |  | 116 | protected $user\_options; |
  | 101 | 117 |  |
  | 102 | 118 | /\*\* |
* ## [social-warfare/trunk/lib/options/SWP\_Option\_Icons.php](/changeset/3064109/social-warfare/trunk/lib/options/SWP_Option_Icons.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/options/SWP_Option_Icons.php")

  | [r3049980](/browser/social-warfare/trunk/lib/options/SWP_Option_Icons.php?rev=3049980#L29 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/options/SWP_Option_Icons.php?rev=3064109#L29 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | public $html; |
  | 30 | 30 |  |
  |  | 31 | /\*\* |
  |  | 32 | \* Indicates whether the icons being rendered are active or inactive. |
  |  | 33 | \* Explicitly declared to avoid dynamic property creation deprecation warning. |
  |  | 34 | \* |
  |  | 35 | \* @var bool |
  |  | 36 | \*/ |
  |  | 37 | protected $is\_active\_icons; |
  |  | 38 |  |
  | 31 | 39 |  |
  | 32 | 40 | /\*\* |
* ## [social-warfare/trunk/lib/options/SWP\_Option\_Text.php](/changeset/3064109/social-warfare/trunk/lib/options/SWP_Option_Text.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/options/SWP_Option_Text.php")

  | [r3049980](/browser/social-warfare/trunk/lib/options/SWP_Option_Text.php?rev=3049980#L22 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/options/SWP_Option_Text.php?rev=3064109#L22 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | public $default\_option = ''; |
  | 23 | 23 |  |
  |  | 24 | /\*\* |
  |  | 25 | \* The value of the input. Declared to avoid dynamic property creation. |
  |  | 26 | \* |
  |  | 27 | \* @var mixed |
  |  | 28 | \*/ |
  |  | 29 | protected $value; |
  | 24 | 30 |  |
  | 25 | 31 | /\*\* |
* ## [social-warfare/trunk/lib/options/SWP\_User\_Options.php](/changeset/3064109/social-warfare/trunk/lib/options/SWP_User_Options.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/options/SWP_User_Options.php")

  | [r3049980](/browser/social-warfare/trunk/lib/options/SWP_User_Options.php?rev=3049980#L26 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/options/SWP_User_Options.php?rev=3064109#L26 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 26 | 26 | use SWP\_Debug\_Trait; |
  | 27 | 27 |  |
  |  | 28 | /\*\* |
  |  | 29 | \* Declaration of the unfiltered\_options property to prevent dynamic property creation. |
  |  | 30 | \* |
  |  | 31 | \* @var array |
  |  | 32 | \*/ |
  |  | 33 | public $unfiltered\_options; |
  |  | 34 |  |
  |  | 35 | /\*\* |
  |  | 36 | \* Declaration of the registered\_options property to prevent dynamic property creation. |
  |  | 37 | \* |
  |  | 38 | \* @var array |
  |  | 39 | \*/ |
  |  | 40 | protected $registered\_options; |
  |  | 41 |  |
  |  | 42 | /\*\* |
  |  | 43 | \* Declaration of the user\_options property to prevent dynamic property creation. |
  |  | 44 | \* |
  |  | 45 | \* @var array |
  |  | 46 | \*/ |
  |  | 47 | protected $user\_options; |
  |  | 48 |  |
  |  | 49 | /\*\* |
  |  | 50 | \* Declaration of the user\_icons property to prevent dynamic property creation. |
  |  | 51 | \* This property is used to store filtered social network icons data. |
  |  | 52 | \* |
  |  | 53 | \* @var array |
  |  | 54 | \*/ |
  |  | 55 | protected $user\_icons; |
  | 28 | 56 |  |
  | 29 | 57 | /\*\* |
* ## [social-warfare/trunk/lib/social-networks/SWP\_Facebook.php](/changeset/3064109/social-warfare/trunk/lib/social-networks/SWP_Facebook.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/social-networks/SWP_Facebook.php")

  | [r3056039](/browser/social-warfare/trunk/lib/social-networks/SWP_Facebook.php?rev=3056039#L24 "Show revision 3056039 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/social-networks/SWP_Facebook.php?rev=3064109#L24 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | \*/ |
  | 25 | 25 | class SWP\_Facebook extends SWP\_Social\_Network { |
  |  | 26 |  |
  |  | 27 | /\*\* |
  |  | 28 | \* Indicates whether share counts are shown. This is specific to each social network. |
  |  | 29 | \* |
  |  | 30 | \* @var boolean |
  |  | 31 | \*/ |
  |  | 32 | protected $are\_shares\_shown; |
  | 26 | 33 |  |
  | 27 | 34 | /\*\* |
* ## [social-warfare/trunk/lib/utilities/SWP\_Database\_Migration.php](/changeset/3064109/social-warfare/trunk/lib/utilities/SWP_Database_Migration.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/utilities/SWP_Database_Migration.php")

  | [r3056039](/browser/social-warfare/trunk/lib/utilities/SWP_Database_Migration.php?rev=3056039#L184 "Show revision 3056039 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/utilities/SWP_Database_Migration.php?rev=3064109#L184 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 184 | 184 | } |
  | 185 | 185 | if ( $count ) { |
  | 186 |  | echo "Success! $count ~~${~~post\_type}s updated."; |
  |  | 186 | echo "Success! $count {$post\_type}s updated."; |
  | 187 | 187 | } else { |
  | 188 | 188 | echo 'No matching posts were found to update.'; |
* ## [social-warfare/trunk/lib/utilities/SWP\_Notice.php](/changeset/3064109/social-warfare/trunk/lib/utilities/SWP_Notice.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/utilities/SWP_Notice.php")

  | [r3049980](/browser/social-warfare/trunk/lib/utilities/SWP_Notice.php?rev=3049980#L21 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/utilities/SWP_Notice.php?rev=3064109#L21 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 21 | 21 |  |
  | 22 | 22 | /\*\* |
  |  | 23 | \* Unique identifier for the notice. Used to differentiate between multiple notices. |
  |  | 24 | \* |
  |  | 25 | \* @var string |
  |  | 26 | \*/ |
  |  | 27 | protected $key = ''; |
  |  | 28 |  |
  |  | 29 | /\*\* |
  |  | 30 | \* Collection of notices that have been dismissed by the user. Stored as an associative |
  |  | 31 | \* array where the key is the notice identifier and the value is dismissal information. |
  |  | 32 | \* |
  |  | 33 | \* @var array |
  |  | 34 | \*/ |
  |  | 35 | protected $notices = array(); |
  |  | 36 |  |
  |  | 37 | /\*\* |
  |  | 38 | \* Specific data related to the notice identified by $key. This may include timestamps, |
  |  | 39 | \* dismissal state, and other relevant metadata. |
  |  | 40 | \* |
  |  | 41 | \* @var array |
  |  | 42 | \*/ |
  |  | 43 | protected $data = array(); |
  |  | 44 |  |
  |  | 45 | /\*\* |
  |  | 46 | \* The message content of the notice. This is the main text displayed to the user. |
  |  | 47 | \* |
  |  | 48 | \* @var string |
  |  | 49 | \*/ |
  |  | 50 | protected $message = ''; |
  |  | 51 |  |
  |  | 52 | /\*\* |
  |  | 53 | \* Actions associated with the notice. Each action is an array containing details |
  |  | 54 | \* such as the action text, URL, and any additional CSS classes for styling. |
  |  | 55 | \* |
  |  | 56 | \* @var array |
  |  | 57 | \*/ |
  |  | 58 | protected $actions = array(); |
  |  | 59 |  |
  |  | 60 | /\*\* |
  |  | 61 | \* Flag indicating whether to display a call-to-action (CTA) with the notice. |
  |  | 62 | \* When set to true, no CTA is shown. This is useful for notices requiring |
  |  | 63 | \* user action that cannot be dismissed with a simple click. |
  |  | 64 | \* |
  |  | 65 | \* @var bool |
  |  | 66 | \*/ |
  |  | 67 | protected $no\_cta = false; |
  |  | 68 |  |
  |  | 69 | /\*\* |
  | 23 | 70 | \* The Magic \_\_construct method |
  | 24 | 71 | \* |
* ## [social-warfare/trunk/lib/widgets/SWP\_Popular\_Posts\_Widget.php](/changeset/3064109/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php "Show the changeset 3064109 restricted to social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php")

  | [r3049980](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3049980#L198 "Show revision 3049980 of this file in browser") | [r3064109](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3064109#L198 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 198 | 198 | $val      = $i \* 10; |
  | 199 | 199 | $selected = selected( $thumb\_size, $val, false ); |
  | 200 |  | $form    .= "<option value=\"$val\" $selected>~~${~~val}px</option>"; |
  |  | 200 | $form    .= "<option value=\"$val\" $selected>{$val}px</option>"; |
  | 201 | 201 | } |
  | 202 | 202 |  |
  | […](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3049980#L224) | […](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3064109#L224) |  |
  | 224 | 224 | $val      = $i \* 10; |
  | 225 | 225 | $selected = selected( $font\_size, $val, false ); |
  | 226 |  | $form    .= "<option value=\"$val\" $selected>~~${~~val}%</option>"; |
  |  | 226 | $form    .= "<option value=\"$val\" $selected>{$val}%</option>"; |
  | 227 | 227 | } |
  | 228 | 228 |  |
  | […](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3049980#L257) | […](/browser/social-warfare/trunk/lib/widgets/SWP_Popular_Posts_Widget.php?rev=3064109#L257) |  |
  | 257 | 257 |  |
  | 258 | 258 | $selected = selected( $val, $style, false ); |
  | 259 |  | $form    .= "<option value=\"$val\" $selected>~~${~~ctt\_style}</option>"; |
  |  | 259 | $form    .= "<option value=\"$val\" $selected>{$ctt\_style}</option>"; |
  | 260 | 260 |  |
  | 261 | 261 | endforeach; |
* ## [social-warfare/trunk/readme.txt](/changeset/3064109/social-warfare/trunk/readme.txt "Show the changeset 3064109 restricted to social-warfare/trunk/readme.txt")

  | [r3056039](/browser/social-warfare/trunk/readme.txt?rev=3056039#L4 "Show revision 3056039 of this file in browser") | [r3064109](/browser/social-warfare/trunk/readme.txt?rev=3064109#L4 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Requires at least: 4.5.0 |
  | 5 | 5 | Tested up to: 6.5 |
  | 6 |  | Stable tag: 4.4.6.~~1~~ |
  |  | 6 | Stable tag: 4.4.6.2 |
  | 7 | 7 | Requires PHP: 5.6 |
  | 8 | 8 | License: GNU General Public License v2.0 or later |
  | […](/browser/social-warfare/trunk/readme.txt?rev=3056039#L183) | […](/browser/social-warfare/trunk/readme.txt?rev=3064109#L183) |  |
  | 183 | 183 |  |
  | 184 | 184 | == Changelog == |
  |  | 185 | = 4.4.6.2 (3 Apr 2024) = |
  |  | 186 | \* Implemented stricter attribute sanitization in SWP\_Buttons\_Panel\_Shortcode class to enhance security and mitigate the risk of cross-site scripting (XSS) attacks through shortcode attributes. This update introduces a more rigorous sanitization process for all attributes passed through the shortcode handling mechanism. The `sanitize\_attributes` method now applies basic sanitization using `sanitize\_text\_field`, followed by a secondary sanitization step using a regex pattern to remove any remaining special characters that could be used in malicious injections. |
  |  | 187 | - Enhanced `sanitize\_attributes` method in SWP\_Buttons\_Panel\_Shortcode class |
  |  | 188 | - Added regex pattern to remove special characters from attribute values after initial sanitization |
  |  | 189 |  |
  |  | 190 | = 4.4.6.1 (21 Mar 2024) = |
  |  | 191 | - Removed Facebook share count functionality, simplifying the display and enhancing performance. |
  |  | 192 | \* Upgraded SWP\_Database\_Migration class to version 4.4.6.1, introducing new methods and improvements for database handling. |
  |  | 193 | \* Fixed an initialization issue in the SWP\_Database\_Migration class, ensuring smooth operation and compatibility with the latest WordPress versions. |
  | 185 | 194 |  |
  | 186 | 195 | = 4.4.6.1 (21 Mar 2024) = |
* ## [social-warfare/trunk/social-warfare.php](/changeset/3064109/social-warfare/trunk/social-warfare.php "Show the changeset 3064109 restricted to social-warfare/trunk/social-warfare.php")

  | [r3056039](/browser/social-warfare/trunk/social-warfare.php?rev=3056039#L5 "Show revision 3056039 of this file in browser") | [r3064109](/browser/social-warfare/trunk/social-warfare.php?rev=3064109#L5 "Show revision 3064109 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Plugin URI:  https://warfareplugins.com |
  | 6 | 6 | \* Description: A plugin to maximize social shares and drive more traffic using the fastest and most intelligent share buttons on the market, calls to action via in-post click-to-tweets, popular posts widgets based on share popularity, link-shortening, Google Analytics and much, much more! |
  | 7 |  | \* Version:     4.4.6.~~1~~ |
  |  | 7 | \* Version:     4.4.6.2 |
  | 8 | 8 | \* Author:      Warfare Plugins |
  | 9 | 9 | \* Author URI:  https://warfareplugins.com |
  | […](/browser/social-warfare/trunk/social-warfare.php?rev=3056039#L21) | […](/browser/social-warfare/trunk/social-warfare.php?rev=3064109#L21) |  |
  | 21 | 21 | \* |
  | 22 | 22 | \*/ |
  | 23 |  | define( 'SWP\_VERSION', '4.4.6.~~1~~' ); |
  | 24 |  | define( 'SWP\_DEV\_VERSION', '2024.0~~3.18~~ MASTER' ); |
  |  | 23 | define( 'SWP\_VERSION', '4.4.6.2' ); |
  |  | 24 | define( 'SWP\_DEV\_VERSION', '2024.04.03 MASTER' ); |
  | 25 | 25 | define( 'SWP\_PLUGIN\_FILE', \_\_FILE\_\_ ); |
  | 26 | 26 | define( 'SWP\_PLUGIN\_URL', str\_replace( array( "\r", "\n" ), '', untrailingslashit( plugin\_dir\_url( \_\_FILE\_\_ ) ) ) ); |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3064109)
* [Zip Archive](?format=zip&new=3064109)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

