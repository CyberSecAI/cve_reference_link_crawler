=== Content from git.kernel.org_5a34703a_20250111_110430.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Daniel Lezcano <daniel.lezcano@linaro.org> | 2024-04-23 12:40:29 +0200 |
| commit | [d998ddc86a27c92140b9f7984ff41e3d1d07a48f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)) | |
| tree | [f227334e1efe30c1ef65e24bf34ddcb6a24bd00c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f) | |
| parent | [7954c92ede882b0dfd52a5db90291a4151b44c1a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7954c92ede882b0dfd52a5db90291a4151b44c1a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f&id2=7954c92ede882b0dfd52a5db90291a4151b44c1a)) | |
| download | [linux-d998ddc86a27c92140b9f7984ff41e3d1d07a48f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d998ddc86a27c92140b9f7984ff41e3d1d07a48f.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereferencecompute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 1c9df4f8464110..e76e23026dc807 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=7954c92ede882b0dfd52a5db90291a4151b44c1a)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=d998ddc86a27c92140b9f7984ff41e3d1d07a48f)@@ -265,7 +265,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:03:08 +0000



=== Content from git.kernel.org_86ebb984_20250111_110429.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:03:12 +0200 |
| commit | [11c731386ed82053c2759b6fea1a82ae946e5e0f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)) | |
| tree | [b1770976812d5193686792f6c73afa5383604455](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f) | |
| parent | [c8d23a7e9bdf0977d085a54731f764652cee98e0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c8d23a7e9bdf0977d085a54731f764652cee98e0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f&id2=c8d23a7e9bdf0977d085a54731f764652cee98e0)) | |
| download | [linux-11c731386ed82053c2759b6fea1a82ae946e5e0f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-11c731386ed82053c2759b6fea1a82ae946e5e0f.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereference[ Upstream commit d998ddc86a27c92140b9f7984ff41e3d1d07a48f ]
compute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=11c731386ed82053c2759b6fea1a82ae946e5e0f) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 252c5ffdd1b663..fc58db60852a0c 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=c8d23a7e9bdf0977d085a54731f764652cee98e0)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=11c731386ed82053c2759b6fea1a82ae946e5e0f)@@ -85,7 +85,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:03:06 +0000



=== Content from git.kernel.org_2708a27d_20250111_110429.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-16 13:39:22 +0200 |
| commit | [27600e0c5272a262b0903e35ae1df37d33c5c1ad](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)) | |
| tree | [6379d6945f33ab83a607264f9899c492e6897a59](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad) | |
| parent | [89e2d5f29a36d12f3d08766c311b0021dc71dcdf](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=89e2d5f29a36d12f3d08766c311b0021dc71dcdf) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad&id2=89e2d5f29a36d12f3d08766c311b0021dc71dcdf)) | |
| download | [linux-27600e0c5272a262b0903e35ae1df37d33c5c1ad.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-27600e0c5272a262b0903e35ae1df37d33c5c1ad.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereference[ Upstream commit d998ddc86a27c92140b9f7984ff41e3d1d07a48f ]
compute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 926cd8b41132cd..2f31129cd5471e 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=89e2d5f29a36d12f3d08766c311b0021dc71dcdf)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=27600e0c5272a262b0903e35ae1df37d33c5c1ad)@@ -84,7 +84,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 10:58:48 +0000



=== Content from git.kernel.org_e14ae0e8_20250111_110428.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:49:13 +0200 |
| commit | [06d17744b77bc6cb29a6c785f4fad8c4163ee653](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)) | |
| tree | [5d3f97d37530282009c240a67c731a896e43d379](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653) | |
| parent | [674de30d35446ec90c3fdce3cd78a88a80993c78](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=674de30d35446ec90c3fdce3cd78a88a80993c78) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653&id2=674de30d35446ec90c3fdce3cd78a88a80993c78)) | |
| download | [linux-06d17744b77bc6cb29a6c785f4fad8c4163ee653.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-06d17744b77bc6cb29a6c785f4fad8c4163ee653.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereference[ Upstream commit d998ddc86a27c92140b9f7984ff41e3d1d07a48f ]
compute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 6d7c16ccb44dc4..4edee8d929a758 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=674de30d35446ec90c3fdce3cd78a88a80993c78)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=06d17744b77bc6cb29a6c785f4fad8c4163ee653)@@ -264,7 +264,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:03:06 +0000



=== Content from git.kernel.org_bcb04362_20250111_110430.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-06-12 11:11:43 +0200 |
| commit | [2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)) | |
| tree | [c2d9bf3a5afc493a524a29a262ee2c974deb9867](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278) | |
| parent | [95575de7dede7b1ed3b9718dab9dda97914ea775](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=95575de7dede7b1ed3b9718dab9dda97914ea775) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278&id2=95575de7dede7b1ed3b9718dab9dda97914ea775)) | |
| download | [linux-2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereference[ Upstream commit d998ddc86a27c92140b9f7984ff41e3d1d07a48f ]
compute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 98c356acfe9836..ee22672471e81b 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=95575de7dede7b1ed3b9718dab9dda97914ea775)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=2d5ca6e4a2872e92a32fdfd87e04dd7d3ced7278)@@ -264,7 +264,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:03:07 +0000



=== Content from git.kernel.org_b4b47a1d_20250111_110431.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Aleksandr Mishin <amishin@t-argos.ru> | 2024-04-11 14:40:21 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-05-30 09:44:23 +0200 |
| commit | [fcf5f1b5f308f2eb422f6aca55d295b25890906b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)) | |
| tree | [24e1a67caada668e6fbd21a1cb73fd7863b324ec](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b) | |
| parent | [daccb3479f62e56eed048eae0e104a80f0de345f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=daccb3479f62e56eed048eae0e104a80f0de345f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b&id2=daccb3479f62e56eed048eae0e104a80f0de345f)) | |
| download | [linux-fcf5f1b5f308f2eb422f6aca55d295b25890906b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fcf5f1b5f308f2eb422f6aca55d295b25890906b.tar.gz) | |

thermal/drivers/tsens: Fix null pointer dereference[ Upstream commit d998ddc86a27c92140b9f7984ff41e3d1d07a48f ]
compute\_intercept\_slope() is called from calibrate\_8960() (in tsens-8960.c)
as compute\_intercept\_slope(priv, p1, NULL, ONE\_PT\_CALIB) which lead to null
pointer dereference (if DEBUG or DYNAMIC\_DEBUG set).
Fix this bug by adding null pointer check.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: dfc1193d4dbd ("thermal/drivers/tsens: Replace custom 8960 apis with generic apis")
Signed-off-by: Aleksandr Mishin <amishin@t-argos.ru>
Reviewed-by: Konrad Dybcio <konrad.dybcio@linaro.org>
Signed-off-by: Daniel Lezcano <daniel.lezcano@linaro.org>
Link: [https://lore.kernel.org/r/20240411114021.12203-1-amishin@t-argos.ru](https://lore.kernel.org/r/20240411114021.12203-1-amishin%40t-argos.ru)
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)

| -rw-r--r-- | [drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/thermal/qcom/tsens.c?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/thermal/qcom/tsens.c b/drivers/thermal/qcom/tsens.cindex 6d7c16ccb44dc4..4edee8d929a758 100644--- a/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=daccb3479f62e56eed048eae0e104a80f0de345f)+++ b/[drivers/thermal/qcom/tsens.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/thermal/qcom/tsens.c?id=fcf5f1b5f308f2eb422f6aca55d295b25890906b)@@ -264,7 +264,7 @@ void compute\_intercept\_slope(struct tsens\_priv \*priv, u32 \*p1, for (i = 0; i < priv->num\_sensors; i++) { dev\_dbg(priv->dev, "%s: sensor%d - data\_point1:%#x data\_point2:%#x\n",- \_\_func\_\_, i, p1[i], p2[i]);+ \_\_func\_\_, i, p1[i], p2 ? p2[i] : 0);  if (!priv->sensor[i].slope) priv->sensor[i].slope = SLOPE\_DEFAULT; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 11:03:08 +0000


