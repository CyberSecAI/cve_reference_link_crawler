=== Content from www.wordfence.com_8750265c_20250111_200800.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP Reset <= 2.02 - Missing Authorization to License Key Modification

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP Reset <= 2.02 - Missing Authorization to License Key Modification

4.3

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

| CVE | [CVE-2024-4661](https://www.cve.org/CVERecord?id=CVE-2024-4661) |
| --- | --- |
| CVSS | 4.3 (Medium) |
| Publicly Published | June 7, 2024 |
| Last Updated | June 8, 2024 |
| Researcher | [Foxyyy](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/friderika-baranyai) |

### Description

The WP Reset plugin for WordPress is vulnerable to unauthorized modification of data due to a missing capability check on the save\_ajax function in all versions up to, and including, 2.02. This makes it possible for authenticated attackers, with subscriber-level access and above, to modify the value fo the 'License Key' field for the 'Activate Pro License' setting.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3097597/wp-reset)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-reset-2%2Fwp-reset-202-missing-authorization-to-license-key-modification&t=WP%20Reset%20%3C%3D%202.02%20-%20Missing%20Authorization%20to%20License%20Key%20Modification "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-reset-2%2Fwp-reset-202-missing-authorization-to-license-key-modification&text=WP%20Reset%20%3C%3D%202.02%20-%20Missing%20Authorization%20to%20License%20Key%20Modification "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-reset-2%2Fwp-reset-202-missing-authorization-to-license-key-modification "LinkedIn")
Email

## Vulnerability Details for WP Reset – Most Advanced WordPress Reset Tool

#### [WP Reset – Most Advanced WordPress Reset Tool](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-reset-2)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-reset [(view on wordpress.org)](https://wordpress.org/plugins/wp-reset) |
| Patched? | Yes |
| Remediation | Update to version 2.03, or a newer patched version |
| Affected Version | * <= 2.01 |
| Patched Version | * 2.03 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_f48cbd9e_20250111_200759.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3097597%2Fwp-reset)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3086079/wp-reset "Changeset 3086079 for wp-reset")
* [Next Change](/changeset/3097598/wp-reset "Changeset 3097598 for wp-reset") →

---

# Changeset [3097597](/changeset/3097597 "Show full changeset") for [wp-reset](/browser/wp-reset?rev=3097597 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
06/04/2024 07:48:43 PM
([7 months](/timeline?from=2024-06-04T19%3A48%3A43Z&precision=second "See timeline at 06/04/2024 07:48:43 PM") ago)

Author:
WebFactory
Message:

Escaped some HTML.

Location:
[wp-reset/trunk](/browser/wp-reset/trunk?rev=3097597)
Files:

4 edited

* [libs/dumper.php](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597 "Show entry in browser")
  (modified)
  ([5 diffs](#file0 "Show differences"))
* [readme.txt](/browser/wp-reset/trunk/readme.txt?rev=3097597 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [wp-reset-licensing.php](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3097597 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [wp-reset.php](/browser/wp-reset/trunk/wp-reset.php?rev=3097597 "Show entry in browser")
  (modified)
  ([30 diffs](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-reset/trunk/libs/dumper.php](/changeset/3097597/wp-reset/trunk/libs/dumper.php "Show the changeset 3097597 restricted to wp-reset/trunk/libs/dumper.php")

  | [r2190441](/browser/wp-reset/trunk/libs/dumper.php?rev=2190441#L276 "Show revision 2190441 of this file in browser") | [r3097597](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597#L276 "Show revision 3097597 of this file in browser") |  |
  | --- | --- | --- |
  | 276 | 276 | $error\_text = file\_get\_contents($error\_file); |
  | 277 | 277 | unlink($error\_file); |
  | 278 |  | throw new WPR\_Shuttle\_Exception('Couldn\'t export database: ' . ~~$error\_text~~); |
  |  | 278 | throw new WPR\_Shuttle\_Exception('Couldn\'t export database: ' . esc\_html($error\_text)); |
  | 279 | 279 | } |
  | 280 | 280 |  |
  | […](/browser/wp-reset/trunk/libs/dumper.php?rev=2190441#L398) | […](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597#L398) |  |
  | 398 | 398 | $this->connection = @mysql\_connect($this->host, $this->username, $this->password); |
  | 399 | 399 | if (!$this->connection) { |
  | 400 |  | throw new WPR\_Shuttle\_Exception("Couldn't connect to the database: " . ~~mysql\_error(~~)); |
  |  | 400 | throw new WPR\_Shuttle\_Exception("Couldn't connect to the database: " . esc\_html(mysql\_error())); |
  | 401 | 401 | } |
  | 402 | 402 |  |
  | 403 | 403 | $select\_db\_res = mysql\_select\_db($this->name, $this->connection); |
  | 404 | 404 | if (!$select\_db\_res) { |
  | 405 |  | throw new WPR\_Shuttle\_Exception("Couldn't select database: " . ~~mysql\_error($this->connection~~)); |
  |  | 405 | throw new WPR\_Shuttle\_Exception("Couldn't select database: " . esc\_html(mysql\_error($this->connection))); |
  | 406 | 406 | } |
  | 407 | 407 |  |
  | […](/browser/wp-reset/trunk/libs/dumper.php?rev=2190441#L415) | […](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597#L415) |  |
  | 415 | 415 | $res = mysql\_query($q); |
  | 416 | 416 | if (!$res) { |
  | 417 |  | throw new WPR\_Shuttle\_Exception("SQL error: " . ~~mysql\_error($this->connection~~)); |
  |  | 417 | throw new WPR\_Shuttle\_Exception("SQL error: " . esc\_html(mysql\_error($this->connection))); |
  | 418 | 418 | } |
  | 419 | 419 | return $res; |
  | […](/browser/wp-reset/trunk/libs/dumper.php?rev=2190441#L461) | […](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597#L461) |  |
  | 461 | 461 |  |
  | 462 | 462 | if ($this->connection->connect\_error) { |
  | 463 |  | throw new WPR\_Shuttle\_Exception("Couldn't connect to the database: " . ~~$this->connection->connect\_error~~); |
  |  | 463 | throw new WPR\_Shuttle\_Exception("Couldn't connect to the database: " . esc\_html($this->connection->connect\_error)); |
  | 464 | 464 | } |
  | 465 | 465 |  |
  | […](/browser/wp-reset/trunk/libs/dumper.php?rev=2190441#L474) | […](/browser/wp-reset/trunk/libs/dumper.php?rev=3097597#L474) |  |
  | 474 | 474 |  |
  | 475 | 475 | if (!$res) { |
  | 476 |  | throw new WPR\_Shuttle\_Exception("SQL error: " . ~~$this->connection->error~~); |
  |  | 476 | throw new WPR\_Shuttle\_Exception("SQL error: " . esc\_html($this->connection->error)); |
  | 477 | 477 | } |
  | 478 | 478 |  |
* ## [wp-reset/trunk/readme.txt](/changeset/3097597/wp-reset/trunk/readme.txt "Show the changeset 3097597 restricted to wp-reset/trunk/readme.txt")

  | [r3086078](/browser/wp-reset/trunk/readme.txt?rev=3086078#L5 "Show revision 3086078 of this file in browser") | [r3097597](/browser/wp-reset/trunk/readme.txt?rev=3097597#L5 "Show revision 3097597 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Requires PHP: 5.2 |
  | 6 | 6 | Tested up to: 6.5 |
  | 7 |  | Stable tag: 2.0~~2~~ |
  |  | 7 | Stable tag: 2.03 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/wp-reset/trunk/readme.txt?rev=3086078#L119) | […](/browser/wp-reset/trunk/readme.txt?rev=3097597#L119) |  |
  | 119 | 119 |  |
  | 120 | 120 | == Changelog == |
  |  | 121 |  |
  |  | 122 | = v2.03 = |
  |  | 123 | \* 2024/06/04 |
  |  | 124 | \* Adjusted HTML escaping on translatable strings |
  |  | 125 | \* Fixed some unescaped HTML output |
  | 121 | 126 |  |
  | 122 | 127 | = v2.02 = |
* ## [wp-reset/trunk/wp-reset-licensing.php](/changeset/3097597/wp-reset/trunk/wp-reset-licensing.php "Show the changeset 3097597 restricted to wp-reset/trunk/wp-reset-licensing.php")

  | [r3086078](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3086078#L387 "Show revision 3086078 of this file in browser") | [r3097597](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3097597#L387 "Show revision 3097597 of this file in browser") |  |
  | --- | --- | --- |
  | 387 | 387 | check\_ajax\_referer('wf\_licensing\_' . $this->prefix); |
  | 388 | 388 |  |
  | 389 |  | if (false === current\_user\_can('~~administrator~~')) { |
  |  | 389 | if (false === current\_user\_can('manage\_options')) { |
  | 390 | 390 | wp\_die('Sorry, you have to be an admin to run this action.'); |
  | 391 | 391 | } |
  | […](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3086078#L416) | […](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3097597#L416) |  |
  | 416 | 416 | check\_ajax\_referer('wf\_licensing\_' . $this->prefix); |
  | 417 | 417 |  |
  | 418 |  | if (false === current\_user\_can('~~administrator~~')) { |
  |  | 418 | if (false === current\_user\_can('manage\_options')) { |
  | 419 | 419 | wp\_die('Sorry, you have to be an admin to run this action.'); |
  | 420 | 420 | } |
  | […](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3086078#L431) | […](/browser/wp-reset/trunk/wp-reset-licensing.php?rev=3097597#L431) |  |
  | 431 | 431 | check\_ajax\_referer('wf\_licensing\_' . $this->prefix); |
  | 432 | 432 |  |
  | 433 |  | if (false === current\_user\_can('~~administrator~~')) { |
  |  | 433 | if (false === current\_user\_can('manage\_options')) { |
  | 434 | 434 | wp\_die('Sorry, you have to be an admin to run this action.'); |
  | 435 | 435 | } |
* ## [wp-reset/trunk/wp-reset.php](/changeset/3097597/wp-reset/trunk/wp-reset.php "Show the changeset 3097597 restricted to wp-reset/trunk/wp-reset.php")

  | [r3086078](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L4 "Show revision 3086078 of this file in browser") | [r3097597](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L4 "Show revision 3097597 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://wpreset.com/ |
  | 5 | 5 | Description: Reset the entire site or just selected parts while reserving the option to undo by using snapshots. |
  | 6 |  | Version: 2.0~~2~~ |
  |  | 6 | Version: 2.03 |
  | 7 | 7 | Requires at least: 4.0 |
  | 8 | 8 | Requires PHP: 5.2 |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L258) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L258) |  |
  | 258 | 258 | check\_ajax\_referer('wp-reset\_dismiss\_notice'); |
  | 259 | 259 |  |
  | 260 |  | if (!current\_user\_can('~~administrator~~')) { |
  |  | 260 | if (!current\_user\_can('manage\_options')) { |
  | 261 | 261 | wp\_send\_json\_error(\_\_('You are not allowed to run this action.', 'wp-reset')); |
  | 262 | 262 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L352) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L352) |  |
  | 352 | 352 | } // foreach |
  | 353 | 353 |  |
  | 354 |  | if (!empty($pointers) && !$this->is\_plugin\_page() && current\_user\_can('~~administrator~~')) { |
  |  | 354 | if (!empty($pointers) && !$this->is\_plugin\_page() && current\_user\_can('manage\_options')) { |
  | 355 | 355 | $pointers['\_nonce\_dismiss\_pointer'] = wp\_create\_nonce('wp-reset\_dismiss\_notice'); |
  | 356 | 356 |  |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L855) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L855) |  |
  | 855 | 855 | check\_ajax\_referer('wp-reset\_run\_tool'); |
  | 856 | 856 |  |
  | 857 |  | if (!current\_user\_can('~~administrator~~')) { |
  |  | 857 | if (!current\_user\_can('manage\_options')) { |
  | 858 | 858 | wp\_send\_json\_error(\_\_('You are not allowed to run this action.', 'wp-reset')); |
  | 859 | 859 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1031) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1031) |  |
  | 1031 | 1031 |  |
  | 1032 | 1032 | // only admins can reset; double-check |
  | 1033 |  | if (!$this->is\_cli\_running() && !current\_user\_can('~~administrator~~')) { |
  |  | 1033 | if (!$this->is\_cli\_running() && !current\_user\_can('manage\_options')) { |
  | 1034 | 1034 | return false; |
  | 1035 | 1035 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1135) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1135) |  |
  | 1135 | 1135 | { |
  | 1136 | 1136 | // only admins can perform actions |
  | 1137 |  | if (!current\_user\_can('~~administrator~~')) { |
  |  | 1137 | if (!current\_user\_can('manage\_options')) { |
  | 1138 | 1138 | return; |
  | 1139 | 1139 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1276) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1276) |  |
  | 1276 | 1276 | global $current\_user; |
  | 1277 | 1277 |  |
  | 1278 |  | ~~echo '<div style="padding: 15px; display: inline-block; font-size: 14px;" id="message" class="updated"><p style="font-size: 14px;">' . sprintf(\_\_('<b>Site has been successfully reset to default settings.</b><br>User "%s" was restored with the password unchanged. Open <a href="%s">WP Reset</a> to do another reset.', 'wp-reset'), esc\_html($current\_user->user\_login), esc\_url(admin\_url('tools.php?page=wp-reset'))) . '</p>'~~; |
  |  | 1278 | WP\_Reset\_Utility::wp\_kses\_wf('<div style="padding: 15px; display: inline-block; font-size: 14px;" id="message" class="updated"><p style="font-size: 14px;">' . sprintf(\_\_('<b>Site has been successfully reset to default settings.</b><br>User "%s" was restored with the password unchanged. Open <a href="%s">WP Reset</a> to do another reset.', 'wp-reset'), esc\_html($current\_user->user\_login), esc\_url(admin\_url('tools.php?page=wp-reset'))) . '</p>'); |
  | 1279 | 1279 |  |
  | 1280 | 1280 | if (false == $this->get\_dismissed\_notices('rate')) { |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1410) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1410) |  |
  | 1410 | 1410 | { |
  | 1411 | 1411 | // double check for admin privileges |
  | 1412 |  | if (!current\_user\_can('~~administrator~~')) { |
  | 1413 |  | wp\_die(\_\_('Sorry, you are not allowed to access this page.', 'wp-reset')); |
  |  | 1412 | if (!current\_user\_can('manage\_options')) { |
  |  | 1413 | wp\_die(esc\_html\_\_('Sorry, you are not allowed to access this page.', 'wp-reset')); |
  | 1414 | 1414 | } |
  | 1415 | 1415 |  |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1419) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1419) |  |
  | 1419 | 1419 | echo '<header>'; |
  | 1420 | 1420 | echo '<div class="wpr-container">'; |
  | 1421 |  | echo '<img id="logo-icon" src="' . esc\_url($this->plugin\_url) . 'img/wp-reset-logo.png" title="' . ~~\_\_('WP Reset', 'wp-reset') . '" alt="' .~~ \_\_('WP Reset', 'wp-reset') . '">'; |
  |  | 1421 | echo '<img id="logo-icon" src="' . esc\_url($this->plugin\_url) . 'img/wp-reset-logo.png" title="' . esc\_html\_\_('WP Reset', 'wp-reset') . '" alt="' . esc\_html\_\_('WP Reset', 'wp-reset') . '">'; |
  | 1422 | 1422 | echo '</div>'; |
  | 1423 | 1423 | echo '</header>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1540) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1540) |  |
  | 1540 | 1540 | if (false === $notice\_shown && is\_multisite()) { |
  | 1541 | 1541 | echo '<div class="card notice-wrapper notice-error">'; |
  | 1542 |  | echo '<h2>' . \_\_('WP Reset is not compatible with multisite!', 'wp-reset') . '</h2>'; |
  | 1543 |  | ~~echo '<p>' . \_\_('Please be careful when using WP Reset with multisite enabled. It\'s not recommended to reset the main site. Sub-sites should be OK. We\'re working on making it fully compatible with WP-MU. <b>Till then please be careful.</b> Thank you for understanding.', 'wp-reset') . '</p>'~~; |
  |  | 1542 | echo '<h2>' . esc\_html\_\_('WP Reset is not compatible with multisite!', 'wp-reset') . '</h2>'; |
  |  | 1543 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('Please be careful when using WP Reset with multisite enabled. It\'s not recommended to reset the main site. Sub-sites should be OK. We\'re working on making it fully compatible with WP-MU. <b>Till then please be careful.</b> Thank you for understanding.', 'wp-reset') . '</p>'); |
  | 1544 | 1544 | echo '</div>'; |
  | 1545 | 1545 | $notice\_shown = true; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1552) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1552) |  |
  | 1552 | 1552 | ) { |
  | 1553 | 1553 | echo '<div class="card notice-wrapper notice-info">'; |
  | 1554 |  | echo '<h2>' . \_\_('Please help us spread the word &amp; keep the plugin up-to-date', 'wp-reset') . '</h2>'; |
  | 1555 |  | ~~echo '<p>' . \_\_('If you use &amp; enjoy WP Reset, <b>please rate it on WordPress.org</b>. It only takes a second and helps us keep the plugin maintained. Thank you!', 'wp-reset') . '</p>'~~; |
  | 1556 |  | echo '<p><a class="button-primary button" title="' . ~~\_\_('Rate WP Reset', 'wp-reset') . '" target="\_blank" href="https://wordpress.org/support/plugin/wp-reset/reviews/#new-post">' . \_\_('Rate the plugin ★★★★★', 'wp-reset') . '</a>  <a href="#" class="wpr-dismiss-notice dismiss-notice-rate" data-notice="rate">' .~~ \_\_('I\'ve already rated it', 'wp-reset') . '</a></p>'; |
  |  | 1554 | echo '<h2>' . esc\_html\_\_('Please help us spread the word &amp; keep the plugin up-to-date', 'wp-reset') . '</h2>'; |
  |  | 1555 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('If you use &amp; enjoy WP Reset, <b>please rate it on WordPress.org</b>. It only takes a second and helps us keep the plugin maintained. Thank you!', 'wp-reset') . '</p>'); |
  |  | 1556 | echo '<p><a class="button-primary button" title="' . esc\_html\_\_('Rate WP Reset', 'wp-reset') . '" target="\_blank" href="https://wordpress.org/support/plugin/wp-reset/reviews/#new-post">' . esc\_html\_\_('Rate the plugin ★★★★★', 'wp-reset') . '</a>  <a href="#" class="wpr-dismiss-notice dismiss-notice-rate" data-notice="rate">' . esc\_html\_\_('I\'ve already rated it', 'wp-reset') . '</a></p>'; |
  | 1557 | 1557 | echo '</div>'; |
  | 1558 | 1558 | $notice\_shown = true; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1642) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1642) |  |
  | 1642 | 1642 | echo '</table>'; |
  | 1643 | 1643 |  |
  | 1644 |  | echo '<p><b>' . \_\_('What happens when I run any Reset tool?', 'wp-reset') . '</b></p>'; |
  |  | 1644 | echo '<p><b>' . esc\_html\_\_('What happens when I run any Reset tool?', 'wp-reset') . '</b></p>'; |
  | 1645 | 1645 | echo '<ul class="plain-list">'; |
  | 1646 |  | ~~echo '<li>' . \_\_('remember, always <b>make a backup first</b> or use <a href="#" class="change-tab" data-tab="2">snapshots</a>', 'wp-reset') . '</li>'~~; |
  | 1647 |  | echo '<li>' . \_\_('you will have to confirm the action one more time', 'wp-reset') . '</li>'; |
  | 1648 |  | echo '<li>' . \_\_('see the table above to find out what exactly will be reset or deleted', 'wp-reset') . '</li>'; |
  | 1649 |  | echo '<li>' . \_\_('site title, WordPress URL, site URL, site language, search engine visibility and current user will always be restored', 'wp-reset') . '</li>'; |
  | 1650 |  | echo '<li>' . \_\_('you will be logged out, automatically logged back in and taken to the admin dashboard', 'wp-reset') . '</li>'; |
  | 1651 |  | echo '<li>' . \_\_('WP Reset plugin will be reactivated if that option is chosen', 'wp-reset') . '</li>'; |
  |  | 1646 | WP\_Reset\_Utility::wp\_kses\_wf('<li>' . \_\_('remember, always <b>make a backup first</b> or use <a href="#" class="change-tab" data-tab="2">snapshots</a>', 'wp-reset') . '</li>'); |
  |  | 1647 | echo '<li>' . esc\_html\_\_('you will have to confirm the action one more time', 'wp-reset') . '</li>'; |
  |  | 1648 | echo '<li>' . esc\_html\_\_('see the table above to find out what exactly will be reset or deleted', 'wp-reset') . '</li>'; |
  |  | 1649 | echo '<li>' . esc\_html\_\_('site title, WordPress URL, site URL, site language, search engine visibility and current user will always be restored', 'wp-reset') . '</li>'; |
  |  | 1650 | echo '<li>' . esc\_html\_\_('you will be logged out, automatically logged back in and taken to the admin dashboard', 'wp-reset') . '</li>'; |
  |  | 1651 | echo '<li>' . esc\_html\_\_('WP Reset plugin will be reactivated if that option is chosen', 'wp-reset') . '</li>'; |
  | 1652 | 1652 | echo '</ul>'; |
  | 1653 | 1653 |  |
  | 1654 |  | echo '<p><b>' . \_\_('WP-CLI Support', 'wp-reset') . '</b><br>'; |
  | 1655 |  | echo '' . sprintf(\_\_('All tools available via GUI are available in WP-CLI as well. To get the list of commands run %s. Instead of the active user, the first user with admin privileges found in the database will be restored. ', 'wp-reset'), '<code>wp help reset</code>'); |
  | 1656 |  | echo sprintf(\_\_('All actions have to be confirmed. If you want to skip confirmation use the standard %s option. Please be careful and backup first.', 'wp-reset'), '<code>--yes</code>') . '</p>'; |
  |  | 1654 | echo '<p><b>' . esc\_html\_\_('WP-CLI Support', 'wp-reset') . '</b><br>'; |
  |  | 1655 | echo '' . sprintf(esc\_html\_\_('All tools available via GUI are available in WP-CLI as well. To get the list of commands run %s. Instead of the active user, the first user with admin privileges found in the database will be restored. ', 'wp-reset'), '<code>wp help reset</code>'); |
  |  | 1656 | echo sprintf(esc\_html\_\_('All actions have to be confirmed. If you want to skip confirmation use the standard %s option. Please be careful and backup first.', 'wp-reset'), '<code>--yes</code>') . '</p>'; |
  | 1657 | 1657 |  |
  | 1658 | 1658 | echo '</div></div>'; // card description |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1673) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1673) |  |
  | 1673 | 1673 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_tool\_icons(false, true)); |
  | 1674 | 1674 |  |
  | 1675 |  | echo '<p><br><label for="reset-options-reactivate-theme"><input type="checkbox" id="reset-options-reactivate-theme" value="1"> ' . \_\_('Reactivate current theme', 'wp-reset') . ' - ' . esc\_html($theme\_name) . '</label></p>'; |
  |  | 1675 | echo '<p><br><label for="reset-options-reactivate-theme"><input type="checkbox" id="reset-options-reactivate-theme" value="1"> ' . esc\_html\_\_('Reactivate current theme', 'wp-reset') . ' - ' . esc\_html($theme\_name) . '</label></p>'; |
  | 1676 | 1676 | echo '<p><label for="reset-options-reactivate-plugins"><input type="checkbox" id="reset-options-reactivate-plugins" value="1"> Reactivate ' . esc\_attr(sizeof($active\_plugins)) . ' currently active plugin' . (sizeof($active\_plugins) != 1 ? 's' : '') . ' (WP Reset will reactivate by default)</label></p>'; |
  | 1677 | 1677 |  |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1683) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1683) |  |
  | 1683 | 1683 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Site Reset', 'wp-reset'), 'tool-site-reset', array('collapse\_button' => true))); |
  | 1684 | 1684 | echo '<div class="card-body">'; |
  | 1685 |  | echo '<p><label for="reactivate-theme"><input name="wpr-post-reset[reactivate\_theme]" type="checkbox" id="reactivate-theme" value="1"> ' . \_\_('Reactivate current theme', 'wp-reset') . ' - ' . esc\_html($theme->get('Name')) . '</label></p>'; |
  | 1686 |  | echo '<p><label for="reactivate-wpreset"><input name="wpr-post-reset[reactivate\_wpreset]" type="checkbox" id="reactivate-wpreset" value="1" checked> ' . \_\_('Reactivate WP Reset plugin', 'wp-reset') . '</label></p>'; |
  | 1687 |  |  |
  | 1688 |  | echo '<p><label for="reactivate-plugins"><input name="wpr-post-reset[reactivate\_plugins]" type="checkbox" id="reactivate-plugins" value="1"> ' . \_\_('Reactivate all currently active plugins', 'wp-reset') . '</label></p>'; |
  | 1689 |  | ~~echo '<p>' . \_\_('Type <b>reset</b> in the confirmation field to confirm the reset and then click the "Reset WordPress" button.<br>Always <a href="#" class="create-new-snapshot" data-description="Before resetting the site">create a snapshot</a> before resetting if you want to be able to undo.', 'wp-reset') . '</p>'~~; |
  |  | 1685 | echo '<p><label for="reactivate-theme"><input name="wpr-post-reset[reactivate\_theme]" type="checkbox" id="reactivate-theme" value="1"> ' . esc\_html\_\_('Reactivate current theme', 'wp-reset') . ' - ' . esc\_html($theme->get('Name')) . '</label></p>'; |
  |  | 1686 | echo '<p><label for="reactivate-wpreset"><input name="wpr-post-reset[reactivate\_wpreset]" type="checkbox" id="reactivate-wpreset" value="1" checked> ' . esc\_html\_\_('Reactivate WP Reset plugin', 'wp-reset') . '</label></p>'; |
  |  | 1687 |  |
  |  | 1688 | echo '<p><label for="reactivate-plugins"><input name="wpr-post-reset[reactivate\_plugins]" type="checkbox" id="reactivate-plugins" value="1"> ' . esc\_html\_\_('Reactivate all currently active plugins', 'wp-reset') . '</label></p>'; |
  |  | 1689 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('Type <b>reset</b> in the confirmation field to confirm the reset and then click the "Reset WordPress" button.<br>Always <a href="#" class="create-new-snapshot" data-description="Before resetting the site">create a snapshot</a> before resetting if you want to be able to undo.', 'wp-reset') . '</p>'); |
  | 1690 | 1690 |  |
  | 1691 | 1691 | wp\_nonce\_field('wp-reset'); |
  | 1692 | 1692 | echo '<p class="mb0"><input id="wp\_reset\_confirm" type="text" name="wp\_reset\_confirm" placeholder="' . esc\_attr(sprintf(\_\_('Type in: %s', 'wp-reset'), '"reset"')) . '" value="" autocomplete="off"> &nbsp;'; |
  | 1693 |  | echo '<a id="wp\_reset\_submit" class="button button-delete">' . \_\_('Reset Site', 'wp-reset') . '</a>'; |
  |  | 1693 | echo '<a id="wp\_reset\_submit" class="button button-delete">' . esc\_html\_\_('Reset Site', 'wp-reset') . '</a>'; |
  | 1694 | 1694 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_snapshot\_button('reset-wordpress', 'Before resetting the site')); |
  | 1695 | 1695 | echo '</p>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1708) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1708) |  |
  | 1708 | 1708 | echo '<p class="mb0 wpmu-error">This tool is <b>not compatible</b> with WP multisite (WPMU). Using it would delete files shared by multiple sites in the WP network.</p>'; |
  | 1709 | 1709 | } else { |
  | 1710 |  | echo '<p><br><label for="nuclear-reset-reactivate-wpreset"><input type="checkbox" id="nuclear-reset-reactivate-wpreset" value="1" checked> ' . \_\_('Reactivate WP Reset plugin', 'wp-reset') . '</label></p>'; |
  | 1711 |  |  |
  | 1712 |  | ~~echo '<p>' . \_\_('Type <b>reset</b> in the confirmation field to confirm the reset and then click the "Reset WordPress &amp; Delete All Custom Files &amp; Data" button. <b>There is NO UNDO.', 'wp-reset') . '</b></p>'~~; |
  | 1713 |  |  |
  | 1714 |  | echo '<p class="mb0"><input id="nuclear\_reset\_confirm" type="text" placeholder="' . esc\_~~attr~~\_\_('Type in "reset"', 'wp-reset') . '" value="" autocomplete="off"> &nbsp;'; |
  | 1715 |  | echo '<a class="button button-delete button-pro-feature" href="#">' . \_\_('Reset WordPress &amp; Delete All Custom Files &amp; Data', 'wp-reset') . ' - <span data-feature="tool-nuclear-reset" class="pro-feature"><span class="pro">PRO</span> tool</span></a></p>'; |
  |  | 1710 | echo '<p><br><label for="nuclear-reset-reactivate-wpreset"><input type="checkbox" id="nuclear-reset-reactivate-wpreset" value="1" checked> ' . esc\_html\_\_('Reactivate WP Reset plugin', 'wp-reset') . '</label></p>'; |
  |  | 1711 |  |
  |  | 1712 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('Type <b>reset</b> in the confirmation field to confirm the reset and then click the "Reset WordPress &amp; Delete All Custom Files &amp; Data" button. <b>There is NO UNDO.', 'wp-reset') . '</b></p>'); |
  |  | 1713 |  |
  |  | 1714 | echo '<p class="mb0"><input id="nuclear\_reset\_confirm" type="text" placeholder="' . esc\_html\_\_('Type in "reset"', 'wp-reset') . '" value="" autocomplete="off"> &nbsp;'; |
  |  | 1715 | echo '<a class="button button-delete button-pro-feature" href="#">' . esc\_html\_\_('Reset WordPress &amp; Delete All Custom Files &amp; Data', 'wp-reset') . ' - <span data-feature="tool-nuclear-reset" class="pro-feature"><span class="pro">PRO</span> tool</span></a></p>'; |
  | 1716 | 1716 | } |
  | 1717 | 1717 | echo '</div>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1782) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1782) |  |
  | 1782 | 1782 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Reset Theme Options', 'wp-reset'), 'tool-reset-theme-options', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1783 | 1783 | echo '<div class="card-body">'; |
  | 1784 |  | ~~echo '<p>' . \_\_('All options (mods) for all themes will be reset; not just for the active theme. The tool works only for themes that use the <a href="https://codex.wordpress.org/Theme\_Modification\_API" target="\_blank">WordPress theme modification API</a>. If options are saved in some other, custom way they won\'t be reset.<br> Always <a href="#" class="create-new-snapshot" data-description="Before resetting theme options">create a snapshot</a> before using this tool if you want to be able to undo its actions.', 'wp-reset') . '</p>'~~; |
  |  | 1784 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('All options (mods) for all themes will be reset; not just for the active theme. The tool works only for themes that use the <a href="https://codex.wordpress.org/Theme\_Modification\_API" target="\_blank">WordPress theme modification API</a>. If options are saved in some other, custom way they won\'t be reset.<br> Always <a href="#" class="create-new-snapshot" data-description="Before resetting theme options">create a snapshot</a> before using this tool if you want to be able to undo its actions.', 'wp-reset') . '</p>'); |
  | 1785 | 1785 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_tool\_icons(false, true)); |
  | 1786 | 1786 | echo '<p class="mb0"><a data-confirm-title="Are you sure you want to reset all theme options?" data-btn-confirm="Reset theme options" data-text-wait="Resetting theme options. Please wait." data-text-confirm="All options (mods) for all themes will be reset. Always ' . esc\_attr('<a data-description="Before resetting theme options" href="#" class="create-new-snapshot">create a snapshot</a> if you want to be able to undo') . '." data-text-done="Options for %n themes have been reset." data-text-done-singular="Options for one theme have been reset." class="button button-delete" href="#" id="reset-theme-options">Reset theme options</a>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1876) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1876) |  |
  | 1876 | 1876 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Delete Themes', 'wp-reset'), 'tool-delete-themes', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1877 | 1877 | echo '<div class="card-body">'; |
  | 1878 |  | ~~echo '<p>' . \_\_('All themes will be deleted. Including the currently active theme - ' . esc\_html($theme->get('Name')) . '.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'~~; |
  |  | 1878 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('All themes will be deleted. Including the currently active theme - ' . esc\_html($theme->get('Name')) . '.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'); |
  | 1879 | 1879 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_tool\_icons(true, true)); |
  | 1880 | 1880 | echo '<p class="mb0"><a data-confirm-title="Are you sure you want to delete all themes?" data-btn-confirm="Delete all themes" data-text-wait="Deleting all themes. Please wait." data-text-confirm="All themes will be deleted. There is NO UNDO. WP Reset does not make any file backups." data-text-done="%n themes have been deleted." data-text-done-singular="One theme has been deleted." class="button button-delete" href="#" id="delete-themes">Delete all themes</a></p>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1885) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1885) |  |
  | 1885 | 1885 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Delete Plugins', 'wp-reset'), 'tool-delete-plugins', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1886 | 1886 | echo '<div class="card-body">'; |
  | 1887 |  | ~~echo '<p>' . \_\_('All plugins will be deleted except for WP Reset which will remain active.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'~~; |
  |  | 1887 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('All plugins will be deleted except for WP Reset which will remain active.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'); |
  | 1888 | 1888 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_tool\_icons(true, true)); |
  | 1889 | 1889 | echo '<p class="mb0"><a data-confirm-title="Are you sure you want to delete all plugins?" data-btn-confirm="Delete plugins" data-text-wait="Deleting plugins. Please wait." data-text-confirm="All plugins except WP Reset will be deleted. There is NO UNDO. WP Reset does not make any file backups." data-text-done="%n plugins have been deleted." data-text-done-singular="One plugin has been deleted." class="button button-delete" href="#" id="delete-plugins">Delete plugins</a></p>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1912) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1912) |  |
  | 1912 | 1912 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Clean uploads Folder', 'wp-reset'), 'tool-delete-uploads', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1913 | 1913 | echo '<div class="card-body">'; |
  | 1914 |  | ~~echo '<p>' . \_\_('All files in <code>' . esc\_html($upload\_dir['basedir']) . '</code> folder will be deleted. Including folders and subfolders, and files in subfolders. Files associated with <a href="' . esc\_url(admin\_url('upload.php')) . '">media</a> entries will be deleted too.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'~~; |
  |  | 1914 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('All files in <code>' . esc\_html($upload\_dir['basedir']) . '</code> folder will be deleted. Including folders and subfolders, and files in subfolders. Files associated with <a href="' . esc\_url(admin\_url('upload.php')) . '">media</a> entries will be deleted too.<br><b>There is NO UNDO. WP Reset does not make any file backups.</b>', 'wp-reset') . '</p>'); |
  | 1915 | 1915 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_tool\_icons(true, false)); |
  | 1916 | 1916 | if (false != $upload\_dir['error']) { |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1940) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1940) |  |
  | 1940 | 1940 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Empty or Delete Custom Tables', 'wp-reset'), 'tool-empty-delete-custom-tables', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1941 | 1941 | echo '<div class="card-body">'; |
  | 1942 |  | ~~echo '<p>' . \_\_('This action affects only custom tables with <code>' . esc\_html($wpdb->prefix) . '</code> prefix. Core WP tables and other tables in the database that do not have that prefix will not be deleted/emptied. Deleting (dropping) tables completely removes them from the database. Emptying (truncating) removes all content from them, but keeps the structure intact.<br>Always <a href="#" class="create-new-snapshot" data-description="Before deleting custom tables">create a snapshot</a> before using this tool if you want to be able to undo its actions.</p>', 'wp-reset'~~); |
  |  | 1942 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('This action affects only custom tables with <code>' . esc\_html($wpdb->prefix) . '</code> prefix. Core WP tables and other tables in the database that do not have that prefix will not be deleted/emptied. Deleting (dropping) tables completely removes them from the database. Emptying (truncating) removes all content from them, but keeps the structure intact.<br>Always <a href="#" class="create-new-snapshot" data-description="Before deleting custom tables">create a snapshot</a> before using this tool if you want to be able to undo its actions.</p>', 'wp-reset')); |
  | 1943 | 1943 | if ($custom\_tables) { |
  | 1944 |  | ~~echo '<p>' . \_\_('The following ' . esc\_html(sizeof($custom\_tables)) . ' custom tables are affected by this tool: ', 'wp-reset'~~); |
  |  | 1944 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('The following ' . sizeof($custom\_tables) . ' custom tables are affected by this tool: ', 'wp-reset')); |
  | 1945 | 1945 | foreach ($custom\_tables as $tbl) { |
  | 1946 | 1946 | echo '<code>' . esc\_html($tbl['name']) . '</code>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1952) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1952) |  |
  | 1952 | 1952 | $custom\_tables\_btns = ''; |
  | 1953 | 1953 | } else { |
  | 1954 |  | echo '<p>' . \_\_('There are no custom tables. There\'s nothing for this tool to empty or delete.', 'wp-reset') . '</p>'; |
  |  | 1954 | echo '<p>' . esc\_html\_\_('There are no custom tables. There\'s nothing for this tool to empty or delete.', 'wp-reset') . '</p>'; |
  | 1955 | 1955 | $custom\_tables\_btns = ' disabled'; |
  | 1956 | 1956 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L1997) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L1997) |  |
  | 1997 | 1997 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Delete .htaccess File', 'wp-reset'), 'tool-delete-htaccess', array('iot\_button' => true, 'collapse\_button' => true))); |
  | 1998 | 1998 | echo '<div class="card-body">'; |
  | 1999 |  | ~~echo '<p>' . \_\_('This action deletes the .htaccess file located in <code>' . esc\_html($this->get\_htaccess\_path()) . '</code><br><b>There is NO UNDO. WP Reset does not make any file backups.</b></p>', 'wp-reset'~~); |
  |  | 1999 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('This action deletes the .htaccess file located in <code>' . esc\_html($this->get\_htaccess\_path()) . '</code><br><b>There is NO UNDO. WP Reset does not make any file backups.</b></p>', 'wp-reset')); |
  | 2000 | 2000 |  |
  | 2001 | 2001 | echo '<p>If you need to edit .htaccess, install our free <a href="' . esc\_url(admin\_url('plugin-install.php?tab=plugin-information&plugin=wp-htaccess-editor&TB\_iframe=true&width=600&height=550')) . '" class="thickbox open-plugin-details-modal">WP Htaccess Editor</a> plugin. It automatically creates backups when you edit .htaccess as well as checks for syntax errors. To create the default .htaccess file open <a href="' . esc\_url(admin\_url('options-permalink.php')) . '">Settings - Permalinks</a> and re-save settings. WordPress will recreate the file.</p>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L2018) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L2018) |  |
  | 2018 | 2018 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header('What are Plugin & Theme Collections?', 'collections-info', array('collapse\_button' => false))); |
  | 2019 | 2019 | echo '<div class="card-body">'; |
  | 2020 |  | ~~echo '<p>' . \_\_('Have a set of plugins (and themes) that you install and activate after every reset? Or on every fresh WordPress installation? Well, no more clicking install &amp; active for ten minutes! Build the collection once and install it with one click as many times as needed.</p><p>WP Reset stores collections in the cloud so they\'re accessible on every site you build. You can use free plugins and themes from the official repo, and PRO ones by uploading a ZIP file. We\'ll safely store your license keys too, so you have everything in one place.', 'wp-reset') . '</p>'~~; |
  |  | 2020 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('Have a set of plugins (and themes) that you install and activate after every reset? Or on every fresh WordPress installation? Well, no more clicking install &amp; active for ten minutes! Build the collection once and install it with one click as many times as needed.</p><p>WP Reset stores collections in the cloud so they\'re accessible on every site you build. You can use free plugins and themes from the official repo, and PRO ones by uploading a ZIP file. We\'ll safely store your license keys too, so you have everything in one place.', 'wp-reset') . '</p>'); |
  | 2021 | 2021 | echo '<p><a class="button button-secondary button-pro-feature" href="#">Add a new collection - <span data-feature="collections" class="pro-feature"><span class="pro">PRO</span> feature</span></a> &nbsp; <a class="button button-secondary button-pro-feature" href="#">Reload my saved collections from the cloud - <span data-feature="collections" class="pro-feature"><span class="pro">PRO</span> feature</span></a></p>'; |
  | 2022 | 2022 | echo '</div>'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L2074) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L2074) |  |
  | 2074 | 2074 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Documentation', 'wp-reset'), 'support-documentation', array('collapse\_button' => false))); |
  | 2075 | 2075 | echo '<div class="card-body">'; |
  | 2076 |  | ~~echo '<p class="mb0">' . \_\_('All tools and features are explained in detail in <a href="' . esc\_url($this->generate\_web\_link('support-tab', '/documentation/')) . '" target="\_blank">the documentation</a>. We did our best to describe how things work on both the code level and an "average user" level.', 'wp-reset') . '</p>'~~; |
  |  | 2076 | WP\_Reset\_Utility::wp\_kses\_wf('<p class="mb0">' . \_\_('All tools and features are explained in detail in <a href="' . esc\_url($this->generate\_web\_link('support-tab', '/documentation/')) . '" target="\_blank">the documentation</a>. We did our best to describe how things work on both the code level and an "average user" level.', 'wp-reset') . '</p>'); |
  | 2077 | 2077 | echo '</div>'; |
  | 2078 | 2078 | echo '</div>'; // documentation |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L2098) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L2098) |  |
  | 2098 | 2098 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Public Support Forum', 'wp-reset'), 'support-forum', array('collapse\_button' => false))); |
  | 2099 | 2099 | echo '<div class="card-body">'; |
  | 2100 |  | ~~echo '<p>' . \_\_('We are very active on the <a href="https://wordpress.org/support/plugin/wp-reset" target="\_blank">official WP Reset support forum</a>. If you found a bug, have a feature idea or just want to say hi - please drop by. We love to hear back from our users.', 'wp-reset') . '</p>'~~; |
  |  | 2100 | WP\_Reset\_Utility::wp\_kses\_wf('<p>' . \_\_('We are very active on the <a href="https://wordpress.org/support/plugin/wp-reset" target="\_blank">official WP Reset support forum</a>. If you found a bug, have a feature idea or just want to say hi - please drop by. We love to hear back from our users.', 'wp-reset') . '</p>'); |
  | 2101 | 2101 | echo '</div>'; |
  | 2102 | 2102 | echo '</div>'; // forum |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L2112) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L2112) |  |
  | 2112 | 2112 | WP\_Reset\_Utility::wp\_kses\_wf($this->get\_card\_header(\_\_('Care to Help Out?', 'wp-reset'), 'support-help-out', array('collapse\_button' => false))); |
  | 2113 | 2113 | echo '<div class="card-body">'; |
  | 2114 |  | ~~echo '<p class="mb0">' . \_\_('No need for donations :) If you can give us a <a href="https://wordpress.org/support/plugin/wp-reset/reviews/#new-post" target="\_blank">five star rating</a> you\'ll help out more than you can imagine. A public mention <a href="https://twitter.com/webfactoryltd" target="\_blank">@webfactoryltd</a> also does wonders. Thank you!', 'wp-reset') . '</p>'~~; |
  |  | 2114 | WP\_Reset\_Utility::wp\_kses\_wf('<p class="mb0">' . \_\_('No need for donations :) If you can give us a <a href="https://wordpress.org/support/plugin/wp-reset/reviews/#new-post" target="\_blank">five star rating</a> you\'ll help out more than you can imagine. A public mention <a href="https://twitter.com/webfactoryltd" target="\_blank">@webfactoryltd</a> also does wonders. Thank you!', 'wp-reset') . '</p>'); |
  | 2115 | 2115 | echo '</div>'; |
  | 2116 | 2116 | echo '</div>'; // help out |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L2310) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L2310) |  |
  | 2310 | 2310 | echo '<div class="card" id="card-snapshots">'; |
  | 2311 | 2311 | echo '<h4>'; |
  | 2312 |  | echo \_\_('Snapshots', 'wp-reset'); |
  | 2313 |  | echo '<div class="card-header-right"><a class="toggle-card tooltip" href="#" title="' . \_\_('Collapse / expand box', 'wp-reset') . '"><span class="dashicons dashicons-arrow-up-alt2"></span></a></div>'; |
  |  | 2312 | echo esc\_html\_\_('Snapshots', 'wp-reset'); |
  |  | 2313 | echo '<div class="card-header-right"><a class="toggle-card tooltip" href="#" title="' . esc\_html\_\_('Collapse / expand box', 'wp-reset') . '"><span class="dashicons dashicons-arrow-up-alt2"></span></a></div>'; |
  | 2314 | 2314 | echo '</h4>'; |
  | 2315 | 2315 | echo '<div class="card-body">'; |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L3013) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L3013) |  |
  | 3013 | 3013 | check\_ajax\_referer('install\_wpfssl'); |
  | 3014 | 3014 |  |
  | 3015 |  | if (false === current\_user\_can('~~administrator~~')) { |
  |  | 3015 | if (false === current\_user\_can('manage\_options')) { |
  | 3016 | 3016 | wp\_die('Sorry, you have to be an admin to run this action.'); |
  | 3017 | 3017 | } |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L3035) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L3035) |  |
  | 3035 | 3035 |  |
  | 3036 | 3036 | echo '<div style="margin: 20px; color:#444;">'; |
  | 3037 |  | echo 'If things are not done in a minute <a target="\_parent" href="' . ~~admin\_url('plugin-install.php?s=force%20ssl%20webfactory&tab=search&type=term'~~) .'">install the plugin manually via Plugins page</a><br><br>'; |
  |  | 3037 | echo 'If things are not done in a minute <a target="\_parent" href="' . esc\_url(admin\_url('plugin-install.php?s=force%20ssl%20webfactory&tab=search&type=term')) .'">install the plugin manually via Plugins page</a><br><br>'; |
  | 3038 | 3038 | echo 'Starting ...<br><br>'; |
  | 3039 | 3039 |  |
  | […](/browser/wp-reset/trunk/wp-reset.php?rev=3086078#L3062) | […](/browser/wp-reset/trunk/wp-reset.php?rev=3097597#L3062) |  |
  | 3062 | 3062 | } |
  | 3063 | 3063 | } else { |
  | 3064 |  | echo 'Could not install WP Force SSL. You\'ll have to <a target="\_parent" href="' . ~~admin\_url('plugin-install.php?s=force%20ssl%20webfactory&tab=search&type=term'~~) .'">download and install manually</a>.'; |
  |  | 3064 | echo 'Could not install WP Force SSL. You\'ll have to <a target="\_parent" href="' . esc\_url(admin\_url('plugin-install.php?s=force%20ssl%20webfactory&tab=search&type=term')) .'">download and install manually</a>.'; |
  | 3065 | 3065 | } |
  | 3066 | 3066 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3097597)
* [Zip Archive](?format=zip&new=3097597)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


