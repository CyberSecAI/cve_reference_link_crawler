=== Content from supportportal.juniper.net_1580113c_20250110_143857.html ===
Loading×Sorry to interruptCSS ErrorRefresh

=== Content from www.juniper.net_5e3caa6e_20250110_143858.html ===


X

![](https://junipernetworks.allegiancetech.com/surveys/images/MRVCXM/juniper_logo.jpg)

Help us improve your experience.

Let us know what you think.

Do you have time for a two-minute survey?

Yes

Maybe Later

Â
##### ON THIS PAGE

* [Configuring Storm Control](#id-configuring-storm-control)
* [Disabling Storm Control on Broadcast Traffic](#id-disabling-storm-control-on-broadcast-traffic)
* [Disabling Storm Control on All Multicast Traffic](#id-disabling-storm-control-on-all-multicast-traffic)
* [Disabling Storm Control on Registered Multicast Traffic](#id-disabling-storm-control-on-registered-multicast-traffic)
* [Disabling Storm Control on Unregistered Multicast Traffic](#id-disabling-storm-control-on-unregistered-multicast-traffic)
* [Disabling Storm Control on Unknown Unicast Traffic](#id-disabling-storm-control-on-unknown-unicast-traffic)
* [Disabling Storm Control on Multiple Types of Traffic](#id-disabling-storm-control-on-multiple-types-of-traffic)
Â
# Enabling and Disabling Storm Control (ELS)

Note:

This task uses Junos OS with support for the Enhanced Layer 2 Software (ELS) configuration
style. If your switching device is an EX Series switch and runs software that does not support
ELS, see [Understanding Storm Control](../concept/rate-limiting-storm-control-understanding.html). If your switching
device is an EX Series switch and runs software that does support ELS, see [Using the Enhanced Layer
2 Software CLI](https://www.juniper.net/documentation/en_US/junos/topics/topic-map/layer-2-understanding.html).

On EX4300 switches, the factory default configuration enables storm control on all Layer
2 switch interfaces. The default storm control level is set to 80 percent of the available
bandwidth used by the combined broadcast, multicast, and unknown unicast traffic streams.

Storm control is not enabled by default on EX9200 switches or MX Series routers.

You can customize the storm control level for a specific interface. You specify the
storm control level as the traffic rate in kilobits per second (Kbps) of the combined traffic
streams or as the percentage of available bandwidth used by the combined traffic streams.

You can selectively disable storm control for broadcast, multicast, or unknown unicast
traffic on all interfaces or on a specified interface. You can additionally disable storm
control on registered or unregistered multicast traffic.

In the tasks described in this topic, you use the `[edit interfaces interface-name unit 0 family ethernet-switching]` hierarchy level to bind the storm control profile for EX Series switches and the `[edit
interfaces interface-name unit 0 family bridge]` hierarchy level
to bind the storm control profile for MX Series routers. Starting in Junos OS release 17.4R1 for MX Series routers, you can also configure storm control
on logical systems.

## Configuring Storm Control

You can configure storm control for a specific interface. The storm control level
can be customized by explicitly configuring either the bandwidth level or the bandwidth percentage.

* `bandwidth-level`âConfigures the storm control level as the bandwidth
  in kilobits per second of the combined traffic streams.
* `bandwidth-percentage`âConfigures the storm control level as a
  percentage of the available bandwidth used by the combined traffic streams.

You can also configure a limit for `[burst-size](../../../cli-reference/topics/ref/statement/burst-size-rate-limiting.html)`. The burst size extends the function of the bandwidth limit to allow for bursts of
traffic that exceed the configured bandwidth.

To configure storm control:

1. Create a
   storm control profile and set the storm control level as the traffic rate in kilobits per
   second of the combined traffic streams:

   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps
   ```
   Note:

   The name of the storm control profile can contain no more than 127 characters.
2. Bind the storm control profile to a logical interface:

   * `For EX Series Switches (Enterprise Style Configuration Only):`

     ```
     [edit]
     user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
     ```
   * `For MX Series routers:`

     + `Enterprise Style Configuration:`

       ```
       [edit]
       user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
       ```
     + `Service Provider Style Configuration:` `Starting in Junos OS release 18.3R1, you can configure storm
       control in the Service Provider Style configuration on MX Series devices.`

       ```
       [edit]

       ```
       ```
       user@device# set interfaces interface-name  flexible-vlan-tagging
       user@device# set interfaces interface-name  encapsulation flexible-ethernet-services
       user@device# set interfaces interface-name  unit logical-unit number encapsulation vlan-bridge
       user@device# see interfaces interface-name  unit logical-interface family bridge storm control profile-name

       ```

## Disabling Storm Control on Broadcast Traffic

To disable storm control on broadcast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams, and exclude broadcast traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-broadcast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

## Disabling Storm Control on All Multicast Traffic

To disable storm control on all multicast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams, but exclude multicast traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-multicast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

## Disabling Storm Control on Registered Multicast Traffic

To disable storm control on only registered multicast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams, but exclude registered multicast
   traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-registered-multicast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

## Disabling Storm Control on Unregistered Multicast Traffic

To disable storm control on only unregistered multicast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams, but exclude unregistered multicast
   traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-unregistered-multicast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

## Disabling Storm Control on Unknown Unicast Traffic

To disable storm control on only unknown unicast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams, but exclude unregistered multicast
   traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-unknown-unicast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

## Disabling Storm Control on Multiple Types of Traffic

To disable storm control on multiple types of traffic; for example, broadcast
and multicast traffic:

1. Create a storm control profile with the storm control level set as the traffic
   rate in kilobits per second of the combined traffic streams but exclude broadcast and multicast
   traffic:
   ```
   [edit forwarding-options]
   user@device# set storm-control-profiles profile-name all bandwidth-level kbps no-broadcast no-multicast
   ```
2. Bind the storm control profile to a logical interface:

   For EX Series switches:

   ```
   [edit]
   user@switch# set interfaces interface-name unit 0 family ethernet-switching storm-control profile-name
   ```

   For MX Series routers:

   ```
   [edit]
   user@device# set interfaces interface-name unit 0 family bridge storm-control profile-name
   ```

### Related Documentation

* [Example: Configuring Storm Control to Prevent Network
  Outages on EX Series Switches](https://www.juniper.net/documentation/en_US/junos/topics/example/rate-limiting-storm-control-configuring-els.html)
* [Example: Using Storm Control to Prevent Network (MX Routers)](../topic-map/using-storm-control-to-prevent-network-outages.html#id-example-using-storm-control-to-prevent-network-mx-routers)
* [Understanding Storm Control](../concept/rate-limiting-storm-control-understanding.html)
## Change History Table

Feature support is determined by the platform and release you are using. Use [Feature Explorer](https://apps.juniper.net/feature-explorer/) to determine if a feature is supported on your platform.

ReleaseDescription18.3R1 `Starting in Junos OS release 18.3R1, you can configure storm
control in the Service Provider Style configuration on MX Series devices.` 17.4R1Starting in Junos OS release 17.4R1 for MX Series routers, you can also configure storm control
on logical systems.Â Â
