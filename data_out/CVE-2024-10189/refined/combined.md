=== Content from wordpress.org_e40fcf4f_20250111_165251.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Anchor Episodes Index (Spotify for Podcasters)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fanchor-episodes-index&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fanchor-episodes-index&locale=en_US)

Search plugins

![](https://ps.w.org/anchor-episodes-index/assets/banner-772x250.jpg?rev=2494610)
![](https://ps.w.org/anchor-episodes-index/assets/icon-256x256.png?rev=2494610)
# Anchor Episodes Index (Spotify for Podcasters)

By [jesweb.dev](https://jesweb.dev)

[Download](https://downloads.wordpress.org/plugin/anchor-episodes-index.2.1.12.zip)

* [Details](https://wordpress.org/plugins/anchor-episodes-index/#description)
* [Reviews](https://wordpress.org/plugins/anchor-episodes-index/#reviews)
* [Development](https://wordpress.org/plugins/anchor-episodes-index/#developers)

[Support](https://wordpress.org/support/plugin/anchor-episodes-index/)

## Description

This plugin appends an episode index to the anchor.fm podcast player. Currently, the only available embed for the anchor.fm player is for a single episode.

This plugin allows you to add your entire episode index, just the same as you have on your anchor.fm site.

Simply input your site and RSS URL’s on the settings page and add the shortcode to any page or post.

Email me here for suggestions and feedback.

### Announcements

* Anchor Episodes Index Pro is available now! [Learn more here](https://jesweb.dev)

### Usage

Firstly, install and activate Anchor Episodes Index (this plugin).

Once activated, go to the settings and fill out the Anchor Site URL and Anchor RSS URL fields (be sure to add the URL’s without a “/” at the end, otherwise it will not work).

Then copy the shortcode you’ll see on the settings page and paste it in any page or post.

If you want to add multiple different podcasts on the site, you can define the RSS and Site URL’s as shortcode attributes instead of on the settings page. Note, you cannot currently output two players on one page.

### Shortcode examples

Uses values set in the settings page:

[anchor\_episodes]

Overrides values set on the settings page:

[anchor\_episodes site\_url=”https://anchor.fm/your-podcast” rss\_url=”https://anchor.fm/s/123456-your-key/podcast/rss” max\_episodes=”10″]

## Reviews

![](https://secure.gravatar.com/avatar/82dd697b22b13166fc26133c751187bb30fbab8e7ece8d3e801d85886f513f20?s=60&d=retro&r=g)
### [Excellent Plugin, good support](https://wordpress.org/support/topic/excellent-plugin-good-support-6/)

[cesvald](https://profiles.wordpress.org/cesvald/ "Posts by cesvald")
August 29, 2023
1 reply

It is a very versatil and simple to use plugin that meets all the requirements for a good rss feed.

![](https://secure.gravatar.com/avatar/776629f9fcb64208b8e57d5e1cee2f88eefd20a6460564eef8f9c9a72888d2cc?s=60&d=retro&r=g)
### [Efficient and simple – great support](https://wordpress.org/support/topic/efficient-and-simple-great-support/)

[tejones](https://profiles.wordpress.org/tejones/ "Posts by tejones")
April 13, 2023
1 reply

I want to give a shoutout to the developer. I emailed him directly and heard back fairly quickly. He updated the plugin and the next day, everything was working the way it was before. The change from Anchor to Spotify Podcast was tough to navigate, I am sure, but Jesse did his best to make sure we could continue using the plugin.
As far as setting the plugin up, it is super simple. You simply need your podcast URL and RSS feed, insert the shortcode, and you are on you way! Nothing complicated at all. Thanks Jesse!

![](https://secure.gravatar.com/avatar/e9eb65fd73314c642f469a4900633711ea83bb6d4a09c6b7c06e98adc84d69ee?s=60&d=retro&r=g)
### [Clean and simple!](https://wordpress.org/support/topic/clean-and-simple-131/)

[h4ldrz](https://profiles.wordpress.org/h4ldrz/ "Posts by h4ldrz")
May 24, 2022
1 reply

Great work for bringing us this plug-in! I appreciate the work.
One nice feature would be if it’s also possible to only show the latest podcast, without the pulldown feature. So when selecting ” 1″ podcast to display the is no pulldown and only the player with the latests podcast.

![](https://secure.gravatar.com/avatar/c4debbb6d8502cbcb923f46cc9452673c1250db7bd63ad81b4084e237666d6dc?s=60&d=retro&r=g)
### [Super helpful, would love more features](https://wordpress.org/support/topic/super-helpful-would-love-more-features/)

[joegallant](https://profiles.wordpress.org/joegallant/ "Posts by joegallant")
November 26, 2021
3 replies

This is great — simple and does what it says on the tin. One feature I’d love to see, however, is the ability to limit the number of episodes that are pulled in — rather than the entire list.
It would also be good if there wasn’t additional space at the bottom of the feed but it’s a minor thing compared to how useful this plugin is.

![](https://secure.gravatar.com/avatar/eecf1137f8d1e3e1d7399f436908fc7861d669001910f82da24c174de9246a40?s=60&d=retro&r=g)
### [Useful plugin!](https://wordpress.org/support/topic/useful-plugin-814/)

[teamaathmavil](https://profiles.wordpress.org/teamaathmavil/ "Posts by teamaathmavil")
July 27, 2021

Useful! The only issue we found is when we click on the play icon of an episode, instead of playing it right away, it will just move to the top (main) part of the Anchor player and we’ve to click play again from there. Other than that, everything is working fine.

[Read all 4 reviews](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/)
## Contributors & Developers

“Anchor Episodes Index (Spotify for Podcasters)” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/06c9d8eac4cef0edf2612034a6ffaeb95a6f33f97990387ce840661b67944cde?s=32&d=mm&r=g) [Jesse Sugden](https://profiles.wordpress.org/jeswd/)

[Translate “Anchor Episodes Index (Spotify for Podcasters)” into your language.](https://translate.wordpress.org/projects/wp-plugins/anchor-episodes-index)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/anchor-episodes-index/), check out the [SVN repository](https://plugins.svn.wordpress.org/anchor-episodes-index/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/anchor-episodes-index/) by [RSS](https://plugins.trac.wordpress.org/log/anchor-episodes-index/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.0.0

* Initial Release.

#### 1.0.1

* Enqueued files dir path fix

#### 1.0.2

* Fixed gap between iframe and index. Improved enqueue code to avoid previous issue

#### 1.0.3

* Revert to old enqueue due to issues

#### 1.1.0

* Added loading animation and bg color when loading, added expand description function

#### 1.1.1

* Added ability for shortcode attributes to be defined for the Site and RSS URL’s, so that different podcast can be output on the site at one time.

#### 1.1.2

* Added option for user to define the maximum amount of episodes to display. Add arguments to enqueue scripts in footer.

#### 1.2.1

* Improved CSS structure so that themes conflict with the styles less. Refactored JS for better speed and readability. Removed feednami and now working with the XML directly. Improved naming throughout code.

#### 1.2.2

* Update readme. Tested for WP v6.

#### 1.2.3

* Fix minor update bug

#### 1.2.4

* RSS feed duration value changed from timestamp to HH:mm:ss. Removed conversion function and display as is.

#### 1.2.5

* episode description now respects anchor.fm text formatting

#### 2.0.0

* improved text formatting. added script localization to output PHP vars.

#### 2.0.1

* Fixed episode title link being old iframe url

#### 2.0.2

* Switched from using file\_get\_contents to curl for getting RSS feed due to reports of some servers denying requests. Error was: file\_get\_contents(): https:// wrapper is disabled in the server configuration by allow\_url\_fopen=0

#### 2.0.30

* sanitize description and excerpt for html and special chars

#### 2.0.31

* fix broken plugin settings link

#### 2.0.40

* Enhanced integration with Pro version

#### 2.1.0

* Pro version release. Added links and notices to alert users.

#### 2.1.1

* Fix minor filemtime() issue with admin.css

#### 2.1.2

* Add sale notice

#### 2.1.3

* Fix sale notice

#### 2.1.4

* Fix sale notice

#### 2.1.5

* Fix RSS URL override in shortcode attributes – save transient per rss url

#### 2.1.6

* Fix RSS URL override – fix typo

#### 2.1.7

* RSS URL override – handle for pro version

#### 2.1.8

* Fix XSS vulnerability – alerted by patchstack.com

#### 2.1.9

* Test with WP 6.4

#### 2.1.10

* Test with WP 6.6 and php 8.2

#### 2.1.11

* Fix XSS vulnerability for contributor role

#### 2.1.12

* Add creators.spotify.com to allowed domains

## Meta

* Version **2.1.12**
* Last updated **1 month ago**
* Active installations **2,000+**
* WordPress version **4.8 or higher**
* Tested up to **6.6.2**
* PHP version **7.4 or higher**
* Tags [Anchor.fm](https://wordpress.org/plugins/tags/anchor-fm/)[embed](https://wordpress.org/plugins/tags/embed/)[podcast](https://wordpress.org/plugins/tags/podcast/)[Spotify](https://wordpress.org/plugins/tags/spotify/)
* [Advanced View](https://wordpress.org/plugins/anchor-episodes-index/advanced/)

## Ratings

4.8 out of 5 stars.

* [4 5-star reviews
  5 stars

  4](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/?filter=5)
* [1 4-star review
  4 stars

  1](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/anchor-episodes-index/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/06c9d8eac4cef0edf2612034a6ffaeb95a6f33f97990387ce840661b67944cde?s=32&d=mm&r=g) [Jesse Sugden](https://profiles.wordpress.org/jeswd/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/anchor-episodes-index/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_d49ccd09_20250111_165252.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Anchor Episodes Index (Spotify for Podcasters) <= 2.1.10 - Authenticated (Contributor+) Stored Cross-Site Scripting via anchor\_episodes Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Anchor Episodes Index (Spotify for Podcasters) <= 2.1.10 - Authenticated (Contributor+) Stored Cross-Site Scripting via anchor\_episodes Shortcode

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-10189](https://www.cve.org/CVERecord?id=CVE-2024-10189) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | October 21, 2024 |
| Last Updated | October 22, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The Anchor Episodes Index (Spotify for Podcasters) plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's anchor\_episodes shortcode in all versions up to, and including, 2.1.10 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [wordpress.org](https://wordpress.org/plugins/anchor-episodes-index/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3171752/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fanchor-episodes-index%2Fanchor-episodes-index-spotify-for-podcasters-2110-authenticated-contributor-stored-cross-site-scripting-via-anchor-episodes-shortcode&t=Anchor%20Episodes%20Index%20%28Spotify%20for%20Podcasters%29%20%3C%3D%202.1.10%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20anchor_episodes%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fanchor-episodes-index%2Fanchor-episodes-index-spotify-for-podcasters-2110-authenticated-contributor-stored-cross-site-scripting-via-anchor-episodes-shortcode&text=Anchor%20Episodes%20Index%20%28Spotify%20for%20Podcasters%29%20%3C%3D%202.1.10%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20anchor_episodes%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fanchor-episodes-index%2Fanchor-episodes-index-spotify-for-podcasters-2110-authenticated-contributor-stored-cross-site-scripting-via-anchor-episodes-shortcode "LinkedIn")
Email

## Vulnerability Details for Anchor Episodes Index (Spotify for Podcasters)

#### [Anchor Episodes Index (Spotify for Podcasters)](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/anchor-episodes-index)

| Software Type | Plugin |
| --- | --- |
| Software Slug | anchor-episodes-index [(view on wordpress.org)](https://wordpress.org/plugins/anchor-episodes-index) |
| Patched? | Yes |
| Remediation | Update to version 2.1.11, or a newer patched version |
| Affected Version | * <= 2.1.10 |
| Patched Version | * 2.1.11 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_eda98a64_20250111_165250.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3171752)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3171751 "Changeset 3171751")
* [Next Changeset](/changeset/3171753 "Changeset 3171753") →

---

# Changeset 3171752

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
10/19/2024 01:13:05 AM
([3 months](/timeline?from=2024-10-19T01%3A13%3A05Z&precision=second "See timeline at 10/19/2024 01:13:05 AM") ago)

Author:
jeswd
Message:

Fix XSS vulnerability for contributor role

Location:
[anchor-episodes-index/trunk](/browser/anchor-episodes-index/trunk?rev=3171752)
Files:

4 edited

* [anchor-episodes-index.php](/browser/anchor-episodes-index/trunk/anchor-episodes-index.php?rev=3171752 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [includes/functions.php](/browser/anchor-episodes-index/trunk/includes/functions.php?rev=3171752 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [includes/main.php](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3171752 "Show entry in browser")
  (modified)
  ([3 diffs](#file2 "Show differences"))
* [readme.txt](/browser/anchor-episodes-index/trunk/readme.txt?rev=3171752 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [anchor-episodes-index/trunk/anchor-episodes-index.php](/changeset/3171752/anchor-episodes-index/trunk/anchor-episodes-index.php "Show the changeset 3171752 restricted to anchor-episodes-index/trunk/anchor-episodes-index.php")

  | [r3120277](/browser/anchor-episodes-index/trunk/anchor-episodes-index.php?rev=3120277#L4 "Show revision 3120277 of this file in browser") | [r3171752](/browser/anchor-episodes-index/trunk/anchor-episodes-index.php?rev=3171752#L4 "Show revision 3171752 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin Name: Anchor Episodes Index (Spotify for Podcasters) |
  | 5 | 5 | \* Description: A lightweight plugin that allows you to output an anchor.fm (now called Spotify for Podcasters) podcast player on your site that includes an episode index. Just add two URL's on the settings page, grab the shortcode, and you're good to go! |
  | 6 |  | \* Version: 2.1.1~~0~~ |
  |  | 6 | \* Version: 2.1.11 |
  | 7 | 7 | \* Author: jesweb.dev |
  | 8 | 8 | \* Author URI: https://jesweb.dev |
* ## [anchor-episodes-index/trunk/includes/functions.php](/changeset/3171752/anchor-episodes-index/trunk/includes/functions.php "Show the changeset 3171752 restricted to anchor-episodes-index/trunk/includes/functions.php")

  | [r3056399](/browser/anchor-episodes-index/trunk/includes/functions.php?rev=3056399#L48 "Show revision 3056399 of this file in browser") | [r3171752](/browser/anchor-episodes-index/trunk/includes/functions.php?rev=3171752#L48 "Show revision 3171752 of this file in browser") |  |
  | --- | --- | --- |
  | 48 | 48 |  |
  | 49 | 49 | $feed\_array[] = array( |
  | 50 |  | "title" => ~~(string)$item->title~~, |
  | 51 |  | "title\_excerpt" => ~~(string)$this->RSS\_Data\_Formatting->get\_title\_excerpt($item->title~~), |
  | 52 |  | "iframe\_url" => ~~(string)$this->RSS\_Data\_Formatting->get\_iframe\_url($item->link~~), |
  | 53 |  | "audio\_url" => ~~(string)$item->enclosure->attributes()->url~~, |
  | 54 |  | "description" => (string)$this->RSS\_Data\_Formatting->sanitize\_description($item->description), |
  | 55 |  | "description\_excerpt" => ~~(string)$this->RSS\_Data\_Formatting->get\_description\_excerpt($item->description~~), |
  | 56 |  | "published\_date" => ~~(string)$this->RSS\_Data\_Formatting->get\_published\_date($item->pubDate~~), |
  | 57 |  | "guid" => ~~(string)$item->guid~~, |
  | 58 |  | "image\_url" => ~~$image\_url~~, |
  | 59 |  | "author" => ~~(string)$itunes\_data->author~~, |
  | 60 |  | "subtitle" => ~~(string)$itunes\_data->subtitle~~, |
  | 61 |  | "summary" => ~~(string)$itunes\_data->summary~~, |
  | 62 |  | "duration" => ~~(string)$itunes\_data->duration~~, |
  | 63 |  | "keywords" => ~~(string)$itunes\_data->keywords~~, |
  | 64 |  | "site\_url" => ~~(string)$item->link~~, |
  | 65 |  | "author" => ~~(string)$feed\_xml->channel->image->title~~ |
  |  | 50 | "title" => esc\_html((string)$item->title), |
  |  | 51 | "title\_excerpt" => esc\_html((string)$this->RSS\_Data\_Formatting->get\_title\_excerpt($item->title)), |
  |  | 52 | "iframe\_url" => esc\_url((string)$this->RSS\_Data\_Formatting->get\_iframe\_url($item->link)), |
  |  | 53 | "audio\_url" => esc\_url((string)$item->enclosure->attributes()->url), |
  |  | 54 | "description" => (string) $this->RSS\_Data\_Formatting->sanitize\_description($item->description), |
  |  | 55 | "description\_excerpt" => wp\_kses\_post((string)$this->RSS\_Data\_Formatting->get\_description\_excerpt($item->description)), |
  |  | 56 | "published\_date" => esc\_html((string)$this->RSS\_Data\_Formatting->get\_published\_date($item->pubDate)), |
  |  | 57 | "guid" => esc\_html((string)$item->guid), |
  |  | 58 | "image\_url" => esc\_url($image\_url), |
  |  | 59 | "author" => esc\_html((string)$itunes\_data->author), |
  |  | 60 | "subtitle" => esc\_html((string)$itunes\_data->subtitle), |
  |  | 61 | "summary" => esc\_html((string)$itunes\_data->summary), |
  |  | 62 | "duration" => esc\_html((string)$itunes\_data->duration), |
  |  | 63 | "keywords" => esc\_html((string)$itunes\_data->keywords), |
  |  | 64 | "site\_url" => esc\_url((string)$item->link), |
  |  | 65 | "author" => esc\_html((string)$feed\_xml->channel->image->title) |
  | 66 | 66 | ); |
  | 67 | 67 | } |
* ## [anchor-episodes-index/trunk/includes/main.php](/changeset/3171752/anchor-episodes-index/trunk/includes/main.php "Show the changeset 3171752 restricted to anchor-episodes-index/trunk/includes/main.php")

  | [r3056399](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3056399#L29 "Show revision 3056399 of this file in browser") | [r3171752](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3171752#L29 "Show revision 3171752 of this file in browser") |  |
  | --- | --- | --- |
  | 29 | 29 | add\_action('wp\_ajax\_jesaei\_dismiss\_notice', [$this, 'dismiss\_notice']); |
  | 30 | 30 | } |
  | 31 |  |  |
  | 32 | 31 | public function enqueue\_admin\_scripts() { |
  | 33 | 32 | wp\_enqueue\_style('jesaei-admin-styles', JESAEI\_PLUGIN\_URL . 'assets/admin.css', array(), filemtime(JESAEI\_PLUGIN\_PATH . 'assets/admin.css'), 'all'); |
  | […](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3056399#L45) | […](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3171752#L44) |  |
  | 45 | 44 | } |
  | 46 | 45 |  |
  |  | 46 | // Function to validate allowed domains and sanitize URL |
  |  | 47 | public function validate\_and\_sanitize\_url($url) { |
  |  | 48 | $parsed\_url = parse\_url($url); |
  |  | 49 | $allowed\_domains = ['podcasters.spotify.com', 'anchor.fm']; |
  |  | 50 | if (in\_array($parsed\_url['host'], $allowed\_domains)) { |
  |  | 51 | return esc\_url(sanitize\_url($url)); |
  |  | 52 | } |
  |  | 53 | return ''; |
  |  | 54 | } |
  |  | 55 |  |
  | 47 | 56 | // shortcode main function |
  | 48 | 57 | public function shortcode($atts) { |
  | […](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3056399#L52) | […](/browser/anchor-episodes-index/trunk/includes/main.php?rev=3171752#L61) |  |
  | 52 | 61 | 'max\_episodes' => '' |
  | 53 | 62 | ), $atts); |
  | 54 |  |  |
  |  | 63 |  |
  | 55 | 64 | // Retrieve settings page data |
  | 56 | 65 | $options = get\_option('jes\_anchor\_settings'); |
  | 57 | 66 |  |
  | 58 |  | // Use ~~esc\_url to sanitize~~ and escape URL-related data |
  | 59 |  | $site\_url\_from\_options = isset($options['site\_url']) ? ~~esc~~\_url($options['site\_url']) : ''; |
  | 60 |  | $site\_url = strlen($shortcode\_attributes['site\_url']) > 0 ? ~~esc~~\_url($shortcode\_attributes['site\_url']) : $site\_url\_from\_options; |
  |  | 67 | // Use the new function to validate, sanitize, and escape URL-related data |
  |  | 68 | $site\_url\_from\_options = isset($options['site\_url']) ? $this->validate\_and\_sanitize\_url($options['site\_url']) : ''; |
  |  | 69 | $site\_url = strlen($shortcode\_attributes['site\_url']) > 0 ? $this->validate\_and\_sanitize\_url($shortcode\_attributes['site\_url']) : $site\_url\_from\_options; |
  | 61 | 70 |  |
  | 62 |  | $anchor\_rss\_url\_from\_options = isset($options['anchor\_rss\_url']) ? ~~esc~~\_url($options['anchor\_rss\_url']) : ''; |
  | 63 |  | $anchor\_rss\_url = strlen($shortcode\_attributes['rss\_url']) > 0 ? ~~esc~~\_url($shortcode\_attributes['rss\_url']) : $anchor\_rss\_url\_from\_options; |
  |  | 71 | $anchor\_rss\_url\_from\_options = isset($options['anchor\_rss\_url']) ? $this->validate\_and\_sanitize\_url($options['anchor\_rss\_url']) : ''; |
  |  | 72 | $anchor\_rss\_url = strlen($shortcode\_attributes['rss\_url']) > 0 ? $this->validate\_and\_sanitize\_url($shortcode\_attributes['rss\_url']) : $anchor\_rss\_url\_from\_options; |
  | 64 | 73 |  |
  | 65 | 74 | $max\_episodes\_from\_options = !empty($options['max\_episodes']) ? (int) $options['max\_episodes'] : 999; |
* ## [anchor-episodes-index/trunk/readme.txt](/changeset/3171752/anchor-episodes-index/trunk/readme.txt "Show the changeset 3171752 restricted to anchor-episodes-index/trunk/readme.txt")

  | [r3120277](/browser/anchor-episodes-index/trunk/readme.txt?rev=3120277#L5 "Show revision 3120277 of this file in browser") | [r3171752](/browser/anchor-episodes-index/trunk/readme.txt?rev=3171752#L5 "Show revision 3171752 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 | 6 | Requires PHP: 7.4 |
  | 7 |  | Stable tag: 2.1.1~~0~~ |
  |  | 7 | Stable tag: 2.1.11 |
  | 8 | 8 | License: GPLv2 or later |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/anchor-episodes-index/trunk/readme.txt?rev=3120277#L127) | […](/browser/anchor-episodes-index/trunk/readme.txt?rev=3171752#L127) |  |
  | 127 | 127 | = 2.1.10 = |
  | 128 | 128 | \* Test with WP 6.6 and php 8.2 |
  |  | 129 |  |
  |  | 130 | = 2.1.11 = |
  |  | 131 | \* Fix XSS vulnerability for contributor role |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3171752)
* [Zip Archive](?format=zip&new=3171752)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


