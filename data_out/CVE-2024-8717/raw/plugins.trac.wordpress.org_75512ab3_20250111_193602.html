<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  






  <head>
    <title>
      dflip.min.js in 3d-flipbook-dflip-lite/trunk/assets/js
     – WordPress Plugin Repository
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
          <link rel="search" href="/search" />
          <link rel="help" href="/wiki/TracGuide" />
          <link rel="alternate" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?format=txt" type="text/plain" title="Plain Text" />
          <link rel="alternate" href="/export/3220810/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" type="text/javascript; charset=utf-8" title="Original Format" />
          <link rel="start" href="/wiki" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/trac.css?v=212" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/code.css?v=212" />
          <link rel="stylesheet" href="/pygments/trac.css" type="text/css" />
	<link rel="stylesheet" href="https://s.w.org/style/trac/common/css/browser.css?v=212" />
          <link rel="prev" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?rev=3220006" title="Revision 3220006" />
          <link rel="icon" href="/chrome/common/trac.ico" type="image/x-icon" />
    <style id="trac-noscript" type="text/css">.trac-noscript { display: none !important }</style>
      <link type="application/opensearchdescription+xml" rel="search" href="/search/opensearch" title="Search WordPress Plugin Repository" />
	<link rel="dns-prefetch" href="//s.w.org" />
	<link rel="dns-prefetch" href="//fonts.googleapis.com" />
	<link rel="dns-prefetch" href="//fonts.gstatic.com" />
	<link rel="dns-prefetch" href="//www.googletagmanager.com" />
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s);j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5Z8B3BX');</script>
	
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preload" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/Inter/Inter-latin.woff2" as="font" crossorigin="crossorigin" type="font/woff2" />
<meta name="robots" content="max-image-preview:large" />
<link rel="dns-prefetch" href="//s.w.org" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//v0.wordpress.com" />
<link rel="dns-prefetch" href="//i0.wp.com" />
<script>//<![CDATA[
(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-P24PF4B');
//]]></script>
	<script type="text/javascript">//<![CDATA[
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/wordpress.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.3-alpha-55651"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){p.clearRect(0,0,i.width,i.height),p.fillText(e,0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(t,0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(p&&p.fillText)switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s("\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!s("\ud83c\uddfa\ud83c\uddf3","\ud83c\uddfa\u200b\ud83c\uddf3")&&!s("\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!s("\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c\udfff","\ud83e\udef1\ud83c\udffb\u200b\ud83e\udef2\ud83c\udfff")}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
//]]></script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="open-sans-css" href="https://fonts.googleapis.com/css2?family=Open+Sans%3Aital%2Cwght%400%2C300%3B0%2C400%3B0%2C600%3B1%2C300%3B1%2C400%3B1%2C600&amp;display=swap" type="text/css" media="all" />
<link rel="stylesheet" id="wp4-styles-css" href="https://s.w.org/style/wp4.css?ver=1645139188" type="text/css" media="all" />
<link rel="stylesheet" id="wp-block-library-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/style.css?ver=15.4.0" type="text/css" media="all" />
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<style id="wporg-language-suggest-style-inline-css" type="text/css">
.wp-block-wporg-language-suggest{background-color:#eff2ff;color:#1e1e1e;font-size:12px;line-height:1;text-align:center}.wp-block-wporg-language-suggest&gt;*{padding:10px 4px}
</style>
<style id="wporg-latest-news-style-inline-css" type="text/css">
.wporg-latest-news{list-style:none;margin:0;padding:0}.wporg-latest-news li:not(:last-child){padding-bottom:var(--wp--custom--latest-news--spacing,16px)}.wporg-latest-news li a{text-decoration:none}.wporg-latest-news li a:hover{text-decoration:underline}.wporg-latest-news li&gt;a{color:var(--wp--custom--latest-news--link--color);display:block;font-family:var(--wp--custom--latest-news--title--font-family);font-size:var(--wp--custom--latest-news--title--font-size,24px);line-height:var(--wp--custom--latest-news--title--line-height);margin-bottom:var(--wp--custom--latest-news--link--spacing,4px)}.wporg-latest-news__details{font-size:var(--wp--custom--latest-news--link--details-font-size,14px)}.wporg-latest-news__details&gt;:not(:last-child){margin-right:4px}.wporg-latest-news__category{text-transform:uppercase}
</style>
<style id="wporg-notice-style-inline-css" type="text/css">
.wp-block-wporg-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--acid-green-3);--wp--custom--wporg-notice--color--text:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-notice.is-info-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--blueberry-4)}.wp-block-wporg-notice.is-alert-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--lemon-3)}.wp-block-wporg-notice.is-warning-notice{--wp--custom--wporg-notice--color--background:var(--wp--preset--color--pomegrade-3)}.wp-block-wporg-notice{background-color:var(--wp--custom--wporg-notice--color--background);color:var(--wp--custom--wporg-notice--color--text);display:grid;gap:.5em;grid-template-columns:auto 1fr;padding:1.25em}.wp-block-wporg-notice&gt;*{align-self:start}.wp-block-wporg-notice p:first-child{margin-block-start:0}.wp-block-wporg-notice p:last-child{margin-block-end:0}.wp-block-wporg-notice a:active,.wp-block-wporg-notice a:focus,.wp-block-wporg-notice a:hover,.wp-block-wporg-notice a:link,.wp-block-wporg-notice a:visited{color:var(--wp--custom--wporg-notice--color--text)}.wp-block-wporg-notice.alignleft,.wp-block-wporg-notice.alignright{max-width:calc(var(--wp--style--global--content-size)*.66)}.wp-block-wporg-notice__icon{align-self:flex-start;background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/tip.svg);background-position:50%;background-repeat:no-repeat;background-size:24px 24px;display:flex;height:1.875em;width:24px}.is-info-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/info.svg)}.is-alert-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/alert.svg)}.is-warning-notice .wp-block-wporg-notice__icon{background-image:url(/wp-content/mu-plugins/pub-sync/blocks/notice/build/../src/icon/library/warning.svg)}.wp-block-wporg-notice__content{align-self:center}
</style>
<style id="wporg-site-breadcrumbs-style-inline-css" type="text/css">
.wp-block-wporg-site-breadcrumbs{align-items:center;display:flex}.wp-block-wporg-site-breadcrumbs a{color:var(--wp--preset--color--charcoal-1)}.wp-block-wporg-site-breadcrumbs a:hover{text-decoration-line:underline}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child){align-items:center;display:flex;margin-top:0}.wp-block-wporg-site-breadcrumbs&gt;span:not(:first-child):before{content:"/";display:inline-block;font-weight:400;margin:0 .5rem}.wp-block-wporg-site-breadcrumbs .is-current-page{font-weight:700}
</style>
<style id="wporg-table-of-contents-style-inline-css" type="text/css">
@media (min-width:890px){#wp--skip-link--target,.is-toc-heading{scroll-margin-top:var(--wp-local-header-offset,0)}}.is-toc-heading a{--local--icon-size:24px;color:inherit;display:inline-block;padding-right:calc(var(--local--icon-size) + .1em)}.is-toc-heading a,.is-toc-heading a:after{text-decoration:none!important}.is-toc-heading a:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.083 17.639H8.444a5.194 5.194 0 1 1 0-10.389h1.64v1.5H8.443a3.694 3.694 0 0 0 0 7.389h1.641v1.5ZM13.917 7.25h1.639a5.194 5.194 0 0 1 0 10.39h-1.641v-1.5h1.642a3.694 3.694 0 0 0 0-7.39h-1.642v-1.5Zm-4.584 6.084h5.334v-1.5H9.333v1.5Z' fill='%233858E9'/%3E%3C/svg%3E");background-position:100%;background-repeat:no-repeat;background-size:contain;content:"";display:inline-block;height:var(--local--icon-size);margin-right:calc(var(--local--icon-size)*-1 - .1em);opacity:0;vertical-align:baseline;width:calc(var(--local--icon-size) + .1em)}.is-toc-heading a:focus:after,.is-toc-heading a:hover:after,.is-toc-heading:focus a:after{opacity:1}.is-toc-heading:focus,.is-toc-heading:focus-visible{outline:none}.is-toc-heading:target{border-left:2px solid var(--wp--preset--color--blueberry-1);padding-left:8px}
</style>
<style id="wporg-two-factor-settings-style-inline-css" type="text/css">
.wp-block-wporg-two-factor-settings{position:relative}.wp-block-wporg-two-factor-settings h3{clear:none;font-size:14px}.bbp-single-user .wp-block-wporg-two-factor-settings input[type=email],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=number],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=password],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=search],.bbp-single-user .wp-block-wporg-two-factor-settings input[type=text]{font-family:Open Sans,sans-serif;font-size:14px;padding:6px 10px}.wp-block-wporg-two-factor-settings .components-button{margin-right:20px}.wporg-2fa__navigation{justify-content:center!important;padding:24px 0!important;position:relative}.wporg-2fa__navigation a{align-items:center;display:flex;left:24px;position:absolute}.wporg-2fa__navigation svg{fill:#4ca6cf}.wporg-2fa__navigation h3{margin:unset;text-transform:capitalize}.wporg-2fa__token{letter-spacing:.3em}.components-notice{margin-left:0;margin-right:0}.components-notice.is-error,.components-notice.is-success{margin:0}.components-notice .components-notice__content{align-items:center;display:flex;gap:8px}.components-notice .components-notice__content svg{flex-shrink:0}.wporg-2fa__account-status .wporg-2fa__status-card:focus-within,.wporg-2fa__account-status .wporg-2fa__status-card:hover{z-index:1}.wporg-2fa__account-status .wporg-2fa__status-card a{display:block;text-decoration:none}.wporg-2fa__account-status .wporg-2fa__status-card a:focus,.wporg-2fa__account-status .wporg-2fa__status-card a:hover{outline:var(--wp-admin-border-width-focus) solid var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline-offset:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body{grid-column-gap:10px;display:grid;grid-template-areas:"status header      open" "status description open";grid-template-columns:min-content auto min-content;padding:18px 14px}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-icon{-ms-grid-row-span:2;align-self:center;grid-area:status;-ms-grid-column:1;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body h3{align-self:end;color:#1e1e1e;font-size:1.1em;grid-area:header;-ms-grid-column:3;-ms-grid-row:1;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body p{align-self:start;color:#757575;grid-area:description;-ms-grid-column:3;-ms-grid-row:2;margin:0}.wporg-2fa__account-status .wporg-2fa__status-card .components-card__body .wporg-2fa__status-card-open{-ms-grid-row-span:2;align-self:center;grid-area:open;-ms-grid-column:5;-ms-grid-row:1}.wporg-2fa__account-status .wporg-2fa__status-icon.is-enabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-ok{fill:#4ab866}.wporg-2fa__account-status .wporg-2fa__status-icon.is-pending{fill:#f0b849}.wporg-2fa__account-status .wporg-2fa__status-icon.is-disabled,.wporg-2fa__account-status .wporg-2fa__status-icon.is-error{fill:#cc1818}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container,.wporg-2fa__password .wporg-2fa__password_container{align-items:flex-start;justify-content:flex-start;position:relative;width:-moz-fit-content;width:fit-content}.bbp-single-user .wporg-2fa__password .wporg-2fa__password_container input,.wporg-2fa__password .wporg-2fa__password_container input{padding-right:35px}.bbp-single-user .wporg-2fa__password .wporg-2fa__show-password,.wporg-2fa__password .wporg-2fa__show-password{height:31px;margin:0;padding:0 5px;position:absolute;right:1px;top:24px}.wporg-2fa__email .components-notice.actions-on-right&gt;div{display:flex}.wporg-2fa__email .components-notice.actions-on-right&gt;div&gt;p{flex-grow:1;margin:initial}.wporg-2fa__email .email-error{color:#cc1818}.wporg-2fa__qr-code{text-align:center}#bbpress-forums .wporg-2fa__qr-code&gt;a{display:inline-block}#bbpress-forums .wporg-2fa__qr-code&gt;a:focus,#bbpress-forums .wporg-2fa__qr-code&gt;a:hover{box-shadow:0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}.wporg-2fa__manual-code{font-family:monospace;font-weight:700;letter-spacing:.1em}.wporg-2fa__verify-code{margin-bottom:20px;width:23ch}.wporg-2fa__submit-btn-wrapper{margin-bottom:15px}.wporg-2fa__enabled-status{color:#4ab866;text-transform:uppercase}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list{background-color:#ddd;margin:1em 0;padding:15px 20px}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list ol{-moz-column-count:2;-moz-column-width:110px;columns:110px 2;margin:0}.wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li::marker{color:#757575}.wporg-2fa__backup-codes .components-notice{margin:0 0 1em}#bbpress-forums .wporg-2fa__backup-codes .wporg-2fa__backup-codes-list li{list-style-position:inside;list-style-type:decimal}#bbpress-forums .wporg-2fa__progress-bar,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar,.wporg-2fa__progress-bar{--color-enabled:#0475c4;--color-disabled:#ccc;--color-disabled-text:#757575;margin:0 -24px;position:relative}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps,.wporg-2fa__progress-bar .wporg-2fa__setup-steps{display:flex;justify-content:space-evenly;position:relative;z-index:2}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li{text-align:center}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps svg{border:1px solid;border-radius:30px;box-sizing:content-box;padding:15px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled{color:var(--color-enabled);font-weight:700}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-enabled svg{fill:#fff;background-color:var(--color-enabled);border-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled{color:var(--color-disabled-text)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg,.wporg-2fa__progress-bar .wporg-2fa__setup-steps li.is-disabled svg{fill:var(--color-disabled);background-color:#fff;border-color:var(--color-disabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators{display:flex;justify-content:space-between;position:absolute;top:27px;width:100%;z-index:1}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li{flex-basis:33%;flex-grow:1;flex-shrink:1;height:3px}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-enabled{background-color:var(--color-enabled)}#bbpress-forums .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,#bbpress-forums.bbpress-wrapper .wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled,.wporg-2fa__progress-bar .wporg-2fa__setup-step-separators li.is-disabled{background-color:var(--color-disabled)}.wporg-2fa__global-notice{position:absolute;right:0;top:-60px;z-index:2}.wporg-2fa__global-notice .components-snackbar__content,.wporg-2fa__global-notice.components-snackbar{cursor:auto}.wporg-2fa__global-notice .components-snackbar__content{position:relative}.wporg-2fa__global-notice .components-snackbar .components-snackbar__icon,.wporg-2fa__global-notice .components-snackbar__icon{fill:#4ab866;left:-34px!important;position:absolute;top:-6px!important;width:30px}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary{box-shadow:inset 0 0 0 1px var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));text-decoration:none}#bbpress-forums .wp-block-wporg-two-factor-settings a.components-button.is-secondary:not(:disabled):focus{box-shadow:inset 0 0 0 var(--wp-admin-border-width-focus) var(--wp-components-color-accent,var(--wp-admin-theme-color,#007cba));outline:3px solid transparent}
</style>
<link rel="stylesheet" id="dashicons-css" href="https://s.w.org/wp-includes/css/dashicons.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="wp-components-css" href="https://wordpress.org/wp-content/plugins/gutenberg/build/components/style.css?ver=15.4.0" type="text/css" media="all" />
<link rel="stylesheet" id="mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css?ver=4.2.17" type="text/css" media="all" />
<link rel="stylesheet" id="wp-mediaelement-css" href="https://wordpress.org/wp-includes/js/mediaelement/wp-mediaelement.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<link rel="stylesheet" id="classic-theme-styles-css" href="https://wordpress.org/wp-includes/css/classic-themes.min.css?ver=6.3-alpha-55651" type="text/css" media="all" />
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}body .is-layout-flow &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-flow &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-flow &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignleft{float: left;margin-inline-start: 0;margin-inline-end: 2em;}body .is-layout-constrained &gt; .alignright{float: right;margin-inline-start: 2em;margin-inline-end: 0;}body .is-layout-constrained &gt; .aligncenter{margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; :where(:not(.alignleft):not(.alignright):not(.alignfull)){max-width: var(--wp--style--global--content-size);margin-left: auto !important;margin-right: auto !important;}body .is-layout-constrained &gt; .alignwide{max-width: var(--wp--style--global--wide-size);}body .is-layout-flex{display: flex;}body .is-layout-flex{flex-wrap: wrap;align-items: center;}body .is-layout-flex &gt; *{margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}
.wp-block-pullquote{font-size: 1.5em;line-height: 1.6;}
.wp-block-navigation a:where(:not(.wp-element-button)){color: inherit;}
</style>
<link rel="stylesheet" id="wporg-global-fonts-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/global-fonts/style.css?ver=1675220034" type="text/css" media="all" />
<link rel="stylesheet" id="wporg-global-header-footer-css" href="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/build/style.css?ver=1681488560" type="text/css" media="all" />
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view.min.js?ver=aa58d4d058136adf2722" id="wp-block-navigation-view-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/gutenberg/build/block-library/blocks/navigation/view-modal.min.js?ver=774770b5630ff20f41e1" id="wp-block-navigation-view-modal-js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com" /><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
	<style>img#wpstats{display:none}</style>
		<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="32x32" />
<link rel="icon" href="https://s.w.org/style/trac/common/trac.ico?v=67c19393add65fcabf9516a6475c2be5" sizes="192x192" />
<link rel="apple-touch-icon" href="https://s.w.org/images/wmark.png" />
<meta name="msapplication-TileImage" content="https://s.w.org/images/wmark.png" />
	
	<meta name="viewport" content="width=device-width" />
	<link rel="stylesheet" href="https://s.w.org/wp-includes/css/dashicons.min.css?20150710" type="text/css" />
	<link rel="stylesheet" type="text/css" href="https://s.w.org/style/trac/wp-trac.css?212" />
	<script src="https://s.w.org/style/trac/common/js/jquery.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/babel.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/trac.js?v=212"></script>
	<script src="https://s.w.org/style/trac/common/js/search.js?v=212"></script>
    <script type="text/javascript">
      jQuery("#trac-noscript").remove();
      jQuery(document).ready(function($) {
        $(".trac-autofocus").focus();
        $(".trac-target-new").attr("target", "_blank");
        if ($.ui) { /* is jquery-ui added? */
          $(".trac-datepicker:not([readonly])").prop("autocomplete", "off").datepicker();
          $(".trac-datetimepicker:not([readonly])").prop("autocomplete", "off").datetimepicker();
          $("#main").addClass("trac-nodatetimehint");
        }
        $(".trac-disable").disableSubmit(".trac-disable-determinant");
        setTimeout(function() { $(".trac-scroll").scrollToTop() }, 1);
        $(".trac-disable-on-submit").disableOnSubmit();
      });
    </script>
	<script src="https://s.w.org/style/trac/common/js/folding.js?v=212"></script>
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $(".trac-toggledeleted").show().click(function() {
                  $(this).siblings().find(".trac-deleted").toggle();
                  return false;
        }).click();
        $("#jumploc input").hide();
        $("#jumploc select").change(function () {
          this.parentNode.parentNode.submit();
        });
          $('#preview table.code').enableCollapsibleColumns($('#preview table.code thead th.content'));
      });
    </script>
  </head>
  <body id="wordpress-org" class="plugins trac wporg-make make-plugins">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5Z8B3BX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	
		<a id="wporg-skip-link" tabindex="" class="skip-link screen-reader-text" href="#main" data-selector="#main">Skip to content</a>
<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-dark-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0.49803921568627"></fefuncr><fefuncg type="table" tablevalues="0 0.49803921568627"></fefuncg><fefuncb type="table" tablevalues="0 0.49803921568627"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-grayscale"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.54901960784314 0.98823529411765"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.71764705882353 0.25490196078431"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-red"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 1"></fefuncr><fefuncg type="table" tablevalues="0 0.27843137254902"></fefuncg><fefuncb type="table" tablevalues="0.5921568627451 0.27843137254902"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-midnight"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0 0"></fefuncr><fefuncg type="table" tablevalues="0 0.64705882352941"></fefuncg><fefuncb type="table" tablevalues="0 1"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-magenta-yellow"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.78039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.94901960784314"></fefuncg><fefuncb type="table" tablevalues="0.35294117647059 0.47058823529412"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-purple-green"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.65098039215686 0.40392156862745"></fefuncr><fefuncg type="table" tablevalues="0 1"></fefuncg><fefuncb type="table" tablevalues="0.44705882352941 0.4"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 0 0" width="0" height="0" focusable="false" role="none" style="visibility: hidden; position: absolute; left: -9999px; overflow: hidden;"><defs><filter id="wp-duotone-blue-orange"><fecolormatrix color-interpolation-filters="sRGB" type="matrix" values=" .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 .299 .587 .114 0 0 "></fecolormatrix><fecomponenttransfer color-interpolation-filters="sRGB"><fefuncr type="table" tablevalues="0.098039215686275 1"></fefuncr><fefuncg type="table" tablevalues="0 0.66274509803922"></fefuncg><fefuncb type="table" tablevalues="0.84705882352941 0.41960784313725"></fefuncb><fefunca type="table" tablevalues="1 1"></fefunca></fecomponenttransfer><fecomposite in2="SourceGraphic" operator="in"></fecomposite></filter></defs></svg><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P24PF4B" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<header class="global-header wp-block-group wp-block-wporg-global-header">
<figure class="wp-block-image global-header__wporg-logo-mark">
	<a href="https://wordpress.org/">
		<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>	</a>
</figure>
<nav class="is-responsive global-header__navigation wp-block-navigation is-horizontal is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open " data-micromodal-trigger="modal-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container  " style="" id="modal-1">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-1-content">
							<ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/">Download &amp; Extend</a><button aria-label="Download &amp; Extend submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/mobile/"><span class="wp-block-navigation-item__label">Mobile</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://openverse.org/"><span class="wp-block-navigation-item__label">Openverse ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/">Learn</a><button aria-label="Learn submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/support/forums/"><span class="wp-block-navigation-item__label">Forums</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.tv ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/">Community</a><button aria-label="Community submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Make WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/photos/"><span class="wp-block-navigation-item__label">Photo Directory</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/five-for-the-future/"><span class="wp-block-navigation-item__label">Five for the Future</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://www.meetup.com/pro/wordpress/"><span class="wp-block-navigation-item__label">Meetups ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://jobs.wordpress.net/"><span class="wp-block-navigation-item__label">Job Board ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item has-child open-on-hover-click wp-block-navigation-submenu"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/">About</a><button aria-label="About submenu" class="wp-block-navigation__submenu-icon wp-block-navigation-submenu__toggle" aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewbox="0 0 12 12" fill="none" aria-hidden="true" focusable="false"><path d="M1.50002 4L6.00002 8L10.5 4" stroke-width="1.5"></path></svg></button><ul class="wp-block-navigation__submenu-container wp-block-navigation-submenu"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About WordPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/enterprise/"><span class="wp-block-navigation-item__label">Enterprise</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/gutenberg/"><span class="wp-block-navigation-item__label">Gutenberg ↗︎</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">WordPress Swag Store ↗︎</span></a></li></ul></li><li class=" wp-block-navigation-item global-header__mobile-get-wordpress global-header__get-wordpress wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/download/"><span class="wp-block-navigation-item__label">Get WordPress</span></a></li></ul>
						</div>
					</div>
				</div>
			</div></nav>
<nav class="is-responsive  is-vertical global-header__search wp-block-navigation is-layout-flex wp-container-6 wp-block-navigation-is-layout-flex" aria-label=""><button aria-haspopup="true" aria-label="Open menu" class="wp-block-navigation__responsive-container-open always-shown" data-micromodal-trigger="modal-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><rect x="4" y="7.5" width="16" height="1.5"></rect><rect x="4" y="15" width="16" height="1.5"></rect></svg></button>
			<div class="wp-block-navigation__responsive-container hidden-by-default " style="" id="modal-5">
				<div class="wp-block-navigation__responsive-close" tabindex="-1" data-micromodal-close="">
					<div class="wp-block-navigation__responsive-dialog" aria-label="Menu">
							<button aria-label="Close menu" data-micromodal-close="" class="wp-block-navigation__responsive-container-close"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false"><path d="M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"></path></svg></button>
						<div class="wp-block-navigation__responsive-container-content" id="modal-5-content">
							<form role="search" method="GET" action="/search" class="wp-block-search__button-inside wp-block-search__icon-button wp-block-search"><label for="wp-block-search__input-4" class="wp-block-search__label">Search Trac</label><div class="wp-block-search__inside-wrapper "><input type="search" id="wp-block-search__input-4" class="wp-block-search__input" name="q" value="" placeholder="Type to search…" required="" /><button type="submit" class="wp-block-search__button has-icon wp-element-button" aria-label="Search"><svg class="search-icon" viewbox="0 0 24 24" width="24" height="24">
					<path d="M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"></path>
				</svg></button></div></form>
						</div>
					</div>
				</div>
			</div></nav>
<div class="global-header__desktop-get-wordpress-container is-layout-flow wp-block-group-is-layout-flow">
	<a href="https://wordpress.org/download/" class="global-header__desktop-get-wordpress global-header__get-wordpress">
		Get WordPress	</a>
</div>
</header>
	
	<div id="headline" class="no-menu">
		<div class="wrapper">
			<h2><a href="//wordpress.org/plugins/">Plugin Directory</a></h2>
		</div>
	</div>

    <div id="banner">
      <form id="search" action="/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="last first">
	<a href="https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2F3d-flipbook-dflip-lite%2Ftrunk%2Fassets%2Fjs%2Fdflip.min.js" class="login">Login</a>
</li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first"><a href="/timeline">Timeline</a></li><li><a href="/report">View Tickets</a></li><li class="last active"><a href="/browser">Browse Source</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><span>&larr; <a class="prev" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?rev=3220006" title="Revision 3220006">Previous Revision</a></span></li><li><span class="missing">Next Revision &rarr;</span></li><li><a href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?annotate=blame" title="Annotate each line with the last changed revision (this can be time consuming...)">Blame</a></li><li class="last"><a href="/log/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js">Revision Log</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="browser">
        <h1>
          
<a class="pathentry first" href="/browser?order=name" title="Go to repository root">source:</a>
<a class="pathentry" href="/browser/3d-flipbook-dflip-lite?order=name" title="View 3d-flipbook-dflip-lite">3d-flipbook-dflip-lite</a><span class="pathentry sep">/</span><a class="pathentry" href="/browser/3d-flipbook-dflip-lite/trunk?order=name" title="View trunk">trunk</a><span class="pathentry sep">/</span><a class="pathentry" href="/browser/3d-flipbook-dflip-lite/trunk/assets?order=name" title="View assets">assets</a><span class="pathentry sep">/</span><a class="pathentry" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js?order=name" title="View js">js</a><span class="pathentry sep">/</span><a class="pathentry" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?order=name" title="View dflip.min.js">dflip.min.js</a>
<br style="clear: both" />

        </h1>
        <div id="diffrev">
          <form action="/changeset" method="get">
            <div>
              <label title="Show the diff against a specific revision">
                View diff against: <input type="text" name="old" size="6" />
                <input type="hidden" name="old_path" value="3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" />
                <input type="hidden" name="new" />
                <input type="hidden" name="new_path" value="3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" />
              </label>
            </div>
          </form>
        </div>
        <div id="jumprev">
          <form action="" method="get">
            <div>
              <label for="rev">
                View revision:</label>
              <input type="text" id="rev" name="rev" size="6" />
            </div>
          </form>
        </div>
        <div class="trac-tags">
        </div>
      <table id="info" summary="Revision info">
        <tr>
          <th>
                <a href="/changeset/3220508/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" title="View differences">Last change</a>
                  on this file was
                  <a href="/changeset/3220508/" title="View changeset 3220508">3220508</a>,
                  checked in by <span class="trac-author">dearhive</span>, <a class="timeline" href="/timeline?from=2025-01-11T02%3A28%3A07Z&amp;precision=second" title="See timeline at 01/11/2025 02:28:07 AM">17 hours ago</a>
          </th>
        </tr>
        <tr>
          <td class="message searchable">
              <h1 id="a2.3.55:">2.3.55:</h1>
<ul><li>Improve/Fix: Vulnerability (CVE ID: CVE-2024-11830) fix improved
</li></ul>
          </td>
        </tr>
        <tr><td colspan="2">
            <strong>File size:</strong>
            <span title="226364 bytes">221.1 KB</span>
          </td></tr>
      </table>
      <div id="preview" class="searchable">
        
  <table class="code"><thead><tr><th class="lineno" title="Line numbers">Line</th><th class="content"> </th></tr></thead><tbody><tr><th id="L1"><a href="#L1">1</a></th><td><span class="o">!</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">{</span><span class="mi">101</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?!!</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">}(</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">[],{</span><span class="nx">getAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">removeAll</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="o">=</span><span class="p">[]},</span><span class="nx">add</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">)},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="o">-</span><span class="mi">1</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">1</span><span class="p">)},</span><span class="nx">update</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;)</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">update</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">++:</span><span class="nx">e</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}})).</span><span class="nx">Tween</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="p">{},</span><span class="nx">a</span><span class="o">=</span><span class="p">{},</span><span class="nx">s</span><span class="o">=</span><span class="p">{},</span><span class="nx">o</span><span class="o">=</span><span class="mi">1</span><span class="nx">e3</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">h</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">u</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Linear</span><span class="p">.</span><span class="nx">None</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Interpolation</span><span class="p">.</span><span class="nx">Linear</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[],</span><span class="nx">v</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">m</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">P</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">P</span><span class="p">],</span><span class="mi">10</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">to</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">o</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span> <span class="k">in</span> <span class="nx">t</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">h</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">m</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">o</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">())</span><span class="o">+</span><span class="nx">p</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nb">Array</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">[</span><span class="nx">r</span><span class="p">].</span><span class="nx">length</span><span class="p">)</span><span class="k">continue</span><span class="p">;</span><span class="nx">a</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="nx">e</span><span class="p">[</span><span class="nx">r</span><span class="p">]].</span><span class="nx">concat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">r</span><span class="p">])}</span><span class="kc">null</span><span class="o">!=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nb">Array</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">*=</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">)}</span><span class="k">return</span> <span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">stop</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">h</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="nx">w</span><span class="o">&amp;&amp;</span><span class="nx">w</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stopChainedTweens</span><span class="p">()),</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">stopChainedTweens</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">stop</span><span class="p">()},</span><span class="k">this</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">h</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">completeChainedTweens</span><span class="p">()),</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">completeChainedTweens</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">complete</span><span class="p">()},</span><span class="k">this</span><span class="p">.</span><span class="nx">delay</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">p</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">repeat</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">yoyo</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">easing</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">d</span><span class="o">=</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">interpolation</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">chain</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">g</span><span class="o">=</span><span class="nx">arguments</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">onStart</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">v</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">onUpdate</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">onComplete</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">onStop</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">w</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">update</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">c</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">m</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">v</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">m</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">w</span><span class="o">=</span><span class="p">(</span><span class="nx">w</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="nx">c</span><span class="p">)</span><span class="o">/</span><span class="nx">o</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nx">w</span><span class="p">,</span><span class="nx">P</span><span class="o">=</span><span class="nx">d</span><span class="p">(</span><span class="nx">w</span><span class="p">),</span><span class="nx">a</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">i</span><span class="p">[</span><span class="nx">h</span><span class="p">]){</span><span class="kd">var</span> <span class="nx">h</span><span class="p">,</span><span class="nx">w</span><span class="p">,</span><span class="nx">P</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span><span class="nx">n</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nb">Array</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="nx">P</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">x</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">x</span><span class="o">=</span><span class="nx">x</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s2">"+"</span><span class="p">)</span><span class="o">||</span><span class="nx">x</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s2">"-"</span><span class="p">)</span><span class="o">?</span><span class="nx">S</span><span class="o">+</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span><span class="s2">"number"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">x</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">S</span><span class="o">+</span><span class="p">(</span><span class="nx">x</span><span class="o">-</span><span class="nx">S</span><span class="p">)</span><span class="o">*</span><span class="nx">P</span><span class="p">))}</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">y</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">P</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="nx">w</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="nx">h</span> <span class="k">in</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">r</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="o">--</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">+</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="mi">10</span><span class="p">)),</span><span class="nx">l</span><span class="p">){</span><span class="kd">var</span> <span class="nx">C</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">h</span><span class="p">];</span><span class="nx">s</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">],</span><span class="nx">a</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">C</span><span class="p">}</span><span class="nx">i</span><span class="p">[</span><span class="nx">h</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">h</span><span class="p">]}</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=!</span><span class="nx">u</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nx">t</span><span class="o">+</span><span class="nx">p</span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="kc">null</span><span class="o">!=</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">T</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">E</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">;</span><span class="nx">E</span><span class="o">++</span><span class="p">)</span><span class="nx">g</span><span class="p">[</span><span class="nx">E</span><span class="p">].</span><span class="nx">start</span><span class="p">(</span><span class="nx">c</span><span class="o">+</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">t</span><span class="p">.</span><span class="nx">Easing</span><span class="o">=</span><span class="p">{</span><span class="nx">Linear</span><span class="o">:</span><span class="p">{</span><span class="nx">None</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},</span><span class="nx">Quadratic</span><span class="o">:</span><span class="p">{</span><span class="nx">In</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="p">},</span><span class="nx">Out</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">-</span><span class="nx">e</span><span class="p">)},</span><span class="nx">InOut</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mi">2</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">:-</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="o">--</span><span class="nx">e</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)}},</span><span class="nx">Quartic</span><span class="o">:</span><span class="p">{</span><span class="nx">In</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="p">},</span><span class="nx">Out</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="mi">1</span><span class="o">-</span> <span class="o">--</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="p">},</span><span class="nx">InOut</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mi">2</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">:-</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="p">((</span><span class="nx">e</span><span class="o">-=</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">-</span><span class="mi">2</span><span class="p">)}},</span><span class="nx">Sinusoidal</span><span class="o">:</span><span class="p">{</span><span class="nx">In</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="mi">1</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">e</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">)},</span><span class="nx">Out</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">e</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">)},</span><span class="nx">InOut</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="nx">e</span><span class="p">))}},</span><span class="nx">Cubic</span><span class="o">:</span><span class="p">{</span><span class="nx">In</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="p">},</span><span class="nx">Out</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">--</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">},</span><span class="nx">InOut</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">e</span><span class="o">*=</span><span class="mi">2</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">:</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="p">((</span><span class="nx">e</span><span class="o">-=</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="mi">2</span><span class="p">)}}},</span><span class="nx">t</span><span class="p">.</span><span class="nx">Interpolation</span><span class="o">=</span><span class="p">{</span><span class="nx">Linear</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Interpolation</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">Linear</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">o</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">o</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">o</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">s</span><span class="p">],</span><span class="nx">e</span><span class="p">[</span><span class="nx">s</span><span class="o">+</span><span class="mi">1</span><span class="o">&gt;</span><span class="nx">n</span><span class="o">?</span><span class="nx">n</span><span class="o">:</span><span class="nx">s</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span><span class="nx">a</span><span class="o">-</span><span class="nx">s</span><span class="p">)},</span><span class="nx">Bezier</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Interpolation</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">Bernstein</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;=</span><span class="nx">a</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">)</span><span class="nx">n</span><span class="o">+=</span><span class="nx">s</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="o">-</span><span class="nx">r</span><span class="p">)</span><span class="o">*</span><span class="nx">s</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">r</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">*</span><span class="nx">o</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">r</span><span class="p">);</span><span class="k">return</span> <span class="nx">n</span><span class="p">},</span><span class="nx">Utils</span><span class="o">:</span><span class="p">{</span><span class="nx">Linear</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="nx">e</span><span class="p">)</span><span class="o">*</span><span class="nx">i</span><span class="o">+</span><span class="nx">e</span><span class="p">},</span><span class="nx">Bernstein</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">Interpolation</span><span class="p">.</span><span class="nx">Utils</span><span class="p">.</span><span class="nx">Factorial</span><span class="p">;</span><span class="k">return</span> <span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nx">n</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="o">-</span><span class="nx">i</span><span class="p">)},</span><span class="nx">Factorial</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">])</span><span class="k">return</span> <span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="nx">n</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">--</span><span class="p">)</span><span class="nx">t</span><span class="o">*=</span><span class="nx">n</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">t</span><span class="p">}),</span><span class="nx">CatmullRom</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="p">(</span><span class="nx">i</span><span class="o">-</span><span class="nx">e</span><span class="p">)</span><span class="o">*</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="nx">t</span><span class="p">)</span><span class="o">*</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="o">*</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">a</span><span class="o">*</span><span class="nx">r</span><span class="o">*</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">t</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">i</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="nx">o</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="nx">t</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">i</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="nx">s</span><span class="o">-</span><span class="nx">o</span><span class="p">)</span><span class="o">*</span><span class="nx">r</span><span class="o">+</span><span class="nx">s</span><span class="o">*</span><span class="nx">a</span><span class="o">+</span><span class="nx">t</span><span class="p">}}},</span><span class="nb">window</span><span class="p">.</span><span class="nx">TWEEN</span><span class="o">=</span><span class="nx">t</span><span class="p">}},</span><span class="nx">t</span><span class="o">=</span><span class="p">{};</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">a</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">exports</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="p">{</span><span class="nx">exports</span><span class="o">:</span><span class="p">{}};</span><span class="k">return</span> <span class="nx">e</span><span class="p">[</span><span class="nx">n</span><span class="p">](</span><span class="nx">s</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">exports</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">exports</span><span class="p">}</span><span class="nx">i</span><span class="p">.</span><span class="nx">amdO</span><span class="o">=</span><span class="p">{},</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"use strict"</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">{</span><span class="nx">jQuery</span><span class="o">:</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">version</span><span class="o">:</span><span class="s2">"2.3.55"</span><span class="p">,</span><span class="nx">autoDetectLocation</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">slug</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">locationVar</span><span class="o">:</span><span class="s2">"dearViewerLocation"</span><span class="p">,</span><span class="nx">locationFile</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">MOUSE_CLICK_ACTIONS</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">NAV</span><span class="o">:</span><span class="s2">"nav"</span><span class="p">},</span><span class="nx">ARROW_KEYS_ACTIONS</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">NAV</span><span class="o">:</span><span class="s2">"nav"</span><span class="p">},</span><span class="nx">MOUSE_DBL_CLICK_ACTIONS</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">ZOOM</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">},</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">ZOOM</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">,</span><span class="nx">NAV</span><span class="o">:</span><span class="s2">"nav"</span><span class="p">},</span><span class="nx">PAGE_SCALE</span><span class="o">:</span><span class="p">{</span><span class="nx">PAGE_FIT</span><span class="o">:</span><span class="s2">"fit"</span><span class="p">,</span><span class="nx">PAGE_WIDTH</span><span class="o">:</span><span class="s2">"width"</span><span class="p">,</span><span class="nx">AUTO</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">,</span><span class="nx">ACTUAL</span><span class="o">:</span><span class="s2">"actual"</span><span class="p">,</span><span class="nx">MANUAL</span><span class="o">:</span><span class="s2">"manual"</span><span class="p">},</span><span class="nx">READ_DIRECTION</span><span class="o">:</span><span class="p">{</span><span class="nx">LTR</span><span class="o">:</span><span class="s2">"ltr"</span><span class="p">,</span><span class="nx">RTL</span><span class="o">:</span><span class="s2">"rtl"</span><span class="p">},</span><span class="nx">TURN_DIRECTION</span><span class="o">:</span><span class="p">{</span><span class="nx">LEFT</span><span class="o">:</span><span class="s2">"left"</span><span class="p">,</span><span class="nx">RIGHT</span><span class="o">:</span><span class="s2">"right"</span><span class="p">,</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">},</span><span class="nx">INFO_TYPE</span><span class="o">:</span><span class="p">{</span><span class="nx">INFO</span><span class="o">:</span><span class="s2">"info"</span><span class="p">,</span><span class="nx">ERROR</span><span class="o">:</span><span class="s2">"error"</span><span class="p">},</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="o">:</span><span class="p">{</span><span class="nx">SINGLE</span><span class="o">:</span><span class="s2">"single"</span><span class="p">,</span><span class="nx">DOUBLE</span><span class="o">:</span><span class="s2">"double"</span><span class="p">,</span><span class="nx">AUTO</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">},</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="o">:</span><span class="p">{</span><span class="nx">ZOOM</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">,</span><span class="nx">BOOKLET</span><span class="o">:</span><span class="s2">"booklet"</span><span class="p">,</span><span class="nx">AUTO</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">},</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="o">:</span><span class="p">{</span><span class="nx">AUTO</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">,</span><span class="nx">SINGLE</span><span class="o">:</span><span class="s2">"single"</span><span class="p">,</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">:</span><span class="s2">"dbl_int"</span><span class="p">,</span><span class="nx">DOUBLE</span><span class="o">:</span><span class="s2">"dbl"</span><span class="p">,</span><span class="nx">DOUBLE_COVER_BACK</span><span class="o">:</span><span class="s2">"dbl_cover_back"</span><span class="p">},</span><span class="nx">LINK_TARGET</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">SELF</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">BLANK</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">PARENT</span><span class="o">:</span><span class="mi">3</span><span class="p">,</span><span class="nx">TOP</span><span class="o">:</span><span class="mi">4</span><span class="p">},</span><span class="nx">CONTROLS_POSITION</span><span class="o">:</span><span class="p">{</span><span class="nx">HIDDEN</span><span class="o">:</span><span class="s2">"hidden"</span><span class="p">,</span><span class="nx">TOP</span><span class="o">:</span><span class="s2">"top"</span><span class="p">,</span><span class="nx">BOTTOM</span><span class="o">:</span><span class="s2">"bottom"</span><span class="p">},</span><span class="nx">TURN_CORNER</span><span class="o">:</span><span class="p">{</span><span class="nx">TL</span><span class="o">:</span><span class="s2">"tl"</span><span class="p">,</span><span class="nx">TR</span><span class="o">:</span><span class="s2">"tr"</span><span class="p">,</span><span class="nx">BL</span><span class="o">:</span><span class="s2">"bl"</span><span class="p">,</span><span class="nx">BR</span><span class="o">:</span><span class="s2">"br"</span><span class="p">,</span><span class="nx">L</span><span class="o">:</span><span class="s2">"l"</span><span class="p">,</span><span class="nx">R</span><span class="o">:</span><span class="s2">"r"</span><span class="p">,</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">},</span><span class="nx">REQUEST_STATUS</span><span class="o">:</span><span class="p">{</span><span class="nx">OFF</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">ON</span><span class="o">:</span><span class="s2">"pending"</span><span class="p">,</span><span class="nx">COUNT</span><span class="o">:</span><span class="s2">"counting"</span><span class="p">},</span><span class="nx">TEXTURE_TARGET</span><span class="o">:</span><span class="p">{</span><span class="nx">THUMB</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">VIEWER</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">ZOOM</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span><span class="nx">FLIPBOOK_CENTER_SHIFT</span><span class="o">:</span><span class="p">{</span><span class="nx">RIGHT</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">LEFT</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">NONE</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nx">FLIPBOOK_COVER_TYPE</span><span class="o">:</span><span class="p">{</span><span class="nx">NONE</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">PLAIN</span><span class="o">:</span><span class="s2">"plain"</span><span class="p">,</span><span class="nx">BASIC</span><span class="o">:</span><span class="s2">"basic"</span><span class="p">,</span><span class="nx">RIDGE</span><span class="o">:</span><span class="s2">"ridge"</span><span class="p">}};</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){(</span><span class="kc">null</span><span class="o">==</span><span class="nx">t</span><span class="o">||</span><span class="nx">t</span><span class="o">&gt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nb">Array</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="k">return</span> <span class="nx">n</span><span class="p">}</span><span class="nx">n</span><span class="p">.</span><span class="nx">_defaults</span><span class="o">=</span><span class="p">{</span><span class="nx">is3D</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">has3DShadow</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">color3DCover</span><span class="o">:</span><span class="s2">"#aaaaaa"</span><span class="p">,</span><span class="nx">color3DSheets</span><span class="o">:</span><span class="s2">"#fff"</span><span class="p">,</span><span class="nx">cover3DType</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_COVER_TYPE</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,</span><span class="nx">flexibility</span><span class="o">:</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span><span class="nx">drag3D</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">,</span><span class="nx">autoOpenOutline</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">autoOpenThumbnail</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">showDownloadControl</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">showSearchControl</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">showPrintControl</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">enableSound</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">duration</span><span class="o">:</span><span class="mi">800</span><span class="p">,</span><span class="nx">pageRotation</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">flipbook3DTiltAngleUp</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">readDirection</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">LTR</span><span class="p">,</span><span class="nx">pageMode</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">,</span><span class="nx">singlePageMode</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">,</span><span class="nx">flipbookFitPages</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">backgroundColor</span><span class="o">:</span><span class="s2">"transparent"</span><span class="p">,</span><span class="nx">flipbookHardPages</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">openPage</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">annotationClass</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">maxTextureSize</span><span class="o">:</span><span class="mi">3200</span><span class="p">,</span><span class="nx">minTextureSize</span><span class="o">:</span><span class="mi">256</span><span class="p">,</span><span class="nx">rangeChunkSize</span><span class="o">:</span><span class="mi">524288</span><span class="p">,</span><span class="nx">disableAutoFetch</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">disableStream</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">disableFontFace</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">icons</span><span class="o">:</span><span class="p">{</span><span class="nx">altnext</span><span class="o">:</span><span class="s2">"df-icon-arrow-right1"</span><span class="p">,</span><span class="nx">altprev</span><span class="o">:</span><span class="s2">"df-icon-arrow-left1"</span><span class="p">,</span><span class="nx">next</span><span class="o">:</span><span class="s2">"df-icon-arrow-right1"</span><span class="p">,</span><span class="nx">prev</span><span class="o">:</span><span class="s2">"df-icon-arrow-left1"</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">"df-icon-last-page"</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">"df-icon-first-page"</span><span class="p">,</span><span class="nx">share</span><span class="o">:</span><span class="s2">"df-icon-share"</span><span class="p">,</span><span class="s2">"outline-open"</span><span class="o">:</span><span class="s2">"df-icon-arrow-right"</span><span class="p">,</span><span class="s2">"outline-close"</span><span class="o">:</span><span class="s2">"df-icon-arrow-down"</span><span class="p">,</span><span class="nx">help</span><span class="o">:</span><span class="s2">"df-icon-help"</span><span class="p">,</span><span class="nx">more</span><span class="o">:</span><span class="s2">"df-icon-more"</span><span class="p">,</span><span class="nx">download</span><span class="o">:</span><span class="s2">"df-icon-download"</span><span class="p">,</span><span class="nx">zoomin</span><span class="o">:</span><span class="s2">"df-icon-add-circle"</span><span class="p">,</span><span class="nx">zoomout</span><span class="o">:</span><span class="s2">"df-icon-minus-circle"</span><span class="p">,</span><span class="nx">resetzoom</span><span class="o">:</span><span class="s2">"df-icon-minus-circle"</span><span class="p">,</span><span class="nx">fullscreen</span><span class="o">:</span><span class="s2">"df-icon-fullscreen"</span><span class="p">,</span><span class="s2">"fullscreen-off"</span><span class="o">:</span><span class="s2">"df-icon-fit-screen"</span><span class="p">,</span><span class="nx">fitscreen</span><span class="o">:</span><span class="s2">"df-icon-fit-screen"</span><span class="p">,</span><span class="nx">thumbnail</span><span class="o">:</span><span class="s2">"df-icon-grid-view"</span><span class="p">,</span><span class="nx">outline</span><span class="o">:</span><span class="s2">"df-icon-list"</span><span class="p">,</span><span class="nx">close</span><span class="o">:</span><span class="s2">"df-icon-close"</span><span class="p">,</span><span class="nx">doublepage</span><span class="o">:</span><span class="s2">"df-icon-double-page"</span><span class="p">,</span><span class="nx">singlepage</span><span class="o">:</span><span class="s2">"df-icon-file"</span><span class="p">,</span><span class="nx">print</span><span class="o">:</span><span class="s2">"df-icon-print"</span><span class="p">,</span><span class="nx">play</span><span class="o">:</span><span class="s2">"df-icon-play"</span><span class="p">,</span><span class="nx">pause</span><span class="o">:</span><span class="s2">"df-icon-pause"</span><span class="p">,</span><span class="nx">search</span><span class="o">:</span><span class="s2">"df-icon-search"</span><span class="p">,</span><span class="nx">sound</span><span class="o">:</span><span class="s2">"df-icon-volume"</span><span class="p">,</span><span class="s2">"sound-off"</span><span class="o">:</span><span class="s2">"df-icon-volume"</span><span class="p">,</span><span class="nx">facebook</span><span class="o">:</span><span class="s2">"df-icon-facebook"</span><span class="p">,</span><span class="nx">google</span><span class="o">:</span><span class="s2">"df-icon-google"</span><span class="p">,</span><span class="nx">twitter</span><span class="o">:</span><span class="s2">"df-icon-twitter"</span><span class="p">,</span><span class="nx">whatsapp</span><span class="o">:</span><span class="s2">"df-icon-whatsapp"</span><span class="p">,</span><span class="nx">linkedin</span><span class="o">:</span><span class="s2">"df-icon-linkedin"</span><span class="p">,</span><span class="nx">pinterest</span><span class="o">:</span><span class="s2">"df-icon-pinterest"</span><span class="p">,</span><span class="nx">mail</span><span class="o">:</span><span class="s2">"df-icon-mail"</span><span class="p">},</span><span class="nx">text</span><span class="o">:</span><span class="p">{</span><span class="nx">toggleSound</span><span class="o">:</span><span class="s2">"Turn on/off Sound"</span><span class="p">,</span><span class="nx">toggleThumbnails</span><span class="o">:</span><span class="s2">"Toggle Thumbnails"</span><span class="p">,</span><span class="nx">toggleOutline</span><span class="o">:</span><span class="s2">"Toggle Outline/Bookmark"</span><span class="p">,</span><span class="nx">previousPage</span><span class="o">:</span><span class="s2">"Previous Page"</span><span class="p">,</span><span class="nx">nextPage</span><span class="o">:</span><span class="s2">"Next Page"</span><span class="p">,</span><span class="nx">toggleFullscreen</span><span class="o">:</span><span class="s2">"Toggle Fullscreen"</span><span class="p">,</span><span class="nx">zoomIn</span><span class="o">:</span><span class="s2">"Zoom In"</span><span class="p">,</span><span class="nx">zoomOut</span><span class="o">:</span><span class="s2">"Zoom Out"</span><span class="p">,</span><span class="nx">resetZoom</span><span class="o">:</span><span class="s2">"Reset Zoom"</span><span class="p">,</span><span class="nx">pageFit</span><span class="o">:</span><span class="s2">"Fit Page"</span><span class="p">,</span><span class="nx">widthFit</span><span class="o">:</span><span class="s2">"Fit Width"</span><span class="p">,</span><span class="nx">toggleHelp</span><span class="o">:</span><span class="s2">"Toggle Help"</span><span class="p">,</span><span class="nx">search</span><span class="o">:</span><span class="s2">"Search in PDF"</span><span class="p">,</span><span class="nx">singlePageMode</span><span class="o">:</span><span class="s2">"Single Page Mode"</span><span class="p">,</span><span class="nx">doublePageMode</span><span class="o">:</span><span class="s2">"Double Page Mode"</span><span class="p">,</span><span class="nx">downloadPDFFile</span><span class="o">:</span><span class="s2">"Download PDF File"</span><span class="p">,</span><span class="nx">gotoFirstPage</span><span class="o">:</span><span class="s2">"Goto First Page"</span><span class="p">,</span><span class="nx">gotoLastPage</span><span class="o">:</span><span class="s2">"Goto Last Page"</span><span class="p">,</span><span class="nx">print</span><span class="o">:</span><span class="s2">"Print"</span><span class="p">,</span><span class="nx">play</span><span class="o">:</span><span class="s2">"Start AutoPlay"</span><span class="p">,</span><span class="nx">pause</span><span class="o">:</span><span class="s2">"Pause AutoPlay"</span><span class="p">,</span><span class="nx">share</span><span class="o">:</span><span class="s2">"Share"</span><span class="p">,</span><span class="nx">close</span><span class="o">:</span><span class="s2">"Close"</span><span class="p">,</span><span class="nx">mailSubject</span><span class="o">:</span><span class="s2">"Check out this FlipBook"</span><span class="p">,</span><span class="nx">mailBody</span><span class="o">:</span><span class="s2">"Check out this site {{url}}"</span><span class="p">,</span><span class="nx">loading</span><span class="o">:</span><span class="s2">"Loading"</span><span class="p">,</span><span class="nx">thumbTitle</span><span class="o">:</span><span class="s2">"Thumbnails"</span><span class="p">,</span><span class="nx">outlineTitle</span><span class="o">:</span><span class="s2">"Table of Contents"</span><span class="p">,</span><span class="nx">searchTitle</span><span class="o">:</span><span class="s2">"Search"</span><span class="p">,</span><span class="nx">searchPlaceHolder</span><span class="o">:</span><span class="s2">"Search"</span><span class="p">,</span><span class="nx">analyticsEventCategory</span><span class="o">:</span><span class="s2">"DearFlip"</span><span class="p">,</span><span class="nx">analyticsViewerReady</span><span class="o">:</span><span class="s2">"Document Ready"</span><span class="p">,</span><span class="nx">analyticsViewerOpen</span><span class="o">:</span><span class="s2">"Document Opened"</span><span class="p">,</span><span class="nx">analyticsViewerClose</span><span class="o">:</span><span class="s2">"Document Closed"</span><span class="p">,</span><span class="nx">analyticsFirstPageChange</span><span class="o">:</span><span class="s2">"First Page Changed"</span><span class="p">},</span><span class="nx">share</span><span class="o">:</span><span class="p">{</span><span class="nx">facebook</span><span class="o">:</span><span class="s2">"https://www.facebook.com/sharer/sharer.php?u={{url}}&amp;t={{mailsubject}}"</span><span class="p">,</span><span class="nx">twitter</span><span class="o">:</span><span class="s2">"https://twitter.com/share?url={{url}}&amp;text={{mailsubject}}"</span><span class="p">,</span><span class="nx">mail</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">whatsapp</span><span class="o">:</span><span class="s2">"https://api.whatsapp.com/send/?text={{mailsubject}}+{{url}}&amp;type=custom_url&amp;app_absent=0"</span><span class="p">,</span><span class="nx">linkedin</span><span class="o">:</span><span class="s2">"https://www.linkedin.com/shareArticle?url={{url}}&amp;title={{mailsubject}}"</span><span class="p">,</span><span class="nx">pinterest</span><span class="o">:</span><span class="s2">"https://www.pinterest.com/pin/create/button/?url={{url}}&amp;media=&amp;description={{mailsubject}}"</span><span class="p">},</span><span class="nx">allControls</span><span class="o">:</span><span class="s2">"altPrev,pageNumber,altNext,play,outline,thumbnail,zoomIn,zoomOut,zoom,fullScreen,share,download,search,pageMode,startPage,endPage,sound,search,print,more"</span><span class="p">,</span><span class="nx">moreControls</span><span class="o">:</span><span class="s2">"download,pageMode,pageFit,startPage,endPage,sound"</span><span class="p">,</span><span class="nx">leftControls</span><span class="o">:</span><span class="s2">"outline,thumbnail"</span><span class="p">,</span><span class="nx">rightControls</span><span class="o">:</span><span class="s2">"fullScreen,share,download,more"</span><span class="p">,</span><span class="nx">hideControls</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">hideShareControls</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">controlsPosition</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">CONTROLS_POSITION</span><span class="p">.</span><span class="nx">BOTTOM</span><span class="p">,</span><span class="nx">paddingTop</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">paddingLeft</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span><span class="nx">paddingRight</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span><span class="nx">paddingBottom</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="nx">enableAnalytics</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">zoomRatio</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">maxDPI</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">fakeZoom</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">pageScale</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">PAGE_FIT</span><span class="p">,</span><span class="nx">controlsFloating</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">sideMenuOverlay</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">enableAnnotation</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">enableAutoLinks</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">arrowKeysAction</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">ARROW_KEYS_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="p">,</span><span class="nx">clickAction</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_CLICK_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="p">,</span><span class="nx">dblClickAction</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_DBL_CLICK_ACTIONS</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,</span><span class="nx">mouseScrollAction</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,</span><span class="nx">linkTarget</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">BLANK</span><span class="p">,</span><span class="nx">soundFile</span><span class="o">:</span><span class="s2">"sound/turn2.mp3"</span><span class="p">,</span><span class="nx">imagesLocation</span><span class="o">:</span><span class="s2">"images"</span><span class="p">,</span><span class="nx">imageResourcesPath</span><span class="o">:</span><span class="s2">"images/pdfjs/"</span><span class="p">,</span><span class="nx">popupThumbPlaceholder</span><span class="o">:</span><span class="s2">"data:image/svg+xml,"</span><span class="o">+</span><span class="nx">escape</span><span class="p">(</span><span class="s1">'&lt;svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 210 297"&gt;&lt;rect width="210" height="297" style="fill:#f1f2f2"/&gt;&lt;circle cx="143" cy="95" r="12" style="fill:#e3e8ed"/&gt;&lt;polygon points="131 138 120 149 95 124 34 184 176 185 131 138" style="fill:#e3e8ed"/&gt;&lt;/svg&gt;'</span><span class="p">),</span><span class="nx">cMapUrl</span><span class="o">:</span><span class="s2">"js/libs/cmaps/"</span><span class="p">,</span><span class="nx">logo</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">logoUrl</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">sharePrefix</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">pageSize</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">,</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">pixelRatio</span><span class="o">:</span><span class="nb">window</span><span class="p">.</span><span class="nx">devicePixelRatio</span><span class="o">||</span><span class="mi">1</span><span class="p">,</span><span class="nx">spotLightIntensity</span><span class="o">:</span><span class="p">.</span><span class="mi">22</span><span class="p">,</span><span class="nx">ambientLightColor</span><span class="o">:</span><span class="s2">"#fff"</span><span class="p">,</span><span class="nx">ambientLightIntensity</span><span class="o">:</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="nx">shadowOpacity</span><span class="o">:</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="nx">slug</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">headerElementSelector</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">onReady</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">onPageChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">beforePageChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">onCreate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">onCreateUI</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">onFlip</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">beforeFlip</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">autoPDFLinktoViewer</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">autoLightBoxFullscreen</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">thumbLayout</span><span class="o">:</span><span class="s2">"book-title-hover"</span><span class="p">,</span><span class="nx">cleanupAfterRender</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">canvasWillReadFrequently</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">providerType</span><span class="o">:</span><span class="s2">"pdf"</span><span class="p">,</span><span class="nx">loadMoreCount</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">autoPlay</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">autoPlayDuration</span><span class="o">:</span><span class="mi">1</span><span class="nx">e3</span><span class="p">,</span><span class="nx">autoPlayStart</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">popupBackGroundColor</span><span class="o">:</span><span class="s2">"#eee"</span><span class="p">,</span><span class="nx">mockupMode</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">instantTextureProcess</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">cachePDFTexture</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">pdfVersion</span><span class="o">:</span><span class="s2">"default"</span><span class="p">},</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">_defaults</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">providers</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">executeCallback</span><span class="o">=</span><span class="kd">function</span><span class="p">(){};</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="s2">"WebKitCSSMatrix"</span><span class="k">in</span> <span class="nb">window</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="o">&amp;&amp;</span><span class="s2">"MozPerspective"</span><span class="k">in</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="s2">"onmousedown"</span><span class="k">in</span> <span class="nb">window</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="o">=</span><span class="p">{</span><span class="nx">mouseEvents</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">"mouse"</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="nx">move</span><span class="o">:</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">"mouseup"</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s2">"touch"</span><span class="p">,</span><span class="nx">start</span><span class="o">:</span><span class="s2">"touchstart"</span><span class="p">,</span><span class="nx">move</span><span class="o">:</span><span class="s2">"touchmove"</span><span class="p">,</span><span class="nx">end</span><span class="o">:</span><span class="s2">"touchend"</span><span class="p">},</span><span class="nx">html</span><span class="o">:</span><span class="p">{</span><span class="nx">div</span><span class="o">:</span><span class="s2">"&lt;div&gt;&lt;/div&gt;"</span><span class="p">,</span><span class="nx">a</span><span class="o">:</span><span class="s2">"&lt;a&gt;"</span><span class="p">,</span><span class="nx">input</span><span class="o">:</span><span class="s2">"&lt;input type='text'/&gt;"</span><span class="p">,</span><span class="nx">select</span><span class="o">:</span><span class="s2">"&lt;select&gt;&lt;/select&gt;"</span><span class="p">},</span><span class="nx">getSharePrefix</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">getSharePrefixes</span><span class="p">()[</span><span class="mi">0</span><span class="p">]},</span><span class="nx">getSharePrefixes</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">sharePrefix</span><span class="o">+</span><span class="s2">",dflip-,flipbook-,dearflip-,dearpdf-"</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">","</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">()})},</span><span class="nx">toRad</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">},</span><span class="nx">toDeg</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="mi">180</span><span class="o">*</span><span class="nx">e</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">},</span><span class="nx">ifdef</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="nx">e</span><span class="p">},</span><span class="nx">createBtn</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">html</span><span class="p">.</span><span class="nx">div</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-btn df-ui-"</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">html</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="o">?</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="o">:</span><span class="s2">""</span><span class="p">});</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"&lt;svg"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"&lt;svg"</span><span class="p">,</span><span class="s1">'&lt;svg xmlns="http://www.w3.org/2000/svg" '</span><span class="p">))</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="p">},</span><span class="nx">transition</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="nx">t</span><span class="o">/</span><span class="mi">1</span><span class="nx">e3</span><span class="o">+</span><span class="s2">"s ease-out"</span><span class="o">:</span><span class="s2">"0s none"</span><span class="p">},</span><span class="nx">display</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="p">},</span><span class="nx">resetTranslate</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">translateStr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)},</span><span class="nx">bgImage</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">||</span><span class="s2">"blank"</span><span class="o">===</span><span class="nx">e</span><span class="o">?</span><span class="s2">""</span><span class="o">:</span><span class="s1">' url("'</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s1">'")'</span><span class="p">},</span><span class="nx">translateStr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">o</span><span class="o">?</span><span class="s2">" translate3d("</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px,"</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"px, 0px) "</span><span class="o">:</span><span class="s2">" translate("</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px, "</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"px) "</span><span class="p">},</span><span class="nx">httpsCorrection</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"string"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"://"</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"www."</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">hostname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"www."</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">hostname</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"www."</span><span class="p">,</span><span class="s2">""</span><span class="p">))</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"https://"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"http://"</span><span class="p">,</span><span class="s2">"https://"</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"http://"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"https://"</span><span class="p">,</span><span class="s2">"http://"</span><span class="p">)),</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"://www."</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;-</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"://www."</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"://"</span><span class="p">,</span><span class="s2">"://www."</span><span class="p">)),</span><span class="o">-</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"://www."</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"://www."</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"://www."</span><span class="p">,</span><span class="s2">"://"</span><span class="p">)))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Skipping URL correction: "</span><span class="o">+</span><span class="nx">e</span><span class="p">)}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">rotateStr</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">" rotateZ("</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"deg) "</span><span class="p">},</span><span class="nx">lowerPowerOfTwo</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">LN2</span><span class="p">))},</span><span class="nx">nearestPowerOfTwo</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">t</span><span class="o">||</span><span class="mi">2048</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">LN2</span><span class="p">)))},</span><span class="nx">getFullscreenElement</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">fullscreenElement</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">mozFullScreenElement</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">webkitFullscreenElement</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">msFullscreenElement</span><span class="p">},</span><span class="nx">hasFullscreenEnabled</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">fullscreenEnabled</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">mozFullScreenEnabled</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">webkitFullscreenEnabled</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">msFullscreenEnabled</span><span class="p">},</span><span class="nx">fixMouseEvent</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalEvent</span><span class="o">||</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="p">.</span><span class="nx">changedTouches</span><span class="o">||!</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">changedTouches</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">))</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">fix</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">changedTouches</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">clientX</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">clientY</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientY</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageX</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">pageX</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">touches</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">touches</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageY</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">pageY</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">movementX</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">movementX</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">movementY</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">movementY</span><span class="p">,</span><span class="nx">i</span><span class="p">},</span><span class="nx">limitAt</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&lt;</span><span class="nx">t</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="nx">e</span><span class="o">&gt;</span><span class="nx">i</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="nx">e</span><span class="p">},</span><span class="nx">distOrigin</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">distPoints</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)},</span><span class="nx">distPoints</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sqrt</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">i</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="nx">t</span><span class="p">,</span><span class="mi">2</span><span class="p">))},</span><span class="nx">angleByDistance</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">toDeg</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">asin</span><span class="p">(</span><span class="nx">n</span><span class="o">/</span><span class="nx">i</span><span class="p">))</span><span class="o">:</span><span class="mi">90</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">toDeg</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">asin</span><span class="p">((</span><span class="nx">n</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="nx">i</span><span class="p">))},</span><span class="nx">calculateScale</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">distPoints</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="p">);</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">distPoints</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="p">,</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">y</span><span class="p">)</span><span class="o">/</span><span class="nx">i</span><span class="p">},</span><span class="nx">getVectorAvg</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">}).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">sum</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">}).</span><span class="nx">reduce</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">sum</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">}},</span><span class="nx">sum</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">+</span><span class="nx">t</span><span class="p">},</span><span class="nx">getTouches</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="p">{</span><span class="nx">left</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">top</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageX</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageY</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">top</span><span class="p">}})},</span><span class="nx">getScriptCallbacks</span><span class="o">:</span><span class="p">[],</span><span class="nx">getScript</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getScriptCallbacks</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="kd">function</span> <span class="nx">r</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"readystatechange"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"complete"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"error"</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">onreadystatechange</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">readyState</span><span class="o">||</span><span class="sr">/loaded|complete/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">readyState</span><span class="p">))){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">o</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">[</span><span class="nx">n</span><span class="p">](),</span><span class="nx">o</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="nx">r</span><span class="p">()}}</span><span class="kd">function</span> <span class="nx">u</span><span class="p">(){</span><span class="nx">i</span><span class="p">(),</span><span class="nx">r</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">s</span><span class="p">(</span><span class="s2">"script[src='"</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"']"</span><span class="p">).</span><span class="nx">length</span><span class="p">){(</span><span class="nx">o</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getScriptCallbacks</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="p">[]).</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"script"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">"script"</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">a</span><span class="p">.</span><span class="nx">async</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"data-cfasync"</span><span class="p">,</span><span class="s2">"false"</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="s2">"module"</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">p</span><span class="o">?</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="kc">null</span><span class="p">)</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"readystatechange"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"complete"</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"error"</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="s2">"MS"</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">dom</span><span class="o">?</span><span class="s2">"?"</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span><span class="o">:</span><span class="s2">""</span><span class="p">)}</span><span class="k">else</span> <span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">)},</span><span class="nx">detectScriptLocation</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">])</span><span class="nx">s</span><span class="p">(</span><span class="s2">"script"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">src</span><span class="p">;</span><span class="k">if</span><span class="p">((</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"/"</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationFile</span><span class="o">+</span><span class="s2">".js"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"/"</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationFile</span><span class="o">+</span><span class="s2">".min.js"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"js/"</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationFile</span><span class="o">+</span><span class="s2">"."</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"https://"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"http://"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">);</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)}});</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">==</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">].</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">":"</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">],</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">].</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="s2">"/"</span><span class="o">!==</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">].</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+=</span><span class="s2">"/"</span><span class="p">)},</span><span class="nx">disposeObject</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">dispose</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="kc">null</span><span class="p">},</span><span class="nx">log</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nb">Array</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">s</span><span class="p">]</span><span class="o">=</span><span class="nx">arguments</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">enableDebugLog</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">console</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">console</span><span class="p">).</span><span class="nx">log</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">)}(</span><span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">iterator</span><span class="p">]</span><span class="o">||</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">[</span><span class="s2">"@@iterator"</span><span class="p">])</span><span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">e</span><span class="p">)}(</span><span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="s2">"Object"</span><span class="o">===</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">name</span><span class="p">),</span><span class="s2">"Map"</span><span class="o">===</span><span class="nx">i</span><span class="o">||</span><span class="s2">"Set"</span><span class="o">===</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">from</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="s2">"Arguments"</span><span class="o">===</span><span class="nx">i</span><span class="o">||</span><span class="sr">/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span><span class="k">return</span> <span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="p">)}}(</span><span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="kd">function</span><span class="p">(){</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."</span><span class="p">)}())},</span><span class="nx">color</span><span class="o">:</span><span class="p">{</span><span class="nx">getBrightness</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"#"</span><span class="p">,</span><span class="s2">""</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/.{1,2}/g</span><span class="p">).</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">16</span><span class="p">)});</span><span class="k">return</span> <span class="p">.</span><span class="mi">299</span><span class="o">*</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">.</span><span class="mi">587</span><span class="o">*</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="p">.</span><span class="mi">114</span><span class="o">*</span><span class="nx">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]},</span><span class="nx">isLight</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="nx">l</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">isDark</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">isDark</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="mi">128</span><span class="o">&gt;</span><span class="nx">l</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">getBrightness</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},</span><span class="nx">isMobile</span><span class="o">:</span><span class="sr">/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">),</span><span class="nx">isIOS</span><span class="o">:</span><span class="sr">/(iPad|iPhone|iPod)/g</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">),</span><span class="nx">isIPad</span><span class="o">:</span><span class="s2">"iPad"</span><span class="o">===</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">maxTouchPoints</span><span class="o">&amp;&amp;</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">maxTouchPoints</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="sr">/Mac/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="p">),</span><span class="nx">isMac</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">().</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"MAC"</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">,</span><span class="nx">isSafari</span><span class="o">:</span><span class="sr">/constructor/i</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">HTMLElement</span><span class="p">)</span><span class="o">||</span><span class="s2">"[object SafariRemoteNotification]"</span><span class="o">===</span><span class="p">(</span><span class="o">!</span><span class="nb">window</span><span class="p">.</span><span class="nx">safari</span><span class="o">||</span><span class="nb">window</span><span class="p">.</span><span class="nx">safari</span><span class="p">.</span><span class="nx">pushNotification</span><span class="p">).</span><span class="nx">toString</span><span class="p">(),</span><span class="nx">isIEUnsupported</span><span class="o">:!!</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(MSIE|Trident)/</span><span class="p">),</span><span class="nx">isSafariWindows</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="nx">l</span><span class="p">.</span><span class="nx">isMac</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">.</span><span class="nx">isSafari</span><span class="p">},</span><span class="nx">hasWebgl</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">);</span><span class="k">return</span><span class="o">!!</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">WebGLRenderingContext</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"webgl"</span><span class="p">)</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"experimental-webgl"</span><span class="p">)))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}(),</span><span class="nx">hasES2022</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">at</span><span class="p">,</span><span class="nx">canSupport3D</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">==</span><span class="nx">l</span><span class="p">.</span><span class="nx">hasWebgl</span><span class="p">)</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for Canvas webgl 3D not detected!"</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">==</span><span class="nx">l</span><span class="p">.</span><span class="nx">hasES2022</span><span class="p">)</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for 3D not extpected in older browser!"</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">!==</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"MSIE"</span><span class="p">)</span><span class="o">||</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"Trident/"</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for 3D not detected for IE!"</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">isSafariWindows</span><span class="p">())</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for 3D not detected for Safari!"</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">match</span><span class="p">(</span><span class="sr">/android\s([0-9\.]*)/i</span><span class="p">);(</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">9</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for 3D not detected for Android below 9.0!"</span><span class="p">)))}}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">prefix</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">""</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/-(moz|webkit|ms)-/</span><span class="p">)[</span><span class="mi">1</span><span class="p">],{</span><span class="nx">dom</span><span class="o">:</span><span class="s2">"WebKit|Moz|MS"</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nb">RegExp</span><span class="p">(</span><span class="s2">"("</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">")"</span><span class="p">,</span><span class="s2">"i"</span><span class="p">))[</span><span class="mi">1</span><span class="p">],</span><span class="nx">lowercase</span><span class="o">:</span><span class="nx">t</span><span class="p">,</span><span class="nx">css</span><span class="o">:</span><span class="s2">"-"</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"-"</span><span class="p">,</span><span class="nx">js</span><span class="o">:</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">1</span><span class="p">)}),</span><span class="nx">scrollIntoView</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){(</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">).</span><span class="nx">scrollTop</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="p">},</span><span class="nx">getVisibleElements</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">visible</span><span class="o">||</span><span class="p">[],</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">==</span><span class="nx">s</span><span class="p">)</span><span class="k">return</span> <span class="nx">n</span><span class="p">;</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">)</span><span class="k">for</span><span class="p">(;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">;){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">o</span><span class="o">+</span><span class="nx">r</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">;(</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">u</span><span class="p">]).</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">)</span><span class="o">&gt;</span><span class="nx">a</span><span class="o">?</span><span class="nx">r</span><span class="o">=</span><span class="nx">u</span><span class="o">:</span><span class="nx">o</span><span class="o">=</span><span class="nx">u</span><span class="o">+</span><span class="mi">1</span><span class="p">}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="nx">p</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">p</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">((</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">p</span><span class="p">]).</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">l</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">&lt;=</span><span class="nx">s</span><span class="p">)</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">p</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="k">else</span> <span class="k">break</span><span class="p">;</span><span class="k">return</span> <span class="nx">n</span><span class="p">},</span><span class="nx">getMouseDelta</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">wheelDelta</span><span class="o">?</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">wheelDelta</span><span class="o">:</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=-</span><span class="nx">e</span><span class="p">.</span><span class="nx">detail</span><span class="p">),</span><span class="nx">t</span><span class="p">},</span><span class="nx">pan</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">n</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">n</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">shiftWidth</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">shiftWidth</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">shiftHeight</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">shiftHeight</span><span class="p">)),</span><span class="mi">1</span><span class="o">===</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">t</span><span class="p">)}};</span><span class="nx">l</span><span class="p">.</span><span class="nx">isChromeExtension</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="mi">0</span><span class="o">===</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"chrome-extension://"</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="sr">/\x00+/g</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="sr">/[\x01-\x1F]/g</span><span class="p">;</span><span class="nx">l</span><span class="p">.</span><span class="nx">removeNullCharacters</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">return</span><span class="s2">"string"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">?</span><span class="p">(</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"The argument for removeNullCharacters must be a string."</span><span class="p">),</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="s2">" "</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="s2">""</span><span class="p">))},</span><span class="nx">n</span><span class="p">.</span><span class="nx">hashFocusBookFound</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">detectHash</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">preParseHash</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">;</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">getSharePrefixes</span><span class="p">();</span><span class="o">-</span><span class="mi">1</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">""</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">preParseHash</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">hashFocusBookFound</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="nx">e</span><span class="p">)[</span><span class="mi">1</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"#"</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)[</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">"/"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]),</span><span class="mi">0</span><span class="o">===</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"[data-df-slug="</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"]"</span><span class="p">)).</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"[data-slug="</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"]"</span><span class="p">)),</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"#df-"</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">",#"</span><span class="o">+</span><span class="nx">i</span><span class="p">)),</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"[data-_slug="</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"]"</span><span class="p">)),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s2">"._df_thumb,._df_button,._df_custom,._df_link,._df_book,.df-element,.dp-element"</span><span class="p">)){</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">n</span><span class="p">.</span><span class="nx">hashFocusBookFound</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">focusHash</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">r</span><span class="p">)</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">hashNavigationEnabled</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">focusHash</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-hash-page"</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-hash-focused"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"lightbox"</span><span class="p">)</span><span class="o">||</span><span class="kc">null</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-lightbox"</span><span class="p">)</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="o">!=</span><span class="nx">a</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"href"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"href"</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">".pdf"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">)}}}})},</span><span class="nx">l</span><span class="p">.</span><span class="nx">focusHash</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">scrollIntoView</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="p">,{</span><span class="nx">behavior</span><span class="o">:</span><span class="s2">"smooth"</span><span class="p">,</span><span class="nx">block</span><span class="o">:</span><span class="s2">"nearest"</span><span class="p">,</span><span class="nx">inline</span><span class="o">:</span><span class="s2">"nearest"</span><span class="p">})},</span><span class="nx">l</span><span class="p">.</span><span class="nx">contain</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">i</span><span class="o">/</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="o">/</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nx">e</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">t</span><span class="o">*</span><span class="nx">a</span><span class="p">}},</span><span class="nx">l</span><span class="p">.</span><span class="nx">containUnStretched</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="o">/</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="o">/</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nx">e</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">t</span><span class="o">*</span><span class="nx">a</span><span class="p">}},</span><span class="nx">l</span><span class="p">.</span><span class="nx">fallbackOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">mail</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">mail</span><span class="o">=</span><span class="s2">"mailto:?subject="</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">mailSubject</span><span class="o">+</span><span class="s2">"&amp;body="</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">mailBody</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">openPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">openPage</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">openPage</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span><span class="nx">e</span><span class="p">};</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">{},</span><span class="nx">i</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">thumb</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">openPage</span><span class="o">:</span><span class="s2">"data-hash-page,df-page,data-df-page,data-page,page"</span><span class="p">,</span><span class="nx">target</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">showDownloadControl</span><span class="o">:</span><span class="s2">"data-download"</span><span class="p">,</span><span class="nx">source</span><span class="o">:</span><span class="s2">"pdf-source,df-source,source"</span><span class="p">,</span><span class="nx">is3D</span><span class="o">:</span><span class="s2">"webgl,is3d"</span><span class="p">,</span><span class="nx">viewerType</span><span class="o">:</span><span class="s2">"viewertype,viewer-type"</span><span class="p">,</span><span class="nx">pagemode</span><span class="o">:</span><span class="s2">""</span><span class="p">};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">in</span> <span class="nx">i</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">]).</span><span class="nx">split</span><span class="p">(</span><span class="s2">","</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="s2">""</span><span class="o">!==</span><span class="nx">o</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="s2">""</span><span class="o">!==</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">r</span><span class="o">||</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="nx">o</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="s2">""</span><span class="o">!==</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">r</span><span class="p">){</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="k">break</span><span class="p">}}}</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"data-hash-page"</span><span class="p">),</span><span class="nx">t</span><span class="p">};</span><span class="nx">l</span><span class="p">.</span><span class="nx">getOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">)).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-option"</span><span class="p">)</span><span class="o">&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"option"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-option"</span><span class="p">,</span><span class="s2">"option_"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"id"</span><span class="p">)),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"source"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-source"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"source"</span><span class="p">));</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-option"</span><span class="p">)</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"option"</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"undefined"</span><span class="o">:</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">t</span><span class="p">)</span><span class="o">==</span><span class="s2">"object"</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="kc">null</span><span class="o">==</span><span class="nx">t</span><span class="o">||</span><span class="s2">""</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="kc">null</span><span class="o">==</span><span class="nb">window</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">?</span><span class="p">{}</span><span class="o">:</span><span class="nb">window</span><span class="p">[</span><span class="nx">t</span><span class="p">];</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">p</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">s</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,{},</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">)},</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">e</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nb">parseInt</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">10</span><span class="p">)},</span><span class="nx">l</span><span class="p">.</span><span class="nb">parseFloat</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span><span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseFloatIfExists</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">getCurveAngle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="nx">e</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">135</span><span class="o">?</span><span class="mi">180</span><span class="o">-</span><span class="p">(</span><span class="mi">180</span><span class="o">-</span><span class="nx">t</span><span class="p">)</span><span class="o">*</span><span class="mi">2</span><span class="o">:</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">45</span><span class="o">?</span><span class="nx">t</span><span class="o">-</span><span class="mi">45</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="mi">180</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">45</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">t</span><span class="o">:</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">135</span><span class="o">?</span><span class="nx">t</span><span class="o">+</span><span class="mi">45</span><span class="o">:</span><span class="mi">180</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">180</span><span class="o">-</span><span class="nx">n</span><span class="p">)),</span><span class="nx">i</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">sanitizeOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">showDownloadControl</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">showDownloadControl</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">showSearchControl</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">showSearchControl</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">showPrintControl</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">showPrintControl</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleUp</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleUp</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingLeft</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingLeft</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingRight</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingRight</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingTop</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingTop</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingBottom</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">paddingBottom</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">duration</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">duration</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">rangeChunkSize</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rangeChunkSize</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">linkTarget</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">linkTarget</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseFloatIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableAnalytics</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableAnalytics</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlay</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlay</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlayStart</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseBoolIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlayStart</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlayDuration</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseIntIfExists</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoPlayDuration</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="p">),(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">=-</span><span class="mi">1</span><span class="p">)),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">Array</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">constructor</span><span class="o">||</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nb">Array</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?!!</span><span class="nx">i</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">)))</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">[</span><span class="nx">n</span><span class="p">]);</span><span class="k">else</span> <span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">finalizeOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">urlify</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="sr">/[a-zA-Z0-9][^\s,]{3,}\.[^\s,]+[a-zA-Z0-9]/gi</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">[];</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">e</span><span class="p">);){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="mi">1</span><span class="o">==</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/@/g</span><span class="p">)</span><span class="o">||</span><span class="p">[]).</span><span class="nx">length</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,7})+/gi</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">index</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">length</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="nx">s</span><span class="p">})</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b[-a-zA-Z0-9@:%_\+.~#?&amp;//=]*/g</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"http:"</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"https:"</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"www."</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">index</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">length</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">text</span><span class="o">:</span><span class="nx">s</span><span class="p">})}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">l</span><span class="p">.</span><span class="nx">oldurlify</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&amp;=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&amp;=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&amp;;%@.\w_]*)#?(?:[.\!\/\\w]*))?)/g</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">":"</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;-</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"http:"</span><span class="p">)</span><span class="o">&amp;&amp;-</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"https:"</span><span class="p">))</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"AutoLink Rejected: "</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s2">" for "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"www."</span><span class="p">))</span><span class="nx">s</span><span class="o">=</span><span class="s2">"http://"</span><span class="o">+</span><span class="nx">e</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"http://"</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"https://"</span><span class="p">));</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"mailto:"</span><span class="p">));</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"@"</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="s2">"mailto:"</span><span class="o">+</span><span class="nx">e</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/</span><span class="p">)))</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"AutoLink Rejected: "</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s2">" for "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="p">;</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"AutoLink: "</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s2">" for "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="s1">'&lt;a href="'</span><span class="o">+</span><span class="nx">s</span><span class="o">+</span><span class="s1">'" class="df-autolink" target="_blank"&gt;'</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"&lt;/a&gt;"</span><span class="p">})},</span><span class="nx">l</span><span class="p">.</span><span class="nx">supportsPassive</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">({},</span><span class="s2">"passive"</span><span class="p">,{</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">l</span><span class="p">.</span><span class="nx">supportsPassive</span><span class="o">=!</span><span class="mi">0</span><span class="p">}});</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"testPassive"</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">c</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"testPassive"</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="nx">c</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseCSSElements</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">s</span><span class="p">(</span><span class="s2">".dvcss"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="s2">"dvcss_e_"</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">classList</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">a</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">a</span><span class="p">]).</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span><span class="k">return</span> <span class="nx">t</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="p">}(</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="nx">t</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"dvcss"</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"dvcss_e_"</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span><span class="k">try</span><span class="p">{</span><span class="nx">e</span><span class="o">=</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">atob</span><span class="p">(</span><span class="nx">i</span><span class="p">))}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="s2">"df_option_"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,{},</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">],</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-element"</span><span class="p">),</span><span class="s2">"none"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">lightbox</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-lightbox"</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">lightbox</span><span class="o">?</span><span class="s2">"custom"</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">lightbox</span><span class="p">),</span><span class="s2">"thumb"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">lightbox</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-thumb"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfThumb</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-thumb-layout"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">apl</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"apl"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">apl</span><span class="p">)),</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-option"</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-slug"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">slug</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"id"</span><span class="p">,</span><span class="s2">"df_"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">id</span><span class="p">)}})},</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseThumbs</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),(</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbURL</span><span class="o">||</span><span class="s2">""</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbURL</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">trim</span><span class="p">())</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-thumb-not-found"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbURL</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">popupThumbPlaceholder</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;span class='df-book-title'&gt;"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;div class='df-book-wrapper'&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;div class='df-book-page1'&gt;"</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;div class='df-book-page2'&gt;"</span><span class="p">));</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;div class='df-book-cover'&gt;"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s1">'&lt;img width="210px" height="297px" class="df-lazy" alt="'</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">);</span><span class="nx">o</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-src"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbURL</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">popupThumbPlaceholder</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">prepend</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">addLazyElement</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">displayLightboxPlayIcon</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-icon-play-popup"</span><span class="p">),</span><span class="s2">"book-title-top"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">prependTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="s2">"book-title-bottom"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="o">||</span><span class="s2">"cover-title"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasShelf</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="o">=</span><span class="s2">"book-title-fixed"</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">displayLightboxPlayIcon</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-icon-play-popup"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-icon-play-popup"</span><span class="p">))),</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-tl-"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">initId</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeEmbeds</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbedsLimit</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseNormalElements</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">s</span><span class="p">(</span><span class="s2">".df-posts"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">&amp;&amp;-</span><span class="mi">1</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="s2">"true"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-element"</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="o">++</span><span class="nx">t</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"skip-parse"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">)}),</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;div class='df-load-more-button-wrapper'&gt;&lt;div class='df-load-more-button'&gt;Load More..&lt;/div&gt;&lt;/div&gt;"</span><span class="p">)}}}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">triggerId</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="nx">s</span><span class="p">(</span><span class="s2">".df-element"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="s2">"true"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"skip-parse"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">"true"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">)){</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">,</span><span class="s2">"true"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-lightbox"</span><span class="p">)</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"lightbox"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lazy-embed"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">addLazyElement</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-popup-"</span><span class="o">+</span><span class="nx">t</span><span class="p">),</span><span class="s2">"thumb"</span><span class="o">===</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-thumb-layout"</span><span class="p">)</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">thumbLayout</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-thumb"</span><span class="p">));</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"data-thumb"</span><span class="p">).</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"data-thumb-layout"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">html</span><span class="p">().</span><span class="nx">trim</span><span class="p">();(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">o</span><span class="o">||</span><span class="s2">""</span><span class="o">===</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="s2">"Click to Open"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-has-shelf"</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseThumbs</span><span class="p">({</span><span class="nx">element</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">thumbURL</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">thumbLayout</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">hasShelf</span><span class="o">:</span><span class="nx">r</span><span class="p">}),</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">after</span><span class="p">(</span><span class="nx">s</span><span class="p">(</span><span class="s2">"&lt;df-post-shelf&gt;"</span><span class="p">))}</span><span class="k">else</span><span class="s2">"button"</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">buttonClass</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">buttonClass</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-trigger"</span><span class="p">);</span><span class="kc">null</span><span class="o">!=</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">","</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">triggerId</span><span class="o">++</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"df-trigger-id"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">triggerId</span><span class="p">),</span><span class="nx">s</span><span class="p">(</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">t</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-trigger"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"df-trigger"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">triggerId</span><span class="p">)}))}}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">handleLazy</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbedsLimit</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">shift</span><span class="p">())){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"[initID='"</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"']"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-page"</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Removed app id "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeEmbeds</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="nx">a</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeEmbeds</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">shift</span><span class="p">()){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"[initID='"</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">"']"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">is</span><span class="p">(</span><span class="s2">"img"</span><span class="p">))</span><span class="nx">o</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-lazy"</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-src"</span><span class="p">)),</span><span class="nx">o</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"data-src"</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-lazy"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">lazyObserver</span><span class="p">.</span><span class="nx">unobserve</span><span class="p">(</span><span class="nx">o</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Prevent this"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">handleLazy</span><span class="p">();</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">);</span><span class="kc">null</span><span class="o">==</span><span class="nx">r</span><span class="o">?</span><span class="nx">o</span><span class="p">.</span><span class="nx">dearviewer</span><span class="p">()</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">softInit</span><span class="p">(),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Created app id "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeEmbeds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">)}}}</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;=</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbedsLimit</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">==</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">=</span><span class="kc">null</span><span class="p">)}},</span><span class="nx">n</span><span class="p">.</span><span class="nx">lazyObserver</span><span class="o">=</span><span class="p">{</span><span class="nx">observe</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){(</span><span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">)).</span><span class="nx">is</span><span class="p">(</span><span class="s2">"img"</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-lazy"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-src"</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"data-src"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-lazy"</span><span class="p">))</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">dearviewer</span><span class="p">()}},</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">IntersectionObserver</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">lazyObserver</span><span class="o">=</span><span class="k">new</span> <span class="nx">IntersectionObserver</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"initID"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">isIntersecting</span><span class="o">?</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"initID"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"initID"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">initId</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">initId</span><span class="p">.</span><span class="nx">toString</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">initId</span><span class="o">++</span><span class="p">),(</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Removed id "</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">"from Removal list"</span><span class="p">))</span><span class="o">:-</span><span class="mi">1</span><span class="o">==</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Added id "</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">"to Add list"</span><span class="p">)))</span><span class="o">:</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">((</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Removed id "</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">" from Add list"</span><span class="p">))</span><span class="o">:-</span><span class="mi">1</span><span class="o">==</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Added id "</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">" to Removal list"</span><span class="p">))),</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,(</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">removeEmbedsLimit</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">embeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">==</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">d</span><span class="o">++</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">&amp;&amp;</span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">()}),</span><span class="nx">d</span><span class="o">&gt;</span><span class="mi">20</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">handleLazy</span><span class="p">())},</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">())})}));</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">addLazyElement</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">lazyObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseElements</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">parseElements</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseCSSElements</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseNormalElements</span><span class="p">()},</span><span class="nx">n</span><span class="p">.</span><span class="nx">initUtils</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">l</span><span class="p">.</span><span class="nx">detectScriptLocation</span><span class="p">();</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);(</span><span class="nx">l</span><span class="p">.</span><span class="nx">isSafari</span><span class="o">||</span><span class="nx">l</span><span class="p">.</span><span class="nx">isIOS</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-ios"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-posts .df-load-more-button"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".df-posts"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-element"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">s</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"skip-parse"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">loadMoreCount</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeAttr</span><span class="p">(</span><span class="s2">"skip-parse"</span><span class="p">),</span><span class="nx">t</span><span class="o">++</span><span class="p">)}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">parseNormalElements</span><span class="p">()}}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">shelfImage</span><span class="o">&amp;&amp;</span><span class="s2">""</span><span class="o">!=</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">shelfImage</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;style&gt;.df-has-shelf df-post-shelf:before, .df-has-shelf df-post-shelf:after{background-image: url('"</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">shelfImage</span><span class="o">+</span><span class="s2">"');}&lt;/style&gt;"</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">){(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)})(</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">;</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="s2">"df-viewer "</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">||</span><span class="s2">""</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="nx">n</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-viewer-wrapper"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">oldBasePageNumber</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">minZoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">swipeThreshold</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">arrowKeysAction</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">arrowKeysAction</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">clickAction</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clickAction</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollAction</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollAction</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">dblClickAction</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dblClickAction</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBufferSize</span><span class="o">=</span><span class="mi">10</span><span class="p">}</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="p">[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"softDispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateBuffer"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pageResetCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initCustomControls"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getInnerWidth"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">width</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getInnerHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getOuterHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchmove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchstart"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchend"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"dblclick"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">dblclick</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"scroll"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">scroll</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mousewheel"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousewheel</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"DOMMouseScroll"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousewheel</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkDocumentPageSizes"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getViewerPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getDocumentPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getRenderContext"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">provider</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ifdef</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureTarget</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">VIEWER</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">pageFit</span><span class="p">;</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">s</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getTextureSize</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">THUMB</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumbSize</span><span class="o">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">getCache</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">h</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="nx">r</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">filterViewPort</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="nx">scale</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">rotation</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="p">.</span><span class="nx">rotate</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageRotation</span><span class="p">}),</span><span class="nx">s</span><span class="p">);</span><span class="nx">o</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">THUMB</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">c</span><span class="p">.</span><span class="nx">height</span><span class="o">&gt;</span><span class="mi">180</span><span class="o">/</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumbSize</span><span class="o">?</span><span class="mi">180</span><span class="o">*</span><span class="nx">u</span><span class="o">/</span><span class="nx">c</span><span class="p">.</span><span class="nx">width</span><span class="o">:</span><span class="nx">u</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumbSize</span><span class="o">/</span><span class="nx">c</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">filterViewPort</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="nx">scale</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">rotation</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="p">.</span><span class="nx">rotate</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageRotation</span><span class="p">}),</span><span class="nx">s</span><span class="p">)),</span><span class="nx">p</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">width</span><span class="o">-</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">/</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="mi">100</span><span class="p">;</span><span class="k">return</span> <span class="nx">d</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">001</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">filterViewPortCanvas</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">s</span><span class="p">),{</span><span class="nx">canvas</span><span class="o">:</span><span class="nx">p</span><span class="p">,</span><span class="nx">canvasContext</span><span class="o">:</span><span class="nx">p</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">,{</span><span class="nx">willReadFrequently</span><span class="o">:!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">canvasWillReadFrequently</span><span class="p">}),</span><span class="nx">viewport</span><span class="o">:</span><span class="nx">c</span><span class="p">}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"filterViewPort"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getViewPort"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="k">return</span> <span class="nx">t</span><span class="o">?</span><span class="kc">null</span><span class="o">!=</span><span class="nx">i</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="o">:</span><span class="nx">i</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"filterViewPortCanvas"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeAnnotations"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeTextContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateTextContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">processTextContent</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">getTextElement</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isActivePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">ifdef</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseMove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseUp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchmove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseMove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchstart"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchend"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseUp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"dblclick"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">dblclick</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dblclick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"scroll"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">scroll</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">onScroll</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mousewheel"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousewheel</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseWheel</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"DOMMouseScroll"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousewheel</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseWheel</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"eventToPoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">};</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">left</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">top</span><span class="p">,{</span><span class="nx">raw</span><span class="o">:</span><span class="nx">t</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchMove</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pan</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchDown</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalTarget</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">x</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="s2">"A"</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomOnPoint</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchUp</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pinchDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">getTouches</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">getVectorAvg</span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">getTouches</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">offset</span><span class="p">())),</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pinchUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-pinch-zoom"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateTemporaryScale</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_pinchZoomLastScale</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="o">=</span><span class="kc">null</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pinchMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-pinch-zoom"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">calculateScale</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startTouches</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">getTouches</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomUpdateScale</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">minZoom</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_pinchZoomLastScale</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomUpdateScale</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_pinchZoomLastScale</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomUpdateScale</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">return</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateTemporaryScale"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"none"</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomUpdateScale</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transformOrigin</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="s2">"px "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"scale3d("</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">",1)"</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">panRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">pan</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="s2">"translate3d("</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="s2">"px,"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="s2">"px,0)"</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dblclick"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onScroll"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseWheel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">getMouseDelta</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">a</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mouseScrollAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">);</span><span class="nx">a</span><span class="o">||</span><span class="nx">s</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">||</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">raw</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">())</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mouseScrollAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span><span class="o">:</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prev</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"zoomOnPoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">raw</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getVisiblePages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="o">=</span><span class="p">[],{</span><span class="nx">main</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="p">,</span><span class="nx">buffer</span><span class="o">:</span><span class="p">[]}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getBasePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isFirstPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isLastPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isEdgePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">panRequestStatus</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ON</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePan</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">panRequestStatus</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">OFF</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomRequestStatus</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ON</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">updateTemporaryScale</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pinchZoomRequestStatus</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">OFF</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isAnimating"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePendingStatusClass"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-pending"</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"determinePageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"gotoPageCallBack"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"requestRefresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">OFF</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getPageByNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isValidPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">pageNumber</span><span class="p">){</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">];</span><span class="k">break</span><span class="p">}}</span><span class="k">return</span> <span class="nx">i</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"changeAnnotation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getAnnotationElement"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">annotationElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">annotationElement</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div class='df-link-content'&gt;"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">annotationElement</span><span class="p">)),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">annotationElement</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">annotationElement</span><span class="p">[</span><span class="mi">0</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextElement"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div class='df-text-content'&gt;"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="p">)),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">".df-auto-link-content"</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">textElement</span><span class="p">[</span><span class="mi">0</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"render"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureLoadedCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"handleZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">"Texture calculation missing!"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureHeightLimit"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureHeight</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureWidthLimit"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">f</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureWidth</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">f</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Set Page detected"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">);</span><span class="k">return</span><span class="o">!!</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">callback</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoadedCallback</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateBuffer</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"cleanPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"validatePageChange"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"afterControlUpdate"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"searchPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">include</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">label</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)}}}],</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}(</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">}();</span><span class="kd">function</span> <span class="nx">v</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">m</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">y</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">b</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">b</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">w</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">w</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">P</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">w</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}(</span><span class="nx">n</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="k">this</span><span class="p">)});</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="k">return</span> <span class="nx">v</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">),(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)).</span><span class="nx">canvasMode</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="nx">t</span><span class="p">}</span><span class="k">return</span> <span class="nx">y</span><span class="p">(</span><span class="nx">n</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-page"</span><span class="p">});</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="k">this</span><span class="p">.</span><span class="nx">texture</span><span class="o">=</span><span class="k">new</span> <span class="nx">Image</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">append</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">annotationElement</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">annotationElement</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">textElement</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">textElement</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setLoading"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-loading"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">callback</span><span class="p">;</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureSrc</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="nx">P</span><span class="p">.</span><span class="nx">bgImage</span><span class="p">(</span><span class="nx">i</span><span class="p">)}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTextureLoadStatus</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="kc">null</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">canvasMode</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"CANVAS"</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">canvasMode</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">canvasMode</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">"&gt;canvas"</span><span class="p">).</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">i</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureSrc</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">i</span><span class="p">))),</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTextureLoadStatus</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="o">:</span><span class="nx">i</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="o">?</span><span class="nx">a</span><span class="p">()</span><span class="o">:</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">texture</span><span class="p">.</span><span class="nx">onload</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">texture</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">i</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCSS"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetCSS"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">boxShadow</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="nx">display</span><span class="o">:</span><span class="s2">"block"</span><span class="p">})}}]),</span><span class="nx">n</span><span class="p">}(</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(){</span><span class="nx">v</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="o">=</span><span class="s2">"blank"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">=</span><span class="s2">"-1"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">texture</span><span class="o">=</span><span class="s2">"blank"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureSrc</span><span class="o">=</span><span class="s2">"blank"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">contentLayer</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-page-content"</span><span class="p">})}</span><span class="k">return</span> <span class="nx">y</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">resetContent</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">=</span><span class="s2">"-1"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-content-loaded"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">textureSrc</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">cloneNode</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">()).</span><span class="nx">getContext</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">).</span><span class="nx">drawImage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">textureSrc</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">t</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setLoading"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateTextureLoadStatus"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">,</span><span class="nx">P</span><span class="p">.</span><span class="nx">log</span><span class="p">((</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">?</span><span class="s2">"Loaded "</span><span class="o">:</span><span class="s2">"Loading "</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">+</span><span class="s2">" for "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-content-loaded"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">setLoading</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"changeTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="s2">"|"</span><span class="o">+</span><span class="nx">t</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">P</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Page "</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">" : texture changed from - "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">+</span><span class="s2">" to "</span><span class="o">+</span><span class="nx">i</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updateTextureLoadStatus</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="p">)}}]),</span><span class="nx">e</span><span class="p">}());</span><span class="kd">function</span> <span class="nx">x</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">C</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">C</span><span class="o">=</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">&amp;&amp;</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="nx">e</span><span class="p">)););</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">E</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">E</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">T</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">T</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">O</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">T</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}(</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">E</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">x</span><span class="p">(</span><span class="k">this</span><span class="p">)});</span><span class="kd">function</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">;</span><span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}(</span><span class="k">this</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">"df-reader"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mouseScrollAction</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,(</span><span class="nx">i</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)).</span><span class="nx">app</span><span class="p">.</span><span class="nx">jumpStep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">minZoom</span><span class="o">=</span><span class="p">.</span><span class="mi">25</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingLeft</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingRight</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingTop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingBottom</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsFloating</span><span class="o">?</span><span class="mi">20</span><span class="o">:</span><span class="mi">10</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageScale</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">acceptAppMouseEvents</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">deltaPanX</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">deltaPanY</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">_viewerPrepared</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="o">=</span><span class="nx">x</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">i</span><span class="p">}</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="p">[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"init"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">initEvents</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initPages</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initScrollBar</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">({</span><span class="nx">parentElement</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">});</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initScrollBar"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div class='df-reader-scrollbar'&gt;"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div class='df-reader-scroll-page-number'&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"afterControlUpdate"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">getCurrentLabel</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageLabels</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">getCurrentLabel</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;div&gt;("</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="s2">" of "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">+</span><span class="s2">")&lt;/div&gt;"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">innerHTML</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">getCurrentLabel</span><span class="p">()</span><span class="o">+</span><span class="s2">"&lt;div&gt;of "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">+</span><span class="s2">"&lt;/div&gt;"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateBuffer"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"-1"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">a</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">pageNumber</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="o">===</span><span class="nx">s</span><span class="p">){</span><span class="nx">k</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Page "</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">" already in buffer, skipping"</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">-</span><span class="nx">s</span><span class="p">)</span><span class="o">&gt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">a</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBufferSize</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">k</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Farthest buffer: "</span><span class="o">+</span><span class="nx">i</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">reset</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBuffer</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="mi">1</span><span class="p">))}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initCustomControls"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">openRight</span><span class="p">.</span><span class="nx">hide</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">.</span><span class="nx">hide</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"dispose"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getInnerHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"_getInnerHeight"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">-</span><span class="mi">20</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">ACTUAL</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">PAGE_WIDTH</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">AUTO</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="mf">1.5</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">ACTUAL</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">a</span><span class="o">-=</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_containCover</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_containCover</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_containCover</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">a</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"handleZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomDelta</span><span class="o">?</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomDelta</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">i</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="o">:</span><span class="nx">i</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="o">:</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">*=</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">minZoom</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValueChange</span><span class="o">=</span><span class="nx">i</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomChanged</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">!==</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">=</span><span class="nx">i</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">shiftHeight</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">top</span><span class="o">:-</span><span class="nx">i</span><span class="p">,</span><span class="nx">bottom</span><span class="o">:-</span><span class="nx">i</span><span class="p">,</span><span class="nx">right</span><span class="o">:-</span><span class="mi">0</span><span class="p">,</span><span class="nx">left</span><span class="o">:-</span><span class="mi">0</span><span class="p">,</span><span class="nx">paddingTop</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">paddingRight</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">right</span><span class="p">,</span><span class="nx">paddingBottom</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">paddingLeft</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">left</span><span class="p">});</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getVisiblePages</span><span class="p">().</span><span class="nx">main</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">o</span><span class="p">],</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">;</span><span class="nx">h</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)</span><span class="o">+</span><span class="s2">"px"</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScrollHeight</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollHeight</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScrollHeight</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollHeight</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScrollHeight</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollCheck</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientTop</span><span class="o">-</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientTop</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">offsetLeft</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientLeft</span><span class="o">-</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">clientLeft</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">;</span><span class="nx">c</span><span class="o">+=</span><span class="p">(</span><span class="nx">p</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">d</span><span class="o">+=</span><span class="p">(</span><span class="nx">p</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">10</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">u</span><span class="o">?</span><span class="nx">u</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nx">c</span><span class="o">+=</span><span class="p">(</span><span class="nx">p</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">d</span><span class="o">+=</span><span class="p">(</span><span class="nx">p</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollTop</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollLeft</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollCheck</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScrollHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"none"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updateScrollBar</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">gotoPageCallBack</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">oldScrollHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollHeight</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getVisiblePages</span><span class="p">().</span><span class="nx">main</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">s</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">s</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"number"</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">s</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isAnimating"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">OFF</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">COUNT</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isActivePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getVisiblePages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">getVisibleElements</span><span class="p">({</span><span class="nx">container</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">elements</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">children</span><span class="p">});</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">?</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">]</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageBufferSize</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="o">=</span><span class="nx">e</span><span class="p">,{</span><span class="nx">main</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">buffer</span><span class="o">:</span><span class="p">[]}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getPageByNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Page Not found for: "</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onScroll"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollTop</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">containerHeight</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getVisiblePages</span><span class="p">().</span><span class="nx">main</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">s</span><span class="p">];</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">[</span><span class="nx">a</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">clientTop</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">&lt;=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">clientHeight</span><span class="o">+</span><span class="nx">r</span><span class="o">&gt;=</span><span class="nx">t</span><span class="p">)</span><span class="k">break</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="o">&gt;</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">clientHeight</span><span class="o">+</span><span class="nx">r</span><span class="o">&gt;=</span><span class="nx">t</span><span class="p">){</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">s</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">break</span><span class="p">}}</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollIntoView</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollIntoView</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updateScrollBar</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">handlePopup</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateScrollBar"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollLeft</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">60</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="o">-</span><span class="mi">40</span><span class="o">-</span><span class="mi">60</span><span class="o">-</span><span class="mi">60</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">/</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">);</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="mi">60</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">lastY</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"translateY("</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"validatePageChange"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"gotoPageCallBack"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollIntoView</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">);</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">.</span><span class="nx">scrollIntoView</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">])}</span><span class="k">this</span><span class="p">.</span><span class="nx">skipScrollIntoView</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">]);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">i</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureLoadedCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)).</span><span class="nx">width</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">i</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">i</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanY</span><span class="o">+=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanX</span><span class="o">+=</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">panRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollTop</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollTop</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanY</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollLeft</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollLeft</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanY</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">deltaPanX</span><span class="o">=</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">isScrollBarPressed</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">k</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">lastY</span><span class="o">-</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">i</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">lastY</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">scrollTop</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="mi">60</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="o">-</span><span class="nx">n</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">offsetHeight</span><span class="o">-</span><span class="mi">40</span><span class="o">-</span><span class="mi">60</span><span class="o">-</span><span class="mi">60</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="k">return</span><span class="p">}</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">||</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">srcElement</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isScrollBarPressed</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">C</span><span class="p">(</span><span class="nx">E</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),(</span><span class="k">this</span><span class="p">.</span><span class="nx">isScrollBarPressed</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isScrollBarPressed</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollBar</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollPageNumber</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">))}}],</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}(</span><span class="nx">s</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">s</span><span class="p">}(</span><span class="nx">g</span><span class="p">);</span><span class="kd">function</span> <span class="nx">R</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">L</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">I</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">L</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">L</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">N</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">N</span><span class="o">=</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">&amp;&amp;</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">_</span><span class="p">(</span><span class="nx">e</span><span class="p">)););</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">_</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">_</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">A</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">M</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">M</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">M</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">D</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}();</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">_</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">_</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="k">this</span><span class="p">)}}</span><span class="kd">var</span> <span class="nx">F</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">A</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">D</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="k">return</span> <span class="nx">R</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">"df-flipbook "</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">||</span><span class="s2">""</span><span class="p">),(</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">)).</span><span class="nx">isFlipBook</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">sheets</span><span class="o">=</span><span class="p">[],</span><span class="nx">s</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">foldSense</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">isOneSided</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">o</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="mi">6</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">annotedPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">pendingAnnotations</span><span class="o">=</span><span class="p">[],</span><span class="nx">s</span><span class="p">.</span><span class="nx">seamPosition</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">soundOn</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableSound</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">soundFile</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">minZoom</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="o">=</span><span class="mi">4</span><span class="p">,(</span><span class="nx">s</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">AUTO</span><span class="o">||</span><span class="nx">s</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">checkSecondPage</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">PAGE_FIT</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="o">=</span><span class="k">new</span> <span class="nx">B</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">s</span><span class="p">}</span><span class="k">return</span> <span class="nx">I</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"init"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">initSound</span><span class="p">();</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="o">?</span><span class="nx">F</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&lt;=</span><span class="mi">2</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageMode</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">||</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">BOOKLET</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">ZOOM</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePageMode</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">width</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"determineHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initCustomControls"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"initCustomControls"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">ui</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">controls</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">sound</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"sound"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">sound</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">toggleSound</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundOn</span><span class="o">=!</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundOn</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">updateSound</span><span class="p">()}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">updateSound</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundOn</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">sound</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">sound</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">updateSound</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"dispose"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="p">.</span><span class="nx">stop</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="kc">null</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"determinePageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageModeChangedManually</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">F</span><span class="p">.</span><span class="nx">isMobile</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isAutoHeight</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_calculateInnerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_calculateInnerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">isSideMenuOpen</span><span class="o">?</span><span class="mi">220</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">i</span><span class="o">&gt;</span><span class="mf">1.1</span><span class="o">*</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">&lt;</span><span class="mi">768</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_calculateInnerHeight</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">isSideMenuOpen</span><span class="o">?</span><span class="mi">220</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">&gt;</span><span class="mf">1.1</span><span class="o">*</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">&lt;</span><span class="mi">768</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="p">}}</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">setPageMode</span><span class="p">({</span><span class="nx">isSingle</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">==</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">})}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initSound"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"audio"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">soundFile</span><span class="o">+</span><span class="s2">"?ver="</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">version</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">"type"</span><span class="p">,</span><span class="s2">"audio/mpeg"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"playSound"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">userHasInteracted</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">soundOn</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="p">.</span><span class="nx">currentTime</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">soundFile</span><span class="p">.</span><span class="nx">play</span><span class="p">())}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkDocumentPageSizes"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">AUTO</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">_page2Ratio</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">_page2Ratio</span><span class="o">&gt;</span><span class="mf">1.5</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">pageRatio</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">numPages</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">numPages</span><span class="o">-</span><span class="mi">2</span><span class="p">),(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_COVER_BACK</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">numPages</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getViewerPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_COVER_BACK</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getDocumentPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">?</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_COVER_BACK</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">((</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getViewPort"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">filterViewPort</span><span class="p">(</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"getViewPort"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isDoubleInternal"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isDoubleCoverBack"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_COVER_BACK</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isDoubleInternalPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternal</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getDoublePageWidthFix"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleCoverBack</span><span class="p">()</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isDoublePageFix"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleCoverBack</span><span class="p">()</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=!</span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=!</span><span class="mi">0</span><span class="p">)),</span><span class="nx">t</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeAnnotations"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeTextContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftViewPort</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">"--scale-factor"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftViewPort</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightViewPort</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">"--scale-factor"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightViewPort</span><span class="p">.</span><span class="nx">height</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isActivePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isSheetCover"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">;</span><span class="k">return</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">||</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="p">(</span><span class="nx">t</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">))</span><span class="o">-</span><span class="p">(</span><span class="nx">t</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isSheetHard"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">,</span><span class="s2">"cover"</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isSheetCover</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="s2">"all"</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">","</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">","</span><span class="p">).</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="o">||</span><span class="nx">n</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"sheetsIndexShift"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="o">&gt;</span><span class="nx">t</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">].</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">pop</span><span class="p">()))</span><span class="o">:</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">shift</span><span class="p">()))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkSwipe"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchZoomDirty</span><span class="o">&amp;&amp;</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosY</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosX</span><span class="p">;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">swipeThreshold</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosX</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosY</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkCenter"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_CENTER_SHIFT</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="p">;</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="o">===</span><span class="nx">o</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">o</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">?</span><span class="nx">r</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">l</span><span class="o">?</span><span class="nx">r</span><span class="o">?</span><span class="nx">s</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">s</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">centerShift</span><span class="o">!==</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">centerShift</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCenter"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"UpdateCenter: missing implementation."</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">)(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">t</span><span class="p">]).</span><span class="nx">reset</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">backPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">annotedPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">oldBasePageNumber</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">centerShift</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">refresh</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"handleZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getLeftPageTextureSize</span><span class="p">({</span><span class="nx">zoom</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">isAnnotation</span><span class="o">:!</span><span class="mi">0</span><span class="p">}),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getRightPageTextureSize</span><span class="p">({</span><span class="nx">zoom</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">isAnnotation</span><span class="o">:!</span><span class="mi">0</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">maxZoom</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">fakeZoom</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,</span><span class="nx">s</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">o</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">minZoom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">maxZoom</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">minZoom</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomDelta</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomDelta</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="nx">a</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="o">:</span><span class="nx">a</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">zoomRatio</span><span class="o">:</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">*=</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastScale</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">minZoom</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValueChange</span><span class="o">=</span><span class="nx">a</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">,(</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomChanged</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">!==</span><span class="nx">a</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="mi">1</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="mi">1</span><span class="o">===</span><span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">=</span><span class="nx">a</span><span class="p">,(</span><span class="nx">o</span><span class="o">||</span><span class="nx">s</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-zoom-active"</span><span class="p">,</span><span class="mi">1</span><span class="o">!==</span><span class="nx">a</span><span class="p">),</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">enterZoom</span><span class="p">(),</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">exitZoom</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">o</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">-</span><span class="nx">s</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">oldBasePageNumber</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="nx">o</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="nx">s</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">oldBasePageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumberChanged</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">reset</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsIndexShift</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">s</span><span class="o">/</span><span class="nx">o</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">p</span><span class="o">-</span><span class="nx">u</span><span class="o">+</span><span class="nx">r</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="o">=</span><span class="nx">h</span><span class="o">-</span><span class="nx">d</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="p">(</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">r</span><span class="p">])){</span><span class="nx">c</span><span class="p">.</span><span class="nx">targetSide</span><span class="o">=</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">u</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="p">;</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">side</span><span class="o">!==</span><span class="nx">c</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="o">!==</span><span class="nx">c</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="nx">f</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">c</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">&amp;&amp;</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">;</span><span class="o">!</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">.</span><span class="nx">currentTween</span><span class="p">.</span><span class="nx">stop</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">isHard</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSheetHard</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">isCover</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSheetCover</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">(),(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">backPage</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">).</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="nx">d</span><span class="o">:</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="mi">1</span><span class="p">,(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">c</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">backPage</span><span class="p">).</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="o">*</span><span class="nx">d</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshSheet</span><span class="p">({</span><span class="nx">sheet</span><span class="o">:</span><span class="nx">c</span><span class="p">,</span><span class="nx">sheetNumber</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">totalSheets</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">zIndex</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">+</span><span class="p">(</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">u</span><span class="o">?</span><span class="nx">r</span><span class="o">-</span><span class="nx">u</span><span class="o">:</span><span class="nx">u</span><span class="o">-</span><span class="nx">r</span><span class="p">),</span><span class="nx">visible</span><span class="o">:</span><span class="nx">a</span><span class="o">?</span><span class="nx">i</span><span class="o">?</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">u</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">||</span><span class="nx">v</span><span class="o">:</span><span class="nx">r</span><span class="o">&gt;=</span><span class="nx">u</span><span class="o">||</span><span class="nx">c</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">||</span><span class="nx">v</span><span class="o">:</span><span class="nx">d</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">&lt;</span><span class="nx">h</span><span class="o">||</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">===</span><span class="nx">h</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">needsFlip</span><span class="o">:</span><span class="nx">v</span><span class="p">,</span><span class="nx">midPoint</span><span class="o">:</span><span class="nx">u</span><span class="p">})}}</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">oldBasePageNumber</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">checkCenter</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumberChanged</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"validatePageChange"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=!</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">()</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldPageNumber</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&lt;</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldPageNumber</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">)</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&gt;</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">oldPageNumber</span><span class="o">&gt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getVisiblePages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">[],</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">&amp;&amp;</span><span class="nx">F</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">?</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="nx">n</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">visiblePagesCache</span><span class="o">=</span><span class="nx">e</span><span class="p">,{</span><span class="nx">main</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">buffer</span><span class="o">:</span><span class="p">[]}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getBasePage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="mi">2</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getRightPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getLeftPageNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"afterFlip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isFlipping"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isAnimating"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseWheel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">mouseScrollAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">mouseWheel</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"mouseWheel"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">()</span><span class="o">:</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetPageTween"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"gotoPageCallBack"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">resetPageTween</span><span class="p">(),</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">resetZoomBeforeFlip</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">resetZoom</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">beforeFlip</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"beforeFlip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"beforeFlip"</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">playSound</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onFlip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onFlip"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getAnnotationElement"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">a</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">getAnnotationElement</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"getAnnotationElement"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s2">"df-double-internal"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)),</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="s2">"df-double-internal-fix"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoublePageFix</span><span class="p">(</span><span class="nx">e</span><span class="p">))),</span><span class="nx">a</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextElement"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">getTextElement</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"getTextElement"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"enterZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">exchangeTexture</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"exitZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">exchangeTexture</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">,</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"exchangeTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">"-1"</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">?</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">textureStamp</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">getTexture</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">F</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture Exchanging at "</span><span class="o">+</span><span class="nx">i</span><span class="p">))</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture Exchanging Bypassed at "</span><span class="o">+</span><span class="nx">i</span><span class="p">),</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="s2">"-1"</span><span class="o">===</span><span class="nx">o</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">?</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">textureStamp</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">textureStamp</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">getTexture</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">F</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture Exchanging at "</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="o">:</span><span class="nx">F</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture Exchanging Bypassed at "</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))}</span><span class="nx">t</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">isSingle</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">i</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePageMode</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">resizeRequestStart</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">pageMode</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">doublepage</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">singlepage</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">pageMode</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">doublepage</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">singlepage</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">doublePageMode</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">doublePageMode</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">BOOKLET</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">jumpStep</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheets</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">reset</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">textureTarget</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">setPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"setPage"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_calculateInnerHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">/=</span><span class="mi">2</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_pageFitArea</span><span class="o">=</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">a</span><span class="p">};</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">_pageFitArea</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isAutoHeight</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">height</span><span class="p">)),</span><span class="nx">s</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getInnerHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_calculateInnerHeight</span><span class="p">();</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"availablePageWidth"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">+</span><span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">((</span><span class="nx">s</span><span class="o">/=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">||</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">:</span><span class="mi">1</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"availablePageHeight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="k">void</span> <span class="mi">0</span><span class="p">;</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">/=</span><span class="mi">2</span><span class="p">),</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">:</span><span class="mi">1</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoom</span><span class="p">),</span><span class="nx">i</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoom</span><span class="p">));</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">containUnStretched</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">)).</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getLeftPageTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="p">{};</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getLeftPageNumber</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">getTextureSize</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getRightPageTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="p">{};</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getRightPageNumber</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">getTextureSize</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"filterViewPort"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!=</span><span class="nx">i</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">clone</span><span class="p">();</span><span class="k">return</span> <span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">getDoublePageWidthFix</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"filterViewPortCanvas"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoublePageFix</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">transform</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">transform</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">))),</span><span class="nx">e</span><span class="p">.</span><span class="nx">widthFix</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isClosedPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">jumpStep</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">jumpStep</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isLeftPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">:</span><span class="nx">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"cleanPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="k">return</span> <span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"cleanPage"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">1</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">);</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">[</span><span class="nx">t</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"onReady"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"searchPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">include</span><span class="o">:!</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoublePageFix</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">label</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="s2">"-"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="s2">""</span><span class="p">)}}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">g</span><span class="p">),</span><span class="nx">B</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">A</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">D</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">;</span><span class="k">return</span> <span class="nx">R</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">"df-zoomview "</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">||</span><span class="s2">""</span><span class="p">),(</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">)).</span><span class="nx">viewer</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="p">{},</span><span class="nx">a</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="nx">a</span><span class="p">.</span><span class="nx">initEvents</span><span class="p">(),</span><span class="nx">a</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">I</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-back"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-front"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookShadow</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-book-shadow"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookShadow</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-sheet"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">N</span><span class="p">(</span><span class="nx">_</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">(),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">fullWidth</span><span class="o">=</span><span class="nx">a</span><span class="o">*</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">shiftHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">((</span><span class="nx">i</span><span class="o">-</span><span class="nx">r</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">)),</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">shiftWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">F</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">((</span><span class="nx">s</span><span class="o">-</span><span class="nx">o</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">));</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">top</span><span class="o">:-</span><span class="nx">l</span><span class="p">,</span><span class="nx">bottom</span><span class="o">:-</span><span class="nx">l</span><span class="p">,</span><span class="nx">right</span><span class="o">:-</span><span class="nx">h</span><span class="p">,</span><span class="nx">left</span><span class="o">:-</span><span class="nx">h</span><span class="p">,</span><span class="nx">paddingTop</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">paddingRight</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">right</span><span class="p">,</span><span class="nx">paddingBottom</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">paddingLeft</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="s2">"translate3d("</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="s2">"px,"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="s2">"px,0)"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span><span class="nx">s</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">marginTop</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">-</span><span class="nx">i</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">-</span><span class="nx">i</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">width</span><span class="p">(</span><span class="nx">s</span><span class="o">-</span><span class="nx">s</span><span class="o">%</span><span class="mi">2</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">annotedPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomChanged</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">origin</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValueChange</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">*=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">*=</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">});</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="p">{</span><span class="nx">raw</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="p">},</span><span class="nx">a</span><span class="o">=</span><span class="p">{</span><span class="nx">raw</span><span class="o">:</span><span class="p">{}},</span><span class="nx">s</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">*</span><span class="nx">i</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">s</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">raw</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">o</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pan</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">}}</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">zoomCenter</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?!</span><span class="nx">e</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">?</span><span class="s2">"none"</span><span class="o">:</span><span class="s2">"block"</span><span class="p">}),</span><span class="nx">s</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">&gt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="s2">"none"</span><span class="o">:</span><span class="s2">"block"</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCenter"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">centerShift</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">i</span><span class="o">=!</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">||</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="nx">e</span><span class="o">*</span><span class="nx">i</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="s2">"px"</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isDoubleInternalPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isDoubleInternalPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookFitPages</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftViewPort</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightViewPort</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">"--scale-factor"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">/</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">F</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pureMaxZoom</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s2">"--scale-factor"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">/</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">)}(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!=</span><span class="nx">t</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">!=</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheetsWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">)).</span><span class="nx">width</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">)).</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="s2">"translateY("</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="p">)</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">)).</span><span class="nx">width</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">)).</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="s2">"translateY("</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="p">)</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}))}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureLoadedCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">g</span><span class="p">),</span><span class="nx">U</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">R</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isOneSided</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="k">return</span> <span class="nx">I</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"flip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"frontImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="p">,</span><span class="nx">callback</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">callback</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"backImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="p">,</span><span class="nx">callback</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">callback</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">resetTexture</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">magnetic</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">dragPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flipPage</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">corner</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}();</span><span class="kd">function</span> <span class="nx">H</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">V</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">j</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">V</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">V</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">W</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">W</span><span class="o">=</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">&amp;&amp;</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">e</span><span class="p">)););</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">q</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">G</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">Z</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">Z</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">Z</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">K</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}();</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">q</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">q</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="k">this</span><span class="p">)}}</span><span class="kd">var</span> <span class="nx">Q</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">X</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">G</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">K</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">;</span><span class="k">return</span> <span class="nx">H</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)).</span><span class="nx">init</span><span class="p">(),</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">j</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="s2">"&lt;div&gt;"</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sheet"</span><span class="p">}),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-front"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-back"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sheet-wrapper"</span><span class="p">}),</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldInnerShadow</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sheet-fold-inner-shadow"</span><span class="p">}),</span><span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldOuterShadow</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sheet-fold-outer-shadow"</span><span class="p">});</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">s</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCSS"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetCSS"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="s2">""</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">resetCSS</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">resetCSS</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">distOrigin</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">)</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldInnerShadow</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">t</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldInnerShadow</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"translateY("</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"flip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">e</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flipPage</span><span class="o">=</span><span class="nx">t</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">corner</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">BL</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">corner</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">BR</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">end</span><span class="o">=</span><span class="nx">t</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">?</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="nx">h</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">l</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">l</span><span class="p">},</span><span class="nx">t</span><span class="p">.</span><span class="nx">flipEasing</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Quadratic</span><span class="p">.</span><span class="nx">InOut</span><span class="o">:</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Linear</span><span class="p">.</span><span class="nx">None</span><span class="p">;</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">angleByDistance</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">distance</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">fullWidth</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">u</span><span class="o">*</span><span class="p">(</span><span class="nx">o</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)},</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">end</span><span class="o">=</span><span class="nx">t</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">?</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="mi">0</span><span class="o">:-</span><span class="mi">0</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">o</span><span class="o">?-</span><span class="mi">180</span><span class="o">:</span><span class="mi">180</span><span class="p">})</span><span class="o">:</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">?</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="nx">t</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">?</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span><span class="o">:</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="nx">h</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">}</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">p</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="o">*</span><span class="nx">Q</span><span class="p">.</span><span class="nx">distPoints</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span><span class="o">/</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">fullWidth</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">duration</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">o</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="o">||</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="k">new</span> <span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Tween</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">delay</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">to</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="p">).</span><span class="nx">onUpdate</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTween</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">easing</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">flipEasing</span><span class="p">).</span><span class="nx">onComplete</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">completeTween</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">t</span><span class="p">)).</span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="k">new</span> <span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Tween</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">delay</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">to</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="p">).</span><span class="nx">onUpdate</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTween</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">easing</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Sinusoidal</span><span class="p">.</span><span class="nx">Out</span><span class="p">).</span><span class="nx">onComplete</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">completeTween</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">t</span><span class="p">)).</span><span class="nx">start</span><span class="p">()</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="k">new</span> <span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Tween</span><span class="p">(</span><span class="nx">i</span><span class="p">).</span><span class="nx">delay</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">to</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">p</span><span class="p">).</span><span class="nx">onUpdate</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTween</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">easing</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Sinusoidal</span><span class="p">.</span><span class="nx">Out</span><span class="p">).</span><span class="nx">onComplete</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">completeTween</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">t</span><span class="p">)).</span><span class="nx">start</span><span class="p">()}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">width</span><span class="p">(),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">corner</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">corner</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">corner</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">BL</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">BR</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">rx</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">o</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">+</span><span class="nx">t</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ry</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">r</span><span class="o">?</span><span class="nx">i</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ry</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">rx</span><span class="p">);</span><span class="nx">l</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">Q</span><span class="p">.</span><span class="nx">toRad</span><span class="p">(</span><span class="mi">90</span><span class="p">));</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">t</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rx</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">ry</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">l</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">atan2</span><span class="p">(</span><span class="nx">u</span><span class="p">,</span><span class="nx">h</span><span class="p">))</span><span class="o">*</span><span class="nx">Q</span><span class="p">.</span><span class="nx">distOrigin</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">u</span><span class="p">)),</span><span class="nx">c</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="nx">Q</span><span class="p">.</span><span class="nx">distOrigin</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">rx</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ry</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">t</span><span class="o">-</span><span class="nx">p</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">l</span><span class="p">)),</span><span class="nx">f</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">p</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">l</span><span class="p">)),</span><span class="nx">g</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">toDeg</span><span class="p">(</span><span class="nx">l</span><span class="p">),</span><span class="nx">v</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="nx">o</span><span class="o">?</span><span class="mi">180</span><span class="o">+</span><span class="p">(</span><span class="mi">90</span><span class="o">-</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="mi">180</span><span class="o">+</span><span class="nx">g</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="nx">g</span><span class="o">:</span><span class="mi">90</span><span class="o">-</span><span class="nx">g</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="nx">o</span><span class="o">?</span><span class="mi">180</span><span class="o">+</span><span class="p">(</span><span class="mi">90</span><span class="o">-</span><span class="nx">g</span><span class="p">)</span><span class="o">:</span><span class="nx">g</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="nx">g</span><span class="o">+</span><span class="mi">180</span><span class="o">:</span><span class="nx">v</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="nx">o</span><span class="o">?</span><span class="mi">90</span><span class="o">-</span><span class="nx">g</span><span class="o">:</span><span class="nx">g</span><span class="o">+</span><span class="mi">90</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="nx">v</span><span class="o">-</span><span class="mi">90</span><span class="o">:</span><span class="nx">v</span><span class="o">+</span><span class="mi">180</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="nx">t</span><span class="o">-</span><span class="nx">d</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">w</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="nx">i</span><span class="o">+</span><span class="nx">f</span><span class="o">:-</span><span class="nx">f</span><span class="p">,</span><span class="nx">P</span><span class="o">=</span><span class="nx">o</span><span class="o">?-</span><span class="nx">d</span><span class="o">:</span><span class="nx">d</span><span class="o">-</span><span class="nx">t</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="nx">r</span><span class="o">?-</span><span class="nx">i</span><span class="o">-</span><span class="nx">f</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">x</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(.</span><span class="mi">5</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">distance</span><span class="o">/</span><span class="nx">t</span><span class="p">,</span><span class="mi">0</span><span class="p">,.</span><span class="mi">5</span><span class="p">),</span><span class="nx">C</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">+</span><span class="nx">t</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">rx</span><span class="p">)</span><span class="o">*</span><span class="p">.</span><span class="mi">5</span><span class="o">/</span><span class="nx">t</span><span class="p">,.</span><span class="mi">05</span><span class="p">,.</span><span class="mi">3</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-folding"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">T</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldOuterShadow</span><span class="p">,</span><span class="nx">O</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldInnerShadow</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">translateStr</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">w</span><span class="p">)</span><span class="o">+</span><span class="nx">Q</span><span class="p">.</span><span class="nx">rotateStr</span><span class="p">(</span><span class="nx">v</span><span class="p">)}),</span><span class="nx">T</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">rotateStr</span><span class="p">(</span><span class="o">-</span><span class="nx">v</span><span class="p">)</span><span class="o">+</span><span class="nx">Q</span><span class="p">.</span><span class="nx">translateStr</span><span class="p">(</span><span class="o">-</span><span class="nx">b</span><span class="p">,</span><span class="o">-</span><span class="nx">w</span><span class="p">)}),</span><span class="nx">E</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">rotateStr</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">+</span><span class="nx">Q</span><span class="p">.</span><span class="nx">translateStr</span><span class="p">(</span><span class="nx">P</span><span class="p">,</span><span class="nx">S</span><span class="p">),</span><span class="nx">boxShadow</span><span class="o">:</span><span class="s2">"rgba(0, 0, 0, "</span><span class="o">+</span><span class="nx">x</span><span class="o">+</span><span class="s2">") 0px 0px 20px"</span><span class="p">}),</span><span class="nx">O</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">transform</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">rotateStr</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">+</span><span class="nx">Q</span><span class="p">.</span><span class="nx">translateStr</span><span class="p">(</span><span class="nx">P</span><span class="p">,</span><span class="nx">S</span><span class="p">),</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">C</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">css</span><span class="o">+</span><span class="s2">"linear-gradient( "</span><span class="o">+</span><span class="nx">y</span><span class="o">+</span><span class="s2">"deg, rgba(0, 0, 0, 0.25) , rgb(0, 0, 0) "</span><span class="o">+</span><span class="p">.</span><span class="mi">7</span><span class="o">*</span><span class="nx">c</span><span class="o">+</span><span class="s2">"px, rgb(255, 255, 255) "</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}),</span><span class="nx">k</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">opacity</span><span class="o">:</span><span class="nx">C</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="s2">"auto"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">right</span><span class="o">:</span><span class="nx">o</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="s2">"auto"</span><span class="p">,</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="nx">Q</span><span class="p">.</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">css</span><span class="o">+</span><span class="s2">"linear-gradient( "</span><span class="o">+</span><span class="p">(</span><span class="o">-</span><span class="nx">y</span><span class="o">+</span><span class="mi">180</span><span class="p">)</span><span class="o">+</span><span class="s2">"deg, rgba(0, 0, 0,0) "</span><span class="o">+</span><span class="nx">c</span><span class="o">/</span><span class="mi">3</span><span class="o">+</span><span class="s2">"px, rgb(0, 0, 0) "</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">})}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateAngle"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">width</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">perspective</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">perspectiveOrigin</span><span class="o">:!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"0% 50%"</span><span class="o">:</span><span class="s2">"100% 50%"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-folding"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="nx">e</span><span class="o">&lt;=-</span><span class="mi">90</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="o">:</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="p">(</span><span class="s2">"MfS"</span><span class="o">!==</span><span class="nx">Q</span><span class="p">.</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">dom</span><span class="o">?</span><span class="s2">""</span><span class="o">:</span><span class="s2">"perspective("</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"px) "</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"translateX(-100%) "</span><span class="o">:</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s2">"rotateY("</span><span class="o">+</span><span class="p">((</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="mi">180</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="s2">"deg)"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="nx">e</span><span class="o">&gt;-</span><span class="mi">90</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="o">:</span><span class="nx">e</span><span class="o">&gt;=</span><span class="mi">90</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="p">(</span><span class="s2">"MSd"</span><span class="o">!==</span><span class="nx">Q</span><span class="p">.</span><span class="nx">prefix</span><span class="p">.</span><span class="nx">dom</span><span class="o">?</span><span class="s2">""</span><span class="o">:</span><span class="s2">"perspective("</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"px) "</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"translateX(100%) "</span><span class="o">:</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s2">"rotateY("</span><span class="o">+</span><span class="p">((</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="o">?-</span><span class="mi">180</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="nx">e</span><span class="p">)</span><span class="o">+</span><span class="s2">"deg)"</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateTween"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">s</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">animateToReset</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">angle</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePoint</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">t</span><span class="o">&amp;&amp;!</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">i</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="o">||!</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="p">)</span><span class="o">:</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="o">&lt;</span><span class="p">.</span><span class="mi">5</span><span class="o">?</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="o">:</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"completeTween"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">angle</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="s2">"block"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="s2">"block"</span><span class="p">}))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePoint</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">y</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">reset</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">onFlip</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">afterFlip</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">U</span><span class="p">),</span><span class="nx">Y</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">G</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">K</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">;</span><span class="k">return</span> <span class="nx">H</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">o</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="s2">"df-flipbook-2d"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">skipViewerLoaded</span><span class="o">=!</span><span class="mi">0</span><span class="p">,(</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">)).</span><span class="nx">bookShadow</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-book-shadow"</span><span class="p">}),</span><span class="nx">s</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">bookShadow</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">corner</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_viewerPrepared</span><span class="p">(),</span><span class="nx">s</span><span class="p">}</span><span class="k">return</span> <span class="nx">j</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">W</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"init"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">initEvents</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initPages</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">W</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">W</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"dispose"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">X</span><span class="p">({</span><span class="nx">parentElement</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">});</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">W</span><span class="p">(</span><span class="nx">q</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"resize"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">(),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">fullWidth</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">shiftHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">((</span><span class="nx">n</span><span class="o">-</span><span class="nx">r</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">)),</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">shiftWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">((</span><span class="nx">s</span><span class="o">-</span><span class="nx">o</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">));</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">top</span><span class="o">:-</span><span class="nx">l</span><span class="p">,</span><span class="nx">bottom</span><span class="o">:-</span><span class="nx">l</span><span class="p">,</span><span class="nx">right</span><span class="o">:-</span><span class="nx">h</span><span class="p">,</span><span class="nx">left</span><span class="o">:-</span><span class="nx">h</span><span class="p">,</span><span class="nx">paddingTop</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">paddingRight</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">right</span><span class="p">,</span><span class="nx">paddingBottom</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">paddingLeft</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">transform</span><span class="o">:</span><span class="s2">"translate3d("</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="s2">"px,"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="s2">"px,0)"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">marginTop</span><span class="o">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">-</span><span class="nx">n</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">s</span><span class="o">-</span><span class="nx">s</span><span class="o">%</span><span class="mi">2</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">resize</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">checkCenter</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCenter"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">centerShift</span><span class="o">*</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isLeftPage</span><span class="p">()</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">seamPosition</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">containerWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapperShift</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">?-</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapperShift</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transition</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="s2">"none"</span><span class="o">:</span><span class="s2">""</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refreshSheet"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="p">;</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">needsFlip</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-flipping"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">flip</span><span class="p">())</span><span class="o">:</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-flipping df-quick-turn df-folding df-left-side df-right-side"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">targetSide</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="s2">"df-left-side"</span><span class="o">:</span><span class="s2">"df-right-side"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">targetSide</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateSize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateSize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="p">))),</span><span class="nx">t</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">visible</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-hard-sheet"</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-hard-sheet"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="s2">"block"</span><span class="p">}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="s2">"block"</span><span class="p">})),</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">visible</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">zIndex</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">zIndex</span><span class="p">}),</span><span class="kc">null</span><span class="o">==</span><span class="nx">t</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">resetCSS</span><span class="p">(),</span><span class="nx">i</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"number"</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"pagenumber"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"pagenumber"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"eventToPoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">u</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">is3D</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">}),</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">();</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">(</span><span class="nx">u</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">seamPosition</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">u</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">u</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">seamPosition</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">g</span><span class="p">.</span><span class="nx">top</span><span class="p">)</span><span class="o">-</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">NONE</span><span class="o">?</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">t</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="nx">i</span><span class="o">-</span><span class="nx">s</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="nx">i</span><span class="o">-</span><span class="nx">s</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">u</span><span class="o">?</span><span class="nx">d</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="nx">d</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="o">=</span><span class="nx">s</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">s</span><span class="o">&gt;</span><span class="nx">i</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">NONE</span><span class="p">;</span><span class="kd">var</span> <span class="nx">v</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="p">;</span><span class="k">return</span> <span class="nx">v</span><span class="o">=</span><span class="nx">s</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">&lt;</span><span class="nx">y</span><span class="o">?</span><span class="nx">m</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;=</span><span class="nx">y</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">TL</span><span class="o">:</span><span class="nx">m</span><span class="o">&gt;=</span><span class="nx">a</span><span class="o">-</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;=</span><span class="nx">a</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">BL</span><span class="o">:</span><span class="nx">m</span><span class="o">&gt;</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">-</span><span class="nx">y</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">L</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="o">:</span><span class="nx">s</span><span class="o">&gt;=</span><span class="nx">i</span><span class="o">-</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">&lt;=</span><span class="nx">i</span><span class="o">?</span><span class="nx">m</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;=</span><span class="nx">y</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">TR</span><span class="o">:</span><span class="nx">m</span><span class="o">&gt;=</span><span class="nx">a</span><span class="o">-</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;=</span><span class="nx">a</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">BR</span><span class="o">:</span><span class="nx">m</span><span class="o">&gt;</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">-</span><span class="nx">y</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">R</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="p">,{</span><span class="nx">isInsideSheet</span><span class="o">:</span><span class="nx">s</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">&lt;=</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&gt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">m</span><span class="o">&lt;=</span><span class="nx">a</span><span class="p">,</span><span class="nx">isInsideCorner</span><span class="o">:</span><span class="nx">v</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">NONE</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">L</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">R</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">c</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">x</span><span class="o">:</span><span class="nx">s</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">c</span><span class="o">?</span><span class="nx">f</span><span class="p">.</span><span class="nx">y</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">fullWidth</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">sheetWidth</span><span class="o">:</span><span class="nx">t</span><span class="p">,</span><span class="nx">sheetHeight</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">rawDistance</span><span class="o">:</span><span class="nx">i</span><span class="o">-</span><span class="nx">s</span><span class="p">,</span><span class="nx">distance</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">sheet</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">drag</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">foldSense</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="p">,</span><span class="nx">event</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">raw</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">corner</span><span class="o">:</span><span class="nx">v</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pan"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="nx">Q</span><span class="p">.</span><span class="nx">pan</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchMove</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pan</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">());</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">flipPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideCorner</span><span class="p">)){</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">fullWidth</span><span class="o">-</span><span class="mi">1</span><span class="p">));</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">corner</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">corner</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">isHard</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">a</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">BR</span><span class="o">||</span><span class="nx">a</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_CORNER</span><span class="p">.</span><span class="nx">TR</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">angleByDistance</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">distance</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">fullWidth</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(</span><span class="nx">o</span><span class="o">*</span><span class="p">(</span><span class="nx">s</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">)}</span><span class="k">else</span> <span class="nx">i</span><span class="p">.</span><span class="nx">updatePoint</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">magnetic</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">magneticCorner</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">corner</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()}</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">i</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideCorner</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">magnetic</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">magnetic</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">corner</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">magneticCorner</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">flip</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">checkSwipe</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">button</span><span class="p">)){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchUp</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalTarget</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">x</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="s2">"A"</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomOnPoint</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">pendingPoint</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">drag</span><span class="p">,</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideCorner</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideSheet</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">clickAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_CLICK_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="p">))</span><span class="nx">t</span><span class="p">.</span><span class="nx">corner</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"l"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">();</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">();</span><span class="nx">t</span><span class="p">.</span><span class="nx">distance</span><span class="o">&gt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheetWidth</span><span class="o">/</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()),</span><span class="nx">o</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">animateToReset</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">flip</span><span class="p">(</span><span class="nx">t</span><span class="p">))}</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">magnetic</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="k">else</span> <span class="nx">a</span><span class="o">&amp;&amp;!</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideSheet</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">clickAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_CLICK_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"left"</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">side</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">NONE</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">button</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchDown</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosX</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosY</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideCorner</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">flipPage</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">drag</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">corner</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">corner</span><span class="p">,</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">bookShadow</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span><span class="s2">"50%"</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="s2">"50%"</span><span class="p">,</span><span class="nx">transitionDelay</span><span class="o">:</span><span class="s2">""</span><span class="p">})</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">===</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">bookShadow</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">width</span><span class="o">:</span><span class="s2">"50%"</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="s2">"50%"</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">transitionDelay</span><span class="o">:</span><span class="s2">""</span><span class="p">}))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">0</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onScroll"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetPageTween"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">currentTween</span><span class="p">.</span><span class="nx">complete</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">()){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookFitPages</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftViewport</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightViewPort</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">Q</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheetsWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="nx">r</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="nx">r</span><span class="p">.</span><span class="nx">updateSize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetTop</span><span class="p">)</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">updateSize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetTop</span><span class="p">)}}</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">()}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureLoadedCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">z</span><span class="p">);</span><span class="kd">function</span> <span class="nx">J</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">ee</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">et</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">et</span><span class="o">=</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">&amp;&amp;</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">ei</span><span class="p">(</span><span class="nx">e</span><span class="p">)););</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ei</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ei</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">en</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">ea</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ea</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ea</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">es</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}();</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">ei</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">ei</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="k">this</span><span class="p">)}}</span><span class="kd">var</span> <span class="nx">eo</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">er</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">en</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">es</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(){</span><span class="k">return</span> <span class="nx">J</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">)}</span><span class="k">return</span> <span class="nx">ee</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sheet"</span><span class="p">});(</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">).</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-front"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),(</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">S</span><span class="p">).</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-page-back"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">sheet</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">sheet</span><span class="o">=</span><span class="k">this</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"completeTween"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">onFlip</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">afterFlip</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"flip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">completeTween</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">t</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="s2">"translateX("</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">positionX</span><span class="o">+</span><span class="s2">"px) translateY("</span><span class="o">+</span><span class="nx">i</span><span class="o">+</span><span class="s2">"px)"</span><span class="p">}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">X</span><span class="p">),</span><span class="nx">el</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">en</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">es</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="p">;</span><span class="k">return</span> <span class="nx">J</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">"df-slider"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">BOOKLET</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">,(</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">)).</span><span class="nx">stackCount</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">soundOn</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">foldSense</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">_viewerPrepared</span><span class="p">(),</span><span class="nx">s</span><span class="p">}</span><span class="k">return</span> <span class="nx">ee</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">er</span><span class="p">({</span><span class="nx">parentElement</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">});</span><span class="nx">t</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">et</span><span class="p">(</span><span class="nx">ei</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"resize"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">skipTransition</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refreshSheet"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-no-transition"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">skipTransition</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">needsFlip</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">flip</span><span class="p">()</span><span class="o">:</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-flipping df-quick-turn df-folding df-left-side df-right-side"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">targetSide</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="s2">"df-left-side"</span><span class="o">:</span><span class="s2">"df-right-side"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">)),</span><span class="nx">t</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">visible</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateCSS</span><span class="p">({</span><span class="nx">display</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="o">&lt;=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">?</span><span class="s2">"block"</span><span class="o">:</span><span class="s2">"none"</span><span class="p">,</span><span class="nx">zIndex</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">zIndex</span><span class="p">}),</span><span class="nx">i</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"number"</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"pagenumber"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"pagenumber"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">et</span><span class="p">(</span><span class="nx">ei</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"refresh"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">skipTransition</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"eventToPoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">et</span><span class="p">(</span><span class="nx">ei</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"eventToPoint"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">isInsideSheet</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">srcElement</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".df-page"</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideCorner</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initCustomControls"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="p">.</span><span class="nx">hide</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">et</span><span class="p">(</span><span class="nx">ei</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"setPageMode"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">()){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="p">[],</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">s</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">s</span><span class="o">++</span><span class="p">)</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="nx">s</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">s</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">n</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">r</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">r</span><span class="p">).</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="nx">eo</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">width</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&gt;</span><span class="nx">l</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="o">-=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">positionX</span><span class="o">=</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">positionX</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">t</span><span class="o">+=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">+</span><span class="mi">10</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()</span><span class="o">-</span><span class="nx">u</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">l</span><span class="p">.</span><span class="nx">updateSize</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">),</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">),</span><span class="nx">p</span><span class="p">)}}</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">()}}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">Y</span><span class="p">);</span><span class="kd">function</span> <span class="nx">eh</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">eu</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ep</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">ec</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">ep</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">ep</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ed</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ed</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ef</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">ev</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eg</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?!!</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ev</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ev</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">em</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}();</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">ed</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">ed</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="nx">eh</span><span class="p">(</span><span class="k">this</span><span class="p">)}}</span><span class="kd">var</span> <span class="nx">ey</span><span class="o">=</span><span class="p">{};</span><span class="kd">function</span> <span class="nx">eb</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ew</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eP</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">eS</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">eP</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">eP</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ex</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ex</span><span class="o">=</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">&amp;&amp;</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">eC</span><span class="p">(</span><span class="nx">e</span><span class="p">)););</span><span class="k">return</span> <span class="nx">e</span><span class="p">}(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getOwnPropertyDescriptor</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">get</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">value</span><span class="p">}})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">||</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eC</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">eC</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eE</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">eT</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eT</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">eT</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">ek</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}();</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">eC</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">eC</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="nx">eb</span><span class="p">(</span><span class="k">this</span><span class="p">)}}</span><span class="nx">ey</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">ey</span><span class="p">.</span><span class="nx">initialized</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">THREE</span><span class="p">;</span><span class="nx">ey</span><span class="o">=</span><span class="p">{</span><span class="nx">init</span><span class="o">:</span><span class="kd">function</span><span class="p">(){},</span><span class="nx">initialized</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">GEOMETRY_TYPE</span><span class="o">:</span><span class="p">{</span><span class="nx">PLANE</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">BOX</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">MODEL</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span><span class="nx">MATERIAL_FACE</span><span class="o">:</span><span class="p">{</span><span class="nx">FRONT</span><span class="o">:</span><span class="mi">5</span><span class="p">,</span><span class="nx">BACK</span><span class="o">:</span><span class="mi">4</span><span class="p">},</span><span class="nx">WHITE_COLOR</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="s2">"white"</span><span class="p">),</span><span class="nx">defaults</span><span class="o">:</span><span class="p">{</span><span class="nx">anisotropy</span><span class="o">:</span><span class="mi">8</span><span class="p">,</span><span class="nx">maxTextureSize</span><span class="o">:</span><span class="mi">2048</span><span class="p">,</span><span class="nx">groundTexture</span><span class="o">:</span><span class="s2">"blank"</span><span class="p">,</span><span class="nx">color</span><span class="o">:</span><span class="mi">16777215</span><span class="p">,</span><span class="nx">shininess</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="mi">210</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="mi">297</span><span class="p">,</span><span class="nx">depth</span><span class="o">:</span><span class="p">.</span><span class="mi">2</span><span class="p">,</span><span class="nx">segments</span><span class="o">:</span><span class="mi">150</span><span class="p">,</span><span class="nx">textureLoadFallback</span><span class="o">:</span><span class="s2">"blank"</span><span class="p">},</span><span class="nx">textureLoader</span><span class="o">:</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">TextureLoader</span><span class="p">,</span><span class="nx">clearChild</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">material</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="nx">i</span><span class="p">.</span><span class="nx">map</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">map</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()),</span><span class="nx">i</span><span class="p">.</span><span class="nx">bumpMap</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">bumpMap</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()),</span><span class="nx">i</span><span class="p">.</span><span class="nx">normalMap</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">normalMap</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">());</span><span class="k">else</span> <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">map</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">map</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()),</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">bumpMap</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">bumpMap</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()),</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">normalMap</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">normalMap</span><span class="p">,</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">dispose</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">dispose</span><span class="p">())),</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="kc">null</span><span class="p">}},</span><span class="nx">loadImage</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="kc">null</span><span class="o">==</span><span class="nx">t</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">n</span><span class="p">][</span><span class="nx">a</span><span class="p">]</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">n</span><span class="p">][</span><span class="nx">a</span><span class="p">].</span><span class="nx">sourceFile</span><span class="o">:</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">o</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"data:image"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">o</span><span class="p">}</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">return</span><span class="s2">"CANVAS"</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">||</span><span class="s2">"IMG"</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">?</span><span class="p">((</span><span class="nx">r</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Texture</span><span class="p">(</span><span class="nx">i</span><span class="p">)).</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">))</span><span class="o">:</span><span class="s2">"blank"</span><span class="o">!==</span><span class="nx">i</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">ey</span><span class="p">.</span><span class="nx">textureLoader</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">sourceFile</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">)},</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kc">null</span><span class="o">==</span><span class="nx">r</span><span class="p">.</span><span class="nx">image</span><span class="o">&amp;&amp;</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadTextureFailed</span><span class="p">()}))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">mapping</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">UVMapping</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadTexture</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">r</span><span class="p">)),</span><span class="mi">0</span><span class="p">},</span><span class="nx">loadTexture</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">image</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">naturalWidth</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">naturalWidth</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">naturalHeight</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">naturalHeight</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="o">!=</span><span class="nx">i</span><span class="p">.</span><span class="nx">textureRotation</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">rotation</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">MathUtils</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">textureRotation</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">center</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">textureCenter</span><span class="p">)}</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"map"</span><span class="o">===</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">anisotropy</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">anisotropy</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">anisotropy</span><span class="o">=</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">anisotropy</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">skipPowerOfTwo</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">minFilter</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">LinearFilter</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">magFilter</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">LinearFilter</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">toTimeString</span><span class="p">()),</span><span class="nx">ey</span><span class="p">.</span><span class="nx">clearTexture</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">n</span><span class="p">]),</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">a</span><span class="p">][</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="s2">"bumpMap"</span><span class="o">===</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">bumpScale</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">getBumpScale</span><span class="p">(</span><span class="nx">a</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">loadTextureFailed</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="kc">null</span><span class="p">},</span><span class="nx">clearTexture</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="o">&amp;&amp;</span><span class="s2">"CANVAS"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">nodeName</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">remove</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="nx">e</span><span class="p">))}},</span><span class="nx">e</span><span class="p">.</span><span class="nx">skipPowerOfTwo</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">ef</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">em</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eu</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">color</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">color</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">segments</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">segments</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">depth</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">depth</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">flatShading</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">shininess</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">shininess</span><span class="o">||</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">shininess</span><span class="p">},</span><span class="nx">p</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">MeshPhongMaterial</span><span class="p">(</span><span class="nx">u</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="p">[</span><span class="nx">p</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="nx">p</span><span class="p">,</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">MeshPhongMaterial</span><span class="p">(</span><span class="nx">u</span><span class="p">),</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">MeshPhongMaterial</span><span class="p">(</span><span class="nx">u</span><span class="p">)];</span><span class="k">return</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">BoxGeometry</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">l</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">c</span><span class="p">)).</span><span class="nx">material</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">transparent</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">transparent</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">baseType</span><span class="o">=</span><span class="s2">"Paper"</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"Paper"</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">receiveShadow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">parent3D</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">eh</span><span class="p">(</span><span class="nx">a</span><span class="p">)),</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">ec</span><span class="p">(</span><span class="nx">n</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="s2">"map"</span><span class="p">,</span><span class="nx">i</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"frontImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">FRONT</span><span class="p">,</span><span class="s2">"map"</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"backImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">BACK</span><span class="p">,</span><span class="s2">"map"</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadBump"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">FRONT</span><span class="p">,</span><span class="s2">"bumpMap"</span><span class="p">,</span><span class="kc">null</span><span class="p">),</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">BACK</span><span class="p">,</span><span class="s2">"bumpMap"</span><span class="p">,</span><span class="kc">null</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadNormalMap"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="p">){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="s2">"normalMap"</span><span class="p">,</span><span class="kc">null</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">FRONT</span><span class="p">,</span><span class="s2">"normalMap"</span><span class="p">,</span><span class="kc">null</span><span class="p">),</span><span class="nx">ey</span><span class="p">.</span><span class="nx">loadImage</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">BACK</span><span class="p">,</span><span class="s2">"normalMap"</span><span class="p">,</span><span class="kc">null</span><span class="p">)}}]),</span><span class="nx">n</span><span class="p">}(</span><span class="nx">e</span><span class="p">.</span><span class="nx">Mesh</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ef</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">em</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">;</span><span class="k">return</span> <span class="nx">eu</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)).</span><span class="nx">receiveShadow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">frontImage</span><span class="p">(</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">groundTexture</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">backImage</span><span class="p">(</span><span class="nx">ey</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">groundTexture</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">"Ground"</span><span class="p">,</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">i</span><span class="p">}(</span><span class="nx">t</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">ef</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">em</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eu</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">eh</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">));</span><span class="nx">o</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">canvas</span><span class="o">||</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"canvas"</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">canvas</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">PerspectiveCamera</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">o</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="nx">e4</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">WebGLRenderer</span><span class="p">({</span><span class="nx">canvas</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">canvas</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">antialias</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">alpha</span><span class="o">:!</span><span class="mi">0</span><span class="p">}),</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setPixelRatio</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setSize</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setClearColor</span><span class="p">(</span><span class="mi">16777215</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">shadowMap</span><span class="p">.</span><span class="nx">enabled</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">shadowMap</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">ground</span><span class="o">=</span><span class="k">new</span> <span class="nx">i</span><span class="p">({</span><span class="nx">color</span><span class="o">:</span><span class="mi">16777215</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">far</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">far</span><span class="o">/</span><span class="mi">10</span><span class="p">,</span><span class="nx">segments</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">parent3D</span><span class="o">:</span><span class="nx">o</span><span class="p">}),</span><span class="nx">o</span><span class="p">.</span><span class="nx">ambientLight</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">AmbientLight</span><span class="p">(</span><span class="mi">4473924</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">ambientLight</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">spotLight</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">DirectionalLight</span><span class="p">(</span><span class="mi">16777215</span><span class="p">,.</span><span class="mi">25</span><span class="p">);</span><span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">near</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">far</span><span class="o">=</span><span class="mi">2</span><span class="nx">e3</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">1350</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=-</span><span class="mi">1350</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">left</span><span class="o">=-</span><span class="mi">1350</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">right</span><span class="o">=</span><span class="mi">1350</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">mapSize</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">mapSize</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">animateCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">renderCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="o">-</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="mi">300</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">lookAt</span><span class="p">(</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span><span class="nx">s</span><span class="p">}</span><span class="k">return</span> <span class="nx">ec</span><span class="p">(</span><span class="nx">a</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resizeCanvas"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setSize</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">aspect</span><span class="o">=</span><span class="nx">e</span><span class="o">/</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"render"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">animateCount</span><span class="o">++</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">stats</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">stats</span><span class="p">.</span><span class="nx">update</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearMaterials"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">t</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">--</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">t</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">baseType</span><span class="o">&amp;&amp;</span><span class="s2">"Paper"</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">baseType</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">)</span><span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">else</span> <span class="nx">i</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearChild"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">map</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">map</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">clearMaterials</span><span class="p">();</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">t</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">--</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">t</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">children</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="nx">n</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="o">--</span><span class="p">)</span><span class="nx">ey</span><span class="p">.</span><span class="nx">clearChild</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">n</span><span class="p">]);</span><span class="nx">ey</span><span class="p">.</span><span class="nx">clearChild</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">()}}]),</span><span class="nx">a</span><span class="p">}(</span><span class="nx">e</span><span class="p">.</span><span class="nx">Scene</span><span class="p">);</span><span class="nx">ey</span><span class="p">.</span><span class="nx">Paper</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">Stage</span><span class="o">=</span><span class="nx">n</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ef</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">em</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">;</span><span class="k">return</span> <span class="nx">eu</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)).</span><span class="nx">element</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">"absolute"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"removed"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">)}),</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">i</span><span class="p">}(</span><span class="nx">e</span><span class="p">.</span><span class="nx">Object3D</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DObject</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ef</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">em</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">eu</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}</span><span class="k">return</span> <span class="nx">i</span><span class="p">}(</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DObject</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DSprite</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">MathUtils</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nb">Math</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">MathUtils</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DRenderer</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">l</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"THREE.CSS3DRenderer"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">REVISION</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">new</span> <span class="nx">e</span><span class="p">.</span><span class="nx">Matrix4</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="p">{</span><span class="nx">camera</span><span class="o">:</span><span class="p">{</span><span class="nx">fov</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="s2">""</span><span class="p">},</span><span class="nx">objects</span><span class="o">:</span><span class="p">{}},</span><span class="nx">r</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span><span class="o">=</span><span class="s2">"hidden"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">WebkitTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">oTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">domElement</span><span class="o">=</span><span class="nx">r</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">WebkitTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">oTransformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transformStyle</span><span class="o">=</span><span class="s2">"preserve-3d"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">setClearColor</span><span class="o">=</span><span class="kd">function</span><span class="p">(){},</span><span class="k">this</span><span class="p">.</span><span class="nx">getSize</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nx">t</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">i</span><span class="p">}},</span><span class="k">this</span><span class="p">.</span><span class="nx">setSize</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">s</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">s</span><span class="o">+</span><span class="s2">"px"</span><span class="p">};</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&lt;</span><span class="nb">Number</span><span class="p">.</span><span class="nx">EPSILON</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">},</span><span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">;</span><span class="k">return</span><span class="s2">"matrix3d("</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">13</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">14</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span><span class="o">+</span><span class="s2">")"</span><span class="p">},</span><span class="nx">c</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">elements</span><span class="p">;</span><span class="k">return</span><span class="s2">"translate3d(-50%,-50%,0) matrix3d("</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">12</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">13</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">14</span><span class="p">])</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="nx">u</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">15</span><span class="p">])</span><span class="o">+</span><span class="s2">")"</span><span class="p">},</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">eg</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DObject</span><span class="p">)){</span><span class="nx">eg</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">CSS3DSprite</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">copy</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">matrixWorldInverse</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">transpose</span><span class="p">(),</span><span class="nx">s</span><span class="p">.</span><span class="nx">copyPosition</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">matrixWorld</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">scale</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">elements</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="o">:</span><span class="nx">n</span><span class="o">=</span><span class="nx">c</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">matrixWorld</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">objects</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">id</span><span class="p">];(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">r</span><span class="o">||</span><span class="nx">r</span><span class="o">!==</span><span class="nx">n</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">WebkitTransform</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozTransform</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">oTransform</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">objects</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">!==</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">a</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">u</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="nx">d</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">i</span><span class="p">)};</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">s</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nb">Math</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(.</span><span class="mi">5</span><span class="o">*</span><span class="nx">s</span><span class="p">.</span><span class="nx">fov</span><span class="p">))</span><span class="o">*</span><span class="nx">i</span><span class="p">;</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">fov</span><span class="o">!==</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">WebkitPerspective</span><span class="o">=</span><span class="nx">l</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozPerspective</span><span class="o">=</span><span class="nx">l</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">oPerspective</span><span class="o">=</span><span class="nx">l</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">perspective</span><span class="o">=</span><span class="nx">l</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">fov</span><span class="o">=</span><span class="nx">l</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateMatrixWorld</span><span class="p">(),</span><span class="kc">null</span><span class="o">===</span><span class="nx">s</span><span class="p">.</span><span class="nx">parent</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="p">.</span><span class="nx">updateMatrixWorld</span><span class="p">(),</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorldInverse</span><span class="p">.</span><span class="nx">invert</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorldInverse</span><span class="p">.</span><span class="nx">copy</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorld</span><span class="p">).</span><span class="nx">invert</span><span class="p">()</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorldInverse</span><span class="p">.</span><span class="nx">getInverse</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorld</span><span class="p">);</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="s2">"translate3d(0,0,"</span><span class="o">+</span><span class="nx">l</span><span class="o">+</span><span class="s2">"px)"</span><span class="o">+</span><span class="nx">p</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">matrixWorldInverse</span><span class="p">)</span><span class="o">+</span><span class="s2">" translate3d("</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">"px,"</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">"px, 0)"</span><span class="p">;</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">style</span><span class="o">!==</span><span class="nx">u</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">WebkitTransform</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">MozTransform</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">oTransform</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">style</span><span class="o">=</span><span class="nx">u</span><span class="p">),</span><span class="nx">d</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">s</span><span class="p">)}}}};</span><span class="kd">var</span> <span class="nx">eO</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">eR</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">eE</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">ek</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">;</span><span class="k">return</span> <span class="nx">ew</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)).</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="mi">180</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">parent3D</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">parent3D</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">segments</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">segments</span><span class="o">||</span><span class="mi">50</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="o">||</span><span class="mi">100</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">||</span><span class="mi">100</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">depth</span><span class="o">||</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">matColor</span><span class="o">=</span><span class="s2">"white"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">fallbackMatColor</span><span class="o">=</span><span class="nx">ey</span><span class="p">.</span><span class="nx">WHITE_COLOR</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">bumpScale</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">eS</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="k">new</span> <span class="nx">ey</span><span class="p">.</span><span class="nx">Paper</span><span class="p">({</span><span class="nx">parent3D</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">parent3D</span><span class="p">,</span><span class="nx">segments</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">segments</span><span class="p">,</span><span class="nx">depth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">depth</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">flatShading</span><span class="o">:</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">sheet</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">frontPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">eI</span><span class="p">({</span><span class="nx">sheet</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">face</span><span class="o">:</span><span class="mi">5</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">backPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">eI</span><span class="p">({</span><span class="nx">sheet</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">face</span><span class="o">:</span><span class="mi">4</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">reset</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setMatColor"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">matColor</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">6</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">color</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">matColor</span><span class="p">;</span><span class="k">else</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">color</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">matColor</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getBumpScale"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">bumpScale</span><span class="p">[</span><span class="nx">e</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetMatColor"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">color</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">matColor</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">fallbackMatColor</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"frontImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">frontImage</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"backImage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">backImage</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateAngle"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="p">(</span><span class="s2">"vertical"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="nx">e</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="nx">e</span><span class="o">/</span><span class="mi">20</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="p">(</span><span class="s2">"vertical"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">parameters</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">segments</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="o">/</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="o">*</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="p">[],</span><span class="nx">o</span><span class="o">=</span><span class="p">[],</span><span class="nx">r</span><span class="o">=</span><span class="p">[],</span><span class="nx">l</span><span class="o">=</span><span class="p">[],</span><span class="nx">h</span><span class="o">=</span><span class="p">[],</span><span class="nx">u</span><span class="o">=</span><span class="p">[],</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">depth</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="p">[];</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="p">[];</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">;</span><span class="s2">"vertical"</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">orientation</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageOffset</span><span class="p">),</span><span class="s2">"vertical"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">orientation</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageOffset</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">f</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">,</span><span class="nx">v</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">v</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="o">-</span><span class="nx">n</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">f</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">f</span><span class="p">)</span><span class="o">*</span><span class="nx">n</span><span class="o">-</span><span class="nx">y</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">y</span><span class="p">),</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="o">-</span><span class="nx">n</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">g</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">g</span><span class="p">)</span><span class="o">-</span><span class="nx">y</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">z</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">y</span><span class="p">),</span><span class="nx">v</span><span class="o">=</span><span class="p">(</span><span class="mi">45</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="o">*</span><span class="nx">a</span><span class="o">-</span><span class="nx">y</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">z</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">y</span><span class="p">),</span><span class="mi">5</span><span class="nx">e</span><span class="o">-</span><span class="mi">4</span><span class="o">&gt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="nx">y</span><span class="p">),</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span><span class="o">*</span><span class="nx">p</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">].</span><span class="nx">z</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">y</span><span class="p">),</span><span class="mi">5</span><span class="nx">e</span><span class="o">-</span><span class="mi">4</span><span class="o">&gt;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">].</span><span class="nx">x</span><span class="o">-</span><span class="mi">0</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">b</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">;</span><span class="nx">b</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">segments</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="nx">s</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">CubicBezierCurve3</span><span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">h</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">h</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="nx">h</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">3</span><span class="p">]),</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">getPoints</span><span class="p">(</span><span class="nx">w</span><span class="p">),</span><span class="nx">w</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">().</span><span class="nx">copy</span><span class="p">(</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">w</span><span class="p">]));</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">P</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">S</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">length</span><span class="p">;</span><span class="nx">x</span><span class="o">++</span><span class="p">)</span><span class="nx">c</span><span class="o">+=</span><span class="p">(</span><span class="nx">P</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">x</span><span class="p">]).</span><span class="nx">distanceTo</span><span class="p">(</span><span class="nx">S</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">S</span><span class="o">=</span><span class="nx">P</span><span class="p">;</span><span class="nx">o</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">CubicBezierCurve3</span><span class="p">(</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span><span class="nx">u</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="mi">3</span><span class="p">]),</span><span class="nx">l</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">getPoints</span><span class="p">(</span><span class="nx">w</span><span class="p">),</span><span class="nx">w</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="nx">l</span><span class="p">[</span><span class="nx">b</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">().</span><span class="nx">copy</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">w</span><span class="p">]))}</span><span class="kd">var</span> <span class="nx">C</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">C</span><span class="p">.</span><span class="nx">attributes</span><span class="p">){</span><span class="kd">var</span> <span class="nx">E</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span><span class="nx">T</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">uv</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="nx">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">O</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">O</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">;</span><span class="nx">O</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">R</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">R</span><span class="o">&lt;</span><span class="nx">k</span><span class="p">;</span><span class="nx">R</span><span class="o">++</span><span class="p">)</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">0</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">0</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">1</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">5</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">5</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">T</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="nx">R</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">),</span><span class="nx">T</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">5</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">d</span><span class="p">[</span><span class="nx">R</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setZ</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">7</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">].</span><span class="nx">z</span><span class="p">),</span><span class="nx">E</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">7</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">].</span><span class="nx">x</span><span class="p">),</span><span class="nx">T</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">6</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="mi">1</span><span class="o">-</span><span class="nx">d</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">),</span><span class="nx">T</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="o">+</span><span class="mi">7</span><span class="o">*</span><span class="nx">k</span><span class="o">+</span><span class="nx">R</span><span class="p">,</span><span class="mi">1</span><span class="o">-</span><span class="nx">d</span><span class="p">[</span><span class="nx">i</span><span class="o">-</span><span class="nx">R</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">);</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeBoundingBox</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="nx">n</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeBoundingSphere</span><span class="p">(),</span><span class="nx">E</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">T</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeVertexNormals</span><span class="p">()}</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">L</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">vertices</span><span class="p">,</span><span class="nx">I</span><span class="o">=</span><span class="nx">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nx">N</span><span class="o">=</span><span class="mi">8</span><span class="p">;</span><span class="nx">L</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">i</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">7</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">7</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">6</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="mi">6</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">_</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">_</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">;</span><span class="nx">_</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">A</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="nx">A</span><span class="o">&lt;</span><span class="nx">i</span><span class="p">;</span><span class="nx">A</span><span class="o">++</span><span class="p">)</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">I</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">A</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">I</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">A</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="nx">I</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">I</span><span class="p">].</span><span class="nx">z</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">A</span><span class="p">].</span><span class="nx">z</span><span class="p">,</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="nx">I</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">L</span><span class="p">[</span><span class="nx">N</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">I</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="nx">A</span><span class="p">].</span><span class="nx">x</span><span class="p">,</span><span class="nx">N</span><span class="o">++</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">M</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">faceVertexUvs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">D</span><span class="o">=</span><span class="nx">C</span><span class="p">.</span><span class="nx">faces</span><span class="p">,</span><span class="nx">F</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">z</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">z</span><span class="o">&lt;</span><span class="nx">M</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">z</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">D</span><span class="p">[</span><span class="nx">z</span><span class="p">].</span><span class="nx">materialIndex</span><span class="o">===</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">BACK</span><span class="p">){</span><span class="kd">var</span> <span class="nx">B</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">F</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">;</span><span class="nx">z</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">B</span><span class="p">,</span><span class="nx">F</span><span class="o">++</span><span class="p">)</span><span class="o">:</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">B</span><span class="p">}</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">D</span><span class="p">[</span><span class="nx">z</span><span class="p">].</span><span class="nx">materialIndex</span><span class="o">===</span><span class="nx">ey</span><span class="p">.</span><span class="nx">MATERIAL_FACE</span><span class="p">.</span><span class="nx">FRONT</span><span class="p">){</span><span class="kd">var</span> <span class="nx">U</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">d</span><span class="p">[</span><span class="nx">F</span><span class="p">]</span><span class="o">/</span><span class="nx">c</span><span class="p">;</span><span class="nx">z</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">U</span><span class="p">,</span><span class="nx">F</span><span class="o">--</span><span class="p">)</span><span class="o">:</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">1</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">M</span><span class="p">[</span><span class="nx">z</span><span class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="nx">x</span><span class="o">=</span><span class="nx">U</span><span class="p">}</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeBoundingBox</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="o">*</span><span class="nx">n</span><span class="o">/</span><span class="nx">c</span><span class="p">,</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeBoundingSphere</span><span class="p">(),</span><span class="nx">C</span><span class="p">.</span><span class="nx">verticesNeedUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeFaceNormals</span><span class="p">(),</span><span class="nx">C</span><span class="p">.</span><span class="nx">computeVertexNormals</span><span class="p">(),</span><span class="nx">C</span><span class="p">.</span><span class="nx">uvsNeedUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">C</span><span class="p">.</span><span class="nx">normalsNeedUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="nx">s</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}),</span><span class="nx">o</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}),</span><span class="nx">l</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}),</span><span class="nx">r</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){})}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"flip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mf">2.5</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">),</span><span class="mi">180</span><span class="o">===</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">-=</span><span class="mf">2.5</span><span class="o">*</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">));</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="o">&gt;</span><span class="mi">90</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="nx">s</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">()));</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=-</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">u</span><span class="o">=-</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="o">:</span><span class="mi">0</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">init</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">s</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">s</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="o">||!</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">_index</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">first</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">e</span><span class="o">+</span><span class="nx">a</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="o">||!</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="p">.</span><span class="mi">25</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">e</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="nx">a</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="p">.</span><span class="mi">5</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid2</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">e</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="nx">a</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="o">||!</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">?</span><span class="p">.</span><span class="mi">25</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="o">=</span><span class="p">{</span><span class="nx">angle</span><span class="o">:</span><span class="nx">t</span><span class="p">,</span><span class="nx">index</span><span class="o">:</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="o">||!</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">u</span><span class="o">+</span><span class="p">(</span><span class="nx">l</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">height</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">width</span><span class="o">:</span><span class="nx">h</span><span class="o">+</span><span class="p">(</span><span class="nx">l</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">width</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">)},</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="o">:</span><span class="nx">eO</span><span class="p">.</span><span class="nx">getCurveAngle</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flipCover</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">angle</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftPos</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightPos</span><span class="p">)</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">depth</span><span class="p">,</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="o">&gt;</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)};</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="nx">o</span><span class="o">||</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="k">new</span> <span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Tween</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">init</span><span class="p">).</span><span class="nx">to</span><span class="p">({</span><span class="nx">angle</span><span class="o">:</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">first</span><span class="p">.</span><span class="nx">angle</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid</span><span class="p">.</span><span class="nx">angle</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid2</span><span class="p">.</span><span class="nx">angle</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">angle</span><span class="p">],</span><span class="nx">index</span><span class="o">:</span><span class="p">[</span><span class="nx">i</span><span class="p">.</span><span class="nx">first</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">mid2</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">index</span><span class="p">],</span><span class="nx">_index</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="p">.</span><span class="nx">width</span><span class="p">},</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="mi">180</span><span class="p">).</span><span class="nx">onUpdate</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">p</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}).</span><span class="nx">easing</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Sinusoidal</span><span class="p">.</span><span class="nx">Out</span><span class="p">).</span><span class="nx">onStop</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">}).</span><span class="nx">onComplete</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">5</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="mi">4</span><span class="p">].</span><span class="nx">opacity</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">onFlip</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">afterFlip</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentTween</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">()}).</span><span class="nx">start</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">currentTween</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">())}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">U</span><span class="p">),</span><span class="nx">eL</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">eE</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">ek</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">l</span><span class="p">;</span><span class="k">return</span> <span class="nx">ew</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewerClass</span><span class="o">=</span><span class="s2">"df-flipbook-3d"</span><span class="p">,(</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">)).</span><span class="nx">pageOffset</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">spiralCount</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">groundDistance</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">groundDistance</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">s</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="o">=</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">o</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="p">.</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetSegments</span><span class="o">=</span><span class="mi">8</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">drag3D</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">drag3D</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">texturePowerOfTwo</span><span class="o">=!</span><span class="nx">eO</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">texturePowerOfTwo</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">r</span><span class="o">||</span><span class="nx">r</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">l</span><span class="o">?</span><span class="nx">l</span><span class="o">:</span><span class="s2">"white"</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">initMOCKUP</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">_viewerPrepared</span><span class="p">()}),</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">eS</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initMOCKUP"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">THREE</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" WEBGL 3D ..."</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">define</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">requirejs</span><span class="o">?</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">requirejs</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span><span class="nx">paths</span><span class="o">:</span><span class="p">{</span><span class="nx">three</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">threejsSrc</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">".js"</span><span class="p">,</span><span class="s2">""</span><span class="p">)},</span><span class="nx">shim</span><span class="o">:</span><span class="p">{</span><span class="nx">three</span><span class="o">:</span><span class="p">{</span><span class="nx">exports</span><span class="o">:</span><span class="s2">"THREE"</span><span class="p">}}}),</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s2">"three"</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">THREE</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">ey</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">(),</span><span class="nx">t</span><span class="p">}))</span><span class="o">:</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">define</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">define</span><span class="p">.</span><span class="nx">amd</span><span class="o">?</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s2">"three"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">threejsSrc</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">".js"</span><span class="p">,</span><span class="s2">""</span><span class="p">)],</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">()})})</span><span class="o">:</span><span class="nx">eO</span><span class="p">.</span><span class="nx">getScript</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">threejsSrc</span><span class="o">+</span><span class="s2">"?ver="</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">version</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ey</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">()},</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="s2">"Unable to load THREE.js..."</span><span class="p">)}))</span><span class="o">:</span><span class="p">(</span><span class="nx">ey</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"init"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">pageRatio</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">initDepth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initStage</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initPages</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initEvents</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">render</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updatePageMode"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"updatePageMode"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_COVER_TYPE</span><span class="p">.</span><span class="nx">NONE</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&gt;</span><span class="mi">7</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">&amp;&amp;</span><span class="s2">"none"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="o">=</span><span class="s2">"cover"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initDepth"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="o">*</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="p">.</span><span class="mi">5</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetSegments</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sheetSegments</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="mi">20</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsDepth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initStage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="o">=</span><span class="k">new</span> <span class="nx">ey</span><span class="p">.</span><span class="nx">Stage</span><span class="p">({</span><span class="nx">pixelRatio</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="p">});(</span><span class="nx">e</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-3dcanvas"</span><span class="p">)).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">600</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">lookAt</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">camera</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="o">-</span><span class="mi">220</span><span class="p">,</span><span class="mi">220</span><span class="p">,</span><span class="mi">550</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">castShadow</span><span class="o">=!</span><span class="nx">eO</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">has3DShadow</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">bias</span><span class="o">=-</span><span class="p">.</span><span class="mi">005</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">ambientLight</span><span class="p">.</span><span class="nx">color</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Color</span><span class="p">(</span><span class="s2">"#fff"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">ambientLight</span><span class="p">.</span><span class="nx">intensity</span><span class="o">=</span><span class="p">.</span><span class="mi">82</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">ShadowMaterial</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">shadowOpacity</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">oldMaterial</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">material</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">material</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">?-</span><span class="mi">6</span><span class="o">:-</span><span class="mi">4</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">selectiveRendering</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">CSS3DRenderer</span><span class="p">;</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">domElement</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">position</span><span class="o">:</span><span class="s2">"absolute"</span><span class="p">,</span><span class="nx">top</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">pointerEvents</span><span class="o">:</span><span class="s2">"none"</span><span class="p">}).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-3dcanvas df-csscanvas"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">domElement</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">cssScene</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Scene</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Group</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">ground</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Group</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="s2">"bookwrapper"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookHelper</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">bookHelper</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">BoxHelper</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">,</span><span class="mi">16776960</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookHelper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookHelper</span><span class="p">.</span><span class="nx">visible</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Group</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">camera</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="p">{</span><span class="nx">parent3D</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">,</span><span class="nx">viewer</span><span class="o">:</span><span class="k">this</span><span class="p">,</span><span class="nx">segments</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetSegments</span><span class="p">,</span><span class="nx">depth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">,</span><span class="nx">flexibility</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">},</span><span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">new</span> <span class="nx">eR</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">index</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setMatColor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">backPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">cssPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">cssPage</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsDepth</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">segments</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="o">=</span><span class="k">new</span> <span class="nx">eR</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="o">=</span><span class="k">new</span> <span class="nx">eR</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">setMatColor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">setMatColor</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="o">=</span><span class="k">new</span> <span class="nx">eR</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="o">=</span><span class="k">new</span> <span class="nx">eR</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isHard</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isHard</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">set3DCoverNormal</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">setcolor3DCover</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">color3DCover</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">.</span><span class="nx">cssPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">backPage</span><span class="p">.</span><span class="nx">cssPage</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">leftPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundColor</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">rightPage</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundColor</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">color3DSheets</span><span class="p">}),</span><span class="s2">"vertical"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">rotateZ</span><span class="p">(</span><span class="nx">THREE</span><span class="p">.</span><span class="nx">MathUtils</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="o">-</span><span class="mi">90</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureCenter</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector2</span><span class="p">(.</span><span class="mi">5</span><span class="p">,.</span><span class="mi">5</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureRotation</span><span class="o">=</span><span class="mi">90</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">initSpiral</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initSpiral"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"set3DCoverNormal"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setcolor3DCover"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stageDOM</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"dispose"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">clearChild</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">orbitControl</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">orbitControl</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">renderer</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">renderer</span><span class="p">),</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">canvas</span><span class="p">).</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">canvas</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">centerTween</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">centerTween</span><span class="p">.</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">centerTween</span><span class="p">.</span><span class="nx">stop</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"render"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">render</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">camera</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"resize"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">stage</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">isSingle</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">();</span><span class="nx">n</span><span class="p">.</span><span class="nx">resizeCanvas</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">cssRenderer</span><span class="p">.</span><span class="nx">setSize</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="p">)</span><span class="o">/</span><span class="mi">400</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">initDepth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">refreshRequestStart</span><span class="p">();</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">refSize</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span><span class="nx">s</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="o">=</span><span class="p">(</span><span class="s2">"vertical"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">r</span><span class="o">*</span><span class="p">.</span><span class="mi">025</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="o">=</span><span class="p">(</span><span class="s2">"vertical"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="nx">r</span><span class="o">*</span><span class="p">.</span><span class="mi">025</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">resize</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerNeedsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkCenter</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageOffset</span><span class="o">=</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hasSpiral</span><span class="o">?</span><span class="mi">6</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_defaultPageSize</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span><span class="o">/</span><span class="mi">1</span><span class="nx">e3</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"fitCameraToCenteredObject"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Box3</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">setFromObject</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">getSize</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">r</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="nx">o</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">fov</span><span class="o">*</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">atan</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nx">l</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">aspect</span><span class="p">),</span><span class="nx">u</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">z</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">x</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nx">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)),</span><span class="nx">s</span><span class="p">.</span><span class="nx">z</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">y</span><span class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="nb">Math</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nx">l</span><span class="o">/</span><span class="mi">2</span><span class="p">)));</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="o">*=</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">z</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">p</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?-</span><span class="nx">p</span><span class="o">+</span><span class="nx">u</span><span class="o">:</span><span class="nx">u</span><span class="o">-</span><span class="nx">p</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">far</span><span class="o">=</span><span class="mi">3</span><span class="o">*</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">(),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">maxDistance</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nx">c</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateShadowSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refresh"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequested</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">*</span><span class="nx">t</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">-</span><span class="nx">n</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheets</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheets</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">stackCount</span><span class="p">),</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">/</span><span class="nx">o</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">=</span><span class="nx">r</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="o">=</span><span class="nx">r</span><span class="o">*</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">=</span><span class="p">.</span><span class="mi">5</span><span class="o">*</span><span class="nx">s</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">,</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"refresh"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">l</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=-</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isFirstPage</span><span class="p">(),</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isLastPage</span><span class="p">(),</span><span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isLeftClosed</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">||!</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRightClosed</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">||</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">c</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="nx">p</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsDepth</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsDepth</span><span class="o">*</span><span class="nx">t</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">p</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">:</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">,</span><span class="nx">h</span><span class="o">-=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="nx">h</span><span class="o">-=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="p">;</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">);</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">v</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">),</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">v</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">:</span><span class="nx">h</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="p">,</span><span class="o">-</span><span class="p">(.</span><span class="mi">05</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">refSize</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="mi">180</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">f</span><span class="o">?</span><span class="mi">180</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">v</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">width</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">height</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetsDepth</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">depth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">p</span><span class="o">?</span><span class="nx">t</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">,</span><span class="nx">u</span><span class="o">-=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">u</span><span class="p">,</span><span class="nx">u</span><span class="o">-=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">depth</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">g</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">:</span><span class="nx">u</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverDepth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="p">,</span><span class="o">-</span><span class="p">(.</span><span class="mi">05</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">refSize</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">g</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">180</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">g</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">180</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">v</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">width</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">height</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateSheets</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nx">u</span><span class="p">)</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">refSize</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">groundDistance</span><span class="o">/</span><span class="mi">100</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="p">,</span><span class="o">-</span><span class="p">(.</span><span class="mi">1</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">refSize</span><span class="p">))}</span><span class="k">else</span> <span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=-</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">-</span><span class="mi">15</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCameraPosition</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshSpiral</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refreshSpiral"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCameraPosition"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">tan</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">fov</span><span class="o">*</span><span class="p">.</span><span class="mi">5</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">))</span><span class="o">+</span><span class="mf">2.2</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">updateShadowSize</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=-</span><span class="p">(</span><span class="mi">330</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="mi">330</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="mi">550</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">far</span><span class="o">=</span><span class="mi">1200</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaleX</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">spotLight</span><span class="p">.</span><span class="nx">shadow</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">();</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">bottom</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">r</span><span class="o">=-</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">right</span><span class="p">)</span><span class="o">/</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">!==</span><span class="nx">s</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">s</span><span class="p">),</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookHelper</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleUp</span><span class="o">||</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="o">?</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">aspect</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">i</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">rotateZ</span><span class="p">(</span><span class="nx">THREE</span><span class="p">.</span><span class="nb">Math</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">rotateX</span><span class="p">(</span><span class="nx">THREE</span><span class="p">.</span><span class="nb">Math</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleUp</span><span class="p">)),</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isSingle</span><span class="o">?</span><span class="mi">2</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookHelper</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">fitCameraToCenteredObject</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">ground</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">aspect</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">i</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="p">.</span><span class="nx">rotateX</span><span class="p">(</span><span class="nx">THREE</span><span class="p">.</span><span class="nb">Math</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleUp</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraWrapper</span><span class="p">.</span><span class="nx">rotateZ</span><span class="p">(</span><span class="nx">THREE</span><span class="p">.</span><span class="nb">Math</span><span class="p">.</span><span class="nx">degToRad</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbook3DTiltAngleLeft</span><span class="p">)))</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="nx">s</span><span class="p">)),</span><span class="nx">t</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refreshSheet"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="p">,</span><span class="nx">o</span><span class="o">=!</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">isHard</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="o">=</span><span class="nx">o</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftPos</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">+</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">midPoint</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightPos</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="o">-</span><span class="p">(</span><span class="nx">a</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">midPoint</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">targetSide</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">180</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">needsFlip</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheets</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetNumber</span><span class="o">==</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">s</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftPos</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightPos</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">midPosition</span><span class="p">)</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">sheetDepth</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">s</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">flip</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">t</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">skipFlip</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftFlexibility</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightFlexibility</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">leftPos</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">rightPos</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">side</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">targetSide</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">t</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">visible</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">visible</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCenter"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="s2">"vertical"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerShift</span><span class="o">*</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isLeftPage</span><span class="p">()</span><span class="o">?</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">:</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">seamPosition</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">containerWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nx">a</span><span class="p">,</span><span class="nx">a</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerEnd</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerTween</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerTween</span><span class="p">.</span><span class="nx">stop</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerTween</span><span class="p">.</span><span class="nx">stop</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">onCenterStartAnimation</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerTween</span><span class="o">=</span><span class="k">new</span> <span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Tween</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">i</span><span class="p">}).</span><span class="nx">delay</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">to</span><span class="p">({</span><span class="nx">x</span><span class="o">:</span><span class="nx">a</span><span class="p">},</span><span class="mi">1</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">skipCenterAnimation</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">duration</span><span class="o">:</span><span class="mi">1</span><span class="p">).</span><span class="nx">onStart</span><span class="p">(</span><span class="kd">function</span><span class="p">(){}).</span><span class="nx">onUpdate</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">onCenterUpdateAnimation</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">onComplete</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">onCenterCompleteAnimation</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">onStop</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">onCenterStopAnimation</span><span class="p">(</span><span class="k">this</span><span class="p">)}).</span><span class="nx">easing</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">Easing</span><span class="p">.</span><span class="nx">Cubic</span><span class="p">.</span><span class="nx">InOut</span><span class="p">).</span><span class="nx">start</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">skipCenterAnimation</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">centerEnd</span><span class="o">=</span><span class="nx">a</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onCenterUpdateAnimation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="s2">"vertical"</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">orientation</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">cssScene</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onCenterStartAnimation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onCenterStopAnimation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"onCenterCompleteAnimation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"flipCover"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">&amp;&amp;</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">?</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">totalSheets</span><span class="o">-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="kc">null</span><span class="o">!==</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">depth</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">depth</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">curveAngle</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">flexibility</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">flexibility</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span><span class="o">*</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span><span class="o">+</span><span class="nx">t</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span><span class="o">*</span><span class="nx">i</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesReady"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span><span class="p">()</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequested</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">flipbookFitPages</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">(),</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftViewport</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)),</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightViewPort</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getViewPort</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">!=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">!=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">contain</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageWidth</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">());(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">!=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">!=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">)}</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">sheets</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="nx">r</span><span class="p">.</span><span class="nx">side</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">?</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">()}</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">isLastPage</span><span class="p">()</span><span class="o">||!</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">isFirstPage</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">l</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">}</span><span class="k">else</span> <span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraHeight</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">coverExtraWidth</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetHeight</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheetWidth</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateSheets</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCenter</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCSSLayer</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshSpiral</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">cameraPositionDirty</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">updateCameraPosition</span><span class="p">()}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateSheets"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">isClosedPage</span><span class="p">()){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getRightPageNumber</span><span class="p">());</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">boundingBox</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">lastSlopeX</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">21</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">uv</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">computeVertexNormals</span><span class="p">(),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">rightSheets</span><span class="p">.</span><span class="nx">lastSlopeX</span><span class="o">=</span><span class="nx">n</span><span class="p">)}</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getLeftPageNumber</span><span class="p">());</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">isFlipping</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">position</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">boundingBox</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">x</span><span class="o">*</span><span class="nx">a</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">x</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">lastSlopeX</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">setX</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="nx">o</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">attributes</span><span class="p">.</span><span class="nx">uv</span><span class="p">.</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">geometry</span><span class="p">.</span><span class="nx">computeVertexNormals</span><span class="p">(),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">leftSheets</span><span class="p">.</span><span class="nx">lastSlopeX</span><span class="o">=</span><span class="nx">o</span><span class="p">)}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateCSSLayer"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchMove</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">drag3D</span><span class="o">&amp;&amp;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">){</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">isDragging</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isDragging</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">centerEnd</span><span class="o">-</span><span class="nx">i</span><span class="p">),</span><span class="nx">s</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nx">a</span><span class="o">/</span><span class="nx">i</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">toDeg</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">acos</span><span class="p">(</span><span class="nx">s</span><span class="p">)),</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="p">;</span><span class="nx">r</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">getCurveAngle</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">o</span><span class="p">,</span><span class="mi">45</span><span class="p">);</span><span class="nx">r</span><span class="p">.</span><span class="nx">isCover</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">flipCover</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">curveAngle</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">isHard</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">updateAngle</span><span class="p">()}</span><span class="k">this</span><span class="p">.</span><span class="nx">checkSwipe</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">)).</span><span class="nx">touches</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">button</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchUp</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">x</span><span class="p">;</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">swipeThreshold</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">requestRefresh</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePendingStatusClass</span><span class="p">()}</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalTarget</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">x</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="p">.</span><span class="nx">y</span><span class="o">&amp;&amp;</span><span class="s2">"A"</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">ctrlKey</span><span class="o">&amp;&amp;</span><span class="nx">s</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomOnPoint</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">clickAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">MOUSE_CLICK_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">&gt;</span><span class="mi">90</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">())}</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isDragging</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isDragging</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">ON</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"raycastCLick"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Raycaster</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetX</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="p">.</span><span class="nx">offsetY</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span><span class="p">.</span><span class="nx">setFromCamera</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span><span class="p">.</span><span class="nx">intersectObjects</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bookWrapper</span><span class="p">.</span><span class="nx">children</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">do</span><span class="p">{</span><span class="k">if</span><span class="p">((</span><span class="nx">i</span><span class="o">=</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">?</span><span class="nx">t</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">object</span><span class="o">:</span><span class="kc">null</span><span class="p">).</span><span class="nx">sheet</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">index</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">isFlipping</span><span class="p">)</span><span class="k">return</span> <span class="nx">i</span><span class="p">;</span><span class="nx">n</span><span class="o">++</span><span class="p">}</span><span class="k">while</span><span class="p">(</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">)).</span><span class="nx">touches</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">button</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">pinchDown</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="nx">e</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">eventToPoint</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">startPoint</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosX</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastPosY</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">raycastCLick</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">width</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">origin</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">centerEnd</span><span class="p">))</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">isInsideSheet</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">dragSheet</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">drag</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">sheetAngle</span><span class="o">&lt;</span><span class="mi">90</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">LEFT</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TURN_DIRECTION</span><span class="p">.</span><span class="nx">RIGHT</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">canSwipe</span><span class="o">=!</span><span class="mi">0</span><span class="p">}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"eventToPoint"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">fixMouseEvent</span><span class="p">(</span><span class="nx">e</span><span class="p">)).</span><span class="nx">clientX</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">clientY</span><span class="p">};</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">left</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">top</span><span class="p">;</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">containerWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="nx">t</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">containerWidth</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">top</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">availablePageHeight</span><span class="p">(),</span><span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">seamPosition</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getBasePage</span><span class="p">()</span><span class="o">+</span><span class="p">(</span><span class="nx">r</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">l</span><span class="p">);</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">sheet</span><span class="p">);</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">&gt;</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">&lt;</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">&gt;</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">;</span><span class="k">return</span><span class="p">{</span><span class="nx">isInsideSheet</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="nx">isInsideDragZone</span><span class="o">:</span><span class="nx">u</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">-</span><span class="nx">n</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="o">||</span><span class="nx">a</span><span class="o">-</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">foldSense</span><span class="p">,</span><span class="nx">x</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">top</span><span class="o">:</span><span class="nx">s</span><span class="p">,</span><span class="nx">right</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">bottom</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">raw</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">isLeftSheet</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">sheet</span><span class="o">:</span><span class="nx">h</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkPageLoading"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getVisiblePages</span><span class="p">().</span><span class="nx">main</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">2</span><span class="p">);</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">textureLoaded</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">)}</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-loading"</span><span class="p">,</span><span class="o">!</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"textureLoadedCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">renderRequestStart</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesReady</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getTextureSize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"getTextureSize"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">isAnnotation</span><span class="p">)</span><span class="k">return</span> <span class="nx">t</span><span class="p">;</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">eO</span><span class="p">.</span><span class="nx">nearestPowerOfTwo</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">n</span><span class="o">/</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">texturePowerOfTwo</span><span class="o">?</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">a</span><span class="p">}</span><span class="o">:</span><span class="nx">t</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getPageByNumber"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">has3DCover</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=!</span><span class="k">this</span><span class="p">.</span><span class="nx">isBooklet</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">leftCover</span><span class="p">.</span><span class="nx">frontPage</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rightCover</span><span class="p">.</span><span class="nx">backPage</span><span class="p">}</span><span class="k">return</span> <span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"getPageByNumber"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"setPage"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"beforeFlip"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ex</span><span class="p">(</span><span class="nx">eC</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">prototype</span><span class="p">),</span><span class="s2">"beforeFlip"</span><span class="p">,</span><span class="k">this</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">z</span><span class="p">),</span><span class="nx">eI</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">eE</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">ek</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ew</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">eb</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">));</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">face</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">face</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">parent3D</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">sheet</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">sheet</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">cssPage</span><span class="o">=</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">CSS3DObject</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">contentLayer</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nx">n</span><span class="p">}</span><span class="k">return</span> <span class="nx">eS</span><span class="p">(</span><span class="nx">i</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setLoading"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">checkPageLoading</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearMap"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">face</span><span class="p">].</span><span class="nx">map</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">material</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">face</span><span class="p">].</span><span class="nx">needsUpdate</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">callback</span><span class="p">;</span><span class="kd">function</span> <span class="nx">s</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">updateTextureLoadStatus</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">resetMatColor</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">face</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureLoadFallback</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureSrc</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">beforeLoadTexture</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">beforeLoadTexture</span><span class="p">({</span><span class="nx">texture</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">page</span><span class="o">:</span><span class="nx">t</span><span class="p">}),</span><span class="mi">4</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">face</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">backImage</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">sheet</span><span class="p">.</span><span class="nx">frontImage</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">s</span><span class="p">)}}]),</span><span class="nx">i</span><span class="p">}(</span><span class="nx">S</span><span class="p">);</span><span class="kd">function</span> <span class="nx">eN</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">e_</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eA</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">eM</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">eA</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">eA</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">eD</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">eD</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eF</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?!!</span><span class="nx">t</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">e</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">}</span><span class="kd">function</span> <span class="nx">ez</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">ez</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eB</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">}</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">=</span><span class="mi">2048</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="o">=</span><span class="p">{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">.</span><span class="nx">flipbook</span><span class="o">=</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="o">==</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">canSupport3D</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">is3D</span><span class="o">=!</span><span class="mi">1</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">is3D</span><span class="p">))</span><span class="o">?</span><span class="k">new</span> <span class="nx">eL</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span><span class="o">:</span><span class="k">new</span> <span class="nx">Y</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">.</span><span class="k">default</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">.</span><span class="nx">reader</span><span class="o">=</span><span class="nx">O</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">.</span><span class="nx">slider</span><span class="o">=</span><span class="nx">el</span><span class="p">;</span><span class="kd">var</span> <span class="nx">eU</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">eH</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(){</span><span class="nx">e_</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkRel</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkEnabled</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="o">=</span><span class="kc">null</span><span class="p">}</span><span class="k">return</span> <span class="nx">eM</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setDocument"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="kc">null</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setViewer"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkTarget</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">linkTarget</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setHistory"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">=</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesCount"</span><span class="p">,</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">numPages</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"page"</span><span class="p">,</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">},</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"navigateTo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">goToDestination</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"addLinkAttributes"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkTarget</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkRel</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">externalLinkEnabled</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="o">||</span><span class="s2">"string"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'A valid "url" parameter must provided.'</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nx">eU</span><span class="p">.</span><span class="nx">removeNullCharacters</span><span class="p">)(</span><span class="nx">t</span><span class="p">);</span><span class="nx">s</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="o">=</span><span class="nx">o</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">title</span><span class="o">=</span><span class="s2">"Disabled: "</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">onclick</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">});</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">case</span> <span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">NONE</span><span class="o">:</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">SELF</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="s2">"_self"</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">BLANK</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="s2">"_blank"</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">PARENT</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="s2">"_parent"</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">TOP</span><span class="o">:</span><span class="nx">r</span><span class="o">=</span><span class="s2">"_top"</span><span class="p">}</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">rel</span><span class="o">=</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="s2">"noopener noreferrer nofollow"</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"goToDestination"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Requested: "</span><span class="p">,</span><span class="nx">t</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">eF</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nb">Object</span><span class="p">)</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="p">]</span><span class="o">:</span><span class="nx">t</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">s</span><span class="o">?</span><span class="p">((</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getViewerPageNumber</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span><span class="o">&gt;</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">),</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Loading for:"</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="s2">" at page "</span><span class="p">,</span><span class="nx">s</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">requestDestRefKey</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="o">?</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">s</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">dest</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">hash</span><span class="o">:</span><span class="nx">i</span><span class="p">,</span><span class="nx">page</span><span class="o">:</span><span class="nx">s</span><span class="p">}))</span><span class="o">:</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Expired Request for "</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="s2">" with "</span><span class="p">,</span><span class="nx">t</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-fetch-pdf"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getPageIndex</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">a</span><span class="p">(</span><span class="nx">t</span><span class="p">)}))};</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">?</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getDestination</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="o">:</span><span class="nx">t</span><span class="o">=</span><span class="nx">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Started:"</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">eF</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nb">Array</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">requestDestRefKey</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="p">,</span><span class="nx">a</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]))})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"customNavigateTo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">""</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"null"</span><span class="o">!==</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="p">))){</span><span class="k">if</span><span class="p">(</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"#"</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="mi">10</span><span class="p">))){</span><span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">linkTarget</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">LINK_TARGET</span><span class="p">.</span><span class="nx">SELF</span><span class="o">?</span><span class="s2">"_self"</span><span class="o">:</span><span class="s2">"_blank"</span><span class="p">);</span><span class="k">return</span><span class="p">}}</span><span class="k">else</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">t</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getDestinationHash"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAnchorUrl</span><span class="p">(</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">escape</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span><span class="k">if</span><span class="p">(</span><span class="nx">eF</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nb">Array</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="nx">eF</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nb">Object</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="p">]</span><span class="o">:</span><span class="nx">t</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getAnchorUrl</span><span class="p">(</span><span class="s2">"#page="</span><span class="o">+</span><span class="nx">i</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">((</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="o">?</span><span class="s2">"undefined"</span><span class="o">:</span><span class="nx">eB</span><span class="p">(</span><span class="nx">a</span><span class="p">))</span><span class="o">===</span><span class="s2">"object"</span><span class="o">&amp;&amp;</span><span class="s2">"name"</span><span class="k">in</span> <span class="nx">a</span><span class="o">&amp;&amp;</span><span class="s2">"XYZ"</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">name</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">pageScaleValue</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="nx">o</span><span class="p">),</span><span class="nx">n</span><span class="o">+=</span><span class="s2">"&amp;zoom="</span><span class="o">+</span><span class="nx">s</span><span class="p">,(</span><span class="nx">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="nx">e</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="o">+=</span><span class="s2">","</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">||</span><span class="mi">0</span><span class="p">))}</span><span class="k">return</span> <span class="nx">n</span><span class="p">}}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAnchorUrl</span><span class="p">(</span><span class="s2">""</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getCustomDestinationHash"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">escape</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getAnchorUrl"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">baseUrl</span><span class="o">||</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"executeNamedAction"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">switch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">case</span><span class="s2">"GoBack"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="p">.</span><span class="nx">back</span><span class="p">();</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">"GoForward"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfHistory</span><span class="p">.</span><span class="nx">forward</span><span class="p">();</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">"NextPage"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="o">++</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">"PrevPage"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="o">--</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">"LastPage"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesCount</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">"FirstPage"</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">page</span><span class="o">=</span><span class="mi">1</span><span class="p">}</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="s2">"CustomEvent"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">initCustomEvent</span><span class="p">(</span><span class="s2">"namedaction"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,{</span><span class="nx">action</span><span class="o">:</span><span class="nx">e</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfApp</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"cachePageRef"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">num</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">gen</span><span class="o">+</span><span class="s2">" R"</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">_pagesRefCache</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">eV</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e_</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">numPages</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">viewPorts</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">requestedPages</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">requestIndex</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesToClean</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">defaultPage</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageSize</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_page1Pass</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearchLength</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearch</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textContentSearch</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">textOffsetSearch</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">textContent</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">textContentJoined</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">textOffset</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">autoLinkItemsCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">autoLinkHitsCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">searchHitItemsCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">searchHits</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">PDFLinkItemsCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">canPrint</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textPostion</span><span class="o">=</span><span class="p">[]}</span><span class="k">return</span> <span class="nx">eM</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"softDispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setCache"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="p">[]),</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getCache"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">?</span><span class="k">void</span> <span class="mi">0</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">textureCache</span><span class="p">[</span><span class="nx">t</span><span class="p">][</span><span class="nx">e</span><span class="p">]}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_isValidPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="o">&lt;=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getLabelforPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getThumbLabel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="o">!==</span><span class="nx">e</span><span class="o">?</span><span class="nx">t</span><span class="o">+</span><span class="s2">" ("</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">")"</span><span class="o">:</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getPageNumberForLabel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="p">)</span><span class="k">return</span> <span class="nx">e</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabels</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="o">&lt;</span><span class="mi">0</span><span class="o">?</span><span class="kc">null</span><span class="o">:</span><span class="nx">t</span><span class="o">+</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"cleanUpPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processAnnotations"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processTextContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadDocument"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pagesLoaded"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">_page1Pass</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">checkDocumentPageSizes</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">finalize</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_documentLoaded"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">finalizeOutLine</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">pageFit</span><span class="o">&amp;&amp;</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Provider needs to initialize page properties for the app"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">_documentLoaded</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeOutLine"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">outline</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">t</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">t</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">custom</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">dest</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">dest</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/javascript:/g</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">[</span><span class="nx">t</span><span class="p">])}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"search"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">ej</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">ez</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}(</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">eD</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">eD</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">===</span><span class="nx">eB</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">eN</span><span class="p">(</span><span class="k">this</span><span class="p">)});</span><span class="kd">function</span> <span class="nx">s</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">e_</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">s</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF Worker ..."</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">+</span><span class="nx">u</span><span class="p">.</span><span class="nx">cacheBustParameters</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">hostname</span><span class="o">!==</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">loadCorsPdfjsWorker</span><span class="o">?</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF Worker CORS ..."</span><span class="p">),</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span><span class="nx">url</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">+</span><span class="nx">u</span><span class="p">.</span><span class="nx">cacheBustParameters</span><span class="p">,</span><span class="nx">cache</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">success</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">=</span><span class="nx">eU</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="s2">"text/javascript"</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">()}}))</span><span class="o">:</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">()},</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)).</span><span class="nx">app</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">eN</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span> <span class="nx">u</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">_page2Ratio</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">cacheBustParameters</span><span class="o">=</span><span class="s2">"?ver="</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">version</span><span class="o">+</span><span class="s2">"&amp;pdfver="</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">GlobalWorkerOptions</span><span class="p">.</span><span class="nx">workerSrc</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">+</span><span class="nx">u</span><span class="p">.</span><span class="nx">cacheBustParameters</span><span class="p">,</span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">canvasWillReadFrequently</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">canvasWillReadFrequently</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">loadDocument</span><span class="p">()},</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">pdfjsLib</span><span class="o">?</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF Service ..."</span><span class="p">),</span><span class="nx">eU</span><span class="p">.</span><span class="nx">getScript</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsSrc</span><span class="o">+</span><span class="nx">u</span><span class="p">.</span><span class="nx">cacheBustParameters</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">define</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">amdO</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">requirejs</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">.</span><span class="nx">config</span><span class="o">?</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF Service (require) ..."</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span><span class="nx">paths</span><span class="o">:</span><span class="p">{</span><span class="s2">"pdfjs-dist/build/pdf.worker"</span><span class="o">:</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">".js"</span><span class="p">,</span><span class="s2">""</span><span class="p">)}}),</span><span class="nb">window</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s2">"pdfjs-dist/build/pdf"</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nb">window</span><span class="p">.</span><span class="nx">pdfjsLib</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">l</span><span class="p">(</span><span class="nx">r</span><span class="p">)}))</span><span class="o">:</span><span class="nx">l</span><span class="p">(</span><span class="nx">r</span><span class="p">)},</span><span class="kd">function</span><span class="p">(){</span><span class="nx">h</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="s2">"Unable to load PDF service.."</span><span class="p">),</span><span class="nx">u</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()},</span><span class="nx">h</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pdfjsSrc</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"pdfjs-4"</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">))</span><span class="o">:</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">r</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">(),</span><span class="nx">o</span><span class="p">}</span><span class="k">return</span> <span class="nx">eM</span><span class="p">(</span><span class="nx">s</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">destroy</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="o">=</span><span class="nx">eU</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfLoadProgress</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfLoadProgress</span><span class="p">.</span><span class="nx">destroy</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfLoadProgress</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadDocument"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfParameters</span><span class="o">||</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">url</span><span class="o">=</span><span class="nx">eU</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">url</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">source</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">rangeChunkSize</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">rangeChunkSize</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">cMapPacked</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">disableAutoFetch</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">disableAutoFetch</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">disableStream</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">disableStream</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">disableRange</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">disableRange</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">disableFontFace</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">disableFontFace</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">isEvalSupported</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">cMapUrl</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">cMapUrl</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">imagesLocation</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">imagesLocation</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">imageResourcesPath</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">imageResourcesPath</span><span class="p">,</span><span class="o">!</span><span class="nx">n</span><span class="p">.</span><span class="nx">url</span><span class="o">&amp;&amp;!</span><span class="nx">n</span><span class="p">.</span><span class="nx">data</span><span class="o">&amp;&amp;!</span><span class="nx">n</span><span class="p">.</span><span class="nx">range</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="s2">"ERROR : No PDF File provided! "</span><span class="p">,</span><span class="s2">"df-error"</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">pdfLoadProgress</span><span class="o">=</span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">getDocument</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">_worker</span><span class="p">.</span><span class="nx">promise</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF ..."</span><span class="p">)}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">onPassword</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">switch</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">case</span> <span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">PasswordResponses</span><span class="p">.</span><span class="nx">NEED_PASSWORD</span><span class="o">:</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">"Enter the password to open the PDF file."</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">===</span><span class="nx">i</span><span class="p">)</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"No password givsen."</span><span class="p">);</span><span class="nx">e</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">PasswordResponses</span><span class="p">.</span><span class="nx">INCORRECT_PASSWORD</span><span class="o">:</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">prompt</span><span class="p">(</span><span class="s2">"Invalid password. Please try again."</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">i</span><span class="p">)</span><span class="k">throw</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">"No password givaen."</span><span class="p">);</span><span class="nx">e</span><span class="p">(</span><span class="nx">i</span><span class="p">)}},</span><span class="nx">a</span><span class="p">.</span><span class="nx">promise</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="o">=</span><span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">s</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rotation</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="p">.</span><span class="nx">rotate</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageRotation</span><span class="p">}),</span><span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">pageRatio</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">o</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">defaultPage</span><span class="o">=</span><span class="p">{</span><span class="nx">ratio</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">viewPort</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">o</span><span class="p">.</span><span class="nx">height</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureHeight</span><span class="o">=</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">s</span><span class="o">?</span><span class="nx">s</span><span class="o">:</span><span class="mi">3200</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">r</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureWidth</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureHeight</span><span class="o">*</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">autoHeightRatio</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="nx">r</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">numPages</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">numPages</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">numPages</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page1Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">()}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">numPages</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkSecondPage</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rotation</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="p">.</span><span class="nx">rotate</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageRotation</span><span class="p">});</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Ratio</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">()})</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">())}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">hostname</span><span class="o">===</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hostname</span><span class="o">||-</span><span class="mi">1</span><span class="o">!==</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"file://"</span><span class="p">)</span><span class="o">||</span><span class="nx">eU</span><span class="p">.</span><span class="nx">isChromeExtension</span><span class="p">()</span><span class="o">||-</span><span class="mi">1</span><span class="o">!==</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"blob:"</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="s2">"&lt;strong&gt;CROSS ORIGIN!! &lt;/strong&gt;"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="p">(</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="o">?</span><span class="k">void</span> <span class="mi">0</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">fileName</span><span class="p">)</span><span class="o">||</span><span class="nx">s</span><span class="p">.</span><span class="nx">href</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s2">"&lt;strong&gt;Error: Cannot access file!  &lt;/strong&gt;"</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">"&lt;br&gt;&lt;br&gt;"</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span><span class="s2">"df-error"</span><span class="p">),</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-loading"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-error"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()}}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">pdfLoadProgress</span><span class="p">.</span><span class="nx">_transport</span><span class="p">.</span><span class="nx">_networkStream</span><span class="p">.</span><span class="nx">_fullRequestReader</span><span class="p">.</span><span class="nx">contentLength</span><span class="p">},</span><span class="nx">a</span><span class="p">.</span><span class="nx">onProgress</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="nx">t</span><span class="p">.</span><span class="nx">loaded</span><span class="o">/</span><span class="nx">a</span><span class="p">.</span><span class="nx">getTotalLength</span><span class="p">();</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">?</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">loaded</span><span class="o">?</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">lastLoaded</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">lastLoaded</span><span class="o">+</span><span class="mi">25</span><span class="nx">e4</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">loaded</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">lastLoaded</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">loaded</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF "</span><span class="o">+</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">loaded</span><span class="o">/</span><span class="mi">1</span><span class="nx">e4</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">toString</span><span class="p">()</span><span class="o">+</span><span class="s2">"MB ..."</span><span class="p">))</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF ..."</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">" PDF "</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="nx">i</span><span class="p">)).</span><span class="nx">toString</span><span class="p">().</span><span class="nx">split</span><span class="p">(</span><span class="s2">"."</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">"% ..."</span><span class="p">)}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"pdfFetchStarted"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfFetchStatusCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-fetch-pdf"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pdfFetchStatus</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">linkService</span><span class="o">=</span><span class="k">new</span> <span class="nx">eH</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">linkService</span><span class="p">.</span><span class="nx">setDocument</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">,</span><span class="kc">null</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">linkService</span><span class="p">.</span><span class="nx">setViewer</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getOutline</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">overwritePDFOutline</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="p">[]),</span><span class="nx">i</span><span class="o">=</span><span class="nx">i</span><span class="o">||</span><span class="p">[],</span><span class="nx">t</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="nx">i</span><span class="p">}).</span><span class="k">finally</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">_getLabels</span><span class="p">()}))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getLabels"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getPageLabels</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">disablePageLabels</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">o</span><span class="o">&lt;</span><span class="nx">n</span><span class="p">;</span><span class="nx">o</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="nx">o</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">r</span><span class="o">===</span><span class="p">(</span><span class="nx">o</span><span class="o">+</span><span class="mi">1</span><span class="p">).</span><span class="nx">toString</span><span class="p">())</span><span class="nx">a</span><span class="o">++</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="s2">""</span><span class="o">===</span><span class="nx">r</span><span class="p">)</span><span class="nx">s</span><span class="o">++</span><span class="p">;</span><span class="k">else</span> <span class="k">break</span><span class="p">}</span><span class="nx">a</span><span class="o">&gt;=</span><span class="nx">n</span><span class="o">||</span><span class="nx">s</span><span class="o">&gt;=</span><span class="nx">n</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageLabels</span><span class="o">=</span><span class="nx">i</span><span class="p">)}}).</span><span class="k">finally</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">_getPermissions</span><span class="p">()})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_getPermissions"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getPermissions</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">){</span><span class="kc">null</span><span class="o">!==</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">canPrint</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">PermissionFlag</span><span class="p">.</span><span class="nx">PRINT</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="o">==</span><span class="nx">t</span><span class="p">.</span><span class="nx">canPrint</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"PDF printing is disabled."</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">showPrintControl</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">showPrintControl</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">canPrint</span><span class="p">))}).</span><span class="k">finally</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">_documentLoaded</span><span class="p">()})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getTextureSize</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">DEARFLIP</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">cachePDFTexture</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">getCache</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">)){</span><span class="nx">t</span><span class="p">.</span><span class="nx">applyTexture</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getCache</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">e</span><span class="p">),</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture loaded from cache for : "</span><span class="o">+</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getDocumentPageNumber</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Requesting PDF Page:"</span><span class="o">+</span><span class="nx">o</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="nx">o</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">r</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFreshPage</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">getViewport</span><span class="p">({</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">rotation</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="p">.</span><span class="nx">rotate</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pageRotation</span><span class="p">}));</span><span class="kd">var</span> <span class="nx">l</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getRenderContext</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFreshPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">))</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">l</span><span class="o">||</span><span class="nx">l</span><span class="p">.</span><span class="nx">changeTexture</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">)),</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Page "</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">" rendering - "</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="o">+</span><span class="s2">"x"</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">trace</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestIndex</span><span class="o">++</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="o">+=</span><span class="s2">","</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">trace</span><span class="o">+</span><span class="s2">"["</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">"|"</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="s2">"]"</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">cleanupAfterRender</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">r</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">h</span><span class="p">).</span><span class="nx">promise</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">applyTexture</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">DEARFLIP</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">cachePDFTexture</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">setCache</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">cleanupAfterRender</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="s2">","</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">trace</span><span class="o">+</span><span class="s2">"["</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">"|"</span><span class="o">+</span><span class="nx">h</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="s2">"]"</span><span class="p">;</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"CleanUp Requesting for ("</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">") actual "</span><span class="o">+</span><span class="nx">o</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="o">-</span><span class="mi">1</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"["</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">"|"</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"CleanUp Passed for ("</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">") actual "</span><span class="o">+</span><span class="nx">o</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesToClean</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">r</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesToClean</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">cleanUpPages</span><span class="p">())</span><span class="o">:</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"CleanUp Cancelled waiting for ("</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">") actual "</span><span class="o">+</span><span class="nx">o</span><span class="o">+</span><span class="s2">" : "</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">requestedPages</span><span class="p">))}</span><span class="nx">h</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Rendered "</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">" in "</span><span class="o">+</span><span class="p">(</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="s2">" milliseconds"</span><span class="p">)}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)})}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"cleanUpPages"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(;</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesToClean</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pagesToClean</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Cleanup Completed for PDF page: "</span><span class="o">+</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">_pageIndex</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">cleanup</span><span class="p">()}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearSearch"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">searchHits</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">searchHitItemsCache</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">totalHits</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">searchResults</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-search-open"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearch</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-search-hits"</span><span class="p">).</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"search"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearch</span><span class="o">!==</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">clearSearch</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="s2">""</span><span class="o">!=</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">updateSearchInfo</span><span class="p">(</span><span class="s2">"Minimum 3 letters required."</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearch</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">textSearchLength</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-searching"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-fetch-pdf"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_search</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">1</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_search"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">updateSearchInfo</span><span class="p">(</span><span class="s2">"Searching Page: "</span><span class="o">+</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchPage</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nb">RegExp</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">"gi"</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="p">[];</span><span class="nx">a</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">n</span><span class="p">);)</span><span class="nx">o</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">index</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">index</span><span class="p">,</span><span class="nx">length</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">textSearchLength</span><span class="p">});</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchHits</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">searchPage</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">r</span><span class="p">.</span><span class="nx">include</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">totalHits</span><span class="o">+=</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">searchResults</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="df-search-result '</span><span class="o">+</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"df-active"</span><span class="o">:</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s1">'" data-df-page="'</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s1">'"&gt;&lt;span&gt;Page '</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">label</span><span class="o">+</span><span class="s2">"&lt;/span&gt;&lt;span&gt;"</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="s2">"results"</span><span class="o">:</span><span class="s2">"result"</span><span class="p">)</span><span class="o">+</span><span class="s2">"&lt;/span&gt;&lt;/div&gt;"</span><span class="p">))}</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isActivePage</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">processTextContent</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getTextElement</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)),</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">()),</span><span class="nx">i</span><span class="p">.</span><span class="nx">_search</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="o">+</span><span class="mi">1</span><span class="p">)}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(){}).</span><span class="k">finally</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="mi">0</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">totalHits</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">updateSearchInfo</span><span class="p">(</span><span class="s2">"No results Found!"</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">updateSearchInfo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">totalHits</span><span class="o">+</span><span class="s2">" results found"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-searching"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-fetch-pdf"</span><span class="p">)})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"prepareTextContent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">||</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContent</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textOffsetSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textOffset</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentJoined</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="p">[];</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">e</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">)</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">hasEOL</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">str</span><span class="o">+</span><span class="s2">" "</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">str</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContent</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">push</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">str</span><span class="o">+</span><span class="s2">" "</span><span class="p">),</span><span class="nx">o</span><span class="o">+=</span><span class="nx">r</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="p">.</span><span class="nx">hasEOL</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">textOffsetSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">push</span><span class="p">({</span><span class="nx">length</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">offset</span><span class="o">:</span><span class="nx">o</span><span class="o">-</span><span class="nx">r</span><span class="p">}),</span><span class="nx">s</span><span class="o">+=</span><span class="nx">r</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="o">||</span><span class="mi">0</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">textOffset</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">push</span><span class="p">({</span><span class="nx">length</span><span class="o">:</span><span class="nx">r</span><span class="p">,</span><span class="nx">offset</span><span class="o">:</span><span class="nx">s</span><span class="o">-</span><span class="nx">r</span><span class="p">});</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentSearch</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContentJoined</span><span class="p">[</span><span class="nx">t</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">textContent</span><span class="p">[</span><span class="nx">t</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">""</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"searchPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">_isValidPage</span><span class="p">(</span><span class="nx">e</span><span class="p">))</span><span class="k">try</span><span class="p">{</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getDocumentPageNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="nx">t</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">pdfDocument</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="nx">a</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">getTextContent</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">prepareTextContent</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">i</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">a</span><span class="p">])})})</span><span class="o">:</span><span class="nx">i</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textContentJoinedSearch</span><span class="p">[</span><span class="nx">a</span><span class="p">])}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">eU</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">)}</span><span class="k">else</span> <span class="nx">n</span><span class="p">()})}}]),</span><span class="nx">s</span><span class="p">}(</span><span class="nx">eV</span><span class="p">);</span><span class="kd">function</span> <span class="nx">eW</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">)</span><span class="k">throw</span> <span class="nx">ReferenceError</span><span class="p">(</span><span class="s2">"this hasn't been initialised - super() hasn't been called"</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">eq</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eG</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">eZ</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">eG</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">eG</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">eK</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">eK</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">?</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">||</span><span class="nb">Object</span><span class="p">.</span><span class="nx">getPrototypeOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)})(</span><span class="nx">e</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">eQ</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span><span class="p">(</span><span class="nx">eQ</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">setPrototypeOf</span><span class="o">||</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">__proto__</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">})(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}</span><span class="nx">n</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">pdf</span><span class="o">=</span><span class="nx">ej</span><span class="p">;</span><span class="kd">var</span> <span class="nx">eX</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">eY</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eq</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewPort</span><span class="o">=</span><span class="k">new</span> <span class="nx">e$</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_pageInfo</span><span class="o">=</span><span class="p">{</span><span class="nx">rotate</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">src</span><span class="p">}</span><span class="k">return</span> <span class="nx">eZ</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getViewport"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">:</span><span class="p">{</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">};</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">.</span><span class="nx">height</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">scale</span><span class="p">)}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">eJ</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">eq</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">source</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">numPages</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">source</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">eX</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">toString</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">pages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">eY</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">source</span><span class="p">[</span><span class="nx">i</span><span class="p">]}))}</span><span class="k">return</span> <span class="nx">eZ</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="k">new</span> <span class="nx">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span><span class="k">try</span><span class="p">{</span><span class="nx">jQuery</span><span class="p">(</span><span class="s2">"&lt;img/&gt;"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"src"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">source</span><span class="p">[</span><span class="nx">e</span><span class="o">-</span><span class="mi">1</span><span class="p">]).</span><span class="nx">prop</span><span class="p">(</span><span class="s2">"crossOrigin"</span><span class="p">,</span><span class="s2">"Anonymous"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">off</span><span class="p">();</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">new</span> <span class="nx">eY</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="p">});</span><span class="nx">e</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">image</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="p">(</span><span class="nx">e</span><span class="p">)})}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">)}})}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">e$</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">?</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">:</span><span class="mi">1</span><span class="p">;</span><span class="nx">eq</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">transform</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">]}</span><span class="k">return</span> <span class="nx">eZ</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clone"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">new</span> <span class="nx">e</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scale</span><span class="p">)}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">e0</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="p">)</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Super expression must either be null or a function"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,{</span><span class="nx">constructor</span><span class="o">:</span><span class="p">{</span><span class="nx">value</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">writable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">configurable</span><span class="o">:!</span><span class="mi">0</span><span class="p">}}),</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">eQ</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)}(</span><span class="nx">n</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="s2">"undefined"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Reflect</span><span class="o">||!</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="o">||</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">.</span><span class="nx">sham</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">Proxy</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="k">return</span> <span class="nb">Boolean</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">valueOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">,[],</span><span class="kd">function</span><span class="p">(){})),</span><span class="o">!</span><span class="mi">0</span><span class="p">}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">}}(),</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">eK</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="o">?</span><span class="nx">Reflect</span><span class="p">.</span><span class="nx">construct</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">arguments</span><span class="p">,</span><span class="nx">eK</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">constructor</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">arguments</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"object"</span><span class="o">==</span><span class="p">(</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">||</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">eW</span><span class="p">(</span><span class="k">this</span><span class="p">)});</span><span class="kd">function</span> <span class="nx">n</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">eq</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">)).</span><span class="nx">app</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">eW</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nb">document</span><span class="o">=</span><span class="k">new</span> <span class="nx">eJ</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">numPages</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">numPages</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">numPages</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">loadDocument</span><span class="p">(),</span><span class="nx">a</span><span class="p">}</span><span class="k">return</span> <span class="nx">eZ</span><span class="p">(</span><span class="nx">n</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"loadDocument"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="o">=</span><span class="nx">n</span><span class="p">;</span><span class="kd">var</span> <span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">viewPort</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">pageRatio</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">defaultPage</span><span class="o">=</span><span class="p">{</span><span class="nx">ratio</span><span class="o">:</span><span class="nx">o</span><span class="p">,</span><span class="nx">viewPort</span><span class="o">:</span><span class="nx">s</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="p">},</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureHeight</span><span class="o">=</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="mi">3200</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="nx">o</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureWidth</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">maxTextureHeight</span><span class="o">*</span><span class="nx">o</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">autoHeightRatio</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="nx">o</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page1Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkSecondPage</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Ratio</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">()})</span><span class="o">:</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">_page2Pass</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">pagesLoaded</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="o">=</span><span class="k">new</span> <span class="nx">eH</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="p">.</span><span class="nx">setViewer</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_documentLoaded</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getDocumentPageNumber</span><span class="p">(</span><span class="nx">n</span><span class="p">);</span><span class="nx">eX</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Requesting PDF Page:"</span><span class="o">+</span><span class="nx">s</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getPage</span><span class="p">(</span><span class="nx">s</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">s</span><span class="p">){</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFreshPage</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewPorts</span><span class="p">[</span><span class="nx">n</span><span class="p">]</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">_viewPort</span><span class="p">);</span><span class="kd">var</span> <span class="nx">o</span><span class="p">,</span><span class="nx">r</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getRenderContext</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="nx">e</span><span class="p">);(</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFreshPage</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">))</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">o</span><span class="o">||</span><span class="nx">o</span><span class="p">.</span><span class="nx">changeTexture</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">preferCanvas</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">preferCanvas</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s2">"2d"</span><span class="p">).</span><span class="nx">drawImage</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">image</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">viewport</span><span class="p">.</span><span class="nx">transform</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="mi">0</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="o">*</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">r</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">viewport</span><span class="p">.</span><span class="nx">widthFix</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">r</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="mi">1</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">applyTexture</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span><span class="nx">e</span><span class="p">))</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">applyTexture</span><span class="p">({</span><span class="nx">src</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">l</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">},</span><span class="nx">e</span><span class="p">),</span><span class="nx">eX</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Rendered "</span><span class="o">+</span><span class="nx">n</span><span class="o">+</span><span class="s2">" in "</span><span class="o">+</span><span class="p">(</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">-</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="s2">" milliseconds"</span><span class="p">)})}}]),</span><span class="nx">n</span><span class="p">}(</span><span class="nx">eV</span><span class="p">);</span><span class="kd">function</span> <span class="nx">e1</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">e2</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}</span><span class="kd">function</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">e2</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">e2</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">}</span><span class="kd">function</span> <span class="nx">e5</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">constructor</span><span class="o">===</span><span class="nx">Symbol</span><span class="o">?</span><span class="s2">"symbol"</span><span class="o">:</span><span class="k">typeof</span> <span class="nx">e</span><span class="p">}</span><span class="nx">n</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">image</span><span class="o">=</span><span class="nx">e0</span><span class="p">,</span><span class="nx">i</span><span class="p">(</span><span class="mi">101</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e8</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">e4</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">e9</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">,</span><span class="nx">e7</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">leftElement</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-left"</span><span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">centerElement</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-center"</span><span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">rightElement</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-right"</span><span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="o">=</span><span class="p">{}}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="s2">"&lt;div&gt;"</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">createLogo</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">openRight</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">openRight</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">t</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-nav df-ui-next"</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">previousPage</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">nextPage</span><span class="p">,</span><span class="nx">html</span><span class="o">:</span><span class="s1">'&lt;div class="df-ui-btn '</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">next</span><span class="o">+</span><span class="s1">'"&gt;&lt;/div&gt;'</span><span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">openLeft</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">openLeft</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">t</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-ui-nav df-ui-prev"</span><span class="p">,</span><span class="nx">title</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">nextPage</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">previousPage</span><span class="p">,</span><span class="nx">html</span><span class="o">:</span><span class="s1">'&lt;div class="df-ui-btn '</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">prev</span><span class="o">+</span><span class="s1">'"&gt;&lt;/div&gt;'</span><span class="p">}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">()}),</span><span class="o">!</span><span class="mi">0</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoPlay</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">play</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">play</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"play"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">play</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">play</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAutoPlay</span><span class="p">(</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">pause</span><span class="p">))}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">setAutoPlay</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoPlayStart</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"page"</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"change"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">gotoPageLabel</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageInput</span><span class="p">.</span><span class="nx">val</span><span class="p">())}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"keyup"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="mi">13</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">gotoPageLabel</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageInput</span><span class="p">.</span><span class="nx">val</span><span class="p">())});</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="s2">"df_book_page_number_"</span><span class="o">+</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">performance</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">/</span><span class="mi">10</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">pageInput</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageInput</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;input id="'</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="s1">'" type="text"/&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageLabel</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;label for="'</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="s1">'"&gt;&lt;/label&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">thumbnail</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">thumbnail</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"thumbnail"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">thumbnail</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">toggleThumbnails</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">thumbnail</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumblist</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">initThumbs</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-sidemenu-visible"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">".df-active"</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">e9</span><span class="p">.</span><span class="nx">ON</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">resizeRequestStart</span><span class="p">()}).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-sidemenu-trigger"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">hasOutline</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"outline"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">outline</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">toggleOutline</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">outline</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">outlineViewer</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">initOutline</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">outlineContainer</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">outlineContainer</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-sidemenu-visible"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">".df-active"</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">resizeRequestStart</span><span class="p">()}}).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-sidemenu-trigger"</span><span class="p">)),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">showSearchControl</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">search</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"search"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">search</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">search</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchContainer</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">initSearch</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-sidemenu-visible"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">".df-active"</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">searchBox</span><span class="p">.</span><span class="nx">focus</span><span class="p">()),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">resizeRequestStart</span><span class="p">()}}).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-sidemenu-trigger"</span><span class="p">));</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomIn</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">zoomIn</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"zoomin"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">zoomin</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">zoomIn</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomOut</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">zoomOut</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"zoomout"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">zoomout</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">zoomOut</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">resetZoom</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">resetZoom</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"resetzoom"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">resetzoom</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">resetZoom</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">resetZoom</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">update</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">isFlipBook</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">){</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"pagemode"</span><span class="p">,</span><span class="nx">o</span><span class="p">[</span><span class="nx">h</span><span class="o">?</span><span class="s2">"doublepage"</span><span class="o">:</span><span class="s2">"singlepage"</span><span class="p">],</span><span class="nx">h</span><span class="o">?</span><span class="nx">s</span><span class="p">.</span><span class="nx">doublePageMode</span><span class="o">:</span><span class="nx">s</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">setPageMode</span><span class="p">({</span><span class="nx">isSingle</span><span class="o">:!</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">doublepage</span><span class="p">)}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">pageModeChangedManually</span><span class="o">=!</span><span class="mi">0</span><span class="p">})}}</span><span class="k">else</span> <span class="k">this</span><span class="p">.</span><span class="nx">pageFit</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageFit</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"pagefit"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">pagefit</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">pageFit</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">pageFit</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">==!</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">widthfit</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">widthfit</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">widthFit</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">widthFit</span><span class="p">))</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">widthfit</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">pageFit</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">pageFit</span><span class="p">))});</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">shareBox</span><span class="o">=</span><span class="k">new</span> <span class="nx">e6</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">share</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">share</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"share"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">share</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">share</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">shareBox</span><span class="p">.</span><span class="nx">isOpen</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">shareBox</span><span class="p">.</span><span class="nx">close</span><span class="p">()</span><span class="o">:</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">shareBox</span><span class="p">.</span><span class="nx">update</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">getURLHash</span><span class="p">()),</span><span class="nx">e</span><span class="p">.</span><span class="nx">shareBox</span><span class="p">.</span><span class="nx">show</span><span class="p">())}),</span><span class="k">this</span><span class="p">.</span><span class="nx">more</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">more</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"more"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">more</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainerOpen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainerOpen</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">())}),</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">startPage</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"start"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">start</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">gotoFirstPage</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">start</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">endPage</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"end"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">end</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">gotoLastPage</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">end</span><span class="p">()}),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">showPrintControl</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">print</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">print</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"print"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">print</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">print</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">printHandler</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">printHandler</span><span class="o">||</span><span class="k">new</span> <span class="nx">tt</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">printHandler</span><span class="p">.</span><span class="nx">printPDF</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="p">)})),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">showDownloadControl</span><span class="o">&amp;&amp;</span><span class="s2">"string"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="s2">"df-ui-btn df-ui-download "</span><span class="o">+</span><span class="nx">o</span><span class="p">.</span><span class="nx">download</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">download</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">download</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;a download target="_blank" class="'</span><span class="o">+</span><span class="nx">u</span><span class="o">+</span><span class="s1">'"&gt;&lt;span&gt;'</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">downloadPDFFile</span><span class="o">+</span><span class="s2">"&lt;/span&gt;&lt;/a&gt;"</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">download</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"href"</span><span class="p">,</span><span class="nx">e4</span><span class="p">.</span><span class="nx">httpsCorrection</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">source</span><span class="p">)).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">downloadPDFFile</span><span class="p">)}</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainer</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">t</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-more-container"</span><span class="p">}),</span><span class="nx">a</span><span class="p">.</span><span class="nx">more</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainer</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">fullscreenSupported</span><span class="o">||</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">fullScreen</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">fullScreen</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"fullscreen"</span><span class="p">,</span><span class="nx">o</span><span class="p">.</span><span class="nx">fullscreen</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">toggleFullscreen</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">switchFullscreen</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">i</span><span class="p">))),</span><span class="nx">i</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">initCustomControls</span><span class="p">();</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">allControls</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span><span class="s2">""</span><span class="p">).</span><span class="nx">split</span><span class="p">(</span><span class="s2">","</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="s2">","</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">moreControls</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="s2">","</span><span class="o">+</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hideControls</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="s2">","</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">leftControls</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">rightControls</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/ /g</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="nx">d</span><span class="o">+=</span><span class="s2">","</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">p</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">p</span><span class="p">[</span><span class="nx">f</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">&gt;</span><span class="nx">d</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="nx">g</span><span class="o">+</span><span class="s2">","</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">v</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="nx">g</span><span class="p">];</span><span class="kc">null</span><span class="o">!=</span><span class="nx">v</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">v</span><span class="o">?</span><span class="s2">"undefined"</span><span class="o">:</span><span class="nx">e5</span><span class="p">(</span><span class="nx">v</span><span class="p">))</span><span class="o">==</span><span class="s2">"object"</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">","</span><span class="o">+</span><span class="nx">g</span><span class="o">+</span><span class="s2">","</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="s2">"more"</span><span class="o">!==</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="s2">"pageNumber"</span><span class="o">!==</span><span class="nx">g</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainer</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="o">:!</span><span class="mi">0</span><span class="o">==</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsFloating</span><span class="o">?</span><span class="nx">l</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">centerElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">v</span><span class="p">))}}</span><span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">moreContainer</span><span class="p">.</span><span class="nx">children</span><span class="p">().</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">more</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-hidden"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">l</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">openRight</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">closePanels</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">closePanels</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"keyup"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">keyup</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyUp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"fullscreenchange"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">fullscreenChange</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">fullscreenChange</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoOpenThumbnail</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">thumbnail</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">hasOutline</span><span class="p">()</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoOpenOutline</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">outline</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onCreateUI"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"closePanels"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">moreContainerOpen</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">more</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">moreContainerOpen</span><span class="o">=!</span><span class="mi">1</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"fullscreenChange"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e4</span><span class="p">.</span><span class="nx">getFullscreenElement</span><span class="p">()</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">switchFullscreen</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"keyUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="s2">"INPUT"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">arrowKeysAction</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">ARROW_KEYS_ACTIONS</span><span class="p">.</span><span class="nx">NAV</span><span class="o">&amp;&amp;</span><span class="p">((</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">!=</span><span class="nx">t</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeEmbeds</span><span class="p">.</span><span class="nx">length</span><span class="o">&lt;</span><span class="mi">2</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-lightbox-open"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=!</span><span class="mi">0</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">keyCode</span><span class="p">){</span><span class="k">case</span> <span class="mi">27</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;!</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isChromeExtension</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">closeButton</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">);</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="mi">37</span><span class="o">:</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">();</span><span class="k">break</span><span class="p">;</span><span class="k">case</span> <span class="mi">39</span><span class="o">:</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">openRight</span><span class="p">()}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"createLogo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">logo</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"&lt;"</span><span class="p">)</span><span class="o">&gt;-</span><span class="mi">1</span><span class="o">?</span><span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">logo</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-logo df-logo-html"</span><span class="p">)</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">logo</span><span class="p">.</span><span class="nx">trim</span><span class="p">().</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;a class="df-logo df-logo-img" target="_blank" href="'</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">logoUrl</span><span class="o">+</span><span class="s1">'"&gt;&lt;img alt="" src="'</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">logo</span><span class="o">+</span><span class="s1">'"/&gt;'</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="kc">null</span><span class="o">!==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="s2">"undefined"</span><span class="o">:</span><span class="nx">e5</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span><span class="o">==</span><span class="s2">"object"</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">off</span><span class="p">().</span><span class="nx">remove</span><span class="p">()}</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">shareBox</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shareBox</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">closePanels</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"keyup"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">keyup</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"fullscreenchange"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">fullscreenChange</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"update"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">;</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">_pageLabelWidthSet</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageLabels</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"88888888888888888"</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">length</span><span class="o">+</span><span class="mi">4</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"88888888888"</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">length</span><span class="o">+</span><span class="mi">3</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">width</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">width</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_pageLabelWidthSet</span><span class="o">=!</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">getCurrentLabel</span><span class="p">();</span><span class="nx">i</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="s2">"("</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="s2">"/"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">+</span><span class="s2">")"</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageLabel</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">i</span><span class="o">+</span><span class="s2">"/"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageInput</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="nx">i</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-sidemenu-open"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-sidemenu-visible"</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">totalHits</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-sidemenu-visible.df-search-container"</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-search-open"</span><span class="p">,</span><span class="nx">n</span><span class="p">),</span><span class="nx">n</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-search-result[data-df-page="</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="s2">"]"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-search-result.df-active"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;!</span><span class="nx">a</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">".df-active"</span><span class="p">)){</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchResults</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">o</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">;</span><span class="nx">o</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">height</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="o">?</span><span class="nx">e4</span><span class="p">.</span><span class="nx">scrollIntoView</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">o</span><span class="o">&gt;</span><span class="nx">a</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">&amp;&amp;</span><span class="nx">e4</span><span class="p">.</span><span class="nx">scrollIntoView</span><span class="p">(</span><span class="nx">a</span><span class="p">)}}</span><span class="nx">t</span><span class="p">.</span><span class="nx">zoomIn</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">maxZoom</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">zoomOut</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"disabled"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">minZoom</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">isRTL</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">startPage</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">endPage</span><span class="p">,</span><span class="nx">u</span><span class="o">=</span><span class="nx">l</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="o">||</span><span class="nx">h</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="nx">h</span><span class="o">&amp;&amp;!</span><span class="nx">r</span><span class="o">||</span><span class="nx">l</span><span class="o">&amp;&amp;</span><span class="nx">r</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">openRight</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-hidden"</span><span class="p">,</span><span class="nx">p</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">openLeft</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-hidden"</span><span class="p">,</span><span class="nx">u</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">afterControlUpdate</span><span class="p">()}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">e6</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isOpen</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">shareUrl</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span> <span class="k">in</span> <span class="nx">i</span><span class="p">.</span><span class="nx">wrapper</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;div class="df-share-wrapper" style="display: none;"&gt;'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">close</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">box</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;div class="df-share-box"&gt;'</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">).</span><span class="nx">html</span><span class="p">(</span><span class="s1">'&lt;span class="df-share-title"&gt;'</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">share</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">urlInput</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;textarea name="df-share-url" class="df-share-url"&gt;'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">select</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">urlInput</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">share</span><span class="p">)</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">share</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">&gt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">hideShareControls</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">e</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">share</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="kc">null</span><span class="o">!==</span><span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-share-button df-share-"</span><span class="o">+</span><span class="nx">e</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="nx">t</span><span class="p">.</span><span class="nx">icons</span><span class="p">[</span><span class="nx">e</span><span class="p">]}).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"{{url}}"</span><span class="p">,</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">shareUrl</span><span class="p">)).</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"{{mailsubject}}"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">mailSubject</span><span class="p">),</span><span class="s2">"Sharer"</span><span class="p">,</span><span class="s2">"width=500,height=400"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">box</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">[</span><span class="nx">e</span><span class="p">]))}}(</span><span class="nx">n</span><span class="p">);</span><span class="nx">e8</span><span class="p">(</span><span class="nx">e</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"show"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">urlInput</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">shareUrl</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">urlInput</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isOpen</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="k">this</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">off</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="nx">e</span><span class="p">].</span><span class="nx">off</span><span class="p">();</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"close"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isOpen</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"update"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">shareUrl</span><span class="o">=</span><span class="nx">e</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">te</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">duration</span><span class="o">=</span><span class="mi">300</span><span class="p">;</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lightbox-wrapper"</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">backGround</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lightbox-bg"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">controls</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lightbox-controls"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">closeButton</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lightbox-close df-ui-btn "</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">close</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">close</span><span class="p">(</span><span class="nx">t</span><span class="p">)}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">controls</span><span class="p">),</span><span class="nx">i</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="nx">i</span><span class="p">}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"show"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">parent</span><span class="p">().</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"body"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">),</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"html,body"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-lightbox-open"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">duration</span><span class="p">),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">(),</span><span class="k">this</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"close"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">fadeOut</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">duration</span><span class="p">),</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">forEach</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getSharePrefixes</span><span class="p">(),</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="mi">0</span><span class="o">===</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">hash</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="s2">"#_"</span><span class="p">)}),</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">duration</span><span class="p">),</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"html,body"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-lightbox-open"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"class"</span><span class="p">,</span><span class="s2">"df-app"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"style"</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"class"</span><span class="p">,</span><span class="s2">"df-lightbox-wrapper"</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"style"</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">backGround</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"style"</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">tt</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">return</span> <span class="nx">t</span><span class="p">.</span><span class="nx">frame</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;iframe id="df-print-frame" style="display:none"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"body"</span><span class="p">)),</span><span class="nx">t</span><span class="p">.</span><span class="nx">frame</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"load"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="k">try</span><span class="p">{</span><span class="nx">t</span><span class="p">.</span><span class="nx">frame</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nx">print</span><span class="p">()}</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)}}),</span><span class="nx">t</span><span class="p">}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"printPDF"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">frame</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">src</span><span class="o">=</span><span class="nx">e</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">ti</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sidemenu-wrapper"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">buttons</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-sidemenu-buttons df-ui-wrapper"</span><span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">close</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">createBtn</span><span class="p">(</span><span class="s2">"close"</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">close</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">close</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">buttons</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">close</span><span class="p">)}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">tn</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastToggleIsShow</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">linkService</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineItemClass</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">outlineItemClass</span><span class="o">||</span><span class="s2">"outlineItem"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleClass</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">outlineToggleClass</span><span class="o">||</span><span class="s2">"outlineItemToggler"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="o">||</span><span class="s2">"outlineItemsHidden"</span><span class="p">}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"reset"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">lastToggleIsShow</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">;)</span><span class="nx">e</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_dispatchEvent"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createEvent</span><span class="p">(</span><span class="s2">"CustomEvent"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">initCustomEvent</span><span class="p">(</span><span class="s2">"outlineloaded"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">,{</span><span class="nx">outlineCount</span><span class="o">:</span><span class="nx">e</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">dispatchEvent</span><span class="p">(</span><span class="nx">t</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_bindLink"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">linkService</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">custom</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">getCustomDestinationHash</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dest</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">onclick</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">customNavigateTo</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dest</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">};</span><span class="k">else</span><span class="p">{</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">url</span><span class="p">){</span><span class="nx">pdfjsLib</span><span class="p">.</span><span class="nx">addLinkAttributes</span><span class="p">(</span><span class="nx">e</span><span class="p">,{</span><span class="nx">url</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">url</span><span class="p">});</span><span class="k">return</span><span class="p">}</span><span class="nx">e</span><span class="p">.</span><span class="nx">href</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">getDestinationHash</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dest</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">onclick</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">i</span><span class="p">.</span><span class="nx">navigateTo</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">dest</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_addToggleButton"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">i</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleClass</span><span class="o">+</span><span class="s2">" "</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">onclick</span><span class="o">=</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">i</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">toggle</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">shiftKey</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=!</span><span class="nx">i</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">_toggleOutlineItem</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">)}}).</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">firstChild</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_toggleOutlineItem"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">lastToggleIsShow</span><span class="o">=</span><span class="nx">t</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">"."</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleClass</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">n</span><span class="o">&lt;</span><span class="nx">a</span><span class="p">;</span><span class="o">++</span><span class="nx">n</span><span class="p">)</span><span class="nx">i</span><span class="p">[</span><span class="nx">n</span><span class="p">].</span><span class="nx">classList</span><span class="p">[</span><span class="nx">t</span><span class="o">?</span><span class="s2">"remove"</span><span class="o">:</span><span class="s2">"add"</span><span class="p">](</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineToggleHiddenClass</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"render"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">outline</span><span class="o">||</span><span class="kc">null</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">reset</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createDocumentFragment</span><span class="p">(),</span><span class="nx">a</span><span class="o">=</span><span class="p">[{</span><span class="nx">parent</span><span class="o">:</span><span class="nx">n</span><span class="p">,</span><span class="nx">items</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">outline</span><span class="p">,</span><span class="nx">custom</span><span class="o">:!</span><span class="mi">1</span><span class="p">}],</span><span class="nx">s</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">;)</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">shift</span><span class="p">(),</span><span class="nx">r</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">custom</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nx">o</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">l</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">p</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineItemClass</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"a"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">==</span><span class="nx">u</span><span class="p">.</span><span class="nx">custom</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">custom</span><span class="o">=</span><span class="nx">r</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_bindLink</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">u</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">textContent</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">title</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\x00/g</span><span class="p">,</span><span class="s2">""</span><span class="p">),</span><span class="nx">p</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">u</span><span class="p">.</span><span class="nx">items</span><span class="o">&amp;&amp;</span><span class="nx">u</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">){</span><span class="nx">s</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_addToggleButton</span><span class="p">(</span><span class="nx">p</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">d</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineItemClass</span><span class="o">+</span><span class="s2">"s"</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">parent</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">custom</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">custom</span><span class="p">,</span><span class="nx">items</span><span class="o">:</span><span class="nx">u</span><span class="p">.</span><span class="nx">items</span><span class="p">})}</span><span class="nx">o</span><span class="p">.</span><span class="nx">parent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">p</span><span class="p">),</span><span class="nx">i</span><span class="o">++</span><span class="p">}</span><span class="nx">s</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">classList</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineItemClass</span><span class="o">+</span><span class="s2">"s"</span><span class="p">)</span><span class="o">:</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">className</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">className</span><span class="o">+=</span><span class="s2">" picWindow"</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">n</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_dispatchEvent</span><span class="p">(</span><span class="nx">i</span><span class="p">)}}}]),</span><span class="nx">e</span><span class="p">}(),</span><span class="nx">ta</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">function</span> <span class="nx">e</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e1</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">s</span><span class="p">.</span><span class="nx">thumbRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">e9</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">},</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">itemHeight</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">itemHeight</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">itemWidth</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">itemWidth</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">items</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">items</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">generatorFn</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">generatorFn</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">totalRows</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">totalRows</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">items</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">addFn</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">addFn</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">scrollFn</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollFn</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="k">this</span><span class="p">.</span><span class="nx">totalRows</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nx">r</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="nx">l</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="s2">"df-thumb"</span><span class="o">+</span><span class="nx">h</span><span class="p">;</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">),</span><span class="nx">p</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">"div"</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"df-wrapper"</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"df-thumb-number"</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"df-thumb"</span><span class="p">,</span><span class="nx">u</span><span class="p">.</span><span class="nx">className</span><span class="o">=</span><span class="s2">"df-bg-image"</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">n</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">a</span><span class="o">+</span><span class="s2">"px"</span><span class="p">,</span><span class="nx">p</span><span class="p">.</span><span class="nx">innerText</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">l</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">p</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">u</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">l</span><span class="p">)}</span><span class="nx">o</span><span class="p">.</span><span class="nx">dispose</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parentNode</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"scroll"</span><span class="p">,</span><span class="nx">i</span><span class="p">)},</span><span class="nx">o</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"scroll"</span><span class="p">,</span><span class="nx">i</span><span class="p">)}</span><span class="k">return</span> <span class="nx">e3</span><span class="p">(</span><span class="nx">e</span><span class="p">,[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processThumbRequest"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e4</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Thumb Request Initiated"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">e9</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">activeThumb</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-sidemenu-visible"</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">scrollTop</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">().</span><span class="nx">height</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">"#df-thumb"</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-selected"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-selected"</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-selected"</span><span class="p">),</span><span class="nx">i</span><span class="o">+</span><span class="nx">a</span><span class="o">&lt;</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">offsetTop</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">scrollHeight</span><span class="o">?</span><span class="nx">e4</span><span class="p">.</span><span class="nx">scrollIntoView</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span><span class="kc">null</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="o">&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">offsetTop</span><span class="o">&amp;&amp;</span><span class="nx">e4</span><span class="p">.</span><span class="nx">scrollIntoView</span><span class="p">(</span><span class="nx">s</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">activeThumb</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="nx">e8</span><span class="p">(</span><span class="nx">t</span><span class="p">).</span><span class="nx">scrollTop</span><span class="p">(</span><span class="mi">124</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">e9</span><span class="p">.</span><span class="nx">ON</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">getElementsByClassName</span><span class="p">(</span><span class="s2">"df-thumb-requested"</span><span class="p">).</span><span class="nx">length</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">getVisibleElements</span><span class="p">({</span><span class="nx">container</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">,</span><span class="nx">elements</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">children</span><span class="p">});</span><span class="nx">e8</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">o</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">o</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">activeThumb</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">r</span><span class="o">&lt;</span><span class="nx">o</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">r</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">children</span><span class="p">[</span><span class="nx">o</span><span class="p">[</span><span class="nx">r</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">l</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s2">"df-thumb-loaded"</span><span class="p">)</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">===</span><span class="nx">l</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s2">"df-thumb-requested"</span><span class="p">))</span><span class="k">return</span> <span class="nx">l</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">"df-thumb-requested"</span><span class="p">),</span><span class="nx">e4</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Thumb Requested for "</span><span class="o">+</span><span class="nx">o</span><span class="p">[</span><span class="nx">r</span><span class="p">]),</span><span class="nx">e</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">processPage</span><span class="p">({</span><span class="nx">pageNumber</span><span class="o">:</span><span class="nx">o</span><span class="p">[</span><span class="nx">r</span><span class="p">],</span><span class="nx">textureTarget</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">THUMB</span><span class="p">}),</span><span class="o">!</span><span class="mi">1</span><span class="p">}}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">app</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">texture</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureTarget</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">THUMB</span><span class="p">){</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">"#df-thumb"</span><span class="o">+</span><span class="nx">i</span><span class="p">);</span><span class="nx">s</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-wrapper"</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">height</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">}),</span><span class="nx">s</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-bg-image"</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="nx">e4</span><span class="p">.</span><span class="nx">bgImage</span><span class="p">(</span><span class="nx">a</span><span class="p">)}),</span><span class="nx">s</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-thumb-loaded"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-thumb-requested"</span><span class="p">)}</span><span class="nx">e4</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Thumbnail set for "</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">e9</span><span class="p">.</span><span class="nx">ON</span><span class="p">}}]),</span><span class="nx">e</span><span class="p">}();</span><span class="kd">function</span> <span class="nx">ts</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFileInput</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFileInput</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s1">'&lt;input type="file" accept=".pdf" style="display:none"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"body"</span><span class="p">)).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-option"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">files</span><span class="p">;</span><span class="nx">i</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">e</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFile</span><span class="p">(</span><span class="nx">t</span><span class="p">))})}}</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLightBox</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="o">||</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="o">=</span><span class="k">new</span> <span class="nx">te</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">closeRequested</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">analytics</span><span class="p">({</span><span class="nx">eventAction</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">analyticsViewerClose</span><span class="p">,</span><span class="nx">options</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">})),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">)})),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">duration</span><span class="o">=</span><span class="mi">300</span><span class="p">,(</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">||</span><span class="kc">null</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">closeRequested</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFileInput</span><span class="o">==</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">e4</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">),</span><span class="kc">null</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">element</span><span class="p">).</span><span class="nx">dearviewer</span><span class="p">({</span><span class="nx">transparent</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">isLightBox</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">hashNavigationEnabled</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="s2">"100%"</span><span class="p">,</span><span class="nx">dataElement</span><span class="o">:</span><span class="nx">e</span><span class="p">}),</span><span class="nx">history</span><span class="p">.</span><span class="nx">pushState</span><span class="p">({},</span><span class="kc">null</span><span class="p">,</span><span class="s2">"#"</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-lightbox-padded"</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">popupFullsize</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">lightboxWrapper</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-rtl"</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">readDirection</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">RTL</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">backGround</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundColor</span><span class="o">:</span><span class="s2">"transparent"</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">popupBackGroundColor</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="p">})}))},</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkBrowserURLforDefaults</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isIEUnsupported</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"viewer-type"</span><span class="p">)</span><span class="o">||</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"viewertype"</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"is-3d"</span><span class="p">)</span><span class="o">||</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"is3d"</span><span class="p">);</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="nx">e</span><span class="p">),(</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="s2">"false"</span><span class="o">===</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">is3D</span><span class="o">=</span><span class="s2">"true"</span><span class="o">===</span><span class="nx">t</span><span class="p">)}},</span><span class="nx">n</span><span class="p">.</span><span class="nx">checkBrowserURLforPDF</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isIEUnsupported</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">new</span> <span class="nx">URL</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">).</span><span class="nx">searchParams</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">"pdf-source"</span><span class="p">);</span><span class="k">return</span> <span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nb">decodeURI</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">openURL</span><span class="p">(</span><span class="nx">t</span><span class="p">)),</span><span class="nx">t</span><span class="p">}},</span><span class="nx">n</span><span class="p">.</span><span class="nx">fileDropHandler</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="s2">"application/pdf"</span><span class="o">===</span><span class="nx">i</span><span class="p">.</span><span class="nx">type</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFile</span><span class="p">(</span><span class="nx">i</span><span class="p">))},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFile</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">oldLocalFileObjectURL</span><span class="o">&amp;&amp;</span><span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">revokeObjectURL</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">oldLocalFileObjectURL</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">oldLocalFileObjectURL</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileSelected</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">,{</span><span class="nx">url</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">oldLocalFileObjectURL</span><span class="p">,</span><span class="nx">file</span><span class="o">:</span><span class="nx">e</span><span class="p">}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openURL</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">oldLocalFileObjectURL</span><span class="p">)}</span><span class="k">else</span> <span class="nx">n</span><span class="p">.</span><span class="nx">openURL</span><span class="p">()},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openURL</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">ts</span><span class="p">(),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="p">.</span><span class="nx">source</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="p">.</span><span class="nx">pdfParameters</span><span class="o">=</span><span class="kc">null</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLightBox</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFileInput</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openBase64</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="p">.</span><span class="nx">source</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">openFileOptions</span><span class="p">.</span><span class="nx">pdfParameters</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="o">:</span><span class="nx">atob</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openURL</span><span class="p">()},</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFile</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">ts</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFileInput</span><span class="p">.</span><span class="nx">click</span><span class="p">()},</span><span class="nx">n</span><span class="p">.</span><span class="nx">initControls</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">autoPDFLinktoViewer</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s1">'a[href$=".pdf"]'</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"download"</span><span class="p">)</span><span class="o">||</span><span class="s2">"_blank"</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"target"</span><span class="p">)</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-ui-btn"</span><span class="p">)</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">parents</span><span class="p">(</span><span class="s2">".df-app"</span><span class="p">).</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">t</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-source"</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"href"</span><span class="p">)),</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLightBox</span><span class="p">(</span><span class="nx">t</span><span class="p">))}),</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"popstate"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">app</span><span class="o">&amp;&amp;!</span><span class="nx">e4</span><span class="p">.</span><span class="nx">isChromeExtension</span><span class="p">()</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">activeLightBox</span><span class="p">.</span><span class="nx">closeButton</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">)}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-open-local-file"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">n</span><span class="p">.</span><span class="nx">openLocalFile</span><span class="p">()}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-sidemenu-buttons .df-ui-close"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".df-app"</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-ui-btn.df-active"</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">"click"</span><span class="p">)}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mouseout"</span><span class="p">,</span><span class="s2">".df-link-content section.squareAnnotation, .df-link-content section.textAnnotation, .df-link-content section.freeTextAnnotation"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">handlePopup</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"mouseover"</span><span class="p">,</span><span class="s2">".df-link-content section.squareAnnotation, .df-link-content section.textAnnotation, .df-link-content section.freeTextAnnotation"</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">handlePopup</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)}),</span><span class="nx">n</span><span class="p">.</span><span class="nx">handlePopup</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".df-container"</span><span class="p">),</span><span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-comment-popup"</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-active"</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">getBoundingClientRect</span><span class="p">(),</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".popupWrapper"</span><span class="p">).</span><span class="nx">first</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"popupTriggerArea"</span><span class="p">)){</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"annotation-id"</span><span class="p">);</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">r</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">siblings</span><span class="p">(</span><span class="s2">"[data-annotation-id=popup_"</span><span class="o">+</span><span class="nx">r</span><span class="o">+</span><span class="s2">"]"</span><span class="p">))}</span><span class="nx">n</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">html</span><span class="p">());</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">left</span><span class="p">;</span><span class="nx">l</span><span class="o">+</span><span class="mi">360</span><span class="o">&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="o">?</span><span class="nx">l</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="o">-</span><span class="mi">360</span><span class="o">-</span><span class="mi">10</span><span class="o">:</span><span class="nx">l</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="o">=</span><span class="mi">10</span><span class="p">);</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="o">+</span><span class="mi">5</span><span class="p">;</span><span class="nx">h</span><span class="o">+</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span><span class="o">&gt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="o">?</span><span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">n</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">height</span><span class="o">-</span><span class="mi">10</span><span class="o">:</span><span class="nx">h</span><span class="o">&lt;</span><span class="mi">10</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">h</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span><span class="nx">n</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="nx">l</span><span class="p">,</span><span class="nx">top</span><span class="o">:</span><span class="nx">h</span><span class="p">})}},</span><span class="k">void</span> <span class="mi">0</span><span class="o">!=</span><span class="nx">n</span><span class="p">.</span><span class="nx">fileDropElement</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e8</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">fileDropElement</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"dragover"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-dragging"</span><span class="p">)}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"dragleave"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">e8</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-dragging"</span><span class="p">)}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"drop"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">originalEvent</span><span class="p">.</span><span class="nx">dataTransfer</span><span class="p">.</span><span class="nx">files</span><span class="p">;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">fileDropHandler</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">)}))}};</span><span class="kd">var</span> <span class="nx">to</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">tr</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">REQUEST_STATUS</span><span class="p">,</span><span class="nx">tl</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">,</span><span class="nx">th</span><span class="o">=</span><span class="cm">/*#__PURE__*/</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="kd">function</span> <span class="nx">t</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="p">;(</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">e</span> <span class="k">instanceof</span> <span class="nx">t</span><span class="p">))</span><span class="k">throw</span> <span class="nx">TypeError</span><span class="p">(</span><span class="s2">"Cannot call a class as a function"</span><span class="p">)})(</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">viewerType</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="o">?</span><span class="nx">i</span><span class="o">:</span><span class="mi">2048</span><span class="p">,</span><span class="nx">tl</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">=</span><span class="mi">4096</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="o">?</span><span class="mi">3200</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">dimensions</span><span class="o">=</span><span class="p">{</span><span class="nx">padding</span><span class="o">:</span><span class="p">{},</span><span class="nx">offset</span><span class="o">:</span><span class="p">{},</span><span class="nx">pageFit</span><span class="o">:</span><span class="p">{},</span><span class="nx">stage</span><span class="o">:</span><span class="p">{},</span><span class="nx">isAutoHeight</span><span class="o">:</span><span class="s2">"auto"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">maxTextureSize</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">maxTextureSize</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">is3D</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">is3D</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">pixelRatio</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">maxDPI</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">fakeZoom</span><span class="o">=</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">fakeZoom</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">a</span><span class="o">?</span><span class="nx">a</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">links</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">links</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">thumbSize</span><span class="o">=</span><span class="mi">128</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">openPage</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">hashNavigationEnabled</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hashNavigationEnabled</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pageScaling</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">PAGE_SCALE</span><span class="p">.</span><span class="nx">MANUAL</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">readDirection</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">RTL</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpStep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">resizeRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">fullscreenSupported</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">hasFullscreenEnabled</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">thumbRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">isExternalReady</span><span class="o">=</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isExternalReady</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">s</span><span class="o">||</span><span class="nx">s</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoLightBoxFullscreen</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">switchFullscreen</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onCreate"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="k">this</span><span class="p">}</span><span class="k">return</span> <span class="nx">e</span><span class="o">=</span><span class="p">[{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"init"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">initDOM</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initResourcesLocation</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initInfo</span><span class="p">(),(</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="o">||</span><span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfParameters</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="s2">"ERROR: Set a Valid Document Source."</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">INFO_TYPE</span><span class="p">.</span><span class="nx">ERROR</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-loading"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-error"</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="nx">tl</span><span class="p">.</span><span class="nx">isIEUnsupported</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">updateInfo</span><span class="p">(</span><span class="s2">"Your browser (Internet Explorer) is out of date! &lt;br&gt;&lt;a href='https://browsehappy.com/'&gt;Upgrade to a new browser.&lt;/a&gt;"</span><span class="p">,</span><span class="s2">"df-old-browser"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-loading"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-error"</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">commentPopup</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;div class="df-comment-popup"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">viewerType</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">sideMenu</span><span class="o">=</span><span class="k">new</span> <span class="nx">ti</span><span class="p">({</span><span class="nx">parentElement</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">},</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="o">=</span><span class="k">new</span> <span class="nx">n</span><span class="p">.</span><span class="nx">providers</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">providerType</span><span class="p">](</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="s2">"loading"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initDOM"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-container df-loading"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-container df-loading df-init df-controls-"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsFloating</span><span class="o">?</span><span class="s2">" df-float"</span><span class="o">:</span><span class="s2">" df-float-off"</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="s2">"transparent"</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="o">?</span><span class="s2">" df-transparent"</span><span class="o">:</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="s2">" df-rtl"</span><span class="o">:</span><span class="s2">""</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="nx">tl</span><span class="p">.</span><span class="nx">isIOS</span><span class="o">||!</span><span class="mi">0</span><span class="o">===</span><span class="nx">tl</span><span class="p">.</span><span class="nx">isIPad</span><span class="o">?</span><span class="s2">" df-ios"</span><span class="o">:</span><span class="s2">""</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetParent</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">backGround</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div class='df-bg'&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">).</span><span class="nx">css</span><span class="p">({</span><span class="nx">backgroundColor</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundColor</span><span class="p">,</span><span class="nx">backgroundImage</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundImage</span><span class="o">?</span><span class="s2">"url('"</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">backgroundImage</span><span class="o">+</span><span class="s2">"')"</span><span class="o">:</span><span class="s2">""</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-viewer-container"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initResourcesLocation"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]){</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfjsSrc</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="s2">"js/libs/pdf.min.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">threejsSrc</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="s2">"js/libs/three.min.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="s2">"js/libs/pdf.worker.min.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundFile</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundFile</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">imagesLocation</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">imagesLocation</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">imageResourcesPath</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">imageResourcesPath</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">cMapUrl</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">cMapUrl</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="s2">""</span><span class="p">;</span><span class="s2">"latest"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="o">||</span><span class="s2">"beta"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="o">?</span><span class="nx">t</span><span class="o">=</span><span class="s2">"latest"</span><span class="o">:</span><span class="s2">"stable"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="s2">"stable"</span><span class="p">),(</span><span class="s2">"latest"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="o">||</span><span class="s2">"default"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfVersion</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">at</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">at</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="s2">"stable"</span><span class="p">,</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Proper Support for Latest version PDF.js 3.7 not available. Switching to PDF.js 2.5!"</span><span class="p">))),</span><span class="s2">"default"</span><span class="o">!==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="s2">""</span><span class="o">!==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfjsSrc</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="s2">"js/libs/pdfjs/"</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"/pdf.min.js"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pdfjsWorkerSrc</span><span class="o">=</span><span class="nb">window</span><span class="p">[</span><span class="nx">n</span><span class="p">.</span><span class="nx">locationVar</span><span class="p">]</span><span class="o">+</span><span class="s2">"js/libs/pdfjs/"</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"/pdf.worker.min.js"</span><span class="p">),</span><span class="s2">"stable"</span><span class="o">===</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">fakeZoom</span><span class="o">=</span><span class="mi">1</span><span class="p">)}}</span><span class="k">else</span> <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"DEARVIEWER locationVar not found!"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onInitResourcesLocation"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initEvents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"resize"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">resize</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">resetResizeRequest</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseMove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseUp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchmove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchmove</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseMove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchstart"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchstart</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"touchend"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchend</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">mouseUp</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="o">!</span><span class="mi">1</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseMove"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">touches</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">acceptAppMouseEvents</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">mouseMove</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseDown"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">userHasInteracted</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">acceptAppMouseEvents</span><span class="o">&amp;&amp;</span><span class="mi">0</span><span class="o">===</span><span class="nx">to</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">srcElement</span><span class="p">).</span><span class="nx">closest</span><span class="p">(</span><span class="s2">".df-sidemenu"</span><span class="p">).</span><span class="nx">length</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">mouseDown</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"mouseUp"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">acceptAppMouseEvents</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">mouseUp</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"softDispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">softDisposed</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">dispose</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"softInit"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="k">new</span> <span class="k">this</span><span class="p">.</span><span class="nx">viewerType</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="o">=</span><span class="k">new</span> <span class="nx">n</span><span class="p">.</span><span class="nx">providers</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">providerType</span><span class="p">](</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">softDisposed</span><span class="o">=!</span><span class="mi">1</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"dispose"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">n</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayTimer</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayTimer</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayFunction</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">contentProvider</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">target</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">sideMenu</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">sideMenu</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineViewer</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">disposeObject</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineViewer</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"resize"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">resize</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mousemove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousemove</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mousedown"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mousedown</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"mouseup"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">mouseup</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchmove"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchmove</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchstart"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchstart</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">),</span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">"touchend"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="p">.</span><span class="nx">touchend</span><span class="p">,</span><span class="o">!</span><span class="mi">1</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">events</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">loadingIcon</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">||</span><span class="nx">t</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">loadingIcon</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">backGround</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">i</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">backGround</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineContainer</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">n</span><span class="o">||</span><span class="nx">n</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineContainer</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">commentPopup</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">a</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">commentPopup</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">.</span><span class="nx">off</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">off</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">off</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">,</span><span class="kc">null</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">=</span><span class="kc">null</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">dimensions</span><span class="o">=</span><span class="kc">null</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetResizeRequest"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">resizeRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-pendingresize"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingResize</span><span class="o">=!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initInfo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-loading-info"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">loading</span><span class="o">+</span><span class="s2">"..."</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">loadingIcon</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">,{</span><span class="kr">class</span><span class="o">:</span><span class="s2">"df-loading-icon"</span><span class="p">}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateInfo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">info</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_documentLoaded"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Document Loaded"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isDocumentReady</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">contentProvider</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onDocumentLoad"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValidPage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"_viewerPrepared"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Viewer Prepared"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isViewerPrepared</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onViewerLoad"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"requestFinalize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isDocumentReady</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isViewerPrepared</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isExternalReady</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">finalizeRequested</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">finalizeRequested</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">finalize</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalizeComponents"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="o">=</span><span class="k">new</span> <span class="nx">e7</span><span class="p">({},</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">init</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">calculateLayout</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">init</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"finalize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">resize</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">initEvents</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">analytics</span><span class="p">({</span><span class="nx">eventAction</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">analyticsViewerOpen</span><span class="p">,</span><span class="nx">options</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-loading df-init"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">onReady</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">analytics</span><span class="p">({</span><span class="nx">eventAction</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">analyticsViewerReady</span><span class="p">,</span><span class="nx">options</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onReady"</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">dataElement</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-hash-focused"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">tl</span><span class="p">.</span><span class="nx">focusHash</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">dataElement</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">dataElement</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-hash-focused"</span><span class="p">)),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">hashNavigationEnabled</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">getURLHash</span><span class="p">(),</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"App Finalized"</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initOutline"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-outline-container df-sidemenu"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="df-sidemenu-title"&gt;'</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">outlineTitle</span><span class="o">+</span><span class="s2">"&lt;/div&gt;"</span><span class="p">);</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-wrapper"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">sideMenu</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineContainer</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineViewer</span><span class="o">=</span><span class="k">new</span> <span class="nx">tn</span><span class="p">({</span><span class="nx">container</span><span class="o">:</span><span class="nx">t</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">linkService</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">linkService</span><span class="p">,</span><span class="nx">outlineItemClass</span><span class="o">:</span><span class="s2">"df-outline-item"</span><span class="p">,</span><span class="nx">outlineToggleClass</span><span class="o">:</span><span class="s2">"df-outline-toggle"</span><span class="p">,</span><span class="nx">outlineToggleHiddenClass</span><span class="o">:</span><span class="s2">"df-outlines-hidden"</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">outlineViewer</span><span class="p">.</span><span class="nx">render</span><span class="p">({</span><span class="nx">outline</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">outline</span><span class="p">})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initThumbs"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="o">=</span><span class="k">new</span> <span class="nx">ta</span><span class="p">({</span><span class="nx">app</span><span class="o">:</span><span class="nx">e</span><span class="p">,</span><span class="nx">addFn</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){},</span><span class="nx">scrollFn</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">},</span><span class="nx">itemHeight</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbSize</span><span class="p">,</span><span class="nx">itemWidth</span><span class="o">:</span><span class="nx">tl</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">defaultPage</span><span class="p">.</span><span class="nx">ratio</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbSize</span><span class="p">),</span><span class="mi">32</span><span class="p">,</span><span class="mi">180</span><span class="p">),</span><span class="nx">totalRows</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">lastScrolled</span><span class="o">=</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">;</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-thumb-container df-sidemenu"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="df-sidemenu-title"&gt;'</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">thumbTitle</span><span class="o">+</span><span class="s2">"&lt;/div&gt;"</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">to</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">container</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-wrapper"</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbContainer</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">sideMenu</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-thumb-container .df-thumb"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"id"</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="s2">"df-thumb"</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">10</span><span class="p">))})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"initSearch"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">t</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s2">"&lt;div&gt;"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-search-container df-sidemenu"</span><span class="p">);</span><span class="nx">t</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'&lt;div class="df-sidemenu-title"&gt;'</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">searchTitle</span><span class="o">+</span><span class="s2">"&lt;/div&gt;"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchForm</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;div class="df-search-form"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchBox</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;input type="text" class="df-search-text" placeholder="'</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">searchPlaceHolder</span><span class="o">+</span><span class="s1">'"&gt;'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"keyup"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="mi">13</span><span class="o">===</span><span class="nx">t</span><span class="p">.</span><span class="nx">keyCode</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">search</span><span class="p">()}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchForm</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchButton</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;div class="df-ui-btn df-search-btn df-icon-search"&gt;'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">search</span><span class="p">()}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchForm</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">clearButton</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;a class="df-search-clear"&gt;Clear&lt;/a&gt;'</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="p">.</span><span class="nx">clearSearch</span><span class="p">()}).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchForm</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchInfo</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;div class="df-search-info"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchResults</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="s1">'&lt;div class="df-wrapper df-search-results"&gt;'</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">searchContainer</span><span class="o">=</span><span class="nx">t</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">sideMenu</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-search-result"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">t</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-page"</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="mi">10</span><span class="p">))})}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"search"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">void</span> <span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">searchBox</span><span class="p">.</span><span class="nx">val</span><span class="p">()),</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">trim</span><span class="p">())}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"clearSearch"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">searchBox</span><span class="p">.</span><span class="nx">val</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">searchInfo</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">""</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">clearSearch</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"updateSearchInfo"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">searchInfo</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">searchInfo</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"checkRequestQueue"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">&amp;&amp;</span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">()}),</span><span class="o">!</span><span class="nx">e</span><span class="p">.</span><span class="nx">softDisposed</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="s2">"ready"</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="p">){</span><span class="s2">"loading"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isDocumentReady</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isViewerPrepared</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isExternalReady</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="s2">"finalizing"</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">finalizeComponents</span><span class="p">()),</span><span class="s2">"finalizing"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">state</span><span class="o">=</span><span class="s2">"ready"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">finalize</span><span class="p">());</span><span class="k">return</span><span class="p">}</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetParent</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">offsetParent</span><span class="p">,</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">resize</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">),</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Visibility Resize Detected"</span><span class="p">)),(</span><span class="kc">null</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">_offsetParent</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">getAll</span><span class="p">().</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">TWEEN</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">resize</span><span class="p">())</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">COUNT</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestCount</span><span class="o">++</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestCount</span><span class="o">&gt;</span><span class="mi">10</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">pendingResize</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-pendingresize"</span><span class="p">))</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">COUNT</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestCount</span><span class="o">++</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestCount</span><span class="o">&gt;</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">processTextureRequest</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">processThumbRequest</span><span class="p">()</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">COUNT</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestCount</span><span class="o">++</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestCount</span><span class="o">&gt;</span><span class="mi">3</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">)),</span><span class="nx">e</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">===</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">render</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">checkRequestQueue</span><span class="p">())}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processTextureRequest"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">,</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">getVisiblePages</span><span class="p">().</span><span class="nx">main</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">r</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">isAnimating</span><span class="p">()</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">DEARFLIP</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">instantTextureProcess</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Texture Request Working"</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">l</span><span class="o">&lt;</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">l</span><span class="o">++</span><span class="p">){</span><span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">s</span><span class="p">[</span><span class="nx">l</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">h</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">h</span><span class="o">&lt;=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&amp;&amp;</span><span class="p">((</span><span class="nx">e</span><span class="o">=</span><span class="nx">r</span><span class="o">?</span><span class="nx">i</span><span class="p">.</span><span class="nx">zoomViewer</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">h</span><span class="p">)</span><span class="o">:</span><span class="nx">i</span><span class="p">.</span><span class="nx">getPageByNumber</span><span class="p">(</span><span class="nx">h</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">getTextureSize</span><span class="p">({</span><span class="nx">pageNumber</span><span class="o">:</span><span class="nx">h</span><span class="p">}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">changeTexture</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">processPage</span><span class="p">({</span><span class="nx">pageNumber</span><span class="o">:</span><span class="nx">h</span><span class="p">,</span><span class="nx">textureTarget</span><span class="o">:</span><span class="nx">r</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">VIEWER</span><span class="p">}),</span><span class="nx">o</span><span class="o">++</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getAnnotationElement</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">))),</span><span class="nx">o</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">))</span><span class="k">break</span><span class="p">}</span><span class="mi">0</span><span class="o">===</span><span class="nx">o</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">textureRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">OFF</span><span class="p">)}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"applyTexture"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">textureTarget</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">TEXTURE_TARGET</span><span class="p">.</span><span class="nx">THUMB</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">i</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">(</span><span class="s2">"image/png"</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">setCache</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">thumbSize</span><span class="p">),</span><span class="nx">t</span><span class="p">.</span><span class="nx">texture</span><span class="o">=</span><span class="nx">a</span><span class="p">}</span><span class="k">else</span> <span class="nx">t</span><span class="p">.</span><span class="nx">texture</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">setPage</span><span class="p">(</span><span class="nx">t</span><span class="p">)}</span><span class="k">else</span> <span class="nx">t</span><span class="p">.</span><span class="nx">texture</span><span class="o">=</span><span class="nx">i</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">src</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">setPage</span><span class="p">(</span><span class="nx">t</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">processAnnotations</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getAnnotationElement</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">processTextContent</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">getTextElement</span><span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">pageNumber</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">)))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"processThumbRequest"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">thumblist</span><span class="p">.</span><span class="nx">processThumbRequest</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"refreshRequestStart"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">COUNT</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequestCount</span><span class="o">=</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"renderRequestStart"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resizeRequestStart"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"zoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomDelta</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">resize</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resetZoom"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomValue</span><span class="o">=</span><span class="mf">1.001</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoom</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"calculateLayout"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isSideMenuOpen</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"df-sidemenu-open"</span><span class="p">),</span><span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">dimensions</span><span class="p">.</span><span class="nx">padding</span><span class="p">,</span><span class="nx">o</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="p">{</span><span class="nx">top</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">left</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">||!</span><span class="nx">i</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">220</span><span class="p">,</span><span class="nx">right</span><span class="o">:!</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="mi">220</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">bottom</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">width</span><span class="o">:!</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sideMenuOverlay</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="o">?</span><span class="mi">220</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">viewerContainer</span><span class="p">.</span><span class="nx">css</span><span class="p">({</span><span class="nx">left</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">left</span><span class="p">,</span><span class="nx">right</span><span class="o">:</span><span class="nx">a</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">right</span><span class="p">});</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">controlsHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">".df-ui"</span><span class="p">).</span><span class="nx">height</span><span class="p">();</span><span class="k">if</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingTop</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">CONTROLS_POSITION</span><span class="p">.</span><span class="nx">TOP</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingLeft</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">right</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingRight</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">bottom</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">paddingBottom</span><span class="o">+</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">===</span><span class="nx">n</span><span class="p">.</span><span class="nx">CONTROLS_POSITION</span><span class="p">.</span><span class="nx">BOTTOM</span><span class="o">?</span><span class="nx">r</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">s</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">top</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">left</span><span class="o">+</span><span class="nx">s</span><span class="p">.</span><span class="nx">right</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">heightDiff</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">top</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">bottom</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">widthDiff</span><span class="o">=</span><span class="nx">s</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">s</span><span class="p">.</span><span class="nx">right</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="o">=!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="o">||!</span><span class="nx">a</span><span class="p">.</span><span class="nx">isAutoHeight</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="o">?</span><span class="nx">to</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">width</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">width</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-xs"</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">&lt;</span><span class="mi">400</span><span class="p">).</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-xss"</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">&lt;</span><span class="mi">320</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">=</span><span class="nx">o</span><span class="o">-</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">&gt;</span><span class="mi">600</span><span class="o">&amp;&amp;</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="kc">null</span><span class="o">!==</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">headerElementSelector</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="o">?</span><span class="nx">e</span><span class="o">:</span><span class="s2">"#wpadminbar"</span><span class="p">).</span><span class="nx">height</span><span class="p">())</span><span class="o">&amp;&amp;</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="o">?</span><span class="nx">t</span><span class="o">:</span><span class="mi">0</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFixedHeight</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="p">)</span><span class="nx">a</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">=</span><span class="nx">o</span><span class="p">;</span><span class="k">else</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">maxHeight</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">maxHeight</span><span class="p">)}}</span><span class="nx">a</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerWidth</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_getInnerWidth</span><span class="p">();</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_getInnerHeight</span><span class="p">(),</span><span class="nx">u</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">_getOuterHeight</span><span class="p">(</span><span class="nx">h</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerHeight</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="o">?</span><span class="nx">o</span><span class="o">:</span><span class="nx">u</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerHeight</span><span class="p">);</span><span class="kd">var</span> <span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">();</span><span class="nx">a</span><span class="p">.</span><span class="nx">isFullSize</span><span class="o">||</span><span class="nx">p</span><span class="o">==</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerHeight</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerHeight</span><span class="o">=</span><span class="nx">p</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">innerHeight</span><span class="o">=</span><span class="nx">p</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">padding</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nx">p</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">origin</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">widthDiff</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerWidth</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">left</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">right</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="p">(</span><span class="nx">s</span><span class="p">.</span><span class="nx">heightDiff</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">containerHeight</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">determinePageMode</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"resize"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=!</span><span class="p">(</span><span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">||</span><span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Resize Request Initiated"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">calculateLayout</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">handleZoom</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">resize</span><span class="p">(),</span><span class="o">!</span><span class="mi">1</span><span class="o">!==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(),</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"Pending Zoom updated"</span><span class="p">))</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">refreshRequestStart</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">renderRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">zoomChanged</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">pendingZoom</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"afterResize"</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"hasOutline"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">outline</span><span class="p">.</span><span class="nx">length</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"switchFullscreen"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">n</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s2">"df-fullscreen"</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">),(</span><span class="kc">null</span><span class="o">==</span><span class="nx">i</span><span class="o">?</span><span class="k">void</span> <span class="mi">0</span><span class="o">:</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">i</span><span class="p">.</span><span class="nx">ui</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">t</span><span class="o">?</span><span class="k">void</span> <span class="mi">0</span><span class="o">:</span><span class="kc">null</span><span class="o">===</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">controls</span><span class="p">)</span><span class="o">||</span><span class="k">void</span> <span class="mi">0</span><span class="o">===</span><span class="nx">e</span><span class="o">?</span><span class="k">void</span> <span class="mi">0</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">fullscreen</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">fullScreen</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">[</span><span class="s2">"fullscreen-off"</span><span class="p">],</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="kc">null</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">requestFullscreen</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">requestFullscreen</span><span class="p">()</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">msRequestFullscreen</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">msRequestFullscreen</span><span class="p">()</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">mozRequestFullScreen</span><span class="o">?</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">mozRequestFullScreen</span><span class="p">()</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">webkitRequestFullscreen</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">a</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">webkitRequestFullscreen</span><span class="p">()),</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">refreshRequestStatus</span><span class="p">,</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="nx">i</span><span class="p">.</span><span class="nx">resize</span><span class="p">()}),</span><span class="nx">i</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="o">=!</span><span class="mi">0</span><span class="p">}</span><span class="k">else</span> <span class="nx">i</span><span class="p">.</span><span class="nx">isFullscreen</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nb">document</span><span class="p">.</span><span class="nx">exitFullscreen</span><span class="o">?</span><span class="nb">document</span><span class="p">.</span><span class="nx">fullscreenElement</span><span class="o">&amp;&amp;</span><span class="nb">document</span><span class="p">.</span><span class="nx">exitFullscreen</span><span class="p">()</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">msExitFullscreen</span><span class="o">?</span><span class="nb">document</span><span class="p">.</span><span class="nx">msExitFullscreen</span><span class="p">()</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">mozCancelFullScreen</span><span class="o">?</span><span class="nb">document</span><span class="p">.</span><span class="nx">mozCancelFullScreen</span><span class="p">()</span><span class="o">:</span><span class="nb">document</span><span class="p">.</span><span class="nx">webkitExitFullscreen</span><span class="o">&amp;&amp;</span><span class="nb">document</span><span class="p">.</span><span class="nx">webkitExitFullscreen</span><span class="p">(),</span><span class="nx">tl</span><span class="p">.</span><span class="nx">hasFullscreenEnabled</span><span class="p">()</span><span class="o">||</span><span class="nx">i</span><span class="p">.</span><span class="nx">container</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">scrollIntoView</span><span class="p">();</span><span class="nx">tl</span><span class="p">.</span><span class="nx">hasFullscreenEnabled</span><span class="p">()</span><span class="o">||</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">resizeRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"next"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpBy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpStep</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"prev"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpBy</span><span class="p">(</span><span class="o">-</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpStep</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"jumpBy"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="nx">e</span><span class="p">;</span><span class="nx">t</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">anyFirstPageChanged</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">analytics</span><span class="p">({</span><span class="nx">eventAction</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">analyticsFirstPageChange</span><span class="p">,</span><span class="nx">options</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">anyFirstPageChanged</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"openRight"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">prev</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"openLeft"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">isRTL</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">prev</span><span class="p">()}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"start"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"end"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"gotoPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getValidPage</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="mi">10</span><span class="p">)),</span><span class="kc">null</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="o">&amp;&amp;!</span><span class="mi">1</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">validatePageChange</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"beforePageChanged"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">requestDestRefKey</span><span class="o">=</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">"df-fetch-pdf"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">oldPageNumber</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">thumbRequestStatus</span><span class="o">=</span><span class="nx">tr</span><span class="p">.</span><span class="nx">ON</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">gotoPageCallBack</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">viewer</span><span class="p">.</span><span class="nx">gotoPageCallBack</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">update</span><span class="p">(),</span><span class="o">!</span><span class="mi">0</span><span class="o">==</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlay</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">setAutoPlay</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlay</span><span class="p">),</span><span class="o">!</span><span class="mi">0</span><span class="o">===</span><span class="k">this</span><span class="p">.</span><span class="nx">hashNavigationEnabled</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">getURLHash</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onPageChanged"</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"gotoPageLabel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">gotoPage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getPageNumberForLabel</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">trim</span><span class="p">()))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getCurrentLabel"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">getLabelforPage</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"autoPlayFunction"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlay</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">tl</span><span class="p">.</span><span class="nx">limitAt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">jumpStep</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">startPage</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">endPage</span><span class="p">)</span><span class="o">!==</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">next</span><span class="p">()</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">setAutoPlay</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="p">))}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"setAutoPlay"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoPlay</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">=!</span><span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">pause</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">play</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">play</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">icons</span><span class="p">.</span><span class="nx">pause</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">play</span><span class="p">.</span><span class="nx">html</span><span class="p">(</span><span class="s2">"&lt;span&gt;"</span><span class="o">+</span><span class="nx">t</span><span class="o">+</span><span class="s2">"&lt;/span&gt;"</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">ui</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">play</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"title"</span><span class="p">,</span><span class="nx">t</span><span class="p">),</span><span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayTimer</span><span class="p">),</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayTimer</span><span class="o">=</span><span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlayFunction</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">autoPlayDuration</span><span class="p">)),</span><span class="k">this</span><span class="p">.</span><span class="nx">autoPlay</span><span class="o">=</span><span class="nx">e</span><span class="p">}}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"isValidPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">_isValidPage</span><span class="p">(</span><span class="nx">e</span><span class="p">)}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getValidPage"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nb">isNaN</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="o">?</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">:</span><span class="nx">e</span><span class="o">&lt;</span><span class="mi">1</span><span class="o">?</span><span class="nx">e</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="nx">e</span><span class="o">&gt;</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">pageCount</span><span class="p">),</span><span class="nx">e</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"getURLHash"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">getSharePrefix</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sharePrefix</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">slug</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">slug</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span><span class="o">+</span><span class="s2">"/"</span><span class="p">;</span><span class="kc">null</span><span class="o">!=</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">+=</span><span class="k">this</span><span class="p">.</span><span class="nx">currentPageNumber</span><span class="o">+</span><span class="s2">"/"</span><span class="p">),</span><span class="nx">history</span><span class="p">.</span><span class="nx">replaceState</span><span class="p">(</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="p">,</span><span class="s2">"#"</span><span class="o">+</span><span class="nx">e</span><span class="p">)}</span><span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="p">}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"executeCallback"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}},{</span><span class="nx">key</span><span class="o">:</span><span class="s2">"analytics"</span><span class="p">,</span><span class="nx">value</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){}}],</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">n</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">enumerable</span><span class="o">||!</span><span class="mi">1</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">configurable</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="s2">"value"</span><span class="k">in</span> <span class="nx">n</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">writable</span><span class="o">=!</span><span class="mi">0</span><span class="p">),</span><span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">n</span><span class="p">.</span><span class="nx">key</span><span class="p">,</span><span class="nx">n</span><span class="p">)}}(</span><span class="nx">t</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">t</span><span class="p">}();</span><span class="nx">n</span><span class="p">.</span><span class="nx">prepareOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">,(</span><span class="kc">null</span><span class="o">!=</span><span class="nx">to</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">to</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?</span><span class="nx">to</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">to</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">));</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">;</span><span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">dataElement</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">dataElement</span><span class="o">=</span><span class="nx">i</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">dataElement</span><span class="p">,</span><span class="nx">s</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">getOptions</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">o</span><span class="o">=</span><span class="nx">to</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">defaults</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">s</span><span class="p">);</span><span class="nx">o</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">fallbackOptions</span><span class="p">(</span><span class="nx">o</span><span class="p">),</span><span class="nx">tl</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">o</span><span class="p">);</span><span class="kd">var</span> <span class="nx">r</span><span class="o">=</span><span class="nx">to</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,{},</span><span class="nx">n</span><span class="p">.</span><span class="nx">_defaults</span><span class="p">,</span><span class="nx">o</span><span class="p">);</span><span class="k">return</span> <span class="nx">tl</span><span class="p">.</span><span class="nx">isMobile</span><span class="o">&amp;&amp;</span><span class="s2">"function"</span><span class="o">==</span><span class="k">typeof</span> <span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">mobileViewerType</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="nx">r</span><span class="p">.</span><span class="nx">mobileViewerType</span><span class="p">),</span><span class="s2">"function"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="p">]</span><span class="o">?</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">"Invalid Viewer Type! "</span><span class="o">+</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">+</span><span class="s2">" | Using default Viewer!"</span><span class="p">),</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">.</span><span class="k">default</span><span class="p">)</span><span class="o">:</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">viewers</span><span class="p">[</span><span class="nx">r</span><span class="p">.</span><span class="nx">viewerType</span><span class="p">],</span><span class="nx">r</span><span class="o">=</span><span class="nx">tl</span><span class="p">.</span><span class="nx">finalizeOptions</span><span class="p">(</span><span class="nx">tl</span><span class="p">.</span><span class="nx">sanitizeOptions</span><span class="p">(</span><span class="nx">r</span><span class="p">))},</span><span class="nx">n</span><span class="p">.</span><span class="nx">Application</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">prepareOptions</span><span class="p">(</span><span class="nx">e</span><span class="p">),</span><span class="nx">i</span><span class="o">=</span><span class="k">new</span> <span class="nx">th</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span><span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-app"</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">t</span><span class="p">.</span><span class="nx">id</span><span class="o">&amp;&amp;!</span><span class="mi">0</span><span class="o">!==</span><span class="nx">t</span><span class="p">.</span><span class="nx">isLightBox</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">window</span><span class="p">[</span><span class="nx">t</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">toString</span><span class="p">()]</span><span class="o">=</span><span class="nx">i</span><span class="p">),</span><span class="nx">i</span><span class="p">},</span><span class="nx">to</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">dearviewer_options</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">{}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">new</span> <span class="nx">n</span><span class="p">.</span><span class="nx">prepareOptions</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">dearviewer</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">e</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="p">{}),</span><span class="nx">e</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">to</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">new</span> <span class="nx">n</span><span class="p">.</span><span class="nx">Application</span><span class="p">(</span><span class="nx">e</span><span class="p">)}});</span><span class="kd">var</span> <span class="nx">tu</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span><span class="nx">tp</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">DFLIP</span><span class="o">=</span><span class="nb">window</span><span class="p">.</span><span class="nx">DEARFLIP</span><span class="o">=</span><span class="nx">n</span><span class="p">;</span><span class="nx">tp</span><span class="p">.</span><span class="nx">defaults</span><span class="p">.</span><span class="nx">viewerType</span><span class="o">=</span><span class="s2">"flipbook"</span><span class="p">,</span><span class="nx">tp</span><span class="p">.</span><span class="nx">slug</span><span class="o">=</span><span class="s2">"dflip"</span><span class="p">,</span><span class="nx">tp</span><span class="p">.</span><span class="nx">locationVar</span><span class="o">=</span><span class="s2">"dFlipLocation"</span><span class="p">,</span><span class="nx">tp</span><span class="p">.</span><span class="nx">locationFile</span><span class="o">=</span><span class="s2">"dflip"</span><span class="p">,</span><span class="nx">tp</span><span class="p">.</span><span class="nx">PAGE_MODE</span><span class="o">=</span><span class="p">{</span><span class="nx">SINGLE</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">DOUBLE</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">AUTO</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">SINGLE_PAGE_MODE</span><span class="o">=</span><span class="p">{</span><span class="nx">ZOOM</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">BOOKLET</span><span class="o">:</span><span class="mi">2</span><span class="p">,</span><span class="nx">AUTO</span><span class="o">:</span><span class="kc">null</span><span class="p">},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">CONTROLSPOSITION</span><span class="o">=</span><span class="p">{</span><span class="nx">HIDDEN</span><span class="o">:</span><span class="s2">"hide"</span><span class="p">,</span><span class="nx">TOP</span><span class="o">:</span><span class="s2">"top"</span><span class="p">,</span><span class="nx">BOTTOM</span><span class="o">:</span><span class="s2">"bottom"</span><span class="p">},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">DIRECTION</span><span class="o">=</span><span class="p">{</span><span class="nx">LTR</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">RTL</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">PAGE_SIZE</span><span class="o">=</span><span class="p">{</span><span class="nx">AUTO</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">SINGLE</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">DOUBLEINTERNAL</span><span class="o">:</span><span class="mi">2</span><span class="p">},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseFallBack</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">tu</span><span class="p">(</span><span class="s2">".df-posts"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"dflip-books"</span><span class="p">),</span><span class="nx">tu</span><span class="p">(</span><span class="s2">".dflip-books"</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-posts"</span><span class="p">),</span><span class="nx">tu</span><span class="p">(</span><span class="s2">"._df_button, ._df_thumb, ._df_book"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">tu</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="s2">"true"</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-parsed"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">"df-element"</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"_df_book"</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">"_df_thumb"</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-lightbox"</span><span class="p">,</span><span class="s2">"thumb"</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"thumb"</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">"df-thumb"</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"thumb"</span><span class="p">)))</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">"data-df-lightbox"</span><span class="p">,</span><span class="s2">"button"</span><span class="p">)))})},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseBooks</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseFallBack</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseElements</span><span class="p">()};</span><span class="kd">var</span> <span class="nx">tc</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">return</span> <span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nb">Array</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">.</span><span class="nx">constructor</span><span class="o">||</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span><span class="kc">null</span><span class="o">!=</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="nb">Array</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="s2">"undefined"</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">Symbol</span><span class="o">&amp;&amp;</span><span class="nx">i</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">]</span><span class="o">?!!</span><span class="nx">i</span><span class="p">[</span><span class="nx">Symbol</span><span class="p">.</span><span class="nx">hasInstance</span><span class="p">](</span><span class="nx">t</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span> <span class="k">instanceof</span> <span class="nx">i</span><span class="p">))</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">providerType</span><span class="o">=</span><span class="s2">"image"</span><span class="p">),</span><span class="kc">null</span><span class="o">!=</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">||</span><span class="s2">"true"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_COVER_TYPE</span><span class="p">.</span><span class="nx">BASIC</span><span class="o">:</span><span class="p">(</span><span class="o">!</span><span class="mi">1</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">||</span><span class="s2">"false"</span><span class="o">==</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">cover3DType</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_COVER_TYPE</span><span class="p">.</span><span class="nx">NONE</span><span class="p">)),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"1"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">||</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="s2">"2"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">||</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_INTERNAL</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">DOUBLE_COVER_BACK</span><span class="o">||</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageSize</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_SIZE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">)),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"1"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">||</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">SINGLE</span><span class="o">:</span><span class="s2">"2"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">||</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">DOUBLE</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">pageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"1"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">||</span><span class="mi">1</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">ZOOM</span><span class="o">:</span><span class="s2">"2"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">||</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">BOOKLET</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">BOOKLET</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">singlePageMode</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">FLIPBOOK_SINGLE_PAGE_MODE</span><span class="p">.</span><span class="nx">AUTO</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">&amp;&amp;</span><span class="s2">"hide"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">controlsPosition</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">CONTROLS_POSITION</span><span class="p">.</span><span class="nx">HIDDEN</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">overwritePDFOutline</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">overwritePDFOutline</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">overwritePDFOutline</span><span class="p">)),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">webgl</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">is3D</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">webgl</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">webgl</span><span class="p">,</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">webgl</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">webglShadow</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">has3DShadow</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">webglShadow</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">webglShadow</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollWheel</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">scrollWheel</span><span class="p">)</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">mouseScrollAction</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">MOUSE_SCROLL_ACTIONS</span><span class="p">.</span><span class="nx">ZOOM</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">scrollWheel</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">stiffness</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">stiffness</span><span class="p">,</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundEnable</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableSound</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">soundEnable</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">soundEnable</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableDownload</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">showDownloadControl</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">enableDownload</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">enableDownload</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableOutline</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoOpenOutline</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableOutline</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableOutline</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableThumbnail</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoOpenThumbnail</span><span class="o">=</span><span class="nx">l</span><span class="p">.</span><span class="nx">isTrue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableThumbnail</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">autoEnableThumbnail</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">direction</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="s2">"2"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">direction</span><span class="o">||</span><span class="mi">2</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">direction</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">direction</span><span class="o">===</span><span class="nx">tp</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">RTL</span><span class="o">?</span><span class="nx">e</span><span class="p">.</span><span class="nx">readDirection</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">RTL</span><span class="o">:</span><span class="nx">e</span><span class="p">.</span><span class="nx">readDirection</span><span class="o">=</span><span class="nx">tp</span><span class="p">.</span><span class="nx">READ_DIRECTION</span><span class="p">.</span><span class="nx">LTR</span><span class="p">,</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">direction</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">hard</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">hard</span><span class="p">,</span><span class="s2">"hard"</span><span class="o">===</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">flipbookHardPages</span><span class="o">=</span><span class="s2">"all"</span><span class="p">),</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">hard</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nx">e</span><span class="p">.</span><span class="nx">forceFit</span><span class="o">&amp;&amp;</span><span class="k">delete</span> <span class="nx">e</span><span class="p">.</span><span class="nx">forceFit</span><span class="p">,</span><span class="nx">l</span><span class="p">.</span><span class="nx">sanitizeOptions</span><span class="p">(</span><span class="nx">e</span><span class="p">)};</span><span class="nx">tu</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span><span class="nx">flipBook</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">){</span><span class="k">return</span> <span class="kc">null</span><span class="o">==</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">t</span><span class="o">=</span><span class="p">{}),</span><span class="nx">t</span><span class="p">.</span><span class="nx">source</span><span class="o">=</span><span class="nx">e</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">tu</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="k">new</span> <span class="nx">n</span><span class="p">.</span><span class="nx">Application</span><span class="p">(</span><span class="nx">t</span><span class="p">)}}),</span><span class="nx">tu</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">tu</span><span class="p">(</span><span class="s2">"body"</span><span class="p">);</span><span class="nx">tp</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"beforeDearFlipInit"</span><span class="p">),</span><span class="k">void</span> <span class="mi">0</span><span class="o">!==</span><span class="nb">window</span><span class="p">.</span><span class="nx">dFlipWPGlobal</span><span class="o">&amp;&amp;</span><span class="nx">tu</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="nx">tp</span><span class="p">.</span><span class="nx">defaults</span><span class="p">,</span><span class="nx">tc</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">dFlipWPGlobal</span><span class="p">)),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">initUtils</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">initControls</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">"click"</span><span class="p">,</span><span class="s2">".df-element[data-df-lightbox],.df-element[data-lightbox]"</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">tu</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">openLightBox</span><span class="p">(</span><span class="nx">t</span><span class="p">)}),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">checkBrowserURLforDefaults</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseCSSElements</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseFallBack</span><span class="p">(),</span><span class="nx">l</span><span class="p">.</span><span class="nx">detectHash</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">parseNormalElements</span><span class="p">(),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">checkBrowserURLforPDF</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">tp</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"afterDearFlipInit"</span><span class="p">)}),</span><span class="nx">l</span><span class="p">.</span><span class="nx">finalizeOptions</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span><span class="k">return</span> <span class="nx">tc</span><span class="p">(</span><span class="nx">e</span><span class="p">)},</span><span class="nx">tp</span><span class="p">.</span><span class="nx">executeCallback</span><span class="p">(</span><span class="s2">"onDearFlipLoad"</span><span class="p">)}()}();</span></td></tr></tbody></table>

      </div>
      <div id="anydiff">
        <form action="/diff" method="get">
          <div style="display:none;"><input type="text" name="sfp_email" value="" /><input type="hidden" name="sfph_mail" value="" /></div><div class="buttons">
            <input type="hidden" name="new_path" value="/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" />
            <input type="hidden" name="old_path" value="/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js" />
            <input type="hidden" name="new_rev" />
            <input type="hidden" name="old_rev" />
            <input type="submit" value="View changes..." title="Select paths and revs for Diff" />
          </div>
        </form>
      </div>
      <div id="help"><strong>Note:</strong> See <a href="/wiki/TracBrowser">TracBrowser</a>
        for help on using the repository browser.</div>
    </div>
    <div id="altlinks">
    <a class="preferences-link" href="/prefs">Trac UI Preferences</a>
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="/browser/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js?format=txt">Plain Text</a>
        </li><li class="last">
          <a rel="nofollow" href="/export/3220810/3d-flipbook-dflip-lite/trunk/assets/js/dflip.min.js">Original Format</a>
        </li>
      </ul>
</div>
    </div>
	<footer class="global-footer wp-block-group wp-block-wporg-global-footer">
<div class="wp-block-group global-footer__navigation-container is-layout-flow wp-block-group-is-layout-flow">
	<nav class="global-footer__navigation-important wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/"><span class="wp-block-navigation-item__label">About</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/news/"><span class="wp-block-navigation-item__label">News</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/hosting/"><span class="wp-block-navigation-item__label">Hosting</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpressfoundation.org/donate/"><span class="wp-block-navigation-item__label">Donate</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://mercantile.wordpress.org/"><span class="wp-block-navigation-item__label">Swag</span></a></li></ul></nav>
	<nav class="global-footer__navigation-information wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/documentation/"><span class="wp-block-navigation-item__label">Documentation</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://developer.wordpress.org/"><span class="wp-block-navigation-item__label">Developers</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://make.wordpress.org/"><span class="wp-block-navigation-item__label">Get Involved</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://learn.wordpress.org/"><span class="wp-block-navigation-item__label">Learn</span></a></li></ul></nav>
	<nav class="global-footer__navigation-resources wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/showcase/"><span class="wp-block-navigation-item__label">Showcase</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/plugins/"><span class="wp-block-navigation-item__label">Plugins</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/themes/"><span class="wp-block-navigation-item__label">Themes</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/patterns/"><span class="wp-block-navigation-item__label">Patterns</span></a></li></ul></nav>
	<nav class="global-footer__navigation-community wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://central.wordcamp.org/"><span class="wp-block-navigation-item__label">WordCamp</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.tv/"><span class="wp-block-navigation-item__label">WordPress.TV</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://buddypress.org/"><span class="wp-block-navigation-item__label">BuddyPress</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://bbpress.org/"><span class="wp-block-navigation-item__label">bbPress</span></a></li></ul></nav>
	<nav class="global-footer__navigation-external wp-block-navigation is-layout-flex wp-block-navigation-is-layout-flex" aria-label=""><ul class="wp-block-navigation__container"><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.com/?ref=wporg-footer"><span class="wp-block-navigation-item__label">WordPress.com</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://ma.tt/"><span class="wp-block-navigation-item__label">Matt</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://wordpress.org/about/privacy/"><span class="wp-block-navigation-item__label">Privacy</span></a></li><li class=" wp-block-navigation-item wp-block-navigation-link"><a class="wp-block-navigation-item__content" href="https://publiccode.eu/"><span class="wp-block-navigation-item__label">Public Code</span></a></li></ul></nav>
</div>
<div class="wp-block-group global-footer__logos-container is-layout-flow wp-block-group-is-layout-flow">
	<div class="wp-block-group is-content-justification-left is-nowrap is-layout-flex wp-container-19 wp-block-group-is-layout-flex">
			<figure class="wp-block-image global-footer__wporg-logo-mark">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="28" height="28" viewbox="0 0 28 28">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M13.6052 0.923525C16.1432 0.923525 18.6137 1.67953 20.7062 3.09703C22.7447 4.47403 24.3512 6.41803 25.3097 8.68603C26.9837 12.6415 26.5382 17.164 24.1352 20.7145C22.7582 22.753 20.8142 24.3595 18.5462 25.318C14.5907 26.992 10.0682 26.5465 6.51772 24.1435C4.47922 22.7665 2.87272 20.8225 1.91422 18.5545C0.240225 14.599 0.685725 10.0765 3.08872 6.52603C4.46572 4.48753 6.40973 2.88103 8.67772 1.92253C10.2302 1.26103 11.9177 0.923525 13.6052 0.923525ZM13.6052 0.113525C6.15322 0.113525 0.105225 6.16153 0.105225 13.6135C0.105225 21.0655 6.15322 27.1135 13.6052 27.1135C21.0572 27.1135 27.1052 21.0655 27.1052 13.6135C27.1052 6.16153 21.0572 0.113525 13.6052 0.113525Z"></path>
	<path fill="currentColor" d="M2.36011 13.6133C2.36011 17.9198 4.81711 21.8618 8.70511 23.7383L3.33211 9.03684C2.68411 10.4813 2.36011 12.0338 2.36011 13.6133ZM21.2061 13.0463C21.2061 11.6558 20.7066 10.6973 20.2746 9.94134C19.8426 9.18534 19.1676 8.22684 19.1676 7.30884C19.1676 6.39084 19.9506 5.31084 21.0576 5.31084H21.2061C16.6296 1.11234 9.51511 1.42284 5.31661 6.01284C4.91161 6.45834 4.53361 6.93084 4.20961 7.43034H4.93861C6.11311 7.43034 7.93561 7.28184 7.93561 7.28184C8.54311 7.24134 8.61061 8.13234 8.00311 8.21334C8.00311 8.21334 7.39561 8.28084 6.72061 8.32134L10.8111 20.5118L13.2681 13.1273L11.5131 8.32134C10.9056 8.28084 10.3386 8.21334 10.3386 8.21334C9.73111 8.17284 9.79861 7.25484 10.4061 7.28184C10.4061 7.28184 12.2691 7.43034 13.3626 7.43034C14.4561 7.43034 16.3596 7.28184 16.3596 7.28184C16.9671 7.24134 17.0346 8.13234 16.4271 8.21334C16.4271 8.21334 15.8196 8.28084 15.1446 8.32134L19.2081 20.4173L20.3691 16.7453C20.8821 15.1388 21.1926 14.0048 21.1926 13.0328L21.2061 13.0463ZM13.7946 14.5853L10.4196 24.3998C12.6876 25.0613 15.1041 25.0073 17.3316 24.2243L17.2506 24.0758L13.7946 14.5853ZM23.4741 8.21334C23.5281 8.59134 23.5551 8.98284 23.5551 9.37434C23.5551 10.5218 23.3391 11.8043 22.7046 13.3973L19.2621 23.3333C24.5271 20.2688 26.4036 13.5593 23.4741 8.21334Z"></path>
</svg>				</a>
			</figure>
			<figure class="wp-block-image global-footer__wporg-logo-full">
				<a href="https://wordpress.org/">
					<svg xmlns="http://www.w3.org/2000/svg" role="img" width="329" height="52" viewbox="0 0 329 52">
	<title>WordPress.org</title>
	<path fill="currentColor" d="M4.33 26a21.68 21.68 0 0 0 12.22 19.5L6.21 17.18A21.66 21.66 0 0 0 4.33 26ZM26.38 27.89l-6.5 18.89a21.31 21.31 0 0 0 6.12.89 21.77 21.77 0 0 0 7.2-1.23 1.429 1.429 0 0 1-.16-.3l-6.66-18.25Z"></path>
	<path fill="currentColor" d="M26 0a26 26 0 1 0 0 52 26 26 0 0 0 0-52Zm20.27 39.66a24.47 24.47 0 0 1-29.78 8.86 24.49 24.49 0 0 1-13-13 24.4 24.4 0 0 1 5.23-26.8 24.46 24.46 0 0 1 26.79-5.24 24.49 24.49 0 0 1 13 13 24.42 24.42 0 0 1-2.25 23.17l.01.01Z"></path>
	<path fill="currentColor" d="M45 15.61c.103.736.153 1.477.15 2.22a20.38 20.38 0 0 1-1.65 7.76l-6.61 19.14A21.65 21.65 0 0 0 45 15.61ZM40.63 24.91a11.45 11.45 0 0 0-1.79-6c-1.1-1.78-2.13-3.29-2.13-5.08A3.76 3.76 0 0 1 40.35 10h.28A21.65 21.65 0 0 0 7.9 14.1h1.39c2.27 0 5.78-.27 5.78-.27a.9.9 0 0 1 .13 1.79s-1.17.13-2.47.2l7.88 23.47 4.75-14.22L22 15.84c-1.17-.07-2.27-.2-2.27-.2a.9.9 0 0 1 .14-1.79s3.57.27 5.7.27c2.13 0 5.78-.27 5.78-.27a.9.9 0 0 1 .14 1.79s-1.18.13-2.48.2l7.83 23.29 2.23-7.08a25.171 25.171 0 0 0 1.56-7.14ZM145.83 19.3h-10.34v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85-2.48-.35-4.16-1.68-6.47-4.22l-2.66-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.24 0 3.76.69 3.76 4.79v7.4c0 4.1-.52 4.85-3.76 4.85v1.1h11.5v-1.1c-3.24 0-3.76-.75-3.76-4.85v-2.08h1l6.42 8h16.81c8.26 0 11.85-4.39 11.85-9.65 0-5.26-3.61-9.56-11.87-9.56Zm-24.21 9.42V21H124a3.551 3.551 0 0 1 3.76 3.87 3.536 3.536 0 0 1-3.76 3.85h-2.38Zm24.38 8h-.4c-2.08 0-2.37-.52-2.37-3.18V21H146c6 0 7.11 4.39 7.11 7.8S152 36.75 146 36.75v-.03ZM93.49 13.52H82.62v1.16c3.7 0 4.22 1 3.07 4.39l-4 11.78L76 13.52h-1.1l-5.85 17.33-3.87-11.78c-1.22-3.59-.29-4.39 3.12-4.39v-1.16H55.47v1.16c3.35 0 4.28.86 5.66 5.08l6.42 19.76h.75l6-18.08 5.9 18.08h.8l6.59-19.76c1.44-4.22 2.31-5.08 5.95-5.08l-.05-1.16ZM101.34 18.55c-6.35 0-11.55 4.68-11.55 10.34s5.2 10.4 11.55 10.4c6.35 0 11.56-4.68 11.56-10.4 0-5.72-5.2-10.34-11.56-10.34Zm0 18.89c-5.31 0-7.16-4.74-7.16-8.55 0-3.81 1.85-8.55 7.16-8.55 5.31 0 7.23 4.79 7.23 8.55 0 3.76-1.85 8.55-7.23 8.55ZM170.67 13.52h-12v1.16c3.88 0 4.57.92 4.57 6.7v9.24c0 5.78-.69 6.76-4.57 6.76v1.16H172v-1.16c-3.88 0-4.57-1-4.57-6.76v-2.83h3.29c6 0 9.25-3.12 9.25-7.11s-3.35-7.16-9.3-7.16Zm0 12.13h-3.29v-10h3.29c3.24 0 4.74 2.31 4.74 5.08s-1.5 4.92-4.74 4.92ZM219.32 34.15c-.52 1.9-1.15 2.6-5.26 2.6h-.81c-3 0-3.52-.7-3.52-4.8v-2.66c4.51 0 4.85.41 4.85 3.41h1.1v-8.61h-1.1c0 3-.34 3.41-4.85 3.41V21h3.18c4.1 0 4.74.69 5.26 2.6l.28 1.1h.93l-.38-5.4h-17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 3.75-.44 4.69-3 4.83-2.42-.37-4.09-1.69-6.37-4.2l-2.65-2.89c3.58-.63 5.49-2.89 5.49-5.43 0-3.18-2.72-5.6-7.8-5.6h-10.17v1.1c3.23 0 3.75.69 3.75 4.79v7.4c0 4.1-.52 4.85-3.75 4.85v1.1h11.49v-1.1c-3.23 0-3.75-.75-3.75-4.85v-2.08h1l6.41 8h23.75l.35-5.43h-.87l-.31 1.07ZM189 28.72V21h2.37a3.542 3.542 0 0 1 3.75 3.87 3.532 3.532 0 0 1-.998 2.77 3.532 3.532 0 0 1-2.752 1.05l-2.37.03ZM234.52 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85h-1.09a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7-2.54 7-6.18.07-1.77-1.03-3.9-3.8-5.23ZM252 27.91l-3.18-1.56c-2.78-1.27-4-2.08-4-3.59 0-1.51 1.5-2.36 3.12-2.36 3.06 0 4.57 2.25 5 5h1.21v-6.85H253a3.415 3.415 0 0 1-.75 1.56 7.25 7.25 0 0 0-4.51-1.5c-3.58 0-6.18 2.36-6.18 5.14 0 2.54 1.73 4.45 4 5.54l3.29 1.56c2.37 1.1 3.7 2.26 3.7 3.76 0 1.73-1.5 2.77-3.35 2.77-3.41 0-6.07-2.25-6.53-6.06h-1.15v8h1.09a4.194 4.194 0 0 1 .93-2 8.481 8.481 0 0 0 5.2 2c3.87 0 7.05-2.54 7.05-6.18.07-1.77-1.03-3.9-3.79-5.23ZM277.56 18.75a10.481 10.481 0 0 0-10.68 10.17 10.47 10.47 0 0 0 10.68 10.16c5.9 0 10.71-4.58 10.71-10.16s-4.81-10.17-10.71-10.17Zm0 19c-5.52 0-7.63-4.91-7.63-8.88 0-3.97 2.07-8.87 7.63-8.87 5.56 0 7.66 4.94 7.66 8.92 0 3.98-2.11 8.88-7.66 8.88v-.05ZM301.71 33.79l-3.14-3.69c3.63-.38 5.71-2.59 5.71-5.38 0-3-2.44-5.42-6.89-5.42h-8.47v.7c2.66 0 3.05.51 3.05 3.72v10.39c0 3.21-.39 3.76-3.05 3.76v.67h8.66v-.67c-2.66 0-3.05-.55-3.05-3.76v-4H296l6.35 8.44h5.29v-.67c-1.88-.24-4.03-1.88-5.93-4.09ZM294.53 29v-8.52h2.82c2.79 0 4.08 1.93 4.08 4.24 0 2.31-1.29 4.28-4.08 4.28h-2.82ZM319.6 30.59v.64c2.21 0 3 .7 3 2.08 0 2.89-2.5 4.39-5.29 4.39-5.93 0-7.6-4.81-7.6-8.78 0-3.97 1.86-8.92 7-8.92 3.59 0 6.09 2.54 7 6.7h.64v-7h-.64a3.281 3.281 0 0 1-1.09 1.83 8.203 8.203 0 0 0-6-2.73 10.167 10.167 0 0 0-9.851 10.165 10.169 10.169 0 0 0 9.851 10.165c3.34 0 4.78-1.66 8.34-1.66V35c0-3.21.39-3.75 3.05-3.75v-.64l-8.41-.02ZM261.9 34.77a2.061 2.061 0 1 0 .288 4.112 2.061 2.061 0 0 0-.288-4.112Z"></path>
</svg>				</a>
			</figure>
			</div>
	<ul class="wp-block-social-links is-style-logos-only is-layout-flex wp-block-social-links-is-layout-flex">
		<li class="wp-social-link wp-social-link-facebook wp-block-social-link"><a href="https://www.facebook.com/WordPress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12 2C6.5 2 2 6.5 2 12c0 5 3.7 9.1 8.4 9.9v-7H7.9V12h2.5V9.8c0-2.5 1.5-3.9 3.8-3.9 1.1 0 2.2.2 2.2.2v2.5h-1.3c-1.2 0-1.6.8-1.6 1.6V12h2.8l-.4 2.9h-2.3v7C18.3 21.1 22 17 22 12c0-5.5-4.5-10-10-10z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Facebook page</span></a></li>
		<li class="wp-social-link wp-social-link-twitter wp-block-social-link"><a href="https://twitter.com/WordPress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M22.23,5.924c-0.736,0.326-1.527,0.547-2.357,0.646c0.847-0.508,1.498-1.312,1.804-2.27 c-0.793,0.47-1.671,0.812-2.606,0.996C18.324,4.498,17.257,4,16.077,4c-2.266,0-4.103,1.837-4.103,4.103 c0,0.322,0.036,0.635,0.106,0.935C8.67,8.867,5.647,7.234,3.623,4.751C3.27,5.357,3.067,6.062,3.067,6.814 c0,1.424,0.724,2.679,1.825,3.415c-0.673-0.021-1.305-0.206-1.859-0.513c0,0.017,0,0.034,0,0.052c0,1.988,1.414,3.647,3.292,4.023 c-0.344,0.094-0.707,0.144-1.081,0.144c-0.264,0-0.521-0.026-0.772-0.074c0.522,1.63,2.038,2.816,3.833,2.85 c-1.404,1.1-3.174,1.756-5.096,1.756c-0.331,0-0.658-0.019-0.979-0.057c1.816,1.164,3.973,1.843,6.29,1.843 c7.547,0,11.675-6.252,11.675-11.675c0-0.178-0.004-0.355-0.012-0.531C20.985,7.47,21.68,6.747,22.23,5.924z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Twitter account</span></a></li>
		<li class="wp-social-link wp-social-link-instagram wp-block-social-link"><a href="https://www.instagram.com/wordpress/" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M12,4.622c2.403,0,2.688,0.009,3.637,0.052c0.877,0.04,1.354,0.187,1.671,0.31c0.42,0.163,0.72,0.358,1.035,0.673 c0.315,0.315,0.51,0.615,0.673,1.035c0.123,0.317,0.27,0.794,0.31,1.671c0.043,0.949,0.052,1.234,0.052,3.637 s-0.009,2.688-0.052,3.637c-0.04,0.877-0.187,1.354-0.31,1.671c-0.163,0.42-0.358,0.72-0.673,1.035 c-0.315,0.315-0.615,0.51-1.035,0.673c-0.317,0.123-0.794,0.27-1.671,0.31c-0.949,0.043-1.233,0.052-3.637,0.052 s-2.688-0.009-3.637-0.052c-0.877-0.04-1.354-0.187-1.671-0.31c-0.42-0.163-0.72-0.358-1.035-0.673 c-0.315-0.315-0.51-0.615-0.673-1.035c-0.123-0.317-0.27-0.794-0.31-1.671C4.631,14.688,4.622,14.403,4.622,12 s0.009-2.688,0.052-3.637c0.04-0.877,0.187-1.354,0.31-1.671c0.163-0.42,0.358-0.72,0.673-1.035 c0.315-0.315,0.615-0.51,1.035-0.673c0.317-0.123,0.794-0.27,1.671-0.31C9.312,4.631,9.597,4.622,12,4.622 M12,3 C9.556,3,9.249,3.01,8.289,3.054C7.331,3.098,6.677,3.25,6.105,3.472C5.513,3.702,5.011,4.01,4.511,4.511 c-0.5,0.5-0.808,1.002-1.038,1.594C3.25,6.677,3.098,7.331,3.054,8.289C3.01,9.249,3,9.556,3,12c0,2.444,0.01,2.751,0.054,3.711 c0.044,0.958,0.196,1.612,0.418,2.185c0.23,0.592,0.538,1.094,1.038,1.594c0.5,0.5,1.002,0.808,1.594,1.038 c0.572,0.222,1.227,0.375,2.185,0.418C9.249,20.99,9.556,21,12,21s2.751-0.01,3.711-0.054c0.958-0.044,1.612-0.196,2.185-0.418 c0.592-0.23,1.094-0.538,1.594-1.038c0.5-0.5,0.808-1.002,1.038-1.594c0.222-0.572,0.375-1.227,0.418-2.185 C20.99,14.751,21,14.444,21,12s-0.01-2.751-0.054-3.711c-0.044-0.958-0.196-1.612-0.418-2.185c-0.23-0.592-0.538-1.094-1.038-1.594 c-0.5-0.5-1.002-0.808-1.594-1.038c-0.572-0.222-1.227-0.375-2.185-0.418C14.751,3.01,14.444,3,12,3L12,3z M12,7.378 c-2.552,0-4.622,2.069-4.622,4.622S9.448,16.622,12,16.622s4.622-2.069,4.622-4.622S14.552,7.378,12,7.378z M12,15 c-1.657,0-3-1.343-3-3s1.343-3,3-3s3,1.343,3,3S13.657,15,12,15z M16.804,6.116c-0.596,0-1.08,0.484-1.08,1.08 s0.484,1.08,1.08,1.08c0.596,0,1.08-0.484,1.08-1.08S17.401,6.116,16.804,6.116z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our Instagram account</span></a></li>
		<li class="wp-social-link wp-social-link-linkedin wp-block-social-link"><a href="https://www.linkedin.com/company/wordpress" class="wp-block-social-link-anchor"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" version="1.1" aria-hidden="true" focusable="false"><path d="M19.7,3H4.3C3.582,3,3,3.582,3,4.3v15.4C3,20.418,3.582,21,4.3,21h15.4c0.718,0,1.3-0.582,1.3-1.3V4.3 C21,3.582,20.418,3,19.7,3z M8.339,18.338H5.667v-8.59h2.672V18.338z M7.004,8.574c-0.857,0-1.549-0.694-1.549-1.548 c0-0.855,0.691-1.548,1.549-1.548c0.854,0,1.547,0.694,1.547,1.548C8.551,7.881,7.858,8.574,7.004,8.574z M18.339,18.338h-2.669 v-4.177c0-0.996-0.017-2.278-1.387-2.278c-1.389,0-1.601,1.086-1.601,2.206v4.249h-2.667v-8.59h2.559v1.174h0.037 c0.356-0.675,1.227-1.387,2.526-1.387c2.703,0,3.203,1.779,3.203,4.092V18.338z"></path></svg><span class="wp-block-social-link-label screen-reader-text">Visit our LinkedIn account</span></a></li>
	</ul>
		<figure class="wp-block-image is-resized global-footer__code_is_poetry">
			<img src="https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg" alt="Code is Poetry" width="188" height="13" />
		</figure>
	</div>
</footer>		<script>//<![CDATA[
			( function() {
				var skipLink = document.getElementById( 'wporg-skip-link' ),
					skipLinkTarget, skipLinkTargetID;
				if ( ! skipLink ) {
					return;
				}
				skipLinkTarget = document.querySelector( skipLink.dataset.selector );
				if ( ! skipLinkTarget ) {
					skipLink.remove();
					return;
				}
				skipLinkTargetID = skipLinkTarget.id;
				if ( ! skipLinkTargetID ) {
					skipLinkTargetID = 'wp--skip-link--target';
					skipLinkTarget.id = skipLinkTargetID;
				}
				skipLink.href = '#' + skipLinkTargetID;
				skipLink.tabIndex = '';
			}() );
//]]></script>
		<style id="core-block-supports-inline-css" type="text/css">
.wp-container-6.wp-container-6{flex-direction:column;align-items:flex-start;}.wp-container-19.wp-container-19{flex-wrap:nowrap;justify-content:flex-start;}
</style>
<script type="text/javascript" id="wporg-global-header-script-js-extra">//<![CDATA[
/* <![CDATA[ */
var wporgGlobalHeaderI18n = {"openSearchLabel":"Open Search","closeSearchLabel":"Close Search","overflowMenuLabel":"More menu"};
/* ]]]]><![CDATA[> */
//]]></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/plugins/jetpack/_inc/build/photon/photon.min.js?ver=20191001" id="jetpack-photon-js"></script>
<script type="text/javascript" src="https://s.w.org/wp-content/themes/pub/wporg/js/skip-link-focus-fix.min.js?ver=20151215" id="wporg-plugins-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="https://wordpress.org/wp-content/mu-plugins/pub-sync/blocks/global-header-footer/js/view.js?ver=1659374792" id="wporg-global-header-script-js"></script>
	<script>
	var wpTracCurrentUser = "anonymous";
	</script>
	<script src="https://s.w.org/style/js/navigation.min.js?20190128"></script>
	<script src="https://s.w.org/style/trac/jquery.caret.min.js?ver=2015-02-01"></script>
	<script src="https://s.w.org/style/trac/jquery.atwho.min.js?ver=1.0.1"></script>
	<script src="https://s.w.org/style/trac/wp-trac.js?212"></script>
</body>
</html>