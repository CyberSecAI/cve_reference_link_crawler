
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcurl%2Fcurl%2Fissues%2F9271)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fcurl%2Fcurl%2Fissues%2F9271)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=curl%2Fcurl)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[curl](/curl)
/
**[curl](/curl/curl)**
Public

* [Notifications](/login?return_to=%2Fcurl%2Fcurl) You must be signed in to change notification settings
* [Fork
  6.5k](/login?return_to=%2Fcurl%2Fcurl)
* [Star
   36.5k](/login?return_to=%2Fcurl%2Fcurl)

* [Code](/curl/curl)
* [Issues
  13](/curl/curl/issues)
* [Pull requests
  23](/curl/curl/pulls)
* [Discussions](/curl/curl/discussions)
* [Actions](/curl/curl/actions)
* [Wiki](/curl/curl/wiki)
* [Security](/curl/curl/security)
* [Insights](/curl/curl/pulse)

Additional navigation options

* [Code](/curl/curl)
* [Issues](/curl/curl/issues)
* [Pull requests](/curl/curl/pulls)
* [Discussions](/curl/curl/discussions)
* [Actions](/curl/curl/actions)
* [Wiki](/curl/curl/wiki)
* [Security](/curl/curl/security)
* [Insights](/curl/curl/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fcurl%2Fcurl%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fcurl%2Fcurl%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Test 224 fails with CVE-2022-37434 patched zlib #9271

Closed

[winterqt](/winterqt) opened this issue
Aug 7, 2022
¬∑ 12 comments

Closed

# [Test 224 fails with CVE-2022-37434 patched zlib](#top) #9271

[winterqt](/winterqt) opened this issue
Aug 7, 2022
¬∑ 12 comments

Assignees
[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&v=4)](/bagder)

Labels
[crash](/curl/curl/labels/crash)
[not-a-curl-bug](/curl/curl/labels/not-a-curl-bug)
This is not a bug in curl
[tests](/curl/curl/labels/tests)

## Comments

[![@winterqt](https://avatars.githubusercontent.com/u/78392041?s=80&u=b4544fe1ca44da11ded38d89819cf01e0b42e47c&v=4)](/winterqt)

Copy link

### **[winterqt](/winterqt)** commented [Aug 7, 2022](#issue-1331154166) ‚Ä¢ edited Loading

| I did this Using zlib v1.2.12 [patched](https://github.com/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1) for [CVE-2022-37434](https://nvd.nist.gov/vuln/detail/CVE-2022-37434):  ``` make test # or... cd tests ./runtests.pl 224  test 0224...[HTTP GET gzip compressed content with huge comment and extra field]   224: data FAILED: --- log/check-expected	2022-08-07 23:29:39.568010972 +0000 +++ log/check-generated	2022-08-07 23:29:39.568010972 +0000 @@ -1,9 +0,0 @@ -HTTP/1.1 200 OK[CR][LF] -Date: Mon, 29 Nov 2004 21:56:53 GMT[CR][LF] -Server: Apache/1.3.31 (Debian GNU/Linux) mod_gzip/1.3.26.1a PHP/4.3.9-1 mod_ssl/2.8.20 OpenSSL/0.9.7d mod_perl/1.29[CR][LF] -Vary: Accept-Encoding[CR][LF] -Content-Type: text/html; charset=ISO-8859-1[CR][LF] -Content-Encoding: gzip[CR][LF] -Content-Length: 2186[CR][LF] -[CR][LF] -uncompressed gzip data with long gzip header[LF] ```  I've also seen this test failure accompanied by a segfault, but this only happens within a sandbox (which uses the Linux kernel's namespacing feature):  ``` test 0224...core dumped FAILED  ``` I expected the following For the test to succeed. curl/libcurl version 7.84.0 operating system ``` Linux 5.15.43 #1-NixOS SMP Wed May 25 12:42:07 UTC 2022 aarch64 GNU/Linux  ```  This very much could be a zlib issue since the patch in question hasn't made it into a release yet, but I'm going to leave this open just in case it's not; feel free to close. |
| --- |
| The text was updated successfully, but these errors were encountered: |

 üëÄ
1
 Neustradamus reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)
[bagder](/bagder)
added
[crash](/curl/curl/labels/crash)
[tests](/curl/curl/labels/tests)
labels
[Aug 8, 2022](#event-7144214249)

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)
[bagder](/bagder)
self-assigned this
[Aug 8, 2022](#event-7144228212)

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=80&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)

Copy link

Member

### **[bagder](/bagder)** commented [Aug 8, 2022](#issuecomment-1207734039)

| I can reproduce the crash when [madler/zlib@eff308a](https://github.com/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1) is present and I can confirm that this test case makes zlib:inflate() segfault.  ``` Breakpoint 1, inflate_stream (data=0x55555573cb68, writer=0x55555577fd08, started=ZLIB_INIT_GZIP) at content_encoding.c:198 198         status = inflate(z, Z_BLOCK); (gdb) n  Program received signal SIGSEGV, Segmentation fault. 0x00007ffff7cedc7d in inflate () from /home/daniel/build-zlib/lib/libz.so.1 (gdb)   ``` |
| --- |

All reactions

Sorry, something went wrong.

[bagder](/bagder)
referenced
this issue
in madler/zlib
[Aug 8, 2022](#ref-commit-eff308a)

`[Fix a bug when getting a gzip header extra field with inflate().](/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1 "Fix a bug when getting a gzip header extra field with inflate().

If the extra field was larger than the space the user provided with
inflateGetHeader(), and if multiple calls of inflate() delivered
the extra header data, then there could be a buffer overflow of the
provided space. This commit assures that provided space is not
exceeded.")`
‚Ä¶

`[eff308a](/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1)`

```
If the extra field was larger than the space the user provided with
inflateGetHeader(), and if multiple calls of inflate() delivered
the extra header data, then there could be a buffer overflow of the
provided space. This commit assures that provided space is not
exceeded.
```

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=80&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)

Copy link

Member

### **[bagder](/bagder)** commented [Aug 8, 2022](#issuecomment-1207734854)

| This is a zlib issue. |
| --- |

 üëç
3
 risicle, emanuele6, and jay reacted with thumbs up emoji

All reactions

* üëç
  3 reactions

Sorry, something went wrong.

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)
[bagder](/bagder)
added
the
[not-a-curl-bug](/curl/curl/labels/not-a-curl-bug)
This is not a bug in curl
label
[Aug 8, 2022](#event-7144362791)

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=80&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)

Copy link

Member

### **[bagder](/bagder)** commented [Aug 8, 2022](#issuecomment-1208148626)

| Since this is a bug in zlib causing the crash and not in curl, I'm closing. |
| --- |

All reactions

Sorry, something went wrong.

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)
[bagder](/bagder)
closed this as [completed](/curl/curl/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Aug 8, 2022](#event-7147226771)

[![@Neustradamus](https://avatars.githubusercontent.com/u/104737?s=40&u=24b53dd7f97ac2811160705ccb58495692e6eb6c&v=4)](/Neustradamus)
[Neustradamus](/Neustradamus)
mentioned this issue
[Aug 8, 2022](#ref-issue-1323540821)

[Please make new release
madler/zlib#686](/madler/zlib/issues/686)

Closed

[![@madler](https://avatars.githubusercontent.com/u/240717?s=80&v=4)](/madler)

Copy link

### **[madler](/madler)** commented [Aug 8, 2022](#issuecomment-1208447302)

| Thanks for the report. Should be fixed in [madler/zlib@1eb7682](https://github.com/madler/zlib/commit/1eb7682f845ac9e9bf9ae35bbfb3bad5dacbd91d) . |
| --- |

 ‚ù§Ô∏è
5
 risicle, emanuele6, winterqt, bagder, and ynezz reacted with heart emoji
 üëÄ
1
 Laughter79 reacted with eyes emoji

All reactions

* ‚ù§Ô∏è
  5 reactions
* üëÄ
  1 reaction

Sorry, something went wrong.

[![@winterqt](https://avatars.githubusercontent.com/u/78392041?s=40&u=b4544fe1ca44da11ded38d89819cf01e0b42e47c&v=4)](/winterqt)
[winterqt](/winterqt)
mentioned this issue
[Aug 8, 2022](#ref-pullrequest-1332243760)

[zlib: add fixed patch for CVE-2022-37434
NixOS/nixpkgs#185693](/NixOS/nixpkgs/pull/185693)
 Merged

13 tasks

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=80&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)

Copy link

Member

### **[bagder](/bagder)** commented [Aug 8, 2022](#issuecomment-1208632977)

| [@madler](https://github.com/madler) the current develop branch is confirmed to work fine for me with curl test 224 ‚úîÔ∏è |
| --- |

 üëÄ
1
 Laughter79 reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

Sorry, something went wrong.

[![@madler](https://avatars.githubusercontent.com/u/240717?s=80&v=4)](/madler)

Copy link

### **[madler](/madler)** commented [Aug 8, 2022](#issuecomment-1208637328)

| [@bagder](https://github.com/bagder) Excellent, thanks! |
| --- |

 üëÄ
1
 Laughter79 reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

Sorry, something went wrong.

[![@winterqt](https://avatars.githubusercontent.com/u/78392041?s=80&u=b4544fe1ca44da11ded38d89819cf01e0b42e47c&v=4)](/winterqt)

Copy link

Author

### **[winterqt](/winterqt)** commented [Aug 9, 2022](#issuecomment-1208827754)

| [@madler](https://github.com/madler) I and others have also confirmed that this fixes not only the curl issues, but other software as well. Thank you for the quick response! |
| --- |

 üëÄ
1
 Laughter79 reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

Sorry, something went wrong.

[![@madler](https://avatars.githubusercontent.com/u/240717?s=80&v=4)](/madler)

Copy link

### **[madler](/madler)** commented [Aug 9, 2022](#issuecomment-1208859894)

| Thank you for the confirmations of the fix. |
| --- |

 üëÄ
1
 Laughter79 reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

Sorry, something went wrong.

[jow-](/jow-)
pushed a commit
to lede-project/source
that referenced
this issue
[Aug 9, 2022](#ref-commit-f443e9d)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz)

`[zlib: backport null dereference fix](/lede-project/source/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[f443e9d](/lede-project/source/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/lede-project/source/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/lede-project/source/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[jow-](/jow-)
pushed a commit
to openwrt/openwrt
that referenced
this issue
[Aug 9, 2022](#ref-commit-707ec48)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz)

`[zlib: backport null dereference fix](/openwrt/openwrt/commit/707ec48ab3db6d08bd022df1bc720aee68b3b99d "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit f443e9de7003c00a935b9ea12f168e09e83b48cd)")`
‚Ä¶

`[707ec48](/openwrt/openwrt/commit/707ec48ab3db6d08bd022df1bc720aee68b3b99d)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/openwrt/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/openwrt/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit [f443e9d](https://github.com/openwrt/openwrt/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd))
```

[jow-](/jow-)
pushed a commit
to openwrt/openwrt
that referenced
this issue
[Aug 9, 2022](#ref-commit-b93327c)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz)

`[zlib: backport null dereference fix](/openwrt/openwrt/commit/b93327c4692e605649ff1afade98899a9c4aa1ca "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit f443e9de7003c00a935b9ea12f168e09e83b48cd)
(cherry picked from commit 707ec48ab3db6d08bd022df1bc720aee68b3b99d)")`
‚Ä¶

`[b93327c](/openwrt/openwrt/commit/b93327c4692e605649ff1afade98899a9c4aa1ca)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/openwrt/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/openwrt/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit [f443e9d](https://github.com/openwrt/openwrt/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd))
(cherry picked from commit [707ec48](https://github.com/openwrt/openwrt/commit/707ec48ab3db6d08bd022df1bc720aee68b3b99d))
```

[HiGarfield](/HiGarfield)
pushed a commit
to HiGarfield/lede-17.01.4-Mod
that referenced
this issue
[Aug 9, 2022](#ref-commit-9a10009)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@HiGarfield](https://avatars.githubusercontent.com/u/32226909?s=40&v=4)](/HiGarfield)

`[zlib: backport null dereference fix](/HiGarfield/lede-17.01.4-Mod/commit/9a100094cd5de6ed5b056f9f268ad5694da66c89 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[9a10009](/HiGarfield/lede-17.01.4-Mod/commit/9a100094cd5de6ed5b056f9f268ad5694da66c89)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795d4c25 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795d4c25 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[vszakats](/vszakats)
added a commit
to curl/curl-for-win
that referenced
this issue
[Aug 9, 2022](#ref-commit-55cddd4)
[![@vszakats](https://avatars.githubusercontent.com/u/1446897?s=40&v=4)](/vszakats)

`[zlib: patch](/curl/curl-for-win/commit/55cddd4c76b1d6aff44db8814b3d222d7b81c192 "zlib: patch CVE-2022-37434

Refs:
https://github.com/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1 (patch)
https://github.com/madler/zlib/commit/1eb7682f845ac9e9bf9ae35bbfb3bad5dacbd91d (crash fix for the patch)

CVE:
https://nvd.nist.gov/vuln/detail/CVE-2022-37434
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-37434
https://www.cve.org/CVERecord?id=CVE-2022-37434

https://github.com/curl/curl/issues/9271") [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434")`
‚Ä¶

`[55cddd4](/curl/curl-for-win/commit/55cddd4c76b1d6aff44db8814b3d222d7b81c192)`

```
Refs:
[madler/zlib@eff308a](https://github.com/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1) (patch)
[madler/zlib@1eb7682](https://github.com/madler/zlib/commit/1eb7682f845ac9e9bf9ae35bbfb3bad5dacbd91d) (crash fix for the patch)

CVE:
<https://nvd.nist.gov/vuln/detail/CVE-2022-37434>
<https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-37434>
<https://www.cve.org/CVERecord?id=CVE-2022-37434>

[curl/curl#9271](https://github.com/curl/curl/issues/9271)
```

[aiamadeus](/aiamadeus)
pushed a commit
to coolsnowwolf/lede
that referenced
this issue
[Aug 10, 2022](#ref-commit-27befb4)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@aiamadeus](https://avatars.githubusercontent.com/u/42570690?s=40&v=4)](/aiamadeus)

`[zlib: backport null dereference fix](/coolsnowwolf/lede/commit/27befb47d9ae938e0d9fa634b202ef74dd4d6bd5 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[27befb4](/coolsnowwolf/lede/commit/27befb47d9ae938e0d9fa634b202ef74dd4d6bd5)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/coolsnowwolf/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/coolsnowwolf/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[467815891a](/467815891a)
pushed a commit
to 467815891a/lede
that referenced
this issue
[Aug 10, 2022](#ref-commit-581551a)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@467815891a](https://avatars.githubusercontent.com/u/16792048?s=40&v=4)](/467815891a)

`[zlib: backport null dereference fix](/467815891a/lede/commit/581551a9546c6e1106ea2a95a58cea9c32f60f2c "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[581551a](/467815891a/lede/commit/581551a9546c6e1106ea2a95a58cea9c32f60f2c)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/467815891a/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/467815891a/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[misaka36](/misaka36)
pushed a commit
to misaka36/lede
that referenced
this issue
[Aug 10, 2022](#ref-commit-0de3741)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@misaka36](https://avatars.githubusercontent.com/u/92633080?s=40&v=4)](/misaka36)

`[zlib: backport null dereference fix](/misaka36/lede/commit/0de3741ae22f6fbcdfaed19a50d8152b362d1ceb "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[0de3741](/misaka36/lede/commit/0de3741ae22f6fbcdfaed19a50d8152b362d1ceb)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/misaka36/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/misaka36/lede/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[HiGarfield](/HiGarfield)
pushed a commit
to HiGarfield/lede-17.01.4-Mod
that referenced
this issue
[Aug 10, 2022](#ref-commit-43d9a82)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@HiGarfield](https://avatars.githubusercontent.com/u/32226909?s=40&v=4)](/HiGarfield)

`[zlib: backport null dereference fix](/HiGarfield/lede-17.01.4-Mod/commit/43d9a82283e5ba97f443b6f074412aa2b0b95ecc "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[43d9a82](/HiGarfield/lede-17.01.4-Mod/commit/43d9a82283e5ba97f443b6f074412aa2b0b95ecc)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795d4c25 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795d4c25 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[Vladdrako](/Vladdrako)
pushed a commit
to Vladdrako/openwrt
that referenced
this issue
[Aug 10, 2022](#ref-commit-385f562)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@Vladdrako](https://avatars.githubusercontent.com/u/4357971?s=40&v=4)](/Vladdrako)

`[zlib: backport null dereference fix](/Vladdrako/openwrt/commit/385f562d867f8961fdd00de036199a13f37be158 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[385f562](/Vladdrako/openwrt/commit/385f562d867f8961fdd00de036199a13f37be158)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/Vladdrako/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/Vladdrako/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[AnhDQHE181109](/AnhDQHE181109)
pushed a commit
to AnhDQHE181109/openwrt-841hp-v5
that referenced
this issue
[Aug 14, 2022](#ref-commit-7545198)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@AnhDQHE181109](https://avatars.githubusercontent.com/u/24631132?s=40&v=4)](/AnhDQHE181109)

`[zlib: backport null dereference fix](/AnhDQHE181109/openwrt-841hp-v5/commit/7545198fd7296dc20831ab785ce7930275d77c38 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[7545198](/AnhDQHE181109/openwrt-841hp-v5/commit/7545198fd7296dc20831ab785ce7930275d77c38)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/AnhDQHE181109/openwrt-841hp-v5/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/AnhDQHE181109/openwrt-841hp-v5/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[![@s1gkill](https://avatars.githubusercontent.com/u/73364352?s=40&v=4)](/s1gkill)
[s1gkill](/s1gkill)
mentioned this issue
[Aug 16, 2022](#ref-issue-1340225167)

[CVE-2022-37434 zlib vulnerability
nodejs/security-wg#824](/nodejs/security-wg/issues/824)

Closed

[HiGarfield](/HiGarfield)
pushed a commit
to HiGarfield/lede-17.01.4-Mod
that referenced
this issue
[Aug 17, 2022](#ref-commit-9157d23)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@HiGarfield](https://avatars.githubusercontent.com/u/32226909?s=40&v=4)](/HiGarfield)

`[zlib: backport null dereference fix](/HiGarfield/lede-17.01.4-Mod/commit/9157d2366781df83ef13369a722fbd4e348d7890 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[9157d23](/HiGarfield/lede-17.01.4-Mod/commit/9157d2366781df83ef13369a722fbd4e348d7890)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795d4c25 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795d4c25 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[HiGarfield](/HiGarfield)
pushed a commit
to HiGarfield/lede-17.01.4-Mod
that referenced
this issue
[Aug 17, 2022](#ref-commit-fa1d393)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@HiGarfield](https://avatars.githubusercontent.com/u/32226909?s=40&v=4)](/HiGarfield)

`[zlib: backport null dereference fix](/HiGarfield/lede-17.01.4-Mod/commit/fa1d3935c7bcb843f2946d47f2272d8423bb0cdc "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[fa1d393](/HiGarfield/lede-17.01.4-Mod/commit/fa1d3935c7bcb843f2946d47f2272d8423bb0cdc)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795d4c25 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795d4c25 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[![@tobijk](https://avatars.githubusercontent.com/u/589139?s=40&v=4)](/tobijk)
[tobijk](/tobijk)
mentioned this issue
[Aug 19, 2022](#ref-pullrequest-1340632035)

[CVE-2022-37434 patch
AnacondaRecipes/zlib-feedstock#13](/AnacondaRecipes/zlib-feedstock/pull/13)
 Closed

[![@jaymehta6](https://avatars.githubusercontent.com/u/73750710?s=80&v=4)](/jaymehta6)

Copy link

### **[jaymehta6](/jaymehta6)** commented [Aug 22, 2022](#issuecomment-1221933660)

| Please provide runtests.pl file to run the exploit. |
| --- |

All reactions

Sorry, something went wrong.

[![@jaymehta6](https://avatars.githubusercontent.com/u/73750710?s=80&v=4)](/jaymehta6)

Copy link

### **[jaymehta6](/jaymehta6)** commented [Aug 22, 2022](#issuecomment-1221938717) ‚Ä¢ edited Loading

| I did this Using zlib v1.2.12 [patched](https://github.com/madler/zlib/commit/eff308af425b67093bab25f80f1ae950166bece1) for [CVE-2022-37434](https://nvd.nist.gov/vuln/detail/CVE-2022-37434):  ``` make test # or... cd tests ./runtests.pl 224  test 0224...[HTTP GET gzip compressed content with huge comment and extra field]   224: data FAILED: --- log/check-expected	2022-08-07 23:29:39.568010972 +0000 +++ log/check-generated	2022-08-07 23:29:39.568010972 +0000 @@ -1,9 +0,0 @@ -HTTP/1.1 200 OK[CR][LF] -Date: Mon, 29 Nov 2004 21:56:53 GMT[CR][LF] -Server: Apache/1.3.31 (Debian GNU/Linux) mod_gzip/1.3.26.1a PHP/4.3.9-1 mod_ssl/2.8.20 OpenSSL/0.9.7d mod_perl/1.29[CR][LF] -Vary: Accept-Encoding[CR][LF] -Content-Type: text/html; charset=ISO-8859-1[CR][LF] -Content-Encoding: gzip[CR][LF] -Content-Length: 2186[CR][LF] -[CR][LF] -uncompressed gzip data with long gzip header[LF] ```  I've also seen this test failure accompanied by a segfault, but this only happens within a sandbox (which uses the Linux kernel's namespacing feature):  ``` test 0224...core dumped FAILED  ``` I expected the following For the test to succeed. curl/libcurl version 7.84.0 operating system ``` Linux 5.15.43 #1-NixOS SMP Wed May 25 12:42:07 UTC 2022 aarch64 GNU/Linux  ```  This very much could be a zlib issue since the patch in question hasn't made it into a release yet, but I'm going to leave this open just in case it's not; feel free to close.  [@winterqt](https://github.com/winterqt) **### Please provide runtests.pl file to run the exploit.** |
| --- |

All reactions

Sorry, something went wrong.

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=80&u=3993f58d9d45601d48a85a755c1c89548bf44c16&v=4)](/bagder)

Copy link

Member

### **[bagder](/bagder)** commented [Aug 22, 2022](#issuecomment-1221946033)

| This crash happened using the regular curl test suite. The files are in the git repository.  But please, this issue is not a curl issue and it is closed. |
| --- |

All reactions

Sorry, something went wrong.

[devendranaga](/devendranaga)
pushed a commit
to devendra-naga-labs/bsp\_build
that referenced
this issue
[Sep 8, 2022](#ref-commit-fd28b5a)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@devendranaga](https://avatars.githubusercontent.com/u/1133542?s=40&v=4)](/devendranaga)

`[zlib: backport null dereference fix](/devendra-naga-labs/bsp_build/commit/fd28b5a2bd800ebcd70c8cb652e3aa0cfb803378 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[fd28b5a](/devendra-naga-labs/bsp_build/commit/fd28b5a2bd800ebcd70c8cb652e3aa0cfb803378)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/devendra-naga-labs/bsp_build/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/devendra-naga-labs/bsp_build/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[pedro0311](/pedro0311)
added a commit
to FreshTomato-Project/freshtomato-arm
that referenced
this issue
[Sep 23, 2022](#ref-commit-b637c1e)
[![@pedro0311](https://avatars.githubusercontent.com/u/33903442?s=40&u=5cbfd7f1d31ce321a51847deadb9b18525c5e7ef&v=4)](/pedro0311)

`[zlib: backport null dereference fix](/FreshTomato-Project/freshtomato-arm/commit/b637c1e487cbdb42c910f355d5c5af94e6ebecd6 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: curl/curl#9271
Fixes: 7df6795 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[b637c1e](/FreshTomato-Project/freshtomato-arm/commit/b637c1e487cbdb42c910f355d5c5af94e6ebecd6)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[pedro0311](/pedro0311)
added a commit
to FreshTomato-Project/freshtomato-mips
that referenced
this issue
[Sep 23, 2022](#ref-commit-d50475c)
[![@pedro0311](https://avatars.githubusercontent.com/u/33903442?s=40&u=5cbfd7f1d31ce321a51847deadb9b18525c5e7ef&v=4)](/pedro0311)

`[zlib: backport null dereference fix](/FreshTomato-Project/freshtomato-mips/commit/d50475c597eb9ae04a5f7798fb739a23a2a027ff "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: curl/curl#9271
Fixes: 7df6795 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>")`
‚Ä¶

`[d50475c](/FreshTomato-Project/freshtomato-mips/commit/d50475c597eb9ae04a5f7798fb739a23a2a027ff)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit 7df6795 ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: 7df6795 ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
```

[![@Neustradamus](https://avatars.githubusercontent.com/u/104737?s=80&u=24b53dd7f97ac2811160705ccb58495692e6eb6c&v=4)](/Neustradamus)

Copy link

### **[Neustradamus](/Neustradamus)** commented [Oct 14, 2022](#issuecomment-1278628069)

| [@madler](https://github.com/madler) has done the new build, the 1.2.13 has been released with the [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix. |
| --- |

All reactions

Sorry, something went wrong.

[ArtelMike](/ArtelMike)
pushed a commit
to ArtelMike/openwrt-1
that referenced
this issue
[Jan 31, 2023](#ref-commit-f1ad0cd)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz)

`[zlib: backport null dereference fix](/ArtelMike/openwrt-1/commit/f1ad0cdd8e6342746f7641081b419fa0650e5692 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 66dd6bc184cd (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 66dd6bc184cd (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit 6a1b277470092cb70c417d144d69fb9adb14bb97)
(cherry picked from commit 189c51cd5c19eca8474d0140fc62ac13956776c9)")`
‚Ä¶

`[f1ad0cd](/ArtelMike/openwrt-1/commit/f1ad0cdd8e6342746f7641081b419fa0650e5692)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [66dd6bc](https://github.com/ArtelMike/openwrt-1/commit/66dd6bc184cd89b7ab580f89e435b35016073917) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [66dd6bc](https://github.com/ArtelMike/openwrt-1/commit/66dd6bc184cd89b7ab580f89e435b35016073917) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit [6a1b277](https://github.com/ArtelMike/openwrt-1/commit/6a1b277470092cb70c417d144d69fb9adb14bb97))
(cherry picked from commit [189c51c](https://github.com/ArtelMike/openwrt-1/commit/189c51cd5c19eca8474d0140fc62ac13956776c9))
```

[ohabu](/ohabu)
pushed a commit
to ohabu/openwrt
that referenced
this issue
[May 12, 2023](#ref-commit-a2678c2)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@ohabu](https://avatars.githubusercontent.com/u/63399858?s=40&v=4)](/ohabu)

`[zlib: backport null dereference fix](/ohabu/openwrt/commit/a2678c2003d012d608354cbb6816b7a1d4a84d22 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit f443e9de7003c00a935b9ea12f168e09e83b48cd)
(cherry picked from commit 707ec48ab3db6d08bd022df1bc720aee68b3b99d)")`
‚Ä¶

`[a2678c2](/ohabu/openwrt/commit/a2678c2003d012d608354cbb6816b7a1d4a84d22)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/ohabu/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/ohabu/openwrt/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit [f443e9d](https://github.com/ohabu/openwrt/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd))
(cherry picked from commit [707ec48](https://github.com/ohabu/openwrt/commit/707ec48ab3db6d08bd022df1bc720aee68b3b99d))
```

[sergoops](/sergoops)
pushed a commit
to sergoops/openwrt\_tl\_wr840n\_v6.x
that referenced
this issue
[Nov 18, 2023](#ref-commit-5f8aac7)
[![@ynezz](https://avatars.githubusercontent.com/u/43848?s=40&v=4)](/ynezz) [![@sergoops](https://avatars.githubusercontent.com/u/67861449?s=40&v=4)](/sergoops)

`[zlib: backport null dereference fix](/sergoops/openwrt_tl_wr840n_v6.x/commit/5f8aac76e60ef20047305bf8a4f37c24f83ac879 "zlib: backport null dereference fix

The curl developers found test case that crashed in their testing when
using zlib patched against CVE-2022-37434, same patch we've backported
in commit 7df6795d4c25 (\"zlib: backport fix for heap-based buffer
over-read (CVE-2022-37434)\"). So we need to backport following patch in
order to fix issue introduced in that previous CVE-2022-37434 fix.

References: https://github.com/curl/curl/issues/9271
Fixes: 7df6795d4c25 (\"zlib: backport fix for heap-based buffer over-read (CVE-2022-37434)\")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit f443e9de7003c00a935b9ea12f168e09e83b48cd)
(cherry picked from commit 707ec48ab3db6d08bd022df1bc720aee68b3b99d)")`
‚Ä¶

`[5f8aac7](/sergoops/openwrt_tl_wr840n_v6.x/commit/5f8aac76e60ef20047305bf8a4f37c24f83ac879)`

```
The curl developers found test case that crashed in their testing when
using zlib patched against [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"), same patch we've backported
in commit [7df6795](https://github.com/sergoops/openwrt_tl_wr840n_v6.x/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer
over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))"). So we need to backport following patch in
order to fix issue introduced in that previous [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") fix.

References: [curl/curl#9271](https://github.com/curl/curl/issues/9271)
Fixes: [7df6795](https://github.com/sergoops/openwrt_tl_wr840n_v6.x/commit/7df6795d4c25447683fd4b4a4813bebcddaea547) ("zlib: backport fix for heap-based buffer over-read ([CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434"))")
Signed-off-by: Petr ≈†tetiar <ynezz@true.cz>
(cherry picked from commit [f443e9d](https://github.com/sergoops/openwrt_tl_wr840n_v6.x/commit/f443e9de7003c00a935b9ea12f168e09e83b48cd))
(cherry picked from commit [707ec48](https://github.com/sergoops/openwrt_tl_wr840n_v6.x/commit/707ec48ab3db6d08bd022df1bc720aee68b3b99d))
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fcurl%2Fcurl%2Fissues%2F9271)

Assignees

[![@bagder](https://avatars.githubusercontent.com/u/177011?s=40&v=4)](/bagder) [bagder](/bagder)

Labels

[crash](/curl/curl/labels/crash)
[not-a-curl-bug](/curl/curl/labels/not-a-curl-bug)
This is not a bug in curl
[tests](/curl/curl/labels/tests)

Milestone

No milestone

Development

No branches or pull requests

5 participants

[![@Neustradamus](https://avatars.githubusercontent.com/u/104737?s=52&v=4)](/Neustradamus) [![@bagder](https://avatars.githubusercontent.com/u/177011?s=52&v=4)](/bagder) [![@madler](https://avatars.githubusercontent.com/u/240717?s=52&v=4)](/madler) [![@jaymehta6](https://avatars.githubusercontent.com/u/73750710?s=52&v=4)](/jaymehta6) [![@winterqt](https://avatars.githubusercontent.com/u/78392041?s=52&v=4)](/winterqt)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.

