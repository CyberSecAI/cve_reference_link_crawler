=== Content from about.gitlab.com_fd79b9c4_20250110_133247.html ===


[←
Back to
releases](/releases/categories/releases/)
Sep 11, 2024

-
[Ottilia Westerlund](/company/team/#gitlab)
# GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7

Learn more about GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7 for GitLab Community Edition (CE) and Enterprise Edition (EE).

Today we are releasing versions 17.3.2, 17.2.5, 17.1.7 for GitLab Community Edition (CE) and Enterprise Edition (EE).

These versions contain important bug and security fixes, and we strongly recommend that all self-managed GitLab installations be upgraded to
one of these versions immediately. GitLab.com is already running the patched version. GitLab Dedicated customers do not need to take action.

GitLab releases fixes for vulnerabilities in patch releases. There are two types of patch releases:
scheduled releases, and ad-hoc critical patches for high-severity vulnerabilities. Scheduled releases are released twice a month on the second and fourth Wednesdays.
For more information, you can visit our [releases handbook](https://handbook.gitlab.com/handbook/engineering/releases/) and [security FAQ](https://about.gitlab.com/security/faq/).
You can see all of GitLab release blog posts [here](/releases/categories/releases/).

For security fixes, the issues detailing each vulnerability are made public on our
[issue tracker](https://gitlab.com/gitlab-org/gitlab/-/issues/?sort=created_date&state=closed&label_name%5B%5D=bug%3A%3Avulnerability&confidential=no&first_page_size=100)
30 days after the release in which they were patched.

We are committed to ensuring all aspects of GitLab that are exposed to customers or that host customer data are held to
the highest security standards. As part of maintaining good security hygiene, it is highly recommended that all customers
upgrade to the latest patch release for their supported version. You can read more
[best practices in securing your GitLab instance](/blog/2020/05/20/gitlab-instance-security-best-practices/) in our blog post.

### Recommended Action

We **strongly recommend** that all installations running a version affected by the issues described below are **upgraded to the latest version as soon as possible**.

When no specific deployment type (omnibus, source code, helm chart, etc.) of a product is mentioned, this means all types are affected.

## Security fixes

### Table of security fixes

| Title | Severity |
| --- | --- |
| [Execute environment stop actions as the owner of the stop action job](#execute-environment-stop-actions-as-the-owner-of-the-stop-action-job) | Critical |
| [Prevent code injection in Product Analytics funnels YAML](#prevent-code-injection-in-product-analytics-funnels-yaml) | High |
| [SSRF via Dependency Proxy](#ssrf-via-dependency-proxy) | High |
| [Denial of Service via sending a a specific POST request](#denial-of-service-via-sending-a-specific-post-request) | High |
| [CI\_JOB\_TOKEN can be used to obtain GitLab session token](#ci_job_token-can-be-used-to-obtain-gitlab-session-token) | Medium |
| [Variables from settings are not overwritten by PEP if a template is included](#variables-from-settings-are-not-overwritten-by-pep-if-a-template-is-included) | Medium |
| [Guests can disclose the full source code of projects using custom group-level templates](#guests-can-disclose-the-full-source-code-of-projects-using-custom-group-level-templates) | Medium |
| [IdentitiesController allows linking of arbitrary unclaimed provider identities](#identitiescontroller-allows-linking-of-arbitrary-unclaimed-provider-identities) | Medium |
| [Open redirect in repo/tree/:id endpoint can lead to account takeover through broken OAuth flow](#open-redirect-in-repotreeid-endpoint-can-lead-to-account-takeover-through-broken-oauth-flow) | Medium |
| [Open redirect in release permanent links can lead to account takeover through broken OAuth flow](#open-redirect-in-release-permanent-links-can-lead-to-account-takeover-through-broken-oauth-flow) | Medium |
| [Guest user with Admin group member permission can edit custom role to gain other permissions](#guest-user-with-admin-group-member-permission-can-edit-custom-role-to-gain-other-permissions) | Medium |
| [Exposure of protected and masked CI/CD variables by abusing on-demand DAST](#exposure-of-protected-and-masked-cicd-variables-by-abusing-on-demand-dast) | Medium |
| [Credentials disclosed when repository mirroring fails](#credentials-disclosed-when-repository-mirroring-fails) | Medium |
| [Commit information visible through release atom endpoint for guest users](#commit-information-visible-through-release-atom-endpoint-for-guest-users) | Medium |
| [Dependency Proxy Credentials are Logged in Plaintext in graphql Logs](#dependency-proxy-credentials-are-logged-in-plaintext-in-graphql-logs) | Medium |
| [User Application can spoof the redirect url](#user-application-can-spoof-the-redirect-url) | Low |
| [Group Developers can view group runners information](#group-developers-can-view-group-runners-information) | Low |

### Execute environment stop actions as the owner of the stop action job

An issue was discovered in GitLab CE/EE affecting all versions starting from 8.14 prior to 17.1.7, starting from 17.2 prior to 17.2.5, and starting from 17.3 prior to 17.3.2, which allows an attacker to trigger a pipeline as an arbitrary user under certain circumstances.
This is a critical severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:H/A:H`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:H/A:H), 9.9).
It is now mitigated in the latest release and is assigned [CVE-2024-6678](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6678).

Thanks [yvvdwf](https://hackerone.com/yvvdwf) for reporting this vulnerability through our HackerOne bug bounty program.

### Prevent code injection in Product Analytics funnels YAML

An issue has been discovered in GitLab EE affecting all versions starting from 16.11 prior to 17.1.7, from 17.2 prior to 17.2.5, and from 17.3 prior to 17.3.2. Due to incomplete input filtering, it was possible to inject commands into a connected Cube server.
This is a high severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:C/C:H/I:H/A:H), 8.5).
It is now mitigated in the latest release and is assigned [CVE-2024-8640](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8640).

Thanks [joaxcar](https://hackerone.com/joaxcar) for reporting this vulnerability through our HackerOne bug bounty program.

### SSRF via Dependency Proxy

A server-side request forgery issue has been discovered in GitLab EE affecting all versions starting from 16.8 prior to 17.1.7, from 17.2 prior to 17.2.5, and from 17.3 prior to 17.3.2. It was possible for an attacker to make requests to internal resources using a custom Maven Dependency Proxy URL.
This is a high severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:H/I:N/A:N), 7.7).
It is now mitigated in the latest release and is assigned [CVE-2024-8635](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8635).

This vulnerability was discovered internally by GitLab team member [joernchen](https://gitlab.com/joernchen).

### Denial of Service via sending a specific POST request

An issue was discovered in GitLab CE/EE affecting all versions starting from 16.4 prior to 17.1.7, starting from 17.2 prior to 17.2.5, starting from 17.3 prior to 17.3.2 which could cause Denial of Service via sending a specific POST request.
This is a high severity issue ([`CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:H), 7.5).
It is now mitigated in the latest release and is assigned [CVE-2024-8124](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8124).

Thanks [sim4n6](https://hackerone.com/sim4n6) for reporting this vulnerability through our HackerOne bug bounty program.

### CI\_JOB\_TOKEN can be used to obtain GitLab session token

An issue has been discovered in GitLab CE/EE affecting all versions starting from 13.7 prior to 17.1.7, from 17.2 prior to 17.2.5, and from 17.3 prior to 17.3.2. It may have been possible for an attacker with a victim's CI\_JOB\_TOKEN to obtain a GitLab session token belonging to the victim.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:L`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:L), 6.7).
It is now mitigated in the latest release and is assigned [CVE-2024-8641](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8641).

Thanks [yvvdwf](https://hackerone.com/yvvdwf) for reporting this vulnerability through our HackerOne bug bounty program.

### Variables from settings are not overwritten by PEP if a template is included

An issue was discovered with pipeline execution policies in GitLab EE affecting all versions from 17.2 prior to 17.2.5, 17.3 prior to 17.3.2 which allows authenticated users to bypass variable overwrite protection via inclusion of a CI/CD template.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N), 6.5).
It is now mitigated in the latest release and is assigned [CVE-2024-8311](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8311).

This vulnerability has been discovered internally by GitLab team member [Andy Schoenen](https://gitlab.com/Andyschoenen).

### Guests can disclose the full source code of projects using custom group-level templates

An issue has been discovered in GitLab EE affecting all versions starting from 11.2 before 17.1.7, all versions starting from 17.2 before 17.2.5, all versions starting from 17.3 before 17.3.2. It was possible for a guest to read the source code of a private project by using group templates.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N), 6.5).
It is now mitigated in the latest release and is assigned [CVE-2024-4660](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4660).

Thanks [js\_noob](https://hackerone.com/js_noob) for reporting this vulnerability through our HackerOne bug bounty program.

### IdentitiesController allows linking of arbitrary unclaimed provider identities

An issue has been discovered in GitLab EE/CE affecting all versions from 16.9.7 prior to 17.1.7, 17.2 prior to 17.2.5, and 17.3 prior to 17.3.2. An improper input validation error allows attacker to squat on accounts via linking arbitrary unclaimed provider identities when JWT authentication is configured.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N), 6.4).
We have requested a CVE ID and will update this blog post when it is assigned.

This vulnerability was discovered internally by GitLab team member [Joern Schneeweisz](https://gitlab.com/joernchen).

### Open redirect in repo/tree/:id endpoint can lead to account takeover through broken OAuth flow

An issue has been discovered in GitLab EE affecting all versions starting from 11.1 before 17.1.7, 17.2 before 17.2.5, and 17.3 before 17.3.2. Under certain conditions an open redirect vulnerability could allow for an account takeover by breaking the OAuth flow.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N), 6.4).
It is now mitigated in the latest release and is assigned [CVE-2024-4283](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4283).

Thanks [joaxcar](https://hackerone.com/joaxcar) for reporting this vulnerability through our HackerOne bug bounty program.

### Open redirect in release permanent links can lead to account takeover through broken OAuth flow

An issue has been discovered in GitLab EE affecting all versions starting from 12.9 before 17.1.7, 17.2 before 17.2.5, and 17.3 before 17.3.2. Under certain conditions an open redirect vulnerability could allow for an account takeover by breaking the OAuth flow.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:R/S:U/C:H/I:H/A:N), 6.4).
It is now mitigated in the latest release and is assigned [CVE-2024-4612](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4612).

Thanks [joaxcar](https://hackerone.com/joaxcar) for reporting this vulnerability through our HackerOne bug bounty program.

### Guest user with Admin group member permission can edit custom role to gain other permissions

A privilege escalation issue has been discovered in GitLab EE affecting all versions starting from 16.6 prior to 17.1.7, from 17.2 prior to 17.2.5, and from 17.3 prior to 17.3.2. A user assigned the Admin Group Member custom role could have escalated their privileges to include other custom roles.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:L/I:H/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:L/I:H/A:N), 5.5).
It is now mitigated in the latest release and is assigned [CVE-2024-8631](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-8631).

Thanks [chotebabume](https://hackerone.com/chotebabume) for reporting this vulnerability through our HackerOne bug bounty program.

### Exposure of protected and masked CI/CD variables by abusing on-demand DAST

An issue was discovered in GitLab EE starting with version 13.3 before 17.1.7, 17.2 before 17.2.5, and 17.3 before 17.3.2 that would allow an attacker to modify an on-demand DAST scan without permissions and leak variables.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:H/I:N/A:N), 5.3).
It is now mitigated in the latest release and is assigned [CVE-2024-2743](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-2743).

Thanks [0xn3va](https://hackerone.com/0xn3va) for reporting this vulnerability through our HackerOne bug bounty program.

### Credentials disclosed when repository mirroring fails

An issue has been discovered discovered in GitLab CE/EE affecting all versions starting from 15.10 before 17.1.7, all versions starting from 17.2 before 17.2.5, all versions starting from 17.3 before 17.3.2 will disclose user password from repository mirror configuration.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:U/C:H/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:U/C:H/I:N/A:N), 4.5).
It is now mitigated in the latest release and is assigned [CVE-2024-5435](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-5435).

Thanks [gudanggaramfilter](https://hackerone.com/gudanggaramfilter) for reporting this vulnerability through our HackerOne bug bounty program.

### Commit information visible through release atom endpoint for guest users

An issue was discovered in GitLab CE/EE affecting all versions starting with 17.0 before 17.1.7, 17.2 before 17.2.5, and 17.3 before 17.3.2. An attacker as a guest user was able to access commit information via the release Atom endpoint, contrary to permissions.
This is a medium severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N), 4.3).
It is now mitigated in the latest release and is assigned [CVE-2024-6389](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6389).

Thanks [ashish\_r\_padelkar](https://hackerone.com/ashish_r_padelkar) for reporting this vulnerability through our HackerOne bug bounty program.

### Dependency Proxy Credentials are Logged in Plaintext in graphql Logs

An issue was discovered in GitLab CE/EE affecting all versions starting from 16.5 prior to 17.1.7, starting from 17.2 prior to 17.2.5, and starting from 17.3 prior to 17.3.2, where dependency proxy credentials are retained in graphql Logs.
This is a medium severity issue ([`CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N), 4.0).
It is now mitigated in the latest release and is assigned [CVE-2024-4472](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-4472).

Thanks [ac7n0w](https://hackerone.com/ac7n0w) for reporting this vulnerability through our HackerOne bug bounty program.

### User Application can spoof the redirect url

An issue has been discovered in GitLab CE/EE affecting all versions starting from 17.1 to 17.1.7, 17.2 prior to 17.2.5 and 17.3 prior to 17.3.2. A crafted URL could be used to trick a victim to trust an attacker controlled application.
This is a low severity issue ([`CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:L/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:L/PR:L/UI:R/S:U/C:L/I:N/A:N), 3.5).
It is now mitigated in the latest release and is assigned [CVE-2024-6446](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6446).

Thanks [joaxcar](https://hackerone.com/joaxcar) for reporting this vulnerability through our HackerOne bug bounty program.

### Group Developers can view group runners information

An issue was discovered in GitLab CE/EE affecting all versions starting from 16.7 prior to 17.1.7, 17.2 prior to 17.2.5, and 17.3 prior to 17.3.2, where group runners information was disclosed to unauthorised group members.
This is a low severity issue ([`CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N`](https://gitlab-com.gitlab.io/gl-security/product-security/appsec/cvss-calculator/explain#explain=CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N), 3.1).
It is now mitigated in the latest release and is assigned [CVE-2024-6685](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2024-6685).

Thanks [ashish\_r\_padelkar](https://hackerone.com/ashish_r_padelkar) for reporting this vulnerability through our HackerOne bug bounty program.

## Bug fixes

### 17.3.2

* [UBI: Backport openssl gem pin to 17-3-stable](https://gitlab.com/gitlab-org/build/CNG/-/merge_requests/2012)
* [Backport "Disable allow\_failure for release-environments pipeline"](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163188)
* [Fix issue when resizing images in RTE](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163437)
* [Backport fix for listing projects via API](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163809)
* [Backport lock retries timeout for sliding list strategy to `17-3`](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164228)
* [backport archived filter regression bugfix](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164748)
* [Ensure to update updated\_at when updating access data](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164791)
* [Backport OpenSSL v3 callout to 17.3](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164894)
* [Quarantine pypi package registry spec](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/165464)
* [Fix Sidekiq crashing when GITLAB\_LOG\_LEVEL set to debug](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164830)
* [[17.3 Backport] Bump OpenSSL to 3.2.0](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/165343)
* [Backport 17.3 - Remove elasticsearch call on init](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/165279)
* [Downgrade OpenSSL version to 1.1.1](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7890)
* [[17.3 Backport] Deprecate CentOS 7](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7895)

### 17.2.5

* [Backport "Disable allow\_failure for release-environments pipeline"](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163189)
* [Always build assets image when tagging](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163421)
* [Update google-cloud-core and google-cloud-env gems](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/162466)
* [Backport to 17.2: Fixes Geo Replication Details incorrectly empty](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/162937)
* [Backport OpenSSL v3 callout to 17.2](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164893)
* [Backport to 17.2: Fix JobArtifactState query timeout](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164561)
* [CI: Add test basic package functionality before release (17.2 Backport)](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7874)
* [Use latest builder images for check-packages pipeline (17.2 Backport)](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7876)
* [[17.2 Backport] Deprecate CentOS 7](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7896)

### 17.1.7

* [Backport "Disable allow\_failure for release-environments pipeline"](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/163191)
* [Backport to 17.1: Fixes Geo Replication Details view](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/162939)
* [Backport OpenSSL v3 callout to 17.1](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/164892)
* [Backport to 17.1: Fix JobArtifactState query timeout](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/165270)
* [CI: Add test basic package functionality before release (17.1 Backport)](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7875)
* [Use latest builder images for check-packages pipeline (17.1 Backport)](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7877)
* [[17.1 Backport] Deprecate CentOS 7](https://gitlab.com/gitlab-org/omnibus-gitlab/-/merge_requests/7897)

## Updating

To update GitLab, see the [Update page](/update).
To update Gitlab Runner, see the [Updating the Runner page](https://docs.gitlab.com/runner/install/linux-repository.html#updating-the-runner).

## Receive Patch Notifications

To receive patch blog notifications delivered to your inbox, visit our [contact us](https://about.gitlab.com/company/contact/) page.
To receive release notifications via RSS, subscribe to our [patch release RSS feed](https://about.gitlab.com/security-releases.xml) or our [RSS feed for all releases](https://about.gitlab.com/all-releases.xml).

## Weâre combining patch and security releases

This improvement in our release process matches the industry standard and will help GitLab users get information about security and
bug fixes sooner, [read the blog post here](https://about.gitlab.com/blog/2024/03/26/were-combining-patch-and-security-releases/).

[GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7
via @gitlab

Click to tweet!](http://twitter.com/share?text=GitLab+Critical+Patch+Release%3A+17.3.2%2C+17.2.5%2C+17.1.7+via+%40gitlab&url=https://about.gitlab.com/releases/2024/09/11/patch-release-gitlab-17-3-2-released/&hashtags= "Tweet!")

* [security](/releases/tags.html#security)

[Share on Facebook](http://www.facebook.com/sharer.php?u=https://about.gitlab.com/releases/2024/09/11/patch-release-gitlab-17-3-2-released/)
[Share on X](http://x.com/share?url=https://about.gitlab.com/releases/2024/09/11/patch-release-gitlab-17-3-2-released/&text=GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7)
[Share on LinkedIn](https://www.linkedin.com/shareArticle?mini=true&url=https://about.gitlab.com/releases/2024/09/11/patch-release-gitlab-17-3-2-released/&title=GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7&summary=&source=)
[Share on Hacker News](https://news.ycombinator.com/submitlink?u=https://about.gitlab.com/releases/2024/09/11/patch-release-gitlab-17-3-2-released/&t=GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7)

* [Previous Post:
  GitLab Patch Release: 17.3.1, 17.2.4, 17.1.6](/releases/2024/08/21/patch-release-gitlab-17-3-1-released/ "GitLab Patch Release: 17.3.1, 17.2.4, 17.1.6")
* [Next Post:
  GitLab Critical Patch Release: 17.3.3, 17.2.7, 17.1.8, 17.0.8,
  ...](/releases/2024/09/17/patch-release-gitlab-17-3-3-released/ "GitLab Critical Patch Release: 17.3.3, 17.2.7, 17.1.8, 17.0.8, 16.11.10")

Sign up for GitLab's monthly newsletter

Thanks for subscribing!

### We want to hear from you

Enjoyed reading this blog post or have questions or feedback? Share your thoughts by creating a new topic in the GitLab community forum.

[Share your feedback](https://forum.gitlab.com/new-topic?title=GitLab Critical Patch Release: 17.3.2, 17.2.5, 17.1.7&body=&tags=blog-feedback)

## Take GitLab for a spin

See what your team could do with The DevSecOps Platform.

[Get free trial](https://gitlab.com/-/trials/new?glm_content=default-saas-trial&glm_source=about.gitlab.com)

![](/images/cta/gitlab-enterprise-team-member-photos.png)

Have a question? We're here to help.

[Talk to an expert](https://about.gitlab.com/sales/)

[Edit this page](https://gitlab.com/-/ide/project/gitlab-com/www-gitlab-com/edit/master/-/sites/uncategorized/source/releases/posts/2024-09-11-patch-release-gitlab-17-3-2-released.html.md)
[View source](https://gitlab.com/gitlab-com/www-gitlab-com/blob/master/sites/uncategorized/source/releases/posts/2024-09-11-patch-release-gitlab-17-3-2-released.html.md)



=== Content from gitlab.com_caed8a07_20250110_133248.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

# Guests can disclose the full source code of projects using custom group-level templates

⚠ **Please read [the process](https://gitlab.com/gitlab-org/release/docs/-/blob/master/general/security/developer.md) on how to fix security issues before starting to work on the issue. Vulnerabilities must be fixed in a security mirror.**

**[HackerOne report #2480126](https://hackerone.com/reports/2480126)** by `js_noob` on 2024-04-26, assigned to `GitLab Team`:

[Report](#report) | [Attachments](#attachments) | [How To Reproduce](#how-to-reproduce)

## Report

##### Summary

Hello team, according to the [docs](https://docs.gitlab.com/ee/user/group/custom_project_templates.html#set-up-group-level-project-templates), only group members are allowed to use its templates to create projects in other groups. On the other hand, as known, guest users can't access the source code in private projects, you can verify this by searching for "View project code" [here](https://docs.gitlab.com/ee/user/permissions.html#project-members-permissions). However, a guest user can abuse the custom group-level templates and disclose the full source code of private projects associated with that template group.

In the below example, we have:

* A parent group:
  + projects sub-group (no role for the attacker at the group level):
    - private project - where the attacker has a guest role
  + templates sub-group (attacker has developer role in this sub-group):

The result is, that the attacker will create a project in the `projects` subgroup, using that project template that he can't read its source code, disclosing all of its code.

##### Steps to reproduce

**As an owner:**

1. Create a group and apply the ultimate trial to it
2. Create 2 subgroups in that group let's call them, `projects` and `templates`
3. Navigate to <https://gitlab.com/groups/MAIN_GROUP/-/edit> and under "Custom project templates", select the `templates` subgroup
4. Create a project in the `templates` subgroup
5. Invite USER\_2 as a guest to that created project and as a developer to the `projects` group

**As User 2:**

6. Verify that you can't access the source code of the project created in the `templates` subgroup
7. Verify that you can't create projects from the group templates in the `projects` template

[![Screenshot_2024-04-26_at_6.41.03_PM.png](data:image/gif;base64...)](https://user-content.gitlab-static.net/d5d4d1bd78b419041bb372cb1c9fbef6fc46ceaa/68747470733a2f2f68312e7365632e6769746c61622e6e65742f612f34366462363966332d646362642d343164652d393539382d6566373265313362646562372f53637265656e73686f745f323032342d30342d32365f61745f362e34312e30335f504d2e706e67)

8. Navigate to the `projects` subgroup, and start creating a new project process
9. Upon submitting intercept the request, and add the following to the body of the fired request, but make sure to replace IDs

   `&project%5Btemplate_project_id%5D=PROJECT_IN_TEMPLATES_ID&project%5Buse_custom_template%5D=true&project%5Bgroup_with_project_templates_id%5D=TEMPLATES_SUBGROUP_ID`
10. Verify that a new project is created from the template, disclosing all of the source code

##### Examples

[Screen\_Recording\_2024-04-26\_at\_6.42.57\_PM.mov](https://user-content.gitlab-static.net/26f5f6c4f93c7cd42c0848f273950bb0c98b9931/68747470733a2f2f68312e7365632e6769746c61622e6e65742f612f31616364336463312d653661372d343037382d626233302d3031383132343034363634392f53637265656e5f5265636f7264696e675f323032342d30342d32365f61745f362e34322e35375f504d2e6d6f76 "Download 'Screen_Recording_2024-04-26_at_6.42.57_PM.mov'")

##### What is the current *bug* behavior?

There are 2 issues here:

* Non-group members can use templates from that group and create them in other groups.
* Guests can create projects from templates they don't have "full-read" access to.

##### What is the expected *correct* behavior?

* Non-group members shouldn't be able to use templates from that group and create them in other groups, even if they are project members.
* Guests shouldn't be able to create projects from templates they don't have "full-read" access to.

##### Output of checks

This bug happens on GitLab.com

#### Impact

Guests can disclose the full source code of private projects.

## Attachments

**Warning:** Attachments received through HackerOne, please exercise caution!

* [Screenshot\_2024-04-26\_at\_6.41.03\_PM.png](https://h1.sec.gitlab.net/a/46db69f3-dcbd-41de-9598-ef72e13bdeb7/Screenshot_2024-04-26_at_6.41.03_PM.png)
* [Screen\_Recording\_2024-04-26\_at\_6.42.57\_PM.mov](https://h1.sec.gitlab.net/a/1acd3dc1-e6a7-4078-bb30-018124046649/Screen_Recording_2024-04-26_at_6.42.57_PM.mov)

## How To Reproduce

Please add [reproducibility information](https://about.gitlab.com/handbook/engineering/security/#reproducibility-on-security-issues) to this section:

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.


