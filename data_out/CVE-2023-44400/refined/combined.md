=== Content from github.com_46d267a7_20250111_000619.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fcommit%2F88afab6571ef7d4d41bb395cdb6ecd3968835a4a)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fcommit%2F88afab6571ef7d4d41bb395cdb6ecd3968835a4a)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=louislam%2Fuptime-kuma)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[louislam](/louislam)
/
**[uptime-kuma](/louislam/uptime-kuma)**
Public

* [Notifications](/login?return_to=%2Flouislam%2Fuptime-kuma) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Flouislam%2Fuptime-kuma)
* [Star
   62.4k](/login?return_to=%2Flouislam%2Fuptime-kuma)

* [Code](/louislam/uptime-kuma)
* [Issues
  666](/louislam/uptime-kuma/issues)
* [Pull requests
  100](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

Additional navigation options

* [Code](/louislam/uptime-kuma)
* [Issues](/louislam/uptime-kuma/issues)
* [Pull requests](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

## Commit

[Permalink](/louislam/uptime-kuma/commit/88afab6571ef7d4d41bb395cdb6ecd3968835a4a)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-g9v2-wqcj-j99g](https://github.com/advisories/GHSA-g9v2-wqcj-j99g "GHSA-g9v2-wqcj-j99g")

[Browse files](/louislam/uptime-kuma/tree/88afab6571ef7d4d41bb395cdb6ecd3968835a4a)
Browse the repository at this point in the history

```
* Fix attempt

* Update message
```

* Loading branch information

[![@louislam](https://avatars.githubusercontent.com/u/1336778?s=40&v=4)](/louislam)

[louislam](/louislam/uptime-kuma/commits?author=louislam "View all commits by louislam")
authored
Oct 8, 2023

1 parent
[bd9c44c](/louislam/uptime-kuma/commit/bd9c44cccfd4edf5547cc6b1b4a5cc91139282a2)

commit 88afab6

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**47 additions**
and
**9 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* server

  + model

    - server/model/user.js
      [user.js](#diff-1b14040334645a28e301f79780e54647b5f9d37af2603ce388f9c6a52fdb8300)
  + server/server.js
    [server.js](#diff-8cf1ffe3788af127768748703e2f15dcfb3a05ffd20b4c2375223637e3260938)
  + server/util-server.js
    [util-server.js](#diff-db80ca2d8e4a84ebee2feeba79ca6283af832cada516abcf1c48772865e15b3f)

## There are no files selected for viewing

15 changes: 15 additions & 0 deletions

15
[server/model/user.js](#diff-1b14040334645a28e301f79780e54647b5f9d37af2603ce388f9c6a52fdb8300 "server/model/user.js")

Show comments

[View file](/louislam/uptime-kuma/blob/88afab6571ef7d4d41bb395cdb6ecd3968835a4a/server/model/user.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,8 @@ |
|  |  | const { BeanModel } = require("redbean-node/dist/bean-model"); |
|  |  | const passwordHash = require("../password-hash"); |
|  |  | const { R } = require("redbean-node"); |
|  |  | const jwt = require("jsonwebtoken"); |
|  |  | const { shake256, SHAKE256\_LENGTH } = require("../util-server"); |
|  |  |  |
|  |  | class User extends BeanModel { |
|  |  | /\*\* |
| Expand All | | @@ -27,6 +29,19 @@ class User extends BeanModel { |
|  |  | this.password = newPassword; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Create a new JWT for a user |
|  |  | \* @param {User} user |
|  |  | \* @param {string} jwtSecret |
|  |  | \* @return {string} |
|  |  | \*/ |
|  |  | static createJWT(user, jwtSecret) { |
|  |  | return jwt.sign({ |
|  |  | username: user.username, |
|  |  | h: shake256(user.password, SHAKE256\_LENGTH), |
|  |  | }, jwtSecret); |
|  |  | } |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | module.exports = User; |

23 changes: 14 additions & 9 deletions

23
[server/server.js](#diff-8cf1ffe3788af127768748703e2f15dcfb3a05ffd20b4c2375223637e3260938 "server/server.js")

Show comments

[View file](/louislam/uptime-kuma/blob/88afab6571ef7d4d41bb395cdb6ecd3968835a4a/server/server.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -83,8 +83,11 @@ const app = server.app; |
|  |  | log.info("server", "Importing this project modules"); |
|  |  | log.debug("server", "Importing Monitor"); |
|  |  | const Monitor = require("./model/monitor"); |
|  |  | const User = require("./model/user"); |
|  |  |  |
|  |  | log.debug("server", "Importing Settings"); |
|  |  | const { getSettings, setSettings, setting, initJWTSecret, checkLogin, startUnitTest, FBSD, doubleCheckPassword, startE2eTests } = require("./util-server"); |
|  |  | const { getSettings, setSettings, setting, initJWTSecret, checkLogin, startUnitTest, FBSD, doubleCheckPassword, startE2eTests, shake256, SHAKE256\_LENGTH |
|  |  | } = require("./util-server"); |
|  |  |  |
|  |  | log.debug("server", "Importing Notification"); |
|  |  | const { Notification } = require("./notification"); |
| Expand Down  Expand Up | | @@ -296,6 +299,11 @@ let needSetup = false; |
|  |  | decoded.username, |
|  |  | ]); |
|  |  |  |
|  |  | // Check if the password changed |
|  |  | if (decoded.h !== shake256(user.password, SHAKE256\_LENGTH)) { |
|  |  | throw new Error("The token is invalid due to password change or old token"); |
|  |  | } |
|  |  |  |
|  |  | if (user) { |
|  |  | log.debug("auth", "afterLogin"); |
|  |  | afterLogin(socket, user); |
| Expand All | | @@ -316,9 +324,10 @@ let needSetup = false; |
|  |  | }); |
|  |  | } |
|  |  | } catch (error) { |
|  |  |  |
|  |  | log.error("auth", `Invalid token. IP=${clientIP}`); |
|  |  |  |
|  |  | if (error.message) { |
|  |  | log.error("auth", error.message, `IP=${clientIP}`); |
|  |  | } |
|  |  | callback({ |
|  |  | ok: false, |
|  |  | msg: "Invalid token.", |
| Expand Down  Expand Up | | @@ -357,9 +366,7 @@ let needSetup = false; |
|  |  |  |
|  |  | callback({ |
|  |  | ok: true, |
|  |  | token: jwt.sign({ |
|  |  | username: data.username, |
|  |  | }, server.jwtSecret), |
|  |  | token: User.createJWT(user, server.jwtSecret), |
|  |  | }); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -387,9 +394,7 @@ let needSetup = false; |
|  |  |  |
|  |  | callback({ |
|  |  | ok: true, |
|  |  | token: jwt.sign({ |
|  |  | username: data.username, |
|  |  | }, server.jwtSecret), |
|  |  | token: User.createJWT(user, server.jwtSecret), |
|  |  | }); |
|  |  | } else { |
|  |  |  |
| Expand Down | |  |

18 changes: 18 additions & 0 deletions

18
[server/util-server.js](#diff-db80ca2d8e4a84ebee2feeba79ca6283af832cada516abcf1c48772865e15b3f "server/util-server.js")

Show comments

[View file](/louislam/uptime-kuma/blob/88afab6571ef7d4d41bb395cdb6ecd3968835a4a/server/util-server.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -33,6 +33,7 @@ const dayjs = require("dayjs"); |
|  |  | // SASLOptions used in JSDoc |
|  |  | // eslint-disable-next-line no-unused-vars |
|  |  | const { Kafka, SASLOptions } = require("kafkajs"); |
|  |  | const crypto = require("crypto"); |
|  |  |  |
|  |  | const isWindows = process.platform === /^win/.test(process.platform); |
|  |  | /\*\* |
| Expand Down  Expand Up | | @@ -1055,6 +1056,23 @@ module.exports.grpcQuery = async (options) => { |
|  |  | }); |
|  |  | }; |
|  |  |  |
|  |  | module.exports.SHAKE256\_LENGTH = 16; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* |
|  |  | \* @param {string} data |
|  |  | \* @param {number} len |
|  |  | \* @return {string} |
|  |  | \*/ |
|  |  | module.exports.shake256 = (data, len) => { |
|  |  | if (!data) { |
|  |  | return ""; |
|  |  | } |
|  |  | return crypto.createHash("shake256", { outputLength: len }) |
|  |  | .update(data) |
|  |  | .digest("hex"); |
|  |  | }; |
|  |  |  |
|  |  | // For unit test, export functions |
|  |  | if (process.env.TEST\_BACKEND) { |
|  |  | module.exports.\_\_test = { |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `88afab6`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fcommit%2F88afab6571ef7d4d41bb395cdb6ecd3968835a4a) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_36f1480a_20250111_000620.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fissues%2F3481)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fissues%2F3481)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=louislam%2Fuptime-kuma)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[louislam](/louislam)
/
**[uptime-kuma](/louislam/uptime-kuma)**
Public

* [Notifications](/login?return_to=%2Flouislam%2Fuptime-kuma) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Flouislam%2Fuptime-kuma)
* [Star
   62.4k](/login?return_to=%2Flouislam%2Fuptime-kuma)

* [Code](/louislam/uptime-kuma)
* [Issues
  666](/louislam/uptime-kuma/issues)
* [Pull requests
  100](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

Additional navigation options

* [Code](/louislam/uptime-kuma)
* [Issues](/louislam/uptime-kuma/issues)
* [Pull requests](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Flouislam%2Fuptime-kuma%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Flouislam%2Fuptime-kuma%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Admin (portal user) Audit Logs and Activities #3481

Open

1 task done

[Ali-Razmjoo](/Ali-Razmjoo) opened this issue
Jul 25, 2023
¬∑ 2 comments

Open

1 task done

# [Admin (portal user) Audit Logs and Activities](#top) #3481

[Ali-Razmjoo](/Ali-Razmjoo) opened this issue
Jul 25, 2023
¬∑ 2 comments

Labels
[area:settings](/louislam/uptime-kuma/labels/area%3Asettings)
Related to Settings page and application configration
[feature-request](/louislam/uptime-kuma/labels/feature-request)
Request for new features to be added

## Comments

[![@Ali-Razmjoo](https://avatars.githubusercontent.com/u/7676267?s=80&u=345e0b69bae7359ac98e46c642b9a1257b5b6cfc&v=4)](/Ali-Razmjoo)

Copy link

### **[Ali-Razmjoo](/Ali-Razmjoo)** commented [Jul 25, 2023](#issue-1821327147)

| ‚ö†Ô∏è Please verify that this feature request has NOT been suggested before.  * I checked and didn't find similar feature request  üè∑Ô∏è Feature Request Type UI Feature, Other üîñ Feature description Hi,  Uptime Kuma does not currently support logs & audits for user activity within the portal. This is something that can add some value to the product, especially for the ones who seek security compliance. It would be great to have this.  Alternatively, I am exporting database and application logs while running the application in verbose mode; but it would be nice to have user activities in the portal somehow.  Bests, Ali. ‚úîÔ∏è Solution The easy solution is to dump the logs in a file with user configured buffered size or with specified days of retention (to not get over the size limit) and provide an API to read it from the UI. ‚ùì Alternatives Support the remote syslog protocol to be configured via dashboard settings. Something like: <https://www.netiq.com/documentation/novelllogmanager11/log_manager_admin/data/bjzkhg5.html> üìù Additional Context NIST 800-58 SP, SOC2, ISO27001 requires IT systems to have audit logs, and it's pain for companies to use this system and handle those controls. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@Ali-Razmjoo](https://avatars.githubusercontent.com/u/7676267?s=40&u=345e0b69bae7359ac98e46c642b9a1257b5b6cfc&v=4)](/Ali-Razmjoo)
[Ali-Razmjoo](/Ali-Razmjoo)
added
the
[feature-request](/louislam/uptime-kuma/labels/feature-request)
Request for new features to be added
label
[Jul 25, 2023](#event-9917569480)

[![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=80&u=e63ad63474a13ab049668fe53d267e2bafbdd654&v=4)](/CommanderStorm)

Copy link

Collaborator

### **[CommanderStorm](/CommanderStorm)** commented [Jul 26, 2023](#issuecomment-1650818488)

| * [`NIST SP 800-58`](https://nvlpubs.nist.gov/nistpubs/legacy/sp/nistspecialpublication800-58.pdf) only targets VOIP => irrelevant * SOC2+ISO27001 seem to have a form of audit trail requirement from what I can gleam of publicly accessible documents   All actions are currently written to the log => I don't have access to the specs, is this sufficient? => could you provide screenshots of the exact requirements in these documents?  Hottake: Audit-logs are only relevant if more than one user can be present at one time ‚áí `uptime-kuma` can currently only ever be used by one user which does privileged actions. ‚áí imo only a feature which could become relevant if somebody gets around to implementing [#128](https://github.com/louislam/uptime-kuma/issues/128) or one of the duplicates like [#3272](https://github.com/louislam/uptime-kuma/issues/3272)  On the other hand, this Project is open source and open to PRs. Here is our contribution guide: <https://github.com/louislam/uptime-kuma/blob/master/CONTRIBUTING.md> |
| --- |

All reactions

Sorry, something went wrong.

[![@Ali-Razmjoo](https://avatars.githubusercontent.com/u/7676267?s=80&u=345e0b69bae7359ac98e46c642b9a1257b5b6cfc&v=4)](/Ali-Razmjoo)

Copy link

Author

### **[Ali-Razmjoo](/Ali-Razmjoo)** commented [Jul 26, 2023](#issuecomment-1652088451) ‚Ä¢ edited Loading

| [NIST SP 800-58](https://nvlpubs.nist.gov/nistpubs/legacy/sp/nistspecialpublication800-58.pdf) only targets VOIP => irrelevant  [@CommanderStorm](https://github.com/CommanderStorm), Sorry I meant NIST SP 800-92; it was a late night brain fart. It's not just that one security standard that requires logging in to the system, e.g., if you consider the Microsoft Threat Modeling (STRIDE) as the port of the SSDLC process in a company, not having logs enabled can cause repudiation as a threat.  SOC2+ISO27001 seems to have a form of audit trail requirement from what I can gleam of publicly accessible documents could you provide screenshots of the exact requirements in these documents?  We follow NIST SP 800-53 to implement and build SOC2 controls/policies (as a general guideline), and we dig into more details on other standard releases (e.g., FIPS)  More information: Some of the controls in NIST SP 800-53   * AU-2: Auditable Events * AU-3: Content of Audit Records * AU-6: Audit Review, Analysis, and Reporting * AU-12: Audit Generation   and Some of ISO 27001 controls/requirements:   * A.12.4.1: Event Logging: This control requires that event logs recording user activities, exceptions, faults, and information security events should be produced, kept, and regularly reviewed. * A.12.4.2: Protection of Log Information: This control requires that logging facilities and log information should be protected against tampering and unauthorized access. * A.12.4.3: Administrator and Operator Logs: This control requires that system administrator and system operator activities should be logged and the logs protected and regularly reviewed. * A.14.2.5: Secure System Engineering Principles: This control is about using secure engineering principles for developing and maintaining systems. While not specific to logging, it includes principles that could apply to logging.   more: <https://infosavvy.home.blog/2021/04/22/iso-27001-annex-a-12-4-logging-and-monitoring/>  ``` Hottake: Audit-logs are only relevant if more than one user can be present at one time ‚áí uptime-kuma can currently only ever be used by one user which does privileged actions. ‚áí imo only a feature which could become relevant if somebody gets around to implementing https://github.com/louislam/uptime-kuma/issues/128 or one of the duplicates like https://github.com/louislam/uptime-kuma/issues/3272  ```  Naturally IRL, when this happens, we share the password in a shared team key vault or anywhere FIPS 140-2 Level 2 compliance and have an update process that we follow (e.g., RACI model) to make sure we minimize the possible risks. We have a process that privileged user follows to increase business continuity...  ``` All actions are currently written to the log => I don't have access to the specs, is this sufficient?  ```  but it's still good to have more meaningful portal-level logs rather than application and database levels.  On the other hand, this Project is open source and open to PRs. Here is our contribution guide: [https://github.com/louislam/uptime-kuma/blob/master/CONTRIBUTING.md`](https://github.com/louislam/uptime-kuma/blob/master/CONTRIBUTING.md%60)  Yeah, I thought of that as well, but not sure if I am a good JS/TS developer; I will try my best üëç |
| --- |

All reactions

Sorry, something went wrong.

[![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=40&u=e63ad63474a13ab049668fe53d267e2bafbdd654&v=4)](/CommanderStorm)
[CommanderStorm](/CommanderStorm)
mentioned this issue
[Jul 26, 2023](#ref-issue-942027256)

[Enhancements
#21](/louislam/uptime-kuma/issues/21)

Closed

32 tasks

[![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=40&u=e63ad63474a13ab049668fe53d267e2bafbdd654&v=4)](/CommanderStorm)
[CommanderStorm](/CommanderStorm)
mentioned this issue
[Aug 22, 2023](#ref-issue-1861805697)

[Help with the security of this tool
#3632](/louislam/uptime-kuma/issues/3632)

Closed

2 tasks

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this issue
[Oct 9, 2023](#ref-issue-1933471353)

[x/vulndb: potential Go vuln in github.com/louislam/uptime-kuma: CVE-2023-44400
golang/vulndb#2104](/golang/vulndb/issues/2104)

Closed

[![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=40&u=e63ad63474a13ab049668fe53d267e2bafbdd654&v=4)](/CommanderStorm)
[CommanderStorm](/CommanderStorm)
added
the
[area:settings](/louislam/uptime-kuma/labels/area%3Asettings)
Related to Settings page and application configration
label
[Dec 5, 2023](#event-11146210126)

This was referenced May 11, 2024

[Notifications for Diffrent Events
#4753](/louislam/uptime-kuma/issues/4753)

Closed

[Exec monitor
#1117](/louislam/uptime-kuma/issues/1117)

Open

[![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=40&u=e63ad63474a13ab049668fe53d267e2bafbdd654&v=4)](/CommanderStorm)
[CommanderStorm](/CommanderStorm)
mentioned this issue
[Sep 29, 2024](#ref-issue-2554367783)

[add Access logs
#5136](/louislam/uptime-kuma/issues/5136)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fissues%2F3481)

Assignees

No one assigned

Labels

[area:settings](/louislam/uptime-kuma/labels/area%3Asettings)
Related to Settings page and application configration
[feature-request](/louislam/uptime-kuma/labels/feature-request)
Request for new features to be added

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@Ali-Razmjoo](https://avatars.githubusercontent.com/u/7676267?s=52&v=4)](/Ali-Razmjoo) [![@CommanderStorm](https://avatars.githubusercontent.com/u/26258709?s=52&v=4)](/CommanderStorm)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_3df26b7c_20250111_000621.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fsecurity%2Fadvisories%2FGHSA-g9v2-wqcj-j99g)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flouislam%2Fuptime-kuma%2Fsecurity%2Fadvisories%2FGHSA-g9v2-wqcj-j99g)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=louislam%2Fuptime-kuma)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[louislam](/louislam)
/
**[uptime-kuma](/louislam/uptime-kuma)**
Public

* [Notifications](/login?return_to=%2Flouislam%2Fuptime-kuma) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Flouislam%2Fuptime-kuma)
* [Star
   62.4k](/login?return_to=%2Flouislam%2Fuptime-kuma)

* [Code](/louislam/uptime-kuma)
* [Issues
  666](/louislam/uptime-kuma/issues)
* [Pull requests
  100](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

Additional navigation options

* [Code](/louislam/uptime-kuma)
* [Issues](/louislam/uptime-kuma/issues)
* [Pull requests](/louislam/uptime-kuma/pulls)
* [Actions](/louislam/uptime-kuma/actions)
* [Wiki](/louislam/uptime-kuma/wiki)
* [Security](/louislam/uptime-kuma/security)
* [Insights](/louislam/uptime-kuma/pulse)

# Persistentent User Sessions

Moderate

[louislam](/louislam)
published
GHSA-g9v2-wqcj-j99g
Oct 9, 2023

## Package

docker

louislam/uptime-kuma
([Docker](/advisories?query=ecosystem%3Adocker))

## Affected versions

<= v1.23.2

## Patched versions

v1.23.3

louislam/uptime-kuma
(Node.js)

<= v1.23.2

v1.23.3

## Description

# Summary

Attackers with access to a users' device can gain persistent account access.

This is caused by missing verification of Session Tokens after password changes and/or elapsed inactivity-periods.

# Details

`uptime-kuma` sets JWT tokens for users after successful authentication.

These tokens have the following design flaws:

* After successful login, a JWT token and it is stored in `sessionStorage` or `localStorage`.

  Which of the two is decided based on the `Remember Me` button.

  The users' token is valid without any time limitation, even after long periods of inactivity.

  This increases the risk of session hijacking if, for example, a user forgets to log off and leaves the PC.
* sessions are only deleted on the client side after a user loggs out, meaning a local attacker could reuse said token with deep system access over the browser
* If a user changes a password
  + any previously logged in clients are not logged out
  + previously issued tokens remained valid forever

These flaws allow user cookies to remain valid even after changing passwords or being inactive, posing a high security risk.

# POC

### Password resets not deactivating cookies

* Log in.
* Note the user cookie.
* Change your password.
* Attempt to log in again with the same cookie.
* The cookie remains valid despite the password change.

### Inactivity not deactivating sessions

In testing, even after a period of over a day of inactivity, the session was still valid

# Impact

Another person with local access to the device could take over the session permanently, even after hours of previous inactivity or a password change.

Such activity would not be obvious to the user (see [#3481](https://github.com/louislam/uptime-kuma/issues/3481) if you want to help with this).

With this gained account access, an attacker can cause:

## confidentially loss

* monitors (including private ones not shared on public status pages)
* notification providers
* settings like `api-keys` (only used for accessing `/metrics`)
* settings like secrets like the `Steam API Key`
* maintenance periods

## availability loss

* by creating a lot of monitors and setting the retention policy very high leading to degraded database performance or out of storage
* by creating a lot of `HTTP(s) - Browser Engine (Chrome/Chromium) (Beta)` leading to RAM exhaustion

## integrity loss

* by the attacker deleting a monitor
* by the attacker deleting a monitor's history
* by the atacker changing the meaning of a monitor (changing where it points)

## scope creep

If operated in some restricted network, access to monitors may provide the ability to change the scope of the attack to a different piece of infrastructure, for example via SQL commands to a database server.

We have not classified this as `changed scope` because credentials stored in the application for accessing other systems are existing valid paths across the trust boundary, and the user should be aware of that.

### Severity

Moderate

6.7

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
High

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
High

Availability
High

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:L/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:H

### CVE ID

CVE-2023-44400

### Weaknesses

[CWE-565](/advisories?query=cwe%3A565) [CWE-602](/advisories?query=cwe%3A602) [CWE-784](/advisories?query=cwe%3A784)

### Credits

* [![@Nansess](https://avatars.githubusercontent.com/u/75940580?s=40&v=4)](/Nansess)
  [Nansess](/Nansess)
  Reporter
* [![@dj4oC](https://avatars.githubusercontent.com/u/115982880?s=40&v=4)](/dj4oC)
  [dj4oC](/dj4oC)
  Reporter

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


