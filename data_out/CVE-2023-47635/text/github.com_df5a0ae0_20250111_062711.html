
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdecidim%2Fdecidim%2Fpull%2F6247)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdecidim%2Fdecidim%2Fpull%2F6247)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow&source=header-repo&source_repo=decidim%2Fdecidim)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[decidim](/decidim)
/
**[decidim](/decidim/decidim)**
Public

* [Notifications](/login?return_to=%2Fdecidim%2Fdecidim) You must be signed in to change notification settings
* [Fork
  409](/login?return_to=%2Fdecidim%2Fdecidim)
* [Star
   1.5k](/login?return_to=%2Fdecidim%2Fdecidim)

* [Code](/decidim/decidim)
* [Issues
  366](/decidim/decidim/issues)
* [Pull requests
  42](/decidim/decidim/pulls)
* [Discussions](/decidim/decidim/discussions)
* [Actions](/decidim/decidim/actions)
* [Projects
  4](/decidim/decidim/projects)
* [Security](/decidim/decidim/security)
* [Insights](/decidim/decidim/pulse)

Additional navigation options

* [Code](/decidim/decidim)
* [Issues](/decidim/decidim/issues)
* [Pull requests](/decidim/decidim/pulls)
* [Discussions](/decidim/decidim/discussions)
* [Actions](/decidim/decidim/actions)
* [Projects](/decidim/decidim/projects)
* [Security](/decidim/decidim/security)
* [Insights](/decidim/decidim/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fdecidim%2Fdecidim%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fdecidim%2Fdecidim%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Templates module #6247

 Merged

[tramuntanal](/tramuntanal)
merged 159 commits into
[decidim:develop](/decidim/decidim/tree/develop "decidim/decidim:develop")
from
[Platoniq:feature/decidim-module-templates](/Platoniq/decidim/tree/feature/decidim-module-templates "Platoniq/decidim:feature/decidim-module-templates")

Oct 1, 2020

 Merged

# [Templates module](#top) #6247

[tramuntanal](/tramuntanal)
merged 159 commits into
[decidim:develop](/decidim/decidim/tree/develop "decidim/decidim:develop")
from
[Platoniq:feature/decidim-module-templates](/Platoniq/decidim/tree/feature/decidim-module-templates "Platoniq/decidim:feature/decidim-module-templates")

Oct 1, 2020

[Conversation
48](/decidim/decidim/pull/6247)
[Commits
159](/decidim/decidim/pull/6247/commits)
[Checks
0](/decidim/decidim/pull/6247/checks)
[Files changed](/decidim/decidim/pull/6247/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![verarojman](https://avatars.githubusercontent.com/u/8806781?s=60&v=4)](/verarojman)

Copy link

Contributor

### @verarojman **[verarojman](/verarojman)** commented [Jun 30, 2020](#issue-648082383) ‚Ä¢ edited Loading

#### üé© What? Why?

This new module provides functionality to create templates for virtually any Decidim model from a new section in the admin panel.

The current implementation allows to create Questionnaire templates which can be managed (CRUD) and used whenever a questionnaire is created, to provide default values which can be changed afterwards.

#### üìå Related Issues

* Related to [Metadecidim Proposal #15293](https://meta.decidim.org/processes/roadmap/f/122/proposals/15293)

#### üìã Subtasks

* Add documentation regarding the feature
* Add tests

### üì∑ Screenshots

#### Create questionnaire template

## [Create questionnaire template](https://user-images.githubusercontent.com/8806781/86244644-92cc8c00-bba8-11ea-953c-553d65bdbdc8.gif)

#### Edit questionnaire template

## [Edit questionnaire template](https://user-images.githubusercontent.com/8806781/86244701-a546c580-bba8-11ea-970b-a2807df71f52.gif)

#### Create survey from questionnaire template

## [Create survey from questionnaire template](https://user-images.githubusercontent.com/8806781/86244795-c9a2a200-bba8-11ea-9b15-b4712663ab3f.gif)

#### Create meeting registration form without a questionnaire template

[![Create meeting registration form without a questionnaire template](https://user-images.githubusercontent.com/8806781/86245237-79780f80-bba9-11ea-87d5-bf1a376636bd.gif)](https://user-images.githubusercontent.com/8806781/86245237-79780f80-bba9-11ea-87d5-bf1a376636bd.gif)

Sorry, something went wrong.

All reactions

 [verarojman](/verarojman)
and others
added 30 commits
[June 4, 2020 18:26](#commits-pushed-ae209c1)

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Update module version](/decidim/decidim/pull/6247/commits/ae209c1ea4c63f9b5f0528cfffd004280f74d5ee "Update module version")`

`[ae209c1](/decidim/decidim/pull/6247/commits/ae209c1ea4c63f9b5f0528cfffd004280f74d5ee)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add module dependency to surveys gemspec](/decidim/decidim/pull/6247/commits/47e9b504ff71cac788cd41a9bd0f93f228e0628c "Add module dependency to surveys gemspec")`

`[47e9b50](/decidim/decidim/pull/6247/commits/47e9b504ff71cac788cd41a9bd0f93f228e0628c)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Start modules template](/decidim/decidim/pull/6247/commits/c6f3dd009471857f27b54ed5d46742481e9b2675 "Start modules template")`

`[c6f3dd0](/decidim/decidim/pull/6247/commits/c6f3dd009471857f27b54ed5d46742481e9b2675)`

[![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=40&v=4)](/microstudi)

`[gemspec](/decidim/decidim/pull/6247/commits/6288b20d79cbf8f737332dc230f35c5f654e7ab9 "gemspec")`

`[6288b20](/decidim/decidim/pull/6247/commits/6288b20d79cbf8f737332dc230f35c5f654e7ab9)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add templates to Gemfile](/decidim/decidim/pull/6247/commits/45f824d087b6d5bbe44fccc2e4119b14a74f1413 "Add templates to Gemfile")`

`[45f824d](/decidim/decidim/pull/6247/commits/45f824d087b6d5bbe44fccc2e4119b14a74f1413)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Show templates index](/decidim/decidim/pull/6247/commits/f54b9c6addb1a406be08b2c016464efebb32895c "Show templates index")`

`[f54b9c6](/decidim/decidim/pull/6247/commits/f54b9c6addb1a406be08b2c016464efebb32895c)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Update readme](/decidim/decidim/pull/6247/commits/ca33aca65ae057bba292ee3682361bf63b4860fa "Update readme")`

`[ca33aca](/decidim/decidim/pull/6247/commits/ca33aca65ae057bba292ee3682361bf63b4860fa)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Layout for templates index](/decidim/decidim/pull/6247/commits/878f42b43d63032846287e968398b62c9a77ba4f "Layout for templates index")`

`[878f42b](/decidim/decidim/pull/6247/commits/878f42b43d63032846287e968398b62c9a77ba4f)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Put template model inside Templates module](/decidim/decidim/pull/6247/commits/12414007ea2138947640fbfd26d2c11dbff9b549 "Put template model inside Templates module")`

`[1241400](/decidim/decidim/pull/6247/commits/12414007ea2138947640fbfd26d2c11dbff9b549)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Setup layout for templates application controller](/decidim/decidim/pull/6247/commits/35f57660c244e88a4291e3566ab955911ce20220 "Setup layout for templates application controller")`

`[35f5766](/decidim/decidim/pull/6247/commits/35f57660c244e88a4291e3566ab955911ce20220)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add decidim-templates to Gemfile](/decidim/decidim/pull/6247/commits/2790770d45ca4ed78af437c118fb3e5c2ad7d7c3 "Add decidim-templates to Gemfile")`

`[2790770](/decidim/decidim/pull/6247/commits/2790770d45ca4ed78af437c118fb3e5c2ad7d7c3)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Update templates table](/decidim/decidim/pull/6247/commits/58ce579105a6f966452617f30d7330f3fa7f604b "Update templates table")`

`[58ce579](/decidim/decidim/pull/6247/commits/58ce579105a6f966452617f30d7330f3fa7f604b)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Create templatable concern](/decidim/decidim/pull/6247/commits/f4c98693a9af511ad213586dffb7600ec91a4207 "Create templatable concern")`

`[f4c9869](/decidim/decidim/pull/6247/commits/f4c98693a9af511ad213586dffb7600ec91a4207)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Create basic permissions and permission specs](/decidim/decidim/pull/6247/commits/fa41762c6d2bacb38a2c427d7372026c7aa72fd9 "Create basic permissions and permission specs")`

`[fa41762](/decidim/decidim/pull/6247/commits/fa41762c6d2bacb38a2c427d7372026c7aa72fd9)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Create has_templates controller concern](/decidim/decidim/pull/6247/commits/aa8411f87c47f77846912a02aafcb6e9b959fc07 "Create has_templates controller concern")`

`[aa8411f](/decidim/decidim/pull/6247/commits/aa8411f87c47f77846912a02aafcb6e9b959fc07)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Update views](/decidim/decidim/pull/6247/commits/acb47ca14061825e76f32d67ac51d853d59e526d "Update views")`

`[acb47ca](/decidim/decidim/pull/6247/commits/acb47ca14061825e76f32d67ac51d853d59e526d)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add attributes in commands](/decidim/decidim/pull/6247/commits/ef58edb26abbd4dbc2595316c2a233ea5d7c71ba "Add attributes in commands")`

`[ef58edb](/decidim/decidim/pull/6247/commits/ef58edb26abbd4dbc2595316c2a233ea5d7c71ba)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Create basic template model spec](/decidim/decidim/pull/6247/commits/127e55639491a80509960c935d50866d207859bb "Create basic template model spec")`

`[127e556](/decidim/decidim/pull/6247/commits/127e55639491a80509960c935d50866d207859bb)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Remove templates from gemfile](/decidim/decidim/pull/6247/commits/20ebd9417614edbafaf1ff60e86cff5234010afe "Remove templates from gemfile")`

`[20ebd94](/decidim/decidim/pull/6247/commits/20ebd9417614edbafaf1ff60e86cff5234010afe)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Fix permissions](/decidim/decidim/pull/6247/commits/342147300d1992b1770b9539bb015cb1ea716bb3 "Fix permissions")`

`[3421473](/decidim/decidim/pull/6247/commits/342147300d1992b1770b9539bb015cb1ea716bb3)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Simplify views](/decidim/decidim/pull/6247/commits/39a25c534a3c95899feb308e23e8f2a16883311d "Simplify views")`

`[39a25c5](/decidim/decidim/pull/6247/commits/39a25c534a3c95899feb308e23e8f2a16883311d)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add questionnaires controller for questionnaire_templates](/decidim/decidim/pull/6247/commits/eefb6dd0f578a1b7e42eb9512b6d59b1d2ee0da8 "Add questionnaires controller for questionnaire_templates")`

`[eefb6dd](/decidim/decidim/pull/6247/commits/eefb6dd0f578a1b7e42eb9512b6d59b1d2ee0da8)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Edit questionnaire templates](/decidim/decidim/pull/6247/commits/5bd4dc6ca74091c26a00c286fd2e217d58041433 "Edit questionnaire templates")`

`[5bd4dc6](/decidim/decidim/pull/6247/commits/5bd4dc6ca74091c26a00c286fd2e217d58041433)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Update templates layout](/decidim/decidim/pull/6247/commits/64fac1748590f613353b8efde939ac09834e3bc6 "Update templates layout")`

`[64fac17](/decidim/decidim/pull/6247/commits/64fac1748590f613353b8efde939ac09834e3bc6)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add stylesheet and remove unused concern](/decidim/decidim/pull/6247/commits/00903231711b44b9aedc3984f26066818c92f6e6 "Add stylesheet and remove unused concern")`

`[0090323](/decidim/decidim/pull/6247/commits/00903231711b44b9aedc3984f26066818c92f6e6)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Merge branch 'develop' into feature/decidim-module-templates](/decidim/decidim/pull/6247/commits/580ec9506f6bc9cf87af96225a34cbfe641a13f8 "Merge branch 'develop' into feature/decidim-module-templates")`

`[580ec95](/decidim/decidim/pull/6247/commits/580ec9506f6bc9cf87af96225a34cbfe641a13f8)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Refactor routing](/decidim/decidim/pull/6247/commits/4f97e04aecbd3f2c2ef9bbbc15cde24a0f074417 "Refactor routing")`

`[4f97e04](/decidim/decidim/pull/6247/commits/4f97e04aecbd3f2c2ef9bbbc15cde24a0f074417)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add templates to generator](/decidim/decidim/pull/6247/commits/92a5ddca91e344ad2aaeb7d6e5e521b196105ef0 "Add templates to generator")`

`[92a5ddc](/decidim/decidim/pull/6247/commits/92a5ddca91e344ad2aaeb7d6e5e521b196105ef0)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Cleanup Create template command](/decidim/decidim/pull/6247/commits/8336c8661f8eb790ea7a67c1dcc5113acfacc484 "Cleanup Create template command")`

`[8336c86](/decidim/decidim/pull/6247/commits/8336c8661f8eb790ea7a67c1dcc5113acfacc484)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add action messages](/decidim/decidim/pull/6247/commits/8ebee59c15828893b6f920da0c39fc8c885bbabb "Add action messages")`

`[8ebee59](/decidim/decidim/pull/6247/commits/8ebee59c15828893b6f920da0c39fc8c885bbabb)`

149 hidden items

Load more‚Ä¶

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Prevent overriding template variable in templatable.rb](/decidim/decidim/pull/6247/commits/fac178f18d5889743be97cffecd706363755915b "Prevent overriding template variable in templatable.rb")`

`[fac178f](/decidim/decidim/pull/6247/commits/fac178f18d5889743be97cffecd706363755915b)`

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=80&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

Copy link

Contributor

### **[tramuntanal](/tramuntanal)** commented [Sep 24, 2020](#issuecomment-698268894)

| Hi @decidim/product , is it ok to merge this PR, did you find the time to check it? |
| --- |

All reactions

Sorry, something went wrong.

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=80&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

Copy link

Contributor

### **[tramuntanal](/tramuntanal)** commented [Sep 24, 2020](#issuecomment-698270731)

| sorry, the window I had open from days ago for this PR needed to be refreshed. Now I see there are conflicts and the segfault problem. We will have to wait until we have the segfault problem solved but meanwhile it could be a good idea to have it accepted so it wont be blocked when being able to merge it.  [@microstudi](https://github.com/microstudi) is is now ready for @decidim/product 's review? |
| --- |

All reactions

Sorry, something went wrong.

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Merge branch 'develop' into feature/decidim-module-templates](/decidim/decidim/pull/6247/commits/d2170ef8f8635801472f8524db77f247eff5cf96 "Merge branch 'develop' into feature/decidim-module-templates")`

`[d2170ef](/decidim/decidim/pull/6247/commits/d2170ef8f8635801472f8524db77f247eff5cf96)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=80&v=4)](/verarojman)

Copy link

Contributor

Author

### **[verarojman](/verarojman)** commented [Sep 24, 2020](#issuecomment-698297576)

| [@tramuntanal](https://github.com/tramuntanal) I've resolved conflicts. It seems the bug [@andreslucena](https://github.com/andreslucena) had bumped into is still happening, though. I'm checking it now, I'll tell you both when it's solved. |
| --- |

All reactions

Sorry, something went wrong.

 [verarojman](/verarojman)
added 3 commits
[September 24, 2020 14:53](#commits-pushed-ad55750)

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Move helper include to has_questionnaire controller concern](/decidim/decidim/pull/6247/commits/ad557500959ce742b0e660a6e1f0fe37c927882c "Move helper include to has_questionnaire controller concern")`

`[ad55750](/decidim/decidim/pull/6247/commits/ad557500959ce742b0e660a6e1f0fe37c927882c)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Add test for editing questionnaire for new template](/decidim/decidim/pull/6247/commits/031e90cff7bf6439dd6839ddbeaf8b29a4ee3716 "Add test for editing questionnaire for new template")`

`[031e90c](/decidim/decidim/pull/6247/commits/031e90cff7bf6439dd6839ddbeaf8b29a4ee3716)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)

`[Fix rubocop offenses](/decidim/decidim/pull/6247/commits/8780d3d753938eb09b75a8750fdec4081e1c97f0 "Fix rubocop offenses")`

`[8780d3d](/decidim/decidim/pull/6247/commits/8780d3d753938eb09b75a8750fdec4081e1c97f0)`

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=80&v=4)](/verarojman)

Copy link

Contributor

Author

### **[verarojman](/verarojman)** commented [Sep 24, 2020](#issuecomment-698465614)

| [@tramuntanal](https://github.com/tramuntanal) I've resolved conflicts. It seems the bug [@andreslucena](https://github.com/andreslucena) had bumped into is still happening, though. I'm checking it now, I'll tell you both when it's solved.  Done :) |
| --- |

All reactions

Sorry, something went wrong.

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=80&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

Copy link

Contributor

### **[tramuntanal](/tramuntanal)** commented [Sep 25, 2020](#issuecomment-698971078)

| Thanks for the update [@verarojman](https://github.com/verarojman) !  I've tested in your demo environment and after trying to add a question [here](http://decidim.platoniq.net/admin/templates/questionnaire_templates/2/edit?locale=ca) of type "short answer" I get a form error but I can't see where the error is because the question can not be open anymore. I guess it was because I was only filling the content in catalan and english is required. Would you be so kind to check it please? |
| --- |

All reactions

Sorry, something went wrong.

[![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=80&v=4)](/microstudi)

Copy link

Contributor

### **[microstudi](/microstudi)** commented [Sep 25, 2020](#issuecomment-698975029)

| Thanks for the update [@verarojman](https://github.com/verarojman) !  I've tested in your demo environment and after trying to add a question [here](http://decidim.platoniq.net/admin/templates/questionnaire_templates/2/edit?locale=ca) of type "short answer" I get a form error but I can't see where the error is because the question can not be open anymore. I guess it was because I was only filling the content in catalan and english is required. Would you be so kind to check it please?  That staging instance wasn't updated. I had to reset the seeds to put the last version. We will check this, thanks! |
| --- |

 üëç
1
 tramuntanal reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=80&v=4)](/microstudi)

Copy link

Contributor

### **[microstudi](/microstudi)** commented [Sep 25, 2020](#issuecomment-698982122)

| [@verarojman](https://github.com/verarojman) to put more context on this, when creating a new question in a template. If there's some error you can't expand the question to see the error. It just doesn't work. |
| --- |

All reactions

Sorry, something went wrong.

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=80&v=4)](/verarojman)

Copy link

Contributor

Author

### **[verarojman](/verarojman)** commented [Sep 28, 2020](#issuecomment-699895301)

| [@microstudi](https://github.com/microstudi) [@tramuntanal](https://github.com/tramuntanal) this seems to be a bug related to the collapsible questions feature, not with the templates module. I'll submit a new PR fixing this. |
| --- |

 üëç
2
 microstudi and tramuntanal reacted with thumbs up emoji

All reactions

* üëç
  2 reactions

Sorry, something went wrong.

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=80&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

Copy link

Contributor

### **[tramuntanal](/tramuntanal)** commented [Sep 30, 2020](#issuecomment-701182342)

| Ok, [@verarojman](https://github.com/verarojman) so we wait for your bugfix to merge this PR as it is buggy as it is now, thanks! |
| --- |

All reactions

Sorry, something went wrong.

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=80&v=4)](/verarojman)

Copy link

Contributor

Author

### **[verarojman](/verarojman)** commented [Sep 30, 2020](#issuecomment-701495967)

| The PR fixing the collapsible questions bug is [#6565](https://github.com/decidim/decidim/pull/6565) |
| --- |

 ‚ù§Ô∏è
1
 microstudi reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)
[tramuntanal](/tramuntanal)
mentioned this pull request
[Oct 1, 2020](#ref-pullrequest-710221372)

[Fix expanding new questions when questionnaire has errors
#6565](/decidim/decidim/pull/6565)
 Merged

[![tramuntanal](https://avatars.githubusercontent.com/u/199462?s=60&v=4)](/tramuntanal)

**[tramuntanal](/tramuntanal)**
approved these changes
[Oct 1, 2020](#pullrequestreview-500042236)

 [View reviewed changes](/decidim/decidim/pull/6247/files/8780d3d753938eb09b75a8750fdec4081e1c97f0)

 [![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)
[tramuntanal](/tramuntanal)
dismissed
[microstudi](/microstudi)‚Äôs [stale review](#pullrequestreview-487676773)
[October 1, 2020 06:34](#event-3827749159)

already addressed

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)
[tramuntanal](/tramuntanal)
merged commit [`8b4ed01`](/decidim/decidim/commit/8b4ed01b3f3b9a42c05b99b39a6b79511af0977a)
into
decidim:develop

[Oct 1, 2020](https://github.com/decidim/decidim/pull/6247#event-3827750394)

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=80&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

Copy link

Contributor

### **[tramuntanal](/tramuntanal)** commented [Oct 1, 2020](#issuecomment-701922000)

| Thanks [@verarojman](https://github.com/verarojman) for the persistence üëç |
| --- |

 üëç
1
 verarojman reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![agustibr](https://avatars.githubusercontent.com/u/210216?s=60&v=4)](/agustibr)

**[agustibr](/agustibr)**
reviewed
[Oct 5, 2020](#pullrequestreview-501889459)

 [View reviewed changes](/decidim/decidim/pull/6247/files/8780d3d753938eb09b75a8750fdec4081e1c97f0)

[decidim-surveys/decidim-surveys.gemspec](/decidim/decidim/pull/6247/files/8780d3d753938eb09b75a8750fdec4081e1c97f0#diff-99a116d336680b3b59645dd698076b1d996954a6c47e10ed32f92cf02d36e9da)

|  |  | @@ -22,6 +22,7 @@ Gem::Specification.new do |s| | |
| --- | --- | --- | --- |
|  |  |  |
|  |  | s.add\_dependency "decidim-core", Decidim::Surveys.version |
|  |  | s.add\_dependency "decidim-forms", Decidim::Surveys.version |
|  |  | s.add\_dependency "decidim-templates", Decidim::Surveys.version |

Copy link

Contributor

### @agustibr **[agustibr](/agustibr)** [Oct 5, 2020](#discussion_r499473796)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Hi @decidim/core! Should this dependency be moved to `decidim-forms`?

As other modules like `decidim-meetings` or `decidim-elections` also use questionnaires from `decidim-forms` or should it be added to each module that has a dependency with `decidim-forms`?

[decidim/decidim-meetings/decidim-meetings.gemspec](https://github.com/decidim/decidim/blob/a179b49ed88662c1dcb0229eae61611e86ceb9a0/decidim-meetings/decidim-meetings.gemspec#L26)

Line 26
in
[a179b49](/decidim/decidim/commit/a179b49ed88662c1dcb0229eae61611e86ceb9a0)

|  | s.add\_dependency "decidim-forms", Decidim::Meetings.version |
| --- | --- |

[decidim/decidim-elections/decidim-elections.gemspec](https://github.com/decidim/decidim/blob/f3f79b4a6bcff82e2cb4140e494936fa3f4e22bb/decidim-elections/decidim-elections.gemspec#L22)

Line 22
in
[f3f79b4](/decidim/decidim/commit/f3f79b4a6bcff82e2cb4140e494936fa3f4e22bb)

|  | s.add\_dependency "decidim-forms", Decidim::Elections.version |
| --- | --- |

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @microstudi **[microstudi](/microstudi)** [Oct 5, 2020](#discussion_r499500058)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

not sure, you could used `decidim-forms` without templates if you want.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @agustibr **[agustibr](/agustibr)** [Oct 5, 2020](#discussion_r499527496)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Hi [@microstudi](https://github.com/microstudi) üòÑ, I found this line, in `decidim-forms`, that raised an error without `decidim-templates` in `decidim-elections`:

[decidim/decidim-forms/app/views/decidim/forms/admin/questionnaires/\_form.html.erb](https://github.com/decidim/decidim/blob/a179b49ed88662c1dcb0229eae61611e86ceb9a0/decidim-forms/app/views/decidim/forms/admin/questionnaires/_form.html.erb#L5)

Line 5
in
[a179b49](/decidim/decidim/commit/a179b49ed88662c1dcb0229eae61611e86ceb9a0)

|  | <% unless questionnaire.questionnaire\_for.class == Decidim::Templates::Template %> |
| --- | --- |

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @microstudi **[microstudi](/microstudi)** [Oct 5, 2020](#discussion_r499574063)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Then I'd say that's a bug, we should check for Template to be defined. But you may also be right and just made forms depedant on Templates whether you use it or not. We'll look at it, thanks for pointing that out!

Sorry, something went wrong.

 üëç
1
 agustibr reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Copy link

Contributor

### @agustibr **[agustibr](/agustibr)** [Oct 5, 2020](#discussion_r499608970)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ok, nice feature by the way!

Sorry, something went wrong.

All reactions

[![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=40&v=4)](/andreslucena)
[andreslucena](/andreslucena)
mentioned this pull request
[Oct 6, 2020](#ref-pullrequest-702848762)

[Convert technical docs to Antora
#6526](/decidim/decidim/pull/6526)
 Merged

1 task

[andreslucena](/andreslucena)
added a commit
that referenced
this pull request
[Oct 6, 2020](#ref-commit-0544247)
[![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=40&v=4)](/andreslucena)

`[Sync "Templates module" by](/decidim/decidim/commit/054424774ec320fde3c41b19cc96039a2c955a08 "Sync \"Templates module\" by @verarojman

Extracted from https://github.com/decidim/decidim/pull/6247") [@verarojman](https://github.com/verarojman)`
‚Ä¶

`[0544247](/decidim/decidim/commit/054424774ec320fde3c41b19cc96039a2c955a08)`

```
Extracted from [#6247](https://github.com/decidim/decidim/pull/6247)
```

[![@agustibr](https://avatars.githubusercontent.com/u/210216?s=40&v=4)](/agustibr)
[agustibr](/agustibr)
mentioned this pull request
[Oct 7, 2020](#ref-pullrequest-716359699)

[chore(deps): add decidim-templates to Gemfile
codegram/decidim-staging#190](/codegram/decidim-staging/pull/190)
 Merged

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman)
[verarojman](/verarojman)
mentioned this pull request
[Oct 8, 2020](#ref-pullrequest-717464131)

[Fix dependencies for decidim-templates within decidim-forms
#6652](/decidim/decidim/pull/6652)
 Merged

[roxanaopr](/roxanaopr)
pushed a commit
to tremend-cofe/decidim
that referenced
this pull request
[Oct 15, 2020](#ref-commit-3f17649)
[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=40&v=4)](/verarojman) [![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=40&v=4)](/microstudi) [![@roxanaopr](https://avatars.githubusercontent.com/u/66411127?s=40&v=4)](/roxanaopr)

`[Templates module (](/tremend-cofe/decidim/commit/3f17649e7fde0bf8bad911f42a6388e05316ef0a "Templates module (#6247)

* Update module version

* Add module dependency to surveys gemspec

* Start modules template

* gemspec

* Add templates to Gemfile

* Show templates index

* Update readme

* Layout for templates index

* Put template model inside Templates module

* Setup layout for templates application controller

* Add decidim-templates to Gemfile

* Update templates table

* Create templatable concern

* Create basic permissions and permission specs

* Create has_templates controller concern

* Update views

* Add attributes in commands

* Create basic template model spec

* Remove templates from gemfile

* Fix permissions

* Simplify views

* Add questionnaires controller for questionnaire_templates

* Edit questionnaire templates

* Update templates layout

* Add stylesheet and remove unused concern

* Refactor routing

* Add templates to generator

* Cleanup Create template command

* Add action messages

* Copy template command

* Destroy command

* Add decidim-templates to root Gemfile

* Add templates migrations to the main generator. Set github workflow

* Move template spec

* Delete unused file

* Add factory for questionnaire template

* Add example for resource_name

* Add template form spec

* Add permissions specs

* Add system spec for create questionnaire template

* Add examples for edit a template questionnaire

* Add system specs for updating questionnaire_template

* Add example for listing templates

* Destroy templatable when template is destroyed

* More intelligible titles

* Remove templates controller, root to questionnaire templates

* Remove unused file

* Update routes and permissions for preview

* Embed preview in edit template view

* Remove permission for preview

* Add specs for copy and destroy template

* Add spec for #resource_name in template model

* Clean up #resource_name

* Spec for template name validation

* Spec for error in copy template action

* Always include templates in admin menu

* Menu item links to templates/questionnaire_templates

* Remove unused invalid broadcast from destroy in controller

* Fix title for questionnaire form

* Show questionnaire preview with frontend styles

* Move questionnaire preview outside of form

* Fix typo in locale

* Normalize locales

* Lint erb

* Make rubocop happy

* Add spec for preview questionnaire

* Revert has_questionnaire to previous state

* Decouple templates from organization

* Hide export dropdown if editing a questionnaire template

* Add search for templates autocomplete

* Load default options in autocomplete_select

* Skip template action

* WIP on preview action for templates

* More WIP on autocomplete changeURL

* More WIP on autocomplete changeURL

* Setup cancelTokenSource in autocomplete handleChange

* Autocomplete calling changeURL

* Load questionnaire in preview action

* Load script on autocomplete change

* Load preview when choosing questionnaire template

* Improve create-from-template flow

* Apply questionnaire template action

* Fix specs

* Allow using template for creating template

* remove byebug

* WIP on spec for choose template

* Check for template preview in spec

* Add spec for select options count in choose template

* Specs for when template choose screen isn't shown

* Rubocop corrections

* Rubocop corrections

* Spec for applying a template to a questionnaire

* Fix some specs

* Normalize locales

* Update decidim_app-design gemfile

* Fix errors in views

* Remove unused keys from locales

* Lint js

* Style lint

* Rubocop corrections

* Use trait for questionnaire in system spec

* Update bundle.js

* Remove trailing whitespace

* Fix form builder spec

* Add route for answer_options

* Fix spec failing due to translation

* Add 'wait: 5' to prevent failure in spec

* Lint

* Fix typo

* Add newline at end of file

* Change naming in spec

* Make table headers more descriptive

* Fix formbuilder spec with change_url

* Add class to \"create from template\" button wrapper

* Lint erb

* Fix admin menu spec

* Normalize locales

* Fix rubocop offenses

* Add documentation in template model

* Rename `resource` to more specific `questionnaire` in command

* Add inline documentation to admin_engine

* Inline docs

* Remove empty block

* Use symbol for routes module

* Add documentation .md file for templates

* Lint markdown

* Implement public_url method in questionnaires controller

* Remove trailing whitespace

* Review changes and suggestions

* Remove parentheses

* Update required ruby version for decidim-templates

* Use accept_confirm in spec

* Refactor translations in helper

* Update CI config for templates

* Remove spec setting nil name and failing for db constraint

* Templatable questionnaire is pristine if no questions answered

* Add seeds for templates

* Add specs for questionnaire's #pristine? method

* Remove superfluous stylesheet includes

* Revert \"Remove superfluous stylesheet includes\"

This reverts commit 8c779ea00c3fae326357e9cf4f00e8fa0cedd016.

* Remove superfluous stylesheet includes

* add templates css manifest for compilation

* Hide preview and answers buttons when editing a questionnaire template

* Prevent choosing templates when creating a template

* Prevent overriding template variable in templatable.rb

* Move helper include to has_questionnaire controller concern

* Add test for editing questionnaire for new template

* Fix rubocop offenses

Co-authored-by: Ivan Verg√©s <ivan@platoniq.net>")[decidim#6247](https://github.com/decidim/decidim/pull/6247)[)](/tremend-cofe/decidim/commit/3f17649e7fde0bf8bad911f42a6388e05316ef0a "Templates module (#6247)

* Update module version

* Add module dependency to surveys gemspec

* Start modules template

* gemspec

* Add templates to Gemfile

* Show templates index

* Update readme

* Layout for templates index

* Put template model inside Templates module

* Setup layout for templates application controller

* Add decidim-templates to Gemfile

* Update templates table

* Create templatable concern

* Create basic permissions and permission specs

* Create has_templates controller concern

* Update views

* Add attributes in commands

* Create basic template model spec

* Remove templates from gemfile

* Fix permissions

* Simplify views

* Add questionnaires controller for questionnaire_templates

* Edit questionnaire templates

* Update templates layout

* Add stylesheet and remove unused concern

* Refactor routing

* Add templates to generator

* Cleanup Create template command

* Add action messages

* Copy template command

* Destroy command

* Add decidim-templates to root Gemfile

* Add templates migrations to the main generator. Set github workflow

* Move template spec

* Delete unused file

* Add factory for questionnaire template

* Add example for resource_name

* Add template form spec

* Add permissions specs

* Add system spec for create questionnaire template

* Add examples for edit a template questionnaire

* Add system specs for updating questionnaire_template

* Add example for listing templates

* Destroy templatable when template is destroyed

* More intelligible titles

* Remove templates controller, root to questionnaire templates

* Remove unused file

* Update routes and permissions for preview

* Embed preview in edit template view

* Remove permission for preview

* Add specs for copy and destroy template

* Add spec for #resource_name in template model

* Clean up #resource_name

* Spec for template name validation

* Spec for error in copy template action

* Always include templates in admin menu

* Menu item links to templates/questionnaire_templates

* Remove unused invalid broadcast from destroy in controller

* Fix title for questionnaire form

* Show questionnaire preview with frontend styles

* Move questionnaire preview outside of form

* Fix typo in locale

* Normalize locales

* Lint erb

* Make rubocop happy

* Add spec for preview questionnaire

* Revert has_questionnaire to previous state

* Decouple templates from organization

* Hide export dropdown if editing a questionnaire template

* Add search for templates autocomplete

* Load default options in autocomplete_select

* Skip template action

* WIP on preview action for templates

* More WIP on autocomplete changeURL

* More WIP on autocomplete changeURL

* Setup cancelTokenSource in autocomplete handleChange

* Autocomplete calling changeURL

* Load questionnaire in preview action

* Load script on autocomplete change

* Load preview when choosing questionnaire template

* Improve create-from-template flow

* Apply questionnaire template action

* Fix specs

* Allow using template for creating template

* remove byebug

* WIP on spec for choose template

* Check for template preview in spec

* Add spec for select options count in choose template

* Specs for when template choose screen isn't shown

* Rubocop corrections

* Rubocop corrections

* Spec for applying a template to a questionnaire

* Fix some specs

* Normalize locales

* Update decidim_app-design gemfile

* Fix errors in views

* Remove unused keys from locales

* Lint js

* Style lint

* Rubocop corrections

* Use trait for questionnaire in system spec

* Update bundle.js

* Remove trailing whitespace

* Fix form builder spec

* Add route for answer_options

* Fix spec failing due to translation

* Add 'wait: 5' to prevent failure in spec

* Lint

* Fix typo

* Add newline at end of file

* Change naming in spec

* Make table headers more descriptive

* Fix formbuilder spec with change_url

* Add class to \"create from template\" button wrapper

* Lint erb

* Fix admin menu spec

* Normalize locales

* Fix rubocop offenses

* Add documentation in template model

* Rename `resource` to more specific `questionnaire` in command

* Add inline documentation to admin_engine

* Inline docs

* Remove empty block

* Use symbol for routes module

* Add documentation .md file for templates

* Lint markdown

* Implement public_url method in questionnaires controller

* Remove trailing whitespace

* Review changes and suggestions

* Remove parentheses

* Update required ruby version for decidim-templates

* Use accept_confirm in spec

* Refactor translations in helper

* Update CI config for templates

* Remove spec setting nil name and failing for db constraint

* Templatable questionnaire is pristine if no questions answered

* Add seeds for templates

* Add specs for questionnaire's #pristine? method

* Remove superfluous stylesheet includes

* Revert \"Remove superfluous stylesheet includes\"

This reverts commit 8c779ea00c3fae326357e9cf4f00e8fa0cedd016.

* Remove superfluous stylesheet includes

* add templates css manifest for compilation

* Hide preview and answers buttons when editing a questionnaire template

* Prevent choosing templates when creating a template

* Prevent overriding template variable in templatable.rb

* Move helper include to has_questionnaire controller concern

* Add test for editing questionnaire for new template

* Fix rubocop offenses

Co-authored-by: Ivan Verg√©s <ivan@platoniq.net>")`
‚Ä¶

`[3f17649](/tremend-cofe/decidim/commit/3f17649e7fde0bf8bad911f42a6388e05316ef0a)`

```
* Update module version

* Add module dependency to surveys gemspec

* Start modules template

* gemspec

* Add templates to Gemfile

* Show templates index

* Update readme

* Layout for templates index

* Put template model inside Templates module

* Setup layout for templates application controller

* Add decidim-templates to Gemfile

* Update templates table

* Create templatable concern

* Create basic permissions and permission specs

* Create has_templates controller concern

* Update views

* Add attributes in commands

* Create basic template model spec

* Remove templates from gemfile

* Fix permissions

* Simplify views

* Add questionnaires controller for questionnaire_templates

* Edit questionnaire templates

* Update templates layout

* Add stylesheet and remove unused concern

* Refactor routing

* Add templates to generator

* Cleanup Create template command

* Add action messages

* Copy template command

* Destroy command

* Add decidim-templates to root Gemfile

* Add templates migrations to the main generator. Set github workflow

* Move template spec

* Delete unused file

* Add factory for questionnaire template

* Add example for resource_name

* Add template form spec

* Add permissions specs

* Add system spec for create questionnaire template

* Add examples for edit a template questionnaire

* Add system specs for updating questionnaire_template

* Add example for listing templates

* Destroy templatable when template is destroyed

* More intelligible titles

* Remove templates controller, root to questionnaire templates

* Remove unused file

* Update routes and permissions for preview

* Embed preview in edit template view

* Remove permission for preview

* Add specs for copy and destroy template

* Add spec for #resource_name in template model

* Clean up #resource_name

* Spec for template name validation

* Spec for error in copy template action

* Always include templates in admin menu

* Menu item links to templates/questionnaire_templates

* Remove unused invalid broadcast from destroy in controller

* Fix title for questionnaire form

* Show questionnaire preview with frontend styles

* Move questionnaire preview outside of form

* Fix typo in locale

* Normalize locales

* Lint erb

* Make rubocop happy

* Add spec for preview questionnaire

* Revert has_questionnaire to previous state

* Decouple templates from organization

* Hide export dropdown if editing a questionnaire template

* Add search for templates autocomplete

* Load default options in autocomplete_select

* Skip template action

* WIP on preview action for templates

* More WIP on autocomplete changeURL

* More WIP on autocomplete changeURL

* Setup cancelTokenSource in autocomplete handleChange

* Autocomplete calling changeURL

* Load questionnaire in preview action

* Load script on autocomplete change

* Load preview when choosing questionnaire template

* Improve create-from-template flow

* Apply questionnaire template action

* Fix specs

* Allow using template for creating template

* remove byebug

* WIP on spec for choose template

* Check for template preview in spec

* Add spec for select options count in choose template

* Specs for when template choose screen isn't shown

* Rubocop corrections

* Rubocop corrections

* Spec for applying a template to a questionnaire

* Fix some specs

* Normalize locales

* Update decidim_app-design gemfile

* Fix errors in views

* Remove unused keys from locales

* Lint js

* Style lint

* Rubocop corrections

* Use trait for questionnaire in system spec

* Update bundle.js

* Remove trailing whitespace

* Fix form builder spec

* Add route for answer_options

* Fix spec failing due to translation

* Add 'wait: 5' to prevent failure in spec

* Lint

* Fix typo

* Add newline at end of file

* Change naming in spec

* Make table headers more descriptive

* Fix formbuilder spec with change_url

* Add class to "create from template" button wrapper

* Lint erb

* Fix admin menu spec

* Normalize locales

* Fix rubocop offenses

* Add documentation in template model

* Rename `resource` to more specific `questionnaire` in command

* Add inline documentation to admin_engine

* Inline docs

* Remove empty block

* Use symbol for routes module

* Add documentation .md file for templates

* Lint markdown

* Implement public_url method in questionnaires controller

* Remove trailing whitespace

* Review changes and suggestions

* Remove parentheses

* Update required ruby version for decidim-templates

* Use accept_confirm in spec

* Refactor translations in helper

* Update CI config for templates

* Remove spec setting nil name and failing for db constraint

* Templatable questionnaire is pristine if no questions answered

* Add seeds for templates

* Add specs for questionnaire's #pristine? method

* Remove superfluous stylesheet includes

* Revert "Remove superfluous stylesheet includes"

This reverts commit [8c779ea](https://github.com/tremend-cofe/decidim/commit/8c779ea00c3fae326357e9cf4f00e8fa0cedd016).

* Remove superfluous stylesheet includes

* add templates css manifest for compilation

* Hide preview and answers buttons when editing a questionnaire template

* Prevent choosing templates when creating a template

* Prevent overriding template variable in templatable.rb

* Move helper include to has_questionnaire controller concern

* Add test for editing questionnaire for new template

* Fix rubocop offenses

Co-authored-by: Ivan Verg√©s <ivan@platoniq.net>
```

[andreslucena](/andreslucena)
added a commit
that referenced
this pull request
[Nov 19, 2020](#ref-commit-837d627)
[![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=40&v=4)](/andreslucena)

`[Sync "Templates module" by](/decidim/decidim/commit/837d62741bac42c0c163e366a80ef55950325ec1 "Sync \"Templates module\" by @verarojman

Extracted from https://github.com/decidim/decidim/pull/6247") [@verarojman](https://github.com/verarojman)`
‚Ä¶

`[837d627](/decidim/decidim/commit/837d62741bac42c0c163e366a80ef55950325ec1)`

```
Extracted from [#6247](https://github.com/decidim/decidim/pull/6247)
```

[Leusev](/Leusev)
pushed a commit
that referenced
this pull request
[Dec 2, 2020](#ref-commit-037b393)
[![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=40&v=4)](/andreslucena) [![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&u=aa72d49f7c96c32e577670277dfdb3d018b78600&v=4)](/tramuntanal)

`[Convert technical docs to Antora (](/decidim/decidim/commit/037b393d14d8a9a9452395e5b292b9008b777881 "Convert technical docs to Antora (#6526)

* Remove Markdown doc

* Add documentation with Antora (AsciiDoc format - .adoc)

Adds sections:
* configure
* customize
* develop
* install
* services

Also adds:
* a README explaining the relationship with the documentation repository
available in https://github.com/decidim/documentation
* antora metadata file so we can build these sections in the same website

* Fix Antora name for docs

* Rename advanced pages to Concerns

* Add Authorizations customize from module's README

* Move 'add_authorizable_action' to 'permissions'

* Move 'adding_fixtures_aka_dummy_content' to 'components'

* Move 'how_to_create_a_module' to 'components'

* Remove 'upgrading', now it's in 'update'

* Install guide: fix error in 'whatever' gem (it's 'whenever')

* Install guide: fix error in RAILS_ENV order in commands

* Install guide: fix command for open_data export

* Install guide: fix link to Contribution guide

* Develop guide: add example apps

* Architecture docs

Add first version of c4model diagrams with PlantUML

* https://c4model.com/
* https://plantuml.com/
* https://github.com/RicardoNiepel/C4-PlantUML

* Add some explanation of modules types (with Components link)

* Configure: ENV VARS and Initializer

This moves ENV VARS configuration docs to its own page.
We also create a new page for explaining Decidim's initializer settings
(config/initializer/decidim.rb). For the moment is mostly a copy paste with
nice formating, but the idea is to expand it.

* Sync \"Make maps actually configurable\" by @ahukkanen

Extracted from https://github.com/decidim/decidim/pull/6340

* Sync \"Templates module\" by @verarojman

Extracted from https://github.com/decidim/decidim/pull/6247

* Sync \"Configure Decidim Bulletin Board\" by @leio10

Extracted from https://github.com/decidim/decidim/pull/6420

* Sync \"Add a task to fix locale issues\" by @microstudi

Extracted from https://github.com/decidim/decidim/pull/6510

* Update versions in SECURITY.adoc

* Convert CONTRIBUTING.md to AsciiDoc

* Convert README.md to AsciiDoc

* Clarify CONTRIBUTING and links to docs site

* Remove Markdown linter CI

* Sync \"Update documentation for `decidim` OAuth social provider\" by @tramuntanal

Extracted from https://github.com/decidim/decidim/pull/6607

* Sync \"Generate changelog entries\" by @tramuntanal

Extracted from https://github.com/decidim/decidim/pull/6794

* Fix link in oauth.adoc

* Sync \"Improve moderation panel\" by @beagleknight

Extracted from https://github.com/decidim/decidim/pull/6677

* Removes trailing whitespaces

Co-authored-by: Oliver Valls <199462+tramuntanal@users.noreply.github.com>")[#6526](https://github.com/decidim/decidim/pull/6526)[)](/decidim/decidim/commit/037b393d14d8a9a9452395e5b292b9008b777881 "Convert technical docs to Antora (#6526)

* Remove Markdown doc

* Add documentation with Antora (AsciiDoc format - .adoc)

Adds sections:
* configure
* customize
* develop
* install
* services

Also adds:
* a README explaining the relationship with the documentation repository
available in https://github.com/decidim/documentation
* antora metadata file so we can build these sections in the same website

* Fix Antora name for docs

* Rename advanced pages to Concerns

* Add Authorizations customize from module's README

* Move 'add_authorizable_action' to 'permissions'

* Move 'adding_fixtures_aka_dummy_content' to 'components'

* Move 'how_to_create_a_module' to 'components'

* Remove 'upgrading', now it's in 'update'

* Install guide: fix error in 'whatever' gem (it's 'whenever')

* Install guide: fix error in RAILS_ENV order in commands

* Install guide: fix command for open_data export

* Install guide: fix link to Contribution guide

* Develop guide: add example apps

* Architecture docs

Add first version of c4model diagrams with PlantUML

* https://c4model.com/
* https://plantuml.com/
* https://github.com/RicardoNiepel/C4-PlantUML

* Add some explanation of modules types (with Components link)

* Configure: ENV VARS and Initializer

This moves ENV VARS configuration docs to its own page.
We also create a new page for explaining Decidim's initializer settings
(config/initializer/decidim.rb). For the moment is mostly a copy paste with
nice formating, but the idea is to expand it.

* Sync \"Make maps actually configurable\" by @ahukkanen

Extracted from https://github.com/decidim/decidim/pull/6340

* Sync \"Templates module\" by @verarojman

Extracted from https://github.com/decidim/decidim/pull/6247

* Sync \"Configure Decidim Bulletin Board\" by @leio10

Extracted from https://github.com/decidim/decidim/pull/6420

* Sync \"Add a task to fix locale issues\" by @microstudi

Extracted from https://github.com/decidim/decidim/pull/6510

* Update versions in SECURITY.adoc

* Convert CONTRIBUTING.md to AsciiDoc

* Convert README.md to AsciiDoc

* Clarify CONTRIBUTING and links to docs site

* Remove Markdown linter CI

* Sync \"Update documentation for `decidim` OAuth social provider\" by @tramuntanal

Extracted from https://github.com/decidim/decidim/pull/6607

* Sync \"Generate changelog entries\" by @tramuntanal

Extracted from https://github.com/decidim/decidim/pull/6794

* Fix link in oauth.adoc

* Sync \"Improve moderation panel\" by @beagleknight

Extracted from https://github.com/decidim/decidim/pull/6677

* Removes trailing whitespaces

Co-authored-by: Oliver Valls <199462+tramuntanal@users.noreply.github.com>")`
‚Ä¶

`[037b393](/decidim/decidim/commit/037b393d14d8a9a9452395e5b292b9008b777881)`

```
* Remove Markdown doc

* Add documentation with Antora (AsciiDoc format - .adoc)

Adds sections:
* configure
* customize
* develop
* install
* services

Also adds:
* a README explaining the relationship with the documentation repository
available in <https://github.com/decidim/documentation>
* antora metadata file so we can build these sections in the same website

* Fix Antora name for docs

* Rename advanced pages to Concerns

* Add Authorizations customize from module's README

* Move 'add_authorizable_action' to 'permissions'

* Move 'adding_fixtures_aka_dummy_content' to 'components'

* Move 'how_to_create_a_module' to 'components'

* Remove 'upgrading', now it's in 'update'

* Install guide: fix error in 'whatever' gem (it's 'whenever')

* Install guide: fix error in RAILS_ENV order in commands

* Install guide: fix command for open_data export

* Install guide: fix link to Contribution guide

* Develop guide: add example apps

* Architecture docs

Add first version of c4model diagrams with PlantUML

* <https://c4model.com/>
* <https://plantuml.com/>
* <https://github.com/RicardoNiepel/C4-PlantUML>

* Add some explanation of modules types (with Components link)

* Configure: ENV VARS and Initializer

This moves ENV VARS configuration docs to its own page.
We also create a new page for explaining Decidim's initializer settings
(config/initializer/decidim.rb). For the moment is mostly a copy paste with
nice formating, but the idea is to expand it.

* Sync "Make maps actually configurable" by [@ahukkanen](https://github.com/ahukkanen)

Extracted from [#6340](https://github.com/decidim/decidim/pull/6340)

* Sync "Templates module" by [@verarojman](https://github.com/verarojman)

Extracted from [#6247](https://github.com/decidim/decidim/pull/6247)

* Sync "Configure Decidim Bulletin Board" by [@leio10](https://github.com/leio10)

Extracted from [#6420](https://github.com/decidim/decidim/pull/6420)

* Sync "Add a task to fix locale issues" by [@microstudi](https://github.com/microstudi)

Extracted from [#6510](https://github.com/decidim/decidim/pull/6510)

* Update versions in SECURITY.adoc

* Convert CONTRIBUTING.md to AsciiDoc

* Convert README.md to AsciiDoc

* Clarify CONTRIBUTING and links to docs site

* Remove Markdown linter CI

* Sync "Update documentation for `decidim` OAuth social provider" by [@tramuntanal](https://github.com/tramuntanal)

Extracted from [#6607](https://github.com/decidim/decidim/pull/6607)

* Sync "Generate changelog entries" by [@tramuntanal](https://github.com/tramuntanal)

Extracted from [#6794](https://github.com/decidim/decidim/pull/6794)

* Fix link in oauth.adoc

* Sync "Improve moderation panel" by [@beagleknight](https://github.com/beagleknight)

Extracted from [#6677](https://github.com/decidim/decidim/pull/6677)

* Removes trailing whitespaces

Co-authored-by: Oliver Valls <199462+tramuntanal@users.noreply.github.com>
```

[![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=40&v=4)](/andreslucena)
[andreslucena](/andreslucena)
mentioned this pull request
[Nov 7, 2022](#ref-issue-1438111337)

[Templates justification when blocking a participant
#10033](/decidim/decidim/issues/10033)

Closed

3 tasks

[![@alecslupu](https://avatars.githubusercontent.com/u/105683?s=40&v=4)](/alecslupu)
[alecslupu](/alecslupu)
mentioned this pull request
[Feb 28, 2024](#ref-pullrequest-2158456341)

[Fix decidim-templates usage
#12536](/decidim/decidim/pull/12536)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fdecidim%2Fdecidim%2Fpull%2F6247)

Reviewers

[![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=40&v=4)](/microstudi) [microstudi](/microstudi)

microstudi left review comments

[![@agustibr](https://avatars.githubusercontent.com/u/210216?s=40&v=4)](/agustibr) [agustibr](/agustibr)

agustibr left review comments

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&v=4)](/tramuntanal) [tramuntanal](/tramuntanal)

tramuntanal approved these changes

Assignees

[![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=40&v=4)](/tramuntanal) [tramuntanal](/tramuntanal)

Labels

[in-review](/decidim/decidim/labels/in-review)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

5 participants

[![@verarojman](https://avatars.githubusercontent.com/u/8806781?s=52&v=4)](/verarojman) [![@tramuntanal](https://avatars.githubusercontent.com/u/199462?s=52&v=4)](/tramuntanal) [![@andreslucena](https://avatars.githubusercontent.com/u/717367?s=52&v=4)](/andreslucena) [![@microstudi](https://avatars.githubusercontent.com/u/1401520?s=52&v=4)](/microstudi) [![@agustibr](https://avatars.githubusercontent.com/u/210216?s=52&v=4)](/agustibr)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.

