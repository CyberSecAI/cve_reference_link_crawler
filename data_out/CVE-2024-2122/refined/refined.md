Based on the provided information, here's a breakdown of the vulnerability:

**Vulnerability:** Stored Cross-Site Scripting (XSS)

**Root Cause:** Insufficient input sanitization and output escaping of user-supplied data within the "FooGallery" plugin. Specifically, the vulnerability lies in how custom URLs for album galleries are handled.

**Weaknesses:**
*   **Lack of Input Sanitization:** The plugin does not properly sanitize user-provided input before storing it in the database.
*   **Lack of Output Escaping:** The plugin fails to properly escape the stored data when rendering it on a web page, allowing injected scripts to be executed.

**Impact of Exploitation:**
*   **Arbitrary Script Execution:** An attacker can inject malicious JavaScript code into a gallery's custom URL. When a user visits a page displaying the affected gallery, the injected script will execute in their browser.
*   **Session Hijacking:** Malicious scripts could be used to steal cookies or session tokens.
*   **Defacement:** Attackers can potentially alter the visual appearance of pages.
*   **Malware Distribution:** The attacker could use the XSS to redirect users to malicious websites or attempt to install malware on their systems.
*   **Privilege Escalation:** By hijacking an administrator's session, an attacker could gain full control over the WordPress website.

**Attack Vectors:**
*   **Through the Plugin's Interface:** An authenticated user with Contributor-level access or higher can inject the malicious script via the gallery custom URL setting.

**Required Attacker Capabilities/Position:**
*   **Authenticated User:** The attacker must have at least "Contributor" level access to the WordPress website. This level of access allows users to create and edit content.
*   **Knowledge of Vulnerability:** The attacker must know about the vulnerability within the FooGallery plugin.

**Additional Details:**
*   **Affected Versions:** All versions of FooGallery up to and including 2.4.15 are affected.
*   **Patched Version:** The vulnerability is fixed in version 2.4.16 and later.
*   **Researcher:** The vulnerability was discovered by Robert Kruczek (ProXy) from Safety-Online.pl.

**Summary**
The FooGallery plugin versions 2.4.15 and below are vulnerable to stored XSS due to lack of sanitization and escaping of gallery custom URLs. An attacker with Contributor+ access can inject arbitrary javascript that will execute when a user visits a page containing an affected gallery.