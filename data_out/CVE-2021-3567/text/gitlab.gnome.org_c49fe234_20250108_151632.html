

[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)

This is an archived project. Repository and other project resources are read-only.

Project 'GNOME/caribou' was moved to 'Archive/caribou'. Please update any links and bookmarks that may still have the old path.

# compilation fails: error: Condition must be boolean

I am on Arch Linux and I cannot compile `caribou` (latest commit from gitlab).

Compilation fails; below the latest lines of output:

```
[...]
  MSGFMT zh_TW.gmo
make[1]: Leaving directory '/tmp/makepkg/caribou/src/caribou/po'
Making all in libcaribou
make[1]: Entering directory '/tmp/makepkg/caribou/src/caribou/libcaribou'
  GEN      .gitignore
  VALAC    libcaribou_la_vala.stamp
xadapter.vala:170.37-170.68: warning: Gdk.x11_get_default_root_xwindow has been deprecated since vala-0.24. Use Gdk.X11.get_default_root_xwindow
xadapter.vala:174.35-174.66: warning: Gdk.x11_get_default_root_xwindow has been deprecated since vala-0.24. Use Gdk.X11.get_default_root_xwindow
xadapter.vala:223.30-223.51: warning: Gdk.Keymap.get_default has been deprecated since 3.22
xadapter.vala:32.29-32.42: warning: Gdk.X11Display has been deprecated since vala-0.24. Use Gdk.X11.Display
xadapter.vala:33.19-33.31: warning: Gdk.X11Window has been deprecated since vala-0.24. Use Gdk.X11.Window
key-model.vala:104.29-104.53: error: Condition must be boolean
                        if (keyval != uc | 0x01000000)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^
scannable-group.vala:62.21-62.62: warning: Access to possible 'null'. Perform a check or use an unsafe cast.
                    (item as ScannableGroup).get_scan_children();
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
keyboard-service.vala:7.9-7.48: warning: DBus methods are recommended to throw at least 'GLib.Error' or 'GLib.DBusError, GLib.IOError'
        public abstract void set_cursor_location(int x, int y, int w, int h);
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
keyboard-service.vala:8.9-8.47: warning: DBus methods are recommended to throw at least 'GLib.Error' or 'GLib.DBusError, GLib.IOError'
        public abstract void set_entry_location(int x, int y, int w, int h);
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
keyboard-service.vala:9.9-9.33: warning: DBus methods are recommended to throw at least 'GLib.Error' or 'GLib.DBusError, GLib.IOError'
        public abstract void show(uint32 timestamp);
        ^^^^^^^^^^^^^^^^^^^^^^^^^
keyboard-service.vala:10.9-10.33: warning: DBus methods are recommended to throw at least 'GLib.Error' or 'GLib.DBusError, GLib.IOError'
        public abstract void hide(uint32 timestamp);
        ^^^^^^^^^^^^^^^^^^^^^^^^^
Compilation failed: 1 error(s), 10 warning(s)
make[1]: *** [Makefile:857: libcaribou_la_vala.stamp] Error 1
make[1]: Leaving directory '/tmp/makepkg/caribou/src/caribou/libcaribou'
make: *** [Makefile:477: all-recursive] Error 1
==> ERROR: A failure occurred in build().
    Aborting...
```

I am here to help with other tests/info if needed.

Edited Mar 29, 2020 by [Andre Klapper](/aklapper)

Assignee
Loading

Time tracking
Loading

