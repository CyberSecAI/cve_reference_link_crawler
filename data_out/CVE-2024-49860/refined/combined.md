=== Content from git.kernel.org_65a27e38_20250110_155126.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Rafael J. Wysocki <rafael.j.wysocki@intel.com> | 2024-08-02 16:44:22 +0200 |
| commit | [4bb1e7d027413835b086aed35bc3f0713bc0f72b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)) | |
| tree | [ecaab6e92dd5b05c106bb2bad7bda5e2934df5e9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b) | |
| parent | [8400291e289ee6b2bf9779ff1c83a291501f017b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8400291e289ee6b2bf9779ff1c83a291501f017b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b&id2=8400291e289ee6b2bf9779ff1c83a291501f017b)) | |
| download | [linux-4bb1e7d027413835b086aed35bc3f0713bc0f72b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4bb1e7d027413835b086aed35bc3f0713bc0f72b.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodOnly buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 23373faa35ecd6..95a19e3569c83f 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=8400291e289ee6b2bf9779ff1c83a291501f017b)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=4bb1e7d027413835b086aed35bc3f0713bc0f72b)@@ -540,8 +540,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:03 +0000



=== Content from git.kernel.org_56b5e981_20250110_155126.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4b081991c4363e072e1748efed0bbec8a77daba5)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4b081991c4363e072e1748efed0bbec8a77daba5)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4b081991c4363e072e1748efed0bbec8a77daba5)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b081991c4363e072e1748efed0bbec8a77daba5)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:08:01 +0200 |
| commit | [4b081991c4363e072e1748efed0bbec8a77daba5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4b081991c4363e072e1748efed0bbec8a77daba5) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4b081991c4363e072e1748efed0bbec8a77daba5)) | |
| tree | [70ef120000cc7651ccee419f740c2063978d3ff9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4b081991c4363e072e1748efed0bbec8a77daba5) | |
| parent | [2e20b69b86c8dbe5ad4781d7b792bc9465766838](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2e20b69b86c8dbe5ad4781d7b792bc9465766838) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b081991c4363e072e1748efed0bbec8a77daba5&id2=2e20b69b86c8dbe5ad4781d7b792bc9465766838)) | |
| download | [linux-4b081991c4363e072e1748efed0bbec8a77daba5.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4b081991c4363e072e1748efed0bbec8a77daba5.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4b081991c4363e072e1748efed0bbec8a77daba5)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=4b081991c4363e072e1748efed0bbec8a77daba5) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 566067a855a136..57ee8314dfb8a0 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=2e20b69b86c8dbe5ad4781d7b792bc9465766838)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=4b081991c4363e072e1748efed0bbec8a77daba5)@@ -533,8 +533,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:03 +0000



=== Content from git.kernel.org_15a5d838_20250110_155129.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f51f711d36e61fbb87c67b524fd200e05172668d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f51f711d36e61fbb87c67b524fd200e05172668d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f51f711d36e61fbb87c67b524fd200e05172668d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51f711d36e61fbb87c67b524fd200e05172668d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-04 16:38:43 +0200 |
| commit | [f51f711d36e61fbb87c67b524fd200e05172668d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f51f711d36e61fbb87c67b524fd200e05172668d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f51f711d36e61fbb87c67b524fd200e05172668d)) | |
| tree | [bc1f49c174d568729cb213658804883e1125e2c8](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f51f711d36e61fbb87c67b524fd200e05172668d) | |
| parent | [a887c182757f300a88dfac46764c353fa7a37ef0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a887c182757f300a88dfac46764c353fa7a37ef0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51f711d36e61fbb87c67b524fd200e05172668d&id2=a887c182757f300a88dfac46764c353fa7a37ef0)) | |
| download | [linux-f51f711d36e61fbb87c67b524fd200e05172668d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f51f711d36e61fbb87c67b524fd200e05172668d.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51f711d36e61fbb87c67b524fd200e05172668d)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=f51f711d36e61fbb87c67b524fd200e05172668d) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 23373faa35ecd6..95a19e3569c83f 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=a887c182757f300a88dfac46764c353fa7a37ef0)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=f51f711d36e61fbb87c67b524fd200e05172668d)@@ -540,8 +540,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:06 +0000



=== Content from git.kernel.org_913d8999_20250110_155124.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:11:13 +0200 |
| commit | [0cdfb9178a3bba843c95c2117c82c15f1a64b9ce](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)) | |
| tree | [4fcf3ce68d2709245ab8545807cdcee20ce5436d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce) | |
| parent | [90ed958acfd19e459769702e9109aca6dac2e748](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=90ed958acfd19e459769702e9109aca6dac2e748) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce&id2=90ed958acfd19e459769702e9109aca6dac2e748)) | |
| download | [linux-0cdfb9178a3bba843c95c2117c82c15f1a64b9ce.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0cdfb9178a3bba843c95c2117c82c15f1a64b9ce.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex da9cd11adfb56d..a0c130f7e74d07 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=90ed958acfd19e459769702e9109aca6dac2e748)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=0cdfb9178a3bba843c95c2117c82c15f1a64b9ce)@@ -543,8 +543,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:01 +0000



=== Content from git.kernel.org_4da977d7_20250110_155128.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-04 16:33:35 +0200 |
| commit | [f51e5a88f2e7224858b261546cf6b3037dfb1323](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)) | |
| tree | [5e163f59ab17facd0b429e17f112bf2295a0674c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323) | |
| parent | [54be41a85d8d1f50c19550b7d92292a716f232bf](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=54be41a85d8d1f50c19550b7d92292a716f232bf) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323&id2=54be41a85d8d1f50c19550b7d92292a716f232bf)) | |
| download | [linux-f51e5a88f2e7224858b261546cf6b3037dfb1323.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f51e5a88f2e7224858b261546cf6b3037dfb1323.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=f51e5a88f2e7224858b261546cf6b3037dfb1323) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 23373faa35ecd6..95a19e3569c83f 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=54be41a85d8d1f50c19550b7d92292a716f232bf)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=f51e5a88f2e7224858b261546cf6b3037dfb1323)@@ -540,8 +540,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:06 +0000



=== Content from git.kernel.org_cb1742da_20250110_155127.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:21:21 +0200 |
| commit | [5c8d007c14aefc3f2ddf71e4c40713733dc827be](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)) | |
| tree | [2326800efc6054402f8b7a8ed3c8f6f5f8bf8781](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be) | |
| parent | [ca6ed002a9dd08ac4d6673958fad7da49e2c5b48](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca6ed002a9dd08ac4d6673958fad7da49e2c5b48) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be&id2=ca6ed002a9dd08ac4d6673958fad7da49e2c5b48)) | |
| download | [linux-5c8d007c14aefc3f2ddf71e4c40713733dc827be.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5c8d007c14aefc3f2ddf71e4c40713733dc827be.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex c727fb320eeeaa..a8b4e2bed59823 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=ca6ed002a9dd08ac4d6673958fad7da49e2c5b48)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=5c8d007c14aefc3f2ddf71e4c40713733dc827be)@@ -544,8 +544,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:04 +0000



=== Content from git.kernel.org_13707f47_20250110_155127.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:19:09 +0100 |
| commit | [92fd5209fc014405f63a7db79802ca4b01dc0c05](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)) | |
| tree | [2631185d3187e9d8ec45da85a685a2c0448c7137](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05) | |
| parent | [3b3ed68f695ee000e9c9fa536761a0554bfc1340](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3b3ed68f695ee000e9c9fa536761a0554bfc1340) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05&id2=3b3ed68f695ee000e9c9fa536761a0554bfc1340)) | |
| download | [linux-92fd5209fc014405f63a7db79802ca4b01dc0c05.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-92fd5209fc014405f63a7db79802ca4b01dc0c05.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=92fd5209fc014405f63a7db79802ca4b01dc0c05) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 146be9cdeca5a0..36b584ff9fc731 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=3b3ed68f695ee000e9c9fa536761a0554bfc1340)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=92fd5209fc014405f63a7db79802ca4b01dc0c05)@@ -539,8 +539,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:05 +0000



=== Content from git.kernel.org_5aadf7fb_20250110_155125.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:20:34 +0100 |
| commit | [2364b6af90c6b6d8a4783e0d3481ca80af699554](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)) | |
| tree | [cc53b1cb52aff2cac0a5875e7cd8547338aac471](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554) | |
| parent | [959974bf5dd8bd79d106f5e43e48051db3c4c213](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=959974bf5dd8bd79d106f5e43e48051db3c4c213) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554&id2=959974bf5dd8bd79d106f5e43e48051db3c4c213)) | |
| download | [linux-2364b6af90c6b6d8a4783e0d3481ca80af699554.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-2364b6af90c6b6d8a4783e0d3481ca80af699554.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=2364b6af90c6b6d8a4783e0d3481ca80af699554) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex 566067a855a136..57ee8314dfb8a0 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=959974bf5dd8bd79d106f5e43e48051db3c4c213)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=2364b6af90c6b6d8a4783e0d3481ca80af699554)@@ -533,8 +533,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:02 +0000



=== Content from git.kernel.org_fb62629a_20250110_155128.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Thomas Weißschuh <linux@weissschuh.net> | 2024-07-09 22:37:24 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-04 16:29:52 +0200 |
| commit | [f0921ecd4ddc14646bb5511f49db4d7d3b0829f0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)) | |
| tree | [91d81a93abe5ba23a96b647b6ad876e77315d583](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0) | |
| parent | [df6a82a6b06e20ead654c8b2428a1acef61040f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df6a82a6b06e20ead654c8b2428a1acef61040f8) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0&id2=df6a82a6b06e20ead654c8b2428a1acef61040f8)) | |
| download | [linux-f0921ecd4ddc14646bb5511f49db4d7d3b0829f0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f0921ecd4ddc14646bb5511f49db4d7d3b0829f0.tar.gz) | |

ACPI: sysfs: validate return type of \_STR methodcommit 4bb1e7d027413835b086aed35bc3f0713bc0f72b upstream.
Only buffer objects are valid return values of \_STR.
If something else is returned description\_show() will access invalid
memory.
Fixes: d1efe3c324ea ("ACPI: Add new sysfs interface to export device description")
Cc: All applicable <stable@vger.kernel.org>
Signed-off-by: Thomas Weißschuh <linux@weissschuh.net>
Link: [https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8@weissschuh.net](https://patch.msgid.link/20240709-acpi-sysfs-groups-v2-1-058ab0667fa8%40weissschuh.net)
Signed-off-by: Rafael J. Wysocki <rafael.j.wysocki@intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)

| -rw-r--r-- | [drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/acpi/device_sysfs.c?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/drivers/acpi/device\_sysfs.c b/drivers/acpi/device\_sysfs.cindex a34d8578b3da6c..6ed5e9e56be2f4 100644--- a/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=df6a82a6b06e20ead654c8b2428a1acef61040f8)+++ b/[drivers/acpi/device\_sysfs.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/acpi/device_sysfs.c?id=f0921ecd4ddc14646bb5511f49db4d7d3b0829f0)@@ -544,8 +544,9 @@ int acpi\_device\_setup\_files(struct acpi\_device \*dev) \* If device has \_STR, 'description' file is created \*/ if (acpi\_has\_method(dev->handle, "\_STR")) {- status = acpi\_evaluate\_object(dev->handle, "\_STR",- NULL, &buffer);+ status = acpi\_evaluate\_object\_typed(dev->handle, "\_STR",+ NULL, &buffer,+ ACPI\_TYPE\_BUFFER); if (ACPI\_FAILURE(status)) buffer.pointer = NULL; dev->pnp.str\_obj = buffer.pointer; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-10 15:50:05 +0000


