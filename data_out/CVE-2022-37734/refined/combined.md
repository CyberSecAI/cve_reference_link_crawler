=== Content from github.com_f5f8f378_20250108_105132.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fpull%2F2892)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fpull%2F2892)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=graphql-java%2Fgraphql-java)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[graphql-java](/graphql-java)
/
**[graphql-java](/graphql-java/graphql-java)**
Public

* [Notifications](/login?return_to=%2Fgraphql-java%2Fgraphql-java) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)
* [Star
   6.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)

* [Code](/graphql-java/graphql-java)
* [Issues
  21](/graphql-java/graphql-java/issues)
* [Pull requests
  11](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects
  0](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

Additional navigation options

* [Code](/graphql-java/graphql-java)
* [Issues](/graphql-java/graphql-java/issues)
* [Pull requests](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgraphql-java%2Fgraphql-java%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgraphql-java%2Fgraphql-java%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# READY - Stop DOS attacks by making the lexer stop early on evil input. #2892

 Merged

[bbakerman](/bbakerman)
merged 11 commits into
[master](/graphql-java/graphql-java/tree/master "graphql-java/graphql-java:master")
from
[ddos\_stop\_lexer\_early](/graphql-java/graphql-java/tree/ddos_stop_lexer_early "graphql-java/graphql-java:ddos_stop_lexer_early")

Jul 26, 2022

 Merged

# [READY - Stop DOS attacks by making the lexer stop early on evil input.](#top) #2892

[bbakerman](/bbakerman)
merged 11 commits into
[master](/graphql-java/graphql-java/tree/master "graphql-java/graphql-java:master")
from
[ddos\_stop\_lexer\_early](/graphql-java/graphql-java/tree/ddos_stop_lexer_early "graphql-java/graphql-java:ddos_stop_lexer_early")

Jul 26, 2022

+586

‚àí25

[Conversation
14](/graphql-java/graphql-java/pull/2892)
[Commits
11](/graphql-java/graphql-java/pull/2892/commits)
[Checks
0](/graphql-java/graphql-java/pull/2892/checks)
[Files changed
11](/graphql-java/graphql-java/pull/2892/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![bbakerman](https://avatars.githubusercontent.com/u/1661769?s=60&v=4)](/bbakerman)

Copy link

Member

### @bbakerman **[bbakerman](/bbakerman)** commented [Jul 21, 2022](#issue-1312904138) ‚Ä¢ edited Loading

This is related to [#2888](https://github.com/graphql-java/graphql-java/issues/2888)

The bug was that we do indeed have a max token counting mechanism in graphql-java BUt it was being enacted too late.

Testing showed that the max token code was indeed being hit BUT the ANTLR lexing and parsing code was taking proportionally longer to get to the max token state as the input size increased

This is cause bv the greedy nature of the ANTLR Lexer - it will look ahead and store tokens in memory under certain grammar conditions and butted directives like `@lol@lol` are one of them. This meant that the lexer was the code contributing to CPU time and not the parser - BUT the max token code check was in the parser.

This PR puts the same max token checks on the lexer as it does in the parser. In fact it debatable if the parser checks should still be retained (since the lexer will be the main way this will be hit) but the logic is common so I left it in place.

The current existing billion `@lols` test still parse with this change - The difference is where cancel parse exception is being thrown.

The use of the lexer as the place to count means the counting checks are done in constant time. As soon as the max tokens is encountered, the parse is stopped.

graphql-java also uses 3 channels for tokens (0 for the grammar and 2 and 3 for comments and whitespace). The lexing of whitespace and comments also take up CPU time so they counters have been put in place to watch tokens on those channels as well.

This will stop a "mostly whitespace" attack, even though whitespace costs less to aggregate in practice

Sorry, something went wrong.

 üëç
2
 dondonz and pnarozny reacted with thumbs up emoji

All reactions

* üëç
  2 reactions

 [bbakerman](/bbakerman)
added 3 commits
[July 21, 2022 18:47](#commits-pushed-772084a)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early.](/graphql-java/graphql-java/pull/2892/commits/772084a1807ca6101f331ea7362f91533f2c2cb6 "This stops DOS attacks by making the lexer stop early.")`

`[772084a](/graphql-java/graphql-java/pull/2892/commits/772084a1807ca6101f331ea7362f91533f2c2cb6)`

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added BadSitua‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/2caa273c856fe72a4833fb163d082473e8103ed6 "This stops DOS attacks by making the lexer stop early. Added BadSituationsRunner")`
 ‚Ä¶

`[2caa273](/graphql-java/graphql-java/pull/2892/commits/2caa273c856fe72a4833fb163d082473e8103ed6)`

```
‚Ä¶tionsRunner
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added BadSitua‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/30ee65a3c3cb1526f0ecdf16b0a2a087516645da "This stops DOS attacks by making the lexer stop early. Added BadSituationsRunner with comments")`
 ‚Ä¶

`[30ee65a](/graphql-java/graphql-java/pull/2892/commits/30ee65a3c3cb1526f0ecdf16b0a2a087516645da)`

```
‚Ä¶tionsRunner with comments
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
changed the title
~~Stop DOS attacks by making the lexer stop early on evil input.~~
WIP - Stop DOS attacks by making the lexer stop early on evil input.
[Jul 21, 2022](#event-7037554227)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

Author

### **[bbakerman](/bbakerman)** commented [Jul 21, 2022](#issuecomment-1191384576) ‚Ä¢ edited Loading

| The questions to be answered here is whether to track the whitespace and line comment channels or not. They are fast BUT they still take some time BUT not like the grammar channel does.  when we run the ParserBadSituations program with unlimited tokens the numbers for whitespace and comments are something like  ```  Whitespace Bad Payloads(run #2)(1 of 15) - | query length 50020 | bad payloads 5000 | duration 4ms  Whitespace Bad Payloads(run #2)(2 of 15) - | query length 100020 | bad payloads 10000 | duration 9ms  Whitespace Bad Payloads(run #2)(3 of 15) - | query length 150020 | bad payloads 15000 | duration 16ms  Whitespace Bad Payloads(run #2)(4 of 15) - | query length 200020 | bad payloads 20000 | duration 19ms  Whitespace Bad Payloads(run #2)(5 of 15) - | query length 250020 | bad payloads 25000 | duration 28ms  Whitespace Bad Payloads(run #2)(6 of 15) - | query length 300020 | bad payloads 30000 | duration 28ms  Whitespace Bad Payloads(run #2)(7 of 15) - | query length 350020 | bad payloads 35000 | duration 50ms  Whitespace Bad Payloads(run #2)(8 of 15) - | query length 400020 | bad payloads 40000 | duration 41ms  Whitespace Bad Payloads(run #2)(9 of 15) - | query length 450020 | bad payloads 45000 | duration 46ms  Whitespace Bad Payloads(run #2)(10 of 15) - | query length 500020 | bad payloads 50000 | duration 48ms  Whitespace Bad Payloads(run #2)(11 of 15) - | query length 550020 | bad payloads 55000 | duration 55ms  Whitespace Bad Payloads(run #2)(12 of 15) - | query length 600020 | bad payloads 60000 | duration 52ms  Whitespace Bad Payloads(run #2)(13 of 15) - | query length 650020 | bad payloads 65000 | duration 87ms  Whitespace Bad Payloads(run #2)(14 of 15) - | query length 700020 | bad payloads 70000 | duration 84ms  Whitespace Bad Payloads(run #2) - finished | max time was 87 ms  =======================  Comment Bad Payloads(run #2)(1 of 15) - | query length 75022 | bad payloads 5000 | duration 14ms  Comment Bad Payloads(run #2)(2 of 15) - | query length 150022 | bad payloads 10000 | duration 25ms  Comment Bad Payloads(run #2)(3 of 15) - | query length 225022 | bad payloads 15000 | duration 31ms  Comment Bad Payloads(run #2)(4 of 15) - | query length 300022 | bad payloads 20000 | duration 34ms  Comment Bad Payloads(run #2)(5 of 15) - | query length 375022 | bad payloads 25000 | duration 26ms  Comment Bad Payloads(run #2)(6 of 15) - | query length 450022 | bad payloads 30000 | duration 25ms  Comment Bad Payloads(run #2)(7 of 15) - | query length 525022 | bad payloads 35000 | duration 32ms  Comment Bad Payloads(run #2)(8 of 15) - | query length 600022 | bad payloads 40000 | duration 37ms  Comment Bad Payloads(run #2)(9 of 15) - | query length 675022 | bad payloads 45000 | duration 48ms  Comment Bad Payloads(run #2)(10 of 15) - | query length 750022 | bad payloads 50000 | duration 51ms  Comment Bad Payloads(run #2)(11 of 15) - | query length 825022 | bad payloads 55000 | duration 48ms  Comment Bad Payloads(run #2)(12 of 15) - | query length 900022 | bad payloads 60000 | duration 48ms  Comment Bad Payloads(run #2)(13 of 15) - | query length 975022 | bad payloads 65000 | duration 52ms  Comment Bad Payloads(run #2)(14 of 15) - | query length 1050022 | bad payloads 70000 | duration 70ms  Comment Bad Payloads(run #2) - finished | max time was 70 ms  =======================  ```  So it starts to creep up BUT nothing like the grammar file which is 2 orders of magnitude slower!  This is what is discovered debugging. Channel 0 (grammar tokens) get put into the parse tree and this is quite costly when you have 10s of 1000s of them. The cost is in the lexing AND in the parse tree building so it makes total sense for them to be strongly limited.  However there is 2 other channels - whitespace and line comments (`# comments`). Now it turns out that they are NOT anywhere near as costly. The whitespace (while lexed as single tokens per whitespace character) are accumulated (burns some CPU and memory since each becomes a Token) but they are not placed into the parse tree - but rather accumulated. As you can see above it happens relatively fast.  And then when the parser is called back - this line means we throw them away.  ```     private void addIgnoredChars(ParserRuleContext ctx, NodeBuilder nodeBuilder) {         if (!parserOptions.isCaptureIgnoredChars()) {             return;         }  ```  So they accumulate fast enough and then are never used.  The line comments are also accumulated, not as fast because they are actually used in the parser tree.  ```     protected List<Comment> getComments(ParserRuleContext ctx) {         if (!parserOptions.isCaptureLineComments()) {             return NO_COMMENTS;         }  ```  By default (even for queries) we keep the line comments. So an attack vector is to send in  ``` # lots of comments # lots of comments # lots of comments # lots of comments query x { f }  ```  However as the numbers above show even this is fast-ish.  My fear is around whitespace. That 15,000 whitespace characters will catch some queries out. I mean some queries might be say 512KB in size - they will likely be below 15,000 grammar tokens BUT could they be 1/3 whitespace - (170,000 whitespace chars say) - yeah why not.  So this PR as it is (counting whitespace the same as grammar tokens or line comments) will stop them sending in such a query.  I think this leads us towards having 2 `max` values in ParserOptions - the max tokens and a max whitespace number. |
| --- |

All reactions

Sorry, something went wrong.

 [bbakerman](/bbakerman)
added 5 commits
[July 22, 2022 10:32](#commits-pushed-79b989c)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added per quer‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/79b989c582952426beb419888756ba75d56a5f98 "This stops DOS attacks by making the lexer stop early. Added per query jvm settings")`
 ‚Ä¶

`[79b989c](/graphql-java/graphql-java/pull/2892/commits/79b989c582952426beb419888756ba75d56a5f98)`

```
‚Ä¶y jvm settings
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added whitespa‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/888d12380b43c6ced425c2f667542a16015e754b "This stops DOS attacks by making the lexer stop early. Added whitespace counts separate from token counts")`
 ‚Ä¶

`[888d123](/graphql-java/graphql-java/pull/2892/commits/888d12380b43c6ced425c2f667542a16015e754b)`

```
‚Ä¶ce counts separate from token counts
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added whitespa‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/1669ca745630b6971dbef717eca7da442eef5d97 "This stops DOS attacks by making the lexer stop early. Added whitespace counts separate from token counts - tweaks")`
 ‚Ä¶

`[1669ca7](/graphql-java/graphql-java/pull/2892/commits/1669ca745630b6971dbef717eca7da442eef5d97)`

```
‚Ä¶ce counts separate from token counts - tweaks
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added whitespa‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/077e64a906708f6ff23108024af226adcb9c377f "This stops DOS attacks by making the lexer stop early. Added whitespace counts separate from token counts - tweaks")`
 ‚Ä¶

`[077e64a](/graphql-java/graphql-java/pull/2892/commits/077e64a906708f6ff23108024af226adcb9c377f)`

```
‚Ä¶ce counts separate from token counts - tweaks
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early. Added whitespa‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/17ec04b8a1faa0af82fe0679702e961b1c5318cd "This stops DOS attacks by making the lexer stop early. Added whitespace counts separate from token counts - tweaks")`
 ‚Ä¶

`[17ec04b](/graphql-java/graphql-java/pull/2892/commits/17ec04b8a1faa0af82fe0679702e961b1c5318cd)`

```
‚Ä¶ce counts separate from token counts - tweaks
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
changed the title
~~WIP - Stop DOS attacks by making the lexer stop early on evil input.~~
READY - Stop DOS attacks by making the lexer stop early on evil input.
[Jul 22, 2022](#event-7043256305)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

Author

### **[bbakerman](/bbakerman)** commented [Jul 22, 2022](#issuecomment-1192189915)

| After chats with Andi and Donna, we decided to   * add a separate whitespace max token count - this is set at 200\_000 whitespace tokens * add a separate set of default parser options for "operation" parsing versus DSL   + We don't want comment lines captured by default on operation AST elements |
| --- |

All reactions

Sorry, something went wrong.

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
mentioned this pull request
[Jul 22, 2022](#ref-issue-1307718616)

[Denial of Service via Directive overloading
#2888](/graphql-java/graphql-java/issues/2888)

Closed

 [![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
requested review from
[andimarek](/andimarek) and
[dondonz](/dondonz)
[July 22, 2022 06:47](#event-7043809224)

 [bbakerman](/bbakerman)
added 2 commits
[July 23, 2022 07:51](#commits-pushed-a0a7cfd)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early.Use array inste‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/a0a7cfd4be7a5848dcf17e46172f64ca2a84ac32 "This stops DOS attacks by making the lexer stop early.Use array instead of map")`
 ‚Ä¶

`[a0a7cfd](/graphql-java/graphql-java/pull/2892/commits/a0a7cfd4be7a5848dcf17e46172f64ca2a84ac32)`

```
‚Ä¶ad of map
```

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[This stops DOS attacks by making the lexer stop early.Use array inste‚Ä¶](/graphql-java/graphql-java/pull/2892/commits/50206dd13d4deccd7e969dd4c2fdff23a115a871 "This stops DOS attacks by making the lexer stop early.Use array instead of map with comments")`
 ‚Ä¶

`[50206dd](/graphql-java/graphql-java/pull/2892/commits/50206dd13d4deccd7e969dd4c2fdff23a115a871)`

```
‚Ä¶ad of map with comments
```

[![andimarek](https://avatars.githubusercontent.com/u/1706744?s=60&v=4)](/andimarek)

**[andimarek](/andimarek)**
requested changes
[Jul 26, 2022](#pullrequestreview-1050224424)

 [View reviewed changes](/graphql-java/graphql-java/pull/2892/files/50206dd13d4deccd7e969dd4c2fdff23a115a871)

Copy link

Member

### @andimarek **[andimarek](/andimarek)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

1: Small naming change

2: I think with introducing defaultOperationParserOptions we should rethink the `SchemaParser.parseImpl` where we overwrite the `maxTokens`. I think we don't need this anymore if we have two different ParserOptions.

Sorry, something went wrong.

All reactions

[src/main/java/graphql/parser/Parser.java](/graphql-java/graphql-java/pull/2892/files/50206dd13d4deccd7e969dd4c2fdff23a115a871#diff-24ba77f7c181cfd66deb300610d9d36d8ad43a42defd2d8d899da88a8c77f989)

|  |  | @@ -46,6 +49,11 @@ | |
| --- | --- | --- | --- |
|  |  | @PublicApi |
|  |  | public class Parser { |
|  |  |  |
|  |  | @Internal |
|  |  | public static final int CHANNEL\_COMMENTS = 2; |
|  |  | @Internal |

Copy link

Member

### @andimarek **[andimarek](/andimarek)** [Jul 26, 2022](#discussion_r929415622)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

lets call this also whitespace channel and not ignored ones to make it consistent with the options.

Sorry, something went wrong.

All reactions

[src/main/java/graphql/parser/ParserOptions.java](/graphql-java/graphql-java/pull/2892/files/50206dd13d4deccd7e969dd4c2fdff23a115a871#diff-cc1fab9887f0cf77d8caf9afdf45a006206cf0a572a09b1c4992af7c06ce53f6)

|  |  | \* If you want to allow more, then {@link #setDefaultParserOptions(ParserOptions)} allows you to change this |
| --- | --- | --- |
|  |  | \* JVM wide. |
|  |  | \*/ |
|  |  | public static final int MAX\_WHITESPACE\_TOKENS = 200\_000; |
|  |  |  |

Copy link

Member

### @andimarek **[andimarek](/andimarek)** [Jul 26, 2022](#discussion_r929420793)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think we should name this `SDL` parser options or so to make clear it will be used for Schema Parsing. See also my general review comment.

Sorry, something went wrong.

All reactions

[![@andimarek](https://avatars.githubusercontent.com/u/1706744?s=40&u=50064e7ee447e4855942224cd3347d4ba93ba242&v=4)](/andimarek)
[andimarek](/andimarek)
added this to the [19.0](/graphql-java/graphql-java/milestone/38) milestone
[Jul 26, 2022](#event-7061523875)

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[PR feedback - renamed options and added SDL options](/graphql-java/graphql-java/pull/2892/commits/0bd81e7c09fa60ad5a43ee119e4e271e69bc085e "PR feedback - renamed options and added SDL options")`

`[0bd81e7](/graphql-java/graphql-java/pull/2892/commits/0bd81e7c09fa60ad5a43ee119e4e271e69bc085e)`

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
merged commit [`226aabd`](/graphql-java/graphql-java/commit/226aabd9ffa863387085483e6b73799507b90b2c)
into
master

[Jul 26, 2022](https://github.com/graphql-java/graphql-java/pull/2892#event-7061786896)

[bbakerman](/bbakerman)
added a commit
that referenced
this pull request
[Jul 26, 2022](#ref-commit-1511839)
[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[READY - Stop DOS attacks by making the lexer stop early on evil input. (](/graphql-java/graphql-java/commit/1511839ad6ed7e7ec397b9060926a4d219fc245e "READY - Stop DOS attacks by making the lexer stop early on evil input. (#2892)

Port to 18.x")`
‚Ä¶

`[1511839](/graphql-java/graphql-java/commit/1511839ad6ed7e7ec397b9060926a4d219fc245e)`

```
[#2892](https://github.com/graphql-java/graphql-java/pull/2892))

Port to 18.x
```

This was referenced Jul 26, 2022

[18.x port - Stop DOS attacks by making the lexer stop early on evil input
#2897](/graphql-java/graphql-java/pull/2897)
 Merged

[17.x port - Stop DOS attacks by making the lexer stop early on evil input
#2898](/graphql-java/graphql-java/pull/2898)
 Closed

[17.x port - Stop DOS attacks by making the lexer stop early on evil input
#2901](/graphql-java/graphql-java/pull/2901)
 Closed

[17.x port - Stop DOS attacks by making the lexer stop early on evil input
#2902](/graphql-java/graphql-java/pull/2902)
 Merged

[bbakerman](/bbakerman)
added a commit
that referenced
this pull request
[Jul 26, 2022](#ref-commit-0256fd0)
[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)

`[18.x port - Stop DOS attacks by making the lexer stop early on evil i‚Ä¶](/graphql-java/graphql-java/commit/0256fd0627148e5b71218e424c310f48b066a041 "18.x port - Stop DOS attacks by making the lexer stop early on evil input (#2897)

* READY - Stop DOS attacks by making the lexer stop early on evil input. (#2892)

Port to 18.x

* Test stability")`
‚Ä¶

`[0256fd0](/graphql-java/graphql-java/commit/0256fd0627148e5b71218e424c310f48b066a041)`

```
‚Ä¶nput ([#2897](https://github.com/graphql-java/graphql-java/pull/2897))

* READY - Stop DOS attacks by making the lexer stop early on evil input. ([#2892](https://github.com/graphql-java/graphql-java/pull/2892))

Port to 18.x

* Test stability
```

This was referenced Jul 27, 2022

[Bump com.graphql-java:graphql-java from 18.2 to 19.0
vert-x3/vertx-web#2244](/vert-x3/vertx-web/pull/2244)
 Merged

[Bump com.graphql-java:graphql-java from 18.2 to 18.3
vert-x3/vertx-web#2245](/vert-x3/vertx-web/pull/2245)
 Closed

[![@yeikel](https://avatars.githubusercontent.com/u/8935151?s=80&u=4bca54f3f4091b760417174a2e2d96f370d27343&v=4)](/yeikel)

Copy link

Contributor

### **[yeikel](/yeikel)** commented [Jul 28, 2022](#issuecomment-1198314284) ‚Ä¢ edited Loading

| Do you have( or are planning to create) a CVE for this? |
| --- |

All reactions

Sorry, something went wrong.

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

Author

### **[bbakerman](/bbakerman)** commented [Jul 29, 2022](#issuecomment-1200004409)

| Do you have( or are planning to create) a CVE for this?  We don't have concrete plans - mainly because we are unsure of the process and the work involved.  If you know more about this works and could coach us on process that would great because we aren't against the idea, we just know very little about the how of it |
| --- |

All reactions

Sorry, something went wrong.

[![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=80&u=4bc520ceab031ff7533b15d607685f97923d3c7c&v=4)](/act1on3)

Copy link

Contributor

### **[act1on3](/act1on3)** commented [Aug 3, 2022](#issuecomment-1203815851) ‚Ä¢ edited Loading

| UPD. [CVE-2022-37734](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-37734) is assigned.  Hi [@bbakerman](https://github.com/bbakerman) , I've requested a CVE with the form: <https://cveform.mitre.org/> |
| --- |

 ‚ù§Ô∏è
1
 yeikel reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=80&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)

Copy link

Member

### **[dondonz](/dondonz)** commented [Sep 14, 2022](#issuecomment-1246218996)

| [@act1on3](https://github.com/act1on3) I'd like to update the CVE with all versions containing the fix: v19.0/19.1/19.2, v18.3, and v17.4.  I've never had to update a CVE before - do you have any way to edit the text from your end? |
| --- |

 üëç
1
 seanf reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=80&u=4bc520ceab031ff7533b15d607685f97923d3c7c&v=4)](/act1on3)

Copy link

Contributor

### **[act1on3](/act1on3)** commented [Sep 14, 2022](#issuecomment-1246382607) ‚Ä¢ edited Loading

| Hi [@dondonz](https://github.com/dondonz) , I believe an analyst from MITRE updated it already. Thanks for info. I also have no idea how to update the description :) |
| --- |

All reactions

Sorry, something went wrong.

[![@yeikel](https://avatars.githubusercontent.com/u/8935151?s=80&u=4bca54f3f4091b760417174a2e2d96f370d27343&v=4)](/yeikel)

Copy link

Contributor

### **[yeikel](/yeikel)** commented [Sep 14, 2022](#issuecomment-1246466309)

| Considering the different packports, is the range correct? Ie: are users with 17.x versions that have the backport vulnerable? |
| --- |

All reactions

Sorry, something went wrong.

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=80&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)

Copy link

Member

### **[dondonz](/dondonz)** commented [Sep 14, 2022](#issuecomment-1247388136)

| Thanks [@act1on3](https://github.com/act1on3), I ended up contacting MITRE to fix it.  [@yeikel](https://github.com/yeikel) Yes version v17.4 contains the backport, see the release notes <https://github.com/graphql-java/graphql-java/releases/tag/v17.4> |
| --- |

 ‚ù§Ô∏è
1
 yeikel reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@yeikel](https://avatars.githubusercontent.com/u/8935151?s=80&u=4bca54f3f4091b760417174a2e2d96f370d27343&v=4)](/yeikel)

Copy link

Contributor

### **[yeikel](/yeikel)** commented [Sep 14, 2022](#issuecomment-1247410857)

| Thanks [@act1on3](https://github.com/act1on3), I ended up contacting MITRE to fix it.  [@yeikel](https://github.com/yeikel) Yes version v17.4 contains the backport, see the release notes <https://github.com/graphql-java/graphql-java/releases/tag/v17.4>  If that's the case, then we should explicitly state that in the CVE. Otherwise, scanning systems will flag versions that are safe |
| --- |

All reactions

Sorry, something went wrong.

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=80&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)

Copy link

Member

### **[dondonz](/dondonz)** commented [Sep 15, 2022](#issuecomment-1247448021)

| [@yeikel](https://github.com/yeikel) I agree, I'm getting automated tickets myself at work. The CVE text has been updated to reference the backported versions.  ``` graphql-java before19.0 is vulnerable to Denial of Service. An attacker can send a malicious GraphQL query that consumes CPU resources. The fixed versions are 19.0 and later, 18.3, and 17.4.  ```  <https://www.cve.org/CVERecord?id=CVE-2022-37734>  I am also speaking to Snyk to fix their recommendation. |
| --- |

 ‚ù§Ô∏è
1
 yeikel reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@hzariv](https://avatars.githubusercontent.com/u/4632611?s=40&v=4)](/hzariv)
[hzariv](/hzariv)
mentioned this pull request
[Sep 21, 2022](#ref-issue-1381268410)

[CVE-2022-37734: Denial of Service (DoS) in graphql-java
Netflix/dgs-framework#1238](/Netflix/dgs-framework/issues/1238)

Closed

[![@benjaminjkraft](https://avatars.githubusercontent.com/u/111238?s=40&v=4)](/benjaminjkraft)
[benjaminjkraft](/benjaminjkraft)
mentioned this pull request
[Jan 5, 2024](#ref-pullrequest-2064074144)

[Add directive limit to prevent overloading
vektah/gqlparser#287](/vektah/gqlparser/pull/287)
 Closed

[estal011](/estal011)
added a commit
to 8btc-OnePiece/graphql-java
that referenced
this pull request
[Jun 6, 2024](#ref-commit-1c6d119)
[![@estal011](https://avatars.githubusercontent.com/u/69830570?s=40&v=4)](/estal011)

`[Merge branch '19.3' into v19.3.Onepiece-10.0.X](/8btc-OnePiece/graphql-java/commit/1c6d1194d563be4f6240ab9e8047700f263e2413 "Merge branch '19.3' into v19.3.Onepiece-10.0.X

* 19.3: (709 commits)
  use class loader in getResource (#3038)
  Stable port of #2940 (#2947)
  Stable port of Diff counts are the same (#2946)
  Stable port of Fix printing directives when they contain something like a formatting specifier (#2919) (#2920) (#2945)
  Stable port of Fix field visibility bug with enum with enum args (#2926) (#2944)
  Stable fix for #2943 (#2943)
  Added test fore intersection
  Xuorig Fix PR - Edge case with GraphQLTypeReference and Schema Transforms (#2906)
  Fix typo in description of skip directive (#2915)
  Add smaller set first optimisation
  Cheaper calculation for narrowing down possible objects in ENO
  Handles isDeprecated not being present in the json
  Defaults Locale when calling validation (#2908)
  DF SelectionSet Benchmark (#2893)
  Test stability (#2903)
  Donna's catch! (#2900)
  Deprecate Apollo Cache Control
  READY - Stop DOS attacks by making the lexer stop early on evil input. (#2892)
  Bump java-dataloader ahead of release
  State is passed explicitly to instrumentation and parameters are NOT mutated (#2769)
  ...

# Conflicts:
#	README.md
#	build.gradle
#	src/main/java/graphql/GraphQL.java
#	src/main/java/graphql/Scalars.java
#	src/main/java/graphql/execution/ValuesResolver.java
#	src/main/java/graphql/relay/SimpleListConnection.java
#	src/main/java/graphql/schema/DataFetchingEnvironmentImpl.java")`
‚Ä¶

`[1c6d119](/8btc-OnePiece/graphql-java/commit/1c6d1194d563be4f6240ab9e8047700f263e2413)`

```
* 19.3: (709 commits)
  use class loader in getResource ([graphql-java#3038](https://github.com/graphql-java/graphql-java/pull/3038))
  Stable port of [graphql-java#2940](https://github.com/graphql-java/graphql-java/pull/2940) ([graphql-java#2947](https://github.com/graphql-java/graphql-java/pull/2947))
  Stable port of Diff counts are the same ([graphql-java#2946](https://github.com/graphql-java/graphql-java/pull/2946))
  Stable port of Fix printing directives when they contain something like a formatting specifier ([graphql-java#2919](https://github.com/graphql-java/graphql-java/issues/2919)) ([graphql-java#2920](https://github.com/graphql-java/graphql-java/pull/2920)) ([graphql-java#2945](https://github.com/graphql-java/graphql-java/pull/2945))
  Stable port of Fix field visibility bug with enum with enum args ([graphql-java#2926](https://github.com/graphql-java/graphql-java/pull/2926)) ([graphql-java#2944](https://github.com/graphql-java/graphql-java/pull/2944))
  Stable fix for [graphql-java#2943](https://github.com/graphql-java/graphql-java/pull/2943) ([graphql-java#2943](https://github.com/graphql-java/graphql-java/pull/2943))
  Added test fore intersection
  Xuorig Fix PR - Edge case with GraphQLTypeReference and Schema Transforms ([graphql-java#2906](https://github.com/graphql-java/graphql-java/pull/2906))
  Fix typo in description of skip directive ([graphql-java#2915](https://github.com/graphql-java/graphql-java/pull/2915))
  Add smaller set first optimisation
  Cheaper calculation for narrowing down possible objects in ENO
  Handles isDeprecated not being present in the json
  Defaults Locale when calling validation ([graphql-java#2908](https://github.com/graphql-java/graphql-java/pull/2908))
  DF SelectionSet Benchmark ([graphql-java#2893](https://github.com/graphql-java/graphql-java/pull/2893))
  Test stability ([graphql-java#2903](https://github.com/graphql-java/graphql-java/pull/2903))
  Donna's catch! ([graphql-java#2900](https://github.com/graphql-java/graphql-java/pull/2900))
  Deprecate Apollo Cache Control
  READY - Stop DOS attacks by making the lexer stop early on evil input. ([graphql-java#2892](https://github.com/graphql-java/graphql-java/pull/2892))
  Bump java-dataloader ahead of release
  State is passed explicitly to instrumentation and parameters are NOT mutated ([graphql-java#2769](https://github.com/graphql-java/graphql-java/pull/2769))
  ...

# Conflicts:
#	README.md
#	build.gradle
#	src/main/java/graphql/GraphQL.java
#	src/main/java/graphql/Scalars.java
#	src/main/java/graphql/execution/ValuesResolver.java
#	src/main/java/graphql/relay/SimpleListConnection.java
#	src/main/java/graphql/schema/DataFetchingEnvironmentImpl.java
```

[![@StevenACoffman](https://avatars.githubusercontent.com/u/1942608?s=40&v=4)](/StevenACoffman)
[StevenACoffman](/StevenACoffman)
mentioned this pull request
[Jun 12, 2024](#ref-issue-2331467251)

[possible denial of service attack due to unlimited errors CVE-2023-49559
99designs/gqlgen#3118](/99designs/gqlgen/issues/3118)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fpull%2F2892)

Reviewers

[![@andimarek](https://avatars.githubusercontent.com/u/1706744?s=40&v=4)](/andimarek) [andimarek](/andimarek)

andimarek requested changes

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)](/dondonz) [dondonz](/dondonz)

 Awaiting requested review from dondonz

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**19.0**](/graphql-java/graphql-java/milestone/38 "19.0")

Development

Successfully merging this pull request may close these issues.

5 participants

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=52&v=4)](/bbakerman) [![@yeikel](https://avatars.githubusercontent.com/u/8935151?s=52&v=4)](/yeikel) [![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=52&v=4)](/act1on3) [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=52&v=4)](/dondonz) [![@andimarek](https://avatars.githubusercontent.com/u/1706744?s=52&v=4)](/andimarek)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from security.snyk.io_dfb85642_20250108_144938.html ===
[![Homepage](/_nuxt/header-logo.Dk_X-iWD.svg)](/)

2. [Snyk Vulnerability Database](/vuln)
3. [Maven](/vuln/maven)
4. com.graphql-java:graphql-java
# Denial of Service (DoS) Affecting [com.graphql-java:graphql-java](/package/maven/com.graphql-java%3Agraphql-java) package, versions **[,0.0.0-2022-07-26T05-45-04-226aabd9)****[17.0,17.4)****[18.0,18.3)**

---

### Severity

 Recommended 0.0high010

CVSS assessment made by Snyk's Security Team. [Learn more](/vuln/SNYK-JAVA-COMGRAPHQLJAVA-3021519#cvss)

### Threat Intelligence

Exploit Maturity

Snyk has a proof-of-concept or detailed explanation of how to exploit this vulnerability.

Proof of conceptEPSS

The probability is the direct output of the EPSS model, and conveys an overall sense of the threat of
exploitation in the wild. The percentile measures the EPSS probability relative to all known EPSS scores.
Note: This data is updated daily, relying on the latest available EPSS model version.
Check out the EPSS
[documentation](https://www.first.org/epss/articles/prob_percentile_bins)
for more details.

**0.23% (61st percentile)**
### Do your applications use this vulnerable package?

In a few clicks we can analyze your entire application and see what components are vulnerable in your application, and suggest you quick fixes.

[Test your applications](https://app.snyk.io/login?cta=sign-up&loc=banner&page=vuln-vuln)
### Snyk Learn

Learn about Denial of Service (DoS) vulnerabilities in an interactive lesson.

 [Start learning](https://learn.snyk.io/lesson/redos/)

* Snyk ID**SNYK-JAVA-COMGRAPHQLJAVA-3021519**
* published**13 Sept 2022**
* disclosed**13 Sept 2022**
* credit**act1on3**

[Report a new vulnerability](https://snyk.io/vulnerability-disclosure/) [Found a mistake?](https://support.snyk.io/s/contactsupport)
#### Introduced: 13 Sep 2022

[CVE-2022-37734 ¬†(opens in a new tab)](https://www.cve.org/CVERecord?id=CVE-2022-37734) Common Vulnerabilities and Exposures (CVE) are common identifiers for publicly known security vulnerabilities[CWE-400 ¬†(opens in a new tab)](https://cwe.mitre.org/data/definitions/400.html) Common Weakness Enumeration (CWE) is a category system for software weaknesses
## How to fix?

Upgrade `com.graphql-java:graphql-java` to version 0.0.0-2022-07-26T05-45-04-226aabd9, 17.4, 18.3 or higher.

## Overview

Affected versions of this package are vulnerable to Denial of Service (DoS) due to `Directives` overloading when using the `parserOptions` function. Exploiting this vulnerability is possible by sending a malicious GraphQL query.

## PoC:

```
query {__typename @aa}

```
## Details

Denial of Service (DoS) describes a family of attacks, all aimed at making a system inaccessible to its intended and legitimate users.

Unlike other vulnerabilities, DoS attacks usually do not aim at breaching security. Rather, they are focused on making websites and services unavailable to genuine users resulting in downtime.

One popular Denial of Service vulnerability is DDoS (a Distributed Denial of Service), an attack that attempts to clog network pipes to the system by generating a large volume of traffic from many machines.

When it comes to open source libraries, DoS vulnerabilities allow attackers to trigger such a crash or crippling of the service by using a flaw either in the application code or from the use of open source libraries.

Two common types of DoS vulnerabilities:

* High CPU/Memory Consumption- An attacker sending crafted requests that could cause the system to take a disproportionate amount of time to process. For example, [commons-fileupload:commons-fileupload](https://security.snyk.io/vuln/SNYK-JAVA-COMMONSFILEUPLOAD-30082).
* Crash - An attacker sending crafted requests that could cause the system to crash. For Example, [npm `ws` package](https://snyk.io/vuln/npm%3Aws%3A20171108)
## References

* [GitHub Commit](https://github.com/graphql-java/graphql-java/pull/2897/commits/1511839ad6ed7e7ec397b9060926a4d219fc245e)
* [GitHub Commit](https://github.com/graphql-java/graphql-java/pull/2902/commits)
* [GitHub Issue](https://github.com/graphql-java/graphql-java/issues/2888)
* [GitHub PR](https://github.com/graphql-java/graphql-java/pull/2892)
* [GitHub PR](https://github.com/graphql-java/graphql-java/pull/2897)
* [GitHub PR](https://github.com/graphql-java/graphql-java/pull/2902)
### CVSS Scores

version 3.1
### Snyk

7.5¬†high

* Attack Vector (AV)

  The vulnerable component is bound to the network stack and the set of possible attackers extends beyond the other options listed below, up to and including the entire Internet. Such a vulnerability is often termed ‚Äúremotely exploitable‚Äù and can be thought of as an attack being exploitable *at the protocol level* one or more network hops away (e.g., across one or more routers).

  **Network**
* Attack Complexity (AC)

  Specialized access conditions or extenuating circumstances do not exist. An attacker can expect repeatable success when attacking the vulnerable component.

  **Low**
* Privileges Required (PR)

  The attacker is unauthorized prior to attack, and therefore does not require any access to settings or files of the vulnerable system to carry out an attack.

  **None**
* User Interaction (UI)

  The vulnerable system can be exploited without interaction from any user.

  **None**

* Scope (S)

  An exploited vulnerability can only affect resources managed by the same security authority. In this case, the vulnerable component and the impacted component are either the same, or both are managed by the same security authority.

  **Unchanged**

* Confidentiality (C)

  There is no loss of confidentiality within the impacted component.

  **None**
* Integrity (I)

  There is no loss of integrity within the impacted component.

  **None**
* Availability (A)

  There is a total loss of availability, resulting in the attacker being able to fully deny access to resources in the impacted component; this loss is either sustained (while the attacker continues to deliver the attack) or persistent (the condition persists even after the attack has completed). Alternatively, the attacker has the ability to deny some availability, but the loss of availability presents a direct, serious consequence to the impacted component (e.g., the attacker cannot disrupt existing connections, but can prevent new connections; the attacker can repeatedly exploit a vulnerability that, in each instance of a successful attack, leaks a only small amount of memory, but after repeated exploitation causes a service to become completely unavailable).

  **High**
### NVD

7.5¬†high
### Product

* [Snyk Open Source](https://snyk.io/product/open-source-security-management/)
* [Snyk Code](https://snyk.io/product/snyk-code/)
* [Snyk Container](https://snyk.io/product/container-vulnerability-management/)
* [Snyk Infrastructure as Code](https://snyk.io/product/infrastructure-as-code-security/)
* [Snyk AppRisk](https://snyk.io/product/snyk-apprisk/)
### Resources

* [Vulnerability DB](https://security.snyk.io/)
* [Documentation](https://docs.snyk.io/)
* [Disclosed Vulnerabilities](/disclosed-vulnerabilities)
* [Blog](https://snyk.io/blog/)
* [FAQs](https://support.snyk.io/)
### Company

* [About](https://snyk.io/about)
* [Jobs](https://snyk.io/careers/)
* Contact
* [Policies](https://snyk.io/policies/terms-of-service/)
* [Do Not Sell My Personal Information](https://preferences.snyk.io/dont_sell)
### Contact Us

* Support
* [Report a new vuln](https://snyk.io/vulnerability-disclosure)
* [Events](https://snyk.io/events)
### Find us online

### Track our development

[![DevSecOps Community Podcast](data:image/svg+xml;base64...)](https://www.devseccon.com/the-secure-developer-podcast/)

¬© 2025 Snyk Limited

Registered in England and Wales. Company number: 09677925

Registered address: Highlands House, Basingstoke Road, Spencers Wood, Reading, Berkshire, RG7 1NT.



=== Content from github.com_d8922ac5_20250108_105130.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fissues%2F2888)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fissues%2F2888)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=graphql-java%2Fgraphql-java)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[graphql-java](/graphql-java)
/
**[graphql-java](/graphql-java/graphql-java)**
Public

* [Notifications](/login?return_to=%2Fgraphql-java%2Fgraphql-java) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)
* [Star
   6.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)

* [Code](/graphql-java/graphql-java)
* [Issues
  21](/graphql-java/graphql-java/issues)
* [Pull requests
  11](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects
  0](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

Additional navigation options

* [Code](/graphql-java/graphql-java)
* [Issues](/graphql-java/graphql-java/issues)
* [Pull requests](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgraphql-java%2Fgraphql-java%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgraphql-java%2Fgraphql-java%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Denial of Service via Directive overloading #2888

Closed

[act1on3](/act1on3) opened this issue
Jul 18, 2022
¬∑ 6 comments

Closed

# [Denial of Service via Directive overloading](#top) #2888

[act1on3](/act1on3) opened this issue
Jul 18, 2022
¬∑ 6 comments

Milestone
[19.0](/graphql-java/graphql-java/milestone/38 "19.0")

## Comments

[![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=80&u=4bc520ceab031ff7533b15d607685f97923d3c7c&v=4)](/act1on3)

Copy link

Contributor

### **[act1on3](/act1on3)** commented [Jul 18, 2022](#issue-1307718616)

| Hello team, I've discovered that graphql-java is affected by Denial of Service via Directives overloading by default, and there is no way to configure it securely (afaik). Query example:  ``` query {__typename @aa}  ```  I get errors by implemented security mechanisms, but these mechanisms don't help in this case:   * [Help prevent DOS attacks on graphql servers¬†#2549](https://github.com/graphql-java/graphql-java/pull/2549) * [Support Max validation errors being produced¬†#2553](https://github.com/graphql-java/graphql-java/pull/2553)   MaxQueryDepthInstrumentation and MaxQueryComplexityInstrumentation don't solve the issue as well.  Query execution time increases by adding more directives:  ``` 5000 directives: 445 ms 10000 directives: 732 ms 15000 directives: 1164 ms 20000 directives: 1671 ms 25000 directives: 2159 ms 30000 directives: 2661 ms 35000 directives: 3171 ms 40000 directives: 3687 ms 45000 directives: 4224 ms 50000 directives: 4711 ms 55000 directives: 5227 ms 60000 directives: 5749 ms 65000 directives: 6297 ms 70000 directives: 6788 ms  ```  The code snippet for testing:  ``` import graphql.ExecutionInput; import graphql.ExecutionResult; import graphql.GraphQL; import graphql.schema.GraphQLSchema; import graphql.schema.StaticDataFetcher; import graphql.schema.idl.RuntimeWiring; import graphql.schema.idl.SchemaGenerator; import graphql.schema.idl.SchemaParser; import graphql.schema.idl.TypeDefinitionRegistry;  import static graphql.schema.idl.RuntimeWiring.newRuntimeWiring;  public class HelloWorld {      static Integer STEP = 5000;     static Integer CHECKS_AMOUNT = 15;      public static void main(String[] args) {         String schema = "type Query{hello: String}";          SchemaParser schemaParser = new SchemaParser();         TypeDefinitionRegistry typeDefinitionRegistry = schemaParser.parse(schema);          RuntimeWiring runtimeWiring = newRuntimeWiring()                 .type("Query", builder -> builder.dataFetcher("hello", new StaticDataFetcher("world")))                 .build();          SchemaGenerator schemaGenerator = new SchemaGenerator();         GraphQLSchema graphQLSchema = schemaGenerator.makeExecutableSchema(typeDefinitionRegistry, runtimeWiring);          GraphQL build = GraphQL.newGraphQL(graphQLSchema).build();          String payload = "@aa";          for (int i = 1; i < CHECKS_AMOUNT; i++) {              String query = "query {__typename " + payload.repeat(i * STEP) + "}";             ExecutionInput executionInput = ExecutionInput.newExecutionInput().query(query).build();              long startTime = System.nanoTime();              ExecutionResult executionResult = build.execute(executionInput);              long endTime = System.nanoTime();             long duration = (endTime - startTime);              System.out.println(String.format("%d directives: %d ms", i* STEP, duration / 1000000));         }     } } ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

### **[bbakerman](/bbakerman)** commented [Jul 21, 2022](#issuecomment-1191012228)

| [#2549](https://github.com/graphql-java/graphql-java/pull/2549) should help out of the box as its expressely for that attack  The default number of tokens is 15000. You test above should kicked out at 15000 tokens.  Hmm perhaps this is because you are appending them together as `@aa@aa@aaa` wich is valid but perhaps the ANTLR token count does not register them as tokens and hence it never reaches the count.  We will look into this more.  Thanks for reporting |
| --- |

 üëç
1
 act1on3 reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)](/bbakerman)
[bbakerman](/bbakerman)
mentioned this issue
[Jul 21, 2022](#ref-pullrequest-1312904138)

[READY - Stop DOS attacks by making the lexer stop early on evil input.
#2892](/graphql-java/graphql-java/pull/2892)
 Merged

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

### **[bbakerman](/bbakerman)** commented [Jul 22, 2022](#issuecomment-1192192425)

| Thanks very much for reporting this problem. We did discover another problem in the ANTLR lexer that nullified out previous attempts to limit how many tokens get parsed.  the ANTLR lexer is by design greedy and wants to get as many characters as it can before presenting them back to the parser. Certain grammar (like `@lol@lol` directives all together) mean that the lexer greedily races ahead and never returns to the parser (even though it has discovered N grammar elements).  The end result is that even thought the parser had code to limit how many tokens it would process, the underlying lexer was driving CPU work that ended up in DOS territory before a callback to the parser could cause the limits to be applied.  See [#2892](https://github.com/graphql-java/graphql-java/pull/2892) |
| --- |

All reactions

Sorry, something went wrong.

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=80&v=4)](/bbakerman)

Copy link

Member

### **[bbakerman](/bbakerman)** commented [Jul 22, 2022](#issuecomment-1192204894)

| I have asked in [antlr/antlr4#3796](https://github.com/antlr/antlr4/discussions/3796) for more ANLTR info here so we can better at this |
| --- |

All reactions

Sorry, something went wrong.

[![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=80&u=4bc520ceab031ff7533b15d607685f97923d3c7c&v=4)](/act1on3)

Copy link

Contributor

Author

### **[act1on3](/act1on3)** commented [Jul 26, 2022](#issuecomment-1195360372)

| Hi [@bbakerman](https://github.com/bbakerman), That's good news that the reported issue is helpful. Thanks for investigating it carefully. |
| --- |

All reactions

Sorry, something went wrong.

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)
[dondonz](/dondonz)
added this to the [19.0](/graphql-java/graphql-java/milestone/38) milestone
[Jul 26, 2022](#event-7068670667)

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=80&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)

Copy link

Member

### **[dondonz](/dondonz)** commented [Jul 26, 2022](#issuecomment-1196078734)

| Closed by [#2892](https://github.com/graphql-java/graphql-java/pull/2892) |
| --- |

 üéâ
1
 act1on3 reacted with hooray emoji

All reactions

* üéâ
  1 reaction

Sorry, something went wrong.

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&u=743570247659164727a8d67519515874aaac2186&v=4)](/dondonz)
[dondonz](/dondonz)
closed this as [completed](/graphql-java/graphql-java/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Jul 26, 2022](#event-7068671202)

[![@seanf](https://avatars.githubusercontent.com/u/54155?s=80&v=4)](/seanf)

Copy link

### **[seanf](/seanf)** commented [Sep 14, 2022](#issuecomment-1246293514)

| Also closed by [#2902](https://github.com/graphql-java/graphql-java/pull/2902) and [#2897](https://github.com/graphql-java/graphql-java/pull/2897) (backports). Thanks [@bbakerman](https://github.com/bbakerman) ! |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fissues%2F2888)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**19.0**](/graphql-java/graphql-java/milestone/38 "19.0")

Development

No branches or pull requests

4 participants

[![@seanf](https://avatars.githubusercontent.com/u/54155?s=52&v=4)](/seanf) [![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=52&v=4)](/bbakerman) [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=52&v=4)](/dondonz) [![@act1on3](https://avatars.githubusercontent.com/u/26700606?s=52&v=4)](/act1on3)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from cveform.mitre.org_c3616b63_20250108_144937.html ===


[![CVE logo](Content/cveLogoR.svg)](https://cve.org/)

[CVE Records
![CVE Record search](Content/search_icon.png)](https://cve.mitre.org/cve/search_cve_list.html)

[Search CVE Records](https://cve.mitre.org/cve/search_cve_list.html)

## Submit a CVE Request

\* Required

![errors](Content/exclamation.jpg)

\* Select a request type

- Please choose an action -
Report Vulnerability/Request CVE ID
Notify CVE about a publication
Request an update to an existing CVE Entry
Request information on the CVE Numbering Authority (CNA) Program
Other

![errors](Content/exclamation.jpg)

\* Enter your e-mail address

![alert](Content/info.jpg)

IMPORTANT: Please add cve-request@mitre.org and cve@mitre.org as
safe senders in your email client before completing this form.

Enter a PGP Key (to encrypt)

Processing....

#### Legal

* [Terms of Use](https://cve.org/Legal/TermsOfUse)
* [Privacy Policy](https://cve.org/Legal/PrivacyPolicy)

#### Media

* [News](https://cve.org/Media/News)
* [Events](https://cve.org/Media/Events)
* [Sign up for e-newsletter](https://cve.mitre.org/news/newsletter.html)

##### Social Media

[github

![](Content/github.png)](https://github.com/CVEProject)
[linkedin

![](Content/linkedin.png)](https://www.linkedin.com/showcase/cve-cwe-capec)
[youtube

![](Content/youtube.png)](https://www.youtube.com/channel/UCUHd2XFDsKH8kjMZQaSKpDQ/)
[twitter for CVE New

![](Content/twitter.png)
New CVE Records](https://twitter.com/CVEnew/)
[twitter for CVE announce

![](Content/twitter.png)
 CVE Announce](https://twitter.com/CVEannounce/)

#### Contact

* [CVE Program Support](https://cveform.mitre.org)
* [CNA](https://cve.org/PartnerInformation/ListofPartners)
* [CVE Website Support](https://cveform.mitre.org)

Use of the CVE¬Æ List and the associated references from this website are subject to the
[terms of use](https://cve.org/Legal/TermsOfUse). CVE is sponsored by the
[U.S. Department of Homeland Security (DHS)](https://www.dhs.gov/)
 [Cybersecurity and Infrastructure Security Agency (CISA)](https://www.dhs.gov/cisa/cybersecurity-division/). Copyright ¬© 1999-2023,
[The MITRE Corporation](https://www.mitre.org/). CVE and the CVE logo are registered trademarks of The MITRE Corporation.

√ó
#### Vulnerability Information

Vulnerability Type

CWE-ID

Definition

Buffer Overflow

[CWE-119](http://cwe.mitre.org/data/definitions/119.html)

The software performs operations on a memory buffer, but it can read from or write to a memory location that is outside of the intended boundary of the buffer.

Cross Site Scripting (XSS)

[CWE-79](http://cwe.mitre.org/data/definitions/79.html)

The software does not neutralize or incorrectly neutralizes user-controllable input before it is placed in output that is used as a web page that is served to other users.

SQL Injection

[CWE-89](http://cwe.mitre.org/data/definitions/89.html)

The software constructs all or part of an SQL command using externally-influenced input from an upstream component, but it does not neutralize or incorrectly neutralizes special elements that could modify the intended SQL command when it is sent to a downstream component.

Directory Traversal

[CWE-22](http://cwe.mitre.org/data/definitions/22.html)

The software uses external input to construct a pathname that is intended to identify a file or directory that is located underneath a restricted parent directory, but the software does not properly neutralize special elements within the pathname that can cause the pathname to resolve to a location that is outside of the restricted directory.

XML External Entity (XXE)

[CWE-611](http://cwe.mitre.org/data/definitions/611.html)

The software processes an XML document that can contain XML entities with URIs that resolve to documents outside of the intended sphere of control, causing the product to embed incorrect documents into its output.

Insecure Permissions

[CWE-276](http://cwe.mitre.org/data/definitions/276.html)

The software, upon installation, sets incorrect permissions for an object that exposes it to an unintended actor.

Incorrect Access Control

[CWE-284](http://cwe.mitre.org/data/definitions/284.html)

The software does not restrict or incorrectly restricts access to a resource from an unauthorized actor.

Integer Overflow

[CWE-190](http://cwe.mitre.org/data/definitions/190.html)

The software performs a calculation that can produce an integer overflow or wraparound, when the logic assumes that the resulting value will always be larger than the original value. This can introduce other weaknesses when the calculation is used for resource management or execution control.

Cross Site Request Forgery (CSRF)

[CWE-352](http://cwe.mitre.org/data/definitions/352.html)

The web application does not, or can not, sufficiently verify whether a well-formed, valid, consistent request was intentionally provided by the user who submitted the request.

Missing SSL certification verification

[CWE-599](http://cwe.mitre.org/data/definitions/599.html)

The software uses OpenSSL and trusts or uses a certificate without using the SSL\_get\_verify\_result() function to ensure that the certificate satisfies all necessary security requirements.

Other or Unknown

N/A

The software contains a mistake other than above which can be directly used by a hacker to gain access to a system or network.

√ó
#### Other Vulnerability Information

You can find more information at [cwe.mitre.org](http://cwe.mitre.org)

* Algorithm complexity
* Array index error
* Auth bypass using cookie
* Buffer Overflow
* Cross-Site Request Forgery (CSRF)
* Cross-Site Scripting (XSS)
* Directory Traversal
* Double free
* Eval injection
* File Upload
* Format String
* HTTP Response Splitting

* HTTP Request Splitting
* Incomplete blacklist
* Integer Overflow
* Integer Signedness
* Memory Leak
* Shell Metacharacter Injectoin
* Open Redirect
* Redirect without Exit
* Path Disclosure
* Insecure Permissions
* PHP remote file inclusion
* Session Fixation

* SQL Injection
* Symbolic Link Following
* Untrusted Search Path
* Unquoted Windows search path
* Use after free
* Default user/password
* Large or infinite loop
* Exposed insecure/unsafe method in ActiveX control
* Generation of insufficiently random numbers
* XML Extneral Entity (XXE)
* Incorrect Access Control
* Missing SSL certificate validation

√ó
#### Vulnerability Information

Attack Type

Definition

Remote

The vulnerability can be exploited through a network. The attacker may be either on the adjacent or remote network.

Local

To exploit the vulnerability, the attacker needs to be logged into the operating system on a local machine or a guest operating system.

Physical

The attacker needs to be located near the victim or have physical access to the vulnerable system to exploit the vulnerability. Examples include touching a workstation keyboard or USB device, "shoulder surfing" to see a workstation's display, and touching the screen of a mobile device.

Context-dependent

The type of access needed to exploit the vulnerability is dependent on how the vulnerable product is used. This is most often used for libraries.

√ó
#### Vulnerability Information

Update Type

Definition

Duplicate

More than one CVE ID has been assigned to a single vulnerability.

Rejection

Vendor rejects the assignment of a particular CVE ID.

Split/Merge

A single CVE Entry should be split into two or more CVE Entries OR Two or more existing CVE Entries should be merged into a single CVE Entry.

Update Description

Update the description in an existing CVE Entry.

Update References

Add, remove, or change a reference for an existing CVE Entry.

Other

Any request related to an existing CVE Entry that does not fall within one of the other categories.



=== Content from github.com_d01c928f_20250108_105133.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=graphql-java%2Fgraphql-java)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[graphql-java](/graphql-java)
/
**[graphql-java](/graphql-java/graphql-java)**
Public

* [Notifications](/login?return_to=%2Fgraphql-java%2Fgraphql-java) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)
* [Star
   6.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)

* [Code](/graphql-java/graphql-java)
* [Issues
  21](/graphql-java/graphql-java/issues)
* [Pull requests
  11](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects
  0](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

Additional navigation options

* [Code](/graphql-java/graphql-java)
* [Issues](/graphql-java/graphql-java/issues)
* [Pull requests](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

# Releases: graphql-java/graphql-java

[Releases](/graphql-java/graphql-java/releases)
[Tags](/graphql-java/graphql-java/tags)

Releases ¬∑ graphql-java/graphql-java
## 22.3

05 Sep 03:15

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v22.3](/graphql-java/graphql-java/tree/v22.3)

[`d6dbf61`](/graphql-java/graphql-java/commit/d6dbf6156e8a90a1420a7cee957de0b22100d47f)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v22.3)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[22.3](/graphql-java/graphql-java/releases/tag/v22.3)
[Latest](/graphql-java/graphql-java/releases/latest)

[Latest](/graphql-java/graphql-java/releases/latest)

This is a bugfix release focusing on the `@defer` directive implementation. There are no breaking changes in this release.

Thanks to the community for continuing to report issues and build improvements, which helps make graphql-java better! Kudos to [@felipe-gdr](https://github.com/felipe-gdr) and [@jbellenger](https://github.com/jbellenger) for contributing `@defer` improvements in this release.

## Key Changes

* `@defer` and DataLoader integration in [#3639](https://github.com/graphql-java/graphql-java/pull/3639)
* Transformable IncrementalExecutionResult in [#3693](https://github.com/graphql-java/graphql-java/pull/3693)

## What's Changed

* Bump google-github-actions/auth from 2.1.3 to 2.1.4 by [@dependabot](https://github.com/dependabot) in [#3684](https://github.com/graphql-java/graphql-java/pull/3684)
* transformable IncrementalExecutionResult by [@jbellenger](https://github.com/jbellenger) in [#3693](https://github.com/graphql-java/graphql-java/pull/3693)
* Defer dataloader integration by [@felipe-gdr](https://github.com/felipe-gdr) in [#3639](https://github.com/graphql-java/graphql-java/pull/3639)
* Bump net.bytebuddy:byte-buddy from 1.14.18 to 1.15.1 by [@dependabot](https://github.com/dependabot) in [#3699](https://github.com/graphql-java/graphql-java/pull/3699)
* Bump google-github-actions/auth from 2.1.4 to 2.1.5 by [@dependabot](https://github.com/dependabot) in [#3695](https://github.com/graphql-java/graphql-java/pull/3695)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.18 to 1.15.1 by [@dependabot](https://github.com/dependabot) in [#3700](https://github.com/graphql-java/graphql-java/pull/3700)
* Bump io.projectreactor:reactor-core from 3.6.8 to 3.6.9 by [@dependabot](https://github.com/dependabot) in [#3689](https://github.com/graphql-java/graphql-java/pull/3689)
* Bump org.junit.jupiter:junit-jupiter from 5.10.3 to 5.11.0 by [@dependabot](https://github.com/dependabot) in [#3688](https://github.com/graphql-java/graphql-java/pull/3688)

**Full Changelog**: [v22.2...v22.3](https://github.com/graphql-java/graphql-java/compare/v22.2...v22.3)

### Contributors

* [![@jbellenger](https://avatars.githubusercontent.com/u/1391805?s=64&v=4)](https://github.com/jbellenger)
* [![@felipe-gdr](https://avatars.githubusercontent.com/u/3858115?s=64&v=4)](https://github.com/felipe-gdr)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)

jbellenger, felipe-gdr, and dependabot

 Assets
2

 Loading

 üëç
1
 nico-arianto reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 ahndmal reacted with heart emoji

All reactions

* üëç
  1 reaction
* ‚ù§Ô∏è
  1 reaction

 2 people reacted

## 22.2

12 Aug 00:22

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v22.2](/graphql-java/graphql-java/tree/v22.2)

[`9cc3538`](/graphql-java/graphql-java/commit/9cc3538f3b13db50282d13bbbc8120814f6fe0f1)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v22.2)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[22.2](/graphql-java/graphql-java/releases/tag/v22.2)

This is a bugfix release. There are no breaking changes in this release.

Thanks to everyone in the community for reporting issues and contributing bugfixes for this release! And happy birthday to GraphQL Java, who recently turned 9!

### Key changes:

* Bugfix for DataLoader dispatching which caused subscriptions to hang [#3673](https://github.com/graphql-java/graphql-java/pull/3673). First reported to Spring for GraphQL [spring-projects/spring-graphql#1019](https://github.com/spring-projects/spring-graphql/issues/1019)
* Improved `@oneOf` validation to run sooner in the validation phase [#3577](https://github.com/graphql-java/graphql-java/pull/3577) [#3580](https://github.com/graphql-java/graphql-java/pull/3580)
* MultiSourceReader bugfix to handle different new line behaviour in Java 16+, thanks [@gummybug](https://github.com/gummybug) [#3670](https://github.com/graphql-java/graphql-java/pull/3670)

## What's Changed

* Bump net.bytebuddy:byte-buddy from 1.14.15 to 1.14.16 by [@dependabot](https://github.com/dependabot) in [#3606](https://github.com/graphql-java/graphql-java/pull/3606)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.15 to 1.14.16 by [@dependabot](https://github.com/dependabot) in [#3604](https://github.com/graphql-java/graphql-java/pull/3604)
* Bump org.assertj:assertj-core from 3.25.3 to 3.26.0 by [@dependabot](https://github.com/dependabot) in [#3605](https://github.com/graphql-java/graphql-java/pull/3605)
* Better javadoc on beginFieldFetching by [@bbakerman](https://github.com/bbakerman) in [#3610](https://github.com/graphql-java/graphql-java/pull/3610)
* nested nullable list validation bugfix by [@jbellenger](https://github.com/jbellenger) in [#3599](https://github.com/graphql-java/graphql-java/pull/3599)
* Adding missed properties on IncrementalExecutionResultImpl.Builder.from by [@Juliano-Prado](https://github.com/Juliano-Prado) in [#3593](https://github.com/graphql-java/graphql-java/pull/3593)
* This provides validation on [@OneOf](https://github.com/OneOf) input types during validation phase by [@bbakerman](https://github.com/bbakerman) in [#3577](https://github.com/graphql-java/graphql-java/pull/3577)
* Bump net.bytebuddy:byte-buddy from 1.14.16 to 1.14.17 by [@dependabot](https://github.com/dependabot) in [#3612](https://github.com/graphql-java/graphql-java/pull/3612)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.16 to 1.14.17 by [@dependabot](https://github.com/dependabot) in [#3613](https://github.com/graphql-java/graphql-java/pull/3613)
* This will validate [@OneOf](https://github.com/OneOf) variable values when the variables are coerced by [@bbakerman](https://github.com/bbakerman) in [#3580](https://github.com/graphql-java/graphql-java/pull/3580)
* Fix stale bot cache problem by [@dondonz](https://github.com/dondonz) in [#3615](https://github.com/graphql-java/graphql-java/pull/3615)
* Add option to redact token details from parser error messages by [@dondonz](https://github.com/dondonz) in [#3618](https://github.com/graphql-java/graphql-java/pull/3618)
* Make FetchedValue a public constructor by [@bbakerman](https://github.com/bbakerman) in [#3624](https://github.com/graphql-java/graphql-java/pull/3624)
* AstPrinter: Empty types should not include braces `{}` by [@tinnou](https://github.com/tinnou) in [#3619](https://github.com/graphql-java/graphql-java/pull/3619)
* Add toString() implementations for RawVariables and CoercedVariables classes by [@oliverlockwood](https://github.com/oliverlockwood) in [#3629](https://github.com/graphql-java/graphql-java/pull/3629)
* Small tweak allowed on Java 9 and later by [@bbakerman](https://github.com/bbakerman) in [#3635](https://github.com/graphql-java/graphql-java/pull/3635)
* Subscription results keep in upstream order by [@bbakerman](https://github.com/bbakerman) in [#3574](https://github.com/graphql-java/graphql-java/pull/3574)
* Start draining deferred results on subscription by [@bbakerman](https://github.com/bbakerman) in [#3634](https://github.com/graphql-java/graphql-java/pull/3634)
* Fix builder return type and expose generic toSpecification by [@gnawf](https://github.com/gnawf) in [#3642](https://github.com/graphql-java/graphql-java/pull/3642)
* Bump io.projectreactor:reactor-core from 3.6.5 to 3.6.7 by [@dependabot](https://github.com/dependabot) in [#3643](https://github.com/graphql-java/graphql-java/pull/3643)
* Only use JetBrains nullability annotations by [@dondonz](https://github.com/dondonz) in [#3644](https://github.com/graphql-java/graphql-java/pull/3644)
* Bump org.junit.jupiter:junit-jupiter from 5.10.2 to 5.10.3 by [@dependabot](https://github.com/dependabot) in [#3653](https://github.com/graphql-java/graphql-java/pull/3653)
* Bump org.codehaus.groovy:groovy from 3.0.21 to 3.0.22 by [@dependabot](https://github.com/dependabot) in [#3654](https://github.com/graphql-java/graphql-java/pull/3654)
* This introduces a Traversal Options to allow skipping the coercing of field arguments by [@bbakerman](https://github.com/bbakerman) in [#3651](https://github.com/graphql-java/graphql-java/pull/3651)
* produce better exception for diffing bug by [@andimarek](https://github.com/andimarek) in [#3655](https://github.com/graphql-java/graphql-java/pull/3655)
* Add missing NamedNode interface to OperationDefinition by [@dondonz](https://github.com/dondonz) in [#3646](https://github.com/graphql-java/graphql-java/pull/3646)
* Fix bug with error handling in the defer execution code by [@felipe-gdr](https://github.com/felipe-gdr) in [#3640](https://github.com/graphql-java/graphql-java/pull/3640)
* Bump org.eclipse.jetty:jetty-server from 11.0.21 to 11.0.22 by [@dependabot](https://github.com/dependabot) in [#3659](https://github.com/graphql-java/graphql-java/pull/3659)
* Bump com.fasterxml.jackson.core:jackson-databind from 2.17.1 to 2.17.2 by [@dependabot](https://github.com/dependabot) in [#3660](https://github.com/graphql-java/graphql-java/pull/3660)
* Bump io.projectreactor:reactor-core from 3.6.7 to 3.6.8 by [@dependabot](https://github.com/dependabot) in [#3666](https://github.com/graphql-java/graphql-java/pull/3666)
* Bump net.bytebuddy:byte-buddy from 1.14.17 to 1.14.18 by [@dependabot](https://github.com/dependabot) in [#3664](https://github.com/graphql-java/graphql-java/pull/3664)
* Bump org.assertj:assertj-core from 3.26.0 to 3.26.3 by [@dependabot](https://github.com/dependabot) in [#3665](https://github.com/graphql-java/graphql-java/pull/3665)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.17 to 1.14.18 by [@dependabot](https://github.com/dependabot) in [#3667](https://github.com/graphql-java/graphql-java/pull/3667)
* Fix MultiSourceReader compatibility with Java 16+ by [@gummybug](https://github.com/gummybug) in [#3670](https://github.com/graphql-java/graphql-java/pull/3670)
* Use static function to initialize a flag in MultiSourceReader by [@gummybug](https://github.com/gummybug) in [#3671](https://github.com/graphql-java/graphql-java/pull/3671)
* upgrade gradle to 8.9 by [@andimarek](https://github.com/andimarek) in [#3672](https://github.com/graphql-java/graphql-java/pull/3672)
* 3662 - fixes dataloader dispatching during subscriptions by [@bbakerman](https://github.com/bbakerman) in [#3673](https://github.com/graphql-java/graphql-java/pull/3673)
* upgrade gradle wrapper by [@andimarek](https://github.com/andimarek) in [#3675](https://github.com/graphql-java/graphql-java/pull/3675)
* Add missing directive definitions by [@dondonz](https://github.com/dondonz) in [#3656](https://github.com/graphql-java/graphql-java/pull/3656)
* schema diffing improvements by [@andimarek](https://github.com/andimarek) in [#3676](https://github.com/graphql-java/graphql-java/pull/3676)

## New Contributors

* [@oliverlockwood](https://github.com/oliverlockwood) made their first contribution in [#3629](https://github.com/graphql-java/graphql-java/pull/3629)
* [@gummybug](https://github.com/gummybug) made their first contribution in [#3670](https://github.com/graphql-java/graphql-java/pull/3670)

**Full Changelog**: [v22.1...v22.2](https://github.com/graphql-java/graphql-java/compare/v22.1...v22.2)

### Contributors

* [![@gummybug](https://avatars.githubusercontent.com/u/653267?s=64&v=4)](https://github.com/gummybug)
* [![@jbellenger](https://avatars.githubusercontent.com/u/1391805?s=64&v=4)](https://github.com/jbellenger)
* [![@tinnou](https://avatars.githubusercontent.com/u/1523863?s=64&v=4)](https://github.com/tinnou)
* [![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=64&v=4)](https://github.com/bbakerman)
* [![@andimarek](https://avatars.githubusercontent.com/u/1706744?s=64&v=4)](https://github.com/andimarek)
* [![@felipe-gdr](https://avatars.githubusercontent.com/u/3858115?s=64&v=4)](https://github.com/felipe-gdr)
* [![@oliverlockwood](https://avatars.githubusercontent.com/u/6017680?s=64&v=4)](https://github.com/oliverlockwood)
* [![@gnawf](https://avatars.githubusercontent.com/u/9077461?s=64&v=4)](https://github.com/gnawf)
* [![@OneOf](https://avatars.githubusercontent.com/u/11801454?s=64&v=4)](https://github.com/OneOf)
* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
* [![@Juliano-Prado](https://avatars.githubusercontent.com/u/137855981?s=64&v=4)](https://github.com/Juliano-Prado)

gummybug, jbellenger, and 10 other contributors

 Assets
2

 Loading

 üëç
2
 nico-arianto and thuync reacted with thumbs up emoji
 üöÄ
2
 setchy and ahndmal reacted with rocket emoji

All reactions

* üëç
  2 reactions
* üöÄ
  2 reactions

 4 people reacted

## 22.1

21 May 05:59

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v22.1](/graphql-java/graphql-java/tree/v22.1)

[`f93fdac`](/graphql-java/graphql-java/commit/f93fdac30b43e0ac45ccc8b13e5b054523bc21dd)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v22.1)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[22.1](/graphql-java/graphql-java/releases/tag/v22.1)

This is a bugfix release. There are no breaking changes in this release, however if you use Kotlin, please note some nullability changes were made with this release.

**Key changes include:**

* Fix to add field fetching method [#3571](https://github.com/graphql-java/graphql-java/pull/3571)
* Add validation rule for `@deprecated` on required arguments and input object fields [#3591](https://github.com/graphql-java/graphql-java/pull/3591)
* Nullability changes for DataFetchingEnvironment [#3582](https://github.com/graphql-java/graphql-java/pull/3582). If you use Kotlin, this may be considered a breaking change for you. See discussion: [#3630](https://github.com/graphql-java/graphql-java/discussions/3630)

Thanks to everyone who contributed to this release!

## What's Changed

* Update readme badge by [@dondonz](https://github.com/dondonz) in [#3568](https://github.com/graphql-java/graphql-java/pull/3568)
* Added a getBoolean onto GraphQLContext.java by [@bbakerman](https://github.com/bbakerman) in [#3578](https://github.com/graphql-java/graphql-java/pull/3578)
* getBoolean returns a boolean not a Boolean by [@bbakerman](https://github.com/bbakerman) in [#3581](https://github.com/graphql-java/graphql-java/pull/3581)
* Bump org.testng:testng from 7.10.1 to 7.10.2 by [@dependabot](https://github.com/dependabot) in [#3583](https://github.com/graphql-java/graphql-java/pull/3583)
* Bump net.bytebuddy:byte-buddy from 1.14.13 to 1.14.14 by [@dependabot](https://github.com/dependabot) in [#3584](https://github.com/graphql-java/graphql-java/pull/3584)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.13 to 1.14.14 by [@dependabot](https://github.com/dependabot) in [#3585](https://github.com/graphql-java/graphql-java/pull/3585)
* Bump com.fasterxml.jackson.core:jackson-databind from 2.17.0 to 2.17.1 by [@dependabot](https://github.com/dependabot) in [#3587](https://github.com/graphql-java/graphql-java/pull/3587)
* Always include incremental props even if null by [@gnawf](https://github.com/gnawf) in [#3570](https://github.com/graphql-java/graphql-java/pull/3570)
* Bump net.bytebuddy:byte-buddy-agent from 1.14.14 to 1.14.15 by [@dependabot](https://github.com/dependabot) in [#3595](https://github.com/graphql-java/graphql-java/pull/3595)
* Bump net.bytebuddy:byte-buddy from 1.14.14 to 1.14.15 by [@dependabot](https://github.com/dependabot) in [#3596](https://github.com/graphql-java/graphql-java/pull/3596)
* Ready: Add [@deprecated](https://github.com/deprecated) validation for input object fields, field arguments, directive arguments by [@dondonz](https://github.com/dondonz) in [#3591](https://github.com/graphql-java/graphql-java/pull/3591)
* Added field fetching method for Expedia by [@bbakerman](https://github.com/bbakerman) in [#3571](https://github.com/graphql-java/graphql-java/pull/3571)
* Update GitHub actions ahead of release by [@dondonz](https://github.com/dondonz) in [#3600](https://github.com/graphql-java/graphql-java/pull/3600)
* Bump google-github-actions/auth from 2.1.2 to 2.1.3 by [@dependabot](https://github.com/dependabot) in [#3603](https://github.com/graphql-java/graphql-java/pull/3603)
* Bump org.eclipse.jetty:jetty-server from 11.0.20 to 11.0.21 by [@dependabot](https://github.com/dependabot) in [#3602](https://github.com/graphql-java/graphql-java/pull/3602)
* Bump com.google.code.gson:gson from 2.10.1 to 2.11.0 by [@dependabot](https://github.com/dependabot) in [#3601](https://github.com/graphql-java/graphql-java/pull/3601)
* Add nullability annotations in DataFetchingEnvironment & sub-classes by [@Salzian](https://github.com/Salzian) in [#3582](https://github.com/graphql-java/graphql-java/pull/3582)
* Now does not overwrite a types default data fetcher unless its nonnull by [@bbakerman](https://github.com/bbakerman) in [#3579](https://github.com/graphql-java/graphql-java/pull/3579)
* Add extend schema (AST print) to SchemaPrinter by [@dondonz](https://github.com/dondonz) in [#3471](https://github.com/graphql-java/graphql-java/pull/3471)

## New Contributors

* [@Salzian](https://github.com/Salzian) made their first contribution in [#3582](https://github.com/graphql-java/graphql-java/pull/3582)

**Full Changelog**: [v22.0...v22.1](https://github.com/graphql-java/graphql-java/compare/v22.0...v22.1)

### Contributors

* [![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=64&v=4)](https://github.com/bbakerman)
* [![@deprecated](https://avatars.githubusercontent.com/u/7106212?s=64&v=4)](https://github.com/deprecated)
* [![@gnawf](https://avatars.githubusercontent.com/u/9077461?s=64&v=4)](https://github.com/gnawf)
* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)
* [![@Salzian](https://avatars.githubusercontent.com/u/23481219?s=64&v=4)](https://github.com/Salzian)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)

bbakerman, deprecated, and 4 other contributors

 Assets
2

 Loading

 üëç
2
 nico-arianto and nileshpatil2802 reacted with thumbs up emoji
 ‚ù§Ô∏è
2
 samuelAndalon and nileshpatil2802 reacted with heart emoji

All reactions

* üëç
  2 reactions
* ‚ù§Ô∏è
  2 reactions

 3 people reacted

## 22.0

16 Apr 05:06

![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)
[bbakerman](/bbakerman)

[v22.0](/graphql-java/graphql-java/tree/v22.0)

[`0eec91e`](/graphql-java/graphql-java/commit/0eec91ea4b40a25a407efaf32d4fa9cfac9e4c93)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v22.0)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[22.0](/graphql-java/graphql-java/releases/tag/v22.0)

We are pleased to announce the release of graphql-java v22.0.

Thanks to everyone in the community who contributed to the release, whether that was code, helping to report issues, or participating in discussions.

This is a **breaking change** release.

The graphql-java team takes breaking changes very seriously but in the name of performance we have made some significant breaking changes in this release.

# Major Performance Changes

Past releases have been very much performance focused and this one is no different. However, this release is aiming to reduce memory pressure more than reduce pure CPU usage. When the graphql-java engine is running, if it produces less objects it will ultimately run faster because of reduced memory pressure and less garbage to collect.

The engine has been changed in two major ways that reduce memory pressure.

## ExecutionResult wrapping

The first was that all values that come back got wrapped internally into a `ExecutionResult` object where the `data` attribute was the value. This was a carry over from some very early GraphQL code but was unnecessary and hence has been removed. The follow on effect of this is that some `graphql.execution.ExecutionStrategy` protected methods and `graphql.execution.instrumentation.Instrumentation` methods used to receive and return `ExecutionResult` values and no longer do, which is an API breaking change. We have made this breaking changes in the name of memory pressure performance.

## CompletableFuture wrapping

The second major change is that the engine no longer exclusively uses `java.util.concurrent.CompletableFuture`s when composing together results. Let us explain the past code first so we can discuss the new code.

`CompletableFuture` is a fantastic construct because it represents a promise to a value and it can also hold an exceptional state inside itself. Async programming with `CompletableFuture` is viral. If stage 1 of some compute process returns a `CompletableFuture` then stage 2 and 3 and 4 are likely to as well to ensure everything is asynchronous.

We use to take values that were not asynchronous (such as DataFetcher that returned a simple in memory object) and wrap them in a `CompletableFuture` so that all of the other code composed together using `CompletableFuture` methods like `.thenApply()` and `.thenCompose` and so on. The code is cleaner if you use all `CompletableFuture` code patterns.

However many objects in a GraphQL request are not asynchronous but rather materialised objects in memory. Scalars, enums and list are often just values immediately available to be used and allocating a `CompletableFuture` makes the code easier to write but it has a memory pressure cost.

So we have sacrificed cleaner code for more memory performant code.

graphql-java engine `graphql.execution.ExecutionStrategy` methods now just return `Object` where that object might be either a `CompletableFuture` or a materialised value.

```
    private Object /*CompletableFuture<FetchedValue> | FetchedValue>*/
       fetchField(GraphQLFieldDefinition fieldDef, ExecutionContext executionContext, ExecutionStrategyParameters parameters) {
```

Notice we have lost type safety here. In the past this would have only been `CompletableFuture<FetchedValue>` and hence been both type safe and async composable.

Now the caller of that method has to handle the async case where it might be a `CompletableFuture<FetchedValue>` AND the materialised value case where it might be a `FetchedValue` but as most simple fields in GraphQL are in fact materialised values, this is worth the less clean code.

`DataFetchers` can of course continue to return `CompletableFuture` values and they will be handled in a polymorphic manner.

The upshot of all this work is that the graphql-java engine allocated way less `CompletableFuture` values and hence reduces the amount of memory used.

## Instrumentation Changes

The above changes now mean means that before `graphql.execution.instrumentation.InstrumentationContext` used to be given a `CompletableFuture` but now no longer does

```
    void onDispatched(CompletableFuture<T> result);
```

is now

```
    void onDispatched();
```

if you previously used the `CompletableFuture` to know when something was completed, well `InstrumentationContext` has the same semantics because it's completed method is similar in that it presents a value or an exception

```
    void onCompleted(T result, Throwable t);
```

`graphql.execution.instrumentation.Instrumentation` also had a lot of deprecated methods in place and these have been removed since the more performant shape of passing in `graphql.execution.instrumentation.InstrumentationState` has been in place for quite a few releases.

Some of the methods that received `ExecutionResult` wrapped values have also changed as mentioned above.

`Instrumentation` is probably the area that needs the most attention in terms of breaking changes. If you have not moved off the deprecated methods, your custom `Instrumentation`s will no longer compile or run.

## Interning key strings

Our friends at Netflix provided a PR that interns certain key strings like "field names" so that we create less String instances when processing field names in queries that we know must be previously interned in the schema.

[#3504](https://github.com/graphql-java/graphql-java/pull/3504)

## The full list of performance related changes

<https://github.com/graphql-java/graphql-java/pulls?q=is%3Apr+milestone%3A%2222.0%22+label%3Aperformance>

# Major Changes

## [@defer](https://github.com/defer) Experimental Support

Support for the `@defer` directive has been added in an experimental fashion. While `@defer` is still not in the released GraphQL specification, we have judged it mature enough to support at this stage and the `graphql-js` reference implementation has support for it.

<https://github.com/graphql/graphql-wg/blob/main/rfcs/DeferStream.md>

At this stage we have not yet supported `@stream` but this is likely to be included in a future release.

# Breaking Changes

There are quite a few API breaking changes in this release. In fact there are 22 PRs containing breaking API changes.

## Stricter parseValue coercion: Aligning with JS reference implementation

We have made changes to String, Boolean, Float, and Int `parseValue` coercion, to be consistent with the reference JS implementation. The key change is `parseValue` is now stricter on accepted inputs.

* String `parseValue` now requires input of type `String`. For example, a `Number` input `123` or a `Boolean` input `true` will no longer be accepted.
* Boolean `parseValue` now requires input of type `Boolean`. For example, a `String` input `"true"` will no longer be accepted.
* Float `parseValue` now requires input of type `Number`. For example, a `String` input `"3.14"` will no longer be accepted.
* Int `parseValue` now requires input of type `Number`. For example, a `String` input `"42"` will no longer be accepted.

This is a breaking change. To help you migrate, in [version 21.0](https://github.com/graphql-java/graphql-java/releases/tag/v21.0), we introduced the InputInterceptor [#3188](https://github.com/graphql-java/graphql-java/pull/3188) (and an implementation LegacyCoercingInputInterceptor [#3218](https://github.com/graphql-java/graphql-java/pull/3218)) to provide a migration pathway. You can use this interceptor to monitor and modify values.

For more, see [#3553](https://github.com/graphql-java/graphql-java/pull/3553)

JS reference implementation: <https://github.com/graphql/graphql-js/blob/main/src/type/scalars.ts>

## Removing deprecated methods

Many methods that have been deprecated for a long time, sometimes even up to 6 years, have finally been removed.

The `CompletableFuture` unwrapping work mentioned above changed many methods in the `graphql.execution.ExecutionStrategy` classes but we don't expect this affect many people since very few people write their own engines.

That `CompletableFuture` unwrapping work also had knock on effects as mentioned above on `graphql.execution.instrumentation.Instrumentation` and hence this is the **most likely** place for there to be compatibility challenges in existing code.

## DataLoaderDispatcherInstrumentation has been removed and is now built into the engine

The code to dispatch `org.dataloader.DataLoader`s used to be an instrumentation called `DataLoadersDataLoaderDispatcherInstrumentation` and it was automatically added at runtime. This approach has been removed.

The equivalent code is now built into the graphql-java engine itself. `DataLoader`s can now always be used without any special setup. This also allows the code to be more performant in how `DataLoader`s are dispatched.

## SL4J logging has been removed

Previously, the graphql-java engine would log at DEBUG level certain errors or when fields get fetched. This has not proven used for from a support point to the graphql-java team and also has a compliance cost in that user generated content (UGC) and personally identifying information (PII) could end up being logged, which may not be allowed under regimes like European General Data Protection Regulation (GDPR).

If you want to log now we suggest you invest in a `Instrumentation` that logs key events and you can there for log what you want and in a compliant manner of your choosing.

[#3403](https://github.com/graphql-java/graphql-java/pull/3403)

## The full list of API breaking changes

<https://github.com/graphql-java/graphql-java/pulls?q=is%3Apr+milestone%3A%2222.0%22+label%3A%22breaking+change%22>

# Other changes

* Optional strict mode for RuntimeWiring and TypeRuntimeWiring, to avoid accidentally having multiple datafetchers on the same element [#3565](https://github.com/graphql-java/graphql-java/pull/3565)

## What's Changed

* OneOf validation not being applied to nested inputs by [@felipe-gdr](https://github.com/felipe-gdr) in [#33](https://github.com/graphql-java/graphql-java/pull/33)...

[Read more](/graphql-java/graphql-java/releases/tag/v22.0)

### Contributors

* [![@defer](https://avatars.githubusercontent.com/u/41774?s=64&v=4)](https://github.com/defer)
* [![@kilink](https://avatars.githubusercontent.com/u/835139?s=64&v=4)](https://github.com/kilink)
* [![@jbellenger](https://avatars.githubusercontent.com/u/1391805?s=64&v=4)](https://github.com/jbellenger)
* [![@DanielThomas](https://avatars.githubusercontent.com/u/1479220?s=64&v=4)](https://github.com/DanielThomas)
* [![@bhabegger](https://avatars.githubusercontent.com/u/1582356?s=64&v=4)](https://github.com/bhabegger)
* [![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=64&v=4)](https://github.com/bbakerman)
* [![@andimarek](https://avatars.githubusercontent.com/u/1706744?s=64&v=4)](https://github.com/andimarek)
* [![@felipe-gdr](https://avatars.githubusercontent.com/u/3858115?s=64&v=4)](https://github.com/felipe-gdr)
* [![@deprecated](https://avatars.githubusercontent.com/u/7106212?s=64&v=4)](https://github.com/deprecated)
* [![@gnawf](https://avatars.githubusercontent.com/u/9077461?s=64&v=4)](https://github.com/gnawf)
* [![@OneOf](https://avatars.githubusercontent.com/u/11801454?s=64&v=4)](https://github.com/OneOf)
* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)
* [![@salvoilmiosi](https://avatars.githubusercontent.com/u/14703059?s=64&v=4)](https://github.com/salvoilmiosi)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
* [![@jord1e](https://avatars.githubusercontent.com/u/30464310?s=64&v=4)](https://github.com/jord1e)
* [![@sbarker2](https://avatars.githubusercontent.com/u/109047597?s=64&v=4)](https://github.com/sbarker2)
* [![@Juliano-Prado](https://avatars.githubusercontent.com/u/137855981?s=64&v=4)](https://github.com/Juliano-Prado)

defer, kilink, and 15 other contributors

 Assets
2

 Loading

 üëç
7
 adrian-skybaker, samuelAndalon, cherry-yl-sh, linux-china, nico-arianto, khanactl, and Aloys24 reacted with thumbs up emoji
 üéâ
5
 adrian-skybaker, arlampin, jord1e, samuelAndalon, and setchy reacted with hooray emoji
 ‚ù§Ô∏è
3
 adrian-skybaker, samuelAndalon, and setchy reacted with heart emoji
 üöÄ
3
 dfa1, samuelAndalon, and setchy reacted with rocket emoji

All reactions

* üëç
  7 reactions
* üéâ
  5 reactions
* ‚ù§Ô∏è
  3 reactions
* üöÄ
  3 reactions

 11 people reacted

## 21.5

26 Mar 05:23

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v21.5](/graphql-java/graphql-java/tree/v21.5)

[`25667a1`](/graphql-java/graphql-java/commit/25667a13e528a2b2c4fa372b363ffbb00184316a)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v21.5)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[21.5](/graphql-java/graphql-java/releases/tag/v21.5)

This is a special release to add further limits to introspection queries.

This release contains a backport of PR [#3539](https://github.com/graphql-java/graphql-java/pull/3539).

## What's Changed

* 21.x backport of [#3539](https://github.com/graphql-java/graphql-java/pull/3539) ENF restriction for introspection by [@dondonz](https://github.com/dondonz) in [#3540](https://github.com/graphql-java/graphql-java/pull/3540)

**Full Changelog**: [v21.4...v21.5](https://github.com/graphql-java/graphql-java/compare/v21.4...v21.5)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

All reactions

## 20.9

26 Mar 05:22

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v20.9](/graphql-java/graphql-java/tree/v20.9)

[`d3a8540`](/graphql-java/graphql-java/commit/d3a8540de4951a3b6121e2fc4e8b86151b3053a0)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v20.9)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[20.9](/graphql-java/graphql-java/releases/tag/v20.9)

This is a special release to add further limits to introspection queries.

This release contains a backport of PR [#3539](https://github.com/graphql-java/graphql-java/pull/3539).

## What's Changed

* 20.x Backport PR 3539 by [@dondonz](https://github.com/dondonz) in [#3542](https://github.com/graphql-java/graphql-java/pull/3542)

**Full Changelog**: [v20.8...v20.9](https://github.com/graphql-java/graphql-java/compare/v20.8...v20.9)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

 üéâ
1
 golamrabbiazad reacted with hooray emoji

All reactions

* üéâ
  1 reaction

 1 person reacted

## 19.11

26 Mar 05:21

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v19.11](/graphql-java/graphql-java/tree/v19.11)

[`16c1591`](/graphql-java/graphql-java/commit/16c159111507ef04d7e1839b2c23281d90c42b2b)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v19.11)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[19.11](/graphql-java/graphql-java/releases/tag/v19.11)

This is a special release to add further limits to introspection queries.

This release contains a backport of PR [#3539](https://github.com/graphql-java/graphql-java/pull/3539).

## What's Changed

* 19.x Backport PR 3539 by [@dondonz](https://github.com/dondonz) in [#3543](https://github.com/graphql-java/graphql-java/pull/3543)

**Full Changelog**: [v19.10...v19.11](https://github.com/graphql-java/graphql-java/compare/v19.10...v19.11)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

All reactions

## 21.4

19 Mar 06:20

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v21.4](/graphql-java/graphql-java/tree/v21.4)

[`5876cc8`](/graphql-java/graphql-java/commit/5876cc863c0929be7b9b0edb7abf735a216893c8)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v21.4)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[21.4](/graphql-java/graphql-java/releases/tag/v21.4)

This is a special release to help control introspection queries.

This release adds a default check for introspection queries, to check that they are sensible. This feature is a backport of [#3526](https://github.com/graphql-java/graphql-java/pull/3526) and [#3527](https://github.com/graphql-java/graphql-java/pull/3527).

This release also adds an optional maximum result nodes limit, which is a backport of [#3525](https://github.com/graphql-java/graphql-java/pull/3525).

## What's Changed

* 21.x Backport PR 3526 and PR 3527 by [@dondonz](https://github.com/dondonz) in [#3529](https://github.com/graphql-java/graphql-java/pull/3529)
* 21.x backport 3525 max result nodes by [@dondonz](https://github.com/dondonz) in [#3528](https://github.com/graphql-java/graphql-java/pull/3528)

**Full Changelog**: [v21.3...v21.4](https://github.com/graphql-java/graphql-java/compare/v21.3...v21.4)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

 ‚ù§Ô∏è
1
 ahndmal reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

 1 person reacted

## 20.8

19 Mar 05:36

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v20.8](/graphql-java/graphql-java/tree/v20.8)

[`67035a2`](/graphql-java/graphql-java/commit/67035a246889915489a83fb157f662f32842c2ac)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v20.8)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[20.8](/graphql-java/graphql-java/releases/tag/v20.8)

This is a special release to help control introspection queries.

This release adds a default check for introspection queries, to check that they are sensible. This feature is a backport of [#3526](https://github.com/graphql-java/graphql-java/pull/3526) and [#3527](https://github.com/graphql-java/graphql-java/pull/3527).

This release also adds an optional maximum result nodes limit, which is a backport of [#3525](https://github.com/graphql-java/graphql-java/pull/3525).

## What's Changed

* 20.x Backport of PR 3526 and PR 3527 by [@dondonz](https://github.com/dondonz) in [#3530](https://github.com/graphql-java/graphql-java/pull/3530)
* 20.x Backport max result nodes PR 3525 by [@dondonz](https://github.com/dondonz) in [#3536](https://github.com/graphql-java/graphql-java/pull/3536)

**Full Changelog**: [v20.7...v20.8](https://github.com/graphql-java/graphql-java/compare/v20.7...v20.8)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

All reactions

## 19.10

19 Mar 05:35

![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=40&v=4)
[dondonz](/dondonz)

[v19.10](/graphql-java/graphql-java/tree/v19.10)

[`c0b905c`](/graphql-java/graphql-java/commit/c0b905c045d73f64d68a55f7203eec2be331086f)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.

GPG key ID: B5690EEEBB952194

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/graphql-java/graphql-java/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v19.10)

 Loading

[View all tags](/graphql-java/graphql-java/tags)

[19.10](/graphql-java/graphql-java/releases/tag/v19.10)

This is a special release to help control introspection queries.

This release adds a default check for introspection queries, to check that they are sensible. This feature is a backport of [#3526](https://github.com/graphql-java/graphql-java/pull/3526) and [#3527](https://github.com/graphql-java/graphql-java/pull/3527).

This release also adds an optional maximum result nodes limit, which is a backport of [#3525](https://github.com/graphql-java/graphql-java/pull/3525).

## What's Changed

* 19.x Backport [#3526](https://github.com/graphql-java/graphql-java/pull/3526) and PR [#3527](https://github.com/graphql-java/graphql-java/pull/3527) by [@dondonz](https://github.com/dondonz) in [#3532](https://github.com/graphql-java/graphql-java/pull/3532)
* 19.x Backport PR 3525 max result nodes by [@dondonz](https://github.com/dondonz) in [#3537](https://github.com/graphql-java/graphql-java/pull/3537)

**Full Changelog**: [v19.9...v19.10](https://github.com/graphql-java/graphql-java/compare/v19.9...v19.10)

### Contributors

* [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=64&v=4)](https://github.com/dondonz)

dondonz

 Assets
2

 Loading

All reactions

Previous *1* [2](/graphql-java/graphql-java/releases?page=2) [3](/graphql-java/graphql-java/releases?page=3) [4](/graphql-java/graphql-java/releases?page=4) [5](/graphql-java/graphql-java/releases?page=5) ‚Ä¶ [8](/graphql-java/graphql-java/releases?page=8) [9](/graphql-java/graphql-java/releases?page=9) [Next](/graphql-java/graphql-java/releases?page=2)

Previous [Next](/graphql-java/graphql-java/releases?page=2)

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_941d1ebc_20250108_105129.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fdiscussions%2F2958)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fdiscussions%2F2958)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fdiscussions%2Fshow&source=header-repo&source_repo=graphql-java%2Fgraphql-java)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[graphql-java](/graphql-java)
/
**[graphql-java](/graphql-java/graphql-java)**
Public

* [Notifications](/login?return_to=%2Fgraphql-java%2Fgraphql-java) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)
* [Star
   6.1k](/login?return_to=%2Fgraphql-java%2Fgraphql-java)

* [Code](/graphql-java/graphql-java)
* [Issues
  21](/graphql-java/graphql-java/issues)
* [Pull requests
  11](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects
  0](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

Additional navigation options

* [Code](/graphql-java/graphql-java)
* [Issues](/graphql-java/graphql-java/issues)
* [Pull requests](/graphql-java/graphql-java/pulls)
* [Discussions](/graphql-java/graphql-java/discussions)
* [Actions](/graphql-java/graphql-java/actions)
* [Projects](/graphql-java/graphql-java/projects)
* [Wiki](/graphql-java/graphql-java/wiki)
* [Security](/graphql-java/graphql-java/security)
* [Insights](/graphql-java/graphql-java/pulse)

# CVE-2022-37734 on graphql-java #2958

[bbakerman](/bbakerman)
started this conversation in
[General](/graphql-java/graphql-java/discussions/categories/general)

[CVE-2022-37734 on graphql-java](#top)
#2958

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=40&v=4)
bbakerman](/bbakerman)

Sep 14, 2022
¬∑
1 comments
¬∑
2 replies

[Return to top](#top)

Discussion options

# {{title}}

Something went wrong.

Quote reply

## [bbakerman](/bbakerman) [Sep 14, 2022](#discussion-4389877) Collaborator

 -

| Some people might start getting notified of a CVE for graphql-java which was released today.  <https://www.cve.org/CVERecord?id=CVE-2022-37734>  <https://security.snyk.io/vuln/SNYK-JAVA-COMGRAPHQLJAVA-3021519>  The Snynk document says  How to fix? Upgrade com.graphql-java:graphql-java to version 19.0 or higher.  This is incomplete. We backported the changes to older versions  The full list of fixed versions is   * v19.0 * v18.3 * v17.4   You don't have to upgrade to the latest graphql-java version to get this fix.  [#2549](https://github.com/graphql-java/graphql-java/pull/2549) |
| --- |

Beta
Was this translation helpful?
Give feedback.

3
 You must be logged in to vote

All reactions

## Replies: 1 comment ¬∑ 2 replies

* [Oldest](/graphql-java/graphql-java/discussions/2958?sort=old)
* [Newest](/graphql-java/graphql-java/discussions/2958?sort=new)
* [Top](/graphql-java/graphql-java/discussions/2958?sort=top)

Comment options

# {{title}}

Something went wrong.

Quote reply

### [dondonz](/dondonz) [Sep 14, 2022](#discussioncomment-3641012) Maintainer

 -

| We are trying to update the CVE text and we have informed Snyk, so that automated vulnerability detectors correctly register the patched versions. Note this may take a while.  In the meantime please do patch. |
| --- |

Beta
Was this translation helpful?
Give feedback.

1
 You must be logged in to vote

All reactions

2 replies

[![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=60&v=4)](/dondonz)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [dondonz](/dondonz) [Sep 14, 2022](#discussioncomment-3641616) Maintainer

 -

| Update: CVE text fixed! <https://www.cve.org/CVERecord?id=CVE-2022-37734> |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=60&v=4)](/bbakerman)

Comment options

# {{title}}

Something went wrong.

Quote reply

#### [bbakerman](/bbakerman) [Sep 15, 2022](#discussioncomment-3658023) Collaborator Author

 -

| <https://security.snyk.io/vuln/SNYK-JAVA-COMGRAPHQLJAVA-3021519> - Snyk also updated |
| --- |

Beta
Was this translation helpful?
Give feedback.

All reactions

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fgraphql-java%2Fgraphql-java%2Fdiscussions%2F2958)

Category

[üí¨

General](/graphql-java/graphql-java/discussions/categories/general)

Labels

None yet

2 participants

[![@bbakerman](https://avatars.githubusercontent.com/u/1661769?s=48&v=4)](/bbakerman) [![@dondonz](https://avatars.githubusercontent.com/u/13839920?s=48&v=4)](/dondonz)

Heading

Bold

Italic

Quote

Code

Link

---

Numbered list

Unordered list

Task list

---

Attach files

Mention

Reference

Menu

* Heading
* Bold
* Italic
* Quote
* Code
* Link
* Numbered list
* Unordered list
* Task list
* Attach files
* Mention
* Reference

# Select a reply

 Loading

  [Create a new saved reply](/settings/replies?return_to=1)

 üëç
1
  reacted with thumbs up emoji

 üëé
1
  reacted with thumbs down emoji

 üòÑ
1
  reacted with laugh emoji

 üéâ
1
  reacted with hooray emoji

 üòï
1
  reacted with confused emoji

 ‚ù§Ô∏è
1
  reacted with heart emoji

 üöÄ
1
  reacted with rocket emoji

 üëÄ
1
  reacted with eyes emoji

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.


