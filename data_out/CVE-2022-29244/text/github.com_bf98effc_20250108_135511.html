
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnpm%2Fnpm-packlist)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnpm%2Fnpm-packlist)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=npm%2Fnpm-packlist)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[npm](/npm)
/
**[npm-packlist](/npm/npm-packlist)**
Public

* [Notifications](/login?return_to=%2Fnpm%2Fnpm-packlist) You must be signed in to change notification settings
* [Fork
  35](/login?return_to=%2Fnpm%2Fnpm-packlist)
* [Star
   110](/login?return_to=%2Fnpm%2Fnpm-packlist)

Walk through a folder and figure out what goes in an npm package

### License

[ISC license](/npm/npm-packlist/blob/main/LICENSE)

[110
stars](/npm/npm-packlist/stargazers) [35
forks](/npm/npm-packlist/forks) [Branches](/npm/npm-packlist/branches) [Tags](/npm/npm-packlist/tags) [Activity](/npm/npm-packlist/activity)
 [Star](/login?return_to=%2Fnpm%2Fnpm-packlist)

 [Notifications](/login?return_to=%2Fnpm%2Fnpm-packlist) You must be signed in to change notification settings

* [Code](/npm/npm-packlist)
* [Issues
  6](/npm/npm-packlist/issues)
* [Pull requests
  2](/npm/npm-packlist/pulls)
* [Actions](/npm/npm-packlist/actions)
* [Projects
  0](/npm/npm-packlist/projects)
* [Security](/npm/npm-packlist/security)
* [Insights](/npm/npm-packlist/pulse)

Additional navigation options

* [Code](/npm/npm-packlist)
* [Issues](/npm/npm-packlist/issues)
* [Pull requests](/npm/npm-packlist/pulls)
* [Actions](/npm/npm-packlist/actions)
* [Projects](/npm/npm-packlist/projects)
* [Security](/npm/npm-packlist/security)
* [Insights](/npm/npm-packlist/pulse)

# npm/npm-packlist

    main[Branches](/npm/npm-packlist/branches)[Tags](/npm/npm-packlist/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[285 Commits](/npm/npm-packlist/commits/main/) | | |
| [.github](/npm/npm-packlist/tree/main/.github ".github") | | [.github](/npm/npm-packlist/tree/main/.github ".github") |  |  |
| [lib](/npm/npm-packlist/tree/main/lib "lib") | | [lib](/npm/npm-packlist/tree/main/lib "lib") |  |  |
| [test](/npm/npm-packlist/tree/main/test "test") | | [test](/npm/npm-packlist/tree/main/test "test") |  |  |
| [.commitlintrc.js](/npm/npm-packlist/blob/main/.commitlintrc.js ".commitlintrc.js") | | [.commitlintrc.js](/npm/npm-packlist/blob/main/.commitlintrc.js ".commitlintrc.js") |  |  |
| [.eslintrc.js](/npm/npm-packlist/blob/main/.eslintrc.js ".eslintrc.js") | | [.eslintrc.js](/npm/npm-packlist/blob/main/.eslintrc.js ".eslintrc.js") |  |  |
| [.gitignore](/npm/npm-packlist/blob/main/.gitignore ".gitignore") | | [.gitignore](/npm/npm-packlist/blob/main/.gitignore ".gitignore") |  |  |
| [.npmrc](/npm/npm-packlist/blob/main/.npmrc ".npmrc") | | [.npmrc](/npm/npm-packlist/blob/main/.npmrc ".npmrc") |  |  |
| [.release-please-manifest.json](/npm/npm-packlist/blob/main/.release-please-manifest.json ".release-please-manifest.json") | | [.release-please-manifest.json](/npm/npm-packlist/blob/main/.release-please-manifest.json ".release-please-manifest.json") |  |  |
| [CHANGELOG.md](/npm/npm-packlist/blob/main/CHANGELOG.md "CHANGELOG.md") | | [CHANGELOG.md](/npm/npm-packlist/blob/main/CHANGELOG.md "CHANGELOG.md") |  |  |
| [CODE\_OF\_CONDUCT.md](/npm/npm-packlist/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") | | [CODE\_OF\_CONDUCT.md](/npm/npm-packlist/blob/main/CODE_OF_CONDUCT.md "CODE_OF_CONDUCT.md") |  |  |
| [CONTRIBUTING.md](/npm/npm-packlist/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") | | [CONTRIBUTING.md](/npm/npm-packlist/blob/main/CONTRIBUTING.md "CONTRIBUTING.md") |  |  |
| [LICENSE](/npm/npm-packlist/blob/main/LICENSE "LICENSE") | | [LICENSE](/npm/npm-packlist/blob/main/LICENSE "LICENSE") |  |  |
| [README.md](/npm/npm-packlist/blob/main/README.md "README.md") | | [README.md](/npm/npm-packlist/blob/main/README.md "README.md") |  |  |
| [SECURITY.md](/npm/npm-packlist/blob/main/SECURITY.md "SECURITY.md") | | [SECURITY.md](/npm/npm-packlist/blob/main/SECURITY.md "SECURITY.md") |  |  |
| [package.json](/npm/npm-packlist/blob/main/package.json "package.json") | | [package.json](/npm/npm-packlist/blob/main/package.json "package.json") |  |  |
| [release-please-config.json](/npm/npm-packlist/blob/main/release-please-config.json "release-please-config.json") | | [release-please-config.json](/npm/npm-packlist/blob/main/release-please-config.json "release-please-config.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* Code of conduct
* ISC license
* Security
# npm-packlist

Get a list of the files to add from a folder into an npm package.

These can be handed to [tar](http://npm.im/tar) like so to make an npm
package tarball:

```
const Arborist = require('@npmcli/arborist')
const packlist = require('npm-packlist')
const tar = require('tar')
const packageDir = '/path/to/package'
const packageTarball = '/path/to/package.tgz'

const arborist = new Arborist({ path: packageDir })
arborist.loadActual().then((tree) => {
  packlist(tree)
    .then(files => tar.create({
      prefix: 'package/',
      cwd: packageDir,
      file: packageTarball,
      gzip: true
    }, files))
    .then(_ => {
      // tarball has been created, continue with your day
    })
  })
```

This uses the following rules:

1. If a `package.json` file is found, and it has a `files` list,
   then ignore everything that isn't in `files`. Always include the root
   readme, license, licence and copying files, if they exist, as well
   as the package.json file itself. Non-root readme, license, licence and
   copying files are included by default, but can be excluded using the
   `files` list e.g. `"!readme"`.
2. If there's no `package.json` file (or it has no `files` list), and
   there is a `.npmignore` file, then ignore all the files in the
   `.npmignore` file.
3. If there's no `package.json` with a `files` list, and there's no
   `.npmignore` file, but there is a `.gitignore` file, then ignore
   all the files in the `.gitignore` file.
4. Everything in the root `node_modules` is ignored, unless it's a
   bundled dependency. If it IS a bundled dependency, and it's a
   symbolic link, then the target of the link is included, not the
   symlink itself.
5. Unless they're explicitly included (by being in a `files` list, or
   a `!negated` rule in a relevant `.npmignore` or `.gitignore`),
   always ignore certain common cruft files:

   1. .npmignore and .gitignore files (their effect is in the package
      already, there's no need to include them in the package)
   2. editor junk like `.*.swp`, `._*` and `.*.orig` files
   3. `.npmrc` files (these may contain private configs)
   4. The `node_modules/.bin` folder
   5. Waf and gyp cruft like `/build/config.gypi` and `.lock-wscript`
   6. Darwin's `.DS_Store` files because wtf are those even
   7. `npm-debug.log` files at the root of a project

   You can explicitly re-include any of these with a `files` list in
   `package.json` or a negated ignore file rule.

Only the `package.json` file in the very root of the project is ever
inspected for a `files` list. Below the top level of the root package,
`package.json` is treated as just another file, and no package-specific
semantics are applied.

### Interaction between `package.json` and `.npmignore` rules

In previous versions of this library, the `files` list in `package.json`
was used as an initial filter to drive further tree walking. That is no
longer the case as of version 6.0.0.

If you have a `package.json` file with a `files` array within, any top
level `.npmignore` and `.gitignore` files *will be ignored*.

If a *directory* is listed in `files`, then any rules in nested `.npmignore` files within that directory will be honored.

For example, with this package.json:

```
{
  "files": [ "dir" ]
}
```

a `.npmignore` file at `dir/.npmignore` (and any subsequent
sub-directories) will be honored. However, a `.npmignore` at the root
level will be skipped.

Additionally, with this package.json:

```
{
  "files": ["dir/subdir"]
}

```

a `.npmignore` file at `dir/.npmignore` will be honored, as well as `dir/subdir/.npmignore`.

Any specific file matched by an exact filename in the package.json `files` list will be included, and cannot be excluded, by any `.npmignore` files.

## API

Same API as [ignore-walk](http://npm.im/ignore-walk), except providing a `tree` is required and there are hard-coded file list and rule sets.

The `Walker` class requires an [arborist](https://github.com/npm/cli/tree/latest/workspaces/arborist) tree, and if any bundled dependencies are found will include them as well as their own dependencies in the resulting file set.

## About

Walk through a folder and figure out what goes in an npm package

### Topics

[npm-cli](/topics/npm-cli "Topic: npm-cli")

### Resources

[Readme](#readme-ov-file)
### License

[ISC license](#ISC-1-ov-file)
### Code of conduct

[Code of conduct](#coc-ov-file)
### Security policy

[Security policy](#security-ov-file)

[Activity](/npm/npm-packlist/activity)
[Custom properties](/npm/npm-packlist/custom-properties)
### Stars

[**110**
stars](/npm/npm-packlist/stargazers)
### Watchers

[**14**
watching](/npm/npm-packlist/watchers)
### Forks

[**35**
forks](/npm/npm-packlist/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fnpm%2Fnpm-packlist&report=npm+%28user%29)

## [Releases 24](/npm/npm-packlist/releases)

[v10.0.0
Latest

Nov 25, 2024](/npm/npm-packlist/releases/tag/v10.0.0)
[+ 23 releases](/npm/npm-packlist/releases)

## [Packages 0](/orgs/npm/packages?repo_name=npm-packlist)

No packages published

## [Contributors 30](/npm/npm-packlist/graphs/contributors)

[+ 16 contributors](/npm/npm-packlist/graphs/contributors)

## Languages

* [JavaScript
  100.0%](/npm/npm-packlist/search?l=javascript)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

