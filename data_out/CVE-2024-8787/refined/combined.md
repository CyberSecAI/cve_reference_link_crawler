=== Content from plugins.trac.wordpress.org_8288fb7b_20250111_205309.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3168446%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php%3Fold%3D3142847%26old_path%3Dclover-online-orders%252Ftags%252F1.5.7%252Fadmin%252Fincludes%252Fclass-moo-products-list.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3142847/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?old=3168446&old_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)

---

# Changes from [clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847 "Show entry in browser") at [r3142847](/changeset/3142847 "Show full changeset") to [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446 "Show entry in browser") at [r3168446](/changeset/3168446 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446 "Show entry in browser")
  (modified)
  ([21 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/changeset/3168446/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?old=3142847&old_path=clover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php "Show the [3142847:3168446] differences restricted to clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php")

  | [r3142847](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L8 "Show revision 3142847 of this file in browser") | [r3168446](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L8 "Show revision 3168446 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | protected $editIcon; |
  | 9 | 9 | protected $api; |
  |  | 10 | private $itemsPageUrl; |
  | 10 | 11 |  |
  | 11 | 12 | /\*\* Class constructor \*/ |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L13) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L14) |  |
  | 13 | 14 | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_) )."../includes/moo-OnlineOrders-sooapi.php"; |
  | 14 | 15 | $this->api = new Moo\_OnlineOrders\_SooApi(); |
  |  | 16 | $this->itemsPageUrl = admin\_url('admin.php?page=moo\_items'); |
  | 15 | 17 |  |
  | 16 | 18 | /\*\* Process bulk action \*/ |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L22) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L24) |  |
  | 22 | 24 |  |
  | 23 | 25 | parent::\_\_construct( array( |
  | 24 |  | 'singular' => \_\_( 'Item'), //singular name of the listed records |
  | 25 |  | 'plural'   => \_\_( 'Items'), //plural name of the listed records |
  |  | 26 | 'singular' => \_\_( 'Item',"moo\_OnlineOrders"), //singular name of the listed records |
  |  | 27 | 'plural'   => \_\_( 'Items',"moo\_OnlineOrders"), //plural name of the listed records |
  | 26 | 28 | 'ajax'     => false //should this table support ajax? |
  | 27 | 29 |  |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L163) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L165) |  |
  | 163 | 165 | /\*\* Text displayed when no customer data is available \*/ |
  | 164 | 166 | public function no\_items() { |
  | 165 |  | \_e( 'No items available.'); |
  |  | 167 | \_e( 'No items available.',"moo\_OnlineOrders"); |
  | 166 | 168 | } |
  | 167 | 169 | /\*\* |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L221) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L223) |  |
  | 221 | 223 | } |
  | 222 | 224 |  |
  | 223 |  | if(isset($\_GET["category"])){ |
  | 224 |  | if($item['visible']) { |
  | 225 |  | $actions = array( |
  | 226 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 227 |  | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Hide from the Website</a>', |
  | 228 |  | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
  | 229 |  | ); |
  | 230 |  | } else { |
  | 231 |  | $actions = array( |
  | 232 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 233 |  | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Show in the Website</a>', |
  | 234 |  | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
  | 235 |  | ); |
  | 236 |  | } |
  | 237 |  | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&category=%s&paged=%s">Add / Edit Images</a>', |
  | 238 |  | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),esc\_attr($\_GET["category"]),$this->get\_pagenum()); |
  | 239 |  |  |
  | 240 |  | if($item['outofstock']) { |
  | 241 |  | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Disable out of stock</a>', |
  | 242 |  | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
  | 243 |  | } else { |
  | 244 |  | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Enable out of stock</a>', |
  | 245 |  | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
  | 246 |  | } |
  | 247 |  |  |
  | 248 |  | } else { |
  | 249 |  | if($item['visible']) { |
  | 250 |  | $actions = array( |
  | 251 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 252 |  | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Hide from the Website</a>', |
  | 253 |  | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,$this->get\_pagenum()) |
  | 254 |  | ); |
  | 255 |  | } else { |
  | 256 |  | $actions = array( |
  | 257 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 258 |  | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Show in the Website</a>', |
  | 259 |  | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,$this->get\_pagenum()) |
  | 260 |  | ); |
  | 261 |  | } |
  | 262 |  | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&paged=%s">Add / Edit Images</a>', |
  | 263 |  | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),$this->get\_pagenum()); |
  | 264 |  |  |
  | 265 |  | if($item['outofstock']) { |
  | 266 |  | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Disable out of stock</a>', |
  | 267 |  | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum()); |
  | 268 |  | } else { |
  | 269 |  | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Enable out of stock</a>', |
  | 270 |  | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum()); |
  | 271 |  | } |
  | 272 |  |  |
  | 273 |  |  |
  | 274 |  | } |
  |  | 225 | $actions = array( |
  |  | 226 | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  |  | 227 | ); |
  |  | 228 | if( ! empty( $\_REQUEST['filter'] )){ |
  |  | 229 | $filter = esc\_attr($\_REQUEST['filter']); |
  |  | 230 | } else { |
  |  | 231 | $filter = 'all'; |
  |  | 232 | } |
  |  | 233 |  |
  |  | 234 | if( ! empty( $\_REQUEST['category'] )) { |
  |  | 235 | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&category=%s&paged=%s&filter=%s">Add / Edit Images</a>', |
  |  | 236 | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),esc\_attr($\_REQUEST["category"]),$this->get\_pagenum(),$filter); |
  |  | 237 | } else { |
  |  | 238 | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&paged=%s&filter=%s">Add / Edit Images</a>', |
  |  | 239 | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),$this->get\_pagenum(),$filter); |
  |  | 240 | } |
  |  | 241 |  |
  |  | 242 | $actions['visibility']  = sprintf( '<a style="%s" id="sooHideAnItem-%s"  data-is-visible="true" href="#" onclick="moo\_changeItemVisibility(event, \'%s\')">Hide from the Website</a><a style="%s" id="sooShowAnItem-%s"  data-is-visible="false" href="#" onclick="moo\_changeItemVisibility(event, \'%s\')">Show in the Website</a>', |
  |  | 243 | (($item['visible'] == '1') ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (($item['visible'] == "1") ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  |  | 244 |  |
  |  | 245 | $actions['outofstock']  = sprintf( '<a style="%s" id="sooOutOfStockItem-%s"  data-is-out-of-stock="true" href="#" onclick="moo\_markItemAsOutOfStock(event, \'%s\')">Enable Out Of Stock</a><a style="%s" id="sooInStockItem-%s"  data-is-out-of-stock="false" href="#" onclick="moo\_markItemAsOutOfStock(event, \'%s\')">Disable Out Of Stock</a>', |
  |  | 246 | (empty($item['outofstock']) ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (empty($item['outofstock']) ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  | 275 | 247 |  |
  | 276 | 248 | $actions['edit\_description'] = sprintf( '<a class="moo-edit-description-button" href="#" onclick="moo\_editItemDescription(event,\'%s\',\'%s\')">Add / Edit description</a>', |
  | 277 |  | esc\_attr($item['uuid']), esc\_js($itemName)~~, esc\_attr($item['uuid'])~~); |
  |  | 249 | esc\_attr($item['uuid']), esc\_js($itemName)); |
  | 278 | 250 |  |
  | 279 | 251 | $actions['featured\_item']  = sprintf( '<a style="%s" id="sooMarkAsFeaturedLink-%s"  data-is-featured="true" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Mark as Featured</a><a style="%s" id="sooMarkAsUnFeaturedLink-%s"  data-is-featured="false" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Unfeature</a>', |
  | 280 | 252 | (empty($item['featured']) ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (empty($item['featured']) ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  |  | 253 |  |
  | 281 | 254 | return $title . $this->row\_actions( $actions ); |
  | 282 | 255 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L296) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L269) |  |
  | 296 | 269 | case 'unit\_name': |
  | 297 | 270 | return $item[ $column\_name ]; |
  |  | 271 | case 'visible': |
  |  | 272 | if($item[ $column\_name ]) { |
  |  | 273 | return "<span id='visibility-item-{$item["uuid"]}'>No</span>"; |
  |  | 274 | } else { |
  |  | 275 | return "<span id='visibility-item-{$item["uuid"]}'>Yes</span>"; |
  |  | 276 | } |
  | 298 | 277 | case 'available': |
  |  | 278 | if($item[ $column\_name ]) { |
  |  | 279 | return "<span>Yes</span>"; |
  |  | 280 | } else { |
  |  | 281 | return "<span>No</span>"; |
  |  | 282 | } |
  | 299 | 283 | case 'outofstock': |
  | 300 |  | return intval($item[ $column\_name ])=== 1 ? "Yes" : "No" ; |
  |  | 284 | if($item[ $column\_name ]) { |
  |  | 285 | return "<span id='outofstock-item-{$item["uuid"]}'>Yes</span>"; |
  |  | 286 | } else { |
  |  | 287 | return "<span id='outofstock-item-{$item["uuid"]}'>No</span>"; |
  |  | 288 | } |
  | 301 | 289 | case 'custom\_hours': |
  | 302 | 290 | return $this->getCustomHours($item[ $column\_name ]); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L357) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L345) |  |
  | 357 | 345 | 'cb'      => '<input type="checkbox" />', |
  | 358 | 346 | 'image'      => "", |
  | 359 |  | 'soo\_name'    => \_\_( 'Online Name'), |
  | 360 |  | 'name'    => \_\_( 'Clover Name'), |
  | 361 |  | 'price' => \_\_( 'Price'), |
  | 362 |  | 'price\_type' => \_\_( 'Price Type'), |
  | 363 |  | 'outofstock' => \_\_( 'Out Of Stock'), |
  | 364 |  | 'available' => \_\_( 'Available'), |
  | 365 |  | 'custom\_hours' => \_\_( 'Custom Hours'), |
  |  | 347 | 'soo\_name'    => \_\_( 'Online Name',"moo\_OnlineOrders"), |
  |  | 348 | 'name'    => \_\_( 'Clover Name',"moo\_OnlineOrders"), |
  |  | 349 | 'price' => \_\_( 'Price',"moo\_OnlineOrders"), |
  |  | 350 | 'price\_type' => \_\_( 'Price Type',"moo\_OnlineOrders"), |
  |  | 351 | 'outofstock' => \_\_( 'Out Of Stock',"moo\_OnlineOrders"), |
  |  | 352 | 'visible' => \_\_( 'is Hidden',"moo\_OnlineOrders"), |
  |  | 353 | 'available' => \_\_( 'Available',"moo\_OnlineOrders"), |
  |  | 354 | 'custom\_hours' => \_\_( 'Custom Hours',"moo\_OnlineOrders"), |
  | 366 | 355 |  |
  | 367 | 356 | ); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L428) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L417) |  |
  | 428 | 417 | } |
  | 429 | 418 | public function process\_bulk\_action() { |
  | 430 |  |  |
  | 431 |  | $custom\_url  = add\_query\_arg( 'bulk-status', 'success', remove\_query\_arg( array( 'action', '\_wpnonce' ) ) ); |
  | 432 |  |  |
  |  | 419 | $queryArgs =  array('paged'=>$this->get\_pagenum()); |
  |  | 420 |  |
  |  | 421 | if( ! empty( $\_REQUEST['filter'] )){ |
  |  | 422 | $queryArgs[] = array( |
  |  | 423 | "filter" => esc\_attr($\_REQUEST['filter']) |
  |  | 424 | ); |
  |  | 425 | } |
  |  | 426 |  |
  |  | 427 | if( ! empty( $\_REQUEST['category'] )){ |
  |  | 428 | $queryArgs[] = array( |
  |  | 429 | "category" => esc\_attr($\_REQUEST['category']) |
  |  | 430 | ); |
  |  | 431 | } |
  |  | 432 | $redirect\_url  = add\_query\_arg($queryArgs, $this->itemsPageUrl ); |
  | 433 | 433 | //Detect when a single action is being triggered... |
  | 434 | 434 | if ( 'hide' === $this->current\_action() ) { |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L441) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L441) |  |
  | 441 | 441 | } else { |
  | 442 | 442 | $this->hide\_item(sanitize\_text\_field($\_GET['item'])); |
  | 443 |  | wp\_~~redirect($custom~~\_url); |
  |  | 443 | wp\_safe\_redirect($redirect\_url); |
  | 444 | 444 | exit; |
  | 445 | 445 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L454) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L454) |  |
  | 454 | 454 | else { |
  | 455 | 455 | $this->show\_item(sanitize\_text\_field($\_GET['item'])); |
  | 456 |  | wp\_~~redirect($custom~~\_url); |
  |  | 456 | wp\_safe\_redirect($redirect\_url); |
  | 457 | 457 | exit; |
  | 458 | 458 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L465) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L465) |  |
  | 465 | 465 | } else { |
  | 466 | 466 | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),true); |
  | 467 |  | wp\_~~redirect($custom~~\_url); |
  |  | 467 | wp\_safe\_redirect($redirect\_url); |
  | 468 | 468 | exit; |
  | 469 | 469 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L475) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L475) |  |
  | 475 | 475 | } else { |
  | 476 | 476 | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),false); |
  | 477 |  | wp\_~~redirect($custom~~\_url); |
  |  | 477 | wp\_safe\_redirect($redirect\_url); |
  | 478 | 478 | exit; |
  | 479 | 479 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L488) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L488) |  |
  | 488 | 488 | $this->hide\_item( esc\_sql($id) ); |
  | 489 | 489 | } |
  | 490 |  | wp\_~~redirect($custom~~\_url); |
  |  | 490 | wp\_safe\_redirect($redirect\_url); |
  | 491 | 491 | exit; |
  | 492 | 492 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L499) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L499) |  |
  | 499 | 499 | } |
  | 500 | 500 |  |
  | 501 |  | wp\_~~redirect($custom~~\_url); |
  |  | 501 | wp\_safe\_redirect($redirect\_url); |
  | 502 | 502 | exit; |
  | 503 | 503 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L509) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L509) |  |
  | 509 | 509 | $this->out\_of\_stock( esc\_sql($id),true); |
  | 510 | 510 | } |
  | 511 |  | wp\_~~redirect($custom~~\_url); |
  |  | 511 | wp\_safe\_redirect($redirect\_url); |
  | 512 | 512 | exit; |
  | 513 | 513 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L519) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L519) |  |
  | 519 | 519 | $this->out\_of\_stock( esc\_sql($id),false ); |
  | 520 | 520 | } |
  | 521 |  | wp\_~~redirect($custom~~\_url); |
  |  | 521 | wp\_safe\_redirect($redirect\_url); |
  | 522 | 522 | exit; |
  | 523 | 523 | } |
  | 524 | 524 |  |
  | 525 | 525 | if ( 'bulk-feature' === $this->current\_action() ) { |
  | 526 |  |  |
  | 527 | 526 | $ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
  | 528 | 527 | // loop over the array of record IDs and delete them |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L531) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L530) |  |
  | 531 | 530 | } |
  | 532 | 531 |  |
  | 533 |  | wp\_~~redirect($custom~~\_url); |
  |  | 532 | wp\_safe\_redirect($redirect\_url); |
  | 534 | 533 | exit; |
  | 535 | 534 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L541) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L540) |  |
  | 541 | 540 | $this->markItemAsFeatured( esc\_sql($id), false ); |
  | 542 | 541 | } |
  | 543 |  | wp\_~~redirect($custom~~\_url); |
  |  | 542 | wp\_safe\_redirect($redirect\_url); |
  | 544 | 543 | exit; |
  | 545 | 544 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L548) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L547) |  |
  | 548 | 547 | } |
  | 549 | 548 | public function single\_row( $item ) { |
  | 550 |  | if(! $item['visible']) |
  | 551 |  | echo '<tr class="item-hidden">'; |
  | 552 |  | else |
  | 553 |  | echo '<tr>'; |
  |  | 549 | if(! $item['visible']) { |
  |  | 550 | echo "<tr class='item-hidden' id='soo-item-row-{$item["uuid"]}'>"; |
  |  | 551 | } else { |
  |  | 552 | echo "<tr id='soo-item-row-{$item["uuid"]}'>"; |
  |  | 553 | } |
  | 554 | 554 | $this->single\_row\_columns( $item ); |
  | 555 | 555 | echo '</tr>'; |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L572) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L572) |  |
  | 572 | 572 | foreach( $cats as $cat ){ |
  | 573 | 573 | $selected = ''; |
  | 574 |  | if( $\_GET['category'] == $cat['uuid'] ){ |
  |  | 574 | if(isset($\_GET['category']) && $\_GET['category'] == $cat['uuid'] ){ |
  | 575 | 575 | $selected = ' selected = "selected"'; |
  | 576 | 576 | } |
  | 577 |  | ~~$custom\_url  = add\_query\_arg( 'category', $cat['uuid'] , remove\_query\_arg( array( 's', 'paged', 'alert' ) ));~~ |
  | 578 | 577 | ?> |
  | 579 |  | <option value="<?php echo ~~$custom\_url~~; ?>" <?php echo $selected; ?>><?php |
  |  | 578 | <option value="<?php echo esc\_attr($cat['uuid']); ?>" <?php echo $selected; ?>><?php |
  | 580 | 579 | if($cat["alternate\_name"]=="" || $cat["alternate\_name"]== null ){ |
  | 581 | 580 | echo stripslashes((string)$cat['name']); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L607) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L606) |  |
  | 607 | 606 | //All Actions |
  | 608 | 607 | $class        = ( $current == 'all' ? ' class="current"' : '' ); |
  | 609 |  | $all\_url      = remove\_query\_arg( array( 'filter', 's', 'paged', 'alert', 'user' ) ); |
  | 610 |  | $views['all'] = "<a href='{$~~all\_url~~ }' {$class} >All Items</a>"; |
  |  | 608 | //$all\_url      = remove\_query\_arg( array( 'filter', 's', 'paged', 'alert', 'user' ) ); |
  |  | 609 | $views['all'] = "<a href='{$this->itemsPageUrl}' {$class} >All Items</a>"; |
  | 611 | 610 | $views\_item   = array( |
  | 612 | 611 | 'featured'   => array( "name" => "Featured Items", "featured" => 1 ) |
  | 613 | 612 | ); |
  | 614 | 613 | foreach ( $views\_item as $k => $v ) { |
  | 615 |  | $custom\_url  = add\_query\_arg( ~~'filter', $k, remove\_query\_arg( array( 's', 'paged', 'alert' ) )~~ ); |
  |  | 614 | $custom\_url  = add\_query\_arg( array('filter'=>$k), $this->itemsPageUrl ); |
  | 616 | 615 | $class       = ( $current == $k ? ' class="current"' : '' ); |
  | 617 | 616 | $views[ $k ] = "<a href='{$custom\_url}' {$class} >" . $v['name'] . "</a>"; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)
* [Zip Archive](?format=zip&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_f9530c6d_20250111_205311.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Smart Online Order for Clover <= 1.5.7 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Smart Online Order for Clover <= 1.5.7 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-8787](https://www.cve.org/CVERecord?id=CVE-2024-8787) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | October 15, 2024 |
| Last Updated | October 16, 2024 |
| Researcher | [vgo0](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/dale-mavers) |

### Description

The Smart Online Order for Clover plugin for WordPress is vulnerable to Reflected Cross-Site Scripting due to the use of add\_query\_arg & remove\_query\_arg without appropriate escaping on the URL in all versions up to, and including, 1.5.7. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php#L477)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php#L572)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3168446/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?old=3142847&old_path=clover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3168446/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?old=3142847&old_path=clover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fmoo-OnlineOrders-admin.php)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fclover-online-orders%2Fsmart-online-order-for-clover-157-reflected-cross-site-scripting&t=Smart%20Online%20Order%20for%20Clover%20%3C%3D%201.5.7%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fclover-online-orders%2Fsmart-online-order-for-clover-157-reflected-cross-site-scripting&text=Smart%20Online%20Order%20for%20Clover%20%3C%3D%201.5.7%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fclover-online-orders%2Fsmart-online-order-for-clover-157-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Smart Online Order for Clover

#### [Smart Online Order for Clover](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/clover-online-orders)

| Software Type | Plugin |
| --- | --- |
| Software Slug | clover-online-orders [(view on wordpress.org)](https://wordpress.org/plugins/clover-online-orders) |
| Patched? | Yes |
| Remediation | Update to version 1.5.8, or a newer patched version |
| Affected Version | * <= 1.5.7 |
| Patched Version | * 1.5.8 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_088c9844_20250111_205310.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3168446%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fmoo-OnlineOrders-admin.php%3Fold%3D3142847%26old_path%3Dclover-online-orders%252Ftags%252F1.5.7%252Fadmin%252Fmoo-OnlineOrders-admin.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3142847/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?old=3168446&old_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fmoo-OnlineOrders-admin.php)

---

# Changes from [clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847 "Show entry in browser") at [r3142847](/changeset/3142847 "Show full changeset") to [clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446 "Show entry in browser") at [r3168446](/changeset/3168446 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446 "Show entry in browser")
  (modified)
  ([11 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php](/changeset/3168446/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?old=3142847&old_path=clover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fmoo-OnlineOrders-admin.php "Show the [3142847:3168446] differences restricted to clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php")

  | [r3142847](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L87 "Show revision 3142847 of this file in browser") | [r3168446](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L87 "Show revision 3168446 of this file in browser") |  |
  | --- | --- | --- |
  | 87 | 87 | $products->prepare\_items(); |
  | 88 | 88 | $model = $this->model; |
  | 89 |  | if(isset($\_GET['action']) && $\_GET['action'] == 'update\_item')  { |
  | 90 |  | if(isset($\_GET['item\_uuid']) && $\_GET['item\_uuid'] != '') { |
  |  | 89 | if(isset($\_GET['action']) && $\_GET['action'] == 'update\_item'  && !empty($\_GET['item\_uuid']))  { |
  | 91 | 90 | $item\_uuid = esc\_attr($\_GET['item\_uuid']); |
  | 92 | 91 | $item = $model->getItem($item\_uuid); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L99) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L98) |  |
  | 99 | 98 | $customHours = $this->api->getMerchantCustomHours("categories"); |
  | 100 | 99 |  |
  | 101 |  | if(~~isset($\_GET['paged']) && $\_GET['paged'] != ''~~){ |
  | 102 |  | $goBackLink = 'admin.php?page=moo\_items&paged='.~~intval~~($\_GET['paged']); |
  |  | 100 | if(!empty($\_GET['paged'])){ |
  |  | 101 | $goBackLink = 'admin.php?page=moo\_items&paged='.esc\_attr($\_GET['paged']); |
  | 103 | 102 | } else { |
  | 104 | 103 | $goBackLink = 'admin.php?page=moo\_items'; |
  | 105 | 104 | } |
  | 106 |  | if(isset($\_GET['category']) && $\_GET['category'] != ''){ |
  | 107 |  | $goBackLink = $goBackLink . '&category='. sanitize\_text\_field($\_GET['category']); |
  |  | 105 | if(!empty($\_GET['category'])){ |
  |  | 106 | $goBackLink = $goBackLink . '&category='. esc\_attr($\_GET['category']); |
  |  | 107 | } |
  |  | 108 | if(!empty($\_GET['filter'])){ |
  |  | 109 | $goBackLink = $goBackLink . '&filter='. esc\_attr($\_GET['filter']); |
  | 108 | 110 | } |
  | 109 | 111 |  |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L168) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L170) |  |
  | 168 | 170 |  |
  | 169 | 171 | <?php |
  | 170 |  | } |
  |  | 172 |  |
  | 171 | 173 | } else { |
  | 172 | 174 | ?> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L475) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L477) |  |
  | 475 | 477 | <?php if($message!="") echo $message; ?> |
  | 476 | 478 | <h1 style="float: left;">List of coupons</h1> |
  | 477 |  | <a href="<?php echo add\_query\_arg(array("action"=>"add\_coupon"),remove\_query\_arg( array('coupon', 'paged'))); ?>" class="page-title-action" style="float: left;top: 11px;margin-left: 18px;">Add Coupon</a> |
  |  | 479 | <a href="<?php |
  |  | 480 | echo add\_query\_arg(array("action"=>"add\_coupon"),admin\_url('admin.php?page=moo\_coupons')); |
  |  | 481 | ?>" class="page-title-action" style="float: left;top: 11px;margin-left: 18px;">Add Coupon</a> |
  | 478 | 482 | <div id="poststuff"> |
  | 479 | 483 | <div id="post-body" class="metabox-holder"> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L940) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L944) |  |
  | 940 | 944 | <p class="moo-merchant-address"></p> |
  | 941 | 945 | <?php |
  | 942 |  | $link = esc\_url(add\_query\_arg(~~'moo\_section', 'update\_address',(admin\_url('admin.php?page=moo\_index')~~))); |
  |  | 946 | $link = esc\_url(add\_query\_arg(array('moo\_section'=>'update\_address'),admin\_url('admin.php?page=moo\_index'))); |
  | 943 | 947 | if($mooOptions['lat'] === null || $mooOptions['lng'] === null){ |
  | 944 | 948 | echo '<a href="'.$link.'">Click here to localize the address on map to calulcate delivery fees correctly</a>'; |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L992) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L996) |  |
  | 992 | 996 | </div> |
  | 993 | 997 | <?php } ?> |
  | 994 |  | ~~<div class="moo-row moo-subSection">~~ |
  | 995 |  | ~~<div class="moo-col-md-2 moo-centred">~~ |
  | 996 |  | ~~<img  width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooNew.svg";?>" alt=""/>~~ |
  | 997 |  | ~~</div>~~ |
  | 998 |  | ~~<div class="moo-col-md-8">~~ |
  | 999 |  | ~~<?php~~ |
  | 1000 |  | ~~$newCheckoutEnabled = get\_option('moo\_new\_checkout\_enabled') === 'yes';~~ |
  | 1001 |  | ~~echo "<h3>New (Beta) Checkout Page</h3>";~~ |
  | 1002 |  | ~~echo "<p>Will allow customers to earn Loyalty Points when Ordering from the Website. For even more convenience, we recommend getting the Branded App to give customers even more control.</p>";~~ |
  | 1003 |  | ~~?>~~ |
  | 1004 |  | ~~</div>~~ |
  | 1005 |  | ~~<div class="moo-col-md-2">~~ |
  | 1006 |  | ~~<div class="soo-onoffswitch" title="Enable or disable the new checkout" style="float: right;margin-top: 38px;margin-right: 20px;">~~ |
  | 1007 |  | ~~<input type="checkbox" name="sooNewCheckoutPage" id="sooNewCheckoutPage" class="soo-onoffswitch-checkbox" onchange="enableOrDisableNewCheckout()" <?php  echo $newCheckoutEnabled?'checked':''; ?> >~~ |
  | 1008 |  | ~~<label class="soo-onoffswitch-label" for="sooNewCheckoutPage">~~ |
  | 1009 |  | ~~<span class="soo-onoffswitch-inner"></span>~~ |
  | 1010 |  | ~~<span class="soo-onoffswitch-switch"></span>~~ |
  | 1011 |  | ~~</label>~~ |
  | 1012 |  | ~~</div>~~ |
  | 1013 |  | ~~</div>~~ |
  | 1014 |  | ~~</div>~~ |
  | 1015 | 998 | <div class="moo-row moo-subSection"> |
  | 1016 | 999 | <div class="moo-col-md-12"> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L1197) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L1180) |  |
  | 1197 | 1180 | <div class="Moo\_option-item"> |
  | 1198 | 1181 | <div class="button\_center"> |
  | 1199 |  | <a href="#" onclick="MooPanel\_CleanInventory(event)" class="button button-secondary"  style="margin: 0 auto">Clean Inventory</a> |
  |  | 1182 | <a href="#" onclick="MooPanel\_CleanInventory(event)" class="button button-secondary moo-form-inline"  style="margin: 0 auto">Clean Inventory</a> |
  |  | 1183 | </div> |
  |  | 1184 | </div> |
  |  | 1185 |  |
  |  | 1186 | </div> |
  |  | 1187 | <div class="MooPanelItem"> |
  |  | 1188 | <h3>Repair Database</h3> |
  |  | 1189 | <p> |
  |  | 1190 | If you encounter issues with importing your inventory or syncing, it may be due to upgrading from an older version without the database updating correctly. In this case, use the "Repair Database" button to resolve all database issues. If the problem persists, contact us at [ support@zaytech.com ] for further assistance. |
  |  | 1191 | </p> |
  |  | 1192 | <div id="moo\_progressbar\_container"></div> |
  |  | 1193 | <div class="Moo\_option-item"> |
  |  | 1194 | <div class="button\_center"> |
  |  | 1195 | <a href="#" onclick="sooRepairDatabase(event)" class="button button-secondary"  style="margin: 0 auto">Repair Database</a> |
  | 1200 | 1196 | </div> |
  | 1201 | 1197 |  |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L1602) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L1598) |  |
  | 1602 | 1598 | </span> |
  | 1603 | 1599 | </div> |
  | 1604 |  | <div ~~id="sooAdditionalPaymentMethods" style="display: <?php echo get\_option('moo\_new\_checkout\_enabled') === 'yes' ? 'block':'none~~'; ?>"> |
  | 1605 |  | <div class="Moo\_option-item~~" style="display:<?php echo (!empty(SOO\_ACCEPT\_GIFTCARDS))?"block":"none"; ?>"~~> |
  |  | 1600 | <div  id="sooAdditionalPaymentMethods" class="<?php echo get\_option('moo\_old\_checkout\_enabled') === 'yes' ? 'soo-display-none':'soo-display-block'; ?>"> |
  |  | 1601 | <div class="Moo\_option-item <?php echo (!empty(SOO\_ACCEPT\_GIFTCARDS))?"soo-display-block":"soo-display-none"; ?>" > |
  | 1606 | 1602 | <div style="margin-bottom: 14px;" class="label">Accept Clover Gift Cards</div> |
  | 1607 | 1603 | <div class="moo-onoffswitch"  title="Accept Clover Gift Cards"> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L1870) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L1866) |  |
  | 1870 | 1866 | <label id="MooTextUnderSI" >Your text</label> |
  | 1871 | 1867 | </div> |
  | 1872 |  | <div class="iwl\_input\_holder"><input name="moo\_settings[text\_under\_special\_instructions]" id="MooTextUnderSI" type="text" value="<?php echo $mooOptions['text\_under\_special\_instructions']?>" /></div> |
  |  | 1868 | <div class="iwl\_input\_holder"> |
  |  | 1869 | <textarea name="moo\_settings[text\_under\_special\_instructions]"  id="MooTextUnderSI" type="text"><?php echo $mooOptions['text\_under\_special\_instructions']?></textarea> |
  |  | 1870 | </div> |
  | 1873 | 1871 | </div> |
  | 1874 | 1872 | </div> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L1889) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L1887) |  |
  | 1889 | 1887 |  |
  | 1890 | 1888 | </div> |
  | 1891 |  | <!-- Thank you page --> |
  |  | 1889 | <!-- Thank you page --> |
  | 1892 | 1890 | <div class="MooPanelItem MooPanelItemExpanded"> |
  | 1893 | 1891 | <h3 onclick="expandSection(this)">Thank you page</h3> |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?rev=3142847#L1919) | […](/browser/clover-online-orders/tags/1.5.8/admin/moo-OnlineOrders-admin.php?rev=3168446#L1917) |  |
  | 1919 | 1917 | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Or Enter The Full URL</label></div> |
  | 1920 | 1918 | <div class="iwl\_input\_holder"><input name="moo\_settings[thanks\_page]" id="MooDefaultMerchantEmail" type="text" value="<?php echo $mooOptions['thanks\_page']?>" placeholder="https://" /></div> |
  |  | 1919 | </div> |
  |  | 1920 | </div> |
  |  | 1921 | </div> |
  |  | 1922 | <!-- Enable old Checkout back in case if issues --> |
  |  | 1923 | <div class="MooPanelItem MooPanelItemExpanded"> |
  |  | 1924 | <?php |
  |  | 1925 | $oldCheckoutEnabled = get\_option('moo\_old\_checkout\_enabled') === 'yes'; |
  |  | 1926 | ?> |
  |  | 1927 | <h3 onclick="expandSection(this)">Return to Previous Checkout</h3> |
  |  | 1928 | <div class="Moo\_option-item" > |
  |  | 1929 | <div class="normal\_text"> |
  |  | 1930 | Reverting back to the previous version of checkout page, if you have experienced any issues please provide an image and description of the issue to support@zaytech.com. The previous version is available for a limited time. |
  |  | 1931 | </div> |
  |  | 1932 | </div> |
  |  | 1933 | <div class="Moo\_option-item" > |
  |  | 1934 | <div class="normal\_text"> |
  |  | 1935 | <div class="soo-onoffswitch" title="Enable or disable the new checkout" style="float: right;margin-top: 38px;margin-right: 20px;"> |
  |  | 1936 | <input type="checkbox" name="sooOldCheckoutPage" id="sooOldCheckoutPage" class="soo-onoffswitch-checkbox" onchange="enableOrDisableOldCheckout()" <?php  echo $oldCheckoutEnabled?'checked':''; ?> > |
  |  | 1937 | <label class="soo-onoffswitch-label" for="sooOldCheckoutPage"> |
  |  | 1938 | <span class="soo-onoffswitch-inner"></span> |
  |  | 1939 | <span class="soo-onoffswitch-switch"></span> |
  |  | 1940 | </label> |
  |  | 1941 | </div> |
  | 1921 | 1942 | </div> |
  | 1922 | 1943 | </div> |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fmoo-OnlineOrders-admin.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fmoo-OnlineOrders-admin.php)
* [Zip Archive](?format=zip&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fmoo-OnlineOrders-admin.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fmoo-OnlineOrders-admin.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_1bd4df98_20250111_205258.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php)

---

# [source:](/browser?order=name "Go to repository root") [clover-online-orders](/browser/clover-online-orders?order=name "View clover-online-orders")/[tags](/browser/clover-online-orders/tags?order=name "View tags")/[1.5.7](/browser/clover-online-orders/tags/1.5.7?order=name "View 1.5.7")/[admin](/browser/clover-online-orders/tags/1.5.7/admin?order=name "View admin")/[includes](/browser/clover-online-orders/tags/1.5.7/admin/includes?order=name "View includes")/[class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?order=name "View class-moo-products-list.php")

View diff against:

View revision:

| [Last change](/changeset/3142847/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php "View differences") on this file was [3142847](/changeset/3142847/ "View changeset 3142847"), checked in by elbanyaoui, [5 months ago](/timeline?from=2024-08-28T11%3A00%3A29Z&precision=second "See timeline at 08/28/2024 11:00:29 AM") |
| --- |
| tagging version 1.5.7 |
| **File size:** 25.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | require\_once 'class-wp-list-table-moo.php'; |
| [3](#L3) | class Products\_List\_Moo extends WP\_List\_Table\_MOO { |
| [4](#L4) |  |
| [5](#L5) | protected $allImages = array(); |
| [6](#L6) | protected $allHours = array(); |
| [7](#L7) | protected $placeholderImg; |
| [8](#L8) | protected $editIcon; |
| [9](#L9) | protected $api; |
| [10](#L10) |  |
| [11](#L11) | /\*\* Class constructor \*/ |
| [12](#L12) | public function \_\_construct() { |
| [13](#L13) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_) )."../includes/moo-OnlineOrders-sooapi.php"; |
| [14](#L14) | $this->api = new Moo\_OnlineOrders\_SooApi(); |
| [15](#L15) |  |
| [16](#L16) | /\*\* Process bulk action \*/ |
| [17](#L17) | $this->process\_bulk\_action(); |
| [18](#L18) | $this->getAllCustomHours(); |
| [19](#L19) | $this->getAllImages(); |
| [20](#L20) | $this->placeholderImg = plugin\_dir\_url(dirname(\_\_FILE\_\_))."img/placeholder-150x150.png"; |
| [21](#L21) | $this->editIcon = plugin\_dir\_url(dirname(\_\_FILE\_\_))."img/edit-icon.png"; |
| [22](#L22) |  |
| [23](#L23) | parent::\_\_construct( array( |
| [24](#L24) | 'singular' => \_\_( 'Item'), //singular name of the listed records |
| [25](#L25) | 'plural'   => \_\_( 'Items'), //plural name of the listed records |
| [26](#L26) | 'ajax'     => false //should this table support ajax? |
| [27](#L27) |  |
| [28](#L28) | ) ); |
| [29](#L29) | } |
| [30](#L30) | /\*\* |
| [31](#L31) | \* Retrieve item’s data from the database |
| [32](#L32) | \* |
| [33](#L33) | \* @param int $per\_page |
| [34](#L34) | \* @param int $page\_number |
| [35](#L35) | \* |
| [36](#L36) | \* @return mixed |
| [37](#L37) | \*/ |
| [38](#L38) | public function get\_items( $per\_page = 20, $page\_number = 1 ) { |
| [39](#L39) | global $wpdb; |
| [40](#L40) | $sql = "SELECT items.\* FROM {$wpdb->prefix}moo\_item as items"; |
| [41](#L41) | $sql .= $this->getQueryWhereConditions(); |
| [42](#L42) | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
| [43](#L43) | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
| [44](#L44) | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
| [45](#L45) | } |
| [46](#L46) | $sql .= " LIMIT $per\_page"; |
| [47](#L47) | $sql .= ' OFFSET ' . ( $page\_number - 1 ) \* $per\_page; |
| [48](#L48) | return $wpdb->get\_results( $sql, 'ARRAY\_A' ); |
| [49](#L49) | } |
| [50](#L50) | private function getAllImages( ) { |
| [51](#L51) | global $wpdb; |
| [52](#L52) | $sql = "SELECT \* FROM {$wpdb->prefix}moo\_images"; |
| [53](#L53) | $result = $wpdb->get\_results( $sql, 'ARRAY\_A' ); |
| [54](#L54) | foreach ($result as $image){ |
| [55](#L55) | if(isset($this->allImages[$image["item\_uuid"]])){ |
| [56](#L56) | array\_push($this->allImages[$image["item\_uuid"]],$image); |
| [57](#L57) | } else { |
| [58](#L58) | $this->allImages[$image["item\_uuid"]] = array($image); |
| [59](#L59) | } |
| [60](#L60) | } |
| [61](#L61) | } |
| [62](#L62) | private function getAllCustomHours() { |
| [63](#L63) | $this->allHours = $this->api->getMerchantCustomHours('categories'); |
| [64](#L64) | } |
| [65](#L65) | private function getOneImage($itemUuid) { |
| [66](#L66) | $link =  $this->placeholderImg; |
| [67](#L67) | if(isset($this->allImages[$itemUuid])){ |
| [68](#L68) | foreach ($this->allImages[$itemUuid] as $item\_uuid => $image){ |
| [69](#L69) | if($image["is\_enabled"]  === "1") { |
| [70](#L70) | if($image["is\_default"] === "1"){ |
| [71](#L71) | return $image["url"]; |
| [72](#L72) | } else { |
| [73](#L73) | $link = $image["url"]; |
| [74](#L74) | } |
| [75](#L75) | } |
| [76](#L76) | } |
| [77](#L77) | } |
| [78](#L78) | return $link; |
| [79](#L79) | } |
| [80](#L80) | private function getCustomHours($hours) { |
| [81](#L81) | if(isset($this->allHours[$hours])){ |
| [82](#L82) | return $this->allHours[$hours]; |
| [83](#L83) | } |
| [84](#L84) | return '-'; |
| [85](#L85) | } |
| [86](#L86) |  |
| [87](#L87) | /\*\* |
| [88](#L88) | \* Hide an item. |
| [89](#L89) | \* |
| [90](#L90) | \* @param $id |
| [91](#L91) | \*/ |
| [92](#L92) | public function hide\_item( $id ) { |
| [93](#L93) | global $wpdb; |
| [94](#L94) | $wpdb->update( |
| [95](#L95) | "{$wpdb->prefix}moo\_item", |
| [96](#L96) | array( |
| [97](#L97) | 'visible' => '0' |
| [98](#L98) | ), |
| [99](#L99) | array( 'uuid' => $id ) |
| [100](#L100) | ); |
| [101](#L101) | $this->api->sendEvent([ |
| [102](#L102) | "event"=>'updated-item', |
| [103](#L103) | "uuid"=>$id, |
| [104](#L104) | ]); |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Show an item. |
| [109](#L109) | \* |
| [110](#L110) | \* @param $id |
| [111](#L111) | \*/ |
| [112](#L112) | public function show\_item( $id ) { |
| [113](#L113) | global $wpdb; |
| [114](#L114) | $wpdb->update( |
| [115](#L115) | "{$wpdb->prefix}moo\_item", |
| [116](#L116) | array( |
| [117](#L117) | 'visible' => '1' |
| [118](#L118) | ), |
| [119](#L119) | array( 'uuid' => $id ) |
| [120](#L120) | ); |
| [121](#L121) | $this->api->sendEvent([ |
| [122](#L122) | "event"=>'updated-item', |
| [123](#L123) | "uuid"=>$id, |
| [124](#L124) | ]); |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) | /\*\* |
| [128](#L128) | \* Go out of stock. |
| [129](#L129) | \* |
| [130](#L130) | \* @param $id |
| [131](#L131) | \* @param $status |
| [132](#L132) | \*/ |
| [133](#L133) | public function out\_of\_stock($id, $status) { |
| [134](#L134) | global $wpdb; |
| [135](#L135) | $res = ($status)?'1':'0'; |
| [136](#L136) | $wpdb->update( |
| [137](#L137) | "{$wpdb->prefix}moo\_item", |
| [138](#L138) | array( |
| [139](#L139) | 'outofstock' => $res |
| [140](#L140) | ), |
| [141](#L141) | array( 'uuid' => $id ) |
| [142](#L142) | ); |
| [143](#L143) | $this->api->sendEvent([ |
| [144](#L144) | "event"=>'updated-item', |
| [145](#L145) | "uuid"=>$id, |
| [146](#L146) | ]); |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | public function markItemAsFeatured($id, $status) { |
| [150](#L150) | global $wpdb; |
| [151](#L151) | $wpdb->update( |
| [152](#L152) | "{$wpdb->prefix}moo\_item", |
| [153](#L153) | array( |
| [154](#L154) | 'featured' => $status |
| [155](#L155) | ), |
| [156](#L156) | array( 'uuid' => $id ) |
| [157](#L157) | ); |
| [158](#L158) | $this->api->sendEvent([ |
| [159](#L159) | "event"=>'updated-featured-items', |
| [160](#L160) | "uuid"=>$id, |
| [161](#L161) | ]); |
| [162](#L162) | } |
| [163](#L163) | /\*\* Text displayed when no customer data is available \*/ |
| [164](#L164) | public function no\_items() { |
| [165](#L165) | \_e( 'No items available.'); |
| [166](#L166) | } |
| [167](#L167) | /\*\* |
| [168](#L168) | \* Returns the count of records in the database. |
| [169](#L169) | \* |
| [170](#L170) | \* @return null|string |
| [171](#L171) | \*/ |
| [172](#L172) | public function record\_count() { |
| [173](#L173) | global $wpdb; |
| [174](#L174) | $sql = "SELECT count(\*) FROM {$wpdb->prefix}moo\_item as items"; |
| [175](#L175) | $sql .= $this->getQueryWhereConditions(); |
| [176](#L176) | return $wpdb->get\_var( $sql ); |
| [177](#L177) | } |
| [178](#L178) | /\*\* |
| [179](#L179) | \* Method for name column |
| [180](#L180) | \* |
| [181](#L181) | \* @param array $item an array of DB data |
| [182](#L182) | \* |
| [183](#L183) | \* @return string |
| [184](#L184) | \*/ |
| [185](#L185) | function column\_soo\_name( $item ) { |
| [186](#L186) |  |
| [187](#L187) | // create a nonce |
| [188](#L188) | $hide\_nonce       = wp\_create\_nonce( 'moo\_hide\_item' ); |
| [189](#L189) | $show\_nonce       = wp\_create\_nonce( 'moo\_show\_item' ); |
| [190](#L190) |  |
| [191](#L191) | $enable\_ot\_nonce       = wp\_create\_nonce( 'moo\_enable\_ot' ); |
| [192](#L192) | $disable\_ot\_nonce       = wp\_create\_nonce( 'moo\_disable\_ot' ); |
| [193](#L193) |  |
| [194](#L194) | if (isset($item['description'])){ |
| [195](#L195) | $itemDescription = stripslashes((string)$item['description']); |
| [196](#L196) | } else { |
| [197](#L197) | $itemDescription = null; |
| [198](#L198) | } |
| [199](#L199) |  |
| [200](#L200) |  |
| [201](#L201) | if(!empty($item[ "soo\_name" ])){ |
| [202](#L202) | $itemName = $item['soo\_name']; |
| [203](#L203) | } else { |
| [204](#L204) | if(!empty($item[ "alternate\_name" ])){ |
| [205](#L205) | $itemName = $item['name'] . " (alternate name : ".$item[ "alternate\_name" ].")"; |
| [206](#L206) | } else { |
| [207](#L207) | $itemName = $item['name']; |
| [208](#L208) | } |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | $title = '<div class="mooItemNameSection" id="item-name-section-for-'.$item['uuid'].'">'; |
| [212](#L212) | $title .= '<div class="moo-item-name"><strong>' . stripslashes((string)$itemName) . '</strong></div><img onclick="moo\_editItemName(event,\''.$item['uuid'].'\')" style="margin-left: 10px;cursor: pointer" src="'.$this->editIcon.'" alt="placeholder" sizes="(max-width: 150px) 100vw, 150px" id="moo-edit-item-name-'.esc\_attr($item['uuid']).'">'; |
| [213](#L213) | $title .= '</div>'; |
| [214](#L214) |  |
| [215](#L215) | if(!empty($itemDescription) && strlen($itemDescription)>255){ |
| [216](#L216) | $shortItemDesc  = substr($itemDescription,0,255); |
| [217](#L217) | $shortItemDesc  = $shortItemDesc . "..."; |
| [218](#L218) | $title .= "<p style='font-size:11px' class='moo-itemTitle-desc' id='moo-itemTitleDesc-ItemUuid-".esc\_attr($item['uuid'])."'>".$shortItemDesc."</p>"; |
| [219](#L219) | } else { |
| [220](#L220) | $title .= "<p style='font-size:11px' class='moo-itemTitle-desc' id='moo-itemTitleDesc-ItemUuid-".esc\_attr($item['uuid'])."'>".$itemDescription."</p>"; |
| [221](#L221) | } |
| [222](#L222) |  |
| [223](#L223) | if(isset($\_GET["category"])){ |
| [224](#L224) | if($item['visible']) { |
| [225](#L225) | $actions = array( |
| [226](#L226) | 'id' =>"ID: ".esc\_attr($item['uuid']), |
| [227](#L227) | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Hide from the Website</a>', |
| [228](#L228) | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
| [229](#L229) | ); |
| [230](#L230) | } else { |
| [231](#L231) | $actions = array( |
| [232](#L232) | 'id' =>"ID: ".esc\_attr($item['uuid']), |
| [233](#L233) | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Show in the Website</a>', |
| [234](#L234) | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
| [235](#L235) | ); |
| [236](#L236) | } |
| [237](#L237) | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&category=%s&paged=%s">Add / Edit Images</a>', |
| [238](#L238) | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),esc\_attr($\_GET["category"]),$this->get\_pagenum()); |
| [239](#L239) |  |
| [240](#L240) | if($item['outofstock']) { |
| [241](#L241) | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Disable out of stock</a>', |
| [242](#L242) | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
| [243](#L243) | } else { |
| [244](#L244) | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Enable out of stock</a>', |
| [245](#L245) | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
| [246](#L246) | } |
| [247](#L247) |  |
| [248](#L248) | } else { |
| [249](#L249) | if($item['visible']) { |
| [250](#L250) | $actions = array( |
| [251](#L251) | 'id' =>"ID: ".esc\_attr($item['uuid']), |
| [252](#L252) | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Hide from the Website</a>', |
| [253](#L253) | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,$this->get\_pagenum()) |
| [254](#L254) | ); |
| [255](#L255) | } else { |
| [256](#L256) | $actions = array( |
| [257](#L257) | 'id' =>"ID: ".esc\_attr($item['uuid']), |
| [258](#L258) | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Show in the Website</a>', |
| [259](#L259) | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,$this->get\_pagenum()) |
| [260](#L260) | ); |
| [261](#L261) | } |
| [262](#L262) | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&paged=%s">Add / Edit Images</a>', |
| [263](#L263) | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),$this->get\_pagenum()); |
| [264](#L264) |  |
| [265](#L265) | if($item['outofstock']) { |
| [266](#L266) | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Disable out of stock</a>', |
| [267](#L267) | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum()); |
| [268](#L268) | } else { |
| [269](#L269) | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Enable out of stock</a>', |
| [270](#L270) | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum()); |
| [271](#L271) | } |
| [272](#L272) |  |
| [273](#L273) |  |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | $actions['edit\_description'] = sprintf( '<a class="moo-edit-description-button" href="#" onclick="moo\_editItemDescription(event,\'%s\',\'%s\')">Add / Edit description</a>', |
| [277](#L277) | esc\_attr($item['uuid']), esc\_js($itemName), esc\_attr($item['uuid'])); |
| [278](#L278) |  |
| [279](#L279) | $actions['featured\_item']  = sprintf( '<a style="%s" id="sooMarkAsFeaturedLink-%s"  data-is-featured="true" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Mark as Featured</a><a style="%s" id="sooMarkAsUnFeaturedLink-%s"  data-is-featured="false" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Unfeature</a>', |
| [280](#L280) | (empty($item['featured']) ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (empty($item['featured']) ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
| [281](#L281) | return $title . $this->row\_actions( $actions ); |
| [282](#L282) | } |
| [283](#L283) | /\*\* |
| [284](#L284) | \* Render a column when no column specific method exists. |
| [285](#L285) | \* |
| [286](#L286) | \* @param array $item |
| [287](#L287) | \* @param string $column\_name |
| [288](#L288) | \* |
| [289](#L289) | \* @return mixed |
| [290](#L290) | \*/ |
| [291](#L291) | public function column\_default( $item, $column\_name ) { |
| [292](#L292) | switch ( $column\_name ) { |
| [293](#L293) | case 'name': |
| [294](#L294) | case 'sku': |
| [295](#L295) | case 'code': |
| [296](#L296) | case 'unit\_name': |
| [297](#L297) | return $item[ $column\_name ]; |
| [298](#L298) | case 'available': |
| [299](#L299) | case 'outofstock': |
| [300](#L300) | return intval($item[ $column\_name ])=== 1 ? "Yes" : "No" ; |
| [301](#L301) | case 'custom\_hours': |
| [302](#L302) | return $this->getCustomHours($item[ $column\_name ]); |
| [303](#L303) | case 'price\_type': |
| [304](#L304) | return $item[ $column\_name ]=="PER\_UNIT"?"Per Unit<br>Unit Name:".$item[ "unit\_name" ]:$item[ $column\_name ]; |
| [305](#L305) | case 'price': |
| [306](#L306) | return '$'.round(($item['price']/100),2); |
| [307](#L307) | case 'image': |
| [308](#L308) | return $this->getOneImage($item['uuid']); |
| [309](#L309) | default: |
| [310](#L310) | return $column\_name; //Show the whole array for troubleshooting purposes |
| [311](#L311) | } |
| [312](#L312) | } |
| [313](#L313) | /\*\* |
| [314](#L314) | \* Render the bulk edit checkbox |
| [315](#L315) | \* |
| [316](#L316) | \* @param array $item |
| [317](#L317) | \* |
| [318](#L318) | \* @return string |
| [319](#L319) | \*/ |
| [320](#L320) | function column\_cb( $item ) { |
| [321](#L321) | return sprintf( |
| [322](#L322) | '<input type="checkbox" name="bulk-hideOrShow[]" value="%s" />', $item['uuid'] |
| [323](#L323) | ); |
| [324](#L324) | } |
| [325](#L325) | /\*\* |
| [326](#L326) | \* Render the image column |
| [327](#L327) | \* |
| [328](#L328) | \* @param array $item |
| [329](#L329) | \* |
| [330](#L330) | \* @return string |
| [331](#L331) | \*/ |
| [332](#L332) | function column\_image( $item ) { |
| [333](#L333) | $link = $this->getOneImage($item["uuid"]); |
| [334](#L334) |  |
| [335](#L335) | if(!empty($item[ "soo\_name" ])){ |
| [336](#L336) | $itemName = $item['soo\_name']; |
| [337](#L337) | } else { |
| [338](#L338) | if(!empty($item[ "alternate\_name" ])){ |
| [339](#L339) | $itemName = $item['name'] . " (alternate name : ".$item[ "alternate\_name" ].")"; |
| [340](#L340) | } else { |
| [341](#L341) | $itemName = $item['name']; |
| [342](#L342) | } |
| [343](#L343) | } |
| [344](#L344) |  |
| [345](#L345) | return sprintf( |
| [346](#L346) | '<a class="mooItemsList-placeholderImg" href="#" onclick="mooEditImageOnItemsPage(event,\'%s\',\'%s\')"><img width="40" height="40" src="%s" alt="placeholder" sizes="(max-width: 150px) 100vw, 150px" id="moo-item-img-%s"></a>', |
| [347](#L347) | $item['uuid'],esc\_js($itemName),$link,$item['uuid'] |
| [348](#L348) | ); |
| [349](#L349) | } |
| [350](#L350) | /\*\* |
| [351](#L351) | \*  Associative array of columns |
| [352](#L352) | \* |
| [353](#L353) | \* @return array |
| [354](#L354) | \*/ |
| [355](#L355) | function get\_columns() { |
| [356](#L356) | $columns = array( |
| [357](#L357) | 'cb'      => '<input type="checkbox" />', |
| [358](#L358) | 'image'      => "", |
| [359](#L359) | 'soo\_name'    => \_\_( 'Online Name'), |
| [360](#L360) | 'name'    => \_\_( 'Clover Name'), |
| [361](#L361) | 'price' => \_\_( 'Price'), |
| [362](#L362) | 'price\_type' => \_\_( 'Price Type'), |
| [363](#L363) | 'outofstock' => \_\_( 'Out Of Stock'), |
| [364](#L364) | 'available' => \_\_( 'Available'), |
| [365](#L365) | 'custom\_hours' => \_\_( 'Custom Hours'), |
| [366](#L366) |  |
| [367](#L367) | ); |
| [368](#L368) |  |
| [369](#L369) | return $columns; |
| [370](#L370) | } |
| [371](#L371) | /\*\* |
| [372](#L372) | \* Columns to make sortable. |
| [373](#L373) | \* |
| [374](#L374) | \* @return array |
| [375](#L375) | \*/ |
| [376](#L376) | public function get\_sortable\_columns() { |
| [377](#L377) | $sortable\_columns = array( |
| [378](#L378) | 'soo\_name' => array( 'soo\_name', true ), |
| [379](#L379) | 'price' => array( 'price', false ), |
| [380](#L380) | 'outofstock' => array( 'outofstock', false ), |
| [381](#L381) | 'available' => array( 'available', false ), |
| [382](#L382) | ); |
| [383](#L383) |  |
| [384](#L384) | return $sortable\_columns; |
| [385](#L385) | } |
| [386](#L386) | /\*\* |
| [387](#L387) | \* Returns an associative array containing the bulk action |
| [388](#L388) | \* |
| [389](#L389) | \* @return array |
| [390](#L390) | \*/ |
| [391](#L391) | public function get\_bulk\_actions() { |
| [392](#L392) | $actions = array( |
| [393](#L393) | 'bulk-show' => 'Show Items', |
| [394](#L394) | 'bulk-hide' => 'Hide Items', |
| [395](#L395) | 'bulk-enable-ot' => 'Enable Out of stock', |
| [396](#L396) | 'bulk-disable-ot' => 'Disable Out of stock', |
| [397](#L397) | 'bulk-feature' => 'Mark as Featured items', |
| [398](#L398) | 'bulk-unfeature' => 'Mark as Regular items', |
| [399](#L399) | ); |
| [400](#L400) |  |
| [401](#L401) | return $actions; |
| [402](#L402) | } |
| [403](#L403) | /\*\* |
| [404](#L404) | \* Handles data query and filter, sorting, and pagination. |
| [405](#L405) | \*/ |
| [406](#L406) | public function prepare\_items() { |
| [407](#L407) |  |
| [408](#L408) | // $this->\_column\_headers = $this->get\_column\_info(); |
| [409](#L409) | $columns = $this->get\_columns(); |
| [410](#L410) | $hidden = array(); |
| [411](#L411) | $sortable = $this->get\_sortable\_columns(); |
| [412](#L412) | $this->\_column\_headers = array($columns, $hidden, $sortable); |
| [413](#L413) |  |
| [414](#L414) | /\*\* Process bulk action \*/ |
| [415](#L415) | //$this->process\_bulk\_action(); |
| [416](#L416) |  |
| [417](#L417) | $per\_page     = $this->get\_items\_per\_page( 'moo\_items\_per\_page', 20 ); |
| [418](#L418) | $current\_page = $this->get\_pagenum(); |
| [419](#L419) | $total\_items  = $this->record\_count(); |
| [420](#L420) |  |
| [421](#L421) | $this->set\_pagination\_args( array( |
| [422](#L422) | 'total\_items' => $total\_items, //WE have to calculate the total number of items |
| [423](#L423) | 'per\_page'    => $per\_page //WE have to determine how many items to show on a page |
| [424](#L424) | ) ); |
| [425](#L425) |  |
| [426](#L426) |  |
| [427](#L427) | $this->items = $this->get\_items( $per\_page, $current\_page ); |
| [428](#L428) | } |
| [429](#L429) | public function process\_bulk\_action() { |
| [430](#L430) |  |
| [431](#L431) | $custom\_url  = add\_query\_arg( 'bulk-status', 'success', remove\_query\_arg( array( 'action', '\_wpnonce' ) ) ); |
| [432](#L432) |  |
| [433](#L433) | //Detect when a single action is being triggered... |
| [434](#L434) | if ( 'hide' === $this->current\_action() ) { |
| [435](#L435) |  |
| [436](#L436) | // In our file that handles the request, verify the nonce. |
| [437](#L437) | $nonce = esc\_attr( $\_REQUEST['\_wpnonce'] ); |
| [438](#L438) |  |
| [439](#L439) | if ( ! wp\_verify\_nonce( $nonce, 'moo\_hide\_item' ) ) { |
| [440](#L440) | die( 'You are not permitted to perform this action' ); |
| [441](#L441) | } else { |
| [442](#L442) | $this->hide\_item(sanitize\_text\_field($\_GET['item'])); |
| [443](#L443) | wp\_redirect($custom\_url); |
| [444](#L444) | exit; |
| [445](#L445) | } |
| [446](#L446) |  |
| [447](#L447) | } |
| [448](#L448) | if ( 'show' === $this->current\_action() ){ |
| [449](#L449) | // In our file that handles the request, verify the nonce. |
| [450](#L450) | $nonce = esc\_attr( $\_REQUEST['\_wpnonce'] ); |
| [451](#L451) | if ( ! wp\_verify\_nonce( $nonce, 'moo\_show\_item' ) ) { |
| [452](#L452) | die( 'You are not permitted to perform this action' ); |
| [453](#L453) | } |
| [454](#L454) | else { |
| [455](#L455) | $this->show\_item(sanitize\_text\_field($\_GET['item'])); |
| [456](#L456) | wp\_redirect($custom\_url); |
| [457](#L457) | exit; |
| [458](#L458) | } |
| [459](#L459) | } |
| [460](#L460) | if ( 'enable\_ot' === $this->current\_action() ) { |
| [461](#L461) | $nonce = esc\_attr( $\_REQUEST['\_wpnonce'] ); |
| [462](#L462) |  |
| [463](#L463) | if ( ! wp\_verify\_nonce( $nonce, 'moo\_enable\_ot' ) ) { |
| [464](#L464) | die( 'You are not permitted to perform this action' ); |
| [465](#L465) | } else { |
| [466](#L466) | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),true); |
| [467](#L467) | wp\_redirect($custom\_url); |
| [468](#L468) | exit; |
| [469](#L469) | } |
| [470](#L470) | } |
| [471](#L471) | if ( 'disable\_ot' === $this->current\_action() ) { |
| [472](#L472) | $nonce = esc\_attr( $\_REQUEST['\_wpnonce'] ); |
| [473](#L473) | if ( ! wp\_verify\_nonce( $nonce, 'moo\_disable\_ot' ) ) { |
| [474](#L474) | die( 'You are not permitted to perform this action' ); |
| [475](#L475) | } else { |
| [476](#L476) | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),false); |
| [477](#L477) | wp\_redirect($custom\_url); |
| [478](#L478) | exit; |
| [479](#L479) | } |
| [480](#L480) | } |
| [481](#L481) |  |
| [482](#L482) | // If the delete bulk action is being triggered... |
| [483](#L483) | if ( 'bulk-hide' === $this->current\_action() ) { |
| [484](#L484) |  |
| [485](#L485) | $hide\_ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [486](#L486) | // loop over the array of record IDs and delete them |
| [487](#L487) | foreach ( $hide\_ids as $id ) { |
| [488](#L488) | $this->hide\_item( esc\_sql($id) ); |
| [489](#L489) | } |
| [490](#L490) | wp\_redirect($custom\_url); |
| [491](#L491) | exit; |
| [492](#L492) | } |
| [493](#L493) | if ( 'bulk-show' === $this->current\_action() ) { |
| [494](#L494) |  |
| [495](#L495) | $show\_ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [496](#L496) | // loop over the array of record IDs and delete them |
| [497](#L497) | foreach ( $show\_ids as $id ) { |
| [498](#L498) | $this->show\_item( esc\_sql($id) ); |
| [499](#L499) | } |
| [500](#L500) |  |
| [501](#L501) | wp\_redirect($custom\_url); |
| [502](#L502) | exit; |
| [503](#L503) | } |
| [504](#L504) | if ( 'bulk-enable-ot' === $this->current\_action() ) { |
| [505](#L505) |  |
| [506](#L506) | $enable\_ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [507](#L507) | // loop over the array of record IDs and delete them |
| [508](#L508) | foreach ( $enable\_ids as $id ) { |
| [509](#L509) | $this->out\_of\_stock( esc\_sql($id),true); |
| [510](#L510) | } |
| [511](#L511) | wp\_redirect($custom\_url); |
| [512](#L512) | exit; |
| [513](#L513) | } |
| [514](#L514) | if ( 'bulk-disable-ot' === $this->current\_action() ) { |
| [515](#L515) |  |
| [516](#L516) | $disable\_ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [517](#L517) | // loop over the array of record IDs and delete them |
| [518](#L518) | foreach ( $disable\_ids as $id ) { |
| [519](#L519) | $this->out\_of\_stock( esc\_sql($id),false ); |
| [520](#L520) | } |
| [521](#L521) | wp\_redirect($custom\_url); |
| [522](#L522) | exit; |
| [523](#L523) | } |
| [524](#L524) |  |
| [525](#L525) | if ( 'bulk-feature' === $this->current\_action() ) { |
| [526](#L526) |  |
| [527](#L527) | $ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [528](#L528) | // loop over the array of record IDs and delete them |
| [529](#L529) | foreach ( $ids as $id ) { |
| [530](#L530) | $this->markItemAsFeatured( $id, true ); |
| [531](#L531) | } |
| [532](#L532) |  |
| [533](#L533) | wp\_redirect($custom\_url); |
| [534](#L534) | exit; |
| [535](#L535) | } |
| [536](#L536) | if ( 'bulk-unfeature' === $this->current\_action() ) { |
| [537](#L537) |  |
| [538](#L538) | $ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
| [539](#L539) | // loop over the array of record IDs and delete them |
| [540](#L540) | foreach ( $ids as $id ) { |
| [541](#L541) | $this->markItemAsFeatured( esc\_sql($id), false ); |
| [542](#L542) | } |
| [543](#L543) | wp\_redirect($custom\_url); |
| [544](#L544) | exit; |
| [545](#L545) | } |
| [546](#L546) |  |
| [547](#L547) |  |
| [548](#L548) | } |
| [549](#L549) | public function single\_row( $item ) { |
| [550](#L550) | if(! $item['visible']) |
| [551](#L551) | echo '<tr class="item-hidden">'; |
| [552](#L552) | else |
| [553](#L553) | echo '<tr>'; |
| [554](#L554) | $this->single\_row\_columns( $item ); |
| [555](#L555) | echo '</tr>'; |
| [556](#L556) | } |
| [557](#L557) | function extra\_tablenav( $which ) { |
| [558](#L558) | global $wpdb; |
| [559](#L559) | $move\_on\_url = '&category='; |
| [560](#L560) | if ( $which == "top" || $which == "bottom" ){ |
| [561](#L561) | ?> |
| [562](#L562) | <div class="alignleft actions bulkactions"> |
| [563](#L563) | <?php |
| [564](#L564) | $cats = $wpdb->get\_results("select \* from {$wpdb->prefix}moo\_category order by sort\_order asc", 'ARRAY\_A'); |
| [565](#L565) |  |
| [566](#L566) | if( $cats ){ |
| [567](#L567) |  |
| [568](#L568) | ?> |
| [569](#L569) | <select id="moo\_cat\_filter" class="ewc-filter-cat"> |
| [570](#L570) | <option value="">All categories</option> |
| [571](#L571) | <?php |
| [572](#L572) | foreach( $cats as $cat ){ |
| [573](#L573) | $selected = ''; |
| [574](#L574) | if( $\_GET['category'] == $cat['uuid'] ){ |
| [575](#L575) | $selected = ' selected = "selected"'; |
| [576](#L576) | } |
| [577](#L577) | $custom\_url  = add\_query\_arg( 'category', $cat['uuid'] , remove\_query\_arg( array( 's', 'paged', 'alert' ) )); |
| [578](#L578) | ?> |
| [579](#L579) | <option value="<?php echo $custom\_url; ?>" <?php echo $selected; ?>><?php |
| [580](#L580) | if($cat["alternate\_name"]=="" || $cat["alternate\_name"]== null ){ |
| [581](#L581) | echo stripslashes((string)$cat['name']); |
| [582](#L582) | } else { |
| [583](#L583) | echo stripslashes((string)$cat['alternate\_name']); |
| [584](#L584) | } |
| [585](#L585) | ?></option> |
| [586](#L586) | <?php |
| [587](#L587) | } |
| [588](#L588) | ?> |
| [589](#L589) | </select> |
| [590](#L590) | <input type="button" name="filter\_action" onclick="moo\_filtrer\_by\_category(event)" class="button" value="Filter"> |
| [591](#L591) | <?php |
| [592](#L592) | } |
| [593](#L593) | ?> |
| [594](#L594) | </div> |
| [595](#L595) | <?php |
| [596](#L596) | } |
| [597](#L597) | if ( $which == "bottom" ){ |
| [598](#L598) | //The code that goes after the table is there |
| [599](#L599) |  |
| [600](#L600) | } |
| [601](#L601) | } |
| [602](#L602) |  |
| [603](#L603) | function get\_views() { |
| [604](#L604) | $views   = array(); |
| [605](#L605) | $current = ( ! empty( $\_REQUEST['filter'] ) ? $\_REQUEST['filter'] : 'all' ); |
| [606](#L606) |  |
| [607](#L607) | //All Actions |
| [608](#L608) | $class        = ( $current == 'all' ? ' class="current"' : '' ); |
| [609](#L609) | $all\_url      = remove\_query\_arg( array( 'filter', 's', 'paged', 'alert', 'user' ) ); |
| [610](#L610) | $views['all'] = "<a href='{$all\_url }' {$class} >All Items</a>"; |
| [611](#L611) | $views\_item   = array( |
| [612](#L612) | 'featured'   => array( "name" => "Featured Items", "featured" => 1 ) |
| [613](#L613) | ); |
| [614](#L614) | foreach ( $views\_item as $k => $v ) { |
| [615](#L615) | $custom\_url  = add\_query\_arg( 'filter', $k, remove\_query\_arg( array( 's', 'paged', 'alert' ) ) ); |
| [616](#L616) | $class       = ( $current == $k ? ' class="current"' : '' ); |
| [617](#L617) | $views[ $k ] = "<a href='{$custom\_url}' {$class} >" . $v['name'] . "</a>"; |
| [618](#L618) | } |
| [619](#L619) |  |
| [620](#L620) | return $views; |
| [621](#L621) | } |
| [622](#L622) |  |
| [623](#L623) | private function getCategoryItemsAsString($category\_id) { |
| [624](#L624) | global $wpdb; |
| [625](#L625) | $category\_id = esc\_sql($category\_id); |
| [626](#L626) | $items\_uuids\_in\_query = ""; |
| [627](#L627) | $category = $wpdb->get\_row("SELECT \* from {$wpdb->prefix}moo\_category WHERE uuid='{$category\_id}'"); |
| [628](#L628) | if(empty($category->items) || (isset($category->items\_imported) && $category->items\_imported) ) { |
| [629](#L629) | $result = $wpdb->get\_results("SELECT \* |
| [630](#L630) | FROM {$wpdb->prefix}moo\_items\_categories |
| [631](#L631) | WHERE category\_uuid = '{$category->uuid}' |
| [632](#L632) | ",'ARRAY\_A'); |
| [633](#L633) | foreach ($result as $catItem) { |
| [634](#L634) | $items\_uuids\_in\_query .= "'".$catItem["item\_uuid"] . "',"; |
| [635](#L635) | } |
| [636](#L636) | } else { |
| [637](#L637) | $category\_items =  explode(",",$category->items); |
| [638](#L638) | foreach ($category\_items as $category\_item) { |
| [639](#L639) | if (strlen($category\_item) > 0){ |
| [640](#L640) | $items\_uuids\_in\_query .= "'".$category\_item . "',"; |
| [641](#L641) | } |
| [642](#L642) | } |
| [643](#L643) | } |
| [644](#L644) | return substr($items\_uuids\_in\_query,0,strlen($items\_uuids\_in\_query)-1); |
| [645](#L645) | } |
| [646](#L646) |  |
| [647](#L647) | private function getQueryWhereConditions() { |
| [648](#L648) | $where = ""; |
| [649](#L649) | $featured = !empty($\_REQUEST['filter']) && $\_REQUEST['filter'] === 'featured'; |
| [650](#L650) | $items\_uuids\_in\_query = ""; |
| [651](#L651) | if(!empty($\_GET['category'])) { |
| [652](#L652) | $items\_uuids\_in\_query = $this->getCategoryItemsAsString($\_GET['category']); |
| [653](#L653) | } |
| [654](#L654) | if(!empty($\_GET['category'])) { |
| [655](#L655) | if(strlen($items\_uuids\_in\_query)>0) { |
| [656](#L656) | $where = " where hidden = 0 and items.uuid in ({$items\_uuids\_in\_query}) "; |
| [657](#L657) | } else { |
| [658](#L658) | $where = " where 1=-1 "; |
| [659](#L659) | } |
| [660](#L660) | } else { |
| [661](#L661) | $where = " where hidden = 0 "; |
| [662](#L662) | } |
| [663](#L663) |  |
| [664](#L664) | if ( $featured ) { |
| [665](#L665) | $where .= ' and featured=1 '; |
| [666](#L666) | } |
| [667](#L667) | if( !empty($\_POST['s']) ) { |
| [668](#L668) | $search\_term = esc\_sql($\_POST['s']); |
| [669](#L669) | $where .= " and ( items.name like '%{$search\_term}%' or items.uuid like '{$search\_term}' or items.soo\_name like '%{$search\_term}%')"; |
| [670](#L670) | } |
| [671](#L671) | return $where; |
| [672](#L672) | } |
| [673](#L673) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?format=txt)
* [Original Format](/export/3220820/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_df2f0f1e_20250111_205308.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fmoo-OnlineOrders-admin.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php)

---

# [source:](/browser?order=name "Go to repository root") [clover-online-orders](/browser/clover-online-orders?order=name "View clover-online-orders")/[tags](/browser/clover-online-orders/tags?order=name "View tags")/[1.5.7](/browser/clover-online-orders/tags/1.5.7?order=name "View 1.5.7")/[admin](/browser/clover-online-orders/tags/1.5.7/admin?order=name "View admin")/[moo-OnlineOrders-admin.php](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?order=name "View moo-OnlineOrders-admin.php")

View diff against:

View revision:

| [Last change](/changeset/3142847/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php "View differences") on this file was [3142847](/changeset/3142847/ "View changeset 3142847"), checked in by elbanyaoui, [5 months ago](/timeline?from=2024-08-28T11%3A00%3A29Z&precision=second "See timeline at 08/28/2024 11:00:29 AM") |
| --- |
| tagging version 1.5.7 |
| **File size:** 247.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | /\*\* |
| [4](#L4) | \* The admin-specific functionality of the plugin. |
| [5](#L5) | \* |
| [6](#L6) | \* Defines the plugin name, version, and two examples hooks for how to |
| [7](#L7) | \* enqueue the admin-specific stylesheet and JavaScript. |
| [8](#L8) | \* |
| [9](#L9) | \* @package    Smart Online Orders |
| [10](#L10) | \* @subpackage moo\_OnlineOrders/admin |
| [11](#L11) | \* @author     Mohammed EL BANYAOUI <m.elbanyaoui@gmail.com> |
| [12](#L12) | \*/ |
| [13](#L13) | class moo\_OnlineOrders\_Admin { |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* The ID of this plugin. |
| [17](#L17) | \* |
| [18](#L18) | \* @since    1.0.0 |
| [19](#L19) | \* @access   private |
| [20](#L20) | \* @var      string    $plugin\_name    The ID of this plugin. |
| [21](#L21) | \*/ |
| [22](#L22) | private $plugin\_name; |
| [23](#L23) |  |
| [24](#L24) | /\*\* |
| [25](#L25) | \* The version of this plugin. |
| [26](#L26) | \* |
| [27](#L27) | \* @since    1.0.0 |
| [28](#L28) | \* @access   private |
| [29](#L29) | \* @var      string    $version    The current version of this plugin. |
| [30](#L30) | \*/ |
| [31](#L31) | private $version; |
| [32](#L32) |  |
| [33](#L33) | /\* |
| [34](#L34) | \* Use jQuery Ui froml external link |
| [35](#L35) | \*/ |
| [36](#L36) | private $external\_ui; |
| [37](#L37) |  |
| [38](#L38) |  |
| [39](#L39) | /\*\* |
| [40](#L40) | \* @var Moo\_OnlineOrders\_SooApi |
| [41](#L41) | \*/ |
| [42](#L42) | private $api; |
| [43](#L43) |  |
| [44](#L44) | /\*\* |
| [45](#L45) | \* @var Moo\_OnlineOrders\_Model |
| [46](#L46) | \*/ |
| [47](#L47) | private $model; |
| [48](#L48) |  |
| [49](#L49) | /\*\* |
| [50](#L50) | \* The SESSION |
| [51](#L51) | \* |
| [52](#L52) | \* @var MOO\_SESSION |
| [53](#L53) | \*/ |
| [54](#L54) | private $session; |
| [55](#L55) | /\*\* |
| [56](#L56) | \* Initialize the class and set its properties. |
| [57](#L57) | \* |
| [58](#L58) | \* @since    1.0.0 |
| [59](#L59) | \* @param      string    $plugin\_name       The name of this plugin. |
| [60](#L60) | \* @param      string    $version    The version of this plugin. |
| [61](#L61) | \*/ |
| [62](#L62) | public function \_\_construct( $plugin\_name, $version, $apiInstance, $modelInstance ) { |
| [63](#L63) |  |
| [64](#L64) | $this->plugin\_name = $plugin\_name; |
| [65](#L65) | $this->version = $version; |
| [66](#L66) | $this->external\_ui = false; |
| [67](#L67) | $this->api = $apiInstance; |
| [68](#L68) | $this->model = $modelInstance; |
| [69](#L69) | //$this->session = MOO\_SESSION::instance(); |
| [70](#L70) |  |
| [71](#L71) | } |
| [72](#L72) | public function add\_admin\_menu() { |
| [73](#L73) | $icon\_url =  plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/launcher.png"; |
| [74](#L74) | add\_menu\_page('Settings page', 'Clover Orders', 'manage\_options', 'moo\_index', array($this, 'panel\_settings'),$icon\_url); |
| [75](#L75) | add\_submenu\_page('moo\_index', 'Settings', 'Settings', 'manage\_options', 'moo\_index', array($this, 'panel\_settings')); |
| [76](#L76) | add\_submenu\_page('moo\_index', 'Themes', 'Store Interfaces', 'manage\_options', 'moo\_themes', array($this, 'page\_themes')); |
| [77](#L77) | add\_submenu\_page('moo\_index', 'Items/Images', 'Items / Images / Description', 'manage\_options', 'moo\_items', array($this, 'page\_products')); |
| [78](#L78) | add\_submenu\_page('moo\_index', 'Orders', 'Orders', 'manage\_options', 'moo\_orders', array($this, 'page\_orders')); |
| [79](#L79) | add\_submenu\_page('moo\_index', 'Coupons', 'Coupons', 'manage\_options', 'moo\_coupons', array($this, 'page\_coupons')); |
| [80](#L80) | add\_submenu\_page('moo\_index', 'Loyalty Dashboard', 'Loyalty Dashboard', 'manage\_options', 'moo\_dashboard', array($this, 'page\_soo\_dashboard')); |
| [81](#L81) | add\_submenu\_page('moo\_index', 'Reports', 'Reports', 'manage\_options', 'moo\_reports', array($this, 'page\_reports')); |
| [82](#L82) | } |
| [83](#L83) | public function page\_products() { |
| [84](#L84) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."admin/includes/class-moo-products-list.php"; |
| [85](#L85) |  |
| [86](#L86) | $products = new Products\_List\_Moo(); |
| [87](#L87) | $products->prepare\_items(); |
| [88](#L88) | $model = $this->model; |
| [89](#L89) | if(isset($\_GET['action']) && $\_GET['action'] == 'update\_item')  { |
| [90](#L90) | if(isset($\_GET['item\_uuid']) && $\_GET['item\_uuid'] != '') { |
| [91](#L91) | $item\_uuid = esc\_attr($\_GET['item\_uuid']); |
| [92](#L92) | $item = $model->getItem($item\_uuid); |
| [93](#L93) |  |
| [94](#L94) | if(empty($item)){ |
| [95](#L95) | echo 'Item not found or has been removed from Clover'; |
| [96](#L96) | die(); |
| [97](#L97) | } |
| [98](#L98) |  |
| [99](#L99) | $customHours = $this->api->getMerchantCustomHours("categories"); |
| [100](#L100) |  |
| [101](#L101) | if(isset($\_GET['paged']) && $\_GET['paged'] != ''){ |
| [102](#L102) | $goBackLink = 'admin.php?page=moo\_items&paged='.intval($\_GET['paged']); |
| [103](#L103) | } else { |
| [104](#L104) | $goBackLink = 'admin.php?page=moo\_items'; |
| [105](#L105) | } |
| [106](#L106) | if(isset($\_GET['category']) && $\_GET['category'] != ''){ |
| [107](#L107) | $goBackLink = $goBackLink . '&category='. sanitize\_text\_field($\_GET['category']); |
| [108](#L108) | } |
| [109](#L109) |  |
| [110](#L110) | ?> |
| [111](#L111) | <div class="wrap" xmlns="http://www.w3.org/1999/html"> |
| [112](#L112) | <h2>Edit an Item</h2> |
| [113](#L113) | <div id="moo\_editItem" style="margin-top: 25px;"> |
| [114](#L114) | <div class="moo\_editItem\_left"> |
| [115](#L115) | <h1>Item Information</h1> |
| [116](#L116) | <div class="edit\_item\_left\_holder"><span>Online Name : </span> <strong><p id="moo\_item\_name"><?php echo $item->soo\_name; ?></p></strong></div><hr /> |
| [117](#L117) | <div class="edit\_item\_left\_holder"><span>Clover Name : </span> <strong><p id="moo\_item\_name"><?php echo $item->name; ?></p></strong></div><hr /> |
| [118](#L118) | <div class="edit\_item\_left\_holder"><span>Alternate Name : </span> <strong><p id="moo\_item\_name"><?php echo $item->alternate\_name; ?></p></strong></div><hr /> |
| [119](#L119) | <div class="edit\_item\_left\_holder"><span>Price : </span> <strong><p id="moo\_item\_price">$<?php echo number\_format($item->price/100,2); ?></p></div><strong><hr /> |
| [120](#L120) | <div class="edit\_item\_left\_holder"><span>Price Type : </span><p id="moo\_item\_price"><?php echo $item->price\_type; ?></p></div><hr /> |
| [121](#L121) | <div class="edit\_item\_left\_holder"><span>Description : </span></div> |
| [122](#L122) | <div class="edit\_item\_left\_holder"> |
| [123](#L123) | <textarea style="width:100%;" name="" rows="4" id="moo\_item\_description"><?php echo stripslashes((string)$item->description); ?></textarea> |
| [124](#L124) | </div> |
| [125](#L125) | <hr /> |
| [126](#L126) | <div class="edit\_item\_left\_holder"> |
| [127](#L127) | <span>Add to cart button : </span> |
| [128](#L128) | <p> |
| [129](#L129) | <code> |
| [130](#L130) | [moo\_buy\_button id='<?php echo $item\_uuid?>'] |
| [131](#L131) | </code> |
| [132](#L132) | </p> |
| [133](#L133) | </div> |
| [134](#L134) | <hr /> |
| [135](#L135) | <div class="edit\_item\_left\_holder"> |
| [136](#L136) | <span>Ordering Hours : </span> |
| [137](#L137) | <p> |
| [138](#L138) | <?php |
| [139](#L139) | if (isset($customHours) && isset($customHours[$item->custom\_hours])){ |
| [140](#L140) | echo $customHours[$item->custom\_hours]; |
| [141](#L141) | } else { |
| [142](#L142) | echo "Default Clover Business Hours"; |
| [143](#L143) | } |
| [144](#L144) | ?> |
| [145](#L145) | </p> |
| [146](#L146) | </div> |
| [147](#L147) | <div style="text-align: center;"> |
| [148](#L148) | <a href="#" class="button button-primary" onclick="moo\_save\_item\_images('<?php echo $item\_uuid?>')">Save item</a> |
| [149](#L149) | <a id="mooGoBackButton" href="<?php echo admin\_url($goBackLink); ?>" class="button button-secondary" >Go back</a> |
| [150](#L150) | </div> |
| [151](#L151) | </div> |
| [152](#L152) | <div class="moo\_editItem\_right"> |
| [153](#L153) | <h1>Images</h1> |
| [154](#L154) | <div class="moo\_pull\_right" id="moo\_uploadImgBtn"> <a class="button" onclick="open\_media\_uploader\_image()">Upload Image</a></div> |
| [155](#L155) | <div class="moo\_itemsimages" id="moo\_itemimagesection" style="margin-left: 4%"> |
| [156](#L156) | </div> |
| [157](#L157) | <div class="square\_images" style='margin: 4%;'> |
| [158](#L158) | <span style="color: red;">\*</span>Images (Square Images for better scaling) |
| [159](#L159) | </div> |
| [160](#L160) | </div> |
| [161](#L161) | <div id="moo\_item\_options"  class="moo\_editItem\_right moo\_items\_options"> |
| [162](#L162) | </div> |
| [163](#L163) | </div> |
| [164](#L164) | </div> |
| [165](#L165) | <script type="application/javascript"> |
| [166](#L166) | moo\_get\_item\_with\_images('<?php echo $item\_uuid?>'); |
| [167](#L167) | </script> |
| [168](#L168) |  |
| [169](#L169) | <?php |
| [170](#L170) | } |
| [171](#L171) | } else { |
| [172](#L172) | ?> |
| [173](#L173) | <div class="wrap"> |
| [174](#L174) | <h2>List of items</h2> |
| [175](#L175) | <div id="poststuff"> |
| [176](#L176) | <div id="post-body" class="metabox-holder"> |
| [177](#L177) | <div id="post-body-content"> |
| [178](#L178) | <div class="meta-box-sortables ui-sortable"> |
| [179](#L179) | <!-- Search Form --> |
| [180](#L180) | <form method="post"> |
| [181](#L181) | <input type="hidden" name="page" value="moo\_products" /> |
| [182](#L182) | <?php $products->search\_box('search', 'search\_id'); ?> |
| [183](#L183) | </form> |
| [184](#L184) | <form method="post"> |
| [185](#L185) | <?php $products->views(); ?> |
| [186](#L186) | <?php $products->display(); ?> |
| [187](#L187) | </form> |
| [188](#L188) | </div> |
| [189](#L189) | </div> |
| [190](#L190) | </div> |
| [191](#L191) | <br class="clear"> |
| [192](#L192) | </div> |
| [193](#L193) | </div> |
| [194](#L194) |  |
| [195](#L195) | <?php |
| [196](#L196) | } |
| [197](#L197) | } |
| [198](#L198) |  |
| [199](#L199) | public function page\_orders() { |
| [200](#L200) | if(isset($\_GET['action']) && $\_GET['action'] == 'show\_order\_detail') { |
| [201](#L201) | if(isset($\_GET['order\_uuid']) && $\_GET['order\_uuid'] != '') { |
| [202](#L202) | $orderId = sanitize\_text\_field($\_GET['order\_uuid']); |
| [203](#L203) | $order = $this->api->getOneOrder($orderId); |
| [204](#L204) |  |
| [205](#L205) | if($order === false || (isset($order["status"]) && $order["status"] === "failed")){ |
| [206](#L206) | $this->orderNotFoundSection(); |
| [207](#L207) | } else { |
| [208](#L208) | $this->orderDetailsSection($order); |
| [209](#L209) | } |
| [210](#L210) | return; |
| [211](#L211) |  |
| [212](#L212) | } else { |
| [213](#L213) | $this->orderNotFoundSection(); |
| [214](#L214) | } |
| [215](#L215) | } else { |
| [216](#L216) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."admin/includes/class-moo-orders-list.php"; |
| [217](#L217) | $orders = new Orders\_List\_Moo(); |
| [218](#L218) | $orders->prepare\_items(); |
| [219](#L219) | $this->listOfOrderSection($orders); |
| [220](#L220) | } |
| [221](#L221) | } |
| [222](#L222) | public function page\_coupons() |
| [223](#L223) | { |
| [224](#L224) | $d = new DateTime('today'); |
| [225](#L225) | if(isset($\_GET['action']) && ($\_GET['action'] == 'add\_coupon' || $\_GET['action'] == "edit\_coupon") ) { |
| [226](#L226) | $action = sanitize\_text\_field($\_GET['action']); |
| [227](#L227) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."/includes/moo-OnlineOrders-sooapi.php"; |
| [228](#L228) | $api = new Moo\_OnlineOrders\_SooApi(); |
| [229](#L229) | $message=""; |
| [230](#L230) | $header\_message = "Add New coupon"; |
| [231](#L231) | if(isset($\_POST['submit'])) { |
| [232](#L232) | //Check the nonce |
| [233](#L233) | if( ! wp\_verify\_nonce( $\_POST['couponNonce'], 'soo-addOrEditCoupon' ) ){ |
| [234](#L234) | die( 'You are not permitted to perform this action' ); |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | $theCoupon = array( |
| [238](#L238) | "CouponName"=> esc\_attr($\_POST['CouponName']), |
| [239](#L239) | "CouponCode"=>esc\_attr($\_POST['CouponCode']), |
| [240](#L240) | "CouponType"=>esc\_attr($\_POST['CouponType']), |
| [241](#L241) | "CouponValue"=>esc\_attr($\_POST['CouponValue']), |
| [242](#L242) | "CouponMinAmount"=>esc\_attr($\_POST['CouponMinAmount']), |
| [243](#L243) | "CouponMaxUses"=>esc\_attr($\_POST['CouponMaxUses']), |
| [244](#L244) | "CouponStartDate"=>esc\_attr($\_POST['CouponStartDate']), |
| [245](#L245) | "CouponExpiryDate"=>esc\_attr($\_POST['CouponExpiryDate']), |
| [246](#L246) | ); |
| [247](#L247) | $couponStartDate = DateTime::createFromFormat('m-d-Y', $theCoupon["CouponStartDate"]); |
| [248](#L248) | $couponExpiryDate = DateTime::createFromFormat('m-d-Y', $theCoupon["CouponExpiryDate"]); |
| [249](#L249) |  |
| [250](#L250) |  |
| [251](#L251) | if(!isset($\_POST['CouponName']) || $\_POST['CouponName'] == "") |
| [252](#L252) | $message = "Please enter the coupon name"; |
| [253](#L253) | else |
| [254](#L254) | if(!isset($\_POST['CouponCode']) || $\_POST['CouponCode'] == "" || preg\_match('/\s/',$\_POST['CouponCode'])) |
| [255](#L255) | $message =" Please enter a valid coupon Code"; |
| [256](#L256) | else |
| [257](#L257) | if(!isset($\_POST['CouponType']) || $\_POST['CouponType'] == "" || ($\_POST['CouponType'] != "amount" && $\_POST['CouponType'] != "percentage" )) |
| [258](#L258) | $message =" Please select the discount type"; |
| [259](#L259) | else |
| [260](#L260) | if(!isset($\_POST['CouponValue']) || $\_POST['CouponValue']=="" || $\_POST['CouponValue'] <= 0 ) |
| [261](#L261) | $message =" Please enter a valid value (should be a positive number)"; |
| [262](#L262) | else |
| [263](#L263) | if(!isset($\_POST['CouponMinAmount']) || ($\_POST['CouponMinAmount'] != "" && $\_POST['CouponMinAmount'] < 0) ) |
| [264](#L264) | $message =" Please enter a valid minAmount value (should be a positive number)"; |
| [265](#L265) | else |
| [266](#L266) | if(!isset($\_POST['CouponMaxUses']) || $\_POST['CouponMaxUses']=="" || $\_POST['CouponMaxUses'] < 0 ) |
| [267](#L267) | $message =" Please enter a valid max use value (should be a positive number)"; |
| [268](#L268) | else |
| [269](#L269) | if(!isset($\_POST['CouponExpiryDate']) || $\_POST['CouponExpiryDate']== "") |
| [270](#L270) | $message =" The Expiration date is required"; |
| [271](#L271) | else |
| [272](#L272) | if(!isset($\_POST['CouponStartDate']) || $\_POST['CouponStartDate']== "") |
| [273](#L273) | $message =" The Starting date is required"; |
| [274](#L274) |  |
| [275](#L275) | $class = 'error'; |
| [276](#L276) | if($message == "") { |
| [277](#L277) | if($\_POST['submit'] == "Add") { |
| [278](#L278) | $d = new DateTime('today'); |
| [279](#L279) | $coupon = array( |
| [280](#L280) | "name"=>esc\_attr($\_POST['CouponName']), |
| [281](#L281) | "code"=>esc\_attr($\_POST['CouponCode']), |
| [282](#L282) | "value"=>esc\_attr($\_POST['CouponValue']), |
| [283](#L283) | "type"=>esc\_attr($\_POST['CouponType']), |
| [284](#L284) | "expirationdate"=>esc\_attr($\_POST['CouponExpiryDate']), |
| [285](#L285) | "minAmount"=>esc\_attr($\_POST['CouponMinAmount']), |
| [286](#L286) | "maxuses"=>esc\_attr($\_POST['CouponMaxUses']), |
| [287](#L287) | "startdate"=>esc\_attr($\_POST['CouponStartDate']) |
| [288](#L288) | ); |
| [289](#L289) | $couponStartDate = DateTime::createFromFormat('m-d-Y', $coupon["startdate"]); |
| [290](#L290) | $couponExpiryDate = DateTime::createFromFormat('m-d-Y', $coupon["expirationdate"]); |
| [291](#L291) | $res = json\_decode($api->addCoupon($coupon)); |
| [292](#L292) | if($res->status=="success") { |
| [293](#L293) | $message = 'The coupon was added'; |
| [294](#L294) | $class="success"; |
| [295](#L295) |  |
| [296](#L296) | } else { |
| [297](#L297) | $message = $res->message; |
| [298](#L298) | } |
| [299](#L299) | } else { |
| [300](#L300) | if($\_POST['submit'] == "Save") { |
| [301](#L301) | $coupon = array( |
| [302](#L302) | "name"=>esc\_attr($\_POST['CouponName']), |
| [303](#L303) | "code"=>esc\_attr($\_POST['CouponCode']), |
| [304](#L304) | "value"=>esc\_attr($\_POST['CouponValue']), |
| [305](#L305) | "type"=>esc\_attr($\_POST['CouponType']), |
| [306](#L306) | "expirationdate"=>esc\_attr($\_POST['CouponExpiryDate']), |
| [307](#L307) | "minAmount"=>esc\_attr($\_POST['CouponMinAmount']), |
| [308](#L308) | "maxuses"=>esc\_attr($\_POST['CouponMaxUses']), |
| [309](#L309) | "startdate"=>esc\_attr($\_POST['CouponStartDate']) |
| [310](#L310) | ); |
| [311](#L311) | $couponId = esc\_attr($\_GET['coupon']); |
| [312](#L312) | $res = json\_decode($api->updateCoupon($couponId,$coupon)); |
| [313](#L313) | if($res->status == "success") { |
| [314](#L314) | if($\_GET['coupon'] !== $\_POST['CouponCode']) |
| [315](#L315) | $message = 'The coupon was updated. You are updated the coupon code, any other changes on this page will not affect the coupon please go back to coupons page'; |
| [316](#L316) | else |
| [317](#L317) | $message = 'The coupon was updated'; |
| [318](#L318) |  |
| [319](#L319) | $class="success"; |
| [320](#L320) |  |
| [321](#L321) | } else { |
| [322](#L322) | $message = $res->message; |
| [323](#L323) | } |
| [324](#L324) | $header\_message = 'Edit a coupon'; |
| [325](#L325) | $couponStartDate = DateTime::createFromFormat('m-d-Y', $coupon["startdate"]); |
| [326](#L326) | $couponExpiryDate = DateTime::createFromFormat('m-d-Y', $coupon["expirationdate"]); |
| [327](#L327) | } |
| [328](#L328) | } |
| [329](#L329) | } |
| [330](#L330) | } else { |
| [331](#L331) | if($action=="edit\_coupon") { |
| [332](#L332) | $coupon\_code = esc\_attr($\_GET['coupon']); |
| [333](#L333) | $coupon = json\_decode($api->getCoupon($coupon\_code)); |
| [334](#L334) | if(isset($coupon->status)) { |
| [335](#L335) | if($coupon->status=="success") { |
| [336](#L336) | $c = $coupon->coupon; |
| [337](#L337) | $theCoupon = array( |
| [338](#L338) | "CouponName"=>$c->name, |
| [339](#L339) | "CouponCode"=>$c->code, |
| [340](#L340) | "CouponType"=>$c->type, |
| [341](#L341) | "CouponValue"=>$c->value, |
| [342](#L342) | "CouponMinAmount"=>$c->minAmount, |
| [343](#L343) | "CouponMaxUses"=>$c->maxuses, |
| [344](#L344) | "CouponExpiryDate"=>$c->expirationdate, |
| [345](#L345) | "CouponStartDate"=>$c->startdate |
| [346](#L346) | ); |
| [347](#L347) | $header\_message = 'Edit a coupon'; |
| [348](#L348) | $couponStartDate = new  DateTime($theCoupon["CouponStartDate"]); |
| [349](#L349) | $couponExpiryDate = new  DateTime($theCoupon["CouponExpiryDate"]); |
| [350](#L350) | } else { |
| [351](#L351) | die($coupon->message); |
| [352](#L352) | } |
| [353](#L353) | } else { |
| [354](#L354) | die($coupon); |
| [355](#L355) | } |
| [356](#L356) | } |
| [357](#L357) | } |
| [358](#L358) | ?> |
| [359](#L359) | <div class="wrap"> |
| [360](#L360) | <h2><?php echo $header\_message;?></h2> |
| [361](#L361) | <?php |
| [362](#L362) | if($message!="") { |
| [363](#L363) | echo '<div class="notice notice-'.$class.' is-dismissibl" style="min-height: 33px;line-height: 33px;">'.$message.'</div>'; |
| [364](#L364) | } |
| [365](#L365) | $nonce = wp\_create\_nonce('soo-addOrEditCoupon'); |
| [366](#L366) | ?> |
| [367](#L367) | <form method="post" action="#"> |
| [368](#L368) | <input type="hidden" name="couponNonce" value="<?php echo $nonce ?>" /> |
| [369](#L369) | <table class="form-table"> |
| [370](#L370) | <tbody> |
| [371](#L371) | <tr> |
| [372](#L372) | <th scope="row"> |
| [373](#L373) | <label for="couponName">Coupon name</label> |
| [374](#L374) | </th> |
| [375](#L375) | <td> |
| [376](#L376) | <input name="CouponName" type="text" id="CouponName" class="regular-text" value="<?php echo (isset($theCoupon['CouponName']))?stripslashes($theCoupon['CouponName']):'';?>" required> |
| [377](#L377) | </td> |
| [378](#L378) | </tr> |
| [379](#L379) | <tr> |
| [380](#L380) | <th scope="row"> |
| [381](#L381) | <label for="CouponCode">Coupon Code</label> |
| [382](#L382) | </th> |
| [383](#L383) | <td> |
| [384](#L384) | <input name="CouponCode" type="text" id="CouponCode" aria-describedby="CouponCode-description" class="regular-text" value="<?php echo (isset($theCoupon['CouponCode']))?stripslashes($theCoupon['CouponCode']):'';?>" required> |
| [385](#L385) | <p class="description" id="CouponCode-description">This  coupon code will be used by customers during checkout to receive a discount (please do not use spaces and special characters)</p> |
| [386](#L386) | </td> |
| [387](#L387) | </tr> |
| [388](#L388) | <tr> |
| [389](#L389) | <th scope="row"> |
| [390](#L390) | <label for="CouponType">Type of discount</label> |
| [391](#L391) | </th> |
| [392](#L392) | <td> |
| [393](#L393) | <select name="CouponType" id="CouponType"> |
| [394](#L394) | <option <?php echo (isset($theCoupon['CouponType']) && $theCoupon['CouponType']=='amount')?'selected="selected"':'';?> value="amount">Amount</option> |
| [395](#L395) | <option <?php echo (isset($theCoupon['CouponType']) && $theCoupon['CouponType']=='percentage')?'selected="selected"':'';?> value="percentage">Percentage</option> |
| [396](#L396) | </select> |
| [397](#L397) | </td> |
| [398](#L398) | </tr> |
| [399](#L399) | <tr> |
| [400](#L400) | <th scope="row"> |
| [401](#L401) | <label for="CouponValue">Coupon value</label> |
| [402](#L402) | </th> |
| [403](#L403) | <td> |
| [404](#L404) | <input name="CouponValue" type="number" min="0" step="0.01" id="CouponValue" value="<?php echo (isset($theCoupon['CouponValue']))?$theCoupon['CouponValue']:'';?>" required> |
| [405](#L405) | </td> |
| [406](#L406) | </tr> |
| [407](#L407) | <tr> |
| [408](#L408) | <th scope="row"> |
| [409](#L409) | <label for="CouponMinAmount">Minimum Amount</label> |
| [410](#L410) | </th> |
| [411](#L411) | <td> |
| [412](#L412) | <input name="CouponMinAmount" type="number" min="0" step="0.01" id="CouponMinAmount" aria-describedby="CouponMinAmount-description" value="<?php echo (isset($theCoupon['CouponMinAmount']))?$theCoupon['CouponMinAmount']:'';?>"> |
| [413](#L413) | <p class="description" id="CouponMinAmount-description">The coupon will be valid only if the subtotal is greater than the min amount</p> |
| [414](#L414) | </td> |
| [415](#L415) | </tr> |
| [416](#L416) | <tr> |
| [417](#L417) | <th scope="row"> |
| [418](#L418) | <label for="CouponStartDate">Starting date</label> |
| [419](#L419) | </th> |
| [420](#L420) | <td> |
| [421](#L421) | <input autocomplete="off" name="CouponStartDate" type="text" id="CouponStartDate" value="<?php echo (isset($theCoupon['CouponStartDate']) && !empty($theCoupon['CouponStartDate']))?$couponStartDate->format('m-d-Y'):'';?>" > |
| [422](#L422) | </td> |
| [423](#L423) | </tr> |
| [424](#L424) | <tr> |
| [425](#L425) | <th scope="row"> |
| [426](#L426) | <label for="CouponExpiryDate">Expiration date</label> |
| [427](#L427) | </th> |
| [428](#L428) | <td> |
| [429](#L429) | <input autocomplete="off" name="CouponExpiryDate" type="text" id="CouponExpiryDate" value="<?php echo (isset($theCoupon['CouponExpiryDate']) && !empty($theCoupon['CouponExpiryDate']))?$couponExpiryDate->format('m-d-Y'):'';?>" > |
| [430](#L430) | </td> |
| [431](#L431) | </tr> |
| [432](#L432) |  |
| [433](#L433) | <tr> |
| [434](#L434) | <th scope="row"> |
| [435](#L435) | <label for="CouponMaxUses">Number of uses</label> |
| [436](#L436) | </th> |
| [437](#L437) | <td> |
| [438](#L438) | <input name="CouponMaxUses" type="number" id="CouponMaxUses" aria-describedby="CouponMaxUses-description" value="<?php echo (isset($theCoupon['CouponMaxUses']))?$theCoupon['CouponMaxUses']:'0';?>"> |
| [439](#L439) | <p class="description" id="CouponMaxUses-description">Enter 0 for unlimited uses. This is for total number of uses for all customers.</p> |
| [440](#L440) | </td> |
| [441](#L441) | </tr> |
| [442](#L442) | </tbody> |
| [443](#L443) | </table> |
| [444](#L444) | <p>After adding coupon, make sure it is enabled by going to clover orders, settings, checkout settings. You can also  <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index#checkout')))); ?>">click here</a></p> |
| [445](#L445) | <p class="submit"> |
| [446](#L446) | <?php |
| [447](#L447) | if($action == "add\_coupon"){ ?> |
| [448](#L448) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Add"> |
| [449](#L449) | <?php } ?> |
| [450](#L450) | <?php if($action == "edit\_coupon"){ ?> |
| [451](#L451) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save"> |
| [452](#L452) | <?php } ?> |
| [453](#L453) | </p> |
| [454](#L454) | </form> |
| [455](#L455) | </div> |
| [456](#L456) | <?php |
| [457](#L457) | } |
| [458](#L458) | else |
| [459](#L459) | { |
| [460](#L460) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."admin/includes/class-moo-coupons-list.php"; |
| [461](#L461) | $orders = new Coupons\_List\_Moo(); |
| [462](#L462) | $orders->prepare\_items(); |
| [463](#L463) |  |
| [464](#L464) | $message=""; |
| [465](#L465) | if(isset($\_GET['enabled']) && $\_GET['enabled'] ==="1") |
| [466](#L466) | $message = '<div class="update-nag" style="display: block;">The coupon have been enabled</div>'; |
| [467](#L467) | else |
| [468](#L468) | if(isset($\_GET['disabled']) && $\_GET['disabled'] ==="1") |
| [469](#L469) | $message = '<div class="update-nag" style="display: block;">The coupon have been disabled</div>'; |
| [470](#L470) | else |
| [471](#L471) | if(isset($\_GET['deleted']) && $\_GET['deleted'] ==="1") |
| [472](#L472) | $message = '<div class="update-nag" style="display: block;">The coupon was removed</div>'; |
| [473](#L473) | ?> |
| [474](#L474) | <div class="wrap"> |
| [475](#L475) | <?php if($message!="") echo $message; ?> |
| [476](#L476) | <h1 style="float: left;">List of coupons</h1> |
| [477](#L477) | <a href="<?php echo add\_query\_arg(array("action"=>"add\_coupon"),remove\_query\_arg( array('coupon', 'paged'))); ?>" class="page-title-action" style="float: left;top: 11px;margin-left: 18px;">Add Coupon</a> |
| [478](#L478) | <div id="poststuff"> |
| [479](#L479) | <div id="post-body" class="metabox-holder"> |
| [480](#L480) | <div id="post-body-content"> |
| [481](#L481) | <div class="meta-box-sortables ui-sortable"> |
| [482](#L482) | <form method="post"> |
| [483](#L483) | <?php $orders->display(); ?> |
| [484](#L484) | </form> |
| [485](#L485) | </div> |
| [486](#L486) | </div> |
| [487](#L487) | </div> |
| [488](#L488) | <br class="clear"> |
| [489](#L489) | </div> |
| [490](#L490) | </div> |
| [491](#L491) |  |
| [492](#L492) | <?php |
| [493](#L493) | } |
| [494](#L494) | } |
| [495](#L495) | public function old\_page\_reports() |
| [496](#L496) | { |
| [497](#L497) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."/includes/moo-OnlineOrders-sooapi.php"; |
| [498](#L498) | $api = new Moo\_OnlineOrders\_SooApi(); |
| [499](#L499) | $api->goToReports(); |
| [500](#L500) | } |
| [501](#L501) | public function page\_reports() |
| [502](#L502) | { |
| [503](#L503) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."/includes/moo-OnlineOrders-sooapi.php"; |
| [504](#L504) | $api = new Moo\_OnlineOrders\_SooApi(); |
| [505](#L505) | $token = $api->getJwtToken(); |
| [506](#L506) | if(empty($token)){ |
| [507](#L507) | echo "It looks like your Api key is not valid"; |
| [508](#L508) | die(); |
| [509](#L509) | } |
| [510](#L510) | if ((defined('SOO\_ENV') && (SOO\_ENV === "DEV"))){ |
| [511](#L511) | $link = 'https://sandbox.soo-reports.pages.dev//reports?jwt=' . $token; |
| [512](#L512) | } else { |
| [513](#L513) | $link = 'https://soo-reports.zaytechapps.com/reports?jwt='. $token; |
| [514](#L514) | } |
| [515](#L515) | echo '<div style="height:1200px;margin:0px;padding:0px;padding-right:15px">'; |
| [516](#L516) | echo '<iframe id="mooFrameReports" src="'.$link.'" style="width: 100%; height: 100%;overflow-y: scroll"></iframe>'; |
| [517](#L517) | echo '</div>'; |
| [518](#L518) | } |
| [519](#L519) | public function page\_soo\_dashboard() |
| [520](#L520) | { |
| [521](#L521) | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_))."/includes/moo-OnlineOrders-sooapi.php"; |
| [522](#L522) | $api = new Moo\_OnlineOrders\_SooApi(); |
| [523](#L523) | $api->goToSooDash(); |
| [524](#L524) | } |
| [525](#L525) | public function page\_themes() |
| [526](#L526) | { |
| [527](#L527) | $params = array( |
| [528](#L528) | 'ajaxurl' => admin\_url( 'admin-ajax.php', isset( $\_SERVER['HTTPS'] ) ? 'https://' : 'http://' ), |
| [529](#L529) | 'plugin\_url'=>plugin\_dir\_url(dirname(\_\_FILE\_\_)), |
| [530](#L530) | 'plugin\_img'=>plugins\_url( '/img', \_\_FILE\_\_ ), |
| [531](#L531) | 'nonce' => wp\_create\_nonce( 'wp\_rest' ), |
| [532](#L532) | 'moo\_RestUrl'=>get\_rest\_url(), |
| [533](#L533) | 'home\_url'=>get\_home\_url() |
| [534](#L534) | ); |
| [535](#L535) |  |
| [536](#L536) | wp\_enqueue\_script('moo-AdminDashboard-js'); |
| [537](#L537) | wp\_localize\_script("moo-AdminDashboard-js", "moo\_params",$params); |
| [538](#L538) | ?> |
| [539](#L539) | <div class="wrap"> |
| [540](#L540) | <div class="moo\_dashboard\_logo"> |
| [541](#L541) | <div class="moo\_dashboard\_logo\_img"> |
| [542](#L542) | <a href="http://smartonlineorder.com" title="Smart Online Order" target="\_blank"> |
| [543](#L543) | <img src="<?php echo $params['plugin\_url'].'public/img/small-logo.png'; ?>" alt="Smart online order logo"> |
| [544](#L544) | </a> |
| [545](#L545) | </div> |
| [546](#L546) | <div class="moo\_dashboard\_logo\_links"> |
| [547](#L547) | <a target="\_blank" href="https://docs.zaytech.com" title="Read smart online order Documentation"> |
| [548](#L548) | Documentation |
| [549](#L549) | </a>| |
| [550](#L550) | <a target="\_blank" href="https://zaytech.com/support" title="Need Help?"> |
| [551](#L551) | Get Support |
| [552](#L552) | </a>| |
| [553](#L553) | <span class="moo\_dashboard\_header\_version"><strong><?php echo $this->version;?></strong></span> |
| [554](#L554) | </div> |
| [555](#L555) | </div> |
| [556](#L556) | <h2 class="moo\_dashboard\_title"> |
| [557](#L557) | <i class="moo\_dashboard\_title\_icon fas fa-cubes"></i> |
| [558](#L558) | Store Interfaces |
| [559](#L559) | </h2> |
| [560](#L560) | <div> |
| [561](#L561) | <div class="moo\_dashboard\_wrapper"> |
| [562](#L562) | <?php if(!isset($\_GET["theme\_identifier"])) { ?> |
| [563](#L563) | <!-- Menu --> |
| [564](#L564) | <div class="moo\_dashboard\_nav\_tabs pull-left"> |
| [565](#L565) | <div class="moo\_dashboard\_nav\_tab pull-left noMargin active" id="mooDashbboardTab1" onclick="moo\_dashboard\_tab\_clicked(1)"> |
| [566](#L566) | <i class="moo\_dashboard\_tab\_icon fas fa-check-circle"></i><br> |
| [567](#L567) | <span>Available Store Interfaces</span> |
| [568](#L568) | </div> |
| [569](#L569) | <!--                            <div class="moo\_dashboard\_nav\_tab pull-left noMargin" id="mooDashbboardTab2" onclick="moo\_dashboard\_tab\_clicked(2)">--> |
| [570](#L570) | <!--                                <i class="moo\_dashboard\_tab\_icon fas fa-th-large"></i><br>--> |
| [571](#L571) | <!--                                <span>Browse New Store Interfaces</span>--> |
| [572](#L572) | <!--                            </div>--> |
| [573](#L573) | </div> |
| [574](#L574) | <!-- Fin Menu --> |
| [575](#L575) | <!-- Content --> |
| [576](#L576) | <!-- Tab installed themes --> |
| [577](#L577) | <div class="moo\_dashboard\_content\_tabs" id="mooDashbboardTabContent1"> |
| [578](#L578) | </div> |
| [579](#L579) | <!-- Tab installed themes --> |
| [580](#L580) | <div class="moo\_dashboard\_content\_tabs" id="mooDashbboardTabContent2"> |
| [581](#L581) | </div> |
| [582](#L582) | <!-- Fin Content --> |
| [583](#L583) | <?php } else { |
| [584](#L584) | $theme\_id = sanitize\_text\_field($\_GET["theme\_identifier"]); |
| [585](#L585) | //get the manifest file |
| [586](#L586) | $path = plugin\_dir\_path(dirname(\_\_FILE\_\_))."public/themes"; |
| [587](#L587) | if(file\_exists($path."/".$theme\_id."/manifest.json")){ |
| [588](#L588) | $theme\_manifest = json\_decode(file\_get\_contents($path."/".$theme\_id."/manifest.json"),true); |
| [589](#L589) | echo '<h1> Customize '.$theme\_manifest['name'].'</h1>'; |
| [590](#L590) | if(!isset($theme\_manifest['settings']) || $theme\_manifest['settings'] === '' || !is\_array($theme\_manifest['settings'])){ |
| [591](#L591) | echo '<div class="moo\_dashboard\_text\_error">This Store interface is not customizable</div>'; |
| [592](#L592) | echo '<div class="moo\_dashboard\_buttons\_actions"><a href="?page=moo\_themes" class="moo\_dashboard\_button moo\_dashboard\_medium  pull-left moo\_dashboard\_button\_go\_back" style="background: black;">Go back to store interfaces</a></div>'; |
| [593](#L593) | } else { |
| [594](#L594) | //get the theme settingsx |
| [595](#L595) | $themes\_current\_settings = array(); |
| [596](#L596) | $settings = (array) get\_option('moo\_settings'); |
| [597](#L597) |  |
| [598](#L598) | foreach ($settings as $key=>$val) { |
| [599](#L599) | $k = (string)$key; |
| [600](#L600) | if(strpos($k,$theme\_id."\_") === 0 && $val != "") { |
| [601](#L601) | $themes\_current\_settings[$key]= $val; |
| [602](#L602) | } |
| [603](#L603) | } |
| [604](#L604) | echo '<div class="wpvr\_options\_content"> <form id="moo\_theme\_customize">'; |
| [605](#L605) | foreach ($theme\_manifest['settings'] as $item\_settings) { |
| [606](#L606) | if(isset($item\_settings['type'])) { |
| [607](#L607) | $key = $theme\_id."\_".$item\_settings["id"]; |
| [608](#L608) | if(!isset($themes\_current\_settings[$key])) { |
| [609](#L609) | $themes\_current\_settings[$key] = $item\_settings["default"]; |
| [610](#L610) | } |
| [611](#L611) |  |
| [612](#L612) | switch ($item\_settings['type']) { |
| [613](#L613) | case 'input\_text': |
| [614](#L614) | ?> |
| [615](#L615) | <div class="moo\_dashboard\_option moo\_dashboard\_option\_input moo\_dashboard\_input  on"> |
| [616](#L616) | <div class="moo\_dashboard\_option\_button pull-right"> |
| [617](#L617) | <input type="text" class="moo\_dashboard\_input" name="<?php echo $item\_settings['id'];?>" id="<?php echo $item\_settings['id'];?>"  value="<?php echo $themes\_current\_settings[$key];?>"> |
| [618](#L618) | </div> |
| [619](#L619) | <div class="option\_text"> |
| [620](#L620) | <span class="moo\_dashboard\_option\_title"><?php echo $item\_settings['label'];?></span> |
| [621](#L621) | <br> |
| [622](#L622) | <p class="moo\_dashboard\_option\_desc"> |
| [623](#L623) | <?php echo $item\_settings['info'];?> |
| [624](#L624) | </p> |
| [625](#L625) | </div> |
| [626](#L626) | <div class="moo\_dashboard\_clearfix"></div> |
| [627](#L627) | </div> |
| [628](#L628) | <?php |
| [629](#L629) | break; |
| [630](#L630) | case 'textaerea': |
| [631](#L631) | ?> |
| [632](#L632) | <div class="moo\_dashboard\_option moo\_dashboard\_option\_input moo\_dashboard\_input  on"> |
| [633](#L633) | <div class="option\_text"> |
| [634](#L634) | <span class="moo\_dashboard\_option\_title"><?php echo $item\_settings['label'];?></span> |
| [635](#L635) | <br> |
| [636](#L636) | <p class="moo\_dashboard\_option\_desc"> |
| [637](#L637) | <?php echo $item\_settings['info'];?> |
| [638](#L638) | </p> |
| [639](#L639) | <textarea type="text" class="moo\_dashboard\_textaerea" name="<?php echo $item\_settings['id'];?>" id="<?php echo $item\_settings['id'];?>"><?php echo $themes\_current\_settings[$key];?></textarea> |
| [640](#L640) | </div> |
| [641](#L641) | <div class="moo\_dashboard\_clearfix"></div> |
| [642](#L642) | </div> |
| [643](#L643) | <?php |
| [644](#L644) | break; |
| [645](#L645) | case 'input\_number': |
| [646](#L646) | ?> |
| [647](#L647) | <div class="moo\_dashboard\_option moo\_dashboard\_option\_input moo\_dashboard\_input  on"> |
| [648](#L648) | <div class="moo\_dashboard\_option\_button pull-right"> |
| [649](#L649) | <input type="number" class="small moo\_dashboard\_input" name="<?php echo $item\_settings['id'];?>" id="<?php echo $item\_settings['id'];?>"  value="<?php echo $themes\_current\_settings[$key]; ?>"> |
| [650](#L650) | </div> |
| [651](#L651) | <div class="option\_text"> |
| [652](#L652) | <span class="moo\_dashboard\_option\_title"><?php echo $item\_settings['label'];?></span> |
| [653](#L653) | <br> |
| [654](#L654) | <p class="moo\_dashboard\_option\_desc"> |
| [655](#L655) | <?php echo $item\_settings['info'];?> |
| [656](#L656) | </p> |
| [657](#L657) | </div> |
| [658](#L658) | <div class="moo\_dashboard\_clearfix"></div> |
| [659](#L659) | </div> |
| [660](#L660) | <?php |
| [661](#L661) | break; |
| [662](#L662) | case 'onoff': |
| [663](#L663) | if($themes\_current\_settings[$key] != '') { |
| [664](#L664) | if($themes\_current\_settings[$key] == 'on') { |
| [665](#L665) | $checked = 'checked'; |
| [666](#L666) | } else { |
| [667](#L667) | $checked = ''; |
| [668](#L668) | } |
| [669](#L669) | } else { |
| [670](#L670) | if($item\_settings['default'] == 'on') { |
| [671](#L671) | $checked = 'checked'; |
| [672](#L672) | } else { |
| [673](#L673) | $checked = ''; |
| [674](#L674) | } |
| [675](#L675) | } |
| [676](#L676) | ?> |
| [677](#L677) | <div class="moo\_dashboard\_option moo\_dashboard\_option\_input moo\_dashboard\_input  on"> |
| [678](#L678) | <div class="moo\_dashboard\_option\_button pull-right"> |
| [679](#L679) | <div class="moo-onoffswitch" > |
| [680](#L680) | <input type="hidden" name="<?php echo $item\_settings['id'];?>" value="off"> |
| [681](#L681) | <input type="checkbox" name="<?php echo $item\_settings['id'];?>" class="moo-onoffswitch-checkbox" id="myonoffswitch\_<?php echo $item\_settings['id'];?>" <?php echo $checked; ?> > |
| [682](#L682) | <label class="moo-onoffswitch-label" for="myonoffswitch\_<?php echo $item\_settings['id'];?>"><span class="moo-onoffswitch-inner"></span> |
| [683](#L683) | <span class="moo-onoffswitch-switch"></span> |
| [684](#L684) | </label> |
| [685](#L685) | </div> |
| [686](#L686) | </div> |
| [687](#L687) | <div class="option\_text"> |
| [688](#L688) | <span class="moo\_dashboard\_option\_title"><?php echo $item\_settings['label'];?></span> |
| [689](#L689) | <br> |
| [690](#L690) | <p class="moo\_dashboard\_option\_desc"> |
| [691](#L691) | <?php echo $item\_settings['info'];?> |
| [692](#L692) | </p> |
| [693](#L693) | </div> |
| [694](#L694) | <div class="moo\_dashboard\_clearfix"></div> |
| [695](#L695) | </div> |
| [696](#L696) | <?php |
| [697](#L697) | break; |
| [698](#L698) | case 'color': |
| [699](#L699) | ?> |
| [700](#L700) | <div class="moo\_dashboard\_option moo\_dashboard\_option\_input moo\_dashboard\_input  on"> |
| [701](#L701) | <div class="moo\_dashboard\_option\_button pull-right"> |
| [702](#L702) | <input type="color" class="moo\_dashboard\_input moo\_dashboard\_inputColor" name="<?php echo $item\_settings['id'];?>" id="<?php echo $item\_settings['id'];?>"  value="<?php echo ($themes\_current\_settings[$key]=='')?$item\_settings['default']:$themes\_current\_settings[$key];?>" onchange="mooChangedInputColorValue('<?php echo $item\_settings['id'];?>')"/> |
| [703](#L703) | </div> |
| [704](#L704) | <div class="moo\_dashboard\_option\_button pull-right"> |
| [705](#L705) | <input type="text" size="7" class="moo\_dashboard\_input" name="<?php echo $item\_settings['id'];?>" id="<?php echo $item\_settings['id'];?>\_val"  value="<?php echo ($themes\_current\_settings[$key]=='')?$item\_settings['default']:$themes\_current\_settings[$key];?>" onchange="mooChangedInputColorTextValue('<?php echo $item\_settings['id'];?>')"/> |
| [706](#L706) | </div> |
| [707](#L707) | <div class="option\_text"> |
| [708](#L708) | <span class="moo\_dashboard\_option\_title"><?php echo $item\_settings['label'];?></span> |
| [709](#L709) | <br> |
| [710](#L710) | <p class="moo\_dashboard\_option\_desc"> |
| [711](#L711) | <?php echo $item\_settings['info'];?> |
| [712](#L712) | </p> |
| [713](#L713) | </div> |
| [714](#L714) | <div class="moo\_dashboard\_clearfix"></div> |
| [715](#L715) | </div> |
| [716](#L716) | <?php |
| [717](#L717) | break; |
| [718](#L718) | } |
| [719](#L719) | } |
| [720](#L720) | } |
| [721](#L721) | echo '</div>'; |
| [722](#L722) | echo '<div class="moo\_dashboard\_buttons\_actions"><button onclick="moo\_save\_theme\_customization(event,\''.$theme\_id.'\')" class="moo\_dashboard\_button moo\_dashboard\_medium moo\_dashboard\_save\_options pull-right "><i class="moo\_dashboard\_button\_icon fas fa-save"></i>Save options</button><a href="?page=moo\_themes" class="moo\_dashboard\_button moo\_dashboard\_medium  pull-left moo\_dashboard\_button\_go\_back" style="background: black;">Go back to store interfaces</a></div>'; |
| [723](#L723) | echo '</form>'; |
| [724](#L724) | } |
| [725](#L725) |  |
| [726](#L726) | } else { |
| [727](#L727) | echo '<div class="moo\_dashboard\_text\_error"> Store interface not installed correctly</div>'; |
| [728](#L728) | echo '<div class="moo\_dashboard\_buttons\_actions"><a href="?page=moo\_themes" class="moo\_dashboard\_button moo\_dashboard\_medium  pull-left moo\_dashboard\_button\_go\_back" style="background: black;">Go back to store interfaces</a></div>'; |
| [729](#L729) | } |
| [730](#L730) | ?> |
| [731](#L731) | <?php }?> |
| [732](#L732) |  |
| [733](#L733) | </div> |
| [734](#L734) | </div> |
| [735](#L735) |  |
| [736](#L736) | </div> |
| [737](#L737) | <?php |
| [738](#L738) | } |
| [739](#L739) | public function panel\_settings() { |
| [740](#L740) | $model = $this->model; |
| [741](#L741) |  |
| [742](#L742) | $mooOptions = (array)get\_option('moo\_settings'); |
| [743](#L743) |  |
| [744](#L744) | //Force options |
| [745](#L745) | $mooOptions["save\_cards"] = "disabled"; |
| [746](#L746) |  |
| [747](#L747) | $all\_pages = get\_pages(); |
| [748](#L748) |  |
| [749](#L749) | $apiKey = $mooOptions["api\_key"]; |
| [750](#L750) |  |
| [751](#L751) | if($apiKey !== '') { |
| [752](#L752) |  |
| [753](#L753) | if(empty($mooOptions['store\_page']) || !get\_post\_status( $mooOptions['store\_page'] ) ) { |
| [754](#L754) | echo '<div class="update-nag notice notice-warning" style="display:block;">Hello, please select the store page from settings and make sure itis published then click save </div>'; |
| [755](#L755) | } |
| [756](#L756) |  |
| [757](#L757) | if(empty($mooOptions['cart\_page']) || !get\_post\_status( $mooOptions['cart\_page'] ) ) { |
| [758](#L758) | echo '<div class="update-nag notice notice-warning" style="display:block;">Hello, please select the cart page from settings and make sure itis published then click save </div>'; |
| [759](#L759) | } |
| [760](#L760) |  |
| [761](#L761) | if(empty($mooOptions['checkout\_page']) || !get\_post\_status( $mooOptions['checkout\_page'] ) ) { |
| [762](#L762) | echo '<div class="update-nag notice notice-warning" style="display:block;">Hello, please select the checkout page from settings and make sure itis published then click save </div>'; |
| [763](#L763) | } |
| [764](#L764) |  |
| [765](#L765) | //sync blackouts |
| [766](#L766) | if(isset($\_GET["syncBlackout"]) && $\_GET["syncBlackout"] ){ |
| [767](#L767) | $this->api->getBlackoutStatus(true); |
| [768](#L768) | } |
| [769](#L769) |  |
| [770](#L770) | } |
| [771](#L771) |  |
| [772](#L772) | if(isset($\_GET["item\_uuid"])) { |
| [773](#L773) | $item\_uuid = sanitize\_text\_field($\_GET["item\_uuid"]); |
| [774](#L774) | $modifier\_groups = $model->getAllModifiersGroupByItem($item\_uuid); |
| [775](#L775) | } else { |
| [776](#L776) | $modifier\_groups = $model->getAllModifiersGroup(); |
| [777](#L777) | } |
| [778](#L778) |  |
| [779](#L779) |  |
| [780](#L780) |  |
| [781](#L781) | wp\_enqueue\_script('moo-grid'); |
| [782](#L782) |  |
| [783](#L783) | /\* Start Map Delivery area section \*/ |
| [784](#L784) | wp\_register\_script('moo-google-map', 'https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyBv1TkdxvWkbFaDz2r0Yx7xvlNKe-2uyRc'); |
| [785](#L785) | wp\_enqueue\_script('moo-google-map'); |
| [786](#L786) | wp\_enqueue\_script('moo-map-da',array('jquery','moo-google-map')); |
| [787](#L787) |  |
| [788](#L788) |  |
| [789](#L789) | wp\_localize\_script("moo-map-da", "moo\_merchantLatLng",array( |
| [790](#L790) | "lat"=>$mooOptions['lat'], |
| [791](#L791) | "lng"=>$mooOptions['lng'], |
| [792](#L792) | )); |
| [793](#L793) | /\* Fin map Delivery area section\*/ |
| [794](#L794) | ?> |
| [795](#L795) |  |
| [796](#L796) | <div id="loader-wrapper"> |
| [797](#L797) | <div id="loader"></div> |
| [798](#L798) | <div class="loader-section section-left"></div> |
| [799](#L799) | <div class="loader-section section-right"></div> |
| [800](#L800) | </div> |
| [801](#L801) |  |
| [802](#L802) | <div id="MooPanel"> |
| [803](#L803) | <div id="MooPanel\_sidebar"> |
| [804](#L804) | <div id="Moopanel\_logo" style="margin-bottom: 20px"> |
| [805](#L805) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/woo\_100x100.png";?>" alt=""/> |
| [806](#L806) | <p>Smart Online Order for Clover by Zaytech</p> |
| [807](#L807) | </div> |
| [808](#L808) | <ul> |
| [809](#L809) | <a href="#apikey"><li class="MooPanel\_Selected" id="MooPanel\_tab1" onclick="tab\_clicked(1)">Key Settings <span style="font-family: Eina03, sans-serif">&</span> Account Info</li></a> |
| [810](#L810) | <a href="#announcements"><li id="MooPanel\_tab4" onclick="tab\_clicked(4)">Announcements / Social Media</li></a> |
| [811](#L811) | <a href="#inventory"><li id="MooPanel\_tab2" onclick="tab\_clicked(2)">Import / Sync inventory</li></a> |
| [812](#L812) | <a href="#ordertypes"><li id="MooPanel\_tab3" onclick="tab\_clicked(3)">Orders Types</li></a> |
| [813](#L813) | <a href="#categories"><li id="MooPanel\_tab5" onclick="tab\_clicked(5)">Categories  <span style="font-family: Eina03, sans-serif">&</span> Items</li></a> |
| [814](#L814) | <a href="#modifiergroups"><li id="MooPanel\_tab6" onclick="tab\_clicked(6)">Modifier groups  <span style="font-family: Eina03, sans-serif">&</span> Modifiers</li></a> |
| [815](#L815) | <a href="#checkout"><li id="MooPanel\_tab7" onclick="tab\_clicked(7)">Checkout settings</li></a> |
| [816](#L816) | <a href="#store"><li id="MooPanel\_tab8" onclick="tab\_clicked(8)">Store settings</li></a> |
| [817](#L817) | <a href="#custom-hours"><li id="MooPanel\_tab12" onclick="tab\_clicked(12)">Custom Hours</li></a> |
| [818](#L818) | <a href="#delivery"><li id="MooPanel\_tab9" onclick="tab\_clicked(9)">Delivery areas  <span style="font-family: Eina03, sans-serif">&</span> fees</li></a> |
| [819](#L819) | <a href="#help"><li id="MooPanel\_tab10" onclick="tab\_clicked(10)">Feedback / Help</li></a> |
| [820](#L820) | <?php if(isset($\_GET['show\_export'])) {?> |
| [821](#L821) | <a href="#export"><li id="MooPanel\_tab11" onclick="tab\_clicked(11)">Export / Import</li></a> |
| [822](#L822) | <?php } ?> |
| [823](#L823) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_themes"><li>Store Interfaces <i class="fas fa-external-link-square-alt"></i></li></a> |
| [824](#L824) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_items"><li>Items / Images / Description <i class="fas fa-external-link-square-alt"></i></li></a> |
| [825](#L825) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_coupons"><li>Coupons <i class="fas fa-external-link-square-alt"></i></li></a> |
| [826](#L826) | <a href="https://docs.zaytech.com/knowledge/faq" target="\_blank"><li>FAQ <i class="fas fa-external-link-square-alt"></i></li></a> |
| [827](#L827) | <a href="https://www.youtube.com/channel/UCvG2UY0xjcLVTOccDqaGBow" target="\_blank"><li>Video Tutorials <i class="fas fa-external-link-square-alt"></i></li></a> |
| [828](#L828) | <a href="https://docs.zaytech.com" target="\_blank"><li>Helpful Articles <i class="fas fa-external-link-square-alt"></i></li></a> |
| [829](#L829) | </ul> |
| [830](#L830) | </div> |
| [831](#L831) | <div id="MooPanel\_main"> |
| [832](#L832) | <div id="menu\_for\_mobile"> |
| [833](#L833) | <div style="text-align: center;"> |
| [834](#L834) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/woo\_73x73.png";?>" alt=""/> |
| [835](#L835) | </div> |
| [836](#L836) | <div class="button\_center"> |
| [837](#L837) | <a href="#" id="show\_menu" class="button button-secondary">Menu</a> |
| [838](#L838) | </div> |
| [839](#L839) | <ul style="font-size:15px; text-align: center; width: 37%; margin: 0 auto; border: 0.5px green;"> |
| [840](#L840) | <a href="#apikey"><li  id="MooPanel\_tab1" onclick="tab\_clicked(1)">Key Settings <span style="font-family: Eina03, sans-serif">&</span> Account Info</li></a> |
| [841](#L841) | <a href="#announcements"><li id="MooPanel\_tab4" onclick="tab\_clicked(4)">Announcements / Social Media</li></a> |
| [842](#L842) | <a href="#inventory"><li id="MooPanel\_tab2" onclick="tab\_clicked(2)">Import / Sync inventory</li></a> |
| [843](#L843) | <a href="#ordertypes"><li id="MooPanel\_tab3" onclick="tab\_clicked(3)">Orders Types</li></a> |
| [844](#L844) | <a href="#categories"><li id="MooPanel\_tab5" onclick="tab\_clicked(5)">Categories  <span style="font-family: Eina03, sans-serif">&</span> Items</li></a> |
| [845](#L845) | <a href="#modifiergroups"><li id="MooPanel\_tab6" onclick="tab\_clicked(6)">Modifier groups  <span style="font-family: Eina03, sans-serif">&</span> Modifiers</li></a> |
| [846](#L846) | <a href="#checkout"><li id="MooPanel\_tab7" onclick="tab\_clicked(7)">Checkout settings</li></a> |
| [847](#L847) | <a href="#store"><li id="MooPanel\_tab8" onclick="tab\_clicked(8)">Store settings</li></a> |
| [848](#L848) | <a href="#custom-hours"><li id="MooPanel\_tab12" onclick="tab\_clicked(12)">Custom Hours</li></a> |
| [849](#L849) | <a href="#delivery"><li id="MooPanel\_tab9" onclick="tab\_clicked(9)">Delivery areas  <span style="font-family: Eina03, sans-serif">&</span> fees</li></a> |
| [850](#L850) | <a href="#help"><li id="MooPanel\_tab10" onclick="tab\_clicked(10)">Feedback / Help</li></a> |
| [851](#L851) | <?php if(isset($\_GET['show\_export'])) {?> |
| [852](#L852) | <a href="#export"><li id="MooPanel\_tab11" onclick="tab\_clicked(11)">Export / Import</li></a> |
| [853](#L853) | <?php } ?> |
| [854](#L854) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_themes"><li>Store Interfaces <i class="fas fa-external-link-square-alt"></i></li></a> |
| [855](#L855) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_items"><li>Items / Images / Description <i class="fas fa-external-link-square-alt"></i></li></a> |
| [856](#L856) | <a href="<?php echo admin\_url()?>admin.php?page=moo\_coupons"><li>Coupons <i class="fas fa-external-link-square-alt"></i></li></a> |
| [857](#L857) | <a href="https://docs.zaytech.com/knowledge/faq" target="\_blank"><li>FAQ <i class="fas fa-external-link-square-alt"></i></li></a> |
| [858](#L858) | <a href="https://www.youtube.com/channel/UCvG2UY0xjcLVTOccDqaGBow" target="\_blank"><li>Video Tutorials <i class="fas fa-external-link-square-alt"></i></li></a> |
| [859](#L859) | <a href="https://docs.zaytech.com" target="\_blank"><li>Helpful Articles <i class="fas fa-external-link-square-alt"></i></li></a> |
| [860](#L860) |  |
| [861](#L861) | </ul> |
| [862](#L862) | </div> |
| [863](#L863) | <!--Default section --> |
| [864](#L864) | <div id="MooPanel\_tabContent1"> |
| [865](#L865) |  |
| [866](#L866) | <?php |
| [867](#L867) | //show custom section based on query param or the default section |
| [868](#L868) | if(isset($\_GET['moo\_section']) && $\_GET['moo\_section']=='update\_apikey') { |
| [869](#L869) | $this->moo\_update\_token(); |
| [870](#L870) | } else { |
| [871](#L871) | if(isset($\_GET['moo\_section']) && $\_GET['moo\_section']=='update\_address'){ |
| [872](#L872) | $this->moo\_update\_address(); |
| [873](#L873) | } else { |
| [874](#L874) |  |
| [875](#L875) | ?> |
| [876](#L876) | <h2>My store</h2> |
| [877](#L877) | <hr> |
| [878](#L878) | <div id="moo-checking-section" style="<?php if(!isset($mooOptions['api\_key']) || $mooOptions['api\_key'] === ''){echo 'display:none;';}?>" > |
| [879](#L879) | <div class="MooRow" style="text-align: center"> |
| [880](#L880) | <div> |
| [881](#L881) | <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="200px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"> |
| [882](#L882) | <g transform="translate(20 50)"> |
| [883](#L883) | <circle cx="0" cy="0" r="6" fill="#174394"> |
| [884](#L884) | <animateTransform attributeName="transform" type="scale" begin="-0.375s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [885](#L885) | </circle> |
| [886](#L886) | </g><g transform="translate(40 50)"> |
| [887](#L887) | <circle cx="0" cy="0" r="6" fill="#2aa7c9"> |
| [888](#L888) | <animateTransform attributeName="transform" type="scale" begin="-0.25s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [889](#L889) | </circle> |
| [890](#L890) | </g><g transform="translate(60 50)"> |
| [891](#L891) | <circle cx="0" cy="0" r="6" fill="#06628d"> |
| [892](#L892) | <animateTransform attributeName="transform" type="scale" begin="-0.125s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [893](#L893) | </circle> |
| [894](#L894) | </g><g transform="translate(80 50)"> |
| [895](#L895) | <circle cx="0" cy="0" r="6" fill="#1f3c71"> |
| [896](#L896) | <animateTransform attributeName="transform" type="scale" begin="0s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [897](#L897) | </circle> |
| [898](#L898) | </g> |
| [899](#L899) | </svg> |
| [900](#L900) | </div> |
| [901](#L901) | <p><?php \_e("Checking your Api Key","moo\_OnlineOrders"); ?></p> |
| [902](#L902) | </div> |
| [903](#L903) | </div> |
| [904](#L904) | <div id="moo-keyValid-section" style="display: none"> |
| [905](#L905) | <div id="sooBlackoutSection" class="moo-row moo-subSection" style="display: none;background-color: #ffdddd"> |
| [906](#L906) | <div class="moo-col-md-2 moo-centred"> |
| [907](#L907) | <img width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/soo-alert-icon.png";?>" alt=""/> |
| [908](#L908) | </div> |
| [909](#L909) | <div class="moo-col-md-10"> |
| [910](#L910) | <h3 style="margin-bottom: 5px"> |
| [911](#L911) | <?php \_e("Your Online Ordering Is Paused from Clover POS","moo\_OnlineOrders"); ?></h3> |
| [912](#L912) | <div> |
| [913](#L913) | <div class="reasonSection"></div> |
| [914](#L914) | <div class="fromToSection"></div> |
| [915](#L915) | <div>You can change this from your Clover Device.</div> |
| [916](#L916) | </div> |
| [917](#L917) | </div> |
| [918](#L918) | <div class="moo-col-md-2"></div> |
| [919](#L919) | </div> |
| [920](#L920) | <div class="moo-row moo-subSection"> |
| [921](#L921) | <div class="moo-col-md-2 moo-centred"> |
| [922](#L922) | <img width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooApiKeyValid.svg";?>" alt=""/> |
| [923](#L923) | </div> |
| [924](#L924) | <div class="moo-col-md-10"> |
| [925](#L925) | <h3 style="margin-bottom: 5px"><?php \_e("Your API KEY is valid","moo\_OnlineOrders"); ?></h3> |
| [926](#L926) | <div> |
| [927](#L927) | <div>This website is connected to the Clover account : <span class="moo-merchant-name"></span></div> |
| [928](#L928) | <div class="moo-merchant-bg"></div> |
| [929](#L929) | </div> |
| [930](#L930) |  |
| [931](#L931) | </div> |
| [932](#L932) | <div class="moo-col-md-2"></div> |
| [933](#L933) | </div> |
| [934](#L934) | <div class="moo-row moo-subSection"> |
| [935](#L935) | <div class="moo-col-md-2 moo-centred"> |
| [936](#L936) | <img  width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooAddress.svg";?>" alt=""/> |
| [937](#L937) | </div> |
| [938](#L938) | <div class="moo-col-md-10"> |
| [939](#L939) | <h3><?php \_e("Your Clover Registered Business Address","moo\_OnlineOrders"); ?></h3> |
| [940](#L940) | <p class="moo-merchant-address"></p> |
| [941](#L941) | <?php |
| [942](#L942) | $link = esc\_url(add\_query\_arg('moo\_section', 'update\_address',(admin\_url('admin.php?page=moo\_index')))); |
| [943](#L943) | if($mooOptions['lat'] === null || $mooOptions['lng'] === null){ |
| [944](#L944) | echo '<a href="'.$link.'">Click here to localize the address on map to calulcate delivery fees correctly</a>'; |
| [945](#L945) | } else { |
| [946](#L946) | echo '<a href="'.$link.'">Verify your address on the map</a>'; |
| [947](#L947) | } |
| [948](#L948) | ?> |
| [949](#L949) | </div> |
| [950](#L950) | <div class="moo-col-md-2"> |
| [951](#L951) |  |
| [952](#L952) | </div> |
| [953](#L953) | </div> |
| [954](#L954) | <?php if(!empty($mooOptions["accept\_orders"]) && $mooOptions["accept\_orders"] === "disabled"){?> |
| [955](#L955) | <div class="moo-row moo-subSection" style="background-color: #ffdddd"> |
| [956](#L956) | <div class="moo-col-md-2 moo-centred"> |
| [957](#L957) | <img width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooMenu.svg";?>" alt=""/> |
| [958](#L958) | </div> |
| [959](#L959) | <div class="moo-col-md-10"> |
| [960](#L960) | <h3> Your Online Menu is Closed Manually </h3> |
| [961](#L961) | <p>You can change this from <i>Store Settings</i>, Accept Online Orders section.</p> |
| [962](#L962) | </div> |
| [963](#L963) | </div> |
| [964](#L964) | <?php } else { ?> |
| [965](#L965) | <div class="moo-row moo-subSection"> |
| [966](#L966) | <div class="moo-col-md-2 moo-centred"> |
| [967](#L967) | <img width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooMenu.svg";?>" alt=""/> |
| [968](#L968) | </div> |
| [969](#L969) | <div id="sooCloverHoursSection" class="moo-col-md-10"> |
| [970](#L970) | <?php |
| [971](#L971) | if($mooOptions["hours"] == "all"){ |
| [972](#L972) | echo "<h3> Your Online Menu is Open 24h/7days </h3>"; |
| [973](#L973) | echo "<p>You can change the ordering hours from <i>Store Settings.</i></p>"; |
| [974](#L974) | } else { |
| [975](#L975) | echo "<h3> Your Online Menu is Open according to Clover Business Hours.</h3>"; |
| [976](#L976) | echo "<a href='#' onclick='mooGetOpeningHours(event)'>Click here to see Your Clover Hours.</a>"; |
| [977](#L977) | } |
| [978](#L978) | ?> |
| [979](#L979) | </div> |
| [980](#L980) | <div id="sooCloverHoursNotFoundSection" class="moo-col-md-10" style="display: none"> |
| [981](#L981) | <?php |
| [982](#L982) | if($mooOptions["hours"] === "all"){ |
| [983](#L983) | echo "<h3> Your Online Menu is Open 24h/7days </h3>"; |
| [984](#L984) | echo " <p>To accept orders only during your opening hours, set your hours on Clover and change the <b>store availability</b> from <i>Store Settings.</i></p>"; |
| [985](#L985) | } else { |
| [986](#L986) | echo "<h3>Your Online Menu is Closed</h3>"; |
| [987](#L987) | echo " <p>Don't lose customers because of incorrect business hours. Fix it easily by visiting <a href='https://clover.com' target='\_blank'>clover.com</a> and updating your information under account & setup, then business hours.</p>"; |
| [988](#L988) |  |
| [989](#L989) | } |
| [990](#L990) | ?> |
| [991](#L991) | </div> |
| [992](#L992) | </div> |
| [993](#L993) | <?php } ?> |
| [994](#L994) | <div class="moo-row moo-subSection"> |
| [995](#L995) | <div class="moo-col-md-2 moo-centred"> |
| [996](#L996) | <img  width="80px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/iconSooNew.svg";?>" alt=""/> |
| [997](#L997) | </div> |
| [998](#L998) | <div class="moo-col-md-8"> |
| [999](#L999) | <?php |
| [1000](#L1000) | $newCheckoutEnabled = get\_option('moo\_new\_checkout\_enabled') === 'yes'; |
| [1001](#L1001) | echo "<h3>New (Beta) Checkout Page</h3>"; |
| [1002](#L1002) | echo "<p>Will allow customers to earn Loyalty Points when Ordering from the Website. For even more convenience, we recommend getting the Branded App to give customers even more control.</p>"; |
| [1003](#L1003) | ?> |
| [1004](#L1004) | </div> |
| [1005](#L1005) | <div class="moo-col-md-2"> |
| [1006](#L1006) | <div class="soo-onoffswitch" title="Enable or disable the new checkout" style="float: right;margin-top: 38px;margin-right: 20px;"> |
| [1007](#L1007) | <input type="checkbox" name="sooNewCheckoutPage" id="sooNewCheckoutPage" class="soo-onoffswitch-checkbox" onchange="enableOrDisableNewCheckout()" <?php  echo $newCheckoutEnabled?'checked':''; ?> > |
| [1008](#L1008) | <label class="soo-onoffswitch-label" for="sooNewCheckoutPage"> |
| [1009](#L1009) | <span class="soo-onoffswitch-inner"></span> |
| [1010](#L1010) | <span class="soo-onoffswitch-switch"></span> |
| [1011](#L1011) | </label> |
| [1012](#L1012) | </div> |
| [1013](#L1013) | </div> |
| [1014](#L1014) | </div> |
| [1015](#L1015) | <div class="moo-row moo-subSection"> |
| [1016](#L1016) | <div class="moo-col-md-12"> |
| [1017](#L1017) | <!--[if lte IE 8]> |
| [1018](#L1018) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script> |
| [1019](#L1019) | <![endif]--> |
| [1020](#L1020) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script> |
| [1021](#L1021) | <script> |
| [1022](#L1022) | hbspt.forms.create({ |
| [1023](#L1023) | portalId: "7182906", |
| [1024](#L1024) | formId: "0fb22630-4931-4eb4-a206-49d2001bd7b6" |
| [1025](#L1025) | }); |
| [1026](#L1026) | </script> |
| [1027](#L1027) | </div> |
| [1028](#L1028) | </div> |
| [1029](#L1029) | </div> |
| [1030](#L1030) | <div id="moo-enterKey-section"  style="<?php if(isset($mooOptions['api\_key']) && $mooOptions['api\_key']!==''){echo 'display:none;';}?>"> |
| [1031](#L1031) | <div class="MooRow"> |
| [1032](#L1032) | <div class="MooPanelItem"> |
| [1033](#L1033) | <h3>API key</h3> |
| [1034](#L1034) | <div class="Moo\_option-item"> |
| [1035](#L1035) | <p> |
| [1036](#L1036) | The API Key or Activation license is a secret and unique key used to link your website with your Clover device. You can get the Api Key by going to Clover.com from a computer, then login. Then select more tools, and install Smart Online Order. Please watch <a href="https://www.youtube.com/watch?v=GGGm22D-f0M" target="\_blank">this video</a> to learn how to install the app or search “Smart Online Order” on Youtube. You can also visit smartonlineorder.com to learn more. |
| [1037](#L1037) | If you already have installed Smart Online Order enter the Api Key here: |
| [1038](#L1038) | </p> |
| [1039](#L1039) | </div> |
| [1040](#L1040) | <div class="Moo\_option-item"> |
| [1041](#L1041) | <div> |
| [1042](#L1042) | <label for="new\_api\_key">Your key : </label> |
| [1043](#L1043) | <input id="new\_api\_key" type="text" size="60" name="moo\_settings[api\_key]" value="<?php echo $mooOptions['api\_key']?>"  autocomplete="off"/> |
| [1044](#L1044) | <input type="button" onclick="mooGetApikey(event)" class="mooButtonSaveApiKey" value="Save Changes"> |
| [1045](#L1045) | </div> |
| [1046](#L1046) | </div> |
| [1047](#L1047) | <div style="text-align: center"> |
| [1048](#L1048) | <span>Or</span> |
| [1049](#L1049) | </div> |
| [1050](#L1050) | <div style="text-align: center; margin-bottom: 20px;margin-top: 20px;"> |
| [1051](#L1051) | <button onclick="mooFastConnectWithClover()"  type="button" class="moo-button-clover"><img  src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/clover.svg";?>"> |
| [1052](#L1052) | <span class="connect-clv">Connect with Clover</span> |
| [1053](#L1053) | </button> |
| [1054](#L1054) | </div> |
| [1055](#L1055) | </div> |
| [1056](#L1056) | </div> |
| [1057](#L1057) | </div> |
| [1058](#L1058) | <div id="moo-error-section" style="display: none" > |
| [1059](#L1059) | <div class="moo-row" style="text-align: center"> |
| [1060](#L1060) | <div class="moo-col-md-12 moo-alert-icon"> |
| [1061](#L1061) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/icon\_alert.png";?>" alt=""/> |
| [1062](#L1062) | </div> |
| [1063](#L1063) | <div class="moo-col-md-12"> |
| [1064](#L1064) | <p class="moo-errorSection-message">We couldn't check the api key right now, please try again</p> |
| [1065](#L1065) | <p><a href="#" onclick="MooPanel\_RefreshPage(event)" class="button button-secondary" style="margin-bottom: 35px;" >Try Again</a></p> |
| [1066](#L1066) | </div> |
| [1067](#L1067) | </div> |
| [1068](#L1068) | </div> |
| [1069](#L1069) | <?php } } ?> |
| [1070](#L1070) | </div> |
| [1071](#L1071) | <!-- Import Items --> |
| [1072](#L1072) | <div id="MooPanel\_tabContent2"> |
| [1073](#L1073) | <div id="mooInventorySection"> |
| [1074](#L1074) | <h2>Import inventory (Scroll Down for more options)</h2><hr> |
| [1075](#L1075) | <div class="MooPanelItem"> |
| [1076](#L1076) | <h3>Import your data</h3> |
| [1077](#L1077) | <p>You may need to refresh your browser after data is imported. Use manual sync below after you have made additional inventory changes</p> |
| [1078](#L1078) | <div class="Moo\_option-item" style="text-align: center"> |
| [1079](#L1079) | <div id="MooPanelSectionImport"></div> |
| [1080](#L1080) | <div id="MooPanelSectionImportItems"></div> |
| [1081](#L1081) | <div id="MooPanelSectionImportCategories"></div> |
| [1082](#L1082) | <div id="MooPanelButtonImport"> |
| [1083](#L1083) | <a href="#" onclick="MooPanel\_ImportItems(event)" class="button button-secondary" |
| [1084](#L1084) | style="margin-bottom: 35px;" >Import inventory</a> |
| [1085](#L1085) | </div> |
| [1086](#L1086) |  |
| [1087](#L1087) | </div> |
| [1088](#L1088) | </div> |
| [1089](#L1089) | <div class="MooPanelItem"> |
| [1090](#L1090) | <h3>Statistics</h3> |
| [1091](#L1091) | <div class="Moo\_option-item"> |
| [1092](#L1092) | <div class="stats"> |
| [1093](#L1093) | <div class="stat"> |
| [1094](#L1094) | <div class="value" id="MooPanelStats\_Cats">0</div> |
| [1095](#L1095) | <div class="type" >Categories</div> |
| [1096](#L1096) | </div> |
| [1097](#L1097) | <div class="stat"> |
| [1098](#L1098) | <div class="value" id="MooPanelStats\_Products">0</div> |
| [1099](#L1099) | <div class="type">Items</div> |
| [1100](#L1100) | </div> |
| [1101](#L1101) | <div class="stat"> |
| [1102](#L1102) | <div class="value" id="MooPanelStats\_Labels">0</div> |
| [1103](#L1103) | <div class="type">Modifier Groups</div> |
| [1104](#L1104) | </div> |
| [1105](#L1105) | <div class="stat"> |
| [1106](#L1106) | <div class="value" id="MooPanelStats\_Taxes">0</div> |
| [1107](#L1107) | <div class="type">Tax rates</div> |
| [1108](#L1108) | </div> |
| [1109](#L1109) | </div> |
| [1110](#L1110) | </div> |
| [1111](#L1111) | </div> |
| [1112](#L1112) | <div class="MooPanelItem"> |
| [1113](#L1113) | <h3>Automatically sync changes</h3> |
| [1114](#L1114) | <p> |
| [1115](#L1115) | <b> |
| [1116](#L1116) | Auto Sync updates items, categories and modifier changes in real time. It does not auto sync order types and taxes. If you made changes to taxes and order types, you must do a manual sync below. |
| [1117](#L1117) | </b> |
| [1118](#L1118) | </p> |
| [1119](#L1119) | <div id="mooAutoSyncActivated" class="Moo\_option-item mooAutoSyncSection"  style="display: none"> |
| [1120](#L1120) | <div class="moo-row"> |
| [1121](#L1121) | <div class="moo-col-md-2"> |
| [1122](#L1122) | <div class="mooAutoSyncSectionIcon"> |
| [1123](#L1123) | <img width="70px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/check.png";?>" alt=""/> |
| [1124](#L1124) | </div> |
| [1125](#L1125) | </div> |
| [1126](#L1126) | <div class="moo-col-md-6 mooAutoSyncSectionInfos"> |
| [1127](#L1127) | <h3 style="margin-top: 20px">Auto Sync is enabled</h3> |
| [1128](#L1128) | </div> |
| [1129](#L1129) | <div class="moo-col-md-4 mooAutoSyncSectionButtons"> |
| [1130](#L1130) | <button onclick="mooChangeAutoSyncStatus('disabled')" class="button button-primary">Disable Auto Sync</button> |
| [1131](#L1131) | <button onclick="mooSeeDetailOfAutoSync(event)" class="button button-primary">See details</button> |
| [1132](#L1132) | </div> |
| [1133](#L1133) | </div> |
| [1134](#L1134) | </div> |
| [1135](#L1135) | <div id="mooAutoSyncDeactivated" class="Moo\_option-item mooAutoSyncSection"  style="display: none"> |
| [1136](#L1136) | <div class="moo-row"> |
| [1137](#L1137) | <div class="moo-col-md-2"> |
| [1138](#L1138) | <div class="mooAutoSyncSectionIcon"> |
| [1139](#L1139) | <img width="70px" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/icon\_alert.png";?>" alt=""/> |
| [1140](#L1140) | </div> |
| [1141](#L1141) | </div> |
| [1142](#L1142) | <div class="moo-col-md-6 mooAutoSyncSectionInfos"> |
| [1143](#L1143) | <h3>Auto sync is disabled</h3> |
| [1144](#L1144) | <p>This updates changes in real time based on the Clover inventory</p> |
| [1145](#L1145) | </div> |
| [1146](#L1146) | <div class="moo-col-md-4 mooAutoSyncSectionButtons"> |
| [1147](#L1147) | <button onclick="mooChangeAutoSyncStatus('enabled')" class="button button-primary">Enable Auto Sync</button> |
| [1148](#L1148) | <button onclick="mooSeeDetailOfAutoSync(event)" class="button button-primary">See details</button> |
| [1149](#L1149) | </div> |
| [1150](#L1150) | </div> |
| [1151](#L1151) | </div> |
| [1152](#L1152) | <div id="mooAutoSyncCheking"  class="Moo\_option-item"> |
| [1153](#L1153) | <div class="moo-automatic-sync-section"> |
| [1154](#L1154) | <div class="mooSyncSectionLoading"> |
| [1155](#L1155) | <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="200px" height="100px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"> |
| [1156](#L1156) | <g transform="translate(20 50)"> |
| [1157](#L1157) | <circle cx="0" cy="0" r="6" fill="#174394"> |
| [1158](#L1158) | <animateTransform attributeName="transform" type="scale" begin="-0.375s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [1159](#L1159) | </circle> |
| [1160](#L1160) | </g><g transform="translate(40 50)"> |
| [1161](#L1161) | <circle cx="0" cy="0" r="6" fill="#2aa7c9"> |
| [1162](#L1162) | <animateTransform attributeName="transform" type="scale" begin="-0.25s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [1163](#L1163) | </circle> |
| [1164](#L1164) | </g><g transform="translate(60 50)"> |
| [1165](#L1165) | <circle cx="0" cy="0" r="6" fill="#06628d"> |
| [1166](#L1166) | <animateTransform attributeName="transform" type="scale" begin="-0.125s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [1167](#L1167) | </circle> |
| [1168](#L1168) | </g><g transform="translate(80 50)"> |
| [1169](#L1169) | <circle cx="0" cy="0" r="6" fill="#1f3c71"> |
| [1170](#L1170) | <animateTransform attributeName="transform" type="scale" begin="0s" calcMode="spline" keySplines="0.3 0 0.7 1;0.3 0 0.7 1" values="0;1;0" keyTimes="0;0.5;1" dur="1s" repeatCount="indefinite"></animateTransform> |
| [1171](#L1171) | </circle> |
| [1172](#L1172) | </g> |
| [1173](#L1173) | </svg> |
| [1174](#L1174) | </div> |
| [1175](#L1175) | </div> |
| [1176](#L1176) | </div> |
| [1177](#L1177) | </div> |
| [1178](#L1178) | <div class="MooPanelItem"> |
| [1179](#L1179) | <h3 style="font-size: 15px">Manual Sync "Use manual sync if changes have been made to your inventory and it hasn't synced"</h3> |
| [1180](#L1180) | <div id="moo\_progressbar\_container"></div> |
| [1181](#L1181) | <div class="Moo\_option-item"> |
| [1182](#L1182) | <div class="button\_center"> |
| [1183](#L1183) | <a href="#" onclick="MooPanel\_UpdateItems(event)" class="button button-secondary" |
| [1184](#L1184) | style="margin-left: 30px;" >Update all Items</a> |
| [1185](#L1185) | <a href="#" onclick="MooPanel\_UpdateCategories(event)" class="button button-secondary">Update Categories</a> |
| [1186](#L1186) | <a href="#" onclick="MooPanel\_UpdateModifiers(event)" class="button button-secondary">Update Modifiers</a> |
| [1187](#L1187) | <a href="#" onclick="MooPanel\_UpdateOrderTypes(event)" class="button button-secondary">Update Order Types</a> |
| [1188](#L1188) | <a href="#" onclick="MooPanel\_UpdateTaxes(event)" class="button button-secondary">Update Taxes</a> |
| [1189](#L1189) | </div> |
| [1190](#L1190) |  |
| [1191](#L1191) | </div> |
| [1192](#L1192) | </div> |
| [1193](#L1193) | <div class="MooPanelItem"> |
| [1194](#L1194) | <h3>Clean Inventory</h3> |
| [1195](#L1195) | <p>If you have deleted categories, items, modifier groups, modifiers, taxes, and order types from your Clover and they are still appearing on the website, then use "Clean Inventory"</p> |
| [1196](#L1196) | <div id="moo\_progressbar\_container"></div> |
| [1197](#L1197) | <div class="Moo\_option-item"> |
| [1198](#L1198) | <div class="button\_center"> |
| [1199](#L1199) | <a href="#" onclick="MooPanel\_CleanInventory(event)" class="button button-secondary"  style="margin: 0 auto">Clean Inventory</a> |
| [1200](#L1200) | </div> |
| [1201](#L1201) |  |
| [1202](#L1202) | </div> |
| [1203](#L1203) | </div> |
| [1204](#L1204) | </div> |
| [1205](#L1205) | <div id="mooAutoSyncDetailsSection" style="display: none"> |
| [1206](#L1206) | <h2>Recent item auto sync changes</h2><hr> |
| [1207](#L1207) | <div class="moo-row moo-goback-row"> |
| [1208](#L1208) | <div class="moo-goback-icon" onclick="mooHideDetailOfAutoSync(event)"> |
| [1209](#L1209) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/back.png";?>"> |
| [1210](#L1210) | </div> |
| [1211](#L1211) | <div onclick="mooHideDetailOfAutoSync(event)" class="moo-goback-text">Back</div> |
| [1212](#L1212) | <div class="mooHelpRefreshLinks"> |
| [1213](#L1213) | <a href="#" onclick="mooSeeDetailOfAutoSync(event)">Refresh</a> |
| [1214](#L1214) | </div> |
| [1215](#L1215) | </div> |
| [1216](#L1216) | <div class="mooAutoSyncDetailsSection"> |
| [1217](#L1217) | <p>Loading your section</p> |
| [1218](#L1218) | </div> |
| [1219](#L1219) | </div> |
| [1220](#L1220) |  |
| [1221](#L1221) | </div> |
| [1222](#L1222) | <!-- Orders Types --> |
| [1223](#L1223) | <div id="MooPanel\_tabContent3"> |
| [1224](#L1224) | <h2>Orders Types<hr> |
| [1225](#L1225) | </h2> |
| [1226](#L1226) | <div class="orderTypesContainer"> |
| [1227](#L1227) | <div id="MooOrderTypesContent"></div> |
| [1228](#L1228) | </div> |
| [1229](#L1229) | <h2> |
| [1230](#L1230) | Add new order type <hr> |
| [1231](#L1231) | </h2> |
| [1232](#L1232) | <div class="MooPanelItem"> |
| [1233](#L1233) | <?php |
| [1234](#L1234) | $otNoce =  wp\_create\_nonce('sooAddOrderType'); |
| [1235](#L1235) | echo '<input type="hidden" value="'.$otNoce.'" id="Moo\_AddOT\_nonce">'; |
| [1236](#L1236) | ?> |
| [1237](#L1237) | <div class="Moo\_option-item"> |
| [1238](#L1238) | <div class="iwl\_holder"> |
| [1239](#L1239) | <div class="iwl\_label\_holder"> |
| [1240](#L1240) | <label for="Moo\_AddOT\_label">Label or Name</label> |
| [1241](#L1241) | </div> |
| [1242](#L1242) | <div class="iwl\_input\_holder"> |
| [1243](#L1243) | <input type="text" value="" id="Moo\_AddOT\_label"/> |
| [1244](#L1244) | </div> |
| [1245](#L1245) | </div> |
| [1246](#L1246) |  |
| [1247](#L1247) | <div class="iwl\_holder"> |
| [1248](#L1248) | <div class="iwl\_label\_holder"> |
| [1249](#L1249) | <label for="Moo\_AddOT\_label">Minimum order amount</label> |
| [1250](#L1250) | </div> |
| [1251](#L1251) | <div class="iwl\_input\_holder"> |
| [1252](#L1252) | <input type="number" step="0.01" id="Moo\_AddOT\_minAmount"/> |
| [1253](#L1253) | </div> |
| [1254](#L1254) | </div> |
| [1255](#L1255) | </div> |
| [1256](#L1256) | <div> |
| [1257](#L1257) | <div> |
| [1258](#L1258) | <div class="iwl\_holder"> |
| [1259](#L1259) | <div class="">Delivery Order |
| [1260](#L1260) | <input style="margin: 10px; margin-right: 2px; margin-left: 40px;" type="radio" name="delivery" value="oui" id="Moo\_AddOT\_delivery\_oui" checked> |
| [1261](#L1261) | <label for="Moo\_AddOT\_delivery\_oui"> Yes</label> |
| [1262](#L1262) | <input type="radio" name="delivery" value="non" id="Moo\_AddOT\_delivery\_non" style="margin-left: 10px;" > |
| [1263](#L1263) | <label for="Moo\_AddOT\_delivery\_non">No</label> |
| [1264](#L1264) | </div> |
| [1265](#L1265) | </div> |
| [1266](#L1266) | </div> |
| [1267](#L1267) | <div> |
| [1268](#L1268) | <div class="iwl\_holder"> |
| [1269](#L1269) | <div class="">Taxable |
| [1270](#L1270) | <input style="margin: 10px; margin-right: 2px; margin-left: 40px;" type="radio" name="taxable" value="oui" id="Moo\_AddOT\_taxable\_oui" checked><label for="Moo\_AddOT\_taxable\_oui"> Yes</label> |
| [1271](#L1271) | <input type="radio" name="taxable" value="non" id="Moo\_AddOT\_taxable\_non" style="margin-left: 10px;" > <label for="Moo\_AddOT\_taxable\_non">No</label> |
| [1272](#L1272) | </div> |
| [1273](#L1273) | </div> |
| [1274](#L1274) | </div> |
| [1275](#L1275) |  |
| [1276](#L1276) | <div class="button\_center"> |
| [1277](#L1277) | <div title="This will add the order type to clover account" class="button button-primary"  onclick="moo\_addordertype(event)" id="Moo\_AddOT\_btn">Add</div><div id="Moo\_AddOT\_loading"></div> |
| [1278](#L1278) | </div> |
| [1279](#L1279) | </div> |
| [1280](#L1280) | </div> |
| [1281](#L1281) | </div> |
| [1282](#L1282) | <!-- Announcements / Social Media --> |
| [1283](#L1283) | <div id="MooPanel\_tabContent4"> |
| [1284](#L1284) | <h2>Smart Online Order Announcements</h2><hr> |
| [1285](#L1285) | <div class="MooPanelItem"> |
| [1286](#L1286) | <!--[if lte IE 8]> |
| [1287](#L1287) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script> |
| [1288](#L1288) | <![endif]--> |
| [1289](#L1289) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script> |
| [1290](#L1290) | <script> |
| [1291](#L1291) | hbspt.forms.create({ |
| [1292](#L1292) | portalId: "7182906", |
| [1293](#L1293) | formId: "ca2c3d93-f276-4446-b541-42439ea5968c" |
| [1294](#L1294) | }); |
| [1295](#L1295) | </script> |
| [1296](#L1296) | </div> |
| [1297](#L1297) | </div> |
| [1298](#L1298) | <!-- Image categorie --> |
| [1299](#L1299) | <div id="MooPanel\_tabContent5"> |
| [1300](#L1300) | <span class="moo\_collaps\_all" onclick="Moo\_SetupReorderCategoriesSection(event)">[ Reorder Categories ]</span> |
| [1301](#L1301) | <h2>Categories</h2><hr> |
| [1302](#L1302) | <div class="moo-categories-section"></div> |
| [1303](#L1303) | <div class="moo-categories-section moo-categories-edit-section" id="moo-categories-edit-section"></div> |
| [1304](#L1304) | </div> |
| [1305](#L1305) | <!-- Modifiers --> |
| [1306](#L1306) | <div id="MooPanel\_tabContent6"> |
| [1307](#L1307) | <span class="moo\_collaps\_all" id="sooStartReOrderModifiers" onclick="sooStartReOrderModifiers()">[ Reorder Modifier Groups & Modifiers ]</span> |
| [1308](#L1308) | <span class="moo\_collaps\_all" id="sooFinishReOrderModifiers" onclick="sooFinishReOrderModifiers()" style="display: none">[ Finish Reordering]</span> |
| [1309](#L1309) | <h2>Modifier Groups</h2> |
| [1310](#L1310) | <hr> |
| [1311](#L1311) | <?php |
| [1312](#L1312) | if(count($modifier\_groups)==0) { |
| [1313](#L1313) | echo "<div class=\"normal\_text\">It appears you don't have any Modifier Group, please import your data by clicking on <b>Import / Sync inventory from sidebar then import inventory</b></div>"; |
| [1314](#L1314) | }  else { |
| [1315](#L1315) | ?> |
| [1316](#L1316) | <div class="MooPanelItem"> |
| [1317](#L1317) | <h3>Hide or change modifier group names so they are easy to understand. To view the modifiers press the "+" sign (for all store interfaces)</h3> |
| [1318](#L1318) | <p>You can rearrange Modifier groups and Modifiers by dragging and dropping</p> |
| [1319](#L1319) | <div class="moo\_ModifierGroupsFilter"> |
| [1320](#L1320) | <label class="modifierFilterLabel"  for="modifierFilter">Search By Name</label> |
| [1321](#L1321) | <input class="modifierFilter" type="text" name="" id="modifierFilter" onkeyup="mooFilterModifiers(event)"> |
| [1322](#L1322) | </div> |
| [1323](#L1323) | <ul class="moo\_ModifierGroup"> |
| [1324](#L1324) | <?php |
| [1325](#L1325) | $i=0; |
| [1326](#L1326) | $j=0; |
| [1327](#L1327) | foreach ($modifier\_groups as $mg) { |
| [1328](#L1328) | if ($mg->alternate\_name == $mg->name || $mg->alternate\_name == null || $mg->alternate\_name == "") { |
| [1329](#L1329) | $name = $mg->name; |
| [1330](#L1330) | $label  = ""; |
| [1331](#L1331) | } else { |
| [1332](#L1332) | $name = $mg->alternate\_name; |
| [1333](#L1333) | $label  = "<span style='font-size: 11px'> (Clover Name : ".$mg->name.")</span>"; |
| [1334](#L1334) | } |
| [1335](#L1335) | ?> |
| [1336](#L1336) | <li class="moo-row list-group" group-id="<?php echo $mg->uuid?>"> |
| [1337](#L1337) | <div class="moo-col-sm-1 moo-col-xs-1 show-detail-group"> |
| [1338](#L1338) | <?php |
| [1339](#L1339) | $modifiers = $model->getAllModifiers($mg->uuid); |
| [1340](#L1340) | $Nb\_MG = count($modifiers); |
| [1341](#L1341) | if($Nb\_MG != 0){ ?> |
| [1342](#L1342) | <a href="#" onclick="show\_sub(event,'<?php echo $mg->uuid ?>')"> |
| [1343](#L1343) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/add.png" ?>" id="plus\_<?php echo $mg->uuid ?>" style="width: 20px;"> |
| [1344](#L1344) | </a> |
| [1345](#L1345) | <?php } ?> |
| [1346](#L1346) | </div> |
| [1347](#L1347) | <div class="moo-col-sm-8 moo-col-xs-10 label\_name" id="label\_<?php echo $mg->uuid?>"> |
| [1348](#L1348) | <div class="getname"><?php echo stripslashes($name) . stripslashes($label); ?></div> |
| [1349](#L1349) | <span class="change-name" style="display: none;"> |
| [1350](#L1350) | <input style="width: 80%" type="text" value="<?php echo stripslashes($name);?>" class="nameGGroup" id="newName\_<?php echo $mg->uuid?>"> |
| [1351](#L1351) | <a href="#" onclick="validerChangeNameGG(event,'<?php echo $mg->uuid?>')"> <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/valider.png" ?>" style="width: 18px;vertical-align: middle;"></a> |
| [1352](#L1352) | <a href="#" onclick="annulerChangeNameGG(event,'<?php echo $mg->uuid?>')"> <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/annuler.png" ?>" style="width: 18px;vertical-align: middle;"></a> |
| [1353](#L1353) | </span> |
| [1354](#L1354) | </div> |
| [1355](#L1355) | <div class="moo-col-sm-3 moo-col-xs-12" style="text-align: right;"> |
| [1356](#L1356) | <div class="moo-onoffswitch show\_group" onchange="MooChangeModifier\_Status('<?php echo $mg->uuid?>')" title="Show/Hide this Modifier Group"> |
| [1357](#L1357) | <input type="checkbox" name="onoffswitch[]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_<?php echo $mg->uuid?>" <?php echo ($mg->show\_by\_default)?'checked':''?>> |
| [1358](#L1358) | <label class="moo-onoffswitch-label" for="myonoffswitch\_<?php echo $mg->uuid?>"><span class="moo-onoffswitch-inner"></span> |
| [1359](#L1359) | <span class="moo-onoffswitch-switch"></span> |
| [1360](#L1360) | </label> |
| [1361](#L1361) | </div> |
| [1362](#L1362) | <div class="saved\_new\_name"> |
| [1363](#L1363) | <a href="#" class="bt-eidt-GGroup" onclick="editModifierGroup(event,'<?php echo $mg->uuid ?>')"> |
| [1364](#L1364) | <span id="moo\_edit\_nameGG<?php echo $i; ?>" |
| [1365](#L1365) | data-ot="Edit the modifier group name" |
| [1366](#L1366) | data-ot-target="#moo\_edit\_nameGG<?php echo $i; ?>"> |
| [1367](#L1367) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/edit.png" ?>" style="width: 24px;"> |
| [1368](#L1368) | </span> |
| [1369](#L1369) | </a> |
| [1370](#L1370) | </div> |
| [1371](#L1371) | <span class="bar-group"> |
| [1372](#L1372) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/menu.png" ?>" style="width: 18px;"> |
| [1373](#L1373) | </span> |
| [1374](#L1374) | </div> |
| [1375](#L1375) | <ul id="detail\_group\_<?php echo $mg->uuid ?>" class="sub-group" GM="<?php echo $mg->uuid?>"> |
| [1376](#L1376) | <?php |
| [1377](#L1377) | if(count($modifiers) > 1000){ |
| [1378](#L1378) | echo "<h4 style='background: #eee;'>This Modifier Group contain more than 1000 modifiers, we do not recommend using it, create a new Group on Clover with less modifiers and click on update modifiers from Import/sync Inventory section </h4></ul></li>"; |
| [1379](#L1379) | continue; |
| [1380](#L1380) | } |
| [1381](#L1381) | foreach ($modifiers as $value){ |
| [1382](#L1382) |  |
| [1383](#L1383) | if ($value->alternate\_name == $value->name || $value->alternate\_name == null || $value->alternate\_name == null) { |
| [1384](#L1384) | $m\_name = sanitize\_text\_field($value->name); |
| [1385](#L1385) | $m\_label = ""; |
| [1386](#L1386) | } else { |
| [1387](#L1387) | $m\_name = sanitize\_text\_field($value->alternate\_name); |
| [1388](#L1388) | $m\_label  = "<span style='font-size: 11px'> (Clover Name : ".sanitize\_text\_field($value->name).")</span>"; |
| [1389](#L1389) | } |
| [1390](#L1390) | //$m\_name = $m\_name . $m\_label; |
| [1391](#L1391) |  |
| [1392](#L1392) | ?> |
| [1393](#L1393) | <li class="moo-row list-GModifier\_<?php echo $mg->uuid; ?>" group-id="<?php echo $value->uuid; ?>"> |
| [1394](#L1394) | <div class="moo-col-sm-8"> |
| [1395](#L1395) | <span class="moo\_modifier\_name" id="label\_<?php echo $value->uuid; ?>"> |
| [1396](#L1396) | <div class="getname"><?php echo stripslashes($m\_name) . stripslashes($m\_label); ?></div> |
| [1397](#L1397) | <span class="change-name-modifier" style="display: none;"> |
| [1398](#L1398) | <input style="width: 80%" type="text" value="<?php echo stripslashes($m\_name);?>" class="nameGGroup" id="newName\_<?php echo $value->uuid; ?>"> |
| [1399](#L1399) | <a href="#" onclick="validerChangeNameModifier(event,'<?php echo $value->uuid; ?>')"> <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/valider.png"; ?>" style="width: 18px;vertical-align: middle;"></a> |
| [1400](#L1400) | <a href="#" onclick="annulerChangeNameModifier(event,'<?php echo $value->uuid; ?>')"> <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/annuler.png"; ?>" style="width: 18px;vertical-align: middle;"></a> |
| [1401](#L1401) | </span> |
| [1402](#L1402) | </span> |
| [1403](#L1403) | </div> |
| [1404](#L1404) | <div class="moo-col-sm-4" style="text-align: right"> |
| [1405](#L1405) | <div class="soo-onoffswitch show\_group" onchange="MooChangeM\_Status('<?php echo $value->uuid; ?>')" title="Show/Hide this Modifier"> |
| [1406](#L1406) | <input type="checkbox" name="onoffswitch[]" class="soo-onoffswitch-checkbox" id="myonoffswitch\_<?php echo $value->uuid; ?>" <?php echo ($value->show\_by\_default === '1')?'checked':''; ?> /> |
| [1407](#L1407) | <label class="soo-onoffswitch-label" for="myonoffswitch\_<?php echo $value->uuid; ?>"> |
| [1408](#L1408) | <span class="soo-onoffswitch-inner"></span> |
| [1409](#L1409) | <span class="soo-onoffswitch-switch"></span> |
| [1410](#L1410) | </label> |
| [1411](#L1411) | </div> |
| [1412](#L1412) | <div class="edit\_modifer\_name"> |
| [1413](#L1413) | <a href="#" class="bt-eidt-GGroup" onclick="edit\_name\_GModifer(event,'<?php echo $value->uuid; ?>')"> |
| [1414](#L1414) | <span id="moo\_edit\_nameGM<?php echo $j; ?>" |
| [1415](#L1415) | data-ot="Edit the modifier name" |
| [1416](#L1416) | data-ot-target="#moo\_edit\_nameGM<?php echo $j; ?>"> |
| [1417](#L1417) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/edit.png" ?>" style="width: 24px;"> |
| [1418](#L1418) | </span> |
| [1419](#L1419) | </a> |
| [1420](#L1420) | </div> |
| [1421](#L1421) | <span class="bar-group"> |
| [1422](#L1422) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/menu.png" ?>" style="width: 18px;"> |
| [1423](#L1423) | </span> |
| [1424](#L1424) | </div> |
| [1425](#L1425) | </li> |
| [1426](#L1426) | <?php |
| [1427](#L1427) | $j++; |
| [1428](#L1428) | }//End of modifiers loop ?> |
| [1429](#L1429) | </ul> |
| [1430](#L1430) | </li> |
| [1431](#L1431) | <?php |
| [1432](#L1432) | $i++; |
| [1433](#L1433) | }//End of modifier groups loop ?> |
| [1434](#L1434) | </ul> |
| [1435](#L1435) |  |
| [1436](#L1436) | </div> |
| [1437](#L1437) | <div class="MooPanelItem"> |
| [1438](#L1438) | <form method="post" action="options.php" onsubmit="mooSaveChanges(event,this)"> |
| [1439](#L1439) | <?php |
| [1440](#L1440) | $mooOptions = (array)get\_option('moo\_settings'); |
| [1441](#L1441) | ?> |
| [1442](#L1442) | <h3>Modifier settings</h3> |
| [1443](#L1443) | <div class="Moo\_option-item"> |
| [1444](#L1444) | <div class="normal\_text"> |
| [1445](#L1445) | Display Options for modifier selection |
| [1446](#L1446) | </div> |
| [1447](#L1447) | </div> |
| [1448](#L1448) | <div class="Moo\_option-item"> |
| [1449](#L1449) | <div style="float:left; width: 100%;padding-left: 60px"> |
| [1450](#L1450) | <label style="display:block; margin-bottom:8px;"> |
| [1451](#L1451) | <input name="moo\_settings[mg\_settings\_displayInline]" id="mg\_settings\_displayInline" type="radio" value="disabled" <?php echo (isset($mooOptions["mg\_settings\_displayInline"]) && $mooOptions["mg\_settings\_displayInline"]=="disabled")?"checked":""; ?>> |
| [1452](#L1452) | Pop-Up window |
| [1453](#L1453) | </label> |
| [1454](#L1454) | <label style="display:block; margin-bottom:8px;"> |
| [1455](#L1455) | <input name="moo\_settings[mg\_settings\_displayInline]" id="mg\_settings\_displayInline" type="radio" value="enabled" <?php echo (isset($mooOptions["mg\_settings\_displayInline"]) && $mooOptions["mg\_settings\_displayInline"]=="enabled")?"checked":""; ?> > |
| [1456](#L1456) | Underneath item name |
| [1457](#L1457) | </label> |
| [1458](#L1458) | </div> |
| [1459](#L1459) | </div> |
| [1460](#L1460) | <div class="Moo\_option-item"> |
| [1461](#L1461) | <div class="normal\_text"> |
| [1462](#L1462) | Allow customers to choose modifier quantity for all modifiers. |
| [1463](#L1463) | </div> |
| [1464](#L1464) | </div> |
| [1465](#L1465) | <div class="Moo\_option-item"> |
| [1466](#L1466) | <div style="float:left; width: 100%;padding-left: 60px"> |
| [1467](#L1467) | <label style="display:block; margin-bottom:8px;"> |
| [1468](#L1468) | <input name="moo\_settings[mg\_settings\_qty\_for\_all]" id="mg\_settings\_qty\_for\_all" type="radio" value="disabled" <?php echo (isset($mooOptions["mg\_settings\_qty\_for\_all"]) && $mooOptions["mg\_settings\_qty\_for\_all"]!="enabled")?"checked":""; ?>> |
| [1469](#L1469) | No |
| [1470](#L1470) | </label> |
| [1471](#L1471) | <label style="display:block; margin-bottom:8px;"> |
| [1472](#L1472) | <input name="moo\_settings[mg\_settings\_qty\_for\_all]" id="mg\_settings\_qty\_for\_all" type="radio" value="enabled" <?php echo (isset($mooOptions["mg\_settings\_qty\_for\_all"]) && $mooOptions["mg\_settings\_qty\_for\_all"]=="enabled")?"checked":""; ?>> |
| [1473](#L1473) | Yes |
| [1474](#L1474) | </label> |
| [1475](#L1475) | </div> |
| [1476](#L1476) | </div> |
| [1477](#L1477) | <div class="Moo\_option-item"> |
| [1478](#L1478) | <div class="normal\_text"> |
| [1479](#L1479) | Allow customers to choose modifier quantity when modifier is free or $0.00. |
| [1480](#L1480) | </div> |
| [1481](#L1481) | </div> |
| [1482](#L1482) | <div class="Moo\_option-item"> |
| [1483](#L1483) | <div style="float:left; width: 100%;padding-left: 60px"> |
| [1484](#L1484) | <label style="display:block; margin-bottom:8px;"> |
| [1485](#L1485) | <input name="moo\_settings[mg\_settings\_qty\_for\_zeroPrice]" id="mg\_settings\_qty\_for\_all" type="radio" value="disabled" <?php echo (isset($mooOptions["mg\_settings\_qty\_for\_zeroPrice"]) && $mooOptions["mg\_settings\_qty\_for\_zeroPrice"]!="enabled")?"checked":""; ?>> |
| [1486](#L1486) | No |
| [1487](#L1487) | </label> |
| [1488](#L1488) | <label style="display:block; margin-bottom:8px;"> |
| [1489](#L1489) | <input name="moo\_settings[mg\_settings\_qty\_for\_zeroPrice]" id="mg\_settings\_qty\_for\_all" type="radio" value="enabled" <?php echo (isset($mooOptions["mg\_settings\_qty\_for\_zeroPrice"]) && $mooOptions["mg\_settings\_qty\_for\_zeroPrice"]=="enabled")?"checked":""; ?>> |
| [1490](#L1490) | Yes |
| [1491](#L1491) | </label> |
| [1492](#L1492) | </div> |
| [1493](#L1493) | </div> |
| [1494](#L1494) | <div class="Moo\_option-item"> |
| [1495](#L1495) | <div class="normal\_text"> |
| [1496](#L1496) | Show modifier display as a minimized version |
| [1497](#L1497) | </div> |
| [1498](#L1498) | </div> |
| [1499](#L1499) | <div class="Moo\_option-item"> |
| [1500](#L1500) | <div style="float:left; width: 100%;padding-left: 60px"> |
| [1501](#L1501) | <label style="display:block; margin-bottom:8px;"> |
| [1502](#L1502) | <input name="moo\_settings[mg\_settings\_minimized]" id="mg\_settings\_minimized" type="radio" value="disabled" <?php echo (isset($mooOptions["mg\_settings\_minimized"]) && $mooOptions["mg\_settings\_minimized"] !== "enabled")?"checked":""; ?>> |
| [1503](#L1503) | No |
| [1504](#L1504) | </label> |
| [1505](#L1505) | <label style="display:block; margin-bottom:8px;"> |
| [1506](#L1506) | <input name="moo\_settings[mg\_settings\_minimized]" id="mg\_settings\_minimized" type="radio" value="enabled" <?php echo (isset($mooOptions["mg\_settings\_minimized"]) && $mooOptions["mg\_settings\_minimized"] === "enabled")?"checked":""; ?>> |
| [1507](#L1507) | Yes |
| [1508](#L1508) | </label> |
| [1509](#L1509) | </div> |
| [1510](#L1510) | </div> |
| [1511](#L1511) | <div class="Moo\_option-item"> |
| [1512](#L1512) | <div class="normal\_text"> |
| [1513](#L1513) | Customize the modifiers pop-up colors |
| [1514](#L1514) | </div> |
| [1515](#L1515) | </div> |
| [1516](#L1516) | <div class="Moo\_option-item"> |
| [1517](#L1517) | <div class="iwl\_holder"> |
| [1518](#L1518) | <div class="iwl\_label\_holder"> |
| [1519](#L1519) | <label id="MooModifiersSettingsPrimaryColor" >Primary Color</label> |
| [1520](#L1520) | </div> |
| [1521](#L1521) | <div class="iwl\_input\_holder"> |
| [1522](#L1522) | <input name="moo\_settings[mg\_settings\_primary\_color]" id="MooModifiersSettingsPrimaryColor" type="text" value="<?php echo (!empty($mooOptions["mg\_settings\_primary\_color"]))?$mooOptions["mg\_settings\_primary\_color"]:"#0097e6"; ?>" /> |
| [1523](#L1523) | </div> |
| [1524](#L1524) | </div> |
| [1525](#L1525) | <div class="iwl\_holder"> |
| [1526](#L1526) | <div class="iwl\_label\_holder"> |
| [1527](#L1527) | <label id="MooModifiersSettingsSecondaryColor" >Secondary Color</label> |
| [1528](#L1528) | </div> |
| [1529](#L1529) | <div class="iwl\_input\_holder"> |
| [1530](#L1530) | <input name="moo\_settings[mg\_settings\_secondary\_color]" id="MooModifiersSettingsSecondaryColor" type="text" value="<?php echo (!empty($mooOptions["mg\_settings\_secondary\_color"]))?$mooOptions["mg\_settings\_secondary\_color"]:"#fff"; ?>" /> |
| [1531](#L1531) | </div> |
| [1532](#L1532) | </div> |
| [1533](#L1533) | </div> |
| [1534](#L1534) | <!-- Save Changes button --> |
| [1535](#L1535) | <div style="text-align: center; margin: 20px;"> |
| [1536](#L1536) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes"> |
| [1537](#L1537) | </div> |
| [1538](#L1538) | </form> |
| [1539](#L1539) | </div> |
| [1540](#L1540) | <?php } ?> |
| [1541](#L1541) | </div> |
| [1542](#L1542) | <!-- Checkout settings --> |
| [1543](#L1543) | <div id="MooPanel\_tabContent7"> |
| [1544](#L1544) | <span class="moo\_collaps\_all" onclick="expandAllSections(this)">[ Collapse All ]</span> |
| [1545](#L1545) | <h2>Checkout Settings</h2> |
| [1546](#L1546) | <hr> |
| [1547](#L1547) | <form name="mooCheckoutSettings" method="post" action="options.php" onsubmit="mooSaveChanges(event,this)"> |
| [1548](#L1548) | <?php |
| [1549](#L1549) | $mooOptions = (array)get\_option('moo\_settings'); |
| [1550](#L1550) | ?> |
| [1551](#L1551) | <!-- Additional payment options section --> |
| [1552](#L1552) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1553](#L1553) | <h3 onclick="expandSection(this)">Payment options</h3> |
| [1554](#L1554) | <div class="Moo\_option-item"> |
| [1555](#L1555) | <div class="normal\_text"> |
| [1556](#L1556) | You must enable at least one payment option. You can choose  Pay Online, Pay at location, Pay Upon Delivery, or all three. Hint : Don't forget to press "save changes" |
| [1557](#L1557) | </div> |
| [1558](#L1558) | </div> |
| [1559](#L1559) | <div class="Moo\_option-item"> |
| [1560](#L1560) | <div style="margin-bottom: 14px;" class="label">Pay Online With Credit Card</div> |
| [1561](#L1561) | <div class="moo-onoffswitch"  title="Secure checkout page" style="margin-top: 15px;"> |
| [1562](#L1562) | <input type="hidden" name="moo\_settings[clover\_payment\_form]" value="off"> |
| [1563](#L1563) | <input type="checkbox" name="moo\_settings[clover\_payment\_form]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_clover\_payment\_form" <?php echo (isset($mooOptions['clover\_payment\_form']) && $mooOptions['clover\_payment\_form'] == 'on')?'checked':''?>> |
| [1564](#L1564) | <label class="moo-onoffswitch-label" for="myonoffswitch\_clover\_payment\_form"><span class="moo-onoffswitch-inner"></span> |
| [1565](#L1565) | <span class="moo-onoffswitch-switch"></span> |
| [1566](#L1566) | </label> |
| [1567](#L1567) | </div> |
| [1568](#L1568) | <span id="moo\_info\_msg-21" class="moo-info-msg" |
| [1569](#L1569) | data-ot="Use a form secured by Clover (iframe Hosted by Clover)" |
| [1570](#L1570) | data-ot-target="#moo\_info\_msg-21"> |
| [1571](#L1571) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1572](#L1572) | </span> |
| [1573](#L1573) | </div> |
| [1574](#L1574) | <div class="Moo\_option-item"> |
| [1575](#L1575) | <div style="margin-bottom: 14px;" class="label">Pay at location</div> |
| [1576](#L1576) | <div class="moo-onoffswitch"  title="Pay at location"> |
| [1577](#L1577) | <input type="hidden" name="moo\_settings[payment\_cash]" value="off"> |
| [1578](#L1578) | <input type="checkbox" name="moo\_settings[payment\_cash]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_payment\_cash" <?php echo (isset($mooOptions['payment\_cash']) && $mooOptions['payment\_cash'] == 'on')?'checked':''?>> |
| [1579](#L1579) | <label class="moo-onoffswitch-label" for="myonoffswitch\_payment\_cash"><span class="moo-onoffswitch-inner"></span> |
| [1580](#L1580) | <span class="moo-onoffswitch-switch"></span> |
| [1581](#L1581) | </label> |
| [1582](#L1582) | </div> |
| [1583](#L1583) | <span id="moo\_info\_msg-22" class="moo-info-msg" |
| [1584](#L1584) | data-ot="Allow customer to order online and then pay at store" |
| [1585](#L1585) | data-ot-target="#moo\_info\_msg-22"> |
| [1586](#L1586) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1587](#L1587) | </span> |
| [1588](#L1588) | </div> |
| [1589](#L1589) | <div class="Moo\_option-item"> |
| [1590](#L1590) | <div style="margin-bottom: 14px;" class="label">Pay upon delivery</div> |
| [1591](#L1591) | <div class="moo-onoffswitch"  title="Pay upon delivery"> |
| [1592](#L1592) | <input type="hidden" name="moo\_settings[payment\_cash\_delivery]" value="off"> |
| [1593](#L1593) | <input type="checkbox" name="moo\_settings[payment\_cash\_delivery]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_payment\_cash\_delivery" <?php echo (isset($mooOptions['payment\_cash\_delivery']) && $mooOptions['payment\_cash\_delivery'] == 'on')?'checked':''?>> |
| [1594](#L1594) | <label class="moo-onoffswitch-label" for="myonoffswitch\_payment\_cash\_delivery"><span class="moo-onoffswitch-inner"></span> |
| [1595](#L1595) | <span class="moo-onoffswitch-switch"></span> |
| [1596](#L1596) | </label> |
| [1597](#L1597) | </div> |
| [1598](#L1598) | <span id="moo\_info\_msg-23" class="moo-info-msg" |
| [1599](#L1599) | data-ot="Allow customer to order online and then pay upon delivery, If you are not offering delivery Orders then this setting won't affect you" |
| [1600](#L1600) | data-ot-target="#moo\_info\_msg-23"> |
| [1601](#L1601) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1602](#L1602) | </span> |
| [1603](#L1603) | </div> |
| [1604](#L1604) | <div id="sooAdditionalPaymentMethods" style="display: <?php echo get\_option('moo\_new\_checkout\_enabled') === 'yes' ? 'block':'none'; ?>"> |
| [1605](#L1605) | <div class="Moo\_option-item" style="display:<?php echo (!empty(SOO\_ACCEPT\_GIFTCARDS))?"block":"none"; ?>"> |
| [1606](#L1606) | <div style="margin-bottom: 14px;" class="label">Accept Clover Gift Cards</div> |
| [1607](#L1607) | <div class="moo-onoffswitch"  title="Accept Clover Gift Cards"> |
| [1608](#L1608) | <input type="hidden" name="moo\_settings[clover\_giftcards]" value="off"> |
| [1609](#L1609) | <input type="checkbox" name="moo\_settings[clover\_giftcards]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_payment\_clover\_giftcards" <?php echo (isset($mooOptions['clover\_giftcards']) && $mooOptions['clover\_giftcards'] == 'on' ) ? 'checked':''?>> |
| [1610](#L1610) | <label class="moo-onoffswitch-label" for="myonoffswitch\_payment\_clover\_giftcards"><span class="moo-onoffswitch-inner"></span> |
| [1611](#L1611) | <span class="moo-onoffswitch-switch"></span> |
| [1612](#L1612) | </label> |
| [1613](#L1613) | </div> |
| [1614](#L1614) | <span id="moo\_info\_msg-24" class="moo-info-msg" |
| [1615](#L1615) | data-ot="Allow customer to pay using Clover Gift Cards" |
| [1616](#L1616) | data-ot-target="#moo\_info\_msg-24"> |
| [1617](#L1617) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1618](#L1618) | </span> |
| [1619](#L1619) | </div> |
| [1620](#L1620) | <div class="Moo\_option-item"> |
| [1621](#L1621) | <div style="margin-bottom: 14px;" class="label">Google Pay</div> |
| [1622](#L1622) | <div class="moo-onoffswitch"  title="Accept Google Pay"> |
| [1623](#L1623) | <input type="hidden" name="moo\_settings[clover\_googlepay]" value="off"> |
| [1624](#L1624) | <input type="checkbox" name="moo\_settings[clover\_googlepay]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_payment\_clover\_googlepay" <?php echo (isset($mooOptions['clover\_googlepay']) && $mooOptions['clover\_googlepay'] == 'on' ) ? 'checked':''?>> |
| [1625](#L1625) | <label class="moo-onoffswitch-label" for="myonoffswitch\_payment\_clover\_googlepay"><span class="moo-onoffswitch-inner"></span> |
| [1626](#L1626) | <span class="moo-onoffswitch-switch"></span> |
| [1627](#L1627) | </label> |
| [1628](#L1628) | </div> |
| [1629](#L1629) | <span id="moo\_info\_msg-25" class="moo-info-msg" |
| [1630](#L1630) | data-ot="Allow customer to pay using cards saved on Google" |
| [1631](#L1631) | data-ot-target="#moo\_info\_msg-25"> |
| [1632](#L1632) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1633](#L1633) | </span> |
| [1634](#L1634) | </div> |
| [1635](#L1635) | </div> |
| [1636](#L1636) | <input type="hidden" name="moo\_settings[scp]" value="off"> |
| [1637](#L1637) | <input type="hidden" name="moo\_settings[payment\_creditcard]" value="off"> |
| [1638](#L1638) |  |
| [1639](#L1639) | </div> |
| [1640](#L1640) | <!-- Checkout login Section --> |
| [1641](#L1641) | <div class="MooPanelItem"> |
| [1642](#L1642) | <h3 onclick="expandSection(this)">Social Login</h3> |
| [1643](#L1643) | <div class="moo\_login2checkout" style="display:block"> |
| [1644](#L1644) | <div class="Moo\_option-item " > |
| [1645](#L1645) | <div class="normal\_text"> |
| [1646](#L1646) | <h4> Facebook </h4> |
| [1647](#L1647) | To add Facebook login during checkout, please create an app then enter the app id here (for example 244779189290302). For more information please visit: https://developers.facebook.com/docs/apps/register |
| [1648](#L1648) | </div> |
| [1649](#L1649) | </div> |
| [1650](#L1650) | <div class="Moo\_option-item"> |
| [1651](#L1651) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooFbAppID" >Your APP ID</label></div> |
| [1652](#L1652) | <div class="iwl\_input\_holder"><input name="moo\_settings[fb\_appid]" id="MooFbAppID" type="text" value="<?php echo $mooOptions['fb\_appid']?>" /></div> |
| [1653](#L1653) | </div> |
| [1654](#L1654) | </div> |
| [1655](#L1655) | <div class="Moo\_option-item"> |
| [1656](#L1656) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooFbAppSecret" >Your APP Secret</label></div> |
| [1657](#L1657) | <div class="iwl\_input\_holder"><input name="moo\_settings[fb\_appsecret]" id="MooFbAppSecret" type="text" value="<?php echo (isset($mooOptions['fb\_appsecret'])) ? $mooOptions['fb\_appsecret'] : ''; ?>" /></div> |
| [1658](#L1658) | </div> |
| [1659](#L1659) | </div> |
| [1660](#L1660) | </div> |
| [1661](#L1661) |  |
| [1662](#L1662) | </div> |
| [1663](#L1663) |  |
| [1664](#L1664) | <!-- Google recaptcha --> |
| [1665](#L1665) | <div id="sooGoogleReCAPTCHA" class="MooPanelItem" style="display: none"> |
| [1666](#L1666) | <?php if(!empty(SOO\_DEFAULT\_CDN)){?> |
| [1667](#L1667) | <h4 style="color: gray">Google reCAPTCHA v3 : ( Enabled by default on Smartonlineorder.com Subdomains )</h4> |
| [1668](#L1668) | <div class="sooReCaptchaSection"></div> |
| [1669](#L1669) | <?php } else {?> |
| [1670](#L1670) | <h3 onclick="expandSection(this)">Google reCAPTCHA v3</h3> |
| [1671](#L1671) | <div class="sooReCaptchaSection"> |
| [1672](#L1672) | <div class="Moo\_option-item"> |
| [1673](#L1673) | <div class="normal\_text"> |
| [1674](#L1674) | reCAPTCHA is a free service that protects your site from spam and abuse. It uses advanced risk analysis techniques to tell humans and bots apart. |
| [1675](#L1675) | It helps you detect abusive traffic on your checkout page. To start using reCAPTCHA you need to <a href="http://www.google.com/recaptcha/admin" target="\_blank">sign up for an API key pair for your site.</a> |
| [1676](#L1676) | </div> |
| [1677](#L1677) | <div class="iwl\_holder" style="margin-top: 10px"><div class="iwl\_label\_holder"><label id="reCAPTCHA\_site\_key" >Site Key</label></div> |
| [1678](#L1678) | <div class="iwl\_input\_holder"> |
| [1679](#L1679) | <input name="moo\_settings[reCAPTCHA\_site\_key]" id="reCAPTCHA\_site\_key" type="text" value="<?php echo (!empty($mooOptions['reCAPTCHA\_site\_key']))?$mooOptions['reCAPTCHA\_site\_key']:''; ?>" /> |
| [1680](#L1680) | </div> |
| [1681](#L1681) | </div> |
| [1682](#L1682) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="reCAPTCHA\_secret\_key" >Secret Key</label></div> |
| [1683](#L1683) | <div class="iwl\_input\_holder"> |
| [1684](#L1684) | <input name="moo\_settings[reCAPTCHA\_secret\_key]" id="reCAPTCHA\_secret\_key" type="text" value="<?php echo (!empty($mooOptions['reCAPTCHA\_secret\_key']))?$mooOptions['reCAPTCHA\_site\_key']:''; ?>" /> |
| [1685](#L1685) | </div> |
| [1686](#L1686) | </div> |
| [1687](#L1687) | </div> |
| [1688](#L1688) | </div> |
| [1689](#L1689) | <?php }?> |
| [1690](#L1690) |  |
| [1691](#L1691) | </div> |
| [1692](#L1692) |  |
| [1693](#L1693) | <!-- Coupon section --> |
| [1694](#L1694) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1695](#L1695) | <h3 onclick="expandSection(this)">Coupons</h3> |
| [1696](#L1696) | <div class="Moo\_option-item" > |
| [1697](#L1697) | <div class="normal\_text"> |
| [1698](#L1698) | To add coupon codes, select Clover orders then coupons. |
| [1699](#L1699) | </div> |
| [1700](#L1700) | </div> |
| [1701](#L1701) | <div class="Moo\_option-item"> |
| [1702](#L1702) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [1703](#L1703) | <label style="display:block; margin-bottom:8px;"> |
| [1704](#L1704) | <input name="moo\_settings[use\_coupons]" id="Moouse\_coupons" type="radio" value="disabled" <?php echo ($mooOptions["use\_coupons"]!="enabled")?"checked":""; ?> onclick="moo\_couponsStatusClicked(false)"> |
| [1705](#L1705) | Disabled |
| [1706](#L1706) | </label> |
| [1707](#L1707) | <label style="display:block; margin-bottom:8px;"> |
| [1708](#L1708) | <input name="moo\_settings[use\_coupons]" id="Moouse\_coupons" type="radio" value="enabled" <?php echo ($mooOptions["use\_coupons"]=="enabled")?"checked":""; ?> onclick="moo\_couponsStatusClicked(true)"> |
| [1709](#L1709) | Enabled |
| [1710](#L1710) | </label> |
| [1711](#L1711) | <!--                                    <div class="Moo\_option-item" id="moo\_use\_couponsapp" style="display:<?php /\*echo ($mooOptions["use\_coupons"]=="enabled")?"block":"none"; \*/?>"> |
| [1712](#L1712) | <div style="margin-bottom: 14px;" class="label">Accept coupons created via Perfect Coupons app by Zaytech</div> |
| [1713](#L1713) | <div class="moo-onoffswitch"  title="Use Coupons app"> |
| [1714](#L1714) | <input type="hidden" name="moo\_settings[use\_couponsApp]" value="off"> |
| [1715](#L1715) | <input type="checkbox" name="moo\_settings[use\_couponsApp]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_use\_couponsApp" <?php /\*echo (isset($mooOptions['use\_couponsApp']) && $mooOptions['use\_couponsApp'] == 'on')?'checked':''\*/?>> |
| [1716](#L1716) | <label class="moo-onoffswitch-label" for="myonoffswitch\_use\_couponsApp"><span class="moo-onoffswitch-inner"></span> |
| [1717](#L1717) | <span class="moo-onoffswitch-switch"></span> |
| [1718](#L1718) | </label> |
| [1719](#L1719) | </div> |
| [1720](#L1720) | <span id="moo\_info\_msg\_coupons-0" class="moo-info-msg" |
| [1721](#L1721) | data-ot="A coupon promotion can dramatically increase awareness of your Online Ordering. Go to the Clover App Market and install “Perfect Coupons” by Zaytech. It will allow you to print Coupons from your Clover POS and then have it redeemed " |
| [1722](#L1722) | data-ot-target="#moo\_info\_msg\_coupons-0"> |
| [1723](#L1723) | <img src="<?php /\*echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" \*/?>" alt=""> |
| [1724](#L1724) | </span> |
| [1725](#L1725) | </div>--> |
| [1726](#L1726) | </div> |
| [1727](#L1727) | </div> |
| [1728](#L1728) | </div> |
| [1729](#L1729) | <!-- Service fees --> |
| [1730](#L1730) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1731](#L1731) | <h3 onclick="expandSection(this)">Service Fees</h3> |
| [1732](#L1732) | <div class="Moo\_option-item" > |
| [1733](#L1733) | <div class="normal\_text"> |
| [1734](#L1734) | You can set a service charge which will be applied to all orders. Service fees wil be added to subtotal |
| [1735](#L1735) | </div> |
| [1736](#L1736) | </div> |
| [1737](#L1737) | <div class="Moo\_option-item"> |
| [1738](#L1738) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooServiceFeesname" >Service charge name, Example: Service Fee, Convenience Charges, Catering FEE</label></div> |
| [1739](#L1739) | <div class="iwl\_input\_holder"><input name="moo\_settings[service\_fees\_name]" id="MooServiceFeesName" type="text" value="<?php echo $mooOptions['service\_fees\_name']?>" /></div> |
| [1740](#L1740) | </div> |
| [1741](#L1741) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooServiceFees" >Fees to be charged, Examples: For amount, enter 5.00 then select "Amount". For percent, enter 5, then select "Percent"</label></div> |
| [1742](#L1742) | <div class="iwl\_input\_holder"><input name="moo\_settings[service\_fees]" id="MooServiceFees" type="text" value="<?php echo $mooOptions['service\_fees']?>" placeholder="0.00" /></div> |
| [1743](#L1743) | Type : |
| [1744](#L1744) | <label style="margin-right:8px;"> |
| [1745](#L1745) | <input name="moo\_settings[service\_fees\_type]" id="MooServiceFeesType" type="radio" value="amount" <?php echo ($mooOptions["service\_fees\_type"]=="amount")?"checked":""; ?> > |
| [1746](#L1746) | Amount |
| [1747](#L1747) | </label> |
| [1748](#L1748) | <label style="margin-right:8px;"> |
| [1749](#L1749) | <input name="moo\_settings[service\_fees\_type]" id="MooServiceFeestype" type="radio" value="percent" <?php echo ($mooOptions["service\_fees\_type"]=="percent")?"checked":""; ?> > |
| [1750](#L1750) | Percent |
| [1751](#L1751) | </label> |
| [1752](#L1752) | </div> |
| [1753](#L1753) | </div> |
| [1754](#L1754) | </div> |
| [1755](#L1755) | <!-- Tips section --> |
| [1756](#L1756) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1757](#L1757) | <h3 onclick="expandSection(this)">Tips</h3> |
| [1758](#L1758) |  |
| [1759](#L1759) | <div class="Moo\_option-item" > |
| [1760](#L1760) | <div class="normal\_text"> |
| [1761](#L1761) | To use Tips on your website you must enabled them on Clover settings first |
| [1762](#L1762) | </div> |
| [1763](#L1763) | </div> |
| [1764](#L1764) | <div class="Moo\_option-item"> |
| [1765](#L1765) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [1766](#L1766) | <label style="display:block; margin-bottom:8px;"> |
| [1767](#L1767) | <input name="moo\_settings[tips]" id="MooTips" type="radio" value="disabled" <?php echo ($mooOptions["tips"]!="enabled")?"checked":""; ?> onclick ='moo\_click\_on\_textUnderTips(false)' > |
| [1768](#L1768) | Disabled |
| [1769](#L1769) | </label> |
| [1770](#L1770) | <label style="display:block; margin-bottom:8px;"> |
| [1771](#L1771) | <input name="moo\_settings[tips]" id="MooTips" type="radio" value="enabled" <?php echo ($mooOptions["tips"]=="enabled")?"checked":""; ?> onclick ='moo\_click\_on\_textUnderTips(true)' > |
| [1772](#L1772) | Enabled |
| [1773](#L1773) | </label> |
| [1774](#L1774) | </div> |
| [1775](#L1775) | <div class="Moo\_option-item moo\_textUnderTips" style="display:<?php echo ($mooOptions["tips"]=="enabled")?"block":"none"; ?>"> |
| [1776](#L1776) | <div class="iwl\_holder"> |
| [1777](#L1777) | <div class="iwl\_label\_holder"> |
| [1778](#L1778) | <label for="MooTipsSelections" > |
| [1779](#L1779) | Tip selection: Use ‘comma’ to separate the tip amounts. For Example: 5,10,15,20 |
| [1780](#L1780) | </label> |
| [1781](#L1781) | </div> |
| [1782](#L1782) | <div class="iwl\_input\_holder"> |
| [1783](#L1783) | <input name="moo\_settings[tips\_selection]" id="MooTipsSelections" type="text" value="<?php echo (isset($mooOptions['tips\_selection']))?$mooOptions['tips\_selection']:"10,15,20,25"?>" onchange="moo\_createDefaultTipChooserSection()" /> |
| [1784](#L1784) | </div> |
| [1785](#L1785) | </div> |
| [1786](#L1786) | <div class="iwl\_holder"> |
| [1787](#L1787) | <div class="iwl\_label\_holder"> |
| [1788](#L1788) | <label for="MooTipsDefault" > |
| [1789](#L1789) | Default tip amount |
| [1790](#L1790) | </label> |
| [1791](#L1791) | </div> |
| [1792](#L1792) | <div class="iwl\_input\_holder"> |
| [1793](#L1793) | <select name="moo\_settings[tips\_default]" id="MooTipsDefault" style="width: 100%;"> |
| [1794](#L1794) | <option value="">No Default Tip</option> |
| [1795](#L1795) | <?php |
| [1796](#L1796) | if($mooOptions['tips\_selection'] !== ""){ |
| [1797](#L1797) | $tipsValues = explode(",", $mooOptions['tips\_selection']); |
| [1798](#L1798) | } else { |
| [1799](#L1799) | $tipsValues = array(10,15,20,25); |
| [1800](#L1800) | } |
| [1801](#L1801) | foreach ($tipsValues as $key=>$value){ |
| [1802](#L1802) | if(floatval(trim($value)) === floatval($mooOptions['tips\_default']))  { |
| [1803](#L1803) | echo '<option value="'.floatval(trim($value)).'" selected>'. floatval(trim($value)) .'%</option>'; |
| [1804](#L1804) | } else { |
| [1805](#L1805) | echo '<option value="'.floatval(trim($value)).'">'. floatval(trim($value)) .'%</option>'; |
| [1806](#L1806) | } |
| [1807](#L1807) | } ?> |
| [1808](#L1808) | </select> |
| [1809](#L1809) | <?php ?> |
| [1810](#L1810) | </div> |
| [1811](#L1811) | </div> |
| [1812](#L1812) | </div> |
| [1813](#L1813) | </div> |
| [1814](#L1814) |  |
| [1815](#L1815) | </div> |
| [1816](#L1816) | <!-- SMS verification section --> |
| [1817](#L1817) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1818](#L1818) | <h3 onclick="expandSection(this)">Verify with SMS</h3> |
| [1819](#L1819) | <div class="Moo\_option-item" > |
| [1820](#L1820) | <div class="normal\_text"> |
| [1821](#L1821) | Require customers to verify their phone number with text message when not paying with credit card in advance |
| [1822](#L1822) | </div> |
| [1823](#L1823) | </div> |
| [1824](#L1824) | <div class="Moo\_option-item"> |
| [1825](#L1825) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [1826](#L1826) | <label style="display:block; margin-bottom:8px;"> |
| [1827](#L1827) | <input name="moo\_settings[use\_sms\_verification]" id="MooSMSVerification" type="radio" value="disabled" <?php echo ($mooOptions["use\_sms\_verification"]!="enabled")?"checked":""; ?> > |
| [1828](#L1828) | Disabled |
| [1829](#L1829) | <span id="moo\_info\_msg\_MooSMSVerification" class="moo-info-msg" |
| [1830](#L1830) | data-ot="Not recommended as you may get orders where customers may not show up - By disabling you are increasing the risk of no-shows" |
| [1831](#L1831) | data-ot-target="#moo\_info\_msg\_MooSMSVerification"> |
| [1832](#L1832) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [1833](#L1833) | </span> |
| [1834](#L1834) | </label> |
| [1835](#L1835) | <label style="display:block; margin-bottom:8px;"> |
| [1836](#L1836) | <input name="moo\_settings[use\_sms\_verification]" id="MooSMSVerification" type="radio" value="enabled" <?php echo ($mooOptions["use\_sms\_verification"]=="enabled")?"checked":""; ?> > |
| [1837](#L1837) | Enabled |
| [1838](#L1838) | </label> |
| [1839](#L1839) | </div> |
| [1840](#L1840) | </div> |
| [1841](#L1841) | </div> |
| [1842](#L1842) | <!-- Special Instruction --> |
| [1843](#L1843) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1844](#L1844) | <h3 onclick="expandSection(this)">Special instructions </h3> |
| [1845](#L1845) | <div class="Moo\_option-item" > |
| [1846](#L1846) | <div class="normal\_text"> |
| [1847](#L1847) | Allow customers to leave special instructions on the checkout page |
| [1848](#L1848) | </div> |
| [1849](#L1849) | </div> |
| [1850](#L1850) | <div class="Moo\_option-item"> |
| [1851](#L1851) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [1852](#L1852) | <label style="display:block; margin-bottom:8px;"> |
| [1853](#L1853) | <input name="moo\_settings[use\_special\_instructions]" id="MooUse\_special\_instructions" type="radio" value="disabled" <?php echo ($mooOptions["use\_special\_instructions"]!="enabled")?"checked":""; ?> onclick ='moo\_click\_on\_textUnderSI(false)'> |
| [1854](#L1854) | Disabled |
| [1855](#L1855) | </label> |
| [1856](#L1856) | <label style="display:block; margin-bottom:8px;"> |
| [1857](#L1857) | <input name="moo\_settings[use\_special\_instructions]" id="MooUse\_special\_instructions" type="radio" value="enabled" <?php echo ($mooOptions["use\_special\_instructions"]=="enabled")?"checked":""; ?> onclick ='moo\_click\_on\_textUnderSI(true)'> |
| [1858](#L1858) | Enabled |
| [1859](#L1859) | </label> |
| [1860](#L1860) | </div> |
| [1861](#L1861) | <div class="moo\_textUnderSI" style="display:<?php echo ($mooOptions["use\_special\_instructions"]=="enabled")?"block":"none"; ?>"> |
| [1862](#L1862) | <div class="Moo\_option-item " > |
| [1863](#L1863) | <div class="normal\_text"> |
| [1864](#L1864) | <h4> Text under Special instructions</h4> |
| [1865](#L1865) | Custom text under Special Instructions |
| [1866](#L1866) | </div> |
| [1867](#L1867) | </div> |
| [1868](#L1868) | <div class="Moo\_option-item"> |
| [1869](#L1869) | <div class="iwl\_holder"><div class="iwl\_label\_holder"> |
| [1870](#L1870) | <label id="MooTextUnderSI" >Your text</label> |
| [1871](#L1871) | </div> |
| [1872](#L1872) | <div class="iwl\_input\_holder"><input name="moo\_settings[text\_under\_special\_instructions]" id="MooTextUnderSI" type="text" value="<?php echo $mooOptions['text\_under\_special\_instructions']?>" /></div> |
| [1873](#L1873) | </div> |
| [1874](#L1874) | </div> |
| [1875](#L1875) | <div class="Moo\_option-item"> |
| [1876](#L1876) | <div class="iwl\_holder"><div class="iwl\_label\_holder"> |
| [1877](#L1877) | <div> |
| [1878](#L1878) | <div style="margin-bottom: 14px; margin-top: 2px;display: inline"> Make Special Instructions Required :</div> |
| [1879](#L1879) | <select name="moo\_settings[special\_instructions\_required]"> |
| [1880](#L1880) | <option value="yes" <?php echo (isset($mooOptions['special\_instructions\_required']) && $mooOptions['special\_instructions\_required'] ==='yes')?"selected":"" ?>>Yes</option> |
| [1881](#L1881) | <option value="no" <?php echo (!isset($mooOptions['special\_instructions\_required']) || $mooOptions['special\_instructions\_required'] ==='no')?"selected":"" ?>>No</option> |
| [1882](#L1882) | </select> |
| [1883](#L1883) | </div> |
| [1884](#L1884) | </div> |
| [1885](#L1885) | </div> |
| [1886](#L1886) | </div> |
| [1887](#L1887) | </div> |
| [1888](#L1888) | </div> |
| [1889](#L1889) |  |
| [1890](#L1890) | </div> |
| [1891](#L1891) | <!-- Thank you  page --> |
| [1892](#L1892) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1893](#L1893) | <h3 onclick="expandSection(this)">Thank you page</h3> |
| [1894](#L1894) | <div class="Moo\_option-item" > |
| [1895](#L1895) | <div class="normal\_text"> |
| [1896](#L1896) | To change the page that appears when the customer confirms his order. Please choose one from your pages or enter its URL here or leave it blank to display the default page. |
| [1897](#L1897) | <span style="color: red">Recommended to leave blank. When entering URL, it must include https://</span> |
| [1898](#L1898) | </div> |
| [1899](#L1899) | </div> |
| [1900](#L1900) | <div class="Moo\_option-item"> |
| [1901](#L1901) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Choose from your pages</label></div> |
| [1902](#L1902) | <select name="moo\_settings[thanks\_page\_wp]" style="width: 100%;max-width: 100%;"> |
| [1903](#L1903) | <?php |
| [1904](#L1904) | echo '<option value="">Default Page</option>'; |
| [1905](#L1905) | foreach ( $all\_pages as $page ) { |
| [1906](#L1906) | $option = '<option value="' .$page->ID. '"'; |
| [1907](#L1907) | if($page->ID==$mooOptions['thanks\_page\_wp']) |
| [1908](#L1908) | $option .= 'selected '; |
| [1909](#L1909) | $option .= '>'; |
| [1910](#L1910) | $option .= $page->post\_title; |
| [1911](#L1911) | $option .= '</option>'; |
| [1912](#L1912) | echo $option; |
| [1913](#L1913) | } |
| [1914](#L1914) | ?> |
| [1915](#L1915) | </select> |
| [1916](#L1916) | </div> |
| [1917](#L1917) | </div> |
| [1918](#L1918) | <div class="Moo\_option-item"> |
| [1919](#L1919) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Or Enter The Full URL</label></div> |
| [1920](#L1920) | <div class="iwl\_input\_holder"><input name="moo\_settings[thanks\_page]" id="MooDefaultMerchantEmail" type="text" value="<?php echo $mooOptions['thanks\_page']?>" placeholder="https://" /></div> |
| [1921](#L1921) | </div> |
| [1922](#L1922) | </div> |
| [1923](#L1923) | </div> |
| [1924](#L1924) | <!-- Save Changes button --> |
| [1925](#L1925) | <div style="text-align: center; margin: 20px;"> |
| [1926](#L1926) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes"> |
| [1927](#L1927) | <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" class="button">Cancel</a> |
| [1928](#L1928) | </div> |
| [1929](#L1929) | </form> |
| [1930](#L1930) |  |
| [1931](#L1931) | </div> |
| [1932](#L1932) | <!-- Store Settings --> |
| [1933](#L1933) | <div id="MooPanel\_tabContent8"> |
| [1934](#L1934) | <span class="moo\_collaps\_all" onclick="expandAllSections(this)">[ Collapse All ]</span> |
| [1935](#L1935) | <h2>Store Settings</h2> |
| [1936](#L1936) | <hr> |
| [1937](#L1937) | <form name="mooStoreSettings" method="post" action="options.php" onsubmit="mooSaveChanges(event,this)"> |
| [1938](#L1938) | <?php |
| [1939](#L1939) | $mooOptions = (array)get\_option('moo\_settings'); |
| [1940](#L1940) | ?> |
| [1941](#L1941) | <!-- Accept Orders section --> |
| [1942](#L1942) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1943](#L1943) | <h3 onclick="expandSection(this)">Accept Online Orders</h3> |
| [1944](#L1944) | <div class="Moo\_option-item"> |
| [1945](#L1945) | <div class="normal\_text"> |
| [1946](#L1946) | Use this to close the Order Online Page |
| [1947](#L1947) | </div> |
| [1948](#L1948) | </div> |
| [1949](#L1949) | <div class="Moo\_option-item"> |
| [1950](#L1950) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [1951](#L1951) | <label style="display:block; margin-bottom:8px;"> |
| [1952](#L1952) | <input  onclick="moo\_showHideSection('#moo-accept-orders-showhide-menu',false)" name="moo\_settings[accept\_orders]" id="MooAccept\_orders" type="radio" value="enabled" <?php echo ($mooOptions["accept\_orders"]!="disabled")?"checked":""; ?> > |
| [1953](#L1953) | Open |
| [1954](#L1954) | </label> |
| [1955](#L1955) | <label style="display:block; margin-bottom:8px;"> |
| [1956](#L1956) | <input onclick="moo\_showHideSection('#moo-accept-orders-showhide-menu',true)" name="moo\_settings[accept\_orders]" id="MooAccept\_orders" type="radio" value="disabled" <?php echo ($mooOptions["accept\_orders"]=="disabled")?"checked":""; ?> > |
| [1957](#L1957) | Closed |
| [1958](#L1958) | </label> |
| [1959](#L1959) | </div> |
| [1960](#L1960) | </div> |
| [1961](#L1961) | <div id="moo-accept-orders-showhide-menu" class="normal\_text Moo\_option-item <?php echo (isset( $mooOptions["accept\_orders"]) && $mooOptions["accept\_orders"] == "enabled")?"moo\_hidden":""; ?>"> |
| [1962](#L1962) | <div style="margin-bottom: 14px;margin-right: 23px;display: inline">Hide the menu</div> |
| [1963](#L1963) | <div class="moo-onoffswitch"  title="Show/hide the item"> |
| [1964](#L1964) | <input type="hidden" name="moo\_settings[hide\_menu\_w\_closed]" value="off"> |
| [1965](#L1965) | <input type="checkbox" name="moo\_settings[hide\_menu\_w\_closed]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_hide\_menu\_w\_closed" <?php echo (isset($mooOptions['hide\_menu\_w\_closed']) && $mooOptions['hide\_menu\_w\_closed'] == 'on')?'checked':''?>> |
| [1966](#L1966) | <label class="moo-onoffswitch-label" for="myonoffswitch\_hide\_menu\_w\_closed"><span class="moo-onoffswitch-inner"></span> |
| [1967](#L1967) | <span class="moo-onoffswitch-switch"></span> |
| [1968](#L1968) | </label> |
| [1969](#L1969) | </div> |
| [1970](#L1970) | </div> |
| [1971](#L1971) | </div> |
| [1972](#L1972) | <!-- Notifications section --> |
| [1973](#L1973) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [1974](#L1974) | <h3 onclick="expandSection(this)">Notification when an order is made</h3> |
| [1975](#L1975) | <div class="Moo\_option-item" > |
| [1976](#L1976) | <div class="normal\_text"> |
| [1977](#L1977) | We use this email to inform you when a new order has been made. If you want to use more than one Email please separate them with a comma. Example: tim@gmail.com,susan@msn.com,bob@yahoo.com |
| [1978](#L1978) | </div> |
| [1979](#L1979) | </div> |
| [1980](#L1980) | <div class="Moo\_option-item"> |
| [1981](#L1981) | <div class="iwl\_holder"> |
| [1982](#L1982) | <div class="iwl\_label\_holder"><label for="youremail">Your Email(s)</label></div> |
| [1983](#L1983) | <div class="iwl\_input\_holder"><input id="youremail" name="moo\_settings[merchant\_email]" id="MooDefaultMerchantEmail" type="text" value="<?php echo $mooOptions['merchant\_email']?>" /></div> |
| [1984](#L1984) | </div> |
| [1985](#L1985) | </div> |
| [1986](#L1986) | <div class="Moo\_option-item" > |
| [1987](#L1987) | <div class="normal\_text"> |
| [1988](#L1988) | We use this cell phone number to notify you via text message when a new order has been made. <span style="font-weight: bold;color: #1F3C71">To use this feature, you must have the Text messaging subscription plan</span>. Enter just one phone number. Do not use parenthesis. Example: 555-234-1212 or 5552341212 |
| [1989](#L1989) | </div> |
| [1990](#L1990) | </div> |
| [1991](#L1991) | <div class="Moo\_option-item"> |
| [1992](#L1992) | <div class="iwl\_holder"> |
| [1993](#L1993) | <div class="iwl\_label\_holder"> |
| [1994](#L1994) | <label for="yourephone">Your Phone</label></div> |
| [1995](#L1995) | <div class="iwl\_input\_holder"><input id="yourephone" name="moo\_settings[merchant\_phone]" id="MooDefaultMerchantPhone" type="text" value="<?php echo $mooOptions['merchant\_phone']?>" /></div> |
| [1996](#L1996) | </div> |
| [1997](#L1997) | </div> |
| [1998](#L1998) | </div> |
| [1999](#L1999) | <!-- Track stock section --> |
| [2000](#L2000) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2001](#L2001) | <h3 onclick="expandSection(this)">Track stock</h3> |
| [2002](#L2002) | <div class="Moo\_option-item"> |
| [2003](#L2003) | <div class="normal\_text"> |
| [2004](#L2004) | If an item is sold on the website it will deduct the quantity from the Clover Inventory. Once an item reaches 0 count it will say "Out Of Stock" <span style="font-weight: bold;color: #1F3C71">To use this feature, you must have the Track Stock Subscription Plan</span> |
| [2005](#L2005) | </div> |
| [2006](#L2006) | </div> |
| [2007](#L2007) | <div class="Moo\_option-item"> |
| [2008](#L2008) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [2009](#L2009) | <label style="display:block; margin-bottom:8px;" onclick="moo\_trackStock\_details(false)"> |
| [2010](#L2010) | <input name="moo\_settings[track\_stock]" id="Mootrack\_stock" type="radio" value="disabled" <?php echo (isset($mooOptions["track\_stock"]) && $mooOptions["track\_stock"]!="enabled")?"checked":""; ?> > |
| [2011](#L2011) | Disabled |
| [2012](#L2012) | </label> |
| [2013](#L2013) | <label style="display:block; margin-bottom:8px;" onclick="moo\_trackStock\_details(true)"> |
| [2014](#L2014) | <input name="moo\_settings[track\_stock]" id="Mootrack\_stock" type="radio" value="enabled" <?php echo (isset($mooOptions["track\_stock"]) && $mooOptions["track\_stock"]=="enabled")?"checked":""; ?> > |
| [2015](#L2015) | Enabled |
| [2016](#L2016) | </label> |
| [2017](#L2017) | <div id="moo\_trackStock\_details" class="<?php echo ($mooOptions["track\_stock"] != "enabled")?"moo\_hidden":""; ?> "> |
| [2018](#L2018) | <div class="Moo\_option-item"> |
| [2019](#L2019) | <div style="margin-bottom: 14px;" class="label">Hide the item when it reaches Zero count</div> |
| [2020](#L2020) | <div class="moo-onoffswitch"  title="Show/hide the item"> |
| [2021](#L2021) | <input type="hidden" name="moo\_settings[track\_stock\_hide\_items]" value="off"> |
| [2022](#L2022) | <input type="checkbox" name="moo\_settings[track\_stock\_hide\_items]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_track\_stock\_hide\_items" <?php echo (isset($mooOptions['track\_stock\_hide\_items']) && $mooOptions['track\_stock\_hide\_items'] == 'on')?'checked':''?>> |
| [2023](#L2023) | <label class="moo-onoffswitch-label" for="myonoffswitch\_track\_stock\_hide\_items"><span class="moo-onoffswitch-inner"></span> |
| [2024](#L2024) | <span class="moo-onoffswitch-switch"></span> |
| [2025](#L2025) | </label> |
| [2026](#L2026) | </div> |
| [2027](#L2027) | </div> |
| [2028](#L2028) | </div> |
| [2029](#L2029) | </div> |
| [2030](#L2030) | </div> |
| [2031](#L2031) | </div> |
| [2032](#L2032) | <!-- |
| [2033](#L2033) | // use alternate names section |
| [2034](#L2034) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2035](#L2035) | <h3 onclick="expandSection(this)">Use alternate names</h3> |
| [2036](#L2036) | <div class="Moo\_option-item"> |
| [2037](#L2037) | <div class="normal\_text"> |
| [2038](#L2038) | Show alternate names instead of regular names? (if alternate name is empty it will show regular name) |
| [2039](#L2039) | </div> |
| [2040](#L2040) | </div> |
| [2041](#L2041) | <div class="Moo\_option-item"> |
| [2042](#L2042) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [2043](#L2043) | <label style="display:block; margin-bottom:8px;"> |
| [2044](#L2044) | <input name="moo\_settings[useAlternateNames]" id="MooUseAlternateNames" type="radio" value="enabled" <?php //echo (!isset($mooOptions["useAlternateNames"]) || $mooOptions["useAlternateNames"] == "enabled")?"checked":""; ?> > |
| [2045](#L2045) | Yes |
| [2046](#L2046) | </label> |
| [2047](#L2047) | <label style="display:block; margin-bottom:8px;"> |
| [2048](#L2048) | <input name="moo\_settings[useAlternateNames]" id="MooUseAlternateNames" type="radio" value="disabled" <?php //echo (isset($mooOptions["useAlternateNames"]) && $mooOptions["useAlternateNames"] == "disabled")?"checked":""; ?> > |
| [2049](#L2049) | No |
| [2050](#L2050) | </label> |
| [2051](#L2051) | </div> |
| [2052](#L2052) | </div> |
| [2053](#L2053) | </div> |
| [2054](#L2054) | --> |
| [2055](#L2055) | <!-- Business Hours --> |
| [2056](#L2056) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2057](#L2057) | <h3 onclick="expandSection(this)">Hours your store is available</h3> |
| [2058](#L2058) | <div class="Moo\_option-item"> |
| [2059](#L2059) | <div style="float:left; width: 100%;padding-left: 60px;"> |
| [2060](#L2060) | <label style="display:block; margin-bottom:8px;" onclick="moo\_bussinessHours\_Details(false)"> |
| [2061](#L2061) | <input name="moo\_settings[hours]" id="MooDefaultHours" type="radio" value="all" <?php echo ($mooOptions["hours"]=="all")?"checked":""; ?> > |
| [2062](#L2062) | All Hours |
| [2063](#L2063) | </label> |
| [2064](#L2064) | <label style="display:block; margin-bottom:8px;" onclick="moo\_bussinessHours\_Details(true)"> |
| [2065](#L2065) | <input name="moo\_settings[hours]" id="MooDefaultHours" type="radio" value="business" <?php echo ($mooOptions["hours"]!="all")?"checked":""; ?> > |
| [2066](#L2066) | Clover Business Hours |
| [2067](#L2067) | <span id="moo\_info\_msg-3" class="moo-info-msg" |
| [2068](#L2068) | data-ot="Please manage your business hours on clover" |
| [2069](#L2069) | data-ot-target="#moo\_info\_msg-3"> |
| [2070](#L2070) | <img src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/img/info-icon.png" ?>" alt=""> |
| [2071](#L2071) | </span> |
| [2072](#L2072) | </label> |
| [2073](#L2073) | <div id="moo\_bussinessHours\_Details" class="<?php echo ($mooOptions["hours"] != "all")?"":"moo\_hidden"; ?> "> |
| [2074](#L2074) | <div class="Moo\_option-item"> |
| [2075](#L2075) | <div style="margin-bottom: 14px;" class="label">Hide the menu when the store is closed</div> |
| [2076](#L2076) | <div class="moo-onoffswitch"  title="Show/hide the menu"> |
| [2077](#L2077) | <input type="hidden" name="moo\_settings[hide\_menu]" value="off"> |
| [2078](#L2078) | <input type="checkbox" name="moo\_settings[hide\_menu]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_hide\_menu" <?php echo (isset($mooOptions['hide\_menu']) && $mooOptions['hide\_menu'] == 'on')?'checked':''?>> |
| [2079](#L2079) | <label class="moo-onoffswitch-label" for="myonoffswitch\_hide\_menu"><span class="moo-onoffswitch-inner"></span> |
| [2080](#L2080) | <span class="moo-onoffswitch-switch"></span> |
| [2081](#L2081) | </label> |
| [2082](#L2082) | </div> |
| [2083](#L2083) | </div> |
| [2084](#L2084) | <div class="Moo\_option-item"> |
| [2085](#L2085) | <div style="margin-bottom: 14px;" class="label">When store is closed show the store closed message but still allow customers to order in advance</div> |
| [2086](#L2086) | <div class="moo-onoffswitch"  title="Show/hide the menu"> |
| [2087](#L2087) | <input type="hidden" name="moo\_settings[accept\_orders\_w\_closed]" value="off"> |
| [2088](#L2088) | <input type="checkbox" name="moo\_settings[accept\_orders\_w\_closed]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_accept\_orders" <?php echo (isset($mooOptions['accept\_orders\_w\_closed']) && $mooOptions['accept\_orders\_w\_closed'] == 'on')?'checked':''?>> |
| [2089](#L2089) | <label class="moo-onoffswitch-label" for="myonoffswitch\_accept\_orders"><span class="moo-onoffswitch-inner"></span> |
| [2090](#L2090) | <span class="moo-onoffswitch-switch"></span> |
| [2091](#L2091) | </label> |
| [2092](#L2092) | </div> |
| [2093](#L2093) | </div> |
| [2094](#L2094) | <div class="Moo\_option-item"> |
| [2095](#L2095) | <a href='#' onclick='mooGetOpeningHours(event)'>Click here to see Your Clover Hours</a> |
| [2096](#L2096) | <p> |
| [2097](#L2097) | To change your Clover Business Hours, go to <a href="https://www.clover.com" target="\_blank">Clover.com</a> from a computer, then go to Setup, then Business information |
| [2098](#L2098) | </p> |
| [2099](#L2099) | <p> |
| [2100](#L2100) | <a href="#custom-hours" onclick="tab\_clicked(12)">You can also use Custom Hours for different Categories and Order Types</a> |
| [2101](#L2101) | </p> |
| [2102](#L2102) | </div> |
| [2103](#L2103) | </div> |
| [2104](#L2104) | </div> |
| [2105](#L2105) | </div> |
| [2106](#L2106) | </div> |
| [2107](#L2107) | <!-- Customize the store closed message --> |
| [2108](#L2108) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2109](#L2109) | <h3 onclick="expandSection(this)">Customize the store closed message</h3> |
| [2110](#L2110) | <div class="Moo\_option-item"> |
| [2111](#L2111) | <div class="normal\_text"> |
| [2112](#L2112) | The message that appears on the Order Online Page when the store is closed. |
| [2113](#L2113) | <p>Use &lt;br&gt; after each sentence to keep it centered</p> |
| [2114](#L2114) | <p>Leave empty to use the default message</p> |
| [2115](#L2115) | </div> |
| [2116](#L2116) | <div class="Moo\_option-item"> |
| [2117](#L2117) | <textarea name="moo\_settings[closing\_msg]" id="" cols="8" rows="10" style="width: 100%"><?php echo (isset($mooOptions['closing\_msg']))?$mooOptions['closing\_msg']:"";?></textarea> |
| [2118](#L2118) | </div> |
| [2119](#L2119) | </div> |
| [2120](#L2120) | </div> |
| [2121](#L2121) |  |
| [2122](#L2122) | <!-- scheduled orders Disabled --> |
| [2123](#L2123) | <div class="MooPanelItem MooPanelItemExpanded" id="scheduledOrdersSectionDisabled" style="display: none"> |
| [2124](#L2124) | <h3 onclick="expandSection(this)" style="color: gray">Scheduled Orders ( You need to set up Clover Hours first )</h3> |
| [2125](#L2125) | <div class="Moo\_option-item"> |
| [2126](#L2126) | To accept Scheduled Orders you need to configure your Clover hours first, then refresh this page <br> |
| [2127](#L2127) | To change your Clover Business Hours, go to Clover.com from a computer, then go to Setup, then Business information |
| [2128](#L2128) | </div> |
| [2129](#L2129) | </div> |
| [2130](#L2130) | <!-- scheduled orders --> |
| [2131](#L2131) | <div class="MooPanelItem MooPanelItemExpanded" id="scheduledOrdersSection" > |
| [2132](#L2132) | <h3 onclick="expandSection(this)">Scheduled Orders</h3> |
| [2133](#L2133) | <div class="Moo\_option-item"> |
| [2134](#L2134) | <div style="margin-bottom: 14px;" class="label">Allow customer to schedule their orders</div> |
| [2135](#L2135) | <div class="moo-onoffswitch"  title="Show/hide order date"> |
| [2136](#L2136) | <input type="hidden" name="moo\_settings[order\_later]" value="off"> |
| [2137](#L2137) | <input onchange="MooChangeOrderLater\_Status()" type="checkbox" name="moo\_settings[order\_later]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_order\_later" <?php echo (isset($mooOptions['order\_later']) && $mooOptions['order\_later'] == 'on')?'checked':''?>> |
| [2138](#L2138) | <label class="moo-onoffswitch-label" for="myonoffswitch\_order\_later"><span class="moo-onoffswitch-inner"></span> |
| [2139](#L2139) | <span class="moo-onoffswitch-switch"></span> |
| [2140](#L2140) | </label> |
| [2141](#L2141) | </div> |
| [2142](#L2142) | </div> |
| [2143](#L2143) | <div class="Moo\_option-item "> |
| [2144](#L2144) | <div id="moo\_orderLater\_Details" style="<?php echo ($mooOptions["order\_later"] == "on")?"":"display:none;"; ?> "> |
| [2145](#L2145) |  |
| [2146](#L2146) | <div class="Moo\_option-item"  style="padding-left: 0px !important;"> |
| [2147](#L2147) | <div style="margin-bottom: 14px;" class="label">Make the Scheduled time required</div> |
| [2148](#L2148) | <div class="moo-onoffswitch"  title="make the scheduled time mandatory"> |
| [2149](#L2149) | <input type="hidden" name="moo\_settings[order\_later\_mandatory]" value="off"> |
| [2150](#L2150) | <input type="checkbox" name="moo\_settings[order\_later\_mandatory]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_order\_later\_mandatory" <?php echo (isset($mooOptions['order\_later\_mandatory']) && $mooOptions['order\_later\_mandatory'] == 'on')?'checked':''?>> |
| [2151](#L2151) | <label class="moo-onoffswitch-label" for="myonoffswitch\_order\_later\_mandatory"><span class="moo-onoffswitch-inner"></span> |
| [2152](#L2152) | <span class="moo-onoffswitch-switch"></span> |
| [2153](#L2153) | </label> |
| [2154](#L2154) | </div> |
| [2155](#L2155) | </div> |
| [2156](#L2156) |  |
| [2157](#L2157) | <div style="font-size: 16px;font-weight: 700;">Pick Up Orders</div> |
| [2158](#L2158) | <div class="Moo\_option-item"> |
| [2159](#L2159) | <div class="normal\_text"> |
| [2160](#L2160) | Minimum time in minutes and Maximum days in the future customers can choose when ordering in advance for <b>pickup</b> orders. Default is 20 minutes and 4 days |
| [2161](#L2161) | </div> |
| [2162](#L2162) | </div> |
| [2163](#L2163) | <div class="Moo\_option-item"> |
| [2164](#L2164) | <div class="iwl\_holder"> |
| [2165](#L2165) | <div class="iwl\_label\_holder"><label for="MooOrderLaterMinutesP">minutes in advance</label></div> |
| [2166](#L2166) | <div class="iwl\_input\_holder"> |
| [2167](#L2167) | <input name="moo\_settings[order\_later\_minutes]" id="MooOrderLaterMinutesP" type="text" value="<?php echo (isset($mooOptions['order\_later\_minutes']))?$mooOptions['order\_later\_minutes']:""; ?>" /> |
| [2168](#L2168) | </div> |
| [2169](#L2169) | </div> |
| [2170](#L2170) | <div class="iwl\_holder"> |
| [2171](#L2171) | <div class="iwl\_label\_holder"><label for="MooOrderLaterDaysP">days in future</label></div> |
| [2172](#L2172) | <div class="iwl\_input\_holder"> |
| [2173](#L2173) | <input name="moo\_settings[order\_later\_days]" id="MooOrderLaterDaysP" type="text" value="<?php echo (isset($mooOptions['order\_later\_days']))?$mooOptions['order\_later\_days']:"" ?>" /> |
| [2174](#L2174) | </div> |
| [2175](#L2175) | </div> |
| [2176](#L2176) | <div class="iwl\_holder"> |
| [2177](#L2177) | <div style="margin-bottom: 14px;" class="label">Allow customers to choose : ASAP</div> |
| [2178](#L2178) | <div class="moo-onoffswitch"  title="Show/hide asap in pickup time" style="margin-top: 7px;"> |
| [2179](#L2179) | <input type="hidden" name="moo\_settings[order\_later\_asap\_for\_p]" value="off"> |
| [2180](#L2180) | <input type="checkbox" name="moo\_settings[order\_later\_asap\_for\_p]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_order\_later\_asap\_for\_p" <?php echo (isset($mooOptions['order\_later\_asap\_for\_p']) && $mooOptions['order\_later\_asap\_for\_p'] == 'on')?'checked':''?>> |
| [2181](#L2181) | <label class="moo-onoffswitch-label" for="myonoffswitch\_order\_later\_asap\_for\_p"><span class="moo-onoffswitch-inner"></span> |
| [2182](#L2182) | <span class="moo-onoffswitch-switch"></span> |
| [2183](#L2183) | </label> |
| [2184](#L2184) | </div> |
| [2185](#L2185) | </div> |
| [2186](#L2186) | </div> |
| [2187](#L2187) | <div style="font-size: 16px;font-weight: 700;">Delivery Orders</div> |
| [2188](#L2188) | <div class="Moo\_option-item" > |
| [2189](#L2189) | <div class="normal\_text"> |
| [2190](#L2190) | Minimum time in minutes and Maximum days in the future customers can choose when ordering in advance for <b>delivery</b> orders. Default is 60 minutes and 4 days |
| [2191](#L2191) | </div> |
| [2192](#L2192) | </div> |
| [2193](#L2193) | <div class="Moo\_option-item"> |
| [2194](#L2194) | <div class="iwl\_holder"> |
| [2195](#L2195) | <div class="iwl\_label\_holder"><label for="MooOrderLaterMinutesD">minutes in advance</label></div> |
| [2196](#L2196) | <div class="iwl\_input\_holder"> |
| [2197](#L2197) | <input name="moo\_settings[order\_later\_minutes\_delivery]" id="MooOrderLaterMinutesD" type="text" value="<?php echo (isset($mooOptions['order\_later\_minutes\_delivery']))?$mooOptions['order\_later\_minutes\_delivery']:""; ?>" /> |
| [2198](#L2198) | </div> |
| [2199](#L2199) | </div> |
| [2200](#L2200) | <div class="iwl\_holder"> |
| [2201](#L2201) | <div class="iwl\_label\_holder"><label for="MooOrderLaterDaysD">days in future</label></div> |
| [2202](#L2202) | <div class="iwl\_input\_holder"> |
| [2203](#L2203) | <input name="moo\_settings[order\_later\_days\_delivery]" id="MooOrderLaterDaysD" type="text" value="<?php echo (isset($mooOptions['order\_later\_days\_delivery']))?$mooOptions['order\_later\_days\_delivery']:"" ?>" /> |
| [2204](#L2204) | </div> |
| [2205](#L2205) | </div> |
| [2206](#L2206) | <div class="iwl\_holder"> |
| [2207](#L2207) | <div style="margin-bottom: 14px;" class="label">Allow customers to choose : ASAP</div> |
| [2208](#L2208) | <div class="moo-onoffswitch"  title="Show/hide asap in delivery time" style="margin-top: 7px;"> |
| [2209](#L2209) | <input type="hidden" name="moo\_settings[order\_later\_asap\_for\_d]" value="off"> |
| [2210](#L2210) | <input type="checkbox" name="moo\_settings[order\_later\_asap\_for\_d]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_order\_later\_asap\_for\_d" <?php echo (isset($mooOptions['order\_later\_asap\_for\_d']) && $mooOptions['order\_later\_asap\_for\_d'] == 'on')?'checked':''?>> |
| [2211](#L2211) | <label class="moo-onoffswitch-label" for="myonoffswitch\_order\_later\_asap\_for\_d"><span class="moo-onoffswitch-inner"></span> |
| [2212](#L2212) | <span class="moo-onoffswitch-switch"></span> |
| [2213](#L2213) | </label> |
| [2214](#L2214) | </div> |
| [2215](#L2215) | </div> |
| [2216](#L2216) | </div> |
| [2217](#L2217) | </div> |
| [2218](#L2218) | </div> |
| [2219](#L2219) | </div> |
| [2220](#L2220) |  |
| [2221](#L2221) | <!-- custom Store announcement --> |
| [2222](#L2222) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2223](#L2223) | <h3 onclick="expandSection(this)">Custom Store Announcement</h3> |
| [2224](#L2224) | <div class="Moo\_option-item"> |
| [2225](#L2225) | <h4>Custom Pop Up Message when customers first view the Order Online Page or Checkout Page</h4> |
| [2226](#L2226) | <p> |
| [2227](#L2227) | You can write a special message that will display as a pop-up once customers view the Order Online Page or Checkout Page. |
| [2228](#L2228) | </p> |
| [2229](#L2229) | <p> |
| [2230](#L2230) | Leave blank for no pop-up message |
| [2231](#L2231) | </p> |
| [2232](#L2232) | <label for="MooCustom\_sa\_title">Title</label> |
| [2233](#L2233) | <div class="iwl\_input\_holder"> |
| [2234](#L2234) | <input name="moo\_settings[custom\_sa\_title]" id="MooCustom\_sa\_title" type="text" value="<?php echo (isset($mooOptions['custom\_sa\_title']))?$mooOptions['custom\_sa\_title']:""; ?>" /> |
| [2235](#L2235) | </div> |
| [2236](#L2236) | </div> |
| [2237](#L2237) | <div class="Moo\_option-item"> |
| [2238](#L2238) | Content |
| [2239](#L2239) | <textarea name="moo\_settings[custom\_sa\_content]" id="" cols="10" rows="10" style="width: 100%"><?php echo (isset($mooOptions['custom\_sa\_content']))?$mooOptions['custom\_sa\_content']:"";?></textarea> |
| [2240](#L2240) | </div> |
| [2241](#L2241) | <div class="Moo\_option-item"> |
| [2242](#L2242) | <div style="margin-bottom: 14px;" class="label">Show again on checkout page</div> |
| [2243](#L2243) | <div class="moo-onoffswitch"  title="Show/hide the custom store annoncement on checkout page" style="margin-top: 7px;"> |
| [2244](#L2244) | <input type="hidden" name="moo\_settings[custom\_sa\_onCheckoutPage]" value="off"> |
| [2245](#L2245) | <input type="checkbox" name="moo\_settings[custom\_sa\_onCheckoutPage]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_custom\_sa\_onCheckoutPage" <?php echo (isset($mooOptions['custom\_sa\_onCheckoutPage']) && $mooOptions['custom\_sa\_onCheckoutPage'] == 'on')?'checked':''?>> |
| [2246](#L2246) | <label class="moo-onoffswitch-label" for="myonoffswitch\_custom\_sa\_onCheckoutPage"><span class="moo-onoffswitch-inner"></span> |
| [2247](#L2247) | <span class="moo-onoffswitch-switch"></span> |
| [2248](#L2248) | </label> |
| [2249](#L2249) | </div> |
| [2250](#L2250) | </div> |
| [2251](#L2251) | </div> |
| [2252](#L2252) |  |
| [2253](#L2253) | <!-- store  pages --> |
| [2254](#L2254) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2255](#L2255) | <h3 onclick="expandSection(this)">Store pages</h3> |
| [2256](#L2256) | <div class="Moo\_option-item" > |
| [2257](#L2257) | <div class="normal\_text"> |
| [2258](#L2258) | Please choose the store's pages. |
| [2259](#L2259) | </div> |
| [2260](#L2260) | </div> |
| [2261](#L2261) | <div class="Moo\_option-item"> |
| [2262](#L2262) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Store Page</label></div> |
| [2263](#L2263) | <div class="iwl\_input\_holder"> |
| [2264](#L2264) | <select name="moo\_settings[store\_page]" style="width: 100%;"> |
| [2265](#L2265) | <?php |
| [2266](#L2266) | echo '<option></option>'; |
| [2267](#L2267) | foreach ( $all\_pages as $page ) { |
| [2268](#L2268) | $option = '<option value="' .$page->ID. '"'; |
| [2269](#L2269) | if($page->ID==$mooOptions['store\_page']) |
| [2270](#L2270) | $option .= 'selected '; |
| [2271](#L2271) | $option .= '>'; |
| [2272](#L2272) | $option .= $page->post\_title; |
| [2273](#L2273) | $option .= '</option>'; |
| [2274](#L2274) | echo $option; |
| [2275](#L2275) | } |
| [2276](#L2276) | ?> |
| [2277](#L2277) | </select> |
| [2278](#L2278) | </div> |
| [2279](#L2279) | </div> |
| [2280](#L2280) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Checkout Page</label></div> |
| [2281](#L2281) | <div class="iwl\_input\_holder"> |
| [2282](#L2282) | <select name="moo\_settings[checkout\_page]" style="width: 100%;"> |
| [2283](#L2283) | <?php |
| [2284](#L2284) | echo '<option></option>'; |
| [2285](#L2285) | foreach ( $all\_pages as $page ) { |
| [2286](#L2286) | $option = '<option value="' .$page->ID. '"'; |
| [2287](#L2287) | if($page->ID==$mooOptions['checkout\_page']) |
| [2288](#L2288) | $option .= 'selected '; |
| [2289](#L2289) | $option .= '>'; |
| [2290](#L2290) | $option .= $page->post\_title; |
| [2291](#L2291) | $option .= '</option>'; |
| [2292](#L2292) |  |
| [2293](#L2293) | echo $option; |
| [2294](#L2294) | } |
| [2295](#L2295) | ?> |
| [2296](#L2296) | </select> |
| [2297](#L2297) | </div> |
| [2298](#L2298) | </div> |
| [2299](#L2299) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >Cart Page</label></div> |
| [2300](#L2300) | <div class="iwl\_input\_holder"> |
| [2301](#L2301) | <select name="moo\_settings[cart\_page]" style="width: 100%;"> |
| [2302](#L2302) | <?php |
| [2303](#L2303) | echo '<option></option>'; |
| [2304](#L2304) | foreach ( $all\_pages as $page ) { |
| [2305](#L2305) | $option = '<option value="' .$page->ID. '"'; |
| [2306](#L2306) | if($page->ID==$mooOptions['cart\_page']) |
| [2307](#L2307) | $option .= 'selected '; |
| [2308](#L2308) | $option .= '>'; |
| [2309](#L2309) | $option .= $page->post\_title; |
| [2310](#L2310) | $option .= '</option>'; |
| [2311](#L2311) |  |
| [2312](#L2312) | echo $option; |
| [2313](#L2313) | } |
| [2314](#L2314) | ?> |
| [2315](#L2315) | </select> |
| [2316](#L2316) | </div> |
| [2317](#L2317) | </div> |
| [2318](#L2318) | <div class="iwl\_holder"><div class="iwl\_label\_holder"><label id="MooDefaultMerchantEmail" >My Account Page</label></div> |
| [2319](#L2319) | <div class="iwl\_input\_holder"> |
| [2320](#L2320) | <select name="moo\_settings[my\_account\_page]" style="width: 100%;"> |
| [2321](#L2321) | <?php |
| [2322](#L2322) | echo '<option></option>'; |
| [2323](#L2323) | foreach ( $all\_pages as $page ) { |
| [2324](#L2324) | $option = '<option value="' .$page->ID. '"'; |
| [2325](#L2325) | if($page->ID==$mooOptions['my\_account\_page']) |
| [2326](#L2326) | $option .= 'selected '; |
| [2327](#L2327) | $option .= '>'; |
| [2328](#L2328) | $option .= $page->post\_title; |
| [2329](#L2329) | $option .= '</option>'; |
| [2330](#L2330) |  |
| [2331](#L2331) | echo $option; |
| [2332](#L2332) | } |
| [2333](#L2333) | ?> |
| [2334](#L2334) | </select> |
| [2335](#L2335) | </div> |
| [2336](#L2336) | </div> |
| [2337](#L2337) | </div> |
| [2338](#L2338) | </div> |
| [2339](#L2339) | <!-- Advanced  settings --> |
| [2340](#L2340) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2341](#L2341) | <h3 onclick="expandSection(this)">Advanced settings</h3> |
| [2342](#L2342) | <div class="Moo\_option-item"> |
| [2343](#L2343) | <div style="margin-bottom: 14px;" class="label"> |
| [2344](#L2344) | Show alternate names instead of regular names when custom names aren't set |
| [2345](#L2345) | </div> |
| [2346](#L2346) | <div class="moo-onoffswitch"  title="Show alternate names instead of regular names (if alternate name is empty it will show regular name)" style="margin-top: 15px;"> |
| [2347](#L2347) | <input type="hidden" name="moo\_settings[useAlternateNames]" value="disabled"> |
| [2348](#L2348) | <input type="checkbox" name="moo\_settings[useAlternateNames]" value="enabled" class="moo-onoffswitch-checkbox" id="myonoffswitch\_useAlternateNames" <?php echo (isset($mooOptions['useAlternateNames']) && $mooOptions['useAlternateNames'] == 'enabled')?'checked':''?>> |
| [2349](#L2349) | <label class="moo-onoffswitch-label" for="myonoffswitch\_useAlternateNames"><span class="moo-onoffswitch-inner"></span> |
| [2350](#L2350) | <span class="moo-onoffswitch-switch"></span> |
| [2351](#L2351) | </label> |
| [2352](#L2352) | </div> |
| [2353](#L2353) | </div> |
| [2354](#L2354) | <div class="Moo\_option-item"> |
| [2355](#L2355) | <div style="margin-bottom: 14px;" class="label"> |
| [2356](#L2356) | Hide the category when custom hours is used and category is not available to order |
| [2357](#L2357) | </div> |
| [2358](#L2358) | <div class="moo-onoffswitch"  title="Hide the category when it is not available when custom hours is used" style="margin-top: 15px;"> |
| [2359](#L2359) | <input type="hidden" name="moo\_settings[hide\_category\_ifnotavailable]" value="off"> |
| [2360](#L2360) | <input type="checkbox" name="moo\_settings[hide\_category\_ifnotavailable]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_hide\_category\_ifnotavailable" <?php echo (isset($mooOptions['hide\_category\_ifnotavailable']) && $mooOptions['hide\_category\_ifnotavailable'] == 'on')?'checked':''?>> |
| [2361](#L2361) | <label class="moo-onoffswitch-label" for="myonoffswitch\_hide\_category\_ifnotavailable"><span class="moo-onoffswitch-inner"></span> |
| [2362](#L2362) | <span class="moo-onoffswitch-switch"></span> |
| [2363](#L2363) | </label> |
| [2364](#L2364) | </div> |
| [2365](#L2365) | </div> |
| [2366](#L2366) | <div class="Moo\_option-item"> |
| [2367](#L2367) | <div style="margin-bottom: 14px;" class="label">Show order number on printed receipts</div> |
| [2368](#L2368) | <div class="moo-onoffswitch"  title="Show order number on printed receipts" style="margin-top: 7px;"> |
| [2369](#L2369) | <input type="hidden" name="moo\_settings[show\_order\_number]" value="off"> |
| [2370](#L2370) | <input type="checkbox" name="moo\_settings[show\_order\_number]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_show\_order\_number" <?php echo (isset($mooOptions['show\_order\_number']) && $mooOptions['show\_order\_number'] == 'on')?'checked':''?>> |
| [2371](#L2371) | <label class="moo-onoffswitch-label" for="myonoffswitch\_show\_order\_number"><span class="moo-onoffswitch-inner"></span> |
| [2372](#L2372) | <span class="moo-onoffswitch-switch"></span> |
| [2373](#L2373) | </label> |
| [2374](#L2374) | </div> |
| [2375](#L2375) | </div> |
| [2376](#L2376) | <div class="Moo\_option-item"> |
| [2377](#L2377) | <div style="margin-bottom: 14px;" class="label">Automatic (rolled over) order numbers</div> |
| [2378](#L2378) | <div class="moo-onoffswitch"  title="Show order number on printed receipts" style="margin-top: 7px;"> |
| [2379](#L2379) | <input type="hidden" name="moo\_settings[rollout\_order\_number]" value="off"> |
| [2380](#L2380) | <input onchange="mooShowMoreDetails(event,'#moo-rollout-order-number-details')" type="checkbox" name="moo\_settings[rollout\_order\_number]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_rollout\_order\_number" <?php echo (isset($mooOptions['rollout\_order\_number']) && $mooOptions['rollout\_order\_number'] == 'on')?'checked':''?>> |
| [2381](#L2381) | <label class="moo-onoffswitch-label" for="myonoffswitch\_rollout\_order\_number"><span class="moo-onoffswitch-inner"></span> |
| [2382](#L2382) | <span class="moo-onoffswitch-switch"></span> |
| [2383](#L2383) | </label> |
| [2384](#L2384) | </div> |
| [2385](#L2385) | </div> |
| [2386](#L2386) | <div class="Moo\_option-item" id="moo-rollout-order-number-details"  style="display:  <?php echo (isset($mooOptions["rollout\_order\_number"]) && $mooOptions["rollout\_order\_number"] == "on")?"":"none"; ?> " > |
| [2387](#L2387) | <div class="iwl\_holder"> |
| [2388](#L2388) | <div class="iwl\_label\_holder"> |
| [2389](#L2389) | <label for="MooRollout\_order\_number\_max">Roll over order number after:</label> |
| [2390](#L2390) | </div> |
| [2391](#L2391) | <div class="iwl\_input\_holder"> |
| [2392](#L2392) | <input name="moo\_settings[rollout\_order\_number\_max]" id="MooRollout\_order\_number\_max" type="number" value="<?php echo (isset($mooOptions['rollout\_order\_number\_max']))?$mooOptions['rollout\_order\_number\_max']:"999"; ?>" /> |
| [2393](#L2393) | </div> |
| [2394](#L2394) | </div> |
| [2395](#L2395) | </div> |
| [2396](#L2396) | <div class="Moo\_option-item" > |
| [2397](#L2397) | <?php if(!empty(SOO\_DEFAULT\_CDN)){?> |
| [2398](#L2398) | <div style="margin-bottom: 14px;" class="label">Enable CDN for images</div> |
| [2399](#L2399) | <div class="moo-onoffswitch"  title="Serve your items images using CDN" style="margin-top: 7px;"> |
| [2400](#L2400) | <input type="checkbox" class="moo-onoffswitch-checkbox"  checked> |
| [2401](#L2401) | <label class="moo-onoffswitch-label" for="myonoffswitch\_moo-cdn-for-images"><span class="moo-onoffswitch-inner"></span> |
| [2402](#L2402) | <span class="moo-onoffswitch-switch"></span> |
| [2403](#L2403) | </label> |
| [2404](#L2404) | </div> |
| [2405](#L2405) | <span style="vertical-align: super;margin-left: 10px"> |
| [2406](#L2406) | Enabled By Default on Smartonlineorder.com |
| [2407](#L2407) | </span> |
| [2408](#L2408) | <?php }else{?> |
| [2409](#L2409) | <div style="margin-bottom: 14px;" class="label">Enable CDN for images</div> |
| [2410](#L2410) | <div class="moo-onoffswitch"  title="Serve your items images using CDN" style="margin-top: 7px;"> |
| [2411](#L2411) | <input type="hidden" name="moo\_settings[cdn\_for\_images]" value="off"> |
| [2412](#L2412) | <input onchange="mooShowMoreDetails(event,'#moo-cdn-for-images-details')" type="checkbox" name="moo\_settings[cdn\_for\_images]" class="moo-onoffswitch-checkbox" id="myonoffswitch\_moo-cdn-for-images" <?php echo (isset($mooOptions['cdn\_for\_images']) && $mooOptions['cdn\_for\_images'] == 'on')?'checked':''?>> |
| [2413](#L2413) | <label class="moo-onoffswitch-label" for="myonoffswitch\_moo-cdn-for-images"><span class="moo-onoffswitch-inner"></span> |
| [2414](#L2414) | <span class="moo-onoffswitch-switch"></span> |
| [2415](#L2415) | </label> |
| [2416](#L2416) | </div> |
| [2417](#L2417) | <?php }?> |
| [2418](#L2418) | </div> |
| [2419](#L2419) | <div class="Moo\_option-item" id="moo-cdn-for-images-details" style="display: <?php echo (isset($mooOptions["cdn\_for\_images"]) && $mooOptions["cdn\_for\_images"] == "on")?"":"none"; ?> " > |
| [2420](#L2420) | <div class="iwl\_holder"> |
| [2421](#L2421) | <div class="iwl\_label\_holder"> |
| [2422](#L2422) | <label for="MooCDNUrl">Enter here your CDN URL </label> |
| [2423](#L2423) | </div> |
| [2424](#L2424) | <div class="iwl\_input\_holder"> |
| [2425](#L2425) | <input name="moo\_settings[cdn\_url]" id="MooCDNUrl" value="<?php echo (isset($mooOptions['cdn\_url']))?$mooOptions['cdn\_url']:""; ?>" placeholder="https://"/> |
| [2426](#L2426) | </div> |
| [2427](#L2427) | <p></p> |
| [2428](#L2428) | </div> |
| [2429](#L2429) | </div> |
| [2430](#L2430) | </div> |
| [2431](#L2431) | <!-- Custom CSS --> |
| [2432](#L2432) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2433](#L2433) | <h3 onclick="expandSection(this)">Custom CSS</h3> |
| [2434](#L2434) | <div class="Moo\_option-item"> |
| [2435](#L2435) | <div class="normal\_text"> |
| [2436](#L2436) | Visit <a href="https://docs.zaytech.com" target="\_blank">docs.zaytech.com</a> for some sample code |
| [2437](#L2437) | </div> |
| [2438](#L2438) | </div> |
| [2439](#L2439) | <div class="Moo\_option-item"> |
| [2440](#L2440) | <textarea name="moo\_settings[custom\_css]" id="" cols="10" rows="10" style="width: 100%"><?php echo (isset($mooOptions['custom\_css']))?$mooOptions['custom\_css']:"";?></textarea> |
| [2441](#L2441) | </div> |
| [2442](#L2442) | </div> |
| [2443](#L2443) | <!-- custom JS --> |
| [2444](#L2444) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2445](#L2445) | <h3 onclick="expandSection(this)">Custom Javascript</h3> |
| [2446](#L2446) | <div class="Moo\_option-item"> |
| [2447](#L2447) | <textarea name="moo\_settings[custom\_js]" id="" cols="10" rows="10" style="width: 100%"><?php echo (isset($mooOptions['custom\_js']))?$mooOptions['custom\_js']:"";?></textarea> |
| [2448](#L2448) | </div> |
| [2449](#L2449) | </div> |
| [2450](#L2450) | <!-- Copyrights --> |
| [2451](#L2451) | <div class="MooPanelItem MooPanelItemExpanded"> |
| [2452](#L2452) | <h3 onclick="expandSection(this)">Copyrights</h3> |
| [2453](#L2453) | <div class="Moo\_option-item"> |
| [2454](#L2454) | <textarea name="moo\_settings[copyrights]" id="" cols="10" rows="5" style="width: 100%"><?php echo (isset($mooOptions['copyrights']))?$mooOptions['copyrights']:"";?></textarea> |
| [2455](#L2455) | </div> |
| [2456](#L2456) | </div> |
| [2457](#L2457) | <!-- Save Changes button --> |
| [2458](#L2458) | <div style="text-align: center; margin: 20px;"> |
| [2459](#L2459) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes"> |
| [2460](#L2460) | <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" class="button">Cancel</a> |
| [2461](#L2461) | </div> |
| [2462](#L2462) | </form> |
| [2463](#L2463) |  |
| [2464](#L2464) | </div> |
| [2465](#L2465) | <!-- Delivery areas --> |
| [2466](#L2466) | <div id="MooPanel\_tabContent9"> |
| [2467](#L2467) | <h2>Delivery areas</h2><hr> |
| [2468](#L2468) | <form name="mooDeliveryAreas" method="post" action="options.php" onsubmit="mooSaveDeliveryAreas(event,this)"> |
| [2469](#L2469) | <?php |
| [2470](#L2470) | $mooOptions = (array)get\_option('moo\_settings'); |
| [2471](#L2471) | ?> |
| [2472](#L2472) | <div class="MooPanelItem"> |
| [2473](#L2473) | <h3>Set Delivery Areas (Click save changes when you create zones) <span class="moo\_adding-zone-btn" onclick="moo\_show\_form\_adding\_zone()">Add zone</span></h3> |
| [2474](#L2474) | <div class="Moo\_option-item" id='moo\_adding-zone'> |
| [2475](#L2475) | <table class="delivery\_area\_for\_mobile" style="margin: 0 auto; width: 55%; border-spacing: 10px;"> |
| [2476](#L2476) | <tr class="tr\_for\_mobile"> |
| [2477](#L2477) | <td class="td\_for\_mobile"><label for="moo\_dz\_name">Name\*</label></td> |
| [2478](#L2478) | <td class="td\_for\_mobile"><input style="float: right; width: 100%;" type="text" id="moo\_dz\_name"><br/></td> |
| [2479](#L2479) | </tr> |
| [2480](#L2480) | <tr id="moo\_dz\_type\_line" class="tr\_for\_mobile"> |
| [2481](#L2481) | <td class="td\_for\_mobile"><label for="moo\_dz\_type">Zone Type\*</label></td> |
| [2482](#L2482) | <td class="td\_for\_mobile"> |
| [2483](#L2483) | <input onclick="mooZone\_type\_Clicked()" type="radio" id="moo\_dz\_typeC" name='moo\_dz\_type' checked> |
| [2484](#L2484) | <label for="moo\_dz\_typeC">Circle</label> |
| [2485](#L2485) | <input onclick="mooZone\_type\_Clicked()" type="radio" id="moo\_dz\_typeS" name='moo\_dz\_type' > |
| [2486](#L2486) | <label for="moo\_dz\_typeS">Shape</label> |
| [2487](#L2487) | </td  class="td\_for\_mobile"> |
| [2488](#L2488) | </tr> |
| [2489](#L2489) | <tr class="tr\_for\_mobile"> |
| [2490](#L2490) | <td class="td\_for\_mobile"><label for="moo\_dz\_min">Delivery Radius</label></td> |
| [2491](#L2491) | <td class="td\_for\_mobile"><input placeholder="0" style="float: right; width: 100%" type="text" id="moo\_dz\_radius">Miles<br/></td> |
| [2492](#L2492) | </tr> |
| [2493](#L2493) | <tr class="tr\_for\_mobile"> |
| [2494](#L2494) | <td class="td\_for\_mobile"><label for="moo\_dz\_min">Minimum order</label></td> |
| [2495](#L2495) | <td class="td\_for\_mobile"><input placeholder="$0.00" style="float: right; width: 100%;" type="text" id="moo\_dz\_min"><br/></td> |
| [2496](#L2496) | </tr> |
| [2497](#L2497) | <tr  class="tr\_for\_mobile"> |
| [2498](#L2498) | <td class="td\_for\_mobile"><label   for="moo\_dz\_fee">Delivery fee</label></td> |
| [2499](#L2499) | <td class="td\_for\_mobile"><input placeholder="0.00" style="float: right; width: 100%;" type="text" id="moo\_dz\_fee"><br/></td> |
| [2500](#L2500) | </tr> |
| [2501](#L2501) | <tr id="moo\_dz\_type\_line" class="tr\_for\_mobile"> |
| [2502](#L2502) | <td class="td\_for\_mobile"><label for="moo\_dz\_fee\_type">Type</label></td> |
| [2503](#L2503) | <td class="td\_for\_mobile"> |
| [2504](#L2504) | <input type="radio" id="moo\_dz\_fee\_type\_value" name='moo\_dz\_fee\_type' checked> |
| [2505](#L2505) | <label for="moo\_dz\_fee\_type\_value">Dollar Value</label> |
| [2506](#L2506) | <input type="radio" id="moo\_dz\_fee\_type\_percent" name='moo\_dz\_fee\_type' > |
| [2507](#L2507) | <label for="moo\_dz\_fee\_type\_percent">Percent of Subtotal</label> |
| [2508](#L2508) | </td  class="td\_for\_mobile"> |
| [2509](#L2509) | </tr> |
| [2510](#L2510) | <tr id="moo\_dz\_color\_line" class="tr\_for\_mobile"> |
| [2511](#L2511) | <td class="td\_for\_mobile"><label for="moo\_dz\_color">Color</label></td> |
| [2512](#L2512) | <td class="td\_for\_mobile"><input type="text" id="moo\_dz\_color" class="moo-color-field" value="#2788d8"></td> |
| [2513](#L2513) | </tr> |
| [2514](#L2514) | <tr id="moo\_dz\_action\_for\_adding" class="tr\_for\_mobile"> |
| [2515](#L2515) | <td  class="td\_for\_mobile" style="text-align: center;" colspan="2"> |
| [2516](#L2516) | <div style="margin-bottom: 10px;"> |
| [2517](#L2517) | <button type="button" class="button" onclick="moo\_draw\_zone()">Draw zone</button> |
| [2518](#L2518) | </div> |
| [2519](#L2519) | <!--                                            <div style="margin-bottom: 10px;">--> |
| [2520](#L2520) | <!--                                                <button type="button" class="button button-primary" onclick="moo\_validate\_selected\_zone()">Validate selected zone</button>--> |
| [2521](#L2521) | <!--                                            </div>--> |
| [2522](#L2522) | <!--                                            <div>--> |
| [2523](#L2523) | <!--                                                <button type="button" class="button" onclick="moo\_deleteSelectedShape();">Delete selected zone</button>--> |
| [2524](#L2524) | <!--                                                <button type="button" class="button" onclick="moo\_cancel\_adding\_form()">Cancel</button>--> |
| [2525](#L2525) | <!--                                            </div>--> |
| [2526](#L2526) | </td> |
| [2527](#L2527) | </tr> |
| [2528](#L2528) | <tr id="moo\_dz\_action\_for\_updating" class="tr\_for\_mobile"> |
| [2529](#L2529) | <td style="text-align: center;" colspan="2"> |
| [2530](#L2530) | <div class="iwl\_holder"> |
| [2531](#L2531) | <div class="iwl\_input\_holder"> |
| [2532](#L2532) | <input type="text" value="" id="moo\_dz\_id\_for\_update" hidden> |
| [2533](#L2533) | </div> |
| [2534](#L2534) | </div> |
| [2535](#L2535) | <div class="button\_center"> |
| [2536](#L2536) | <button type="button" class="button button-primary" onclick="moo\_update\_selected\_zone()">Update zone</button> |
| [2537](#L2537) | <button type="button" class="button" onclick="moo\_cancel\_adding\_form()">Cancel</button> |
| [2538](#L2538) | </div> |
| [2539](#L2539) | </td> |
| [2540](#L2540) | </tr> |
| [2541](#L2541) | </table> |
| [2542](#L2542) | </div> |
| [2543](#L2543) | <div class="Moo\_option-item" id="moo\_areas\_container"> |
| [2544](#L2544) | </div> |
| [2545](#L2545) | </div> |
| [2546](#L2546) | <div class="MooPanelItem"> |
| [2547](#L2547) | <div class="Moo\_option-item"> |
| [2548](#L2548) | <div class="moo\_map\_da" id="moo\_map\_da"></div> |
| [2549](#L2549) | <div id ="moo\_Circleradius"></div> |
| [2550](#L2550) | </div> |
| [2551](#L2551) | <div class="MooAddingZoneBtn"> |
| [2552](#L2552) | <button type="button" class="button button-primary" onclick="moo\_validate\_selected\_zone()">Validate selected zone</button> |
| [2553](#L2553) | <button type="button" class="button button-primary" onclick="moo\_deleteSelectedShape();">Delete selected zone</button> |
| [2554](#L2554) | <button type="button" class="button button-primary" onclick="moo\_cancel\_adding\_form()">Cancel</button> |
| [2555](#L2555) | </div> |
| [2556](#L2556) | </div> |
| [2557](#L2557) | <div class="MooPanelItem"> |
| [2558](#L2558) | <h3>Other options</h3> |
| [2559](#L2559) | <div class="Moo\_option-item" > |
| [2560](#L2560) | <div class="normal\_text"> |
| [2561](#L2561) | <strong>Free Delivery</strong> : if customer spends over this dollar amount, then delivery fee is free, Keep empty if you don't want to offer free delivery (you should draw your delivery zones) |
| [2562](#L2562) | </div> |
| [2563](#L2563) | <div class="iwl\_holder"> |
| [2564](#L2564) | <div class="iwl\_label\_holder"><label for="delivery\_minamount">Min Amount</label></div> |
| [2565](#L2565) | <div class="iwl\_input\_holder"> |
| [2566](#L2566) | <input id="delivery\_minamount" name="moo\_settings[free\_delivery]" type="text" value="<?php echo (isset($mooOptions['free\_delivery']))?$mooOptions['free\_delivery']:""; ?>" /> |
| [2567](#L2567) | </div> |
| [2568](#L2568) | </div> |
| [2569](#L2569) | </div> |
| [2570](#L2570) | <div class="Moo\_option-item" > |
| [2571](#L2571) | <div class="normal\_text"> |
| [2572](#L2572) | <strong>Fixed Delivery Amount for all Zones</strong> :  This fee will be applied towards any delivered order (order types with shipping address must be enabled) Keep empty if you don"t want to charge a fixed delivery fee.<b style="color: red">This will override any delivery fees you added when drawing the map. </b> Recommended to leave blank |
| [2573](#L2573) | </div> |
| [2574](#L2574) | <div class="iwl\_holder"> |
| [2575](#L2575) | <div class="iwl\_label\_holder"><label for="fixeddeliveryamount">Fixed Delivery Amount</label></div> |
| [2576](#L2576) | <div class="iwl\_input\_holder"> |
| [2577](#L2577) | <input  id="fixeddeliveryamount"  name="moo\_settings[fixed\_delivery]" type="text" value="<?php echo (isset($mooOptions['fixed\_delivery']))?$mooOptions['fixed\_delivery']:"";?>" /> |
| [2578](#L2578) | </div> |
| [2579](#L2579) | </div> |
| [2580](#L2580) | </div> |
| [2581](#L2581) | <div class="Moo\_option-item" > |
| [2582](#L2582) | <div class="normal\_text"> |
| [2583](#L2583) | <strong>Other Zones Delivery fees</strong> :  This delivery fee will be applied for customers that aren't in the delivery zones as drawn above. Keep empty to prevent customers from ordering outside of delivery zones |
| [2584](#L2584) | </div> |
| [2585](#L2585) | <div class="iwl\_holder"> |
| [2586](#L2586) | <div class="iwl\_label\_holder"><label for="otherzonesdeliveryfees">Other Zones Delivery fees</label></div> |
| [2587](#L2587) | <div class="iwl\_input\_holder"> |
| [2588](#L2588) | <input  id="otherzonesdeliveryfees" name="moo\_settings[other\_zones\_delivery]" type="text" value="<?php echo (isset($mooOptions['other\_zones\_delivery']))?$mooOptions['other\_zones\_delivery']:"";?>"  /></div> |
| [2589](#L2589) | </div> |
| [2590](#L2590) | </div> |
| [2591](#L2591) | <div class="Moo\_option-item" > |
| [2592](#L2592) | <div class="normal\_text"> |
| [2593](#L2593) | <strong>Delivery fee name</strong> :  The name of the delivery charge to appear on the receipt |
| [2594](#L2594) | </div> |
| [2595](#L2595) | <div class="iwl\_holder"> |
| [2596](#L2596) | <div class="iwl\_label\_holder"><label for="delivery\_fees\_name">name</label></div> |
| [2597](#L2597) | <div class="iwl\_input\_holder"> |
| [2598](#L2598) | <input  id="delivery\_fees\_name" name="moo\_settings[delivery\_fees\_name]" type="text" value="<?php echo (isset($mooOptions['delivery\_fees\_name']))?$mooOptions['delivery\_fees\_name']:"";?>"  /></div> |
| [2599](#L2599) | </div> |
| [2600](#L2600) | </div> |
| [2601](#L2601) | <div class="Moo\_option-item" > |
| [2602](#L2602) | <div class="normal\_text"> |
| [2603](#L2603) | <strong>Error message</strong> :  Customize The error message that your customers will see if the delivery zone isn't supported |
| [2604](#L2604) | </div> |
| [2605](#L2605) | <div class="iwl\_holder"> |
| [2606](#L2606) | <div class="iwl\_label\_holder"><label for="delivery\_errorMsg"></label></div> |
| [2607](#L2607) | <div class="iwl\_input\_holder"> |
| [2608](#L2608) | <input  id="delivery\_errorMsg" name="moo\_settings[delivery\_errorMsg]" type="text" value="<?php echo (isset($mooOptions['delivery\_errorMsg']))?$mooOptions['delivery\_errorMsg']:"";?>"  /></div> |
| [2609](#L2609) | </div> |
| [2610](#L2610) | </div> |
| [2611](#L2611) | </div> |
| [2612](#L2612) | <div style="text-align: center; margin: 20px;"> |
| [2613](#L2613) | <textarea id="moo\_zones\_json" name="moo\_settings[zones\_json]" hidden><?php echo (isset($mooOptions['zones\_json']))?$mooOptions['zones\_json']:"";?></textarea> |
| [2614](#L2614) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes"> |
| [2615](#L2615) | <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" class="button">Cancel</a> |
| [2616](#L2616) | </div> |
| [2617](#L2617) | </form> |
| [2618](#L2618) | </div> |
| [2619](#L2619) | <!-- Feedback --> |
| [2620](#L2620) | <div id="MooPanel\_tabContent10"> |
| [2621](#L2621) | <h2>Feedback / Help </h2><hr> |
| [2622](#L2622) | <div class="MooPanelItem"> |
| [2623](#L2623) | <h3>Need Help or Feedback</h3> |
| [2624](#L2624) | <div class="normal\_text"> |
| [2625](#L2625) | Do you need help or would like to give us feedback. |
| [2626](#L2626) | You can also visit our support site at <a href="https://docs.zaytech.com" target="\_blank">https://docs.zaytech.com</a> |
| [2627](#L2627) | </div> |
| [2628](#L2628) | <div class="Moo\_option-item"> |
| [2629](#L2629) | <div class="iwl\_holder"> |
| [2630](#L2630) | <div class="iwl\_label\_holder"> |
| [2631](#L2631) | <label for="MoofeedBackEmail">Your Email</label> |
| [2632](#L2632) | </div> |
| [2633](#L2633) | <div class="iwl\_input\_holder"> |
| [2634](#L2634) | <input type="text" name="MoofeedbackEmail" id="MoofeedbackEmail" |
| [2635](#L2635) | style="width: 100%;" value="<?php $emails = explode(",",$mooOptions['merchant\_email']);echo $emails[0];?>" /> |
| [2636](#L2636) | </div> |
| [2637](#L2637) |  |
| [2638](#L2638) | <div class="iwl\_label\_holder"> |
| [2639](#L2639) | <label for="MoofeedBackFullName">Full Name</label> |
| [2640](#L2640) | </div> |
| [2641](#L2641) | <div class="iwl\_input\_holder"> |
| [2642](#L2642) | <input type="text" name="MoofeedBackFullName" id="MoofeedBackFullName" |
| [2643](#L2643) | style="width: 100%;" value="" /> |
| [2644](#L2644) | </div> |
| [2645](#L2645) |  |
| [2646](#L2646) | <div class="iwl\_label\_holder"> |
| [2647](#L2647) | <label for="MoofeedBackBusinessName">Business Name</label> |
| [2648](#L2648) | </div> |
| [2649](#L2649) | <div class="iwl\_input\_holder"> |
| [2650](#L2650) | <input type="text" name="MoofeedBackBusinessName" id="MoofeedBackBusinessName" |
| [2651](#L2651) | style="width: 100%;" value="" /> |
| [2652](#L2652) | </div> |
| [2653](#L2653) |  |
| [2654](#L2654) | <div class="iwl\_label\_holder"> |
| [2655](#L2655) | <label for="MoofeedBackWebsiteName">Website Name</label> |
| [2656](#L2656) | </div> |
| [2657](#L2657) | <div class="iwl\_input\_holder"> |
| [2658](#L2658) | <input type="text" name="MoofeedBackWebsiteName" id="MoofeedBackWebsiteName" |
| [2659](#L2659) | style="width: 100%;" value="" /> |
| [2660](#L2660) | </div> |
| [2661](#L2661) |  |
| [2662](#L2662) | <div class="iwl\_label\_holder"> |
| [2663](#L2663) | <label for="MoofeedBackPhone">Phone Number</label> |
| [2664](#L2664) | </div> |
| [2665](#L2665) | <div class="iwl\_input\_holder"> |
| [2666](#L2666) | <input type="text" name="MoofeedBackPhone" id="MoofeedBackPhone" |
| [2667](#L2667) | style="width: 100%;" value="" /> |
| [2668](#L2668) | </div> |
| [2669](#L2669) |  |
| [2670](#L2670) | <div  style="margin-bottom: 3px;"> |
| [2671](#L2671) | <label for="Moofeedback">Your Message \*</label> |
| [2672](#L2672) | </div> |
| [2673](#L2673) | <div class="iwl\_label\_holder"> |
| [2674](#L2674) | <textarea placeholder="Your Feedback or Help..." name="MooFeedBack" id="Moofeedback" cols="10" rows="10"></textarea> |
| [2675](#L2675) | </div> |
| [2676](#L2676) | </div> |
| [2677](#L2677) | <div class="button\_center"> |
| [2678](#L2678) | <a class="button button-primary" href="#" id="MooSendFeedBackBtn" onclick="MooSendFeedBack(event)">Send</a> |
| [2679](#L2679) | </div> |
| [2680](#L2680) | </div> |
| [2681](#L2681) | </div> |
| [2682](#L2682) | </div> |
| [2683](#L2683) | <!-- Export / Import --> |
| [2684](#L2684) | <div id="MooPanel\_tabContent11" style="overflow: hidden"> |
| [2685](#L2685) | <h2>Export / Import your inventory </h2> |
| [2686](#L2686) | <hr /> |
| [2687](#L2687) | <div class="tabs\_ExIm"> |
| [2688](#L2688) | <div class="tab\_ExIm btn\_export btn\_active" onclick="moo\_change\_exportImport\_tab('export')" id="mooExportSectionButton">Export</div> |
| [2689](#L2689) | <div class="tab\_ExIm btn\_import" id="mooImportSectionButton" onclick="moo\_change\_exportImport\_tab('import')">Import</div> |
| [2690](#L2690) | </div> |
| [2691](#L2691) | <div class="mooContent\_ExIm"> |
| [2692](#L2692) | <div class="MooPanelItem" id="mooExportSection"> |
| [2693](#L2693) | <h3>Select what you want to export</h3> |
| [2694](#L2694) | <p style="color: rgba(142, 142, 142, 0.55);">The settings will be exported without your api key</p> |
| [2695](#L2695) | <div class="checkbox\_ExIM\_options"> |
| [2696](#L2696) | <div class="checkbox\_choose"> |
| [2697](#L2697) | <input type="checkbox" id="options\_images" name="mooExportOptions" value="images" checked> |
| [2698](#L2698) | <label for="options\_images"> Images</label> |
| [2699](#L2699) | </div> |
| [2700](#L2700) | <div class="checkbox\_choose"> |
| [2701](#L2701) | <input type="checkbox" id="options\_descriptions" name="mooExportOptions" value="descriptions" checked> |
| [2702](#L2702) | <label for="options\_descriptions"> Descriptions</label> |
| [2703](#L2703) | </div> |
| [2704](#L2704) | <div class="checkbox\_choose"> |
| [2705](#L2705) | <input type="checkbox" id="options\_modifiers" name="mooExportOptions" value="modifiers" checked> |
| [2706](#L2706) | <label for="options\_modifiers"> Modifiers & Modifier Groups</label> |
| [2707](#L2707) | </div> |
| [2708](#L2708) | <div class="checkbox\_choose"> |
| [2709](#L2709) | <input type="checkbox" id="options\_ordersTypes" name="mooExportOptions" value="ordersTypes" checked> |
| [2710](#L2710) | <label for="options\_ordersTypes"> OrdersTypes</label> |
| [2711](#L2711) | </div> |
| [2712](#L2712) | <div class="checkbox\_choose"> |
| [2713](#L2713) | <input type="checkbox" id="options\_settings" name="mooExportOptions" value="settings" checked> |
| [2714](#L2714) | <label for="options\_settings"> Settings</label> |
| [2715](#L2715) | </div> |
| [2716](#L2716) | <div class="checkbox\_choose"> |
| [2717](#L2717) | <input type="checkbox" id="options\_customHours" name="mooExportOptions" value="customHours" checked> |
| [2718](#L2718) | <label for="options\_customHours"> Custom Hours</label> |
| [2719](#L2719) | </div> |
| [2720](#L2720) | </div> |
| [2721](#L2721) | <div class="btn\_export\_data"> |
| [2722](#L2722) | <button class="button btn-export" onclick="mooExportInventory()">Export</button> |
| [2723](#L2723) | </div> |
| [2724](#L2724) | </div> |
| [2725](#L2725) | <div class="MooPanelItem" id="mooImportSection" style="display: none;"> |
| [2726](#L2726) | <div class="moo\_bt\_ImportItems" id="mooImportSectionUpload"> |
| [2727](#L2727) | <div class="moo\_btn\_import" id="moo-drag-area"> |
| [2728](#L2728) | <input type="file" id="file\_upload\_inventory" accept=".json,application/json" onchange="uploadJsonData()"/> |
| [2729](#L2729) | <img id="uploadIcon" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/icon\_upload.png";?>"> |
| [2730](#L2730) | <img id="uploadingJsonIcon" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/json\_uploading.png";?>" style="display: none;"> |
| [2731](#L2731) | <div class="text-upload"> |
| [2732](#L2732) | <h3 id="drop\_title">Drop your file here</h3> |
| [2733](#L2733) | <p id="drop\_subTitle" style="color: #929292;"> |
| [2734](#L2734) | <?php |
| [2735](#L2735) | $upload\_max\_size = ini\_get('post\_max\_size'); |
| [2736](#L2736) | echo 'Maximum size : ' . $upload\_max\_size; |
| [2737](#L2737) | ?> |
| [2738](#L2738) | </p> |
| [2739](#L2739) | <div class='bar-progress' id="progress-bar" style="display: none;"> |
| [2740](#L2740) | <div class='bar-in-progress' id='in-progress' style='width: 0%'></div> |
| [2741](#L2741) | </div> |
| [2742](#L2742) | <div class="try-btn" style="margin-top: 15px;"> |
| [2743](#L2743) | <img id="try\_again\_import" onclick="reImportInventory()" src="<?php echo plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/tryAgain.png";?>" style="display: none;"> |
| [2744](#L2744) | </div> |
| [2745](#L2745) | </div> |
| [2746](#L2746) | </div> |
| [2747](#L2747) | <div class="browse\_file\_inventory" id="browse\_file"> |
| [2748](#L2748) | <p>Or</p><br> |
| [2749](#L2749) | <a class="button-browse" id="btn\_browse\_inventory" onclick="mooClickOnBrowseButton()">Browse</a> |
| [2750](#L2750) | </div> |
| [2751](#L2751) | </div> |
| [2752](#L2752) | <div id="mooImportResult"> |
| [2753](#L2753) | <div class="mooDescriptions" style="display: none;"> |
| [2754](#L2754) | <div class="text-upload"> |
| [2755](#L2755) | <h3 class="moo-uploading-msg">Uploading your descriptions ..</h3> |
| [2756](#L2756) | <div class='bar-progress'> |
| [2757](#L2757) | <div class='bar-in-progress' id='mooImportDescriptionsProgress' style='width: 0%'></div> |
| [2758](#L2758) | </div> |
| [2759](#L2759) | </div> |
| [2760](#L2760) | </div> |
| [2761](#L2761) | <div class="mooModifiers" style="display: none;"> |
| [2762](#L2762) | <div class="text-upload"> |
| [2763](#L2763) | <h3 class="moo-uploading-msg">Uploading your modifiers and modifier groups ..</h3> |
| [2764](#L2764) | <div class='bar-progress'> |
| [2765](#L2765) | <div class='bar-in-progress' id='mooImportModifiersProgress' style='width: 0%'></div> |
| [2766](#L2766) | </div> |
| [2767](#L2767) | </div> |
| [2768](#L2768) | </div> |
| [2769](#L2769) | <div class="mooOrdersTypes" style="display: none;"> |
| [2770](#L2770) | <div class="text-upload"> |
| [2771](#L2771) | <h3 class="moo-uploading-msg">Uploading your Orders Types ..</h3> |
| [2772](#L2772) | <div class='bar-progress'> |
| [2773](#L2773) | <div class='bar-in-progress' id='mooImportOrdersTypesProgress' style='width: 0%'></div> |
| [2774](#L2774) | </div> |
| [2775](#L2775) | </div> |
| [2776](#L2776) | </div> |
| [2777](#L2777) | <div class="mooSettings" style="display: none;"> |
| [2778](#L2778) | <div class="text-upload"> |
| [2779](#L2779) | <h3 class="moo-uploading-msg">Uploading your settings ..</h3> |
| [2780](#L2780) | <div class='bar-progress'> |
| [2781](#L2781) | <div class='bar-in-progress' id='mooImportSettingsProgress' style='width: 0%'></div> |
| [2782](#L2782) | </div> |
| [2783](#L2783) | </div> |
| [2784](#L2784) | </div> |
| [2785](#L2785) | <div class="mooItems" style="display: none;"> |
| [2786](#L2786) | <div class="text-upload"> |
| [2787](#L2787) | <h3 class="moo-uploading-msg">Uploading your items ..</h3> |
| [2788](#L2788) | <div class='bar-progress'> |
| [2789](#L2789) | <div class='bar-in-progress' id='mooImportItemsProgress' style='width: 0%'></div> |
| [2790](#L2790) | </div> |
| [2791](#L2791) | </div> |
| [2792](#L2792) | </div> |
| [2793](#L2793) | <div class="mooCategories" style="display: none;"> |
| [2794](#L2794) | <div class="text-upload"> |
| [2795](#L2795) | <h3 class="moo-uploading-msg">Uploading your categories ..</h3> |
| [2796](#L2796) | <div class='bar-progress'> |
| [2797](#L2797) | <div class='bar-in-progress' id='mooImportCategoriesProgress' style='width: 0%'></div> |
| [2798](#L2798) | </div> |
| [2799](#L2799) | </div> |
| [2800](#L2800) | </div> |
| [2801](#L2801) | </div> |
| [2802](#L2802) | </div> |
| [2803](#L2803) | </div> |
| [2804](#L2804) | </div> |
| [2805](#L2805) | <!-- Custom Hours --> |
| [2806](#L2806) | <div id="MooPanel\_tabContent12" style="overflow-y: hidden;"> |
| [2807](#L2807) | <h2>Custom Hours </h2><hr> |
| [2808](#L2808) | <iframe id="mooFrameCustomHours" src="https://smh.smartonlineorder.com/home/<?php echo $mooOptions['api\_key'];?>" frameborder="0" style="width: 100%; height: 100vh;overflow-y: scroll"></iframe> |
| [2809](#L2809) | </div> |
| [2810](#L2810) | </div> |
| [2811](#L2811) | </div> |
| [2812](#L2812) |  |
| [2813](#L2813) | <!-- Start of HubSpot Embed Code --> |
| [2814](#L2814) | <script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/7182906.js"></script> |
| [2815](#L2815) | <!-- End of HubSpot Embed Code --> |
| [2816](#L2816) | <?php |
| [2817](#L2817) | } |
| [2818](#L2818) | public function dashboard\_widgets(){ |
| [2819](#L2819) | wp\_add\_dashboard\_widget( |
| [2820](#L2820) | 'moo\_dashboard\_widget\_news',                          // Widget slug. |
| [2821](#L2821) | esc\_html\_\_( 'Smart Online Order Latest Updates', 'moo\_OnlineOrders' ), // Title. |
| [2822](#L2822) | array($this, 'render\_dashboard\_widgetNews' )                   // Display function. |
| [2823](#L2823) | ); |
| [2824](#L2824) | wp\_add\_dashboard\_widget( |
| [2825](#L2825) | 'moo\_dashboard\_widget\_announcements',                          // Widget slug. |
| [2826](#L2826) | esc\_html\_\_( 'Smart Online Order Announcements', 'moo\_OnlineOrders' ), // Title. |
| [2827](#L2827) | array($this, 'render\_dashboard\_widgetAnnouncements' )                   // Display function. |
| [2828](#L2828) | ); |
| [2829](#L2829) |  |
| [2830](#L2830) | } |
| [2831](#L2831) | public function render\_dashboard\_widgetNews(){ |
| [2832](#L2832) | ?> |
| [2833](#L2833) | <!--[if lte IE 8]> |
| [2834](#L2834) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script> |
| [2835](#L2835) | <![endif]--> |
| [2836](#L2836) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script> |
| [2837](#L2837) | <script> |
| [2838](#L2838) | hbspt.forms.create({ |
| [2839](#L2839) | portalId: "7182906", |
| [2840](#L2840) | formId: "0fb22630-4931-4eb4-a206-49d2001bd7b6" |
| [2841](#L2841) | }); |
| [2842](#L2842) | </script> |
| [2843](#L2843) | <?php |
| [2844](#L2844) | } |
| [2845](#L2845) | public function render\_dashboard\_widgetAnnouncements(){ |
| [2846](#L2846) | ?> |
| [2847](#L2847) | <!--[if lte IE 8]> |
| [2848](#L2848) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2-legacy.js"></script> |
| [2849](#L2849) | <![endif]--> |
| [2850](#L2850) | <script charset="utf-8" type="text/javascript" src="//js.hsforms.net/forms/v2.js"></script> |
| [2851](#L2851) | <script> |
| [2852](#L2852) | hbspt.forms.create({ |
| [2853](#L2853) | portalId: "7182906", |
| [2854](#L2854) | formId: "ca2c3d93-f276-4446-b541-42439ea5968c" |
| [2855](#L2855) | }); |
| [2856](#L2856) | </script> |
| [2857](#L2857) | <?php |
| [2858](#L2858) | } |
| [2859](#L2859) | function toolbar\_link\_to\_settings( $wp\_admin\_bar ) { |
| [2860](#L2860) | $args = array( |
| [2861](#L2861) | 'id'    => 'Clover\_Orders', |
| [2862](#L2862) | 'title' => 'Clover Orders', |
| [2863](#L2863) | 'parent'  => false |
| [2864](#L2864) | ); |
| [2865](#L2865) | $args2 = array( |
| [2866](#L2866) | 'id'    => 'Clover\_Orders\_settings', |
| [2867](#L2867) | 'title' => 'Settings', |
| [2868](#L2868) | 'href'  => admin\_url().'admin.php?page=moo\_index', |
| [2869](#L2869) | 'parent'  => 'Clover\_Orders', |
| [2870](#L2870) | ); |
| [2871](#L2871) | $args3 = array( |
| [2872](#L2872) | 'id'    => 'Clover\_Orders\_themes', |
| [2873](#L2873) | 'title' => 'Store Interfaces', |
| [2874](#L2874) | 'href'  => admin\_url().'admin.php?page=moo\_themes', |
| [2875](#L2875) | 'parent'  => 'Clover\_Orders', |
| [2876](#L2876) | ); |
| [2877](#L2877) | $args4 = array( |
| [2878](#L2878) | 'id'    => 'Clover\_Orders\_orders', |
| [2879](#L2879) | 'title' => 'Orders', |
| [2880](#L2880) | 'href'  => admin\_url().'admin.php?page=moo\_orders', |
| [2881](#L2881) | 'parent'  => 'Clover\_Orders', |
| [2882](#L2882) | ); |
| [2883](#L2883) | $args5 = array( |
| [2884](#L2884) | 'id'    => 'Clover\_Orders\_items', |
| [2885](#L2885) | 'title' => 'Items / Images / Description', |
| [2886](#L2886) | 'href'  => admin\_url().'admin.php?page=moo\_items', |
| [2887](#L2887) | 'parent'  => 'Clover\_Orders', |
| [2888](#L2888) | ); |
| [2889](#L2889) | $args6 = array( |
| [2890](#L2890) | 'id'    => 'Clover\_Orders\_coupons', |
| [2891](#L2891) | 'title' => 'Coupons', |
| [2892](#L2892) | 'href'  => admin\_url().'admin.php?page=moo\_coupons', |
| [2893](#L2893) | 'parent'  => 'Clover\_Orders', |
| [2894](#L2894) | ); |
| [2895](#L2895) | $args7 = array( |
| [2896](#L2896) | 'id'    => 'Clover\_Orders\_loyalty', |
| [2897](#L2897) | 'title' => 'Loyalty Dashboard', |
| [2898](#L2898) | 'href'  => admin\_url().'admin.php?page=moo\_dashboard', |
| [2899](#L2899) | 'parent'  => 'Clover\_Orders', |
| [2900](#L2900) | ); |
| [2901](#L2901) | $args8 = array( |
| [2902](#L2902) | 'id'    => 'Clover\_Orders\_reports', |
| [2903](#L2903) | 'title' => 'Reports', |
| [2904](#L2904) | 'href'  => admin\_url().'admin.php?page=moo\_reports', |
| [2905](#L2905) | 'parent'  => 'Clover\_Orders', |
| [2906](#L2906) | ); |
| [2907](#L2907) | $wp\_admin\_bar->add\_node( $args  ); |
| [2908](#L2908) | $wp\_admin\_bar->add\_node( $args2 ); |
| [2909](#L2909) | $wp\_admin\_bar->add\_node( $args3 ); |
| [2910](#L2910) | $wp\_admin\_bar->add\_node( $args4 ); |
| [2911](#L2911) | $wp\_admin\_bar->add\_node( $args5 ); |
| [2912](#L2912) | $wp\_admin\_bar->add\_node( $args6 ); |
| [2913](#L2913) | $wp\_admin\_bar->add\_node( $args7 ); |
| [2914](#L2914) | $wp\_admin\_bar->add\_node( $args8 ); |
| [2915](#L2915) | } |
| [2916](#L2916) | /\*\* |
| [2917](#L2917) | \* Register the options. |
| [2918](#L2918) | \* |
| [2919](#L2919) | \* @since    1.0.0 |
| [2920](#L2920) | \*/ |
| [2921](#L2921) | public function register\_mysettings() { |
| [2922](#L2922) | register\_setting('moo\_settings', 'moo\_settings'); |
| [2923](#L2923) | } |
| [2924](#L2924) | /\*\* |
| [2925](#L2925) | \* Register the stylesheets for the admin area. |
| [2926](#L2926) | \* |
| [2927](#L2927) | \* @since    1.0.0 |
| [2928](#L2928) | \*/ |
| [2929](#L2929) | public function enqueue\_styles() { |
| [2930](#L2930) |  |
| [2931](#L2931) | wp\_register\_style( 'moo-grid-css', plugin\_dir\_url(dirname(\_\_FILE\_\_)) . "public/css/dist/grid12.min.css", array(), $this->version); |
| [2932](#L2932) | wp\_enqueue\_style( 'moo-grid-css' ); |
| [2933](#L2933) |  |
| [2934](#L2934) | wp\_enqueue\_style( 'moo-OnlineOrders-admin-css', plugin\_dir\_url( \_\_FILE\_\_ ).'css/moo-OnlineOrders-admin.css', array(), $this->version, 'all'); |
| [2935](#L2935) | wp\_enqueue\_style( 'moo-OnlineOrders-admin-small-devices-css', plugin\_dir\_url( \_\_FILE\_\_ ).'css/moo-OnlineOrders-admin-small-devices.css', array(), $this->version, 'only screen and (max-device-width: 1200px)'); |
| [2936](#L2936) |  |
| [2937](#L2937) | wp\_enqueue\_style( 'moo-OnlineOrders-dashboard-css', plugin\_dir\_url( \_\_FILE\_\_ ).'css/moo-dashboard.css', array(), $this->version,'all'); |
| [2938](#L2938) |  |
| [2939](#L2939) | wp\_enqueue\_style('moo-tooltip-css',   plugin\_dir\_url( \_\_FILE\_\_ )."css/tooltip.css", array(), $this->version, 'all'); |
| [2940](#L2940) |  |
| [2941](#L2941) | wp\_register\_style( 'moo-magnific-popup', plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/css/dist/magnific-popup.min.css" ); |
| [2942](#L2942) | wp\_enqueue\_style( 'moo-magnific-popup'); |
| [2943](#L2943) |  |
| [2944](#L2944) | wp\_register\_style( 'moo-font-awesome-dash', '//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.5.0/css/all.min.css' ); |
| [2945](#L2945) | wp\_enqueue\_style( 'moo-font-awesome-dash' ); |
| [2946](#L2946) |  |
| [2947](#L2947) | wp\_register\_style( 'moo-introjs-css',plugin\_dir\_url(\_\_FILE\_\_)."css/introjs.min.css",array(), $this->version); |
| [2948](#L2948) | wp\_enqueue\_style( 'moo-introjs-css' ); |
| [2949](#L2949) |  |
| [2950](#L2950) | wp\_register\_style('moo-jquery-ui', '//ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css'); |
| [2951](#L2951) | wp\_enqueue\_style('moo-jquery-ui'); |
| [2952](#L2952) |  |
| [2953](#L2953) | wp\_enqueue\_style( 'wp-color-picker' ); |
| [2954](#L2954) | wp\_enqueue\_style( 'jquery-ui-datepicker' ); |
| [2955](#L2955) |  |
| [2956](#L2956) | wp\_register\_style( 'moo-sweetalert-css', plugin\_dir\_url(dirname(\_\_FILE\_\_)) . "public/css/dist/sweetalert2.min.css",array(), $this->version); |
| [2957](#L2957) | wp\_enqueue\_style( 'moo-sweetalert-css' ); |
| [2958](#L2958) |  |
| [2959](#L2959) | //Modifiers Styles |
| [2960](#L2960) | wp\_register\_style( 'sooModifiersPopUp',SOO\_PLUGIN\_URL . '/public/css/dist/sooModifiersSelector.min.css', array(), SOO\_VERSION); |
| [2961](#L2961) | wp\_enqueue\_style( 'sooModifiersPopUp' ,array('moo-grid-css')); |
| [2962](#L2962) |  |
| [2963](#L2963) | } |
| [2964](#L2964) |  |
| [2965](#L2965) | /\*\* |
| [2966](#L2966) | \* Register the JavaScript for the admin area. |
| [2967](#L2967) | \* |
| [2968](#L2968) | \* @since    1.0.0 |
| [2969](#L2969) | \*/ |
| [2970](#L2970) | public function enqueue\_scripts() { |
| [2971](#L2971) | $mooOptions = (array)get\_option('moo\_settings'); |
| [2972](#L2972) | $params = array( |
| [2973](#L2973) | 'ajaxurl' => admin\_url( 'admin-ajax.php', isset( $\_SERVER['HTTPS'] ) ? 'https://' : 'http://' ), |
| [2974](#L2974) | 'plugin\_url'=>plugin\_dir\_url(dirname(\_\_FILE\_\_)), |
| [2975](#L2975) | 'plugin\_img'=>plugins\_url( '/img', \_\_FILE\_\_ ), |
| [2976](#L2976) | 'nonce' => wp\_create\_nonce( 'wp\_rest' ), |
| [2977](#L2977) | 'moo\_RestUrl'=>get\_rest\_url(), |
| [2978](#L2978) | 'home\_url'=>get\_home\_url() |
| [2979](#L2979) | ); |
| [2980](#L2980) | $response = $this->api->getMerchantCustomHours("categories"); |
| [2981](#L2981) | if($response){ |
| [2982](#L2982) | $merchantCustomHours = $response; |
| [2983](#L2983) | } else { |
| [2984](#L2984) | $merchantCustomHours = array(); |
| [2985](#L2985) | } |
| [2986](#L2986) | $response = $this->api->getMerchantCustomHours("ordertypes"); |
| [2987](#L2987) | if($response){ |
| [2988](#L2988) | $merchantCustomHoursForOT = $response; |
| [2989](#L2989) | if(!is\_array($merchantCustomHoursForOT)){ |
| [2990](#L2990) | $merchantCustomHoursForOT = array(); |
| [2991](#L2991) | } |
| [2992](#L2992) | } else { |
| [2993](#L2993) | $merchantCustomHoursForOT = array(); |
| [2994](#L2994) | } |
| [2995](#L2995) | wp\_enqueue\_script('jquery'); |
| [2996](#L2996) | wp\_enqueue\_script( 'wp-color-picker' ); |
| [2997](#L2997) | wp\_enqueue\_script( 'jquery-ui-datepicker' ); |
| [2998](#L2998) | wp\_enqueue\_script( 'jquery-ui-sortable'); |
| [2999](#L2999) |  |
| [3000](#L3000) | wp\_enqueue\_media(); |
| [3001](#L3001) |  |
| [3002](#L3002) |  |
| [3003](#L3003) | // check if the merchant want use jQuery UI from an external link, some theme remove it |
| [3004](#L3004) | if($this->external\_ui) { |
| [3005](#L3005) | wp\_enqueue\_script( |
| [3006](#L3006) | 'uicore', |
| [3007](#L3007) | 'http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.12/jquery-ui.min.js', |
| [3008](#L3008) | array('jquery') |
| [3009](#L3009) | ); |
| [3010](#L3010) | } |
| [3011](#L3011) |  |
| [3012](#L3012) |  |
| [3013](#L3013) |  |
| [3014](#L3014) | //wp\_enqueue\_script( $this->plugin\_name, plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/moo-OnlineOrders-admin.js', array( 'jquery' ), $this->version, false ); |
| [3015](#L3015) | wp\_register\_script('moo-google-map', 'https://maps.googleapis.com/maps/api/js?key=AIzaSyBv1TkdxvWkbFaDz2r0Yx7xvlNKe-2uyRc&libraries=drawing&geometry'); |
| [3016](#L3016) |  |
| [3017](#L3017) | wp\_register\_script('moo-publicAdmin-js', plugins\_url( 'js/moo-OnlineOrders-admin.js', \_\_FILE\_\_ ),array('moo-google-map'), $this->version); |
| [3018](#L3018) | wp\_register\_script('moo-AdminDashboard-js', plugins\_url( 'js/moo-dashboard.js', \_\_FILE\_\_ ),array('jquery','wp-color-picker'), $this->version); |
| [3019](#L3019) | wp\_register\_script('moo-import-wizard-js', plugins\_url( 'js/moo-importing-wizard.js', \_\_FILE\_\_ ),array('jquery'), $this->version); |
| [3020](#L3020) |  |
| [3021](#L3021) | wp\_register\_script('moo-tooltip-js', plugins\_url( 'js/tooltip.min.js', \_\_FILE\_\_ ),array(), $this->version); |
| [3022](#L3022) | wp\_register\_script('moo-progressbar-js', plugins\_url( 'js/progressbar.min.js', \_\_FILE\_\_ )); |
| [3023](#L3023) |  |
| [3024](#L3024) | wp\_register\_script('moo-map-js', plugins\_url( 'js/moo\_map.js', \_\_FILE\_\_ ),array(), $this->version); |
| [3025](#L3025) | wp\_register\_script('moo-map-da', plugins\_url( 'js/moo\_map\_da.js', \_\_FILE\_\_ ),array(), $this->version); |
| [3026](#L3026) |  |
| [3027](#L3027) | wp\_register\_script('moo-magnific-modal', plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/js/dist/magnific.min.js"); |
| [3028](#L3028) | wp\_enqueue\_script('moo-magnific-modal',array('jquery')); |
| [3029](#L3029) |  |
| [3030](#L3030) | //Promise for IE |
| [3031](#L3031) | wp\_register\_script('moo-bluebird', '//cdn.jsdelivr.net/bluebird/latest/bluebird.min.js',array(), $this->version); |
| [3032](#L3032) | wp\_enqueue\_script('moo-bluebird'); |
| [3033](#L3033) |  |
| [3034](#L3034) | wp\_register\_script('moo-sweetalert-js', plugin\_dir\_url(dirname(\_\_FILE\_\_))."public/js/dist/sweetalert2.min.js"); |
| [3035](#L3035) | wp\_enqueue\_script('moo-sweetalert-js',array('jquery')); |
| [3036](#L3036) |  |
| [3037](#L3037) | wp\_register\_script('moo-introjs-js', plugin\_dir\_url(\_\_FILE\_\_)."js/introjs.min.js"); |
| [3038](#L3038) | wp\_enqueue\_script('moo-introjs-js',array('jquery')); |
| [3039](#L3039) |  |
| [3040](#L3040) | wp\_enqueue\_script('moo-progressbar-js',array('jquery')); |
| [3041](#L3041) | wp\_enqueue\_script("moo-tooltip-js",array('jquery')); |
| [3042](#L3042) |  |
| [3043](#L3043) | //Modifiers Scripts |
| [3044](#L3044) | wp\_register\_script('sooModifiersPopUp', SOO\_PLUGIN\_URL .  '/public/js/dist/sooModifiersSelector.min.js', array(), SOO\_VERSION); |
| [3045](#L3045) | wp\_enqueue\_script('sooModifiersPopUp',array('jquery')); |
| [3046](#L3046) |  |
| [3047](#L3047) | wp\_enqueue\_script('moo-publicAdmin-js',array('jquery','wp-color-picker','jquery-ui-datepicker','jquery-ui-sortable','sooModifiersPopUp')); |
| [3048](#L3048) |  |
| [3049](#L3049) | wp\_localize\_script("moo-publicAdmin-js", "moo\_params",$params); |
| [3050](#L3050) | wp\_localize\_script("moo-publicAdmin-js", "moo\_custom\_hours",$merchantCustomHours); |
| [3051](#L3051) | wp\_localize\_script("moo-publicAdmin-js", "moo\_custom\_hours\_for\_ot",$merchantCustomHoursForOT); |
| [3052](#L3052) | wp\_localize\_script("moo-publicAdmin-js", "mooObjectL10n", SOO\_I18N\_DEFAULT ); |
| [3053](#L3053) | } |
| [3054](#L3054) | public function moo\_update\_address() { |
| [3055](#L3055) | $mooOptions = (array)get\_option('moo\_settings'); |
| [3056](#L3056) |  |
| [3057](#L3057) | $api   = new  Moo\_OnlineOrders\_SooApi(); |
| [3058](#L3058) | $merchant\_address = $api->getMerchantAddress(); |
| [3059](#L3059) |  |
| [3060](#L3060) | $mooDeliveryOptions = array( |
| [3061](#L3061) | "moo\_merchantAddress"=>urlencode($merchant\_address), |
| [3062](#L3062) | "moo\_merchantLat"=>$mooOptions['lat'], |
| [3063](#L3063) | "moo\_merchantLng"=>$mooOptions['lng'], |
| [3064](#L3064) | ); |
| [3065](#L3065) |  |
| [3066](#L3066) | wp\_register\_script('moo-google-map', 'https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyBv1TkdxvWkbFaDz2r0Yx7xvlNKe-2uyRc'); |
| [3067](#L3067) | wp\_enqueue\_script('moo-google-map'); |
| [3068](#L3068) |  |
| [3069](#L3069) | wp\_enqueue\_script('moo-map-js',array('jquery','moo-google-map')); |
| [3070](#L3070) |  |
| [3071](#L3071) | wp\_localize\_script("moo-map-js", "mooDeliveryOptions",$mooDeliveryOptions); |
| [3072](#L3072) |  |
| [3073](#L3073) |  |
| [3074](#L3074) | ?> |
| [3075](#L3075) | <form method="post" action="options.php"  onsubmit="mooSaveChanges(event,this)"> |
| [3076](#L3076) | <?php |
| [3077](#L3077) | $mooOptions = (array)get\_option('moo\_settings'); |
| [3078](#L3078) | ?> |
| [3079](#L3079) | <input type="hidden" name="\_wp\_http\_referer" value="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" /> |
| [3080](#L3080) | <h2>Setup your address</h2><hr> |
| [3081](#L3081) | <div class="MooPanelItem"> |
| [3082](#L3082) | <h3>Please verify your address</h3> |
| [3083](#L3083) | <div class="Moo\_option-item"> |
| [3084](#L3084) | <div class="normal\_text">If the address is incorrect, please go to Clover.com and make changes. You can also move the red pointer over to the correct location</div> |
| [3085](#L3085) | <div class="normal\_text">Your current address is : </div> |
| [3086](#L3086) | <p><?php echo $merchant\_address?></p> |
| [3087](#L3087) | <div class="moo\_map" id="moo\_map"></div> |
| [3088](#L3088) | </div> |
| [3089](#L3089) | <div class="Moo\_option-item"> |
| [3090](#L3090) | <input id="Moo\_Lat" type="text" size="15" name="moo\_settings[lat]" value="<?php echo $mooOptions['lat']?>" hidden/> |
| [3091](#L3091) | <input id="Moo\_Lng" type="text" size="15" name="moo\_settings[lng]" value="<?php echo $mooOptions['lng']?>" hidden/> |
| [3092](#L3092) | <div style="text-align: center;"> |
| [3093](#L3093) | <input type="submit" name="submit" id="submit" class="button button-primary" value="Save Changes"> |
| [3094](#L3094) | <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" class="button">Cancel</a> |
| [3095](#L3095) | </div> |
| [3096](#L3096) | </div> |
| [3097](#L3097) | </div> |
| [3098](#L3098) | </form> |
| [3099](#L3099) | <?php |
| [3100](#L3100) | } |
| [3101](#L3101) | public function moo\_update\_token() |
| [3102](#L3102) | { |
| [3103](#L3103) | $mooOptions = (array)get\_option('moo\_settings'); |
| [3104](#L3104) |  |
| [3105](#L3105) | ?> |
| [3106](#L3106) | <h2>Change your api key</h2><hr> |
| [3107](#L3107) | <div class="MooPanelItem"> |
| [3108](#L3108) | <div class="Moo\_option-item" style="padding-top: 0px;margin-top: -15px;"> |
| [3109](#L3109) | <div style="color: red;font-size: 20px;line-height: 25px;margin: 10px;"> |
| [3110](#L3110) | This action is irreversible, and you will lose all your items,categories,modifiers and modifier groups, items images, items descriptions, categories images & descriptions, |
| [3111](#L3111) | This will be helpful if you want to keep only your settings. (refresh the page after changing the api key) |
| [3112](#L3112) | </div> |
| [3113](#L3113) | </div> |
| [3114](#L3114) | <div class="Moo\_option-item"> |
| [3115](#L3115) | <label for="api\_key">Your New API KEY</label> |
| [3116](#L3116) | <input id="chang\_api\_key" type="text" value="<?php echo $mooOptions['api\_key']?>" style="width: 100%;margin-top: 5px"/> |
| [3117](#L3117) |  |
| [3118](#L3118) | </div> |
| [3119](#L3119) | <div class="Moo\_option-item"> |
| [3120](#L3120) | <div style="text-align: center;"> |
| [3121](#L3121) | <input type="button" class="button button-primary" value="Save Changes" onclick="mooUpdateApiKey()"> |
| [3122](#L3122) | <a href="<?php echo (esc\_url((admin\_url('admin.php?page=moo\_index')))); ?>" class="button">Cancel</a> |
| [3123](#L3123) | </div> |
| [3124](#L3124) | </div> |
| [3125](#L3125) | </div> |
| [3126](#L3126) | <?php |
| [3127](#L3127) | } |
| [3128](#L3128) |  |
| [3129](#L3129) | public function activate\_plugin\_in\_network($blog\_id, $user\_id, $domain, $path, $site\_id, $meta) { |
| [3130](#L3130) | if( is\_multisite()) { |
| [3131](#L3131) | require\_once plugin\_dir\_path( dirname( \_\_FILE\_\_ ) ) . 'includes/moo-OnlineOrders-activator.php'; |
| [3132](#L3132) | switch\_to\_blog($blog\_id); |
| [3133](#L3133) | Moo\_OnlineOrders\_Activator::activate(); |
| [3134](#L3134) | } |
| [3135](#L3135) | } |
| [3136](#L3136) | public function delete\_plugin\_in\_network($blog\_id) { |
| [3137](#L3137) | if( is\_multisite()) { |
| [3138](#L3138) | require\_once plugin\_dir\_path( dirname( \_\_FILE\_\_ ) ) . 'includes/moo-OnlineOrders-deactivator.php'; |
| [3139](#L3139) | switch\_to\_blog($blog\_id); |
| [3140](#L3140) | Moo\_OnlineOrders\_Deactivator::deactivateAndClean(); |
| [3141](#L3141) | } |
| [3142](#L3142) | } |
| [3143](#L3143) | public function moo\_deactivateAndClean() { |
| [3144](#L3144) |  |
| [3145](#L3145) | } |
| [3146](#L3146) |  |
| [3147](#L3147) | public function displayUpdateNotice(){ |
| [3148](#L3148) | if( get\_transient( 'moo\_updated' ) ) { |
| [3149](#L3149) | echo '<div class="notice notice-success">Thanks for updating</div>'; |
| [3150](#L3150) | // Delete the transient so we don't keep displaying the update message |
| [3151](#L3151) | delete\_transient( 'moo\_updated' ); |
| [3152](#L3152) | } |
| [3153](#L3153) | } |
| [3154](#L3154) | private function listOfOrderSection($orders){ |
| [3155](#L3155) | ?> |
| [3156](#L3156) | <div class="wrap"> |
| [3157](#L3157) | <h2>List of orders</h2> |
| [3158](#L3158) | <div id="poststuff"> |
| [3159](#L3159) | <div id="post-body" class="metabox-holder"> |
| [3160](#L3160) | <div id="post-body-content"> |
| [3161](#L3161) | <div class="meta-box-sortables ui-sortable"> |
| [3162](#L3162) | <form method="post"> |
| [3163](#L3163) | <?php $orders->display(); ?> |
| [3164](#L3164) | </form> |
| [3165](#L3165) | </div> |
| [3166](#L3166) | </div> |
| [3167](#L3167) | </div> |
| [3168](#L3168) | <br class="clear"> |
| [3169](#L3169) | </div> |
| [3170](#L3170) | </div> |
| [3171](#L3171) | <?php |
| [3172](#L3172) | } |
| [3173](#L3173) |  |
| [3174](#L3174) | private function orderNotFoundSection(){ |
| [3175](#L3175) | echo "Order Not Found"; |
| [3176](#L3176) | } |
| [3177](#L3177) | private function orderDetailsSection($order){ |
| [3178](#L3178) | $img\_url =  plugin\_dir\_url(dirname(\_\_FILE\_\_))."admin/img/"; |
| [3179](#L3179) |  |
| [3180](#L3180) | if($order["payment\_status"] === "PENDING"){ |
| [3181](#L3181) | $order["payment\_status"] = "OPEN"; |
| [3182](#L3182) | } |
| [3183](#L3183) |  |
| [3184](#L3184) | if (isset($\_SERVER['HTTP\_REFERER']) && ! empty($\_SERVER['HTTP\_REFERER'])){ |
| [3185](#L3185) | $backUrl = htmlspecialchars($\_SERVER['HTTP\_REFERER']); |
| [3186](#L3186) | } else { |
| [3187](#L3187) | $backUrl = admin\_url().'admin.php?page=moo\_orders'; |
| [3188](#L3188) | } |
| [3189](#L3189) | ?> |
| [3190](#L3190) | <div class="wrap sooOrderDetails"> |
| [3191](#L3191) | <div class="moo-container"> |
| [3192](#L3192) | <div class="moo-row"> |
| [3193](#L3193) | <div class="moo-col-md-12"> |
| [3194](#L3194) |  |
| [3195](#L3195) | <h1 class="title1"> |
| [3196](#L3196) | <a href="<?php echo $backUrl;?>" class="back-home"> |
| [3197](#L3197) | <img src="<?php echo $img\_url . "back-icon.svg";?>" style="display: inline-block; cursor: pointer;"> |
| [3198](#L3198) | </a> |
| [3199](#L3199) | Order details |
| [3200](#L3200) | </h1> |
| [3201](#L3201) | <p style="padding-left:12px;padding-top: 5px"> |
| [3202](#L3202) | <span style="color:#848484;font-size: 14px;margin-left: 10px"> |
| [3203](#L3203) | <?php echo $order["note"]; ?> |
| [3204](#L3204) | </span> |
| [3205](#L3205) | </p> |
| [3206](#L3206) | </div> |
| [3207](#L3207) | </div> |
| [3208](#L3208) | </div> |
| [3209](#L3209) | <div class="moo-container"> |
| [3210](#L3210) | <br> |
| [3211](#L3211) | <div class="moo-row" > |
| [3212](#L3212) | <div class="moo-col-lg-6"> |
| [3213](#L3213) | <div class="card-label"> |
| [3214](#L3214) | Order Information |
| [3215](#L3215) | </div> |
| [3216](#L3216) | <div class="card-order"> |
| [3217](#L3217) | <div class="status-section"> |
| [3218](#L3218) | <span class="label-crd">Status</span> |
| [3219](#L3219) | <span class="status-payment-<?php echo str\_replace("\_","-",strtolower($order["payment\_status"])); ?>"> |
| [3220](#L3220) | <?php echo str\_replace("\_"," ",$order["payment\_status"]); ?> |
| [3221](#L3221) | </span> |
| [3222](#L3222) | </div> |
| [3223](#L3223) | <div class="moo-row"> |
| [3224](#L3224) | <div class="moo-col-lg-6"> |
| [3225](#L3225) | <span class="label-crd">Order ID</span> |
| [3226](#L3226) | <br> |
| [3227](#L3227) | <?php |
| [3228](#L3228) | if (isset($order["title"]) && !empty($order["title"])){ |
| [3229](#L3229) | if (substr( $order["title"], 0, 3 ) === "SOO"){ |
| [3230](#L3230) | $t = explode(" ",$order["title"]); |
| [3231](#L3231) | echo "<span>".$t[0]."</span><br />"; |
| [3232](#L3232) | } |
| [3233](#L3233) | } |
| [3234](#L3234) | ?> |
| [3235](#L3235) | <span> <?php echo $order["uuid"]; ?> </span> |
| [3236](#L3236) | </div> |
| [3237](#L3237) | <div class="moo-col-lg-6"> |
| [3238](#L3238) | <span class="label-crd">Order Date</span> |
| [3239](#L3239) | <br> |
| [3240](#L3240) | <span><?php echo $order["created\_at\_hf"]; ?></span> |
| [3241](#L3241) | </div> |
| [3242](#L3242) | </div> |
| [3243](#L3243) | <br> |
| [3244](#L3244) | <div class="moo-row"> |
| [3245](#L3245) | <div class="moo-col-lg-6"> |
| [3246](#L3246) | <span class="label-crd">Ordering Method</span> |
| [3247](#L3247) | <br> |
| [3248](#L3248) | <span> |
| [3249](#L3249) | <?php |
| [3250](#L3250) | if (isset($order["order\_type\_label"]) && !empty($order["order\_type\_label"])){ |
| [3251](#L3251) | echo $order["order\_type\_label"]; |
| [3252](#L3252) | } else { |
| [3253](#L3253) | echo $order["ordertype"]; |
| [3254](#L3254) | } |
| [3255](#L3255) | ?> |
| [3256](#L3256) | </span> |
| [3257](#L3257) | </div> |
| [3258](#L3258) | <div class="moo-col-lg-6"> |
| [3259](#L3259) | <span class="label-crd">Payment method</span> |
| [3260](#L3260) | <br> |
| [3261](#L3261) | <span> |
| [3262](#L3262) | <?php |
| [3263](#L3263) | if(isset($order["payment\_method"]) && !empty($order["payment\_method"])) { |
| [3264](#L3264) | echo $order["payment\_method"]; |
| [3265](#L3265) | } else { |
| [3266](#L3266) | if(isset($order["original\_payment\_method"]) && $order["original\_payment\_method"] === "cash"){ |
| [3267](#L3267) | echo "Cash"; |
| [3268](#L3268) | } |
| [3269](#L3269) | if(isset($order["original\_payment\_method"]) && $order["original\_payment\_method"] === "clover"){ |
| [3270](#L3270) | echo "Credit Card"; |
| [3271](#L3271) | } |
| [3272](#L3272) | } |
| [3273](#L3273) | ?> |
| [3274](#L3274) | </span> |
| [3275](#L3275) | </div> |
| [3276](#L3276) | </div> |
| [3277](#L3277) | <br> |
| [3278](#L3278) | <div class="moo-row"> |
| [3279](#L3279) | <div class="moo-col-lg-6"> |
| [3280](#L3280) | <span class="label-crd">View Receipt</span> |
| [3281](#L3281) | <br> |
| [3282](#L3282) | <span> <a target="\_blank" href="https://clover.com/r/<?php echo $order["uuid"]; ?>">Click here</a></span> |
| [3283](#L3283) | </div> |
| [3284](#L3284) | </div> |
| [3285](#L3285) | </div> |
| [3286](#L3286) | </div> |
| [3287](#L3287) | <div class="moo-col-lg-6"> |
| [3288](#L3288) | <div class="card-label"> |
| [3289](#L3289) | Customer |
| [3290](#L3290) | </div> |
| [3291](#L3291) | <div class="card-order"> |
| [3292](#L3292) | <div class="moo-row"> |
| [3293](#L3293) | <div class="moo-col-lg-4"> |
| [3294](#L3294) | <div class="label-crd"> |
| [3295](#L3295) | Full name |
| [3296](#L3296) | </div> |
| [3297](#L3297) | </div> |
| [3298](#L3298) | <div class="moo-col-lg-8"> |
| [3299](#L3299) | <div class="label-crd-black"> |
| [3300](#L3300) | <?php |
| [3301](#L3301) | if(isset($order["customer"]["fullname"]) && !empty($order["customer"]["fullname"])){ |
| [3302](#L3302) | echo $order["customer"]["fullname"]; |
| [3303](#L3303) | } else { |
| [3304](#L3304) | echo $order["customer"]["first\_name"] . " " . $order["customer"]["last\_name"]; |
| [3305](#L3305) | } |
| [3306](#L3306) | ?> |
| [3307](#L3307) | </div> |
| [3308](#L3308) | </div> |
| [3309](#L3309) | </div> |
| [3310](#L3310) | <div class="moo-row"> |
| [3311](#L3311) | <div class="moo-col-lg-4"> |
| [3312](#L3312) | <div class="label-crd"> |
| [3313](#L3313) | Email |
| [3314](#L3314) | </div> |
| [3315](#L3315) | </div> |
| [3316](#L3316) | <div class="moo-col-lg-8"> |
| [3317](#L3317) | <div class="label-crd-black"> |
| [3318](#L3318) | <?php echo $order["customer"]["email"]; ?> |
| [3319](#L3319) | </div> |
| [3320](#L3320) | </div> |
| [3321](#L3321) | </div> |
| [3322](#L3322) | <div class="moo-row"> |
| [3323](#L3323) | <div class="moo-col-lg-4"> |
| [3324](#L3324) | <div class="label-crd"> |
| [3325](#L3325) | Phone number |
| [3326](#L3326) | </div> |
| [3327](#L3327) | </div> |
| [3328](#L3328) | <div class="moo-col-lg-8"> |
| [3329](#L3329) | <div class="label-crd-black"> |
| [3330](#L3330) | <?php echo $order["customer"]["phone"]; ?> |
| [3331](#L3331) | </div> |
| [3332](#L3332) | </div> |
| [3333](#L3333) | </div> |
| [3334](#L3334) | <?php if(isset($order["address"])): ?> |
| [3335](#L3335) | <div class="moo-row"> |
| [3336](#L3336) | <div class="moo-col-lg-4"> |
| [3337](#L3337) | <div class="label-crd"> |
| [3338](#L3338) | Address |
| [3339](#L3339) | </div> |
| [3340](#L3340) | </div> |
| [3341](#L3341) | <div class="moo-col-lg-8"> |
| [3342](#L3342) | <div class="label-crd-black"> |
| [3343](#L3343) | <?php echo $order["address"]["address"]. " ". $order["address"]["line2"]."<br />" ; ?> |
| [3344](#L3344) | <?php echo $order["address"]["state"]. "<br />". $order["address"]["city"]." ".$order["address"]["zipcode"] ; ?> |
| [3345](#L3345) | </div> |
| [3346](#L3346) | </div> |
| [3347](#L3347) | </div> |
| [3348](#L3348) | <?php endif; ?> |
| [3349](#L3349) | </div> |
| [3350](#L3350) | </div> |
| [3351](#L3351) | </div> |
| [3352](#L3352) | </div> |
| [3353](#L3353) | <div class="moo-container"> |
| [3354](#L3354) | <div class="moo-row"> |
| [3355](#L3355) | <div class="moo-col-md-12"> |
| [3356](#L3356) | <div class="card-label"> |
| [3357](#L3357) | Order Items |
| [3358](#L3358) | </div> |
| [3359](#L3359) | </div> |
| [3360](#L3360) | </div> |
| [3361](#L3361) | <div class="card-order" style="padding: 0px"> |
| [3362](#L3362) | <div class="table-header moo-row"> |
| [3363](#L3363) | <div class="moo-col-md-6">Items</div> |
| [3364](#L3364) | <div class="moo-col-md-2">Unit price</div> |
| [3365](#L3365) | <div class="moo-col-md-2">Quantity</div> |
| [3366](#L3366) | <div class="moo-col-md-2">Total price</div> |
| [3367](#L3367) | </div> |
| [3368](#L3368) | <div class="table-body lineItem"> |
| [3369](#L3369) | <?php $orderSubtotal = 0; ?> |
| [3370](#L3370) | <?php foreach ($order["cart"] as $i=>$lineItem): ?> |
| [3371](#L3371) | <?php $lineItemSubtotal = $lineItem["qty"]\*$lineItem["price"];$lineItemModifiersSubtotal=0; ?> |
| [3372](#L3372) | <div class="moo-row <?php echo (($i%2 == 0) ? 'bg-stripped-gray' : 'bg-stripped-white'); ?>"  > |
| [3373](#L3373) | <div class="moo-col-md-6 lineItemName"> |
| [3374](#L3374) |  |
| [3375](#L3375) | <?php if (isset($lineItem["modifiers"]) && is\_array($lineItem["modifiers"]) && count($lineItem["modifiers"])>0): ?> |
| [3376](#L3376) | <span> |
| [3377](#L3377) | <?php |
| [3378](#L3378) | if(isset($lineItem["price"]) && $lineItem["price"]>0){ |
| [3379](#L3379) | echo $lineItem["name"] . " ($".number\_format($lineItem["price"]/100,2) . ")"; |
| [3380](#L3380) | } else { |
| [3381](#L3381) | echo $lineItem["name"]; |
| [3382](#L3382) | } |
| [3383](#L3383) | ?> |
| [3384](#L3384) | </span> |
| [3385](#L3385) | <ul class="modifiers-list"> |
| [3386](#L3386) | <?php foreach ($lineItem["modifiers"] as $im=>$modifier): ?> |
| [3387](#L3387) | <li> |
| [3388](#L3388) | <span> <?php echo (isset($modifier["qty"])) ? $modifier["qty"] : "1"; ?>x </span> <?php echo $modifier["name"] . " $".number\_format($modifier["amount"]/100,2); ?> |
| [3389](#L3389) |  |
| [3390](#L3390) | </li> |
| [3391](#L3391) | <?php $lineItemModifiersSubtotal += ($modifier["amount"]\*$modifier["qty"]); $lineItemSubtotal += ($modifier["amount"]\*$modifier["qty"]\*$lineItem["qty"]); ?> |
| [3392](#L3392) | <?php endforeach; ?> |
| [3393](#L3393) | </ul> |
| [3394](#L3394) | <?php else: ?> |
| [3395](#L3395) | <span> |
| [3396](#L3396) | <?php echo $lineItem["name"]; ?> |
| [3397](#L3397) | </span> |
| [3398](#L3398) | <?php endif; ?> |
| [3399](#L3399) | <div class="itemNote"> |
| [3400](#L3400) | <span><?php if( ! empty($lineItem["note"]) ){echo $lineItem["note"];} ?></span> |
| [3401](#L3401) | </div> |
| [3402](#L3402) | </div> |
| [3403](#L3403) | <div class="moo-col-md-2 lineItemUnitPrice"> |
| [3404](#L3404) | <?php |
| [3405](#L3405) | if (isset($lineItem["modifiers"])){ |
| [3406](#L3406) | echo "$".number\_format(($lineItem["price"]+$lineItemModifiersSubtotal)/100,2); |
| [3407](#L3407) | } else { |
| [3408](#L3408) | echo "$".number\_format($lineItem["price"]/100,2); |
| [3409](#L3409) | } |
| [3410](#L3410) | ?> |
| [3411](#L3411) | <span><?php if( isset($lineItem["unitName"]) ){echo "/" . $lineItem["unitName"];} ?></span> |
| [3412](#L3412) | </div> |
| [3413](#L3413) | <div class="moo-col-md-2 lineItemQty"> |
| [3414](#L3414) | <?php echo (isset($lineItem["qty"])) ? $lineItem["qty"] : "1"; ?> |
| [3415](#L3415) | </div> |
| [3416](#L3416) | <div class="moo-col-md-2 lineItemPrice"> |
| [3417](#L3417) | <?php echo "$".number\_format(($lineItemSubtotal)/100,2); ?> |
| [3418](#L3418) | </div> |
| [3419](#L3419) | </div> |
| [3420](#L3420) | <?php $orderSubtotal += $lineItemSubtotal; ?> |
| [3421](#L3421) | <?php endforeach; ?> |
| [3422](#L3422) | </div> |
| [3423](#L3423) | <div class="table-footer moo-row"> |
| [3424](#L3424) | <div class="moo-col-md-4 moo-col-md-offset-6"> |
| [3425](#L3425) | <div class="moo-row"> |
| [3426](#L3426) | <div class="moo-col-md-6 pr-4"> |
| [3427](#L3427) | <span class="table-pricing">Subtotal</span> |
| [3428](#L3428) | </div> |
| [3429](#L3429) | <div class="moo-col-md-6 pr-4" style="text-align: right"> |
| [3430](#L3430) | <span class="table-pricing"> |
| [3431](#L3431) | <?php echo "$".number\_format($orderSubtotal/100,2); ?> |
| [3432](#L3432) | </span> |
| [3433](#L3433) | </div> |
| [3434](#L3434) | </div> |
| [3435](#L3435) | <?php if($order["tax\_amount"] > 0): ?> |
| [3436](#L3436) | <div class="moo-row"> |
| [3437](#L3437) | <div class="moo-col-md-6 pr-4"> |
| [3438](#L3438) | <span class="table-pricing">Tax</span> |
| [3439](#L3439) | </div> |
| [3440](#L3440) | <div class="moo-col-md-6 pr-4" style="text-align: right"> |
| [3441](#L3441) | <span class="table-pricing"> |
| [3442](#L3442) | <?php echo "$".number\_format($order["tax\_amount"]/100,2); ?> |
| [3443](#L3443) | </span> |
| [3444](#L3444) | </div> |
| [3445](#L3445) | </div> |
| [3446](#L3446) | <?php endif; ?> |
| [3447](#L3447) | <?php if($order["service\_fee"] > 0): ?> |
| [3448](#L3448) | <div class="moo-row"> |
| [3449](#L3449) | <div class="moo-col-md-6 pr-4" > |
| [3450](#L3450) | <span class="table-pricing"> |
| [3451](#L3451) | <?php echo $order["service\_fee\_name"]; ?> |
| [3452](#L3452) | </span> |
| [3453](#L3453) | </div> |
| [3454](#L3454) | <div class="moo-col-md-6 pr-4" style="text-align: right" > |
| [3455](#L3455) | <span class="table-pricing"> |
| [3456](#L3456) | <?php echo "$".number\_format($order["service\_fee"]/100,2); ?> |
| [3457](#L3457) | </span> |
| [3458](#L3458) | </div> |
| [3459](#L3459) | </div> |
| [3460](#L3460) | <?php endif; ?> |
| [3461](#L3461) | <?php if($order["tip\_amount"] > 0): ?> |
| [3462](#L3462) | <div class="moo-row"> |
| [3463](#L3463) | <div class="moo-col-md-6 pr-4" > |
| [3464](#L3464) | <span class="table-pricing">Tip</span> |
| [3465](#L3465) | </div> |
| [3466](#L3466) | <div class="moo-col-md-6 pr-4" style="text-align: right" > |
| [3467](#L3467) | <span class="table-pricing"> |
| [3468](#L3468) | <?php echo "$".number\_format($order["tip\_amount"]/100,2); ?> |
| [3469](#L3469) | </span> |
| [3470](#L3470) | </div> |
| [3471](#L3471) | </div> |
| [3472](#L3472) | <?php endif; ?> |
| [3473](#L3473) | <?php if($order["delivery\_fee"] > 0): ?> |
| [3474](#L3474) | <div class="moo-row"> |
| [3475](#L3475) | <div class="moo-col-md-6 pr-4" > |
| [3476](#L3476) | <span class="table-pricing"> |
| [3477](#L3477) | <?php echo $order["delivery\_name"]; ?> |
| [3478](#L3478) | </span> |
| [3479](#L3479) | </div> |
| [3480](#L3480) | <div class="moo-col-md-6 pr-4" style="text-align: right" > |
| [3481](#L3481) | <span class="table-pricing"> |
| [3482](#L3482) | <?php echo "$".number\_format($order["delivery\_fee"]/100,2); ?> |
| [3483](#L3483) | </span> |
| [3484](#L3484) | </div> |
| [3485](#L3485) | </div> |
| [3486](#L3486) | <?php endif; ?> |
| [3487](#L3487) | <?php if(count($order["discounts"]) > 0): ?> |
| [3488](#L3488) | <div> |
| [3489](#L3489) | <?php foreach($order["discounts"] as $discount): ?> |
| [3490](#L3490) | <div class="moo-row"> |
| [3491](#L3491) | <div class="moo-col-md-6 pr-4" > |
| [3492](#L3492) | <span class="table-pricing" style="font-weight: 700"> <?php echo $discount["name"]; ?></span> |
| [3493](#L3493) | </div> |
| [3494](#L3494) | <div class="moo-col-md-6 pr-4" style="text-align: right;"> |
| [3495](#L3495) | <span style="color: green" class="table-pricing"> |
| [3496](#L3496) | <?php echo "- $".number\_format(($discount["amount"])/-100,2); ?> |
| [3497](#L3497) | </span> |
| [3498](#L3498) | </div> |
| [3499](#L3499) | </div> |
| [3500](#L3500) | <?php endforeach; ?> |
| [3501](#L3501) | </div> |
| [3502](#L3502) | <?php endif; ?> |
| [3503](#L3503) |  |
| [3504](#L3504) | <hr> |
| [3505](#L3505) | <div class="moo-row"> |
| [3506](#L3506) | <div class="moo-col-md-6 pr-4"> |
| [3507](#L3507) | <span class="table-pricing" style="font-weight: 600;color: black;font-size: 18px">Total price</span> |
| [3508](#L3508) | </div> |
| [3509](#L3509) | <div class="moo-col-md-6 pr-4" style="text-align: right;"> |
| [3510](#L3510) | <span class="table-pricing" style="font-weight: 600;color: black;font-size: 18px"> |
| [3511](#L3511) | <?php echo "$".number\_format($order["amount"]/100,2); ?> |
| [3512](#L3512) | </span> |
| [3513](#L3513) | </div> |
| [3514](#L3514) | </div> |
| [3515](#L3515) | </div> |
| [3516](#L3516) | </div> |
| [3517](#L3517) | </div> |
| [3518](#L3518) | <?php if (isset($order["payments"]) && is\_array($order["payments"]) && count($order["payments"])>0): ?> |
| [3519](#L3519) | <div class="moo-row"> |
| [3520](#L3520) | <div class="moo-col-md-12"> |
| [3521](#L3521) | <div class="card-label"> |
| [3522](#L3522) | Payment |
| [3523](#L3523) | </div> |
| [3524](#L3524) | </div> |
| [3525](#L3525) | </div> |
| [3526](#L3526) |  |
| [3527](#L3527) | <div class="card-order-payments"> |
| [3528](#L3528) | <div class="table-header moo-row"> |
| [3529](#L3529) | <div class="moo-col-md-2">Payment Result</div> |
| [3530](#L3530) | <div class="moo-col-md-2">Paid Amount</div> |
| [3531](#L3531) | <div class="moo-col-md-2">Taxes</div> |
| [3532](#L3532) | <div class="moo-col-md-2">Tips</div> |
| [3533](#L3533) | <div class="moo-col-md-2">Payment Method</div> |
| [3534](#L3534) | <div class="moo-col-md-2">Payment date</div> |
| [3535](#L3535) | </div> |
| [3536](#L3536) | <div class="table-body moo-row"> |
| [3537](#L3537) | <?php foreach($order["payments"] as $payment): ?> |
| [3538](#L3538) | <div class="moo-row"> |
| [3539](#L3539) | <div class="moo-col-md-2"><?php echo $payment["result"] ?></div> |
| [3540](#L3540) | <div class="moo-col-md-2"><?php echo '$'.number\_format($payment["payment\_amount"]/100,2); ?></div> |
| [3541](#L3541) | <div class="moo-col-md-2"><?php echo '$'.number\_format($payment["tax\_amount"]/100,2); ?></div> |
| [3542](#L3542) | <div class="moo-col-md-2"><?php echo '$'.number\_format($payment["tip\_amount"]/100,2); ?></div> |
| [3543](#L3543) | <div class="moo-col-md-2">xxxxxxxxxxxx-<?php echo $payment["last4"]; ?></div> |
| [3544](#L3544) | <div class="moo-col-md-2"><?php echo $payment["created\_at\_hf"]; ?></div> |
| [3545](#L3545) | </div> |
| [3546](#L3546) | <?php endforeach; ?> |
| [3547](#L3547) | </div> |
| [3548](#L3548) | </div> |
| [3549](#L3549) |  |
| [3550](#L3550) | <?php endif; ?> |
| [3551](#L3551) | <?php if(isset($order["special\_instructions"]) && !empty($order["special\_instructions"])): ?> |
| [3552](#L3552) | <br> |
| [3553](#L3553) | <div class="moo-row"> |
| [3554](#L3554) | <div class="moo-col-md-12"> |
| [3555](#L3555) | <div class="card-label"> |
| [3556](#L3556) | Special instructions |
| [3557](#L3557) | </div> |
| [3558](#L3558) | </div> |
| [3559](#L3559) | </div> |
| [3560](#L3560) | <div class="moo-row"> |
| [3561](#L3561) | <div class="moo-col-md-12"> |
| [3562](#L3562) | <div class="card-order" style="min-height: auto;padding-left: 10px !important;padding-right: 10px !important"> |
| [3563](#L3563) | <span class="special-insructions"> |
| [3564](#L3564) | <?php echo $order["special\_instructions"]; ?> |
| [3565](#L3565) | </span> |
| [3566](#L3566) | <br> |
| [3567](#L3567) | </div> |
| [3568](#L3568) | </div> |
| [3569](#L3569) | </div> |
| [3570](#L3570) | <?php endif; ?> |
| [3571](#L3571) | </div> |
| [3572](#L3572) | </div> |
| [3573](#L3573) | <?php |
| [3574](#L3574) | } |
| [3575](#L3575) |  |
| [3576](#L3576) | public static function sortItems($a, $b) |
| [3577](#L3577) | { |
| [3578](#L3578) | return $a->sort\_order>$b->sort\_order; |
| [3579](#L3579) | } |
| [3580](#L3580) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php?format=txt)
* [Original Format](/export/3220820/clover-online-orders/tags/1.5.7/admin/moo-OnlineOrders-admin.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


