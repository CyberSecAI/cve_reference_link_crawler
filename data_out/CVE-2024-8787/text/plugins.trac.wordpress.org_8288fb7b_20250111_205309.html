

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3168446%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php%3Fold%3D3142847%26old_path%3Dclover-online-orders%252Ftags%252F1.5.7%252Fadmin%252Fincludes%252Fclass-moo-products-list.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3142847/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?old=3168446&old_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)

---

# Changes from [clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847 "Show entry in browser") at [r3142847](/changeset/3142847 "Show full changeset") to [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446 "Show entry in browser") at [r3168446](/changeset/3168446 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446 "Show entry in browser")
  (modified)
  ([21 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php](/changeset/3168446/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?old=3142847&old_path=clover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php "Show the [3142847:3168446] differences restricted to clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php")

  | [r3142847](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L8 "Show revision 3142847 of this file in browser") | [r3168446](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L8 "Show revision 3168446 of this file in browser") |  |
  | --- | --- | --- |
  | 8 | 8 | protected $editIcon; |
  | 9 | 9 | protected $api; |
  |  | 10 | private $itemsPageUrl; |
  | 10 | 11 |  |
  | 11 | 12 | /\*\* Class constructor \*/ |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L13) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L14) |  |
  | 13 | 14 | require\_once plugin\_dir\_path( dirname(\_\_FILE\_\_) )."../includes/moo-OnlineOrders-sooapi.php"; |
  | 14 | 15 | $this->api = new Moo\_OnlineOrders\_SooApi(); |
  |  | 16 | $this->itemsPageUrl = admin\_url('admin.php?page=moo\_items'); |
  | 15 | 17 |  |
  | 16 | 18 | /\*\* Process bulk action \*/ |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L22) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L24) |  |
  | 22 | 24 |  |
  | 23 | 25 | parent::\_\_construct( array( |
  | 24 |  | 'singular' => \_\_( 'Item'), //singular name of the listed records |
  | 25 |  | 'plural'   => \_\_( 'Items'), //plural name of the listed records |
  |  | 26 | 'singular' => \_\_( 'Item',"moo\_OnlineOrders"), //singular name of the listed records |
  |  | 27 | 'plural'   => \_\_( 'Items',"moo\_OnlineOrders"), //plural name of the listed records |
  | 26 | 28 | 'ajax'     => false //should this table support ajax? |
  | 27 | 29 |  |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L163) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L165) |  |
  | 163 | 165 | /\*\* Text displayed when no customer data is available \*/ |
  | 164 | 166 | public function no\_items() { |
  | 165 |  | \_e( 'No items available.'); |
  |  | 167 | \_e( 'No items available.',"moo\_OnlineOrders"); |
  | 166 | 168 | } |
  | 167 | 169 | /\*\* |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L221) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L223) |  |
  | 221 | 223 | } |
  | 222 | 224 |  |
  | 223 |  | if(isset($\_GET["category"])){ |
  | 224 |  | if($item['visible']) { |
  | 225 |  | $actions = array( |
  | 226 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 227 |  | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Hide from the Website</a>', |
  | 228 |  | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
  | 229 |  | ); |
  | 230 |  | } else { |
  | 231 |  | $actions = array( |
  | 232 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 233 |  | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&category=%s&paged=%s">Show in the Website</a>', |
  | 234 |  | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,esc\_attr($\_GET["category"]),$this->get\_pagenum()) |
  | 235 |  | ); |
  | 236 |  | } |
  | 237 |  | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&category=%s&paged=%s">Add / Edit Images</a>', |
  | 238 |  | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),esc\_attr($\_GET["category"]),$this->get\_pagenum()); |
  | 239 |  |  |
  | 240 |  | if($item['outofstock']) { |
  | 241 |  | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Disable out of stock</a>', |
  | 242 |  | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
  | 243 |  | } else { |
  | 244 |  | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s&category=%s">Enable out of stock</a>', |
  | 245 |  | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum(),esc\_attr($\_GET["category"])); |
  | 246 |  | } |
  | 247 |  |  |
  | 248 |  | } else { |
  | 249 |  | if($item['visible']) { |
  | 250 |  | $actions = array( |
  | 251 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 252 |  | 'hide' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Hide from the Website</a>', |
  | 253 |  | 'moo\_items', 'hide',esc\_attr($item['uuid']), $hide\_nonce,$this->get\_pagenum()) |
  | 254 |  | ); |
  | 255 |  | } else { |
  | 256 |  | $actions = array( |
  | 257 |  | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  | 258 |  | 'show' => sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Show in the Website</a>', |
  | 259 |  | 'moo\_items', 'show',esc\_attr($item['uuid']), $show\_nonce,$this->get\_pagenum()) |
  | 260 |  | ); |
  | 261 |  | } |
  | 262 |  | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&paged=%s">Add / Edit Images</a>', |
  | 263 |  | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),$this->get\_pagenum()); |
  | 264 |  |  |
  | 265 |  | if($item['outofstock']) { |
  | 266 |  | $actions['disable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Disable out of stock</a>', |
  | 267 |  | 'moo\_items', 'disable\_ot',esc\_attr($item['uuid']), $disable\_ot\_nonce,$this->get\_pagenum()); |
  | 268 |  | } else { |
  | 269 |  | $actions['enable\_ot']  = sprintf( '<a href="?page=%s&action=%s&item=%s&\_wpnonce=%s&paged=%s">Enable out of stock</a>', |
  | 270 |  | 'moo\_items', 'enable\_ot',esc\_attr($item['uuid']), $enable\_ot\_nonce,$this->get\_pagenum()); |
  | 271 |  | } |
  | 272 |  |  |
  | 273 |  |  |
  | 274 |  | } |
  |  | 225 | $actions = array( |
  |  | 226 | 'id' =>"ID: ".esc\_attr($item['uuid']), |
  |  | 227 | ); |
  |  | 228 | if( ! empty( $\_REQUEST['filter'] )){ |
  |  | 229 | $filter = esc\_attr($\_REQUEST['filter']); |
  |  | 230 | } else { |
  |  | 231 | $filter = 'all'; |
  |  | 232 | } |
  |  | 233 |  |
  |  | 234 | if( ! empty( $\_REQUEST['category'] )) { |
  |  | 235 | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&category=%s&paged=%s&filter=%s">Add / Edit Images</a>', |
  |  | 236 | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),esc\_attr($\_REQUEST["category"]),$this->get\_pagenum(),$filter); |
  |  | 237 | } else { |
  |  | 238 | $actions['edit'] = sprintf( '<a href="?page=%s&action=%s&item\_uuid=%s&paged=%s&filter=%s">Add / Edit Images</a>', |
  |  | 239 | 'moo\_items', 'update\_item',esc\_attr($item['uuid']),$this->get\_pagenum(),$filter); |
  |  | 240 | } |
  |  | 241 |  |
  |  | 242 | $actions['visibility']  = sprintf( '<a style="%s" id="sooHideAnItem-%s"  data-is-visible="true" href="#" onclick="moo\_changeItemVisibility(event, \'%s\')">Hide from the Website</a><a style="%s" id="sooShowAnItem-%s"  data-is-visible="false" href="#" onclick="moo\_changeItemVisibility(event, \'%s\')">Show in the Website</a>', |
  |  | 243 | (($item['visible'] == '1') ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (($item['visible'] == "1") ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  |  | 244 |  |
  |  | 245 | $actions['outofstock']  = sprintf( '<a style="%s" id="sooOutOfStockItem-%s"  data-is-out-of-stock="true" href="#" onclick="moo\_markItemAsOutOfStock(event, \'%s\')">Enable Out Of Stock</a><a style="%s" id="sooInStockItem-%s"  data-is-out-of-stock="false" href="#" onclick="moo\_markItemAsOutOfStock(event, \'%s\')">Disable Out Of Stock</a>', |
  |  | 246 | (empty($item['outofstock']) ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (empty($item['outofstock']) ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  | 275 | 247 |  |
  | 276 | 248 | $actions['edit\_description'] = sprintf( '<a class="moo-edit-description-button" href="#" onclick="moo\_editItemDescription(event,\'%s\',\'%s\')">Add / Edit description</a>', |
  | 277 |  | esc\_attr($item['uuid']), esc\_js($itemName)~~, esc\_attr($item['uuid'])~~); |
  |  | 249 | esc\_attr($item['uuid']), esc\_js($itemName)); |
  | 278 | 250 |  |
  | 279 | 251 | $actions['featured\_item']  = sprintf( '<a style="%s" id="sooMarkAsFeaturedLink-%s"  data-is-featured="true" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Mark as Featured</a><a style="%s" id="sooMarkAsUnFeaturedLink-%s"  data-is-featured="false" href="#" onclick="moo\_markItemAsFeatured(event, \'%s\')">Unfeature</a>', |
  | 280 | 252 | (empty($item['featured']) ? '':'display: none;'), esc\_attr($item['uuid']), esc\_attr($item['uuid']),  (empty($item['featured']) ? 'display: none;':''), esc\_attr($item['uuid']), esc\_attr($item['uuid'])); |
  |  | 253 |  |
  | 281 | 254 | return $title . $this->row\_actions( $actions ); |
  | 282 | 255 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L296) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L269) |  |
  | 296 | 269 | case 'unit\_name': |
  | 297 | 270 | return $item[ $column\_name ]; |
  |  | 271 | case 'visible': |
  |  | 272 | if($item[ $column\_name ]) { |
  |  | 273 | return "<span id='visibility-item-{$item["uuid"]}'>No</span>"; |
  |  | 274 | } else { |
  |  | 275 | return "<span id='visibility-item-{$item["uuid"]}'>Yes</span>"; |
  |  | 276 | } |
  | 298 | 277 | case 'available': |
  |  | 278 | if($item[ $column\_name ]) { |
  |  | 279 | return "<span>Yes</span>"; |
  |  | 280 | } else { |
  |  | 281 | return "<span>No</span>"; |
  |  | 282 | } |
  | 299 | 283 | case 'outofstock': |
  | 300 |  | return intval($item[ $column\_name ])=== 1 ? "Yes" : "No" ; |
  |  | 284 | if($item[ $column\_name ]) { |
  |  | 285 | return "<span id='outofstock-item-{$item["uuid"]}'>Yes</span>"; |
  |  | 286 | } else { |
  |  | 287 | return "<span id='outofstock-item-{$item["uuid"]}'>No</span>"; |
  |  | 288 | } |
  | 301 | 289 | case 'custom\_hours': |
  | 302 | 290 | return $this->getCustomHours($item[ $column\_name ]); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L357) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L345) |  |
  | 357 | 345 | 'cb'      => '<input type="checkbox" />', |
  | 358 | 346 | 'image'      => "", |
  | 359 |  | 'soo\_name'    => \_\_( 'Online Name'), |
  | 360 |  | 'name'    => \_\_( 'Clover Name'), |
  | 361 |  | 'price' => \_\_( 'Price'), |
  | 362 |  | 'price\_type' => \_\_( 'Price Type'), |
  | 363 |  | 'outofstock' => \_\_( 'Out Of Stock'), |
  | 364 |  | 'available' => \_\_( 'Available'), |
  | 365 |  | 'custom\_hours' => \_\_( 'Custom Hours'), |
  |  | 347 | 'soo\_name'    => \_\_( 'Online Name',"moo\_OnlineOrders"), |
  |  | 348 | 'name'    => \_\_( 'Clover Name',"moo\_OnlineOrders"), |
  |  | 349 | 'price' => \_\_( 'Price',"moo\_OnlineOrders"), |
  |  | 350 | 'price\_type' => \_\_( 'Price Type',"moo\_OnlineOrders"), |
  |  | 351 | 'outofstock' => \_\_( 'Out Of Stock',"moo\_OnlineOrders"), |
  |  | 352 | 'visible' => \_\_( 'is Hidden',"moo\_OnlineOrders"), |
  |  | 353 | 'available' => \_\_( 'Available',"moo\_OnlineOrders"), |
  |  | 354 | 'custom\_hours' => \_\_( 'Custom Hours',"moo\_OnlineOrders"), |
  | 366 | 355 |  |
  | 367 | 356 | ); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L428) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L417) |  |
  | 428 | 417 | } |
  | 429 | 418 | public function process\_bulk\_action() { |
  | 430 |  |  |
  | 431 |  | $custom\_url  = add\_query\_arg( 'bulk-status', 'success', remove\_query\_arg( array( 'action', '\_wpnonce' ) ) ); |
  | 432 |  |  |
  |  | 419 | $queryArgs =  array('paged'=>$this->get\_pagenum()); |
  |  | 420 |  |
  |  | 421 | if( ! empty( $\_REQUEST['filter'] )){ |
  |  | 422 | $queryArgs[] = array( |
  |  | 423 | "filter" => esc\_attr($\_REQUEST['filter']) |
  |  | 424 | ); |
  |  | 425 | } |
  |  | 426 |  |
  |  | 427 | if( ! empty( $\_REQUEST['category'] )){ |
  |  | 428 | $queryArgs[] = array( |
  |  | 429 | "category" => esc\_attr($\_REQUEST['category']) |
  |  | 430 | ); |
  |  | 431 | } |
  |  | 432 | $redirect\_url  = add\_query\_arg($queryArgs, $this->itemsPageUrl ); |
  | 433 | 433 | //Detect when a single action is being triggered... |
  | 434 | 434 | if ( 'hide' === $this->current\_action() ) { |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L441) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L441) |  |
  | 441 | 441 | } else { |
  | 442 | 442 | $this->hide\_item(sanitize\_text\_field($\_GET['item'])); |
  | 443 |  | wp\_~~redirect($custom~~\_url); |
  |  | 443 | wp\_safe\_redirect($redirect\_url); |
  | 444 | 444 | exit; |
  | 445 | 445 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L454) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L454) |  |
  | 454 | 454 | else { |
  | 455 | 455 | $this->show\_item(sanitize\_text\_field($\_GET['item'])); |
  | 456 |  | wp\_~~redirect($custom~~\_url); |
  |  | 456 | wp\_safe\_redirect($redirect\_url); |
  | 457 | 457 | exit; |
  | 458 | 458 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L465) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L465) |  |
  | 465 | 465 | } else { |
  | 466 | 466 | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),true); |
  | 467 |  | wp\_~~redirect($custom~~\_url); |
  |  | 467 | wp\_safe\_redirect($redirect\_url); |
  | 468 | 468 | exit; |
  | 469 | 469 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L475) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L475) |  |
  | 475 | 475 | } else { |
  | 476 | 476 | $this->out\_of\_stock(sanitize\_text\_field($\_GET['item']),false); |
  | 477 |  | wp\_~~redirect($custom~~\_url); |
  |  | 477 | wp\_safe\_redirect($redirect\_url); |
  | 478 | 478 | exit; |
  | 479 | 479 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L488) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L488) |  |
  | 488 | 488 | $this->hide\_item( esc\_sql($id) ); |
  | 489 | 489 | } |
  | 490 |  | wp\_~~redirect($custom~~\_url); |
  |  | 490 | wp\_safe\_redirect($redirect\_url); |
  | 491 | 491 | exit; |
  | 492 | 492 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L499) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L499) |  |
  | 499 | 499 | } |
  | 500 | 500 |  |
  | 501 |  | wp\_~~redirect($custom~~\_url); |
  |  | 501 | wp\_safe\_redirect($redirect\_url); |
  | 502 | 502 | exit; |
  | 503 | 503 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L509) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L509) |  |
  | 509 | 509 | $this->out\_of\_stock( esc\_sql($id),true); |
  | 510 | 510 | } |
  | 511 |  | wp\_~~redirect($custom~~\_url); |
  |  | 511 | wp\_safe\_redirect($redirect\_url); |
  | 512 | 512 | exit; |
  | 513 | 513 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L519) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L519) |  |
  | 519 | 519 | $this->out\_of\_stock( esc\_sql($id),false ); |
  | 520 | 520 | } |
  | 521 |  | wp\_~~redirect($custom~~\_url); |
  |  | 521 | wp\_safe\_redirect($redirect\_url); |
  | 522 | 522 | exit; |
  | 523 | 523 | } |
  | 524 | 524 |  |
  | 525 | 525 | if ( 'bulk-feature' === $this->current\_action() ) { |
  | 526 |  |  |
  | 527 | 526 | $ids = esc\_sql( $\_POST['bulk-hideOrShow'] ); |
  | 528 | 527 | // loop over the array of record IDs and delete them |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L531) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L530) |  |
  | 531 | 530 | } |
  | 532 | 531 |  |
  | 533 |  | wp\_~~redirect($custom~~\_url); |
  |  | 532 | wp\_safe\_redirect($redirect\_url); |
  | 534 | 533 | exit; |
  | 535 | 534 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L541) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L540) |  |
  | 541 | 540 | $this->markItemAsFeatured( esc\_sql($id), false ); |
  | 542 | 541 | } |
  | 543 |  | wp\_~~redirect($custom~~\_url); |
  |  | 542 | wp\_safe\_redirect($redirect\_url); |
  | 544 | 543 | exit; |
  | 545 | 544 | } |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L548) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L547) |  |
  | 548 | 547 | } |
  | 549 | 548 | public function single\_row( $item ) { |
  | 550 |  | if(! $item['visible']) |
  | 551 |  | echo '<tr class="item-hidden">'; |
  | 552 |  | else |
  | 553 |  | echo '<tr>'; |
  |  | 549 | if(! $item['visible']) { |
  |  | 550 | echo "<tr class='item-hidden' id='soo-item-row-{$item["uuid"]}'>"; |
  |  | 551 | } else { |
  |  | 552 | echo "<tr id='soo-item-row-{$item["uuid"]}'>"; |
  |  | 553 | } |
  | 554 | 554 | $this->single\_row\_columns( $item ); |
  | 555 | 555 | echo '</tr>'; |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L572) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L572) |  |
  | 572 | 572 | foreach( $cats as $cat ){ |
  | 573 | 573 | $selected = ''; |
  | 574 |  | if( $\_GET['category'] == $cat['uuid'] ){ |
  |  | 574 | if(isset($\_GET['category']) && $\_GET['category'] == $cat['uuid'] ){ |
  | 575 | 575 | $selected = ' selected = "selected"'; |
  | 576 | 576 | } |
  | 577 |  | ~~$custom\_url  = add\_query\_arg( 'category', $cat['uuid'] , remove\_query\_arg( array( 's', 'paged', 'alert' ) ));~~ |
  | 578 | 577 | ?> |
  | 579 |  | <option value="<?php echo ~~$custom\_url~~; ?>" <?php echo $selected; ?>><?php |
  |  | 578 | <option value="<?php echo esc\_attr($cat['uuid']); ?>" <?php echo $selected; ?>><?php |
  | 580 | 579 | if($cat["alternate\_name"]=="" || $cat["alternate\_name"]== null ){ |
  | 581 | 580 | echo stripslashes((string)$cat['name']); |
  | […](/browser/clover-online-orders/tags/1.5.7/admin/includes/class-moo-products-list.php?rev=3142847#L607) | […](/browser/clover-online-orders/tags/1.5.8/admin/includes/class-moo-products-list.php?rev=3168446#L606) |  |
  | 607 | 606 | //All Actions |
  | 608 | 607 | $class        = ( $current == 'all' ? ' class="current"' : '' ); |
  | 609 |  | $all\_url      = remove\_query\_arg( array( 'filter', 's', 'paged', 'alert', 'user' ) ); |
  | 610 |  | $views['all'] = "<a href='{$~~all\_url~~ }' {$class} >All Items</a>"; |
  |  | 608 | //$all\_url      = remove\_query\_arg( array( 'filter', 's', 'paged', 'alert', 'user' ) ); |
  |  | 609 | $views['all'] = "<a href='{$this->itemsPageUrl}' {$class} >All Items</a>"; |
  | 611 | 610 | $views\_item   = array( |
  | 612 | 611 | 'featured'   => array( "name" => "Featured Items", "featured" => 1 ) |
  | 613 | 612 | ); |
  | 614 | 613 | foreach ( $views\_item as $k => $v ) { |
  | 615 |  | $custom\_url  = add\_query\_arg( ~~'filter', $k, remove\_query\_arg( array( 's', 'paged', 'alert' ) )~~ ); |
  |  | 614 | $custom\_url  = add\_query\_arg( array('filter'=>$k), $this->itemsPageUrl ); |
  | 616 | 615 | $class       = ( $current == $k ? ' class="current"' : '' ); |
  | 617 | 616 | $views[ $k ] = "<a href='{$custom\_url}' {$class} >" . $v['name'] . "</a>"; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)
* [Zip Archive](?format=zip&new=3168446&old=3142847&new_path=%2Fclover-online-orders%2Ftags%2F1.5.8%2Fadmin%2Fincludes%2Fclass-moo-products-list.php&old_path=%2Fclover-online-orders%2Ftags%2F1.5.7%2Fadmin%2Fincludes%2Fclass-moo-products-list.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

