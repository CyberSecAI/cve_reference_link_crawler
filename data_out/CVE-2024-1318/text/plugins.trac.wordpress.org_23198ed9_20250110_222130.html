

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3033749%2Ffeedzy-rss-feeds%2Ftags%2F4.4.3%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php%3Fold%3D3030538%26old_path%3Dfeedzy-rss-feeds%252Ftags%252F4.4.2%252Fincludes%252Fadmin%252Ffeedzy-rss-feeds-admin.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3030538/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?old=3033749&old_path=%2Ffeedzy-rss-feeds%2Ftags%2F4.4.3%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php)

---

# Changes from [feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538 "Show entry in browser") at [r3030538](/changeset/3030538 "Show full changeset") to [feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749 "Show entry in browser") at [r3033749](/changeset/3033749 "Show full changeset")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

File:

1 edited

* [feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749 "Show entry in browser")
  (modified)
  ([5 diffs](#file0 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php](/changeset/3033749/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?old=3030538&old_path=feedzy-rss-feeds%2Ftags%2F4.4.2%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php "Show the [3030538:3033749] differences restricted to feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php")

  | [r3030538](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538#L267 "Show revision 3030538 of this file in browser") | [r3033749](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749#L267 "Show revision 3033749 of this file in browser") |  |
  | --- | --- | --- |
  | 267 | 267 | 'title', |
  | 268 | 268 | ); |
  | 269 |  | ~~$capability = feedzy\_current\_user\_can();~~ |
  | 270 | 269 | $args     = array( |
  | 271 | 270 | 'labels'                => $labels, |
  | […](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538#L284) | […](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749#L283) |  |
  | 284 | 283 | 'map\_meta\_cap'          => true, |
  | 285 | 284 | 'capabilities' => array( |
  | 286 |  | 'publish\_posts'         => $capability, |
  | 287 |  | 'edit\_posts'            => $capability, |
  | 288 |  | 'edit\_others\_posts'     => $capability, |
  | 289 |  | 'delete\_posts'          => $capability, |
  | 290 |  | 'delete\_others\_posts'   => $capability, |
  | 291 |  | 'read\_private\_posts'    => $capability, |
  |  | 285 | 'edit\_post'          => 'edit\_feedzy\_category', |
  |  | 286 | 'read\_post'          => 'read\_feedzy\_category', |
  |  | 287 | 'delete\_post'        => 'delete\_feedzy\_category', |
  |  | 288 | 'edit\_posts'         => 'edit\_feedzy\_categories', |
  |  | 289 | 'edit\_others\_posts'  => 'edit\_others\_feedzy\_categories', |
  |  | 290 | 'publish\_posts'      => 'publish\_feedzy\_categories', |
  |  | 291 | 'read\_private\_posts' => 'read\_private\_feedzy\_categories', |
  | 292 | 292 | ), |
  | 293 | 293 | ); |
  | 294 | 294 | $args     = apply\_filters( 'feedzy\_post\_type\_args', $args ); |
  | 295 | 295 | register\_post\_type( 'feedzy\_categories', $args ); |
  |  | 296 | } |
  |  | 297 |  |
  |  | 298 | /\*\* |
  |  | 299 | \* Only allow admin to modify or delete categories. |
  |  | 300 | \* |
  |  | 301 | \* @return void |
  |  | 302 | \*/ |
  |  | 303 | public function register\_admin\_capabilities() { |
  |  | 304 | $admin\_role = get\_role( 'administrator' ); |
  |  | 305 | $admin\_role->add\_cap( 'edit\_feedzy\_category' ); |
  |  | 306 | $admin\_role->add\_cap( 'read\_feedzy\_category' ); |
  |  | 307 | $admin\_role->add\_cap( 'delete\_feedzy\_category' ); |
  |  | 308 | $admin\_role->add\_cap( 'edit\_feedzy\_categories' ); |
  |  | 309 | $admin\_role->add\_cap( 'edit\_others\_feedzy\_categories' ); |
  |  | 310 | $admin\_role->add\_cap( 'publish\_feedzy\_categories' ); |
  |  | 311 | $admin\_role->add\_cap( 'read\_private\_feedzy\_categories' ); |
  | 296 | 312 | } |
  | 297 | 313 |  |
  | […](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538#L877) | […](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749#L893) |  |
  | 877 | 893 | switch ( $post->post\_type ) { |
  | 878 | 894 | case 'feedzy\_categories': |
  | 879 |  | $text    = \_\_( 'We found the following invalid URLs that we have removed from the list', 'feedzy-rss-feeds' ); |
  |  | 895 | $text    = \_\_( 'We found the following invalid or unreachable by WordPress SimplePie URLs that we have removed from the list', 'feedzy-rss-feeds' ); |
  | 880 | 896 | $invalid = get\_post\_meta( $post->ID, '\_\_transient\_feedzy\_category\_feed', true ); |
  | 881 | 897 | delete\_post\_meta( $post->ID, '\_\_transient\_feedzy\_category\_feed' ); |
  | […](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538#L886) | […](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749#L902) |  |
  | 886 | 902 | $invalid\_source\_errors = get\_post\_meta( $post->ID, '\_\_transient\_feedzy\_invalid\_source\_errors', true ); |
  | 887 | 903 | if ( $invalid\_source ) { |
  | 888 |  | $text = \_\_( 'This source has invalid URLs. Please correct/remove the following', 'feedzy-rss-feeds' ); |
  |  | 904 | $text = \_\_( 'This source has invalid or unreachable by WordPress SimplePie URLs. Please correct/remove the following', 'feedzy-rss-feeds' ); |
  | 889 | 905 | $invalid = $invalid\_source; |
  | 890 | 906 | delete\_post\_meta( $post->ID, '\_\_transient\_feedzy\_invalid\_source' ); |
  | […](/browser/feedzy-rss-feeds/tags/4.4.2/includes/admin/feedzy-rss-feeds-admin.php?rev=3030538#L1081) | […](/browser/feedzy-rss-feeds/tags/4.4.3/includes/admin/feedzy-rss-feeds-admin.php?rev=3033749#L1097) |  |
  | 1081 | 1097 | \*/ |
  | 1082 | 1098 | public function feedzy\_wizard\_step\_process() { |
  |  | 1099 | if ( ! feedzy\_current\_user\_can() ) { |
  |  | 1100 | return wp\_send\_json( array( 'status' => 0 ) ); |
  |  | 1101 | } |
  |  | 1102 |  |
  | 1083 | 1103 | check\_ajax\_referer( FEEDZY\_BASEFILE, 'security' ); |
  | 1084 | 1104 | $step = ! empty( $\_POST['step'] ) ? filter\_input( INPUT\_POST, 'step', FILTER\_UNSAFE\_RAW ) : 1; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3033749&old=3030538&new_path=%2Ffeedzy-rss-feeds%2Ftags%2F4.4.3%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php&old_path=%2Ffeedzy-rss-feeds%2Ftags%2F4.4.2%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php)
* [Zip Archive](?format=zip&new=3033749&old=3030538&new_path=%2Ffeedzy-rss-feeds%2Ftags%2F4.4.3%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php&old_path=%2Ffeedzy-rss-feeds%2Ftags%2F4.4.2%2Fincludes%2Fadmin%2Ffeedzy-rss-feeds-admin.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

