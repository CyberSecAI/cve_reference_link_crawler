

| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ekansh Gupta <quic\_ekangupt@quicinc.com> | 2024-06-28 12:44:59 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-07-18 13:22:53 +0200 |
| commit | [dbf4c31c9b039fd9734da156036492a2a7f78f64](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)) | |
| tree | [fc259ba76d55aaae6b9f47f52ba333b8bf1b8be3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64) | |
| parent | [720d8d4b2b0328c33f3ce5391398e65ddb107fe7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=720d8d4b2b0328c33f3ce5391398e65ddb107fe7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64&id2=720d8d4b2b0328c33f3ce5391398e65ddb107fe7)) | |
| download | [linux-dbf4c31c9b039fd9734da156036492a2a7f78f64.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-dbf4c31c9b039fd9734da156036492a2a7f78f64.tar.gz) | |

misc: fastrpc: Fix memory leak in audio daemon attach operationcommit ad0bd973a033003ca578c42a760d1dc77aeea15e upstream.
Audio PD daemon send the name as part of the init IOCTL call. This
name needs to be copied to kernel for which memory is allocated.
This memory is never freed which might result in memory leak. Free
the memory when it is not needed.
Fixes: 0871561055e6 ("misc: fastrpc: Add support for audiopd")
Cc: stable <stable@kernel.org>
Signed-off-by: Ekansh Gupta <quic\_ekangupt@quicinc.com>
Reviewed-by: Dmitry Baryshkov <dmitry.baryshkov@linaro.org>
Signed-off-by: Srinivas Kandagatla <srinivas.kandagatla@linaro.org>
Link: [https://lore.kernel.org/r/20240628114501.14310-5-srinivas.kandagatla@linaro.org](https://lore.kernel.org/r/20240628114501.14310-5-srinivas.kandagatla%40linaro.org)
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)

| -rw-r--r-- | [drivers/misc/fastrpc.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/misc/fastrpc.c?id=dbf4c31c9b039fd9734da156036492a2a7f78f64) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/misc/fastrpc.c b/drivers/misc/fastrpc.cindex 3fef3eecb88c0f..11d53b9322f1b3 100644--- a/[drivers/misc/fastrpc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/misc/fastrpc.c?id=720d8d4b2b0328c33f3ce5391398e65ddb107fe7)+++ b/[drivers/misc/fastrpc.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/misc/fastrpc.c?id=dbf4c31c9b039fd9734da156036492a2a7f78f64)@@ -1320,6 +1320,7 @@ static int fastrpc\_init\_create\_static\_process(struct fastrpc\_user \*fl, goto err\_invoke;  kfree(args);+ kfree(name);  return 0; err\_invoke: |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 13:55:54 +0000

