=== Content from lists.debian.org_132a7427_20250108_110726.html ===


---

[[Date Prev](msg00001.html)][[Date Next](msg00003.html)]
[[Thread Prev](msg00001.html)][[Thread Next](msg00003.html)]
[[Date Index](maillist.html#00002)]
[[Thread Index](threads.html#00002)]

# [SECURITY] [DLA 3217-1] g810-led security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 3217-1] g810-led security update
* *From*: Utkarsh Gupta <guptautkarsh2102@gmail.com>
* *Date*: Sat, 3 Dec 2022 04:43:40 +0530
* *Message-id*: <[[🔎]](/msgid-search/CAPP0f97t_mymUuXGQyKUxZVOHEt4MqisGsS4s0gjKK6t1HKTRA%40mail.gmail.com) [CAPP0f97t\_mymUuXGQyKUxZVOHEt4MqisGsS4s0gjKK6t1HKTRA@mail.gmail.com](msg00002.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -----------------------------------------------------------------------
Debian LTS Advisory DLA-3217-1              debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Utkarsh Gupta
December 03, 2022                           <https://wiki.debian.org/LTS>
- -----------------------------------------------------------------------

Package        : g810-led
Version        : 0.3.3-2+deb10u1
CVE ID         : CVE-2022-46338
Debian Bug     : 1024998

g810-led, a LED configuration tool for Logitech Gx10 keyboards,
contained a udev rule to make supported device nodes world-readable
and writable, allowing any process on the system to read traffic
from keyboards, including sensitive data.

For Debian 10 buster, this problem has been fixed in version
0.3.3-2+deb10u1.

We recommend that you upgrade your g810-led packages.

For the detailed security status of g810-led please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/g810-led>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEbJ0QSEqa5Mw4X3xxgj6WdgbDS5YFAmOKhoIACgkQgj6WdgbD
S5bwHQ//XhWLQEJujLvt5eux/9loKuoZqTmQPSL5yNCEclNZj84qMULdsdkOHdnW
Er9oTlpoH7qWBK3BQ35kMBuacjVeXhySZZ0gCabKnUIaGZsxMyfeFOVl/uE98pAd
6rsZ70kWwXPGHSMOwYRIb4aXFdsvTlff5RVK04S0KIJExRSbxxmmgegrj7TIBybK
RJQ69+dI4Tm/Ut0GwheQk9HSqV4G0vDj3Y8K4wCgbzjyPzPSMESIRyz6wDPGRvRA
rRQIJN94J6YFx0dYAE8qo+nDiIEhw5iRXV0XTMh+ZQ/igJpb9nY4uPBq6CI5Wpjj
OJTc2uCt1uxK4wme9o1mIqNmejfPh9LnPVpmX9deqJL3fx1fZlYlDoMb+EUQCBYf
Envrdq32jmTXIHVtfOV8ip639lCHrg2ilurqxTmkJEr6Vg3aBtaj5/80WnVaUPa+
2NpbT9eIztFc8B7c2ZVqHn91YdgdbB+8f28Pn4+iAd3n6CZxU6FEAV3jci1SJ4HS
NfH9moj5u9ZI7BeMRFnEKRI5t2kBt/0DcCpjyoo/4mvlahYOEuxwYKdzeY2J6qdT
6eFgvdQw1rlsT2tYX02p3fG8I/tGE7FMIn34FlFdTpO6Qi9AygNwtliruohpSKI8
lSDWDzceQ5jl8/ZWTW46kCdAEx86CVJ8xtkf7pr1snWGSLJTv2M=
=+aDp
-----END PGP SIGNATURE-----

```

---



=== Content from bugs.debian.org_17e7b56f_20250108_110725.html ===

# Debian Bug report logs - #1024998 g810-led: Security risk: Leaves /dev/input/event\* with read and write permissions for all users (CVE-2022-46338)

[![version graph](version.cgi?absolute=0;fixed=0.3.3-2%2Bdeb10u1;fixed=g810-led%2F0.4.2-3;fixed=g810-led%2F0.4.2-1%2Bdeb11u1;height=2;found=g810-led%2F0.4.2-1;found=0.4.2-2.1;found=g810-led%2F0.3.3-2;found=g810-led%2F0.4.2-2;collapse=1;width=2;package=g810-led)](version.cgi?package=g810-led;collapse=1;found=g810-led%2F0.4.2-1;found=0.4.2-2.1;found=g810-led%2F0.3.3-2;found=g810-led%2F0.4.2-2;fixed=0.3.3-2%2Bdeb10u1;fixed=g810-led%2F0.4.2-3;fixed=g810-led%2F0.4.2-1%2Bdeb11u1;info=1;absolute=0)

Package:
[g810-led](pkgreport.cgi?package=g810-led);
Maintainer for [g810-led](pkgreport.cgi?package=g810-led) is [Stephen Kitt <skitt@debian.org>](pkgreport.cgi?maint=skitt%40debian.org); Source for [g810-led](pkgreport.cgi?package=g810-led) is [src:g810-led](pkgreport.cgi?src=g810-led) ([PTS](https://tracker.debian.org/pkg/g810-led), [buildd](https://buildd.debian.org/g810-led), [popcon](https://qa.debian.org/popcon.php?package=g810-led)).

Reported by: [Xavi Drudis Ferran <xdrudis@tinet.cat>](pkgreport.cgi?submitter=xdrudis%40tinet.cat)

Date: Mon, 28 Nov 2022 15:03:02 UTC

Severity: *critical*

Tags: patch, security, upstream

Found in versions g810-led/0.4.2-1, 0.4.2-2.1, g810-led/0.3.3-2, g810-led/0.4.2-2

Fixed in versions 0.3.3-2+deb10u1, g810-led/0.4.2-3, g810-led/0.4.2-1+deb11u1

**Done:** Stephen Kitt <skitt@debian.org>

Bug is archived. No further changes may be made.

Forwarded to <https://github.com/MatMoul/g810-led/pull/297>

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=1024998;mbox=yes), [status mbox](bugreport.cgi?bug=1024998;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=1024998;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, xdrudis@tinet.cat, team@security.debian.org, Stephen Kitt <skitt@debian.org>`:

`Bug#1024998`; Package `g810-led`.
(Mon, 28 Nov 2022 15:03:04 GMT) ([full text](bugreport.cgi?bug=1024998;msg=2), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Xavi Drudis Ferran <xdrudis@tinet.cat>`:

New Bug report received and forwarded. Copy sent to `xdrudis@tinet.cat, team@security.debian.org, Stephen Kitt <skitt@debian.org>`.
(Mon, 28 Nov 2022 15:03:04 GMT) ([full text](bugreport.cgi?bug=1024998;msg=4), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=5), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=xdrudis%40tinet.cat)
From: Xavi Drudis Ferran <xdrudis@tinet.cat>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: g810-led: Security risk: Leaves /dev/input/event\* with read and
write permissions for all users
Date: Mon, 28 Nov 2022 15:45:16 +0100
```
Package: g810-led
Version: 0.4.2-2.1
Severity: critical
Tags: patch upstream security
Justification: root security hole
X-Debbugs-Cc: xdrudis@tinet.cat, Debian Security Team <team@security.debian.org>

Dear Maintainer,

I hesitate to file as critical, but I came across a bug report in
upstream that looked serious enough since it would allow all local
processes to eavesdrop on keyboard input, including passwords, etc. I
haven't tried an exploit, but it seemed better to just restrict
/dev/input/event* permissions to those of other event dev files.

Without this patch, I can read /dev/input/event2 and /dev/input/event3 as a
normal user. I see bytes in /dev/input/event2 when typing as a normal
user and also typing in another terminal (Konsole) typing as
root. event3 only shows the characters typed by the normal user.

With the patch I can't read /dev/input/event* as a normal user.

And the bug is publically reported upstream (some 10 days ago).

   * What led up to the situation?

Reviewing upstream bugs, found <https://github.com/MatMoul/g810-led/issues/293>

   * What exactly did you do (or not do) that was effective (or
     ineffective)?

Nothing really. I wrote the patch, rebuilt, and observed the
permissions were fixed. My keyboard seems to work both with and
without the patch (needs a kernel with CONFIG_HIDRAW), when calling
g810-led as root. As normal user it doesn't work (both with or without
patch), due to no permission for /dev/hidraw2.

It should really be fixed upstream, but maybe it's worth fixing meanwhile
or removing the package temporarily ?

-- System Information:
Debian Release: 11.5
  APT prefers stable-security
  APT policy: (500, 'stable-security'), (500, 'stable')
Architecture: arm64 (aarch64)

Kernel: Linux 5.19.4-gnu-eowyn21so-gc9d5f2140717-dirty (SMP w/6 CPU threads; PREEMPT)
Kernel taint flags: TAINT_CRAP
Locale: LANG=ca_ES.UTF-8, LC_CTYPE=ca_ES.UTF-8 (charmap=UTF-8), LANGUAGE not set
Shell: /bin/sh linked to /usr/bin/dash
Init: systemd (via /run/systemd/system)

Versions of packages g810-led depends on:
ii  libc6         2.31-13+deb11u4
ii  libg810-led0  0.4.2-2.1
ii  libgcc-s1     10.2.1-6
ii  libstdc++6    10.2.1-6

g810-led recommends no packages.

g810-led suggests no packages.

-- Configuration Files:
/etc/g810-led/profile changed [not included]

-- no debconf information

*** /home/xdrudis/g810-led/debian/patches/correct_permissions_in_event_device_files.patch
--- a/udev/g810-led.rules
+++ b/udev/g810-led.rules
@@ -1,25 +1,25 @@
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c336", MODE="666" RUN+="/usr/bin/g213-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c330", MODE="666" RUN+="/usr/bin/g410-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33a", MODE="666" RUN+="/usr/bin/g413-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c342", MODE="666" RUN+="/usr/bin/g512-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33c", MODE="666" RUN+="/usr/bin/g513-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c333", MODE="666" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c338", MODE="666" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c331", MODE="666" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c337", MODE="666" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33f", MODE="666" RUN+="/usr/bin/g815-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c32b", MODE="666" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c335", MODE="666" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c339", MODE="666" RUN+="/usr/bin/gpro-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c336", MODE="666" RUN+="/usr/bin/g213-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c330", MODE="666" RUN+="/usr/bin/g410-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33a", MODE="666" RUN+="/usr/bin/g413-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c342", MODE="666" RUN+="/usr/bin/g512-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33c", MODE="666" RUN+="/usr/bin/g513-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c333", MODE="666" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c338", MODE="666" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c331", MODE="666" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c337", MODE="666" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c32b", MODE="666" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c335", MODE="666" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
-ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c339", MODE="666" RUN+="/usr/bin/gpro-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c336", MODE="660" RUN+="/usr/bin/g213-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c330", MODE="660" RUN+="/usr/bin/g410-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33a", MODE="660" RUN+="/usr/bin/g413-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c342", MODE="660" RUN+="/usr/bin/g512-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33c", MODE="660" RUN+="/usr/bin/g513-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c333", MODE="660" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c338", MODE="660" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c331", MODE="660" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c337", MODE="660" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33f", MODE="660" RUN+="/usr/bin/g815-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c32b", MODE="660" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c335", MODE="660" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEMS=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c339", MODE="660" RUN+="/usr/bin/gpro-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c336", MODE="660" RUN+="/usr/bin/g213-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c330", MODE="660" RUN+="/usr/bin/g410-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33a", MODE="660" RUN+="/usr/bin/g413-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c342", MODE="660" RUN+="/usr/bin/g512-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c33c", MODE="660" RUN+="/usr/bin/g513-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c333", MODE="660" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c338", MODE="660" RUN+="/usr/bin/g610-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c331", MODE="660" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c337", MODE="660" RUN+="/usr/bin/g810-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c32b", MODE="660" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c335", MODE="660" RUN+="/usr/bin/g910-led -p /etc/g810-led/profile"
+ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="046d", ATTRS{idProduct}=="c339", MODE="660" RUN+="/usr/bin/gpro-led -p /etc/g810-led/profile"

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#1024998`; Package `g810-led`.
(Mon, 28 Nov 2022 20:15:09 GMT) ([full text](bugreport.cgi?bug=1024998;msg=7), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `Stephen Kitt <skitt@debian.org>`:

Extra info received and forwarded to list.
(Mon, 28 Nov 2022 20:15:10 GMT) ([full text](bugreport.cgi?bug=1024998;msg=9), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 1024998@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=10), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=skitt%40debian.org)
From: Stephen Kitt <skitt@debian.org>
To: Xavi Drudis Ferran <xdrudis@tinet.cat>, 1024998@bugs.debian.org
Cc: team@security.debian.org
Subject: Re: Bug#1024998: g810-led: Security risk: Leaves /dev/input/event\*
with read and write permissions for all users
Date: Mon, 28 Nov 2022 21:13:03 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=1024998;msg=10) (text/plain, inline)]
```
```
Hi,

On Mon, 28 Nov 2022 15:45:16 +0100, Xavi Drudis Ferran <xdrudis@tinet.cat>
wrote:
> I hesitate to file as critical, but I came across a bug report in
> upstream that looked serious enough since it would allow all local
> processes to eavesdrop on keyboard input, including passwords, etc. I
> haven't tried an exploit, but it seemed better to just restrict
> /dev/input/event* permissions to those of other event dev files.
>
> Without this patch, I can read /dev/input/event2 and /dev/input/event3 as a
> normal user. I see bytes in /dev/input/event2 when typing as a normal
> user and also typing in another terminal (Konsole) typing as
> root. event3 only shows the characters typed by the normal user.
>
> With the patch I can't read /dev/input/event* as a normal user.

Thanks for bringing this up! I’d rather use uaccess, see
<https://github.com/MatMoul/g810-led/pull/297>

I’ll upload a fixed package shortly and see about a security update for
stable.

Regards,

Stephen

```
```
[[Message part 2](bugreport.cgi?att=1;bug=1024998;msg=10) (application/pgp-signature, inline)]
```

---

**Reply sent**
to `Stephen Kitt <skitt@debian.org>`:

You have taken responsibility.
(Mon, 28 Nov 2022 22:21:06 GMT) ([full text](bugreport.cgi?bug=1024998;msg=12), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=12), [link](#11)).

---

**Notification sent**
to `Xavi Drudis Ferran <xdrudis@tinet.cat>`:

Bug acknowledged by developer.
(Mon, 28 Nov 2022 22:21:06 GMT) ([full text](bugreport.cgi?bug=1024998;msg=14), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 1024998-close@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=15), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org)
From: Debian FTP Masters <ftpmaster@ftp-master.debian.org>
To: 1024998-close@bugs.debian.org
Subject: Bug#1024998: fixed in g810-led 0.4.2-3
Date: Mon, 28 Nov 2022 22:20:03 +0000
```
Source: g810-led
Source-Version: 0.4.2-3
Done: Stephen Kitt <skitt@debian.org>

We believe that the bug you reported is fixed in the latest version of
g810-led, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1024998@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Stephen Kitt <skitt@debian.org> (supplier of updated g810-led package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Mon, 28 Nov 2022 23:05:53 +0100
Source: g810-led
Architecture: source
Version: 0.4.2-3
Distribution: unstable
Urgency: medium
Maintainer: Stephen Kitt <skitt@debian.org>
Changed-By: Stephen Kitt <skitt@debian.org>
Closes: [1024998](bugreport.cgi?bug=1024998)
Changes:
 g810-led (0.4.2-3) unstable; urgency=medium
 .
   * Control device access with uaccess instead of making everything
     world-writable. Thanks to Xavi Drudis Ferran for the report!
     Closes:#[1024998](bugreport.cgi?bug=1024998).
Checksums-Sha1:
 9f3e2c60803bb66c973562d02c80dcaa023ac60a 1953 g810-led_0.4.2-3.dsc
 22f06a4b2ac624c45370f63dc9d6f8553f5b228c 6200 g810-led_0.4.2-3.debian.tar.xz
 8fb0ed1e0dbe91536cfbc888827041acf48f8a0e 6480 g810-led_0.4.2-3_source.buildinfo
Checksums-Sha256:
 d8adfbbfec49690dabbe3093f6dc4e53d1f6faa7d7c34b69acfeb64cbda6d608 1953 g810-led_0.4.2-3.dsc
 b939940c191378d7df1c36eab41c963776432184d1bbf0e35e54e5e48d74e5e6 6200 g810-led_0.4.2-3.debian.tar.xz
 fc6384f1c45a14e0d53a155a3ad58c3c611804b30489c8cb86df14bc5e3e286b 6480 g810-led_0.4.2-3_source.buildinfo
Files:
 70c18dfdcd4c8a9d3e457b2ba302a983 1953 utils optional g810-led_0.4.2-3.dsc
 5f090856daafba8787d7d27f7c345dd1 6200 utils optional g810-led_0.4.2-3.debian.tar.xz
 b359f192e656bd2dd8d531b75d8e001b 6480 utils optional g810-led_0.4.2-3_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEnPVX/hPLkMoq7x0ggNMC9Yhtg5wFAmOFMPAACgkQgNMC9Yht
g5zatRAAh7me3OV/Bhbx2PoNWbXN9mLO6hb5HmcmPk+ybQqKH8T+varCkYq96/fT
bRZBjQgI6+7L53xcfPRsuaN64i4lwW/32LToSFQMkLUu6bFFihDwCTqX+KaeYjFM
NUrcRYHmWKDUtvmbJ6L+n9LEw27zD7PB3oB+H+E/k5Hv2FvnZ2DuViIUsnuRLffN
tW1JDpWggtG4xBlqsVhVMWt+xZ9j4eA/nnWWNMX32NipnQxJmFF8dQp3z3MlNnNt
37ig7APSwNkdlnHORLYNqTHuMK8eYw4InaEDiCqM1dxAIPjMFPas0nqeiIU64Tqj
iGq5D32G8XYMRl4fxZfctPQli70BHc1TMbD5JJHN4EgkVrwOvomkKbhHJ0px9JGg
V+3uxQNIWlYvZhDQJBKAyxvXsSU1klwX7L4qr/j8TjIam7b9LR6b0c2mbgT2fF93
NPkyR0aXaaay7sUQKOZlDy1ROHJIRwaqN7pI3IERB2bHNr8eOZM7H08HXDoawa7O
P5MS4Gt8YB4XNjfRo7I7I5GoFAWw/e+GmzahMKAxwRgkQfBxrzkszWOZK3bVo29A
Xdyk+6ptBhoLpb2+ZMIda5KLTREbRV4EmgU2HUwp1YDGJAa90co3J+JKGFcpXdQz
Y+CwC+F3jtsEdnH7bs0POXZx2xfZ4H8VF/2YaW+wSVdtj86XcxU=
=TxFx
-----END PGP SIGNATURE-----

```

---

**Set Bug forwarded-to-address to '<https://github.com/MatMoul/g810-led/pull/297>'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Tue, 29 Nov 2022 09:24:02 GMT) ([full text](bugreport.cgi?bug=1024998;msg=17), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=17), [link](#16)).

---

**Marked as found in versions g810-led/0.4.2-2.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Tue, 29 Nov 2022 20:12:04 GMT) ([full text](bugreport.cgi?bug=1024998;msg=19), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=19), [link](#18)).

---

**Marked as found in versions g810-led/0.4.2-1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Tue, 29 Nov 2022 20:12:05 GMT) ([full text](bugreport.cgi?bug=1024998;msg=21), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=21), [link](#20)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Stephen Kitt <skitt@debian.org>`:

`Bug#1024998`; Package `g810-led`.
(Wed, 30 Nov 2022 06:03:03 GMT) ([full text](bugreport.cgi?bug=1024998;msg=23), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=23), [link](#22)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Stephen Kitt <skitt@debian.org>`.
(Wed, 30 Nov 2022 06:03:03 GMT) ([full text](bugreport.cgi?bug=1024998;msg=25), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=25), [link](#24)).

---

[Message #26](#26) received at 1024998@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=26), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=26), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: Xavi Drudis Ferran <xdrudis@tinet.cat>, 1024998@bugs.debian.org
Cc: Debian Security Team <team@security.debian.org>
Subject: Re: Bug#1024998: g810-led: Security risk: Leaves /dev/input/event\*
with read and write permissions for all users
Date: Wed, 30 Nov 2022 06:59:41 +0100
```
Control: retitle -1 g810-led: Security risk: Leaves /dev/input/event* with read and write permissions for all users ([CVE-2022-46338](https://security-tracker.debian.org/tracker/CVE-2022-46338))

On Mon, Nov 28, 2022 at 03:45:16PM +0100, Xavi Drudis Ferran wrote:
> Package: g810-led
> Version: 0.4.2-2.1
> Severity: critical
> Tags: patch upstream security
> Justification: root security hole
> X-Debbugs-Cc: xdrudis@tinet.cat, Debian Security Team <team@security.debian.org>
>
> Dear Maintainer,
>
> I hesitate to file as critical, but I came across a bug report in
> upstream that looked serious enough since it would allow all local
> processes to eavesdrop on keyboard input, including passwords, etc. I
> haven't tried an exploit, but it seemed better to just restrict
> /dev/input/event* permissions to those of other event dev files.
>
> Without this patch, I can read /dev/input/event2 and /dev/input/event3 as a
> normal user. I see bytes in /dev/input/event2 when typing as a normal
> user and also typing in another terminal (Konsole) typing as
> root. event3 only shows the characters typed by the normal user.
>
> With the patch I can't read /dev/input/event* as a normal user.
>
> And the bug is publically reported upstream (some 10 days ago).
>
>    * What led up to the situation?
>
> Reviewing upstream bugs, found <https://github.com/MatMoul/g810-led/issues/293>
>
>    * What exactly did you do (or not do) that was effective (or
>      ineffective)?
>
> Nothing really. I wrote the patch, rebuilt, and observed the
> permissions were fixed. My keyboard seems to work both with and
> without the patch (needs a kernel with CONFIG_HIDRAW), when calling
> g810-led as root. As normal user it doesn't work (both with or without
> patch), due to no permission for /dev/hidraw2.
>
> It should really be fixed upstream, but maybe it's worth fixing meanwhile
> or removing the package temporarily ?

The issue got [CVE-2022-46338](https://security-tracker.debian.org/tracker/CVE-2022-46338) assigned by MITRE.

Stephen, the issue is marked no-dsa for bullseye, but a fix might go
still trough the upcoming point release (scheduled for 17th december).

Regards,
Salvatore

```

---

**Changed Bug title to 'g810-led: Security risk: Leaves /dev/input/event\* with read and write permissions for all users (CVE-2022-46338)' from 'g810-led: Security risk: Leaves /dev/input/event\* with read and write permissions for all users'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `1024998-submit@bugs.debian.org`.
(Wed, 30 Nov 2022 06:03:03 GMT) ([full text](bugreport.cgi?bug=1024998;msg=28), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=28), [link](#27)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org`:

`Bug#1024998`; Package `g810-led`.
(Wed, 30 Nov 2022 07:30:07 GMT) ([full text](bugreport.cgi?bug=1024998;msg=30), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=30), [link](#29)).

---

**Acknowledgement sent**
to `Stephen Kitt <skitt@debian.org>`:

Extra info received and forwarded to list.
(Wed, 30 Nov 2022 07:30:07 GMT) ([full text](bugreport.cgi?bug=1024998;msg=32), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=32), [link](#31)).

---

[Message #33](#33) received at 1024998@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=33), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=33), reply):

![](/cgi-bin/libravatar.cgi?email=skitt%40debian.org)
From: Stephen Kitt <skitt@debian.org>
To: Salvatore Bonaccorso <carnil@debian.org>
Cc: 1024998@bugs.debian.org, Xavi Drudis Ferran <xdrudis@tinet.cat>, Debian
Security Team <team@security.debian.org>
Subject: Re: Bug#1024998: g810-led: Security risk: Leaves /dev/input/event\*
with read and write permissions for all users
Date: Wed, 30 Nov 2022 08:26:46 +0100
```
[[Message part 1](bugreport.cgi?att=0;bug=1024998;msg=33) (text/plain, inline)]
```
```
On Wed, 30 Nov 2022 06:59:41 +0100, Salvatore Bonaccorso <carnil@debian.org>
wrote:
> The issue got [CVE-2022-46338](https://security-tracker.debian.org/tracker/CVE-2022-46338) assigned by MITRE.
>
> Stephen, the issue is marked no-dsa for bullseye, but a fix might go
> still trough the upcoming point release (scheduled for 17th december).

Thanks, I’ll submit a stable update.

Regards,

Stephen

```
```
[[Message part 2](bugreport.cgi?att=1;bug=1024998;msg=33) (application/pgp-signature, inline)]
```

---

**Marked as found in versions g810-led/0.3.3-2.**
Request was from `Stephen Kitt <skitt@debian.org>`
to `control@bugs.debian.org`.
(Wed, 07 Dec 2022 22:21:05 GMT) ([full text](bugreport.cgi?bug=1024998;msg=35), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=35), [link](#34)).

---

**Marked as fixed in versions 0.3.3-2+deb10u1.**
Request was from `Stephen Kitt <skitt@debian.org>`
to `control@bugs.debian.org`.
(Wed, 07 Dec 2022 22:21:06 GMT) ([full text](bugreport.cgi?bug=1024998;msg=37), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=37), [link](#36)).

---

**Reply sent**
to `Stephen Kitt <skitt@debian.org>`:

You have taken responsibility.
(Fri, 09 Dec 2022 19:57:12 GMT) ([full text](bugreport.cgi?bug=1024998;msg=39), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=39), [link](#38)).

---

**Notification sent**
to `Xavi Drudis Ferran <xdrudis@tinet.cat>`:

Bug acknowledged by developer.
(Fri, 09 Dec 2022 19:57:12 GMT) ([full text](bugreport.cgi?bug=1024998;msg=41), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=41), [link](#40)).

---

[Message #42](#42) received at 1024998-close@bugs.debian.org ([full text](bugreport.cgi?bug=1024998;msg=42), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=42), reply):

![](/cgi-bin/libravatar.cgi?email=ftpmaster%40ftp-master.debian.org)
From: Debian FTP Masters <ftpmaster@ftp-master.debian.org>
To: 1024998-close@bugs.debian.org
Subject: Bug#1024998: fixed in g810-led 0.4.2-1+deb11u1
Date: Fri, 09 Dec 2022 19:52:58 +0000
```
Source: g810-led
Source-Version: 0.4.2-1+deb11u1
Done: Stephen Kitt <skitt@debian.org>

We believe that the bug you reported is fixed in the latest version of
g810-led, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1024998@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Stephen Kitt <skitt@debian.org> (supplier of updated g810-led package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Wed, 30 Nov 2022 08:24:25 +0100
Source: g810-led
Architecture: source
Version: 0.4.2-1+deb11u1
Distribution: bullseye
Urgency: medium
Maintainer: Stephen Kitt <skitt@debian.org>
Changed-By: Stephen Kitt <skitt@debian.org>
Closes: [1024998](bugreport.cgi?bug=1024998)
Changes:
 g810-led (0.4.2-1+deb11u1) bullseye; urgency=medium
 .
   * Control device access with uaccess instead of making everything
     world-writable. Thanks to Xavi Drudis Ferran for the report!
     Closes:#[1024998](bugreport.cgi?bug=1024998). ([CVE-2022-46338](https://security-tracker.debian.org/tracker/CVE-2022-46338).)
Checksums-Sha1:
 324e8f67c0fb0559b96828aafac5010effff1ecf 1985 g810-led_0.4.2-1+deb11u1.dsc
 1a1c31f63d9811064cd22decbad1a58017bc81ac 5940 g810-led_0.4.2-1+deb11u1.debian.tar.xz
 10211d53d2724742bcf27d7dfa0cb9ab707613a5 6512 g810-led_0.4.2-1+deb11u1_source.buildinfo
Checksums-Sha256:
 e3a9c3c83954f4a2d5653619b79871e34d71a7bfc9f6e11e3136f5aa0408d5af 1985 g810-led_0.4.2-1+deb11u1.dsc
 8641a1d6d7babbd866ed8b25c285b1a5e62f7ae794584c1422df2619e89bf697 5940 g810-led_0.4.2-1+deb11u1.debian.tar.xz
 c93b42b926823a1aee0590886c8f81f2b6f6671f3360c3a66ead284c4027901c 6512 g810-led_0.4.2-1+deb11u1_source.buildinfo
Files:
 b0c2e7f9a689447f03dcd2f691692ca7 1985 utils optional g810-led_0.4.2-1+deb11u1.dsc
 945a484164d2b38052d360beb94336ce 5940 utils optional g810-led_0.4.2-1+deb11u1.debian.tar.xz
 8f4e98b9c7ecfba6bb0019e7119faa73 6512 utils optional g810-led_0.4.2-1+deb11u1_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEnPVX/hPLkMoq7x0ggNMC9Yhtg5wFAmOHBY4ACgkQgNMC9Yht
g5zFMxAAnlvMZoC5pVTjeNM/dthXrpNetQWjP9SoeTnCvsbNwiaXy/4QxdBMM3uH
MDkkEOeK2K4Z1txEKLsW6AKwDiHQhG3YHVS6O+GXODPQN80Ubul1gxjsJdW26LST
hAvKA7mOQTb6yUeD4x101zdtxLT79jLUPY6n8Wd7hEZYKjGH87Ofmbh2CElX4wuO
Ge9jNbu/kkiZ0lJ8ReewUcABqADRNuuX0oio1Y1yzS548en8+ssOQv72QFfkfMCn
iTmP0W+2RlTO6ZDtCk52Evo8PAOIvjs71ILgYHqBsBcjbdlYPrCOTxv1vesJ1CL/
qEWTYcWMoxkqGTXnrgCRuF5sVmwrde4eWCjATv1y8eEsvw52rGB97/ak9FWp0eIs
Ft61l/mqs+gDGtZ+FTUII/Wtu3LSkxa7wrUW0o8E0s9++oN3HHUrWgARojaS7/jO
Sf4q2dVRzyYCh+JeJue3UHL0F3H6Vm3WpOwyNIs1WQngBa/ZiInMekK+DolbYcP0
pAC2xmOnrNY06FXbgipFUkfGTuVoUCNn+oZn8oAduA0ybualGWkaga9tTAw5OFRJ
roBOL3jSdZ8BsQDZ2+KKtAjYn5okOhbrV95uykkloqXltY8vMLv5UXs3oNRBHF+6
tVZ7F+9Z8D+xorDsHEyoNUqWEKS4noTfwrrEvTOL3H1EqthndMA=
=YO1Q
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sat, 07 Jan 2023 07:30:31 GMT) ([full text](bugreport.cgi?bug=1024998;msg=44), [mbox](bugreport.cgi?bug=1024998;mbox=yes;msg=44), [link](#43)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=1024998).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Wed Jan 8 11:07:25 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from github.com_cf43c584_20250108_110726.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMatMoul%2Fg810-led%2Fpull%2F297)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FMatMoul%2Fg810-led%2Fpull%2F297)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=MatMoul%2Fg810-led)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[MatMoul](/MatMoul)
/
**[g810-led](/MatMoul/g810-led)**
Public

* [Notifications](/login?return_to=%2FMatMoul%2Fg810-led) You must be signed in to change notification settings
* [Fork
  186](/login?return_to=%2FMatMoul%2Fg810-led)
* [Star
   1.4k](/login?return_to=%2FMatMoul%2Fg810-led)

* [Code](/MatMoul/g810-led)
* [Issues
  53](/MatMoul/g810-led/issues)
* [Pull requests
  10](/MatMoul/g810-led/pulls)
* [Actions](/MatMoul/g810-led/actions)
* [Projects
  0](/MatMoul/g810-led/projects)
* [Wiki](/MatMoul/g810-led/wiki)
* [Security](/MatMoul/g810-led/security)
* [Insights](/MatMoul/g810-led/pulse)

Additional navigation options

* [Code](/MatMoul/g810-led)
* [Issues](/MatMoul/g810-led/issues)
* [Pull requests](/MatMoul/g810-led/pulls)
* [Actions](/MatMoul/g810-led/actions)
* [Projects](/MatMoul/g810-led/projects)
* [Wiki](/MatMoul/g810-led/wiki)
* [Security](/MatMoul/g810-led/security)
* [Insights](/MatMoul/g810-led/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FMatMoul%2Fg810-led%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FMatMoul%2Fg810-led%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Rely on uaccess to control device access #297

 Merged

[MatMoul](/MatMoul)
merged 1 commit into
[MatMoul:develop](/MatMoul/g810-led/tree/develop "MatMoul/g810-led:develop")
from
[skitt:device-permissions](/skitt/g810-led/tree/device-permissions "skitt/g810-led:device-permissions")

Nov 30, 2022

 Merged

# [Rely on uaccess to control device access](#top) #297

[MatMoul](/MatMoul)
merged 1 commit into
[MatMoul:develop](/MatMoul/g810-led/tree/develop "MatMoul/g810-led:develop")
from
[skitt:device-permissions](/skitt/g810-led/tree/device-permissions "skitt/g810-led:device-permissions")

Nov 30, 2022

[Conversation
3](/MatMoul/g810-led/pull/297)
[Commits
1](/MatMoul/g810-led/pull/297/commits)
[Checks
0](/MatMoul/g810-led/pull/297/checks)
[Files changed](/MatMoul/g810-led/pull/297/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![skitt](https://avatars.githubusercontent.com/u/2128935?s=60&v=4)](/skitt)

Copy link

Contributor

### @skitt **[skitt](/skitt)** commented [Nov 28, 2022](#issue-1467025130)

The udev rules currently make supported device nodes world-readable and writable, which means that any process on the system can read traffic from keyboards including passwords etc. To avoid this, while still allowing the "controlling" user to run g810-led without being root, this patch adds a uaccess tag; this ensures that the user at the console has write access to the devices. The mode is also changed to 660 to ensure that existing device nodes are fixed on upgrade.

Thanks to Xavi Drudis Ferran for bringing this to my attention.

Fixes: [#293](https://github.com/MatMoul/g810-led/issues/293)

Signed-off-by: Stephen Kitt steve@sk2.org

Sorry, something went wrong.

All reactions

[![@skitt](https://avatars.githubusercontent.com/u/2128935?s=40&v=4)](/skitt)

`[Rely on uaccess to control device access](/MatMoul/g810-led/pull/297/commits/e2b486fd1bc21e0b784e1b4c959770772dfced24 "Rely on uaccess to control device access

The udev rules currently make supported device nodes world-readable
and writable, which means that any process on the system can read
traffic from keyboards including passwords etc. To avoid this, while
still allowing the \"controlling\" user to run g810-led without being
root, this patch adds a uaccess tag; this ensures that the user at the
console has write access to the devices. The mode is also changed to
660 to ensure that existing device nodes are fixed on upgrade.

Thanks to Xavi Drudis Ferran for bringing this to my attention.

Fixes: #293
Signed-off-by: Stephen Kitt <steve@sk2.org>")`
 …

`[e2b486f](/MatMoul/g810-led/pull/297/commits/e2b486fd1bc21e0b784e1b4c959770772dfced24)`

```
The udev rules currently make supported device nodes world-readable
and writable, which means that any process on the system can read
traffic from keyboards including passwords etc. To avoid this, while
still allowing the "controlling" user to run g810-led without being
root, this patch adds a uaccess tag; this ensures that the user at the
console has write access to the devices. The mode is also changed to
660 to ensure that existing device nodes are fixed on upgrade.

Thanks to Xavi Drudis Ferran for bringing this to my attention.

Fixes: [MatMoul#293](https://github.com/MatMoul/g810-led/issues/293)
Signed-off-by: Stephen Kitt <steve@sk2.org>
```

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Nov 29, 2022](#issuecomment-1331248352)

| Crossreference to downstream report in Debian: <https://bugs.debian.org/1024998> |
| --- |

All reactions

Sorry, something went wrong.

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Nov 30, 2022](#issuecomment-1331701817)

| [CVE-2022-46338](https://www.cve.org/CVERecord?id=CVE-2022-46338) has been assigned for this issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@MatMoul](https://avatars.githubusercontent.com/u/13386289?s=40&u=87c4778928ac3d5466577259c09f7e767bc743e2&v=4)](/MatMoul)
[MatMoul](/MatMoul)
merged commit [`cb3e552`](/MatMoul/g810-led/commit/cb3e552119b005abd2ac726dec445f1be9b80b92)
into
MatMoul:develop

[Nov 30, 2022](https://github.com/MatMoul/g810-led/pull/297#event-7924716749)

[![@MatMoul](https://avatars.githubusercontent.com/u/13386289?s=80&u=87c4778928ac3d5466577259c09f7e767bc743e2&v=4)](/MatMoul)

Copy link

Owner

### **[MatMoul](/MatMoul)** commented [Nov 30, 2022](#issuecomment-1332571772)

| Thank for providing a good solution. |
| --- |

All reactions

Sorry, something went wrong.

[![@MatMoul](https://avatars.githubusercontent.com/u/13386289?s=40&u=87c4778928ac3d5466577259c09f7e767bc743e2&v=4)](/MatMoul)
[MatMoul](/MatMoul)
added
the
[accepted](/MatMoul/g810-led/labels/accepted)
label
[Nov 30, 2022](#event-7924719655)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FMatMoul%2Fg810-led%2Fpull%2F297)

Reviewers

No reviews

Assignees

No one assigned

Labels

[accepted](/MatMoul/g810-led/labels/accepted)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@skitt](https://avatars.githubusercontent.com/u/2128935?s=52&v=4)](/skitt) [![@carnil](https://avatars.githubusercontent.com/u/773068?s=52&v=4)](/carnil) [![@MatMoul](https://avatars.githubusercontent.com/u/13386289?s=52&v=4)](/MatMoul)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.


