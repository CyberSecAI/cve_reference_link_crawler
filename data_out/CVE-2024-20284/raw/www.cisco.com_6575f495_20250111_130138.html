















<!DOCTYPE html>
<html xmlns:fb="//www.facebook.com/2008/fbml" xmlns:og="//opengraphprotocol.org/schema/" lang="en" xml:lang="en"  class="no-touch no-js">

















<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="rei" content="3/2/2022 10.39am est" />

    
        <script tyle="text/javascript" src="/content/dam/cdc/j/cdcrSwitch.js"></script>
        <script type="text/javascript"> 
            if (typeof cdc === "undefined"){
                cdc = {};
            }
            cdc.localizedLang="en/us";

            if (window.cdcext === undefined) { window.cdcext = {}; }
            cdcext.customEnvironment = "prod";
            if (window.cdclocale === undefined) { window.cdclocale = {}; }
            cdclocale.locale = cdc.localizedLang=="en/us"?"en_us":cdc.localizedLang;

        </script> 
         
    
    

    













<script src="/c/dam/cdc/t/ctm-core.js"></script>
<script>
    window['adrum-start-time'] = new Date().getTime();
    window.environ = "prod" ;
</script>

    















<script>
    if (window.cpe === undefined) {
        window.cpe = {};
    }

    cpe.accountName = "prod";
    cpe.config = ["cinf","dsc","pps"];
    cpe.hideMethod = "elements";

    window.targetGlobalSettings = JSON.parse('{\x22timeout\x22:4000}');
    window.targetPageParamsAll = () => JSON.parse('{\x22entity\x22:\x22{\\\x22id\\\x22:\\\x221722247413150632\\\x22,\\\x22categoryId\\\x22:\\\x22\\\x22}\x22}');

    
    const bullseyeLibrary = `/etc.clientlibs/cisco-cdc/clientlibs/clientlib-external/resources/external/bullseye.js`;

    import(bullseyeLibrary);
</script>
<script src="/etc.clientlibs/cisco-cdc/clientlibs/clientlib-external/resources/regional-mbox/regional-mbox.js"></script>
    
    
















 
        <title>Cisco Nexus 9000 Series NX-OS Programmability Guide, Release 10.5(x) - Python API [Cisco Nexus 9000 Series Switches] - Cisco</title>
    
    
    
    
    



















    <meta http-equiv="Content-type" content="text/html;charset=UTF-8"  />
    <meta name="description" content="Python API"  />
    <meta name="title" content="Cisco Nexus 9000 Series NX-OS Programmability Guide, Release 10.5(x) - Python API [Cisco Nexus 9000 Series Switches]"  />
    <meta name="documentId" content="1722247413130631"  />
    <meta name="templateName" content="book"  />
    <meta property="fb:app_id" content="156494687694418"  />
    <meta name="ioContentSource" content="WEM"  />
    <meta name="docType" content="TSD Products Programming Reference Guide Chapter"  />
    <meta name="concept" content="Cisco Nexus 9000 Series Switches"  />
    <meta name="iaPath" content="cisco.com#Products#Cisco Products#Switches#Data Center Switches#Cisco Nexus 9000 Series Switches"  />
    <meta name="contentType" content="cisco.com#US#preSales"  />
    <meta name="locale" content="US"  />
    <meta name="language" content="en"  />
    <meta name="country" content="US"  />
    <meta name="CCID_Page" content="cc001770"  />
    <meta name="date" content="Tue Dec 17 04:49:26 PST 2024"  />
    <meta name="accessLevel" content="Customer"  />
    <meta name="accessLevel" content="Guest"  />
    <meta name="accessLevel" content="Partner"  />
    <meta name="entitlementExpression" content="contains( &quot;0,1,2,3,4,7&quot; , $profileField[3] )"  />
    <meta property="og:site_name" content="Cisco"  />
    <meta property="og:type" content="website"  />
    <meta property="og:title" content="Cisco Nexus 9000 Series NX-OS Programmability Guide, Release 10.5(x) - Python API [Cisco Nexus 9000 Series Switches]"  />
    <meta property="og:description" content="Python API"  />
    <meta property="og:url" content="https://www.cisco.com/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html"  />
    <link rel="canonical" href="https://www.cisco.com/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html"/>
	

    
 
    
    













    <script src="/etc.clientlibs/clientlibs/granite/jquery.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/utils.min.js"></script>
<script src="/etc.clientlibs/clientlibs/granite/jquery/granite.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/jquery.min.js"></script>
<script src="/etc.clientlibs/foundation/clientlibs/shared.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/underscore.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script src="/etc.clientlibs/cq/personalization/clientlib/personalization/kernel.min.js"></script>
<script type="text/javascript">
    $CQ(function() {
        CQ_Analytics.SegmentMgr.loadSegments("\/etc\/segmentation");
        CQ_Analytics.ClientContextUtils.init("\/c\/dnc\/etc\/clientcontext\/default", "\/content\/en\/us\/td\/docs\/dcn\/nx\u002Dos\/nexus9000\/105x\/programmability\/cisco\u002Dnexus\u002D9000\u002Dseries\u002Dnx\u002Dos\u002Dprogrammability\u002Dguide\u002D105x\/m\u002Dn9k\u002Dpython\u002Dapi\u002D101x");

        
    });
</script>

    














      <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/cisco-sans.min.css" type="text/css">



    












    <script src="/etc/designs/cdc/clientlibs/responsive/js/foundation.min.js"></script>

    <link rel="stylesheet" href="/etc/designs/cdc/clientlibs/responsive/css/books.min.css" type="text/css">

    















       

    <script>
        sessionStorage.setItem("logOutIntermediateMessage", 'You are being logged out.');
    </script>
    
    
	















<!-- Custom JSON LD For Products Type -->

    
    <script type="application/ld+json">
        [
           
            {
          "@context": "http://www.schema.org",                                                                        
          "@type": "WebPage",
          "name": "Python API",  		  
          "url": "https://www.cisco.com/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html",
          "description": "Python API",
          "publisher": {
              "@type": "Corporation",
                 "name": "Cisco"
            }
        }]
    </script>
<!-- End Custom JSON LD For Products Type -->

<!-- Video JSON LD -->




<!-- End Video JSON LD -->

    

                              <script>!function(e){var n="https://s.go-mpulse.net/boomerang/";if("False"=="True")e.BOOMR_config=e.BOOMR_config||{},e.BOOMR_config.PageParams=e.BOOMR_config.PageParams||{},e.BOOMR_config.PageParams.pci=!0,n="https://s2.go-mpulse.net/boomerang/";if(window.BOOMR_API_key="GKZXC-NS3SU-A7VFH-HKBHM-U7LKH",function(){function e(){if(!o){var e=document.createElement("script");e.id="boomr-scr-as",e.src=window.BOOMR.url,e.async=!0,i.parentNode.appendChild(e),o=!0}}function t(e){o=!0;var n,t,a,r,d=document,O=window;if(window.BOOMR.snippetMethod=e?"if":"i",t=function(e,n){var t=d.createElement("script");t.id=n||"boomr-if-as",t.src=window.BOOMR.url,BOOMR_lstart=(new Date).getTime(),e=e||d.body,e.appendChild(t)},!window.addEventListener&&window.attachEvent&&navigator.userAgent.match(/MSIE [67]\./))return window.BOOMR.snippetMethod="s",void t(i.parentNode,"boomr-async");a=document.createElement("IFRAME"),a.src="about:blank",a.title="",a.role="presentation",a.loading="eager",r=(a.frameElement||a).style,r.width=0,r.height=0,r.border=0,r.display="none",i.parentNode.appendChild(a);try{O=a.contentWindow,d=O.document.open()}catch(_){n=document.domain,a.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",O=a.contentWindow,d=O.document.open()}if(n)d._boomrl=function(){this.domain=n,t()},d.write("<bo"+"dy onload='document._boomrl();'>");else if(O._boomrl=function(){t()},O.addEventListener)O.addEventListener("load",O._boomrl,!1);else if(O.attachEvent)O.attachEvent("onload",O._boomrl);d.close()}function a(e){window.BOOMR_onload=e&&e.timeStamp||(new Date).getTime()}if(!window.BOOMR||!window.BOOMR.version&&!window.BOOMR.snippetExecuted){window.BOOMR=window.BOOMR||{},window.BOOMR.snippetStart=(new Date).getTime(),window.BOOMR.snippetExecuted=!0,window.BOOMR.snippetVersion=12,window.BOOMR.url=n+"GKZXC-NS3SU-A7VFH-HKBHM-U7LKH";var i=document.currentScript||document.getElementsByTagName("script")[0],o=!1,r=document.createElement("link");if(r.relList&&"function"==typeof r.relList.supports&&r.relList.supports("preload")&&"as"in r)window.BOOMR.snippetMethod="p",r.href=window.BOOMR.url,r.rel="preload",r.as="script",r.addEventListener("load",e),r.addEventListener("error",function(){t(!0)}),setTimeout(function(){if(!o)t(!0)},3e3),BOOMR_lstart=(new Date).getTime(),i.parentNode.appendChild(r);else t(!1);if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a)}}(),"".length>0)if(e&&"performance"in e&&e.performance&&"function"==typeof e.performance.setResourceTimingBufferSize)e.performance.setResourceTimingBufferSize();!function(){if(BOOMR=e.BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},!BOOMR.plugins.AK){var n=""=="true"?1:0,t="",a="nvhkcpixjaq3wz4cnoza-f-81772cf48-clientnsv4-s.akamaihd.net",i="false"=="true"?2:1,o={"ak.v":"39","ak.cp":"61004","ak.ai":parseInt("271834",10),"ak.ol":"0","ak.cr":19,"ak.ipv":4,"ak.proto":"http/1.1","ak.rid":"eed7624f","ak.r":42410,"ak.a2":n,"ak.m":"dsca","ak.n":"essl","ak.bpcip":"109.78.161.0","ak.cport":34764,"ak.gh":"23.72.36.238","ak.quicv":"","ak.tlsv":"tls1.3","ak.0rtt":"","ak.0rtt.ed":"","ak.csrc":"-","ak.acc":"reno","ak.t":"1736600498","ak.ak":"hOBiQwZUYzCg5VSAfCLimQ==RFTCL9yPKfia2KfQr3Cgvo9oIHg4P0grH8shx5iQlHp/4yEYBSEnrpFiiEHYtKdx1XEjLXn30YKgN2cEffXMkeqvcFB96sfrRTKojcgXym2S41l9CR9Vu7Av6+viGy7rxXUwJpDWGh3pvIo6c4dvtJzNGuO9EtJUkCpAU5LIFdh+KRabRsseEYPbYFv6me5CxoknrM+dqrS+FpAep2ySRfKftSiGKVZ0dM+7q3Az09eEXm1jRcI7rD4C4CyuqIqx+79wlfxlBWWJQ8quq6lNO92EFoohzUMq1alXPEm/vJLTNfKHuzEQCcdhLebsFL3EDgxF22I+j/aiOMmtTbgjL43oJ3KPVkOOw7IZ/zPGExh6dqX51ku1eM+cUuvOlZu0ynfOkFCeRjHmHSap9/MEpe9bKg6Qv4ujsFkRq193Gys=","ak.pv":"517","ak.dpoabenc":"","ak.tf":i};if(""!==t)o["ak.ruds"]=t;var r={i:!1,av:function(n){var t="http.initiator";if(n&&(!n[t]||"spa_hard"===n[t]))o["ak.feo"]=void 0!==e.aFeoApplied?1:0,BOOMR.addVar(o)},rv:function(){var e=["ak.bpcip","ak.cport","ak.cr","ak.csrc","ak.gh","ak.ipv","ak.m","ak.n","ak.ol","ak.proto","ak.quicv","ak.tlsv","ak.0rtt","ak.0rtt.ed","ak.r","ak.acc","ak.t","ak.tf"];BOOMR.removeVar(e)}};BOOMR.plugins.AK={akVars:o,akDNSPreFetchDomain:a,init:function(){if(!r.i){var e=BOOMR.subscribe;e("before_beacon",r.av,null,null),e("onbeacon",r.rv,null,null),r.i=!0}return this},is_complete:function(){return!0}}}}()}(window);</script></head>

<body id="wcq" class="fw-res cdc-support cdc-books cdc-high-density cdc-full-width cdc-transform
">
    
    













<div id="fw-skiplinks">
    <ul class="container">
        <li><a id="skiplink-content" href="#fw-content">Skip to content</a></li>
        <li><a id="skiplink-search" href="#">Skip to search</a></li>
        <li><a id="skiplink-footer" href="#fw-footer-v2" class="last">Skip to footer</a></li>
    </ul>
</div>

    














    <script type="module" src="/site/web-components/us/en/cdc-header.js"></script>
    <cdc-header></cdc-header>
    <nav class="fw-c-header__seo-links" aria-hidden="true" style="display:none">
        <ul>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/index.html">Cisco.com Worldwide</a></li>
            <li><a tabindex="-1" href="/c/en/us/products/index.html">Products and Services</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/solutions/index.html">Solutions</a></li>
            <li><a tabindex="-1" href="/c/en/us/support/index.html">Support</a></li>
            <li><a tabindex="-1" href="/c/en/us/training-events.html">Learn</a></li>
            <li><a tabindex="-1" href="//www.cisco.com/c/en/us/about/sitemap.html">Explore Cisco</a></li>
            <li><a tabindex="-1" href="/c/en/us/buy.html">How to Buy</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/index.html?dtid=odicdc001129">Partners Home</a></li>                
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/cisco-partner-program/index.html?ccid=cc000864&dtid=odiprc001129">Partner Program</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/support-help/index.html">Support</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/tools/index.html?dtid=odiprc001129">Tools</a></li>
            <li><a tabindex="-1" href="https://locatr.cloudapps.cisco.com/WWChannels/LOCATR/pf/index.jsp#/">Find a Cisco Partner</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/connect-with-a-partner/index.html?ccid=cc000864&dtid=odiprc001129">Meet our Partners</a></li>
            <li><a tabindex="-1" href="https://www.cisco.com/site/us/en/partners/index.html?dtid=odicdc001129">Become a Cisco Partner</a></li>

        </ul>
    </nav>

    
















<div id="fw-content" class="container grid">
    
    













   








<div class="row full blowout" data-owner="ID">
	<div class="col full ">
        
            



















<nav id="fw-breadcrumb" class="data-based user-driven-nav" aria-label="breadcrumbs" data-owner="ID">

   
    <ul itemscope itemtype="//schema.org/BreadcrumbList">
        <li aria-hidden="true"><a href='#' class="skip"><span></span></a></li>
        <li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/index.html'><span itemprop='name'>Home</span><meta itemprop='position' content='1' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/index.html'><span itemprop='name'>Support</span><meta itemprop='position' content='2' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/all-products.html'><span itemprop='name'>Product Support</span><meta itemprop='position' content='3' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/switches/category.html'><span itemprop='name'>Switches</span><meta itemprop='position' content='4' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/switches/nexus-9000-series-switches/series.html'><span itemprop='name'>Cisco Nexus 9000 Series Switches</span><meta itemprop='position' content='5' /></a><span class='caret'></span></li><li itemprop='itemListElement' itemscope itemtype='//schema.org/ListItem'><a itemprop='item' href='/c/en/us/support/switches/nexus-9000-series-switches/products-programming-reference-guides-list.html'><span itemprop='name'>Programming Guides</span><meta itemprop='position' content='6' /></a><span class='caret'></span></li>
    </ul>
</nav>
<script>
    if (window.cdc === undefined) { window.cdc = {}; }
    if (cdc.breadcrumb === undefined) {
        cdc.breadcrumb = (function () {
            let clone = document.querySelector('#fw-breadcrumb').cloneNode(true);

            let appendClone = function () {
                let hasBreadcrumb = document.querySelector('#fw-breadcrumb') !== null,
                    firstMarquee = document.querySelectorAll('.dmc-mq')[0];

                if (!hasBreadcrumb && firstMarquee !== undefined) {
                    firstMarquee.querySelector('.frame .inset').insertBefore(this.clone, firstMarquee.querySelector('.frame .inset').firstElementChild);
                }
            };

            return {
                clone: clone,
                appendClone: appendClone
            }
        }());
    }
    //DE380224
    var anchorChild = document.getElementsByTagName("a");
    for(var i=0; i<anchorChild.length; i++){ 
        if(anchorChild[i].getAttribute("itemprop")=="item")  {  
            if ( anchorChild[i].href.includes("%3Clocale%3E") ){
                let anchorChildHREF = anchorChild[i].href;
                let docLocale = document.querySelector('meta[name="locale"]').getAttribute('content');
                let docLanguage = document.querySelector('meta[name="language"]').getAttribute('content');
                
                var docSeparator;
                
                if ((docLocale.toLowerCase() == "us") && (docLanguage.toLowerCase() == "en")) {
                    docSeparator="/";
                } else {
                    docSeparator="_";
                }
                
                let anchorURLReplace = docLanguage.toLowerCase() + docSeparator + docLocale.toLowerCase();
                anchorChildHREF = anchorChildHREF.replace("%3Clocale%3E", anchorURLReplace);
                anchorChild[i].setAttribute('href', anchorChildHREF);
            }
        }
    }
</script>

        
		        <h1 id="fw-pagetitle" class="" data-owner="ID">Cisco Nexus 9000 Series NX-OS Programmability Guide, Release 10.5(x)</h1>
		
	</div>
</div>
     <!--googleon: index--><!--googleon: snippet-->
    













 
   <!-- have to do this for _g.I18n to be defined in preview and publish modes -->
  
  <script type="text/javascript">
      // initialize dictionary for i18n
      cdc.util.ensureNamespace("cdc.rc");
    cdc.rc.eotkeys = {
        showOnly5Products : "Show Only 5 Products",       
        showAllRowsProducts : "Show All nRows Products",
        supportCommunityUrl : "https://community.cisco.com/t5/technology-and-support/ct-p/technology-support",
        supportCommunity : "Cisco Community",
        thankYou : "Thank You",
        viewersAlso : "Customers Also Viewed", 
        show : "Show", 
        more : "More", 
        showOnly3Documents: "Show Only 3 Documents"
      };
  </script>



<div class="row blowout full visitedlinks">
    <div class="col full">
        















  
    <div class="disclaimers techdocs">
        
        <div class="disclaimerButtons">
        <div class="aboutBias">
            <button aria-expanded="false" >Bias-Free Language</button>
        </div>
        
        </div>
        
        <div class="biasfreeContent panel">
            <h3>Bias-Free Language</h3>
            <p>The documentation set for this product strives to use bias-free language. For the purposes of this documentation set, bias-free is defined as language that does not imply discrimination based on age, disability, gender, racial identity, ethnic identity, sexual orientation, socioeconomic status, and intersectionality. Exceptions may be present in the documentation due to language that is hardcoded in the user interfaces of the product software, language used based on RFP documentation, or language that is used by a referenced third-party product. <a href="https://www.cisco.com/c/en/us/about/social-justice/inclusive-language-policy.html">Learn more</a> about how Cisco is using Inclusive Language.</p>
        </div>
        
    </div><!-- disclaimers -->
 
        













<script>
    /* this is needed for the translation selector */
    if (typeof(cdc) == "undefined") cdc={};
    if (typeof(cdc.translations) == "undefined") cdc.translations={};
    var bookTitle = 'Book Title Page';
</script>

<span id="actionBar-top"></span>
<section id="actionBar" class="noprint base-blowout">
    <span class="icons">
        
        <button class="bookToc simpleOverlay-trigger" id="onlyforTrigger"> <!--US140575-->
            Book Contents
        </button>
            <div class="bookToc simpleOverlay-content">
               <div role="heading" class="title">Book Contents</div>
               <!--googleoff: index--><!--googleoff: snippet-->  
               <div class="content">
                  



<ul id="bookToc">
    <li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-new-and-changed-information-105x.html">New and Changed Information</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-supported-platforms-programmability.html">Platform Support for Programmability Features</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-overview-101x.html">Overview</a></li>
<li><button><span></span>Shells and Scripting</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-bash-101x.html">Shells and Scripting</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-guest-shell-101x.html">Guest Shell</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-broadcom-shell-101x.html">Broadcom Shell</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-barefoot-shell-101x.html">Barefoot Shell</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html">Python API</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-scripting-tcl-101x.html">Scripting with Tcl</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-ipxe-101x.html">iPXE</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-kernel-stack-101x.html">Kernel Stack</a></li>
</ul>
</li>
<li><button><span></span>Applications</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-third-party-applications-101x.html">Third-Party Applications</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-ansible-101x.html">Using Ansible with Cisco NX-OS</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-puppet-agent-101x.html">Puppet Agent</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-using-chef-client-with-cisco-nx-os-101x.html">Using Chef Client with Cisco NX-OS</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nexus-application-development-yocto-10x.html">Nexus Application Development - Yocto</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nexus-application-development-sdk-101x.html">Nexus Application Development - SDK</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nx-sdk-101x.html">NX-SDK</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-using-docker-with-cisco-nx-os-101x.html">Using Docker with Cisco NX-OS</a></li>
</ul>
</li>
<li><button><span></span>Application Hosting</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-application-hosting.html">Application Hosting</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-te.html">ThousandEyes Enterprise Agent </a></li>
</ul>
</li>
<li><button><span></span>NX-API</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nx-api-cli-101x.html">NX-API CLI</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nx-api-rest-101x.html">NX-API REST</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-nx-api-developer-sandbox-101x.html">NX-API Developer Sandbox</a></li>
</ul>
</li>
<li><button><span></span>Model-Driven Programmability</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/chapter-1.html">Overview</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-yang.html">Original and OpenConfig YANG</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-netconf-agent.html">NETCONF Agent</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/chapter-2.html">RESTCONF Agent</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-grpc-agent.html">gRPC Agent</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-gnmi.html">gNMI - Management Interface</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/gnoi---operation-interface.html">gNOI - Operation Interface</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-grpc-tunnel.html">gRPC Tunnel</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/chapter-3.html">Telemetry</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-diagnosis-and-serviceability.html">Diagnosis and Serviceability</a></li>
</ul>
</li>
<li><button><span></span>XML Management Interface</button>
<ul>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-xml-management-interface-101x.html">XML Management Interface</a></li>
</ul>
</li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-streaming-telemetry-sources-101x.html">Streaming Telemetry Sources</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-websocket-subscription-101x.html">Websocket Subscription</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-programmability-rfcs-101x.html">Programmability RFCs</a></li>
<li><a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/cisco-nexus-9000-series-nx-os-programmability-guide-105x_index.html">Index</a></li>

</ul>


               </div>
               <!--googleon: index--><!--googleon: snippet-->               
            </div>

        
    
        

















<div class='versionddcontainer chapter'></div>
<script type="text/html" class="versionstemp">
            <div class="versionsdd">
                <button class="versionbutton" aria-haspopup="true" aria-expanded="false" aria-labelledby="other versions" class="version"><label></label></button>
                <ul class="versionlist" aria-labelledby="other versions">
                <%
                    let pageUrl = window.location.pathname.replace("/content/","/c/").toLowerCase();
                    if (true) pageUrl = pageUrl.substring(0,pageUrl.lastIndexOf("/"))+".html";
                    for(let i=0; i< data.length; i++) {
                        let item = data[i],
                            myurl = item.linkUrl,
                            urlm = myurl.replace("/content/","/c/");;
                            mytitle = item.linkTitle;
                            myclass= urlm.toLowerCase() == pageUrl ? "class=\"selected\"":""; 
%>
                    <li><a href="${myurl}" ${myclass}>${mytitle}</a></li>
<%
                  }   %>
                </ul>
             </div>
</script>
    
        <span class="utilities">
          <button title="Search in this Book" class="mobileSearch simpleOverlay-trigger">
            Search
          </button>
          <div class="mobileSearch simpleOverlay-content">
            <div class="title">Find Matches in This Book</div>
              <!--googleoff: index--><!--googleoff: snippet-->  
              <div class="content">
                <form id="mobileBooksearch" class="chapter">
                   <input type="search" name="booksearchPhrase" placeholder='Find Matches in This Book'/><button class="submit"></button>
                   <button class="clear"><img src="/etc/designs/cdc/fw/i/ic_clear_gray.png" alt="Clear Contents of Search"/></button>
                </form>
                <div id="overlayResults" role="region" aria-live="polite" >
                   <!-- important, keep this results div begin end on same line in here -->
                   <div class="results"></div>
                </div>
              </div>
              <!--googleon: index--><!--googleon: snippet-->
          </div>
          













<div class="noprint" id="saveModule">

<script type="text/javascript">
    cdc.util.ensureNamespace("cdc.rc.savedoc");
    cdc.rc.savedoc.isLoggedIn = false;
    cdc.rc.savedoc.save = "Save";
    cdc.rc.savedoc.saved = "Saved";
</script>

    <button class="save" aria-expanded="false" aria-label="Save">
        <label>Save</label>
    </button>    

</div> 
    <div class="saveDocumentMessage login cdc-expandPanel"  role="region" aria-live="polite">
        <a href="/c/login/index.html?referer=/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html">Log in</a> to Save Content
    </div>


          <!-- Translation Selctor -->
          <!-- Translation Selector is used on EOT and Books pages. if a page has a locale of en_US then it will provide a list of avaible translations, if its a translated page (non english locale) then provide the link to the english locale. -->


 


 
          <div class="translations simpleOverlay-content" role="dialog" id="dialogt" aria-labelledby="onlyForNonEN" aria-modal="true">
            <div role="heading" class="title">Available Languages</div>
               <!--googleoff: index--><!--googleoff: snippet--> 
            <script language="javascript">                    
                cdc.translations.map = "{en-us=https://www.cisco.com/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html, x-default=https://www.cisco.com/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.html}";//storing the map for use in the JS
                cdc.translations.locale="en_us";
            </script>
            <div class="content">
              <div class="availableLanguagesList">
                  <ul id="translationsList">
                  </ul> 
              </div>
            </div>
            <!--googleon: index--><!--googleon: snippet-->
          </div>
          
          
 












<script>
    // stored value for overlay label to use in js
    var downloadOPtionLabel = 'Download Options',
    	bookSearchlabel = 'Find Matches in This Book',
    	translationsLabel = 'Translations',
    	bookConentLabel= 'Book Contents';
</script>


        



        <button title="Document Download Options" id="dwnld-button" class="downloadOptions simpleOverlay-trigger" aria-expanded="false">
            Download
        </button>
        <div class="downloadOptions simpleOverlay-content" role="dialog" id="dialogd" aria-labelledby="dwnld-button" aria-modal="true" class="default_dialog">
            <div role="heading" class="title">Download Options</div>
            <!--googleoff: index--><!--googleoff: snippet-->  
            <div class="content">
                <header>

                    <h3 class="h4"> Book Title</p>
                    <p>Cisco Nexus 9000 Series NX-OS Programmability Guide, Release 10.5(x)</p>
                    <p class="h4"> Chapter Title</p>
                    <h3>Python API</p>

                </header>
                <ul>

                        <li >    
                            <a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x.pdf" class="pdfIcon">PDF - Complete Book 
                            <span>(6.78 MB)</span></a>

                                   <a href="/c/en/us/td/docs/dcn/nx-os/nexus9000/105x/programmability/cisco-nexus-9000-series-nx-os-programmability-guide-105x/m-n9k-python-api-101x.pdf" class="chapter">PDF - This Chapter <span>(1.1 MB)</span></a>
                                                            
                            <p>View with Adobe Reader on a variety of devices</p>
                        </li>                                  
              </ul>
            </div>
            <!--googleon: index--><!--googleon: snippet-->
        </div>

          <button title="Print Friendly Page" class="print simpleOverlay-trigger">
              Print
          </button>
        </span> 
    </span>
    <form id="booksearch" tabindex="0" class="chapter">
       <input type="search" name="booksearchPhrase" placeholder='Find Matches in This Book'/><button class="submit" aria-label="Search"></button>
       <button class="clear"><img src="/etc/designs/cdc/fw/i/ic_clear_gray.png" alt="Clear Contents of Search"/></button>
    </form>
      <div id="searchresult" role="region" aria-live="polite"><button class="close" title="Close Panel"><span></span><span></span></button>
         <span class="headArrow"></span>
         <h2>Results</h2>
         <div class="matches">
         </div>
         <div class="results" tabindex="0">
         </div>
      </div>
      <div id="searchResultChapterTitle"></div>
</section>
<script type="text/html" id="navigateMatchesTemplate">
   <div>
      <button class="up on" title="Previous Match"><span></span></button>
      <button class="up off" title="Previous Match Not Available"><span></span></button>
      <span class="matchlabel">Matches</span>
      <button class="down on" title="Next Match"><span></span></button>
      <button class="down off" title="Next Match Not Available"><span></span></button>
   </div>
</script>
<script type="text/html" id="noChapterMatchTemplate">
   <p>There are no Matches in this chapter.</p>
</script>
<script type="text/html" id="searchResultsListTemplate">
   <p class="h3">Chapters with Matches</p>
   <ul>
<% var i = 0;
    while ( modelData.links[i] ) {  %>
      <li>
<%     curpage = (window.location.pathname.indexOf(modelData.links[i].href) > -1 )?true:false;
        if ( i === modelData.curpage ) {
            if ( ! jQuery('.mobileSearch').css("display") == "block") { %>
               <span class="currentIndicator"></span>${modelData.links[i].title}
<%         } else {                %>
               <span class="currentIndicator"></span><button class="curpage" data-href="${modelData.links[i].url}?bookSearch=true${modelData.wcm}">${modelData.links[i].title}</button>
<%         }
        } else {  %>
            <button data-href="${modelData.links[i].url}?bookSearch=true${modelData.wcm}">${modelData.links[i].title}</button>
<%     }  %>            
      </li> 
<% i++;
    } %>
   </ul> 
</script>      
<script type="text/html" id="noBookMatchTemplate">
   <p class="head">No matches found in this book</p>
   <p>This feature looks for an exact match of what you entered in the box.</p>
   <p>If you entered several words, try reducing the entry to one or two and search again.</p>
</script>
<script type="text/html" id="errorTemplate">
   <p>Search is currently unavailable due to technical issues. We are working to resolve the problem as quickly as possible.</p>
</script>
<script type="text/html" id="mobileSearchFooterTemplate">
   <div id="mobileSearchFooter">
      <button class="mobileSearch" title="Search in this Book"></button>
      <button class="closeFooter"><span></span><span></span></button>
      <div class="matches"> 
      </div>
   </div>   
</script>
 
    </div>
</div>
<div class="row blowout narrow-wide-v2 flip visitedlinks">
    <div class="col narrow-v2">
        














              <div id="documentInfo">
                  <dl>
                     
                      <dt>Updated:</dt><dd> November 27, 2024</dd>
                     
                  </dl>
                    
              </div>

 
    </div>
    <div id="chapterTitleDiv" class="col wide-v2 indent-at-xlarge">
        <!-- this will be chapter title for chapters or header for TOC for books -->
        


















<h2 class="chapter-title">Chapter: Python API </h2>  
    

    </div>
</div>
<div class="row blowout wide-narrow-v2 visitedlinks">
    <div id="pageContentDiv" class="col wide-v2 indent-at-xlarge" role="main">
        













 

        

    
 
 

<div id="chapterToc" class="base-blowout">
    <button><span></span>Chapter Contents</button>
    <div>
    
<ul>
<li><a href="#Cisco_Generic_Topic.dita_35f06d22-474e-4a76-af28-73581a284741">Python API</a></li>
<li><a href="#topic_5AF10C22001644AE8583D89A68FE38FB">Using Python</a>
<ul>
<li><a href="#concept_8A4F5751B22D45008B089E73CF491956">Cisco Python                              	 Package</a></li>
<li><a href="#concept_6414B967674E46A5B13EC9CF61C88880"> Using the CLI                              	 Command APIs </a></li>
<li><a href="#concept_17DAEF691C7B4A069BCDC43B241962A0"> Invoking the Python                              	 Interpreter from the CLI</a></li>
<li><a href="#concept_625FA2B8E7ED4F3C949A84E09A4CB974">Display                              	 Formats</a></li>
<li><a href="#concept_0E0DA3A80E734516B50AD6901F0142D8"> Non-Interactive Python</a></li>
<li><a href="#concept_3B13FE65D40D4251BAE1AE074A0539C2">Running Scripts with                              	 Embedded Event Manager</a></li>
<li><a href="#concept_AC41A84BC6DE41B68660AC91DE0EC047">Python Integration                              	 with Cisco NX-OS Network Interfaces</a></li>
<li><a href="#concept_A2CFF094ADCB414C983EA06AD8E9A410">Cisco NX-OS Security                              	 with Python</a>
<ul>
<li><a href="#concept_BC6D75F431E248E7948818C8A5CE7EF0">Examples of Security                              	 and User Authority</a></li>
<li><a href="#concept_9AEE2791EDBB46F88E216CD46EC95C33">Example of Running                              	 Script with Scheduler</a></li></ul></li></ul></li></ul>
    <button id="chapterToc-close">Close<span></span></button>
    </div>
</div>

 
    <div id="chapterContent">
    
                  <h1 class="title topictitle1" id="ariaid-title1">Python API</h1>
                  <section class="body">
                     
                     
                  </section>
                  <!-- minitoc start -->
                  <nav role="navigation" class="related-links">
                     <ul class="ullinks">
                        <li class="link ulchildlink"><a href="#topic_5AF10C22001644AE8583D89A68FE38FB">Using Python</a></li>
                     </ul>
                  </nav>
                  <!-- minitoc end -->
                  <article class="topic nested1" aria-labelledby="ariaid-title2" lang="en-US" id="topic_5AF10C22001644AE8583D89A68FE38FB">
                     <h2 class="title topictitle2" id="ariaid-title2">Using Python</h2>
                     <section class="body">
                        
                        <p class="p"> This section
                           		describes how to write and execute Python scripts. 
                           	 
                        </p>
                        
                     </section>
                     <!-- minitoc start -->
                     <nav role="navigation" class="related-links">
                        <ul class="ullinks">
                           <li class="link ulchildlink"><a href="#concept_8A4F5751B22D45008B089E73CF491956">Cisco Python Package</a></li>
                           <li class="link ulchildlink"><a href="#concept_6414B967674E46A5B13EC9CF61C88880">Using the CLI Command APIs</a></li>
                           <li class="link ulchildlink"><a href="#concept_17DAEF691C7B4A069BCDC43B241962A0">Invoking the Python Interpreter from the CLI</a></li>
                           <li class="link ulchildlink"><a href="#concept_625FA2B8E7ED4F3C949A84E09A4CB974">Display Formats</a></li>
                           <li class="link ulchildlink"><a href="#concept_0E0DA3A80E734516B50AD6901F0142D8">Non-Interactive Python</a></li>
                           <li class="link ulchildlink"><a href="#concept_3B13FE65D40D4251BAE1AE074A0539C2">Running Scripts with Embedded Event Manager</a></li>
                           <li class="link ulchildlink"><a href="#concept_AC41A84BC6DE41B68660AC91DE0EC047">Python Integration with Cisco NX-OS Network Interfaces</a></li>
                           <li class="link ulchildlink"><a href="#concept_A2CFF094ADCB414C983EA06AD8E9A410">Cisco NX-OS Security with Python</a></li>
                        </ul>
                     </nav>
                     <!-- minitoc end -->
                     <article class="topic concept nested2" aria-labelledby="ariaid-title3" lang="en-US" id="concept_8A4F5751B22D45008B089E73CF491956">
                        <h3 class="title topictitle3" id="ariaid-title3">Cisco Python
                           	 Package
                        </h3>
                        <section class="body conbody">
                           <p class="p">Cisco NX-OS provides a Cisco Python package that enables access to many core network-device modules, such as interfaces, VLANs,
                              VRFs, ACLs, and routes. You can display the details of the Cisco Python package by entering the <span><span class="keyword kwd">help()</span> </span> command. To obtain additional information about the classes and methods in a module, you can run the help command for a specific
                              module. For example, <span><span class="keyword kwd">help</span>(<var>cisco.interface</var>) </span> displays the properties of the cisco.interface module. 
                           </p>
                           <p class="p">For more Python modules, you can install the <span class="ph filepath">python-modules-nxos</span> RPM (<span class="ph filepath">python-modules-nxos-1.0.0-9.2.1.lib32_x86.rpm</span>) from <a class="xref" href="https://devhub.cisco.com/artifactory/open-nxos/9.2.1/x86_64/" target="_blank">https://devhub.cisco.com/artifactory/open-nxos/9.2.1/x86_64/</a>. Refer to the "Manage Feature RPMs" section for instructions on installing an RPM.
                           </p>
                           <p class="p">The following is an example of how to display information about the Cisco Python package: </p><pre class="pre codeblock"><code>&gt;&gt;&gt; import cisco
&gt;&gt;&gt; help(cisco)
Help on package cisco:

NAME
    cisco

FILE
    /isan/python/scripts/cisco/__init__.py

PACKAGE CONTENTS
    acl
    bgp
    cisco_secret
    cisco_socket
    feature
    interface
    key
    line_parser
    md5sum
    nxcli
    ospf
    routemap
    routes
    section_parser
    ssh
    system
    tacacs
    vrf

CLASSES
     __builtin__.object
        cisco.cisco_secret.CiscoSecret
        cisco.interface.Interface
        cisco.key.Key

</code></pre>
                           <p class="p">The following is an example of how to display information about the Cisco Python Package for Python 3:</p>
                           <pre class="pre codeblock"><code>switch# python3
Python 3.7.3 (default, Nov 20 2019, 14:38:01)
[GCC 5.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import cisco
&gt;&gt;&gt; help(cisco)
Help on package cisco:

NAME
cisco

PACKAGE CONTENTS
acl
bgp
buffer_depth_monitor
check_port_discards
cisco_secret
feature
historys
interface
ipaddress
key
line_parser
mac_address_table
md5sum
nxcli
nxos_cli
ospf
routemap
routes
section_parser
ssh
system
tacacs
transfer
vlan
vrf

CLASSES
builtins.dict(builtins.object)
cisco.history.History
builtins.object
cisco.cisco_secret.CiscoSecret
cisco.interface.Interface
cisco.key.Key</code></pre></section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title4" lang="en-US" id="concept_6414B967674E46A5B13EC9CF61C88880">
                        <h3 class="title topictitle3" id="ariaid-title4"> Using the CLI
                           	 Command APIs 
                        </h3>
                        <section class="body conbody">
                           <p class="p"> The Python
                              		programming language uses three APIs that can execute CLI commands. The APIs
                              		are available from the Python CLI module. 
                              	 
                           </p>
                           <p class="p">These APIs are listed in the following table. You must enable the APIs with the <span><span class="keyword kwd">from cli import</span>
                                 				<var>*</var> </span> command. The arguments for these APIs are strings of CLI commands. To execute a CLI command through the Python interpreter,
                              you enter the CLI command as an argument string of one of the following APIs: 
                           </p>
                           <table width="100%" border="1" class="table" id="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3">
                              <caption><span class="table--title-label tabletitle">Table 1. </span><span class="tabletitle">CLI Command
                                    		APIs</span></caption>
                              <colgroup>
                                 <col style="width:50%">
                                 <col style="width:50%">
                              </colgroup>
                              <thead class="thead">
                                 <tr>
                                    <th font-weight="bold" class="entry" id="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__1"> 
                                       				
                                       <p class="p"><strong class="ph b">API</strong> 
                                          				
                                       </p> 
                                       			 
                                    </th>
                                    <th font-weight="bold" class="entry" id="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__2"> 
                                       				
                                       <p class="p"><strong class="ph b">Description</strong> 
                                          				
                                       </p> 
                                       			 
                                    </th>
                                 </tr>
                              </thead>
                              <tbody class="tbody">
                                 <tr>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__1 "><span class="keyword cmdname"> cli()</span> 
                                       				
                                       <p class="p">Example: 
                                          				
                                       </p> 
                                       				<pre class="pre codeblock"><code>string = cli (“cli-command”)</code></pre> 
                                       			 </td>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__2 "> 
                                       				
                                       <p class="p"> Returns the raw output of CLI commands, including control or special characters. </p> 
                                       				
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="olh_note" role="heading" border="0">
                                                <p><b>Note</b></p>&nbsp;
                                             </td>
                                             <td border="0" class="olh_note">
                                                <section class="note__content"> 
                                                   				  
                                                   <p class="p"> The interactive Python interpreter prints control or special characters 'escaped'. A carriage return is printed as '\n' and
                                                      gives results that can be difficult to read. The <span class="keyword cmdname">clip()</span> API gives results that are more readable. 
                                                   </p> 
                                                   				
                                                </section>
                                             </td>
                                          </tr>
                                       </table> 
                                       			 
                                    </td>
                                 </tr>
                                 <tr>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__1 "><span class="keyword cmdname"> clid()</span> 
                                       				
                                       <p class="p">Example: 
                                          				
                                       </p> 
                                       				<pre class="pre codeblock"><code>json_string = clid (“cli-command”) </code></pre> 
                                       			 </td>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__2 "> 
                                       				
                                       <p class="p"> Returns JSON
                                          				  output for 
                                          				  <span class="keyword parmname">cli-command</span>, if XML support exists for the command,
                                          				  otherwise an exception is thrown. 
                                          				
                                       </p> 
                                       				
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="olh_note" role="heading" border="0">
                                                <p><b>Note</b></p>&nbsp;
                                             </td>
                                             <td border="0" class="olh_note">
                                                <section class="note__content">
                                                   				  
                                                   <p class="p"> This API
                                                      					 can be useful when searching the output of show commands. 
                                                      				  
                                                   </p>
                                                   				
                                                </section>
                                             </td>
                                          </tr>
                                       </table> 
                                       			 
                                    </td>
                                 </tr>
                                 <tr>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__1 "><span class="keyword cmdname"> clip()</span> 
                                       				
                                       <p class="p">Example: 
                                          				
                                       </p> 
                                       				<pre class="pre codeblock"><code>clip (“cli-command”)</code></pre> 
                                       			 </td>
                                    <td class="entry" headers="concept_6414B967674E46A5B13EC9CF61C88880__table_2E34692D51A64F29BB9717C1E77942C3__entry__2 "> 
                                       				
                                       <p class="p">Prints the
                                          				  output of the CLI command directly to stdout and returns nothing to Python. 
                                          				
                                       </p> 
                                       				
                                       <table class="olh_note" border="0" role="note">
                                          <tr>
                                             <td width="1%" class="olh_note" role="heading" border="0">
                                                <p><b>Note</b></p>&nbsp;
                                             </td>
                                             <td border="0" class="olh_note">
                                                <section class="note__content"> 
                                                   				  
                                                   <section class="p"> 
                                                      					 <pre class="pre codeblock"><code>clip (“cli-command”)</code></pre> is equivalent to 
                                                      					 <pre class="pre codeblock"><code>r=cli(“cli-command”)
print r</code></pre> 
                                                      				  </section> 
                                                   				
                                                </section>
                                             </td>
                                          </tr>
                                       </table> 
                                       			 
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                           <p class="p">When two or more
                              		commands are run individually, the state is not persistent from one command to
                              		subsequent commands. 
                              	 
                           </p>
                           <p class="p">In the following
                              		example, the second command fails because the state from the first command does
                              		not persist for the second command: 
                              	 
                           </p><pre class="pre codeblock"><code>&gt;&gt;&gt; cli("conf t")
&gt;&gt;&gt; cli("interface eth4/1")

</code></pre><p class="p">When two or more
                              		commands are run together, the state is persistent from one command to
                              		subsequent commands. 
                              	 
                           </p>
                           <p class="p">In the following
                              		example, the second command is successful because the state persists for the
                              		second and third commands: 
                              	 
                           </p><pre class="pre codeblock"><code>&gt;&gt;&gt; cli("conf t ; interface eth4/1 ; shut")</code></pre><table class="olh_note" border="0" role="note">
                              <tr>
                                 <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><p><b>Note</b></p>
                                 </td>
                                 <td border="0" class="olh_note">
                                    <section class="note__content">
                                       <hr> 
                                       		
                                       <p class="p">Commands are separated with <var class="keyword varname">" ; "</var> as shown in the example. The semicolon ( ; ) must be surrounded with single blank characters. 
                                       </p> 
                                       	 
                                       <hr>
                                    </section>
                                 </td>
                              </tr>
                           </table>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title5" lang="en-US" id="concept_17DAEF691C7B4A069BCDC43B241962A0">
                        <h3 class="title topictitle3" id="ariaid-title5"> Invoking the Python
                           	 Interpreter from the CLI
                        </h3>
                        <section class="body conbody">
                           <p class="p"> The following example shows how to invoke Python 2 from the CLI: </p>
                           <table class="olh_note" border="0" role="note">
                              <tr>
                                 <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><p><b>Note</b></p>
                                 </td>
                                 <td border="0" class="olh_note">
                                    <section class="note__content">
                                       <hr> 
                                       		
                                       <p class="p"> The Python
                                          		  interpreter is designated with the "&gt;&gt;&gt;" or "…" prompt. 
                                          		
                                       </p> 
                                       	 
                                       <hr>
                                    </section>
                                 </td>
                              </tr>
                           </table>
                           		
                           <table class="olh_note" border="0" role="note">
                              <tr>
                                 <td width="1%" class="olh_note" role="heading" border="0"><img src="https://www.cisco.com/content/dam/en/us/td/i/templates/note.gif"><br><p><b>Important</b></p>
                                 </td>
                                 <td border="0" class="olh_note">
                                    <section class="note__content">
                                       <hr>
                                       			
                                       <p class="p">Python 2.7 is End of Support, Future NX-OS software deprecates Python 2.7 support. We recommend for new scripts to use <span><span class="keyword kwd">python3</span> </span>' instead. Type <span><span class="keyword kwd">python3</span> </span> to use the new shell.
                                       </p>
                                       		
                                       <hr>
                                    </section>
                                 </td>
                              </tr>
                           </table>
                           		
                           <p class="p"> The following example shows how to invoke Python 3 from the CLI: </p>
                           		<pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">python3</b></kbd>
Python 3.7.3 (default, Nov 20 2019, 14:38:01) 
[GCC 5.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; 
&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; import json
&gt;&gt;&gt; cli('configure terminal ; interface loopback 1 ; no shut')
''
&gt;&gt;&gt; intflist=json.loads(clid('show interface brief'))
&gt;&gt;&gt; i=0
&gt;&gt;&gt; while i &lt; len(intflist['TABLE_interface']['ROW_interface']):
...     intf=intflist['TABLE_interface']['ROW_interface'][i]
...     i=i+1
...     if intf['state'] == 'up':
...         print(intf['interface'])
... 
mgmt0
loopback1
&gt;&gt;&gt; 

</code></pre></section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title6" lang="en-US" id="concept_625FA2B8E7ED4F3C949A84E09A4CB974">
                        <h3 class="title topictitle3" id="ariaid-title6">Display
                           	 Formats
                        </h3>
                        <section class="body conbody">
                           <p class="p"> The following
                              		examples show various display formats using the Python APIs: 
                              	 
                           </p>
                           <p class="p">Example 1:
                              	 
                           </p><pre class="pre codeblock"><code>&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; cli("conf ; interface loopback 1")
''
&gt;&gt;&gt; clip('where detail')
  mode:
  username:            admin
  vdc:                 switch
  routing-context vrf: default

</code></pre><p class="p">Example 2:
                              	 
                           </p><pre class="pre codeblock"><code>&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; cli("conf ; interface loopback 1")
''
&gt;&gt;&gt; cli('where detail')
'  mode:                \n  username:            admin\n  vdc:                 
 switch\n  routing-context vrf: default\n'
&gt;&gt;&gt; 

</code></pre><p class="p">Example 3:
                              	 
                           </p>
                           <pre class="pre codeblock"><code>&gt;&gt;&gt; r = cli('where detail')
&gt;&gt;&gt; print(r)
mode:
username: admin
vdc: switch
routing-context vrf: default

&gt;&gt;&gt;

</code></pre><p class="p">Example 4: 
                              	 
                           </p>
                           <pre class="pre codeblock"><code>&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; import json
&gt;&gt;&gt; out=json.loads(clid('show version'))
&gt;&gt;&gt; for k in out.keys():
... print("%30s - %s" % (k,out[k]))
...
header_str - Cisco Nexus Operating System (NX-OS) Software
TAC support: http://www.cisco.com/tac
Copyright (C) 2002-2020, Cisco and/or its affiliates.
All rights reserved.
The copyrights to certain works contained in this software are
owned by other third parties and used and distributed under their own
licenses, such as open source. This software is provided "as is," and unless
otherwise stated, there is no warranty, express or implied, including but not
limited to warranties of merchantability and fitness for a particular purpose.
Certain components of this software are licensed under
the GNU General Public License (GPL) version 2.0 or
GNU General Public License (GPL) version 3.0 or the GNU
Lesser General Public License (LGPL) Version 2.1 or
Lesser General Public License (LGPL) Version 2.0.
A copy of each such license is available at
http://www.opensource.org/licenses/gpl-2.0.php and
http://opensource.org/licenses/gpl-3.0.html and
http://www.opensource.org/licenses/lgpl-2.1.php and
http://www.gnu.org/licenses/old-licenses/library.txt.
bios_ver_str - 07.67
kickstart_ver_str - 9.3(5) [build 9.3(4)IIL9(0.879)]
nxos_ver_str - 9.3(5) [build 9.3(4)IIL9(0.879)]
bios_cmpl_time - 01/29/2020
kick_file_name - bootflash:///nxos.9.3.4.IIL9.0.879.bin
nxos_file_name - bootflash:///nxos.9.3.4.IIL9.0.879.bin
kick_cmpl_time - 5/10/2020 21:00:00
nxos_cmpl_time - 5/10/2020 21:00:00
kick_tmstmp - 05/12/2020 07:08:44
nxos_tmstmp - 05/12/2020 07:08:44
chassis_id - Nexus9000 93180YC-EX chassis
cpu_name - Intel(R) Xeon(R) CPU @ 1.80GHz
memory - 24632252
mem_type - kB
proc_board_id - FDO22280FFK
host_name - switch
bootflash_size - 53298520
kern_uptm_days - 0
kern_uptm_hrs - 0
kern_uptm_mins - 19
kern_uptm_secs - 34
rr_usecs - 641967
rr_ctime - Tue May 12 09:52:28 2020
rr_reason - Reset Requested by CLI command reload
rr_sys_ver - 9.4(1)
rr_service - None
plugins - Core Plugin, Ethernet Plugin
manufacturer - Cisco Systems, Inc.
&gt;&gt;&gt;

</code></pre></section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title7" lang="en-US" id="concept_0E0DA3A80E734516B50AD6901F0142D8">
                        <h3 class="title topictitle3" id="ariaid-title7"> Non-Interactive Python</h3>
                        <section class="body conbody">
                           <p class="p">A Python script can run in non-interactive mode by providing the Python script name as an argument to the Python CLI command.
                              Python scripts must be placed under the bootflash or volatile scheme. A maximum of 32 command-line arguments for the Python
                              script are allowed with the Python CLI command. 
                           </p>
                           <p class="p">The switch also supports the source CLI command for running Python scripts. The <span class="ph filepath">bootflash:scripts</span> directory is the default script directory for the source CLI command. 
                           </p>
                           <p class="p">This example shows the script first and then executing it. Saving is like bringing any file to the bootflash.</p>
                           
                           <pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">show file bootflash:scripts/deltaCounters.py</b></kbd>
#!/isan/bin/python3
from cli import *
import sys, time
ifName = sys.argv[1]
delay = float(sys.argv[2])
count = int(sys.argv[3])
cmd = 'show interface ' + ifName + ' counters'
out = json.loads(clid(cmd))
rxuc = int(out['TABLE_rx_counters']['ROW_rx_counters'][0]['eth_inucast'])
rxmc = int(out['TABLE_rx_counters']['ROW_rx_counters'][1]['eth_inmcast'])
rxbc = int(out['TABLE_rx_counters']['ROW_rx_counters'][1]['eth_inbcast'])
txuc = int(out['TABLE_tx_counters']['ROW_tx_counters'][0]['eth_outucast'])
txmc = int(out['TABLE_tx_counters']['ROW_tx_counters'][1]['eth_outmcast'])
txbc = int(out['TABLE_tx_counters']['ROW_tx_counters'][1]['eth_outbcast'])
print ('row rx_ucast rx_mcast rx_bcast tx_ucast tx_mcast tx_bcast')
print ('=========================================================')
print (' %8d %8d %8d %8d %8d %8d' % (rxuc, rxmc, rxbc, txuc, txmc, txbc))
print ('=========================================================')
i = 0
while (i &lt; count):
    time.sleep(delay)
    out = json.loads(clid(cmd))
    rxucNew = int(out['TABLE_rx_counters']['ROW_rx_counters'][0]['eth_inucast'])
    rxmcNew = int(out['TABLE_rx_counters']['ROW_rx_counters'][1]['eth_inmcast'])
    rxbcNew = int(out['TABLE_rx_counters']['ROW_rx_counters'][1]['eth_inbcast'])
    txucNew = int(out['TABLE_tx_counters']['ROW_tx_counters'][0]['eth_outucast'])
    txmcNew = int(out['TABLE_tx_counters']['ROW_tx_counters'][1]['eth_outmcast'])
    txbcNew = int(out['TABLE_tx_counters']['ROW_tx_counters'][1]['eth_outbcast'])
    i += 1
    print ('%-3d %8d %8d %8d %8d %8d %8d' % (i, rxucNew - rxuc, rxmcNew - rxmc, rxbcNew - rxbc, txucNew - txuc, txmcNew - txmc, txbcNew - txbc))</code></pre>
                           <pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">python bootflash:scripts/deltaCounters.py mgmt0 1 5</b></kbd>
row rx_ucast rx_mcast rx_bcast tx_ucast tx_mcast tx_bcast
=========================================================
      291     8233     1767      185       57        2
=========================================================
1          1        4        1        1        0        0
2          2        5        1        2        0        0
3          3        9        1        3        0        0
4          4       12        1        4        0        0
5          5       17        1        5        0        0
switch#

</code></pre><p class="p">The following example shows how a source command specifies command-line arguments. In the example, <span><var>policy-map</var> </span> is an argument to the <code class="ph codeph">cgrep python</code> script. The example also shows that a source command can follow the pipe operator ("|"). 
                           </p><pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">show running-config | source sys/cgrep policy-map</b></kbd>

policy-map type network-qos nw-pfc
policy-map type network-qos no-drop-2
policy-map type network-qos wred-policy
policy-map type network-qos pause-policy
policy-map type qos foo
policy-map type qos classify
policy-map type qos cos-based
policy-map type qos no-drop-2
policy-map type qos pfc-tor-port

</code></pre></section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title8" lang="en-US" id="concept_3B13FE65D40D4251BAE1AE074A0539C2">
                        <h3 class="title topictitle3" id="ariaid-title8">Running Scripts with
                           	 Embedded Event Manager
                        </h3>
                        <section class="body conbody">
                           <p class="p">On Cisco Nexus switches, Embedded Event Manager (EEM) policies support Python scripts. </p>
                           <p class="p">The following example
                              		shows how to run a Python script as an EEM action: 
                              	 
                           </p>
                           <ul class="ul">
                              <li class="li" id="concept_3B13FE65D40D4251BAE1AE074A0539C2__li_DA0688F8AB1A4D78A6FFDB2AB70DAE9B"> 
                                 		  
                                 <section class="p">An EEM applet can include a Python script with an action command. <pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">show running-config eem</b></kbd> 
 
!Command: show running-config eem
!Running configuration last done at: Thu Jun 25 15:29:38 2020
!Time: Thu Jun 25 15:33:19 2020
 
version 9.3(5) Bios:version 07.67 
event manager applet a1
  event cli match "show clock"
  action 1 cli python bootflash:pydate.py
 
 
switch# show file logflash:vdc_1/event_archive_1 | last 33
 
eem_event_time:06/25/2020,15:34:24 event_type:cli event_id:24 slot:active(1) vdc
:1 severity:minor applets:a1
eem_param_info:command = "exshow clock"
Starting with policy a1
stty: standard input: Inappropriate ioctl for device
Executing the following commands succeeded:
          python bootflash:pydate.py
Completed executing policy a1
Event Id:24 event type:10241 handling completed

 </code></pre>
                                    				</section> 
                                 		
                              </li>
                              <li class="li" id="concept_3B13FE65D40D4251BAE1AE074A0539C2__li_9D4A143DCFD64876BB086FAAE9FA86D1"> 
                                 		  
                                 <section class="p">You can search for the action that is triggered by the event in the log file by running the <span><span class="keyword kwd">show file</span>
                                       						<var>logflash</var>:<var>event_archive_1</var> </span> command. <pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">show file logflash:event_archive_1 | last 33</b></kbd>

eem_event_time:05/01/2011,19:40:28 event_type:cli event_id:8 slot:active(1) 
vdc:1 severity:minor applets:a1
eem_param_info:command = "exshow clock"
Starting with policy a1
Python

2011-05-01 19:40:28.644891
Executing the following commands succeeded:
          python bootflash:pydate.py

PC_VSH_CMD_TLV(7679) with q
</code></pre>
                                    				</section> 
                                 		
                              </li>
                           </ul>
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title9" lang="en-US" id="concept_AC41A84BC6DE41B68660AC91DE0EC047">
                        <h3 class="title topictitle3" id="ariaid-title9">Python Integration
                           	 with Cisco NX-OS Network Interfaces
                        </h3>
                        <section class="body conbody">
                           <p class="p">On Cisco Nexus switches, Python is integrated with the underlying Cisco NX-OS network interfaces. You can switch from one
                              virtual routing context to another by setting up a context through the cisco.vrf.set_global_vrf() API. 
                           </p>
                           <p class="p">The following example shows how to retrieve an HTML document over the management interface of a device. You can also establish
                              a connection to an external entity over the in-band interface by switching to a desired virtual routing context. 
                           </p>
                           <pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">python</b></kbd>
 
Warning: Python 2.7 is End of Support, and future NXOS software will deprecate
python 2.7 support. It is recommended for new scripts to use 'python3' instead.
Type "python3" to use the new shell.
 
Python 2.7.11 (default, Jun  4 2020, 09:48:24)
[GCC 4.6.3] on linux2
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import urllib2
&gt;&gt;&gt; from cisco.vrf import *
&gt;&gt;&gt; set_global_vrf('management')
&gt;&gt;&gt; page=urllib2.urlopen('http://172.23.40.211:8000/welcome.html')
&gt;&gt;&gt; print page.read()
Hello Cisco Nexus 9000
&gt;&gt;&gt; 
&gt;&gt;&gt; import cisco
&gt;&gt;&gt; help(cisco.vrf.set_global_vrf)
Help on function set global vrf in module cisco.vrf:
set global vrf(vrf)
Sets the global vrf. Any new sockets that are created (using socket.socket)
will automatically get set to this vrf (including sockets used by other
python libraries).
Arguments:
vrf: VRF name (string) or the VRF ID (int).
Returns: Nothing
&gt;&gt;&gt; </code></pre></section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links"></nav>
                        <!-- minitoc end -->
                     </article>
                     <article class="topic concept nested2" aria-labelledby="ariaid-title10" lang="en-US" id="concept_A2CFF094ADCB414C983EA06AD8E9A410">
                        <h3 class="title topictitle3" id="ariaid-title10">Cisco NX-OS Security
                           	 with Python
                        </h3>
                        <section class="body conbody">
                           
                           <p class="p">Cisco NX-OS resources
                              		are protected by the Cisco NX-OS Sandbox layer of software and by the CLI
                              		role-based access control (RBAC). 
                              	 
                           </p>
                           
                           <p class="p"> All users who are associated with a Cisco NX-OS network-admin or dev-ops role are privileged users. Users who are granted
                              access to Python with a custom role are regarded as nonprivileged users. Nonprivileged users have limited access to Cisco
                              NX-OS resources, such as the file system, guest shell, and Bash commands. Privileged users have greater access to all the
                              resources of Cisco NX-OS. 
                           </p>
                           
                        </section>
                        <!-- minitoc start -->
                        <nav role="navigation" class="related-links">
                           <ul class="ullinks">
                              <li class="link ulchildlink"><a href="#concept_BC6D75F431E248E7948818C8A5CE7EF0">Examples of Security and User Authority</a></li>
                              <li class="link ulchildlink"><a href="#concept_9AEE2791EDBB46F88E216CD46EC95C33">Example of Running Script with Scheduler</a></li>
                           </ul>
                        </nav>
                        <!-- minitoc end -->
                        <article class="topic concept nested3" aria-labelledby="ariaid-title11" lang="en-US" id="concept_BC6D75F431E248E7948818C8A5CE7EF0">
                           <h4 class="title topictitle4" id="ariaid-title11">Examples of Security
                              	 and User Authority
                           </h4>
                           <section class="body conbody">
                              <p class="p"> The following example
                                 		shows how a privileged user runs commands: 
                                 	 
                              </p>
                              
                              <p class="p">Python 3 example. </p>
                              <pre class="pre codeblock"><code>switch# python3
Python 3.7.3 (default, Nov 20 2019, 14:38:01)
[GCC 5.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import os
&gt;&gt;&gt; os.system('whoami')
admin
0
&gt;&gt;&gt; f=open('/tmp/test','w')
&gt;&gt;&gt; f.write('hello from python')
17
&gt;&gt;&gt; f.close()
&gt;&gt;&gt; r=open('/tmp/test','r')
&gt;&gt;&gt; print(r.read())
hello from python
&gt;&gt;&gt; r.close()
&gt;&gt;&gt; 

</code></pre><p class="p"> The following example shows a nonprivileged user being denied access: </p>
                              <pre class="pre codeblock"><code>switch# python3
Python 3.7.3 (default, Nov 20 2019, 14:38:01)
[GCC 5.2.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import os
&gt;&gt;&gt; os.system('whoami')
system(whoami): rejected!
-1
&gt;&gt;&gt; f=open('/tmp/test','w')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
PermissionError: [Errno 13] Permission denied: '/tmp/test'
&gt;&gt;&gt; 

</code></pre><p class="p">RBAC controls CLI
                                 		access based on the login user privileges. A login user's identity is given to
                                 		Python that is invoked from the CLI shell or from Bash. Python passes the login
                                 		user's identity to any subprocess that is invoked from Python. 
                                 	 
                              </p>
                              <p class="p">The following is an
                                 		example for a privileged user: 
                                 	 
                              </p><pre class="pre codeblock"><code>&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; cli('show clock')
'Warning: No NTP peer/server configured. Time may be out of sync.\n15:39:39.513 UTC Thu Jun 25 2020\nTime source is NTP\n'
&gt;&gt;&gt; cli('configure terminal ; vrf context myvrf')
''
&gt;&gt;&gt; clip('show running-config l3vm')
 
!Command: show running-config l3vm
!Running configuration last done at: Thu Jun 25 15:39:49 2020
!Time: Thu Jun 25 15:39:55 2020
 
version 9.3(5) Bios:version 07.67 
 
interface mgmt0
  vrf member management
vrf context blue
vrf context management
vrf context myvrf

</code></pre><p class="p">The following is an example for a nonprivileged user: </p><pre class="pre codeblock"><code>&gt;&gt;&gt; from cli import *
&gt;&gt;&gt; cli('show clock')
'11:18:47.482 AM UTC Sun May 08 2011\n'
&gt;&gt;&gt; cli('configure terminal ; vrf context myvrf2')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "/isan/python/scripts/cli.py", line 20, in cli
    raise cmd_exec_error(msg)
errors.cmd_exec_error: '% Permission denied for the role\n\nCmd exec error.\n'

</code></pre><p class="p">The following example
                                 		shows an RBAC configuration: 
                                 	 
                              </p><pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">show user-account</b></kbd>
user:admin
        this user account has no expiry date
        roles:network-admin
user:pyuser
        this user account has no expiry date
        roles:network-operator python-role
switch# show role name python-role

</code></pre></section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                        <article class="topic concept nested3" aria-labelledby="ariaid-title12" lang="en-US" id="concept_9AEE2791EDBB46F88E216CD46EC95C33">
                           <h4 class="title topictitle4" id="ariaid-title12">Example of Running
                              	 Script with Scheduler
                           </h4>
                           <section class="body conbody">
                              <p class="p">The following example
                                 		shows a Python script that is running the script with the scheduler feature: 
                                 	 
                              </p><pre class="pre codeblock"><code>#!/bin/env python
from cli import *
from nxos import *
import os

switchname = cli("show switchname")
try:
    user = os.environ['USER']
except:
    user = "No user"
    pass

msg = user + " ran " + __file__ + " on : " + switchname
print msg
py_syslog(1, msg)
# Save this script in bootflash:///scripts
</code></pre>
                              <p class="p">Python 3 example. </p>
                              <pre class="pre codeblock"><code>#!/bin/env python3
from cli import *
from nxos import *
import os
 
switchname = cli("show switchname")
try:
    user = os.environ['USER']
except:
    user = "No user"
    pass
 
msg = user + " ran " + __file__ + " on : " + switchname
print(msg)
py_syslog(1, msg)
 
# Save this script in bootflash:///scripts
 
switch# conf t
Enter configuration commands, one per line. End with CNTL/Z.
switch(config)# feature scheduler
switch(config)# scheduler job name testplan
switch(config-job)# python bootflash:///scripts/test.py
switch(config-job)# exit
switch(config)# scheduler schedule name testplan
switch(config-schedule)# job name testplan
switch(config-schedule)# time start now repeat 0:0:4
Schedule starts from Sat Jun 13 04:29:38 2020
switch# 2020 Jun 13 04:29:41 switch %USER-1-SYSTEM_MSG: No user ran /bootflash/scripts/test.py on : switch - nxpython
switch# show scheduler schedule
Schedule Name : testplan
------------------------------
User Name : admin
Schedule Type : Run every 0 Days 0 Hrs 4 Mins
Start Time : Sat Jun 13 04:29:38 2020
Last Execution Time : Sat Jun 13 04:29:38 2020
Last Completion Time: Sat Jun 13 04:29:41 2020
Execution count : 1
-----------------------------------------------
Job Name Last Execution Status
-----------------------------------------------
testplan Success (0)
==============================================================================
switch#

</code></pre><pre class="pre codeblock"><code>switch# <kbd class="userinput"><b class="ph userinput">conf t</b></kbd>
Enter configuration commands, one per line.  End with CNTL/Z.
switch(config)# <kbd class="userinput"><b class="ph userinput">feature scheduler</b></kbd>
switch(config)# <kbd class="userinput"><b class="ph userinput">scheduler job name testplan</b></kbd> 
switch(config-job)# <kbd class="userinput"><b class="ph userinput">python bootflash:///scripts/testplan.py</b></kbd> 
switch(config-job)# <kbd class="userinput"><b class="ph userinput">exit</b></kbd> 
switch(config)# <kbd class="userinput"><b class="ph userinput">scheduler schedule name testplan</b></kbd> 
switch(config-schedule)# <kbd class="userinput"><b class="ph userinput">job name testplan</b></kbd> 
switch(config-schedule)# <kbd class="userinput"><b class="ph userinput">time start now repeat 0:0:4</b></kbd> 
Schedule starts from Mon Mar 14 16:40:03 2011 
switch(config-schedule)# <kbd class="userinput"><b class="ph userinput">end</b></kbd> 
switch# term mon
2011 Mar 14 16:38:03 switch %VSHD-5-VSHD_SYSLOG_CONFIG_I: Configured from vty by admin on 10.19.68.246@pts/2 
switch# <kbd class="userinput"><b class="ph userinput">show scheduler schedule</b></kbd>
Schedule Name       : testplan
------------------------------
User Name           : admin
Schedule Type       : Run every 0 Days 0 Hrs 4 Mins
Start Time          : Mon Mar 14 16:40:03 2011
Last Execution Time : Yet to be executed
-----------------------------------------------
     Job Name            Last Execution Status
-----------------------------------------------
    testplan                              -NA-
==============================================================================
switch#
switch# 2011 Mar 14 16:40:04 switch  %USER-1-SYSTEM_MSG: No user ran /bootflash/scripts/testplan.py on : switch   - nxpython
2011 Mar 14 16:44:04 switch last message repeated 1 time 
switch#

</code></pre></section>
                           <!-- minitoc start -->
                           <nav role="navigation" class="related-links"></nav>
                           <!-- minitoc end -->
                        </article>
                     </article>
                  </article>
                  <p class="topictitle1" id=""></p>
               </article>
            </article>
         </main>
      

</div> 
 
    </div>
    <div class="col narrow-v2">
        















<div class="rightRailComponent noprint base-blowout">
    <div class="eotPersonalization">
        <section id="eotTDCampaign"></section>
    </div>    
    <div class="eot-feedback-container">

















<div class="eot-feedback">
  <h3>Was this Document Helpful?</h3>
  <span class="eot-feedback-btnwrap">
    <button class="eot-feedback-btn eot-feedback-btn-yes" aria-label="Was this Document Helpful?? Yes">Yes</button>
    <button class="eot-feedback-btn eot-feedback-btn-no" aria-label="Was this Document Helpful?? No">No</button>
  </span>
  <span lang="en" class="eot-feedback-olwrap">
    
      <a href="javascript: void(0);" class="eot-feedback-ol" onclick="window.open('https://ciscocx.qualtrics.com/jfe/form/SV_be0fHnqDoKM7sto?Ref=' + location.href + '&resize=false', 'feedback', 'width=650, height=460, scrollbars=1, menubar=1, resizable=1'); return false;">
      <img id="feedback_img" border="0" style="cursor: pointer;" title="Feedback" src="//www.cisco.com/c/dam/cdc/i/Feedback_OceanBlue.png" alt="Feedback">Feedback</a>
    
  </span>
</div>


</div>
			
    <div class="showComponent">
	















<div class="eot-vav">
  <ul>
  </ul>
</div>
    </div>
			
    <div class="letUsHelp">
	














<div class="eotLetUsHelp">
    <h3>Contact Cisco</h3>
    <ul>
         <li><a id="eotLetUsHelpProdDocUrl" href="https://mycase.cloudapps.cisco.com/start?prodDocUrl=">Open a Support Case</a><img src="/etc/designs/cdc/fw/i/icon_lock_small.png" alt="login required"/></li>
        <li>(Requires a <a href="//www.cisco.com/c/en/us/services/order-services.html">Cisco Service Contract</a>)</li>
    </ul>
</div>


<script>
    jQuery(document).ready(function() {
        var getURL=jQuery("#eotLetUsHelpProdDocUrl").attr("href"), 
            domInd = location.href.indexOf('cisco.com') ;
        if ( domInd > -1 && domInd < location.href.search(/\w\/\w/) ) {
            getURL += encodeURI(location.href);
        }
		jQuery("#eotLetUsHelpProdDocUrl").attr("href",getURL);
    });
</script>


    </div>

    <div id="eotRightRailMBox"><!--MBox-->
























<!-- IT:components/mbox/banner-mbox:V0.0.0 -->



<div>
    <div class="mboxDefault"></div>   
    <script type="text/javascript">
        var test="";
        if(test!=undefined && test.trim().length>0){
           mboxCreate('en-us_dg_support_bookchapters','type=default','');
        }else{
           mboxCreate('en-us_dg_support_bookchapters','type=default');
        }
       
    </script>
</div>
<!--MBox--></div>
			
    <div class="showComponent">
	























    

	<script type="text/javascript">
			    var eottdatp = document.getElementsByClassName('eot-tdatp');
			    if (eottdatp && eottdatp.style) {
        			eottdatp.style.display="none";
			    }
        		  </script>
  	


    </div>
			
    <div></div>

</div>


    </div>
</div>

     <!--googleoff: index--><!--googleoff: snippet-->
    













<!-- end: responsive fat footer re-use wrapper-->

</div>

    



























        <script type="module" src="/site/web-components/us/en/cdc-footer.js"></script>
        <cdc-footer></cdc-footer>
    

<script type="text/javascript">
    if(document.querySelector('#privacy-manager')!=null){
        document.querySelector('#privacy-manager').href='#cookies';
    }
  </script>   
    













<div id="fw-overlay"></div>

    













<script src="/etc/designs/cdc/clientlibs/responsive/js/books.min.js"></script>

<script src="/etc/designs/cdc/fw/m/books_metricsrule.js" type="text/javascript" async></script>
    
    

    <!-- SiteCatalyst code version: H.24.4. -->
    <noscript><img src="//cisco.112.2o7.net/b/ss/cisco-mobile/5/12345" width="2" height="2" border="0" alt=""/></noscript>

</body>
</html>
