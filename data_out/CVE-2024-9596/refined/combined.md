=== Content from gitlab.com_d8d32dc3_20250111_044414.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

# GitLab instance version disclosed publicly in pages source

The GitLab instance version is exposed publicly in any page's source. The reason is that the `Help` dropdown in the super sidebar surfaces the version to admin users.

| `Help` dropdown as seen by an instance admin |
| --- |
| [Screenshot_2024-09-23_at_11.11.29_AM](/-/project/278964/uploads/f7db90c48b2f8cb191499958d61385b4/Screenshot_2024-09-23_at_11.11.29_AM.png) |

While the dropdown item's rendering is properly guarded [behind a `show_version_check?` check](https://gitlab.com/gitlab-org/gitlab/-/blob/f41077a2ebe35fa729ba8b8fc1dd3ec3c666e7d2/app/assets/javascripts/super_sidebar/components/help_center.vue#L230), the data itself is being [passed to the client](https://gitlab.com/gitlab-org/gitlab/-/blob/f41077a2ebe35fa729ba8b8fc1dd3ec3c666e7d2/app/helpers/sidebars_helper.rb#L57) without performing the same check. As a result, the version number can be seen by viewing any page's source:

| Viewing the page source at <https://gitlab.com/explore> as an anonymous user |
| --- |
| [Screenshot_2024-09-23_at_11.18.25_AM](/-/project/278964/uploads/08a8348a4be7b394c279859cd420ff2a/Screenshot_2024-09-23_at_11.18.25_AM.png) |

This poses a security risk as it makes it trivial for malicious actors to find potential attack vectors that affect a specific version of GitLab. We should ensure this information is never present in the source unless the user is logged-in and has permission to see it.

> **Note:** We first started exposing the version number in [%15.9](/groups/gitlab-org/-/milestones/84) as part of [!110786 (merged)](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/110786 "Show version check in new Help menu"). At the time, the user needed to be logged in, and the `super_sidebar_nav` feature flag enabled for the information to be present in the source. We later ([%16.3](/groups/gitlab-org/-/milestones/90)) made it possible for anonymous users to see the version, but that then required the `super_sidebar_logged_out` feature flag to be enabled ([!126125 (merged)](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/126125 "Unauthenticated super sidebar")). The latter feature flag was removed in [%16.6](/groups/gitlab-org/-/milestones/93) ([!134890 (merged)](https://gitlab.com/gitlab-org/gitlab/-/merge_requests/134890 "Enable super sidebar for logged-out users")), which is when the version number started being "leaked-by-default" for all anonymous users.

Edited Sep 23, 2024 by [Paul Gascou-Vaillancourt](/pgascouvaillancourt)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.


