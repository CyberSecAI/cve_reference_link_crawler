=== Content from www.wordfence.com_cffdc061_20250111_011028.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Page Builder by SiteOrigin <= 2.29.6 - Authenticated (Contributor+) Stored Cross-Site Scripting via Legacy Image Widget

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Page Builder by SiteOrigin <= 2.29.6 - Authenticated (Contributor+) Stored Cross-Site Scripting via Legacy Image Widget

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-2202](https://www.cve.org/CVERecord?id=CVE-2024-2202) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | March 22, 2024 |
| Last Updated | March 23, 2024 |
| Researcher | [Webbernaut](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/webbernaut) |

### Description

The Page Builder by SiteOrigin plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the legacy Image widget in all versions up to, and including, 2.29.6 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/siteorigin-panels/trunk/widgets/widgets.php#L911)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3053935%40siteorigin-panels&new=3053935%40siteorigin-panels&sfp_email=&sfph_mail=#file31)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsiteorigin-panels%2Fpage-builder-by-siteorigin-2296-authenticated-contributor-stored-cross-site-scripting-via-legacy-image-widget&t=Page%20Builder%20by%20SiteOrigin%20%3C%3D%202.29.6%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Legacy%20Image%20Widget "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsiteorigin-panels%2Fpage-builder-by-siteorigin-2296-authenticated-contributor-stored-cross-site-scripting-via-legacy-image-widget&text=Page%20Builder%20by%20SiteOrigin%20%3C%3D%202.29.6%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Legacy%20Image%20Widget "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fsiteorigin-panels%2Fpage-builder-by-siteorigin-2296-authenticated-contributor-stored-cross-site-scripting-via-legacy-image-widget "LinkedIn")
Email

## Vulnerability Details for Page Builder by SiteOrigin

#### [Page Builder by SiteOrigin](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/siteorigin-panels)

| Software Type | Plugin |
| --- | --- |
| Software Slug | siteorigin-panels [(view on wordpress.org)](https://wordpress.org/plugins/siteorigin-panels) |
| Patched? | Yes |
| Remediation | Update to version 2.29.7, or a newer patched version |
| Affected Version | * <= 2.29.6 |
| Patched Version | * 2.29.7 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_cb87bb71_20250111_011027.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3053935%2540siteorigin-panels%26old%3D3053935%2540siteorigin-panels)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3045968/siteorigin-panels "Changeset 3045968 for siteorigin-panels")
* [Next Change](/changeset/3053936/siteorigin-panels "Changeset 3053936 for siteorigin-panels") →

---

# Changeset [3053935](/changeset/3053935 "Show full changeset") for [siteorigin-panels](/browser/siteorigin-panels?rev=3053935 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/18/2024 10:28:34 PM
([10 months](/timeline?from=2024-03-18T22%3A28%3A34Z&precision=second "See timeline at 03/18/2024 10:28:34 PM") ago)

Author:
SiteOrigin
Message:

2.29.7 release.

Location:
[siteorigin-panels/trunk](/browser/siteorigin-panels/trunk?rev=3053935)
Files:

32 edited

* [compat/acf-widgets.php](/browser/siteorigin-panels/trunk/compat/acf-widgets.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [inc/admin-dashboard.php](/browser/siteorigin-panels/trunk/inc/admin-dashboard.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [inc/admin-layouts.php](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935 "Show entry in browser")
  (modified)
  ([11 diffs](#file2 "Show differences"))
* [inc/admin-widget-dialog.php](/browser/siteorigin-panels/trunk/inc/admin-widget-dialog.php?rev=3053935 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [inc/admin-widgets-bundle.php](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=3053935 "Show entry in browser")
  (modified)
  ([4 diffs](#file4 "Show differences"))
* [inc/admin.php](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935 "Show entry in browser")
  (modified)
  ([20 diffs](#file5 "Show differences"))
* [inc/installer/inc/admin.php](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=3053935 "Show entry in browser")
  (modified)
  ([3 diffs](#file6 "Show differences"))
* [inc/installer/tpl/action-btn.php](/browser/siteorigin-panels/trunk/inc/installer/tpl/action-btn.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [inc/installer/tpl/admin.php](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935 "Show entry in browser")
  (modified)
  ([8 diffs](#file8 "Show differences"))
* [inc/live-editor.php](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=3053935 "Show entry in browser")
  (modified)
  ([3 diffs](#file9 "Show differences"))
* [inc/post-content-filters.php](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=3053935 "Show entry in browser")
  (modified)
  ([3 diffs](#file10 "Show differences"))
* [inc/renderer.php](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935 "Show entry in browser")
  (modified)
  ([6 diffs](#file11 "Show differences"))
* [inc/settings.php](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935 "Show entry in browser")
  (modified)
  ([6 diffs](#file12 "Show differences"))
* [inc/styles-admin.php](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935 "Show entry in browser")
  (modified)
  ([16 diffs](#file13 "Show differences"))
* [inc/styles.php](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3053935 "Show entry in browser")
  (modified)
  ([4 diffs](#file14 "Show differences"))
* [inc/widget-shortcode.php](/browser/siteorigin-panels/trunk/inc/widget-shortcode.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file15 "Show differences"))
* [inc/widgets/layout.php](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=3053935 "Show entry in browser")
  (modified)
  ([4 diffs](#file16 "Show differences"))
* [inc/widgets/post-content.php](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=3053935 "Show entry in browser")
  (modified)
  ([3 diffs](#file17 "Show differences"))
* [inc/widgets/post-loop.php](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935 "Show entry in browser")
  (modified)
  ([6 diffs](#file18 "Show differences"))
* [js/siteorigin-panels.js](/browser/siteorigin-panels/trunk/js/siteorigin-panels.js?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [js/siteorigin-panels.min.js](/browser/siteorigin-panels/trunk/js/siteorigin-panels.min.js?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file20 "Show differences"))
* [lang/siteorigin-panels.pot](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935 "Show entry in browser")
  (modified)
  ([15 diffs](#file21 "Show differences"))
* [readme.txt](/browser/siteorigin-panels/trunk/readme.txt?rev=3053935 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [settings/tpl/help.php](/browser/siteorigin-panels/trunk/settings/tpl/help.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file23 "Show differences"))
* [settings/tpl/settings.php](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=3053935 "Show entry in browser")
  (modified)
  ([4 diffs](#file24 "Show differences"))
* [siteorigin-panels.php](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3053935 "Show entry in browser")
  (modified)
  ([4 diffs](#file25 "Show differences"))
* [tpl/admin-home-page.php](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935 "Show entry in browser")
  (modified)
  ([6 diffs](#file26 "Show differences"))
* [tpl/help.php](/browser/siteorigin-panels/trunk/tpl/help.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file27 "Show differences"))
* [tpl/js-templates.php](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935 "Show entry in browser")
  (modified)
  ([27 diffs](#file28 "Show differences"))
* [tpl/live-editor-preview.php](/browser/siteorigin-panels/trunk/tpl/live-editor-preview.php?rev=3053935 "Show entry in browser")
  (modified)
  ([1 diff](#file29 "Show differences"))
* [tpl/metabox-panels.php](/browser/siteorigin-panels/trunk/tpl/metabox-panels.php?rev=3053935 "Show entry in browser")
  (modified)
  ([2 diffs](#file30 "Show differences"))
* [widgets/widgets.php](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935 "Show entry in browser")
  (modified)
  ([19 diffs](#file31 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [siteorigin-panels/trunk/compat/acf-widgets.php](/changeset/3053935/siteorigin-panels/trunk/compat/acf-widgets.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/compat/acf-widgets.php")

  | [r2958562](/browser/siteorigin-panels/trunk/compat/acf-widgets.php?rev=2958562#L24 "Show revision 2958562 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/compat/acf-widgets.php?rev=3053935#L24 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | wp\_enqueue\_script( |
  | 25 | 25 | 'so-panels-acf-widgets-compat', |
  | 26 |  | ~~siteorigin\_panels\_url( 'compat/js/acf-widgets' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 26 | esc\_url( siteorigin\_panels\_url( 'compat/js/acf-widgets' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 27 | 27 | array( |
  | 28 | 28 | 'jquery', |
* ## [siteorigin-panels/trunk/inc/admin-dashboard.php](/changeset/3053935/siteorigin-panels/trunk/inc/admin-dashboard.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/admin-dashboard.php")

  | [r2928814](/browser/siteorigin-panels/trunk/inc/admin-dashboard.php?rev=2928814#L45 "Show revision 2928814 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/admin-dashboard.php?rev=3053935#L45 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | wp\_enqueue\_style( |
  | 46 | 46 | 'so-panels-dashboard', |
  | 47 |  | ~~siteorigin\_panels\_url( 'css/dashboard' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css'~~ ), |
  |  | 47 | esc\_url( siteorigin\_panels\_url( 'css/dashboard' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css' ) ), |
  | 48 | 48 | array( 'wp-color-picker' ), |
  | 49 | 49 | SITEORIGIN\_PANELS\_VERSION |
* ## [siteorigin-panels/trunk/inc/admin-layouts.php](/changeset/3053935/siteorigin-panels/trunk/inc/admin-layouts.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/admin-layouts.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L227 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L227 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 227 | 227 |  |
  | 228 | 228 | $return['items'][] = array( |
  | 229 |  | 'title'       => ~~$vals['name']~~, |
  | 230 |  | 'id'          => ~~$id~~, |
  |  | 229 | 'title'       => esc\_html( $vals['name'] ), |
  |  | 230 | 'id'          => esc\_html( $id ), |
  | 231 | 231 | 'type'        => 'prebuilt', |
  | 232 |  | 'description' => isset( $vals['description'] ) ? ~~$vals['description']~~ : '', |
  | 233 |  | 'screenshot'  => ! empty( $vals['screenshot'] ) ? ~~$vals['screenshot']~~ : '', |
  |  | 232 | 'description' => isset( $vals['description'] ) ? esc\_html( $vals['description'] ) : '', |
  |  | 233 | 'screenshot'  => ! empty( $vals['screenshot'] ) ? esc\_url( $vals['screenshot'] ) : '', |
  | 234 | 234 | ); |
  | 235 | 235 | } |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L262) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L262) |  |
  | 262 | 262 |  |
  | 263 | 263 | $url = apply\_filters( 'siteorigin\_panels\_layouts\_directory\_url', $url ); |
  | 264 |  | $response = wp\_remote\_get( ~~$url~~ ); |
  |  | 264 | $response = wp\_remote\_get( esc\_url( $url ) ); |
  | 265 | 265 |  |
  | 266 | 266 | if ( is\_array( $response ) && $response['response']['code'] == 200 ) { |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L269) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L269) |  |
  | 269 | 269 | if ( ! empty( $results ) && ! empty( $results['items'] ) ) { |
  | 270 | 270 | foreach ( $results['items'] as $item ) { |
  | 271 |  | $item['id'] = ~~$item['slug']~~; |
  | 272 |  | $item['type'] = ~~$type~~; |
  |  | 271 | $item['id'] = esc\_html( $item['slug'] ); |
  |  | 272 | $item['type'] = esc\_html( $type ); |
  | 273 | 273 |  |
  | 274 | 274 | if ( empty( $item['screenshot'] ) && ! empty( $item['preview'] ) ) { |
  | 275 | 275 | $preview\_url = add\_query\_arg( 'screenshot', 'true', $item[ 'preview' ] ); |
  | 276 |  | $item['screenshot'] = ~~'https://s.wordpress.com/mshots/v1/' . urlencode( $preview\_url ) . '?w=700'~~; |
  |  | 276 | $item['screenshot'] = esc\_url( 'https://s.wordpress.com/mshots/v1/' . urlencode( $preview\_url ) . '?w=700' ); |
  | 277 | 277 | } |
  | 278 | 278 |  |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L312) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L312) |  |
  | 312 | 312 |  |
  | 313 | 313 | foreach ( $results as $result ) { |
  | 314 |  | $thumbnail = get\_the\_post\_thumbnail\_url( $result->ID, array( 400, 300 ) ); |
  |  | 314 | $thumbnail = get\_the\_post\_thumbnail\_url( (int) $result->ID, array( 400, 300 ) ); |
  | 315 | 315 | $return['items'][] = array( |
  | 316 |  | 'id'         => $result->ID, |
  | 317 |  | 'title'      => ~~$result->post\_title~~, |
  | 318 |  | 'type'       => ~~$type~~, |
  | 319 |  | 'screenshot' => ! empty( $thumbnail ) ? ~~$thumbnail~~ : '', |
  |  | 316 | 'id'         => (int) $result->ID, |
  |  | 317 | 'title'      => esc\_html( $result->post\_title ), |
  |  | 318 | 'type'       => esc\_html( $type ), |
  |  | 319 | 'screenshot' => ! empty( $thumbnail ) ? esc\_url( $thumbnail ) : '', |
  | 320 | 320 | ); |
  | 321 | 321 | } |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L331) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L331) |  |
  | 331 | 331 | } |
  | 332 | 332 |  |
  | 333 |  | echo json\_encode( apply\_filters( 'siteorigin\_panels\_layouts\_result', $return, $type ) ); |
  |  | 333 | echo wp\_json\_encode( apply\_filters( 'siteorigin\_panels\_layouts\_result', $return, $type ) ); |
  | 334 | 334 |  |
  | 335 | 335 | wp\_die(); |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L359) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L359) |  |
  | 359 | 359 | $layouts = apply\_filters( 'siteorigin\_panels\_prebuilt\_layouts', array() ); |
  | 360 | 360 |  |
  | 361 |  | if ( ! is\_numeric( $\_REQUEST['lid'] ) && empty( $layouts[ $\_REQUEST['lid'] ] ) ) { |
  |  | 361 | if ( |
  |  | 362 | ! is\_numeric( $\_REQUEST['lid'] ) && |
  |  | 363 | empty( $layouts[ $\_REQUEST['lid'] ] ) |
  |  | 364 | ) { |
  | 362 | 365 | wp\_send\_json\_error( array( |
  | 363 | 366 | 'error'   => true, |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L399) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L402) |  |
  | 399 | 402 | } elseif ( substr( $\_REQUEST['type'], 0, 10 ) == 'directory-' ) { |
  | 400 | 403 | $directory\_id = str\_replace( 'directory-', '', $\_REQUEST['type'] ); |
  |  | 404 |  |
  | 401 | 405 | $directories = $this->get\_directories(); |
  | 402 | 406 | $directory = ! empty( $directories[ $directory\_id ] ) ? $directories[ $directory\_id ] : false; |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L449) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L453) |  |
  | 449 | 453 | } |
  | 450 | 454 |  |
  | 451 |  | if ( ! empty( $\_FILES['panels\_import\_data']['tmp\_name'] ) ) { |
  | 452 |  | header( 'content-type:application/json' ); |
  | 453 |  | $json = file\_get\_contents( $\_FILES['panels\_import\_data']['tmp\_name'] ); |
  | 454 |  | $panels\_data = json\_decode( $json, true ); |
  | 455 |  | $panels\_data = apply\_filters( 'siteorigin\_panels\_data', $panels\_data, false ); |
  | 456 |  | $panels\_data['widgets'] = SiteOrigin\_Panels\_Admin::single()->process\_raw\_widgets( $panels\_data['widgets'], array(), true, true ); |
  | 457 |  | $json = json\_encode( $panels\_data ); |
  |  | 455 | // Ensure there wasn't an error during upload. |
  |  | 456 | if ( |
  |  | 457 | empty( $\_FILES['panels\_import\_data']['tmp\_name'] ) || |
  |  | 458 | ! file\_exists( $\_FILES['panels\_import\_data']['tmp\_name'] ) |
  |  | 459 | ) { |
  |  | 460 | wp\_die(); |
  |  | 461 | } |
  |  | 462 |  |
  |  | 463 | $json = file\_get\_contents( $\_FILES['panels\_import\_data']['tmp\_name'] ); |
  |  | 464 | $panels\_data = json\_decode( $json, true ); |
  |  | 465 |  |
  |  | 466 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  | 458 | 467 | @unlink( $\_FILES['panels\_import\_data']['tmp\_name'] ); |
  | 459 |  | echo $json; |
  | 460 |  | } |
  |  | 468 | wp\_die(); |
  |  | 469 | } |
  |  | 470 |  |
  |  | 471 | $panels\_data = wp\_unslash( $panels\_data ); |
  |  | 472 |  |
  |  | 473 | // Newer exports could be encoded further. |
  |  | 474 | if ( ! is\_array( $panels\_data ) ) { |
  |  | 475 | $panels\_data = json\_decode( $panels\_data, true ); |
  |  | 476 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 477 | @unlink( $\_FILES['panels\_import\_data']['tmp\_name'] ); |
  |  | 478 | wp\_die(); |
  |  | 479 | } |
  |  | 480 | } |
  |  | 481 |  |
  |  | 482 | header( 'content-type:application/json' ); |
  |  | 483 | $panels\_data = apply\_filters( 'siteorigin\_panels\_data', $panels\_data, false ); |
  |  | 484 | $panels\_data['widgets'] = SiteOrigin\_Panels\_Admin::single()->process\_raw\_widgets( $panels\_data['widgets'], array(), true, true ); |
  |  | 485 | @unlink( $\_FILES['panels\_import\_data']['tmp\_name'] ); |
  |  | 486 | echo wp\_json\_encode( $panels\_data ); |
  | 461 | 487 | wp\_die(); |
  | 462 | 488 | } |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L473) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L499) |  |
  | 473 | 499 |  |
  | 474 | 500 | $decoded\_export\_data = json\_decode( $export\_data, true ); |
  |  | 501 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 502 | wp\_die(); |
  |  | 503 | } |
  | 475 | 504 |  |
  | 476 | 505 | if ( ! empty( $decoded\_export\_data['name'] ) ) { |
  | 477 | 506 | $decoded\_export\_data['id'] = sanitize\_title\_with\_dashes( $decoded\_export\_data['name'] ); |
  | 478 |  | $filename = ~~$decoded\_export\_data['id']~~; |
  |  | 507 | $filename = sanitize\_file\_name( $decoded\_export\_data['id'] ); |
  | 479 | 508 | } else { |
  | 480 | 509 | $filename = 'layout-' . date( 'dmY' ); |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L484) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L513) |  |
  | 484 | 513 | header( "Content-Disposition: attachment; filename=$filename.json" ); |
  | 485 | 514 |  |
  | 486 |  | echo ~~$export\_data~~; |
  |  | 515 | echo wp\_json\_encode( $export\_data ); |
  | 487 | 516 |  |
  | 488 | 517 | wp\_die(); |
  | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=2902679#L510) | […](/browser/siteorigin-panels/trunk/inc/admin-layouts.php?rev=3053935#L539) |  |
  | 510 | 539 | public static function load\_layout( $id, $name, $json\_file, $screenshot = false ) { |
  | 511 | 540 | $layout\_data = json\_decode( file\_get\_contents( $json\_file ), true ); |
  |  | 541 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 542 | wp\_die(); |
  |  | 543 | } |
  | 512 | 544 | $layout\_data = apply\_filters( 'siteorigin\_panels\_load\_layout\_' . $id, $layout\_data ); |
  | 513 | 545 |  |
  | 514 | 546 | $layout\_data = array\_merge( array( |
  | 515 |  | 'name' => ~~$name~~, |
  | 516 |  | 'screenshot' => ~~$screenshot~~, |
  |  | 547 | 'name' => sanitize\_text\_field( $name ), |
  |  | 548 | 'screenshot' => esc\_url( $screenshot ), |
  | 517 | 549 | ), $layout\_data ); |
  | 518 | 550 |  |
* ## [siteorigin-panels/trunk/inc/admin-widget-dialog.php](/changeset/3053935/siteorigin-panels/trunk/inc/admin-widget-dialog.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/admin-widget-dialog.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/admin-widget-dialog.php?rev=2902679#L107 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/admin-widget-dialog.php?rev=3053935#L107 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 107 | 107 | ), |
  | 108 | 108 | array( |
  | 109 |  | '<a href="' . ~~admin\_url( 'plugins.php?page=so-widgets-plugins'~~ ) . '">$1</a>', |
  |  | 109 | '<a href="' . esc\_url( admin\_url( 'plugins.php?page=so-widgets-plugins' ) ) . '">$1</a>', |
  | 110 | 110 | ), |
  | 111 | 111 | \_\_( 'Enable more widgets in the 1{Widgets Bundle settings}.', 'siteorigin-panels' ) |
  | […](/browser/siteorigin-panels/trunk/inc/admin-widget-dialog.php?rev=2902679#L130) | […](/browser/siteorigin-panels/trunk/inc/admin-widget-dialog.php?rev=3053935#L130) |  |
  | 130 | 130 | ), |
  | 131 | 131 | array( |
  | 132 |  | '<a href="' . ~~admin\_url( 'options-general.php?page=siteorigin\_panels'~~ ) . '">$1</a>', |
  |  | 132 | '<a href="' . esc\_url( admin\_url( 'options-general.php?page=siteorigin\_panels' ) ) . '">$1</a>', |
  | 133 | 133 | ), |
  | 134 | 134 | \_\_( 'You can enable the legacy (PB) widgets in the 1{Page Builder settings}.', 'siteorigin-panels' ) |
* ## [siteorigin-panels/trunk/inc/admin-widgets-bundle.php](/changeset/3053935/siteorigin-panels/trunk/inc/admin-widgets-bundle.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/admin-widgets-bundle.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=2902679#L46 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=3053935#L46 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 46 | 46 |  |
  | 47 | 47 | /\*\* Pass all necessary information via URL if WP\_Filesystem is needed \*/ |
  | 48 |  | $url = wp\_nonce\_url( |
  |  | 48 | $url = esc\_url( wp\_nonce\_url( |
  | 49 | 49 | add\_query\_arg( |
  | 50 | 50 | array( |
  | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=2902679#L58) | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=3053935#L58) |  |
  | 58 | 58 | ), |
  | 59 | 59 | 'siteorigin-pa-install' |
  | 60 |  | ); |
  |  | 60 | ) ); |
  | 61 | 61 | $method = ''; // Leave blank so WP\_Filesystem can populate it as necessary |
  | 62 | 62 | $fields = array( sanitize\_key( 'siteorigin-pa-install' ) ); // Extra fields to pass to WP\_Filesystem |
  | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=2902679#L124) | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=3053935#L124) |  |
  | 124 | 124 |  |
  | 125 | 125 | if ( $installed && ! is\_plugin\_active( $plugin ) ) { |
  | 126 |  | return ~~wp\_nonce\_url( self\_admin\_url( 'plugins.php?action=activate&plugin=' . $plugin\_path ), 'activate-plugin\_' . $plugin\_path~~ ); |
  |  | 126 | return esc\_url( wp\_nonce\_url( self\_admin\_url( 'plugins.php?action=activate&plugin=' . $plugin\_path ), 'activate-plugin\_' . $plugin\_path ) ); |
  | 127 | 127 | } elseif ( $installed && is\_plugin\_active( $plugin ) ) { |
  | 128 | 128 | return '#'; |
  | 129 | 129 | } else { |
  | 130 |  | return wp\_nonce\_url( |
  |  | 130 | return esc\_url( wp\_nonce\_url( |
  | 131 | 131 | add\_query\_arg( |
  | 132 | 132 | array( |
  | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=2902679#L140) | […](/browser/siteorigin-panels/trunk/inc/admin-widgets-bundle.php?rev=3053935#L140) |  |
  | 140 | 140 | ), |
  | 141 | 141 | 'siteorigin-pa-install' |
  | 142 |  | ); |
  |  | 142 | ) ); |
  | 143 | 143 | } |
  | 144 | 144 | } |
* ## [siteorigin-panels/trunk/inc/admin.php](/changeset/3053935/siteorigin-panels/trunk/inc/admin.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/admin.php")

  | [r3045967](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L54 "Show revision 3045967 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L54 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 54 | 54 | add\_action( 'wp\_ajax\_so\_panels\_widget\_form', array( $this, 'action\_widget\_form' ) ); |
  | 55 | 55 | add\_action( 'wp\_ajax\_so\_panels\_live\_editor\_preview', array( $this, 'action\_live\_editor\_preview' ) ); |
  | 56 |  | ~~add\_action( 'wp\_ajax\_so\_panels\_layout\_block\_sanitize', array( $this, 'layout\_block\_sanitize' ) );~~ |
  | 57 | 56 | add\_action( 'wp\_ajax\_so\_panels\_layout\_block\_preview', array( $this, 'layout\_block\_preview' ) ); |
  | 58 | 57 |  |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L176) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L175) |  |
  | 176 | 175 |  |
  | 177 | 176 | unset( $links['edit'] ); |
  | 178 |  | $links[] = '<a href="' . ~~admin\_url( 'options-general.php?page=siteorigin\_panels'~~ ) . '">' . \_\_( 'Settings', 'siteorigin-panels' ) . '</a>'; |
  |  | 177 | $links[] = '<a href="' . esc\_url( admin\_url( 'options-general.php?page=siteorigin\_panels' ) ) . '">' . \_\_( 'Settings', 'siteorigin-panels' ) . '</a>'; |
  | 179 | 178 | $links[] = '<a href="http://siteorigin.com/threads/plugin-page-builder/">' . \_\_( 'Support', 'siteorigin-panels' ) . '</a>'; |
  | 180 | 179 |  |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L284) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L283) |  |
  | 284 | 283 | $post->post\_content .= "\n\n"; |
  | 285 | 284 | $post->post\_content .= '<style type="text/css" class="panels-style" data-panels-style-for-post="' . (int) $layout\_id . '">'; |
  | 286 |  | $post->post\_content .= '@import url(' . ~~SiteOrigin\_Panels::front\_css\_url(~~) . '); '; |
  |  | 285 | $post->post\_content .= '@import url(' . esc\_url( SiteOrigin\_Panels::front\_css\_url() ) . '); '; |
  | 287 | 286 | $post->post\_content .= $post\_css; |
  | 288 | 287 | $post->post\_content .= '</style>'; |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L330) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L329) |  |
  | 330 | 329 | wp\_register\_script( |
  | 331 | 330 | 'wp-color-picker-alpha', |
  | 332 |  | ~~siteorigin\_panels\_url( 'js/lib/wp-color-picker-alpha' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 331 | esc\_url( siteorigin\_panels\_url( 'js/lib/wp-color-picker-alpha' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 333 | 332 | array( 'wp-color-picker' ), |
  | 334 | 333 | '3.0.2', |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L339) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L338) |  |
  | 339 | 338 | wp\_enqueue\_script( |
  | 340 | 339 | 'so-panels-admin', |
  | 341 |  | ~~siteorigin\_panels\_url( 'js/siteorigin-panels' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 340 | esc\_url( siteorigin\_panels\_url( 'js/siteorigin-panels' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 342 | 341 | array( |
  | 343 | 342 | 'jquery', |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L375) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L374) |  |
  | 375 | 374 | wp\_localize\_script( 'so-panels-admin', 'panelsOptions', array( |
  | 376 | 375 | 'user'                      => ! empty( $user ) ? $user->ID : 0, |
  | 377 |  | 'ajaxurl'                   => ~~wp\_nonce\_url( admin\_url( 'admin-ajax.php' ), 'panels\_action', '\_panelsnonce'~~ ), |
  |  | 376 | 'ajaxurl'                   => esc\_url( wp\_nonce\_url( admin\_url( 'admin-ajax.php' ), 'panels\_action', '\_panelsnonce' ) ), |
  | 378 | 377 | 'widgets'                   => $widgets, |
  | 379 | 378 | 'text\_widget'               => $text\_widget, |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L544) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L543) |  |
  | 544 | 543 | 'plupload'                  => array( |
  | 545 | 544 | 'max\_file\_size'       => wp\_max\_upload\_size() . 'b', |
  | 546 |  | 'url'                 => wp\_nonce\_url( admin\_url( 'admin-ajax.php' ), 'panels\_action', '\_panelsnonce' ), |
  | 547 |  | 'flash\_swf\_url'       => includes\_url( 'js/plupload/plupload.flash.swf' ), |
  | 548 |  | 'silverlight\_xap\_url' => includes\_url( 'js/plupload/plupload.silverlight.xap' ), |
  |  | 545 | 'url'                 => esc\_url( wp\_nonce\_url( |
  |  | 546 | admin\_url( 'admin-ajax.php' ), 'panels\_action', '\_panelsnonce' |
  |  | 547 | ) ), |
  |  | 548 | 'flash\_swf\_url'       => esc\_url( includes\_url( 'js/plupload/plupload.flash.swf' ) ), |
  |  | 549 | 'silverlight\_xap\_url' => esc\_url( includes\_url( 'js/plupload/plupload.silverlight.xap' ) ), |
  | 549 | 550 | 'filter\_title'        => \_\_( 'Page Builder layouts', 'siteorigin-panels' ), |
  | 550 | 551 | 'error\_message'       => \_\_( 'Error uploading or importing file.', 'siteorigin-panels' ), |
  | 551 | 552 | ), |
  | 552 | 553 | 'wpColorPickerOptions'      => apply\_filters( 'siteorigin\_panels\_wpcolorpicker\_options', array() ), |
  | 553 |  | 'prebuiltDefaultScreenshot' => ~~siteorigin\_panels\_url( 'css/images/prebuilt-default.png'~~ ), |
  |  | 554 | 'prebuiltDefaultScreenshot' => esc\_url( siteorigin\_panels\_url( 'css/images/prebuilt-default.png' ) ), |
  | 554 | 555 | 'loadOnAttach'              => $load\_on\_attach, |
  | 555 | 556 | 'siteoriginWidgetRegex'     => str\_replace( '\*+', '\*', get\_shortcode\_regex( array( 'siteorigin\_widget' ) ) ), |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L618) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L619) |  |
  | 618 | 619 | wp\_enqueue\_script( |
  | 619 | 620 | 'so-panels-seo-compat', |
  | 620 |  | ~~siteorigin\_panels\_url( 'js/seo-compat' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 621 | esc\_url( siteorigin\_panels\_url( 'js/seo-compat' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 621 | 622 | array( 'jquery' ), |
  | 622 | 623 | SITEORIGIN\_PANELS\_VERSION, |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L626) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L627) |  |
  | 626 | 627 | wp\_enqueue\_script( |
  | 627 | 628 | 'so-panels-seo-compat', |
  | 628 |  | ~~siteorigin\_panels\_url( 'js/seo-compat' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 629 | esc\_url( siteorigin\_panels\_url( 'js/seo-compat' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 629 | 630 | array( 'jquery', 'rank-math-analyzer' ), |
  | 630 | 631 | SITEORIGIN\_PANELS\_VERSION, |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L648) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L649) |  |
  | 648 | 649 | wp\_enqueue\_style( |
  | 649 | 650 | 'so-panels-admin', |
  | 650 |  | ~~siteorigin\_panels\_url( 'css/admin' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css'~~ ), |
  |  | 651 | esc\_url( siteorigin\_panels\_url( 'css/admin' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css' ) ), |
  | 651 | 652 | array( 'wp-color-picker' ), |
  | 652 | 653 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1285) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1286) |  |
  | 1285 | 1286 | } |
  | 1286 | 1287 |  |
  | 1287 |  | ~~///////////////////////////////////////////////////////////////////////////////////////////////////////////////////~~ |
  | 1288 |  | ~~//  ADMIN AJAX ACTIONS~~ |
  | 1289 |  | ~~///////////////////////////////////////////////////////////////////////////////////////////////////////////////////~~ |
  | 1290 |  |  |
  | 1291 | 1288 | /\*\* |
  | 1292 | 1289 | \* Get builder content based on the submitted panels\_data. |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1304) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1301) |  |
  | 1304 | 1301 |  |
  | 1305 | 1302 | if ( empty( $\_POST['post\_id'] ) || empty( $\_POST['panels\_data'] ) ) { |
  | 1306 |  | ~~echo '';~~ |
  | 1307 | 1303 | wp\_die(); |
  | 1308 | 1304 | } |
  | 1309 | 1305 |  |
  | 1310 |  | ~~// Echo the content.~~ |
  | 1311 | 1306 | $old\_panels\_data = get\_post\_meta( $\_POST['post\_id'], 'panels\_data', true ); |
  | 1312 | 1307 | $panels\_data = json\_decode( wp\_unslash( $\_POST['panels\_data'] ), true ); |
  |  | 1308 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 1309 | wp\_die(); |
  |  | 1310 | } |
  |  | 1311 |  |
  | 1313 | 1312 | $panels\_data['widgets'] = $this->process\_raw\_widgets( |
  | 1314 | 1313 | $panels\_data['widgets'], |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1352) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1351) |  |
  | 1352 | 1351 |  |
  | 1353 | 1352 | if ( empty( $\_POST['panels\_data'] ) ) { |
  | 1354 |  | echo json\_encode( $return ); |
  |  | 1353 | echo wp\_json\_encode( $return ); |
  | 1355 | 1354 | wp\_die(); |
  | 1356 | 1355 | } |
  | 1357 | 1356 |  |
  | 1358 |  | ~~// Echo the content.~~ |
  | 1359 | 1357 | $panels\_data = json\_decode( wp\_unslash( $\_POST['panels\_data'] ), true ); |
  |  | 1358 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 1359 | echo wp\_json\_encode( $return ); |
  |  | 1360 | wp\_die(); |
  |  | 1361 | } |
  |  | 1362 |  |
  | 1360 | 1363 | $panels\_data['widgets'] = $this->process\_raw\_widgets( |
  | 1361 | 1364 | $panels\_data['widgets'], |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1375) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1378) |  |
  | 1375 | 1378 | $return['preview'] = $this->generate\_panels\_preview( (int) $\_POST['post\_id'], $panels\_data ); |
  | 1376 | 1379 |  |
  | 1377 |  | echo json\_encode( $return ); |
  |  | 1380 | echo wp\_json\_encode( $return ); |
  | 1378 | 1381 |  |
  | 1379 | 1382 | wp\_die(); |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1402) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1405) |  |
  | 1402 | 1405 | $request = array\_map( 'stripslashes\_deep', $\_REQUEST ); |
  | 1403 | 1406 |  |
  | 1404 |  | $widget\_class = ~~$request['widget']~~; |
  |  | 1407 | $widget\_class = sanitize\_text\_field( $request['widget'] ); |
  | 1405 | 1408 | $widget\_class = apply\_filters( 'siteorigin\_panels\_widget\_class', $widget\_class ); |
  | 1406 | 1409 | $instance = ! empty( $request['instance'] ) ? json\_decode( $request['instance'], true ) : array(); |
  | 1407 |  |  |
  | 1408 | 1410 | $form = $this->render\_form( $widget\_class, $instance, $\_REQUEST['raw'] == 'true' ); |
  | 1409 | 1411 | $form = apply\_filters( 'siteorigin\_panels\_ajax\_widget\_form', $form, $widget\_class, $instance ); |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1435) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1437) |  |
  | 1435 | 1437 |  |
  | 1436 | 1438 | $panels\_data = json\_decode( wp\_unslash( $\_POST['panelsData'] ), true ); |
  |  | 1439 | if ( json\_last\_error() !== JSON\_ERROR\_NONE ) { |
  |  | 1440 | wp\_die(); |
  |  | 1441 | } |
  |  | 1442 |  |
  | 1437 | 1443 | $builder\_id = 'gbp' . uniqid(); |
  | 1438 | 1444 | $panels\_data['widgets'] = SiteOrigin\_Panels\_Admin::single()->process\_raw\_widgets( $panels\_data['widgets'], false, true, true ); |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1456) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1462) |  |
  | 1456 | 1462 | echo $rendered\_layout; |
  | 1457 | 1463 | wp\_die(); |
  | 1458 |  | ~~}~~ |
  | 1459 |  |  |
  | 1460 |  | ~~public function layout\_block\_sanitize() {~~ |
  | 1461 |  | ~~if ( empty( $\_REQUEST['\_panelsnonce'] ) || ! wp\_verify\_nonce( $\_REQUEST['\_panelsnonce'], 'layout-block-sanitize' ) ) {~~ |
  | 1462 |  | ~~wp\_die();~~ |
  | 1463 |  | ~~}~~ |
  | 1464 |  |  |
  | 1465 |  | ~~$panels\_data = json\_decode( wp\_unslash( $\_POST['panelsData'] ), true );~~ |
  | 1466 |  | ~~$panels\_data['widgets'] = SiteOrigin\_Panels\_Admin::single()->process\_raw\_widgets( $panels\_data['widgets'], false, true, true );~~ |
  | 1467 |  | ~~$panels\_data = SiteOrigin\_Panels\_Styles\_Admin::single()->sanitize\_all( $panels\_data );~~ |
  | 1468 |  |  |
  | 1469 |  | ~~wp\_send\_json( $panels\_data );~~ |
  | 1470 | 1464 | } |
  | 1471 | 1465 |  |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1671) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1665) |  |
  | 1671 | 1665 |  |
  | 1672 | 1666 | if ( $show\_classic\_admin\_notice ) { |
  | 1673 |  | $settings\_url = ~~self\_admin\_url( 'options-general.php?page=siteorigin\_panels'~~ ); |
  |  | 1667 | $settings\_url = esc\_url( self\_admin\_url( 'options-general.php?page=siteorigin\_panels' ) ); |
  | 1674 | 1668 | $notice = sprintf( |
  | 1675 | 1669 | \_\_( "This post type is set to use the Classic Editor by default for new posts. If you'd like to change this to the Block Editor, please go to <a href='%s' class='components-notice\_\_action is-link'>Page Builder Settings</a> and disable <strong>Use Classic Editor for New Posts</strong>." ), |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1678) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1672) |  |
  | 1678 | 1672 |  |
  | 1679 | 1673 | $dismiss\_url = wp\_nonce\_url( |
  | 1680 |  | add\_query\_arg( array( |
  |  | 1674 | add\_query\_arg( array( |
  | 1681 | 1675 | 'action' => 'so\_panels\_dismiss\_post\_notice', |
  | 1682 | 1676 | ), admin\_url( 'admin-ajax.php' ) ), |
  | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3045967#L1703) | […](/browser/siteorigin-panels/trunk/inc/admin.php?rev=3053935#L1697) |  |
  | 1703 | 1697 | wp\_enqueue\_script( |
  | 1704 | 1698 | 'so-panels-admin-notice', |
  | 1705 |  | ~~siteorigin\_panels\_url( 'js/admin-notice' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 1699 | esc\_url( siteorigin\_panels\_url( 'js/admin-notice' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 1706 | 1700 | array( 'jquery' ), |
  | 1707 | 1701 | SITEORIGIN\_PANELS\_VERSION, |
* ## [siteorigin-panels/trunk/inc/installer/inc/admin.php](/changeset/3053935/siteorigin-panels/trunk/inc/installer/inc/admin.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/installer/inc/admin.php")

  | [r2993530](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=2993530#L52 "Show revision 2993530 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=3053935#L52 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 52 | 52 | ?> |
  | 53 | 53 | </p> |
  | 54 |  | <a href="<?php echo ~~$dismiss\_url~~; ?>" class="siteorigin-notice-dismiss"></a> |
  |  | 54 | <a href="<?php echo esc\_url( $dismiss\_url ); ?>" class="siteorigin-notice-dismiss"></a> |
  | 55 | 55 | </div> |
  | 56 | 56 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=2993530#L151) | […](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=3053935#L151) |  |
  | 151 | 151 | } |
  | 152 | 152 | $upgrader = new WP\_Upgrader(); |
  | 153 |  |  |
  | 154 | 153 | if ( $\_POST['type'] == 'plugins' ) { |
  | 155 | 154 | if ( $\_POST['task'] == 'install' || $\_POST['task'] == 'update' ) { |
  | […](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=2993530#L168) | […](/browser/siteorigin-panels/trunk/inc/installer/inc/admin.php?rev=3053935#L167) |  |
  | 168 | 167 | } elseif ( |
  | 169 | 168 | $\_POST['task'] == 'activate' && |
  | 170 |  | ~~validate\_plugin( $slug . '/' . $slug . '.php'~~ ) |
  |  | 169 | ! is\_wp\_error( validate\_plugin( $slug . '/' . $slug . '.php' ) ) |
  | 171 | 170 | ) { |
  | 172 | 171 | activate\_plugin( $slug . '/' . $slug . '.php' ); |
* ## [siteorigin-panels/trunk/inc/installer/tpl/action-btn.php](/changeset/3053935/siteorigin-panels/trunk/inc/installer/tpl/action-btn.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/installer/tpl/action-btn.php")

  | [r2928814](/browser/siteorigin-panels/trunk/inc/installer/tpl/action-btn.php?rev=2928814#L9 "Show revision 2928814 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/installer/tpl/action-btn.php?rev=3053935#L9 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 | <?php } ?> |
  | 10 | 10 | > |
  | 11 |  | <?php echo ~~$text~~; ?> |
  |  | 11 | <?php echo esc\_html( $text ); ?> |
  | 12 | 12 | </span> |
* ## [siteorigin-panels/trunk/inc/installer/tpl/admin.php](/changeset/3053935/siteorigin-panels/trunk/inc/installer/tpl/admin.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/installer/tpl/admin.php")

  | [r2938520](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L2 "Show revision 2938520 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L2 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | <div class="siteorigin-installer-header"> |
  | 3 | 3 | <h1 class="siteorigin-logo"> |
  | 4 |  | <img src="<?php echo ~~plugin\_dir\_url( \_\_FILE\_\_~~ ) . '../img/siteorigin.svg'; ?>" /> |
  | 5 |  | <?php \_e( 'SiteOrigin Installer', 'siteorigin-installer' ); ?> |
  |  | 4 | <img src="<?php echo esc\_url( plugin\_dir\_url( \_\_FILE\_\_ ) ) . '../img/siteorigin.svg'; ?>" /> |
  |  | 5 | <?php esc\_html\_e( 'SiteOrigin Installer', 'siteorigin-installer' ); ?> |
  | 6 | 6 | </h1> |
  | 7 | 7 |  |
  | 8 | 8 | <ul class="page-sections"> |
  | 9 |  | <li><a href="#" data-section="plugins"><?php e~~cho \_\_~~( 'Plugins', 'siteorigin-installer' ); ?></a></li> |
  | 10 |  | <li><a href="#" data-section="themes"><?php e~~cho \_\_~~( 'Themes', 'siteorigin-installer' ); ?></a></li> |
  | 11 |  | <li class="active-section"><a href="#" data-section="all"><?php e~~cho \_\_~~( 'All', 'siteorigin-installer' ); ?></a></li> |
  |  | 9 | <li><a href="#" data-section="plugins"><?php esc\_html\_e( 'Plugins', 'siteorigin-installer' ); ?></a></li> |
  |  | 10 | <li><a href="#" data-section="themes"><?php esc\_html\_e( 'Themes', 'siteorigin-installer' ); ?></a></li> |
  |  | 11 | <li class="active-section"><a href="#" data-section="all"><?php esc\_html\_e( 'All', 'siteorigin-installer' ); ?></a></li> |
  | 12 | 12 | </ul> |
  | 13 | 13 | </div> |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L23) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L23) |  |
  | 23 | 23 | } |
  | 24 | 24 | ?> |
  | 25 |  | <li class="siteorigin-installer-item siteorigin-<?php echo esc\_attr( $item['type'] ); ?> siteorigin-installer-item-<?php echo ~~implode( ' ', $classes~~ ); ?>"> |
  |  | 25 | <li class="siteorigin-installer-item siteorigin-<?php echo esc\_attr( $item['type'] ); ?> siteorigin-installer-item-<?php echo sanitize\_html\_class( implode( ' ', $classes ) ); ?>"> |
  | 26 | 26 | <div |
  | 27 | 27 | class="siteorigin-installer-item-body" |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L36) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L36) |  |
  | 36 | 36 |  |
  | 37 | 37 | <h3> |
  | 38 |  | <?php echo esc\_html( $item['name'] ); ?> |
  |  | 38 | <?php echo esc\_html( $item['name'] ); ?> |
  | 39 | 39 | </h3> |
  | 40 | 40 | <p class="so-description"> |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L43) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L43) |  |
  | 43 | 43 | echo '<span class="siteorigin-required">'; |
  | 44 | 44 | printf( |
  | 45 |  | ~~\_\_~~( 'Required %s', 'siteorigin-installer' ), |
  | 46 |  | $item['type'] == 'plugins' ? ~~\_\_( 'Plugin', 'siteorigin-installer' ) : \_\_~~( 'Theme', 'siteorigin-installer' ) |
  |  | 45 | esc\_html( 'Required %s', 'siteorigin-installer' ), |
  |  | 46 | $item['type'] == 'plugins' ? esc\_html( 'Plugin', 'siteorigin-installer' ) : esc\_html( 'Theme', 'siteorigin-installer' ) |
  | 47 | 47 | ); |
  | 48 | 48 | echo '</span>'; |
  | 49 | 49 | } |
  | 50 | 50 | echo esc\_html( $item['description'] ); |
  | 51 |  | ?> |
  |  | 51 | ?> |
  | 52 | 52 | </p> |
  | 53 | 53 |  |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L55) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L55) |  |
  | 55 | 55 | <?php |
  | 56 | 56 | if ( $item['type'] == 'plugins' ) { |
  | 57 |  | e~~cho \_\_~~( 'Plugin', 'siteorigin-installer' ); |
  |  | 57 | esc\_html\_e( 'Plugin', 'siteorigin-installer' ); |
  | 58 | 58 | } else { |
  | 59 |  | e~~cho \_\_~~( 'Theme', 'siteorigin-installer' ); |
  |  | 59 | esc\_html\_e( 'Theme', 'siteorigin-installer' ); |
  | 60 | 60 | } |
  | 61 | 61 | ?> |
  | 62 | 62 | </div> |
  | 63 | 63 |  |
  | 64 |  | <div class="so-buttons <?php echo $slug != 'siteorigin-premium' && ! empty( $item['status'] ) && ! empty( $item['update'] ) ? 'so-buttons-force-wrap' : ''; ?>"> |
  | 65 |  | <?php if ( $slug == 'siteorigin-premium' || ! empty( $item['status'] ) || ! empty( $item['update'] )  || $item['type'] == 'themes' ) { ?> |
  | 66 |  | <?php |
  |  | 64 | <div class="so-buttons <?php |
  |  | 65 | echo $slug != 'siteorigin-premium' && ! empty( $item['status'] ) && ! empty( $item['update'] ) ? 'so-buttons-force-wrap' : ''; ?>"> |
  |  | 66 | <?php |
  |  | 67 | if ( |
  |  | 68 | $slug == 'siteorigin-premium' || |
  |  | 69 | ! empty( $item['status'] ) || |
  |  | 70 | ! empty( $item['update'] ) || |
  |  | 71 | $item['type'] == 'themes' |
  |  | 72 | ) { |
  | 67 | 73 | if ( $slug == 'siteorigin-premium' ) { |
  | 68 | 74 | $premium\_url = 'https://siteorigin.com/downloads/premium/'; |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L73) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L79) |  |
  | 73 | 79 | ?> |
  | 74 | 80 | <a href="<?php echo esc\_url( $premium\_url ); ?>" target="\_blank" rel="noopener noreferrer" class="button-primary"> |
  | 75 |  | <?php ~~\_e( 'Get SiteOrigin Premium', 'siteorigin-installer' ); ?>~~ |
  |  | 81 | <?php esc\_html\_e( 'Get SiteOrigin Premium', 'siteorigin-installer' ); ?> |
  | 76 | 82 | </a> |
  | 77 | 83 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L93) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L99) |  |
  | 93 | 99 |  |
  | 94 | 100 |  |
  | 95 |  | if ( $item['type'] == 'themes' && ! empty( $item['demo'] ) ) { |
  |  | 101 | if ( |
  |  | 102 | $item['type'] == 'themes' && |
  |  | 103 | ! empty( $item['demo'] ) |
  |  | 104 | ) { |
  | 96 | 105 | ?> |
  | 97 | 106 | <a href="<?php echo esc\_url( $item['demo'] ); ?>" target="\_blank" rel="noopener noreferrer" class="siteorigin-demo"> |
  | 98 |  | <?php ~~\_e( 'Demo', 'siteorigin-installer' ); ?>~~ |
  |  | 107 | <?php esc\_html\_e( 'Demo', 'siteorigin-installer' ); ?> |
  | 99 | 108 | </a> |
  | 100 | 109 | <?php } ?> |
  | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=2938520#L102) | […](/browser/siteorigin-panels/trunk/inc/installer/tpl/admin.php?rev=3053935#L111) |  |
  | 102 | 111 | <?php if ( ! empty( $item['documentation'] ) ) { ?> |
  | 103 | 112 | <a href="<?php echo esc\_url( $item['documentation'] ); ?>" target="\_blank" rel="noopener noreferrer" class="siteorigin-docs"> |
  | 104 |  | <?php \_e( 'Documentation', 'siteorigin-installer' ); ?> |
  |  | 113 | <?php esc\_html\_e( 'Documentation', 'siteorigin-installer' ); ?> |
  | 105 | 114 | </a> |
  | 106 | 115 | <?php } ?> |
  | 107 | 116 | </div> |
  | 108 | 117 | </div> |
  | 109 |  |  |
  | 110 | 118 | </div> |
  | 111 | 119 | </li> |
* ## [siteorigin-panels/trunk/inc/live-editor.php](/changeset/3053935/siteorigin-panels/trunk/inc/live-editor.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/live-editor.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=2902679#L67 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=3053935#L67 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 67 | 67 | wp\_enqueue\_script( |
  | 68 | 68 | 'live-editor-front', |
  | 69 |  | ~~siteorigin\_panels\_url( 'js/live-editor/live-editor-front' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 69 | esc\_url( siteorigin\_panels\_url( 'js/live-editor/live-editor-front' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 70 | 70 | array( 'jquery' ), |
  | 71 | 71 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=2902679#L74) | […](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=3053935#L74) |  |
  | 74 | 74 | wp\_enqueue\_script( |
  | 75 | 75 | 'live-editor-scrollto', |
  | 76 |  | ~~siteorigin\_panels\_url( 'js/live-editor/jquery.scrollTo' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 76 | esc\_url( siteorigin\_panels\_url( 'js/live-editor/jquery.scrollTo' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 77 | 77 | array( 'jquery' ), |
  | 78 | 78 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=2902679#L81) | […](/browser/siteorigin-panels/trunk/inc/live-editor.php?rev=3053935#L81) |  |
  | 81 | 81 | wp\_enqueue\_style( |
  | 82 | 82 | 'live-editor-front', |
  | 83 |  | ~~siteorigin\_panels\_url( 'css/live-editor-front' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css'~~ ), |
  |  | 83 | esc\_url( siteorigin\_panels\_url( 'css/live-editor-front' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css' ) ), |
  | 84 | 84 | array(), |
  | 85 | 85 | SITEORIGIN\_PANELS\_VERSION |
* ## [siteorigin-panels/trunk/inc/post-content-filters.php](/changeset/3053935/siteorigin-panels/trunk/inc/post-content-filters.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/post-content-filters.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=2902679#L31 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=3053935#L31 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 31 | 31 | public static function row\_attributes( $attributes, $row ) { |
  | 32 | 32 | if ( ! empty( $row['style'] ) ) { |
  | 33 |  | $attributes[ 'data-style' ] = json\_encode( $row['style'] ); |
  |  | 33 | $attributes[ 'data-style' ] = wp\_json\_encode( $row['style'] ); |
  | 34 | 34 | } |
  | 35 | 35 |  |
  | […](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=2902679#L58) | […](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=3053935#L58) |  |
  | 58 | 58 | public static function cell\_attributes( $attributes, $cell ) { |
  | 59 | 59 | if ( ! empty( $cell['style'] ) ) { |
  | 60 |  | $attributes[ 'data-style' ] = json\_encode( $cell['style'] ); |
  |  | 60 | $attributes[ 'data-style' ] = wp\_json\_encode( $cell['style'] ); |
  | 61 | 61 | } |
  | 62 | 62 |  |
  | […](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=2902679#L71) | […](/browser/siteorigin-panels/trunk/inc/post-content-filters.php?rev=3053935#L71) |  |
  | 71 | 71 | public static function widget\_attributes( $attributes, $widget ) { |
  | 72 | 72 | if ( ! empty( $widget['style'] ) ) { |
  | 73 |  | $attributes[ 'data-style' ] = json\_encode( $widget['style'] ); |
  |  | 73 | $attributes[ 'data-style' ] = wp\_json\_encode( $widget['style'] ); |
  | 74 | 74 | } |
  | 75 | 75 |  |
* ## [siteorigin-panels/trunk/inc/renderer.php](/changeset/3053935/siteorigin-panels/trunk/inc/renderer.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/renderer.php")

  | [r3036981](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L574 "Show revision 3036981 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L574 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 574 | 574 |  |
  | 575 | 575 | if ( $is\_preview ) { |
  | 576 |  | $widget\_css = '@import url(' . ~~SiteOrigin\_Panels::front\_css\_url(~~) . '); '; |
  |  | 576 | $widget\_css = '@import url(' . esc\_url( SiteOrigin\_Panels::front\_css\_url() ) . '); '; |
  | 577 | 577 | $widget\_css .= SiteOrigin\_Panels::renderer()->generate\_css( $post\_id, $panels\_data, $layout\_data ); |
  | 578 | 578 | $widget\_css = preg\_replace( '/\s+/', ' ', $widget\_css ); |
  | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L775) | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L775) |  |
  | 775 | 775 |  |
  | 776 | 776 | if ( siteorigin\_panels\_setting( 'inline-styles' ) ) { |
  |  | 777 | $attributes['style'] = ''; |
  | 777 | 778 | if ( ! empty( $widget\_info['style']['margin'] ) ) { |
  | 778 |  | $attributes['style'] = 'margin: ' . $widget\_info['style']['margin']; |
  | 779 |  | } |
  | 780 |  |  |
  | 781 |  | if ( ! $is\_last ) { |
  |  | 779 | $attributes['style'] .= 'margin: ' . esc\_attr( $widget\_info['style']['margin'] ) . ';'; |
  |  | 780 | } |
  |  | 781 |  |
  |  | 782 | if ( |
  |  | 783 | ! $is\_last && |
  |  | 784 | empty( $widget\_info['style']['margin'] ) |
  |  | 785 | ) { |
  | 782 | 786 | $widget\_bottom\_margin = apply\_filters( |
  | 783 | 787 | 'siteorigin\_panels\_css\_cell\_margin\_bottom', |
  | 784 |  | ~~( empty( $widget\_info['style']['margin'] ) ? siteorigin\_panels\_setting( 'margin-bottom' ) : 0~~ ) . 'px', |
  |  | 788 | siteorigin\_panels\_setting( 'margin-bottom' ) . 'px', |
  | 785 | 789 | false, |
  | 786 | 790 | false, |
  | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L789) | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L793) |  |
  | 789 | 793 | ); |
  | 790 | 794 |  |
  | 791 |  | if ( ! empty( $widget\_bottom\_margin ) ) { |
  | 792 |  | $attributes['style'] = 'margin-bottom: ' . $widget\_bottom\_margin; |
  |  | 795 | if ( |
  |  | 796 | ! empty( $widget\_bottom\_margin ) && |
  |  | 797 | $widget\_bottom\_margin !== '0px' |
  |  | 798 | ) { |
  |  | 799 | $attributes['style'] .= 'margin-bottom: ' . $widget\_bottom\_margin; |
  | 793 | 800 | } |
  |  | 801 | } |
  |  | 802 |  |
  |  | 803 | if ( empty( $attributes['style'] ) ) { |
  |  | 804 | unset( $attributes['style'] ); |
  | 794 | 805 | } |
  | 795 | 806 | } |
  | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L877) | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L888) |  |
  | 877 | 888 | if ( ! empty( $the\_css ) ) { |
  | 878 | 889 | ?> |
  | 879 |  | <style<?php echo current\_theme\_supports( 'html5', 'style' ) ? '' : ' type="text/css"'; ?> media="all" |
  | 880 |  | id="siteorigin-panels-layouts-<?php echo esc\_attr( $css\_id ); ?>"><?php echo $the\_css; ?></style><?php |
  |  | 890 | <style |
  |  | 891 | media="all" |
  |  | 892 | id="siteorigin-panels-layouts-<?php echo esc\_attr( $css\_id ); ?>" |
  |  | 893 | ><?php echo $the\_css; ?></style><?php |
  | 881 | 894 | } |
  | 882 | 895 | } |
  | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L888) | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L901) |  |
  | 888 | 901 | public function enqueue\_styles() { |
  | 889 | 902 | // Register the style to support possible lazy loading |
  | 890 |  | wp\_register\_style( 'siteorigin-panels-front', SiteOrigin\_Panels::front\_css\_url(), array(), SITEORIGIN\_PANELS\_VERSION ); |
  |  | 903 | wp\_register\_style( |
  |  | 904 | 'siteorigin-panels-front', |
  |  | 905 | esc\_url( SiteOrigin\_Panels::front\_css\_url() ), |
  |  | 906 | array(), |
  |  | 907 | SITEORIGIN\_PANELS\_VERSION |
  |  | 908 | ); |
  | 891 | 909 | } |
  | 892 | 910 |  |
  | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3036981#L989) | […](/browser/siteorigin-panels/trunk/inc/renderer.php?rev=3053935#L1007) |  |
  | 989 | 1007 | \*/ |
  | 990 | 1008 | private function render\_element( $tag, $attributes ) { |
  | 991 |  | echo '<' . ~~$tag~~; |
  |  | 1009 | echo '<' . esc\_html( $tag ); |
  | 992 | 1010 |  |
  | 993 | 1011 | foreach ( $attributes as $name => $value ) { |
  | 994 | 1012 | if ( $value ) { |
  | 995 |  | echo ' ' . ~~$name~~ . '="' . esc\_attr( $value ) . '" '; |
  |  | 1013 | echo ' ' . esc\_html( $name ) . '="' . esc\_attr( $value ) . '" '; |
  | 996 | 1014 | } |
  | 997 | 1015 | } |
* ## [siteorigin-panels/trunk/inc/settings.php](/changeset/3053935/siteorigin-panels/trunk/inc/settings.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/settings.php")

  | [r3036981](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L211 "Show revision 3036981 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L211 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 211 | 211 | wp\_enqueue\_style( |
  | 212 | 212 | 'siteorigin-panels-settings', |
  | 213 |  | ~~siteorigin\_panels\_url( 'settings/admin-settings.css'~~ ), |
  |  | 213 | esc\_url( siteorigin\_panels\_url( 'settings/admin-settings.css' ) ), |
  | 214 | 214 | array(), |
  | 215 | 215 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L217) | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L217) |  |
  | 217 | 217 | wp\_enqueue\_script( |
  | 218 | 218 | 'siteorigin-panels-settings', |
  | 219 |  | ~~siteorigin\_panels\_url( 'settings/admin-settings' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 219 | esc\_url( siteorigin\_panels\_url( 'settings/admin-settings' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 220 | 220 | array( 'fitvids' ), |
  | 221 | 221 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L227) | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L227) |  |
  | 227 | 227 | \*/ |
  | 228 | 228 | public function add\_settings\_page() { |
  | 229 |  | $page = add\_options\_page( ~~\_\_( 'SiteOrigin Page Builder', 'siteorigin-panels' ), \_\_~~( 'Page Builder', 'siteorigin-panels' ), 'manage\_options', 'siteorigin\_panels', array( |
  |  | 229 | $page = add\_options\_page( esc\_html( 'SiteOrigin Page Builder', 'siteorigin-panels' ), esc\_html( 'Page Builder', 'siteorigin-panels' ), 'manage\_options', 'siteorigin\_panels', array( |
  | 230 | 230 | $this, |
  | 231 | 231 | 'display\_settings\_page', |
  | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L254) | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L254) |  |
  | 254 | 254 | $screen->add\_help\_tab( array( |
  | 255 | 255 | 'id'      => 'panels-help-tab', |
  | 256 |  | 'title'   => ~~\_\_~~( 'Page Builder Settings', 'siteorigin-panels' ), |
  |  | 256 | 'title'   => esc\_html( 'Page Builder Settings', 'siteorigin-panels' ), |
  | 257 | 257 | 'content' => $content, |
  | 258 | 258 | ) ); |
  | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L608) | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L608) |  |
  | 608 | 608 | <input name="<?php echo esc\_attr( $field\_name ); ?>" |
  | 609 | 609 | type="checkbox" <?php checked( ! empty( $value ) ); ?> /> |
  | 610 |  | <?php e~~cho ! empty( $field['checkbox\_text'] ) ? esc\_html( $field['checkbox\_text'] ) : \_\_( 'Enabled', 'siteorigin-panels'~~ ); ?> |
  |  | 610 | <?php esc\_html\_e( ! empty( $field['checkbox\_text'] ) ? $field['checkbox\_text'] : \_\_( 'Enabled', 'siteorigin-panels' ) ); ?> |
  | 611 | 611 | </label> |
  | 612 | 612 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3036981#L618) | […](/browser/siteorigin-panels/trunk/inc/settings.php?rev=3053935#L618) |  |
  | 618 | 618 | <?php foreach ( $field['options'] as $option\_id => $option ) { ?> |
  | 619 | 619 | <option |
  | 620 |  | value="<?php echo esc\_attr( $option\_id ); ?>" <?php selected( $option\_id, $value ); ?>><?php echo esc\_html( $option ); ?></option> |
  |  | 620 | value="<?php echo esc\_attr( $option\_id ); ?>" <?php selected( $option\_id, $value ); ?>> |
  |  | 621 | <?php echo esc\_html( $option ); ?> |
  |  | 622 | </option> |
  | 621 | 623 | <?php } ?> |
  | 622 | 624 | </select> |
* ## [siteorigin-panels/trunk/inc/styles-admin.php](/changeset/3053935/siteorigin-panels/trunk/inc/styles-admin.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/styles-admin.php")

  | [r3016001](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L162 "Show revision 3016001 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L162 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 162 | 162 | <div class="style-section-wrapper"> |
  | 163 | 163 | <div class="style-section-head" tabindex="0"> |
  | 164 |  | <h4><?php e~~cho esc\_html~~( $group['name'] ); ?></h4> |
  |  | 164 | <h4><?php esc\_html\_e( $group['name'] ); ?></h4> |
  | 165 | 165 | </div> |
  | 166 | 166 | <div class="style-section-fields" style="display: none"> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L173) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L173) |  |
  | 173 | 173 | <div class="style-field-wrapper so-field-<?php echo esc\_attr( $field\_id ); ?>"> |
  | 174 | 174 | <?php if ( ! empty( $field['name'] ) ) { ?> |
  | 175 |  | <label><?php echo $field['name']; ?></label> |
  |  | 175 | <label> |
  |  | 176 | <?php esc\_html\_e( $field['name'] ); ?> |
  |  | 177 | </label> |
  | 176 | 178 | <?php } ?> |
  | 177 | 179 | <div |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L210) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L212) |  |
  | 210 | 212 | <div class="measurement-wrapper"> |
  | 211 | 213 | <input type="text" class="measurement-value measurement-top" |
  | 212 |  | placeholder="<?php \_e( 'Top', 'siteorigin-panels' ); ?>"/> |
  |  | 214 | placeholder="<?php esc\_html\_e( 'Top', 'siteorigin-panels' ); ?>"/> |
  | 213 | 215 | </div> |
  | 214 | 216 | <div class="measurement-wrapper"> |
  | 215 | 217 | <input type="text" class="measurement-value measurement-right" |
  | 216 |  | placeholder="<?php \_e( 'Right', 'siteorigin-panels' ); ?>"/> |
  |  | 218 | placeholder="<?php esc\_html\_e( 'Right', 'siteorigin-panels' ); ?>"/> |
  | 217 | 219 | </div> |
  | 218 | 220 | <div class="measurement-wrapper"> |
  | 219 | 221 | <input type="text" class="measurement-value measurement-bottom" |
  | 220 |  | placeholder="<?php \_e( 'Bottom', 'siteorigin-panels' ); ?>"/> |
  |  | 222 | placeholder="<?php esc\_html\_e( 'Bottom', 'siteorigin-panels' ); ?>"/> |
  | 221 | 223 | </div> |
  | 222 | 224 | <div class="measurement-wrapper"> |
  | 223 | 225 | <input type="text" class="measurement-value measurement-left" |
  | 224 |  | placeholder="<?php \_e( 'Left', 'siteorigin-panels' ); ?>"/> |
  |  | 226 | placeholder="<?php esc\_html\_e( 'Left', 'siteorigin-panels' ); ?>"/> |
  | 225 | 227 | </div> |
  | 226 | 228 | </div> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L235) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L237) |  |
  | 235 | 237 | <?php foreach ( $this->measurements\_list() as $measurement ) { ?> |
  | 236 | 238 | <option |
  | 237 |  | value="<?php echo esc\_~~html( $measurement ); ?>"><?php echo esc\_html~~( $measurement ); ?></option> |
  |  | 239 | value="<?php echo esc\_attr( $measurement ); ?>"><?php esc\_html\_e( $measurement ); ?></option> |
  | 238 | 240 | <?php } ?> |
  | 239 | 241 | </select> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L270) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L272) |  |
  | 270 | 272 | name="<?php echo esc\_attr( $field\_name ); ?>" |
  | 271 | 273 | value="<?php echo ! empty( $current ) ? esc\_attr( ( float ) $current ) : 100; ?>" |
  | 272 |  | min="<?php echo isset( $field['min'] ) ? (~~float~~ ) $field['min'] : 0; ?>" |
  | 273 |  | max="<?php echo isset( $field['max'] ) ? (~~float~~ ) $field['max'] : 100; ?>" |
  | 274 |  | step="<?php echo isset( $field['step'] ) ? (~~float~~ ) $field['step'] : 1; ?>" |
  |  | 274 | min="<?php echo isset( $field['min'] ) ? (float) $field['min'] : 0; ?>" |
  |  | 275 | max="<?php echo isset( $field['max'] ) ? (float) $field['max'] : 100; ?>" |
  |  | 276 | step="<?php echo isset( $field['step'] ) ? (float) $field['step'] : 1; ?>" |
  | 275 | 277 | /> |
  | 276 | 278 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L295) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L297) |  |
  | 295 | 297 |  |
  | 296 | 298 | <div class="select-image"> |
  | 297 |  | <?php \_e( 'Select Image', 'siteorigin-panels' ); ?> |
  |  | 299 | <?php esc\_html\_e( 'Select Image', 'siteorigin-panels' ); ?> |
  | 298 | 300 | </div> |
  | 299 | 301 | <input type="hidden" name="<?php echo esc\_attr( $field\_name ); ?>" |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L302) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L304) |  |
  | 302 | 304 | <a href="#" class="remove-image <?php if ( empty( (int) $current ) ) { |
  | 303 | 305 | echo ' hidden'; |
  | 304 |  | } ?>"><?php \_e( 'Remove', 'siteorigin-panels' ); ?></a> |
  |  | 306 | } ?>"><?php esc\_html\_e( 'Remove', 'siteorigin-panels' ); ?></a> |
  | 305 | 307 |  |
  | 306 | 308 | <input type="text" value="<?php echo esc\_url( $fallback\_url ); ?>" |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L321) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L323) |  |
  | 321 | 323 | <?php selected( $current, $size\_name ); ?> |
  | 322 | 324 | > |
  | 323 |  | <?php e~~cho esc\_html~~( ucwords( preg\_replace( '/[-\_]/', ' ', $size\_name ) ) . $sizing\_label ); ?> |
  |  | 325 | <?php esc\_html\_e( ucwords( preg\_replace( '/[-\_]/', ' ', $size\_name ) ) . $sizing\_label ); ?> |
  | 324 | 326 | </option> |
  | 325 | 327 | <?php } ?> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L330) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L332) |  |
  | 330 | 332 | case 'url' : |
  | 331 | 333 | case 'text' : |
  | 332 |  | ?><input type="text" name="<?php echo esc\_attr( $field\_name ); ?>" |
  | 333 |  | value="<?php echo esc\_attr( $current ); ?>" class="widefat" /><?php |
  |  | 334 | ?> |
  |  | 335 | <input |
  |  | 336 | type="text" |
  |  | 337 | name="<?php echo esc\_attr( $field\_name ); ?>" |
  |  | 338 | value="<?php echo esc\_attr( $current ); ?>" class="widefat" |
  |  | 339 | /> |
  |  | 340 | <?php |
  | 334 | 341 | break; |
  | 335 | 342 |  |
  | 336 | 343 | case 'number' : |
  | 337 |  | ?><input type="number" name="<?php echo esc\_attr( $field\_name ); ?>" |
  | 338 |  | value="<?php echo esc\_attr( $current ); ?>" class="widefat" /><?php |
  |  | 344 | ?><input |
  |  | 345 | type="number" |
  |  | 346 | name="<?php echo esc\_attr( $field\_name ); ?>" |
  |  | 347 | value="<?php echo esc\_attr( $current ); ?>" class="widefat" |
  |  | 348 | /> |
  |  | 349 | <?php |
  | 339 | 350 | break; |
  | 340 | 351 |  |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L344) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L355) |  |
  | 344 | 355 | <label class="so-checkbox-label"> |
  | 345 | 356 | <input type="checkbox" name="<?php echo esc\_attr( $field\_name ); ?>" <?php checked( $current ); ?> /> |
  | 346 |  | <?php e~~cho esc\_html~~( isset( $field['label'] ) ? $field['label'] : \_\_( 'Enabled', 'siteorigin-panels' ) ); ?> |
  |  | 357 | <?php esc\_html\_e( isset( $field['label'] ) ? $field['label'] : \_\_( 'Enabled', 'siteorigin-panels' ) ); ?> |
  | 347 | 358 | </label> |
  | 348 | 359 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L354) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L365) |  |
  | 354 | 365 | <?php foreach ( $field['options'] as $k => $v ) { ?> |
  | 355 | 366 | <option |
  | 356 |  | value="<?php echo esc\_attr( $k ); ?>" <?php selected( $current, $k ); ?>><?php e~~cho esc\_html~~( $v ); ?></option> |
  |  | 367 | value="<?php echo esc\_attr( $k ); ?>" <?php selected( $current, $k ); ?>><?php esc\_html\_e( $v ); ?></option> |
  | 357 | 368 | <?php } ?> |
  | 358 | 369 | </select> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L368) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L379) |  |
  | 368 | 379 | <input type="radio" name="<?php echo esc\_attr( $radio\_id ); ?>" |
  | 369 | 380 | id="<?php echo esc\_attr( $radio\_id . '-' . $k ); ?>" |
  | 370 |  | value="<?php echo esc\_attr( $k ); ?>" <?php checked( $k, $current ); ?>> <?php e~~cho esc\_html~~( $v ); ?> |
  |  | 381 | value="<?php echo esc\_attr( $k ); ?>" <?php checked( $k, $current ); ?>> <?php esc\_html\_e( $v ); ?> |
  | 371 | 382 | </label> |
  | 372 | 383 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L386) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L397) |  |
  | 386 | 397 | ?> |
  | 387 | 398 |  |
  | 388 |  | <?php e~~cho esc\_html~~( isset( $field['label'] ) ? $field['label'] : '' ); ?> |
  |  | 399 | <?php esc\_html\_e( isset( $field['label'] ) ? $field['label'] : '' ); ?> |
  | 389 | 400 | <label class="so-toggle-switch"> |
  | 390 | 401 | <input class="so-toggle-switch-input" type="checkbox" <?php checked( $current ); ?> name="<?php echo esc\_attr( $field\_name ); ?>"> |
  | 391 |  | <span class="so-toggle-switch-label" data-on="<?php ~~\_e( 'On', 'siteorigin-panels' ); ?>" data-off="<?php~~ \_e( 'Off', 'siteorigin-panels' ); ?>"></span> |
  |  | 402 | <span class="so-toggle-switch-label" data-on="<?php esc\_attr\_e( 'On', 'siteorigin-panels' ); ?>" data-off="<?php esc\_attr\_e( 'Off', 'siteorigin-panels' ); ?>"></span> |
  | 392 | 403 | <span class="so-toggle-switch-handle"></span> |
  | 393 | 404 | </label> |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L399) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L410) |  |
  | 399 | 410 | <div class="style-field-wrapper so-field-<?php echo esc\_attr( $sub\_field\_id ); ?>"> |
  | 400 | 411 | <?php if ( ! empty( $sub\_field['name'] ) ) { ?> |
  | 401 |  | <label><?php echo $sub\_field['name']; ?></label> |
  |  | 412 | <label> |
  |  | 413 | <?php esc\_html\_e( $sub\_field['name'] ); ?> |
  |  | 414 | </label> |
  | 402 | 415 | <?php } ?> |
  | 403 | 416 | <div |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L771) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L784) |  |
  | 771 | 784 |  |
  | 772 | 785 | /\*\* |
  | 773 |  | \* Get list of supported me~~surements~~ |
  |  | 786 | \* Get list of supported measurements. |
  | 774 | 787 | \* |
  | 775 | 788 | \* @return array |
  | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3016001#L832) | […](/browser/siteorigin-panels/trunk/inc/styles-admin.php?rev=3053935#L845) |  |
  | 832 | 845 | } |
  | 833 | 846 |  |
  | 834 |  | // Initiali~~se all the default styling~~ |
  |  | 847 | // Initialize all the default styling. |
  | 835 | 848 | SiteOrigin\_Panels\_Styles::single(); |
* ## [siteorigin-panels/trunk/inc/styles.php](/changeset/3053935/siteorigin-panels/trunk/inc/styles.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/styles.php")

  | [r3036981](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3036981#L85 "Show revision 3036981 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3053935#L85 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 85 | 85 | wp\_register\_script( |
  | 86 | 86 | 'siteorigin-panels-front-styles', |
  | 87 |  | ~~siteorigin\_panels\_url( 'js/styling' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 87 | esc\_url( siteorigin\_panels\_url( 'js/styling' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 88 | 88 | array( 'jquery' ), |
  | 89 | 89 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3036981#L99) | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3053935#L99) |  |
  | 99 | 99 | wp\_register\_script( |
  | 100 | 100 | 'simpleParallax', |
  | 101 |  | ~~siteorigin\_panels\_url( 'js/lib/simpleparallax' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 101 | esc\_url( siteorigin\_panels\_url( 'js/lib/simpleparallax' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 102 | 102 | array( 'siteorigin-panels-front-styles' ), |
  | 103 | 103 | '5.5.1' |
  | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3036981#L113) | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3053935#L113) |  |
  | 113 | 113 | wp\_register\_script( |
  | 114 | 114 | 'siteorigin-parallax', |
  | 115 |  | ~~siteorigin\_panels\_url( 'js/siteorigin-legacy-parallax' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 115 | esc\_url( siteorigin\_panels\_url( 'js/siteorigin-legacy-parallax' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 116 | 116 | array( 'jquery' ), |
  | 117 | 117 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3036981#L680) | […](/browser/siteorigin-panels/trunk/inc/styles.php?rev=3053935#L680) |  |
  | 680 | 680 | <?php |
  | 681 | 681 | foreach ( $styles as $p => $v ) { |
  | 682 |  | e~~cho esc\_attr~~( $p . ':' . $v . ';' ); |
  |  | 682 | esc\_attr\_e( $p . ':' . $v . ';' ); |
  | 683 | 683 | } |
  | 684 | 684 | ?> |
* ## [siteorigin-panels/trunk/inc/widget-shortcode.php](/changeset/3053935/siteorigin-panels/trunk/inc/widget-shortcode.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/widget-shortcode.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/widget-shortcode.php?rev=2902679#L100 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/widget-shortcode.php?rev=3053935#L100 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 100 | 100 |  |
  | 101 | 101 | public static function encode\_data( $data ) { |
  | 102 |  | return '<input type="hidden" value="' . esc\_textarea( json\_encode( $data, JSON\_UNESCAPED\_UNICODE ) ) . '" />'; |
  |  | 102 | return '<input type="hidden" value="' . esc\_textarea( wp\_json\_encode( $data, JSON\_UNESCAPED\_UNICODE ) ) . '" />'; |
  | 103 | 103 | } |
  | 104 | 104 |  |
* ## [siteorigin-panels/trunk/inc/widgets/layout.php](/changeset/3053935/siteorigin-panels/trunk/inc/widgets/layout.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/widgets/layout.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=2902679#L90 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=3053935#L90 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 90 | 90 | ?> |
  | 91 | 91 | <p> |
  | 92 |  | <?php \_e( 'This widget can currently only be used in the WordPress admin interface.', 'siteorigin-panels' ); ?> |
  |  | 92 | <?php esc\_html\_e( 'This widget can currently only be used in the WordPress admin interface.', 'siteorigin-panels' ); ?> |
  | 93 | 93 | </p> |
  | 94 | 94 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=2902679#L109) | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=3053935#L109) |  |
  | 109 | 109 |  |
  | 110 | 110 | if ( ! is\_string( $instance['panels\_data'] ) ) { |
  | 111 |  | $instance['panels\_data'] = json\_encode( $instance['panels\_data'] ); |
  |  | 111 | $instance['panels\_data'] = wp\_json\_encode( $instance['panels\_data'] ); |
  | 112 | 112 | } |
  | 113 | 113 |  |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=2902679#L122) | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=3053935#L122) |  |
  | 122 | 122 | data-builder-id="<?php echo esc\_attr( $form\_id ); ?>" |
  | 123 | 123 | data-type="layout\_widget" |
  | 124 |  | data-builder-supports="<?php echo esc\_attr( json\_encode( $builder\_supports ) ); ?>" |
  |  | 124 | data-builder-supports="<?php echo esc\_attr( wp\_json\_encode( $builder\_supports ) ); ?>" |
  | 125 | 125 | > |
  | 126 | 126 | <p> |
  | 127 |  | <button class="button-secondary siteorigin-panels-display-builder" ><?php \_e( 'Open Builder', 'siteorigin-panels' ); ?></button> |
  |  | 127 | <button class="button-secondary siteorigin-panels-display-builder" ><?php esc\_html\_e( 'Open Builder', 'siteorigin-panels' ); ?></button> |
  | 128 | 128 | </p> |
  | 129 |  |  |
  |  | 129 |  |
  | 130 | 130 | <input |
  | 131 | 131 | type="hidden" |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=2902679#L133) | […](/browser/siteorigin-panels/trunk/inc/widgets/layout.php?rev=3053935#L133) |  |
  | 133 | 133 | class="panels-data" |
  | 134 | 134 | value="<?php echo $panels\_data; ?>" |
  | 135 |  | name="<?php echo ~~$this->get\_field\_name( 'panels\_data'~~ ); ?>" |
  | 136 |  | id="<?php echo ~~$this->get\_field\_id( 'panels\_data'~~ ); ?>" |
  |  | 135 | name="<?php echo esc\_attr( $this->get\_field\_name( 'panels\_data' ) ); ?>" |
  |  | 136 | id="<?php echo esc\_attr( $this->get\_field\_id( 'panels\_data' ) ); ?>" |
  | 137 | 137 | /> |
  | 138 | 138 |  |
  | 139 |  | <input type="hidden" value="<?php echo esc\_attr( $instance['builder\_id'] ); ?>" name="<?php echo ~~$this->get\_field\_name( 'builder\_id'~~ ); ?>" /> |
  |  | 139 | <input type="hidden" value="<?php echo esc\_attr( $instance['builder\_id'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'builder\_id' ) ); ?>" /> |
  | 140 | 140 | </div> |
  | 141 | 141 | <script type="text/javascript"> |
* ## [siteorigin-panels/trunk/inc/widgets/post-content.php](/changeset/3053935/siteorigin-panels/trunk/inc/widgets/post-content.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/widgets/post-content.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=2902679#L24 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=3053935#L24 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | echo $args['before\_widget']; |
  | 25 | 25 | $content = apply\_filters( 'siteorigin\_panels\_widget\_post\_content', $this->default\_content( $instance['type'] ) ); |
  | 26 |  | echo ~~$content~~; |
  |  | 26 | echo wp\_kses\_post( $content ); |
  | 27 | 27 | echo $args['after\_widget']; |
  | 28 | 28 | } |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=2902679#L48) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=3053935#L48) |  |
  | 48 | 48 |  |
  | 49 | 49 | case 'featured': |
  | 50 |  | if ( !has\_post\_thumbnail() ) { |
  |  | 50 | if ( ! has\_post\_thumbnail() ) { |
  | 51 | 51 | return ''; |
  | 52 | 52 | } |
  | 53 | 53 |  |
  | 54 |  | return '<div class="featured-image">' . get\_the\_post\_thumbnail( $post->ID ) . '</div>'; |
  |  | 54 | return '<div class="featured-image">' . |
  |  | 55 | esc\_url( get\_the\_post\_thumbnail( $post->ID ) ) |
  |  | 56 | . '</div>'; |
  | 55 | 57 | default: |
  | 56 | 58 | return ''; |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=2902679#L76) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-content.php?rev=3053935#L78) |  |
  | 76 | 78 | <div class="siteorigin-widget-content"> |
  | 77 | 79 | <p> |
  | 78 |  | <label for="<?php echo ~~$this->get\_field\_id( 'type' ); ?>"><?php~~ \_e( 'Display Content', 'siteorigin-panels' ); ?></label> |
  | 79 |  | <select id="<?php echo ~~$this->get\_field\_id( 'type' ); ?>" name="<?php echo $this->get\_field\_name( 'type'~~ ); ?>" class="siteorigin-widget-field"> |
  |  | 80 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'type' ) ); ?>"><?php esc\_html\_e( 'Display Content', 'siteorigin-panels' ); ?></label> |
  |  | 81 | <select id="<?php echo esc\_attr( $this->get\_field\_id( 'type' ) ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'type' ) ); ?>" class="siteorigin-widget-field"> |
  | 80 | 82 | <?php foreach ( $types as $type\_id => $title ) { ?> |
  | 81 | 83 | <option value="<?php echo esc\_attr( $type\_id ); ?>" <?php selected( $type\_id, $instance['type'] ); ?>><?php echo esc\_html( $title ); ?></option> |
* ## [siteorigin-panels/trunk/inc/widgets/post-loop.php](/changeset/3053935/siteorigin-panels/trunk/inc/widgets/post-loop.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/inc/widgets/post-loop.php")

  | [r2902679](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L229 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L229 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 229 | 229 |  |
  | 230 | 230 | if ( ! empty( $instance['title'] ) ) { |
  | 231 |  | echo $args['before\_title'] . ~~$instance['title']~~ . $args['after\_title']; |
  |  | 231 | echo $args['before\_title'] . esc\_html( $instance['title'] ) . $args['after\_title']; |
  | 232 | 232 | } |
  | 233 | 233 |  |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L302) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L302) |  |
  | 302 | 302 | <div class="siteorigin-widget-content"> |
  | 303 | 303 | <p> |
  | 304 |  | <label for="<?php echo $this->get\_field\_id( 'title' ); ?>"><?php \_e( 'Title', 'siteorigin-panels' ); ?></label> |
  | 305 |  | <input type="text" class="widefat siteorigin-widget-field" name="<?php echo $this->get\_field\_name( 'title' ); ?>" id="<?php echo $this->get\_field\_id( 'title' ); ?>" value="<?php echo esc\_attr( $instance['title'] ); ?>"> |
  | 306 |  | </p> |
  | 307 |  | <p> |
  | 308 |  | <label for="<?php echo $this->get\_field\_id( 'template' ); ?>"><?php \_e( 'Template', 'siteorigin-panels' ); ?></label> |
  | 309 |  | <select id="<?php echo $this->get\_field\_id( 'template' ); ?>" name="<?php echo $this->get\_field\_name( 'template' ); ?>" class="siteorigin-widget-field"> |
  |  | 304 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'title' ) ); ?>"><?php esc\_html\_e( 'Title', 'siteorigin-panels' ); ?></label> |
  |  | 305 | <input type="text" class="widefat siteorigin-widget-field" name="<?php echo esc\_attr( $this->get\_field\_name( 'title' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'title' ) ); ?>" value="<?php echo esc\_attr( $instance['title'] ); ?>"> |
  |  | 306 | </p> |
  |  | 307 | <p> |
  |  | 308 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'template' ) ); ?>"> |
  |  | 309 | <?php esc\_html\_e( 'Template', 'siteorigin-panels' ); ?> |
  |  | 310 | </label> |
  |  | 311 | <select |
  |  | 312 | id="<?php echo esc\_attr( $this->get\_field\_id( 'template' ) ); ?>" |
  |  | 313 | name="<?php echo esc\_attr( $this->get\_field\_name( 'template' ) ); ?>" |
  |  | 314 | class="siteorigin-widget-field" |
  |  | 315 | > |
  | 310 | 316 | <?php foreach ( $templates as $template ) { ?> |
  | 311 | 317 | <option value="<?php echo esc\_attr( $template ); ?>" <?php selected( $instance['template'], $template ); ?>> |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L314) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L320) |  |
  | 314 | 320 | 'loop\_name' => 'Loop Name', |
  | 315 | 321 | ) ); |
  | 316 |  | echo esc\_html( ! empty( $headers['loop\_name'] ) ? $headers['loop\_name'] : $template ); |
  | 317 |  | ?> |
  |  | 322 | echo esc\_html( ! empty( $headers['loop\_name'] ) ? $headers['loop\_name'] : $template ); |
  |  | 323 | ?> |
  | 318 | 324 | </option> |
  | 319 | 325 | <?php } ?> |
  | 320 | 326 | </select> |
  | 321 | 327 | </p> |
  | 322 |  |  |
  | 323 |  | <p> |
  | 324 |  | <label for="<?php echo $this->get\_field\_id( 'more' ); ?>"><?php \_e( 'More Link', 'siteorigin-panels' ); ?></label> |
  | 325 |  | <input type="checkbox" class="siteorigin-widget-field" id="<?php echo $this->get\_field\_id( 'more' ); ?>" name="<?php echo $this->get\_field\_name( 'more' ); ?>" <?php checked( $instance['more'] ); ?> /><br/> |
  | 326 |  | <small><?php \_e( 'If the template supports it, cut posts and display the more link.', 'siteorigin-panels' ); ?></small> |
  |  | 328 |  |
  |  | 329 | <p> |
  |  | 330 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'more' ) ); ?>"> |
  |  | 331 | <?php esc\_html\_e( 'More Link', 'siteorigin-panels' ); ?> |
  |  | 332 | </label> |
  |  | 333 | <input |
  |  | 334 | type="checkbox" |
  |  | 335 | class="siteorigin-widget-field" |
  |  | 336 | id="<?php echo esc\_attr( $this->get\_field\_id( 'more' ) ); ?>" |
  |  | 337 | name="<?php echo esc\_attr( $this->get\_field\_name( 'more' ) ); ?>" |
  |  | 338 | <?php checked( $instance['more'] ); ?> |
  |  | 339 | /> |
  |  | 340 | <br/> |
  |  | 341 | <small> |
  |  | 342 | <?php esc\_html\_e( 'If the template supports it, cut posts and display the more link.', 'siteorigin-panels' ); ?> |
  |  | 343 | </small> |
  | 327 | 344 | </p> |
  | 328 | 345 | <?php |
  | 329 |  |  |
  | 330 | 346 | if ( ! empty( $instance['posts'] ) ) { |
  | 331 | 347 | $instance = wp\_parse\_args( $instance['posts'], $instance ); |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L339) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L355) |  |
  | 339 | 355 | ?> |
  | 340 | 356 | <p> |
  | 341 |  | <label for="<?php echo $this->get\_field\_id( 'post\_type' ); ?>"><?php \_e( 'Post Type', 'siteorigin-panels' ); ?></label> |
  | 342 |  | <select id="<?php echo $this->get\_field\_id( 'post\_type' ); ?>" name="<?php echo $this->get\_field\_name( 'post\_type' ); ?>" class="siteorigin-widget-field" value="<?php echo esc\_attr( $instance['post\_type'] ); ?>"> |
  |  | 357 | <label |
  |  | 358 | for="<?php echo esc\_attr( $this->get\_field\_id( 'post\_type' ) ); ?>" |
  |  | 359 | > |
  |  | 360 | <?php esc\_html\_e( 'Post Type', 'siteorigin-panels' ); ?> |
  |  | 361 | </label> |
  |  | 362 | <select |
  |  | 363 | id="<?php echo esc\_attr( $this->get\_field\_id( 'post\_type' ) ); ?>" |
  |  | 364 | name="<?php echo esc\_attr( $this->get\_field\_name( 'post\_type' ) ); ?>" |
  |  | 365 | class="siteorigin-widget-field" |
  |  | 366 | value="<?php echo esc\_attr( $instance['post\_type'] ); ?>" |
  |  | 367 | > |
  | 343 | 368 | <?php foreach ( $post\_types as $type ) { ?> |
  | 344 |  | <option value="<?php echo esc\_attr( $type ); ?>" <?php selected( $instance['post\_type'], $type ); ?>><?php echo esc\_html( $type ); ?></option> |
  |  | 369 | <option value="<?php echo esc\_attr( $type ); ?>" <?php selected( $instance['post\_type'], $type ); ?>> |
  |  | 370 | <?php echo esc\_html( $type ); ?> |
  |  | 371 | </option> |
  | 345 | 372 | <?php } ?> |
  | 346 | 373 | </select> |
  | 347 | 374 | </p> |
  | 348 |  |  |
  | 349 |  | <p> |
  | 350 |  | <label for="<?php echo $this->get\_field\_id( 'posts\_per\_page' ); ?>"><?php \_e( 'Posts Per Page', 'siteorigin-panels' ); ?></label> |
  | 351 |  | <input type="text" class="small-text siteorigin-widget-field" id="<?php echo $this->get\_field\_id( 'posts\_per\_page' ); ?>" name="<?php echo $this->get\_field\_name( 'posts\_per\_page' ); ?>" class="siteorigin-widget-field" value="<?php echo esc\_attr( $instance['posts\_per\_page'] ); ?>" /> |
  | 352 |  | </p> |
  | 353 |  |  |
  | 354 |  | <p> |
  | 355 |  | <label <?php echo $this->get\_field\_id( 'orderby' ); ?>><?php \_e( 'Order By', 'siteorigin-panels' ); ?></label> |
  | 356 |  | <select id="<?php echo $this->get\_field\_id( 'orderby' ); ?>" name="<?php echo $this->get\_field\_name( 'orderby' ); ?>" class="siteorigin-widget-field" value="<?php echo esc\_attr( $instance['orderby'] ); ?>"> |
  | 357 |  | <option value="none" <?php selected( $instance['orderby'], 'none' ); ?>><?php esc\_html\_e( 'None', 'siteorigin-panels' ); ?></option> |
  | 358 |  | <option value="ID" <?php selected( $instance['orderby'], 'ID' ); ?>><?php esc\_html\_e( 'Post ID', 'siteorigin-panels' ); ?></option> |
  | 359 |  | <option value="author" <?php selected( $instance['orderby'], 'author' ); ?>><?php esc\_html\_e( 'Author', 'siteorigin-panels' ); ?></option> |
  | 360 |  | <option value="name" <?php selected( $instance['orderby'], 'name' ); ?>><?php esc\_html\_e( 'Name', 'siteorigin-panels' ); ?></option> |
  | 361 |  | <option value="name" <?php selected( $instance['orderby'], 'name' ); ?>><?php esc\_html\_e( 'Name', 'siteorigin-panels' ); ?></option> |
  | 362 |  | <option value="date" <?php selected( $instance['orderby'], 'date' ); ?>><?php esc\_html\_e( 'Date', 'siteorigin-panels' ); ?></option> |
  | 363 |  | <option value="modified" <?php selected( $instance['orderby'], 'modified' ); ?>><?php esc\_html\_e( 'Modified', 'siteorigin-panels' ); ?></option> |
  | 364 |  | <option value="parent" <?php selected( $instance['orderby'], 'parent' ); ?>><?php esc\_html\_e( 'Parent', 'siteorigin-panels' ); ?></option> |
  | 365 |  | <option value="rand" <?php selected( $instance['orderby'], 'rand' ); ?>><?php esc\_html\_e( 'Random', 'siteorigin-panels' ); ?></option> |
  | 366 |  | <option value="comment\_count" <?php selected( $instance['orderby'], 'comment\_count' ); ?>><?php esc\_html\_e( 'Comment Count', 'siteorigin-panels' ); ?></option> |
  | 367 |  | <option value="menu\_order" <?php selected( $instance['orderby'], 'menu\_order' ); ?>><?php esc\_html\_e( 'Menu Order', 'siteorigin-panels' ); ?></option> |
  | 368 |  | <option value="post\_\_in" <?php selected( $instance['orderby'], 'post\_\_in' ); ?>><?php esc\_html\_e( 'Post In Order', 'siteorigin-panels' ); ?></option> |
  |  | 375 |  |
  |  | 376 | <p> |
  |  | 377 | <label |
  |  | 378 | for="<?php echo esc\_attr( $this->get\_field\_id( 'posts\_per\_page' ) ); ?>" |
  |  | 379 | > |
  |  | 380 | <?php esc\_html\_e( 'Posts Per Page', 'siteorigin-panels' ); ?> |
  |  | 381 | </label> |
  |  | 382 | <input |
  |  | 383 | type="text" |
  |  | 384 | class="small-text siteorigin-widget-field" |
  |  | 385 | id="<?php echo esc\_attr( $this->get\_field\_id( 'posts\_per\_page' ) ); ?>" |
  |  | 386 | name="<?php echo esc\_attr( $this->get\_field\_name( 'posts\_per\_page' ) ); ?>" class="siteorigin-widget-field" |
  |  | 387 | value="<?php echo esc\_attr( $instance['posts\_per\_page'] ); ?>" |
  |  | 388 | /> |
  |  | 389 | </p> |
  |  | 390 |  |
  |  | 391 | <p> |
  |  | 392 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'orderby' ) ); ?>"> |
  |  | 393 | <?php esc\_html\_e( 'Order By', 'siteorigin-panels' ); ?> |
  |  | 394 | </label> |
  |  | 395 |  |
  |  | 396 | <select |
  |  | 397 | id="<?php echo esc\_attr( $this->get\_field\_id( 'orderby' ) ); ?>" |
  |  | 398 | name="<?php echo esc\_attr( $this->get\_field\_name( 'orderby' ) ); ?>" |
  |  | 399 | class="siteorigin-widget-field" |
  |  | 400 | value="<?php echo esc\_attr( $instance['orderby'] ); ?>" |
  |  | 401 | > |
  |  | 402 | <option value="none" <?php selected( $instance['orderby'], 'none' ); ?>> |
  |  | 403 | <?php esc\_html\_e( 'None', 'siteorigin-panels' ); ?> |
  |  | 404 | </option> |
  |  | 405 | <option value="ID" <?php selected( $instance['orderby'], 'ID' ); ?>> |
  |  | 406 | <?php esc\_html\_e( 'Post ID', 'siteorigin-panels' ); ?> |
  |  | 407 | </option> |
  |  | 408 | <option value="author" <?php selected( $instance['orderby'], 'author' ); ?>> |
  |  | 409 | <?php esc\_html\_e( 'Author', 'siteorigin-panels' ); ?> |
  |  | 410 | </option> |
  |  | 411 | <option value="name" <?php selected( $instance['orderby'], 'name' ); ?>> |
  |  | 412 | <?php esc\_html\_e( 'Name', 'siteorigin-panels' ); ?> |
  |  | 413 | </option> |
  |  | 414 | <option value="name" <?php selected( $instance['orderby'], 'name' ); ?>> |
  |  | 415 | <?php esc\_html\_e( 'Name', 'siteorigin-panels' ); ?> |
  |  | 416 | </option> |
  |  | 417 | <option value="date" <?php selected( $instance['orderby'], 'date' ); ?>> |
  |  | 418 | <?php esc\_html\_e( 'Date', 'siteorigin-panels' ); ?> |
  |  | 419 | </option> |
  |  | 420 | <option value="modified" <?php selected( $instance['orderby'], 'modified' ); ?>> |
  |  | 421 | <?php esc\_html\_e( 'Modified', 'siteorigin-panels' ); ?> |
  |  | 422 | </option> |
  |  | 423 | <option value="parent" <?php selected( $instance['orderby'], 'parent' ); ?>> |
  |  | 424 | <?php esc\_html\_e( 'Parent', 'siteorigin-panels' ); ?> |
  |  | 425 | </option> |
  |  | 426 | <option value="rand" <?php selected( $instance['orderby'], 'rand' ); ?>> |
  |  | 427 | <?php esc\_html\_e( 'Random', 'siteorigin-panels' ); ?> |
  |  | 428 | </option> |
  |  | 429 | <option value="comment\_count" <?php selected( $instance['orderby'], 'comment\_count' ); ?>> |
  |  | 430 | <?php esc\_html\_e( 'Comment Count', 'siteorigin-panels' ); ?> |
  |  | 431 | </option> |
  |  | 432 | <option value="menu\_order" <?php selected( $instance['orderby'], 'menu\_order' ); ?>> |
  |  | 433 | <?php esc\_html\_e( 'Menu Order', 'siteorigin-panels' ); ?> |
  |  | 434 | </option> |
  |  | 435 | <option value="post\_\_in" <?php selected( $instance['orderby'], 'post\_\_in' ); ?>> |
  |  | 436 | <?php esc\_html\_e( 'Post In Order', 'siteorigin-panels' ); ?> |
  |  | 437 | </option> |
  | 369 | 438 | </select> |
  | 370 | 439 | </p> |
  | 371 |  |  |
  | 372 |  | <p> |
  | 373 |  | <label for="<?php echo $this->get\_field\_id( 'order' ); ?>"><?php \_e( 'Order', 'siteorigin-panels' ); ?></label> |
  | 374 |  | <select id="<?php echo $this->get\_field\_id( 'order' ); ?>" class="siteorigin-widget-field" name="<?php echo $this->get\_field\_name( 'order' ); ?>" value="<?php echo esc\_attr( $instance['order'] ); ?>"> |
  | 375 |  | <option value="DESC" <?php selected( $instance['order'], 'DESC' ); ?>><?php esc\_html\_e( 'Descending', 'siteorigin-panels' ); ?></option> |
  | 376 |  | <option value="ASC" <?php selected( $instance['order'], 'ASC' ); ?>><?php esc\_html\_e( 'Ascending', 'siteorigin-panels' ); ?></option> |
  |  | 440 |  |
  |  | 441 | <p> |
  |  | 442 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'order' ) ); ?>"> |
  |  | 443 | <?php esc\_html\_e( 'Order', 'siteorigin-panels' ); ?> |
  |  | 444 | </label> |
  |  | 445 | <select |
  |  | 446 | id="<?php echo esc\_attr( $this->get\_field\_id( 'order' ) ); ?>" |
  |  | 447 | class="siteorigin-widget-field" |
  |  | 448 | name="<?php echo esc\_attr( $this->get\_field\_name( 'order' ) ); ?>" |
  |  | 449 | value="<?php echo esc\_attr( $instance['order'] ); ?>" |
  |  | 450 | > |
  |  | 451 | <option value="DESC" <?php selected( $instance['order'], 'DESC' ); ?>> |
  |  | 452 | <?php esc\_html\_e( 'Descending', 'siteorigin-panels' ); ?> |
  |  | 453 | </option> |
  |  | 454 | <option value="ASC" <?php selected( $instance['order'], 'ASC' ); ?>> |
  |  | 455 | <?php esc\_html\_e( 'Ascending', 'siteorigin-panels' ); ?> |
  |  | 456 | </option> |
  | 377 | 457 | </select> |
  | 378 | 458 | </p> |
  | 379 |  |  |
  | 380 |  | <p> |
  | 381 |  | <label for="<?php echo $this->get\_field\_id( 'sticky' ); ?>"><?php \_e( 'Sticky Posts', 'siteorigin-panels' ); ?></label> |
  | 382 |  | <select id="<?php echo $this->get\_field\_id( 'sticky' ); ?>" class="siteorigin-widget-field" name="<?php echo $this->get\_field\_name( 'sticky' ); ?>" value="<?php echo esc\_attr( $instance['sticky'] ); ?>"> |
  | 383 |  | <option value="" <?php selected( $instance['sticky'], '' ); ?>><?php esc\_html\_e( 'Default', 'siteorigin-panels' ); ?></option> |
  | 384 |  | <option value="ignore" <?php selected( $instance['sticky'], 'ignore' ); ?>><?php esc\_html\_e( 'Ignore Sticky', 'siteorigin-panels' ); ?></option> |
  | 385 |  | <option value="exclude" <?php selected( $instance['sticky'], 'exclude' ); ?>><?php esc\_html\_e( 'Exclude Sticky', 'siteorigin-panels' ); ?></option> |
  | 386 |  | <option value="only" <?php selected( $instance['sticky'], 'only' ); ?>><?php esc\_html\_e( 'Only Sticky', 'siteorigin-panels' ); ?></option> |
  |  | 459 |  |
  |  | 460 | <p> |
  |  | 461 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'sticky' ) ); ?>"> |
  |  | 462 | <?php esc\_html\_e( 'Sticky Posts', 'siteorigin-panels' ); ?> |
  |  | 463 | </label> |
  |  | 464 | <select |
  |  | 465 | id="<?php echo esc\_attr( $this->get\_field\_id( 'sticky' ) ); ?>" |
  |  | 466 | class="siteorigin-widget-field" |
  |  | 467 | name="<?php echo esc\_attr( $this->get\_field\_name( 'sticky' ) ); ?>" |
  |  | 468 | value="<?php echo esc\_attr( $instance['sticky'] ); ?>" |
  |  | 469 | > |
  |  | 470 | <option value="" <?php selected( $instance['sticky'], '' ); ?>> |
  |  | 471 | <?php esc\_html\_e( 'Default', 'siteorigin-panels' ); ?> |
  |  | 472 | </option> |
  |  | 473 | <option value="ignore" <?php selected( $instance['sticky'], 'ignore' ); ?>> |
  |  | 474 | <?php esc\_html\_e( 'Ignore Sticky', 'siteorigin-panels' ); ?> |
  |  | 475 | </option> |
  |  | 476 | <option value="exclude" <?php selected( $instance['sticky'], 'exclude' ); ?>> |
  |  | 477 | <?php esc\_html\_e( 'Exclude Sticky', 'siteorigin-panels' ); ?> |
  |  | 478 | </option> |
  |  | 479 | <option value="only" <?php selected( $instance['sticky'], 'only' ); ?>> |
  |  | 480 | <?php esc\_html\_e( 'Only Sticky', 'siteorigin-panels' ); ?> |
  |  | 481 | </option> |
  | 387 | 482 | </select> |
  | 388 | 483 | </p> |
  | 389 |  |  |
  | 390 |  | <p> |
  | 391 |  | <label for="<?php echo $this->get\_field\_id( 'additional' ); ?>"><?php \_e( 'Additional ', 'siteorigin-panels' ); ?></label> |
  | 392 |  | <input type="text" class="widefat siteorigin-widget-field" id="<?php echo $this->get\_field\_id( 'additional' ); ?>" name="<?php echo $this->get\_field\_name( 'additional' ); ?>" class="siteorigin-widget-field" value="<?php echo esc\_attr( $instance['additional'] ); ?>" /> |
  |  | 484 |  |
  |  | 485 | <p> |
  |  | 486 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'additional' ) ); ?>"> |
  |  | 487 | <?php esc\_html\_e( 'Additional ', 'siteorigin-panels' ); ?> |
  |  | 488 | </label> |
  |  | 489 | <input |
  |  | 490 | type="text" |
  |  | 491 | class="widefat siteorigin-widget-field" |
  |  | 492 | id="<?php echo esc\_attr( $this->get\_field\_id( 'additional' ) ); ?>" |
  |  | 493 | name="<?php echo esc\_attr( $this->get\_field\_name( 'additional' ) ); ?>" class="siteorigin-widget-field" value="<?php echo esc\_attr( $instance['additional'] ); ?>" |
  |  | 494 | /> |
  | 393 | 495 | <small> |
  | 394 | 496 | <?php |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L396) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L498) |  |
  | 396 | 498 | '/1\{ \*(.\*?) \*\}/', |
  | 397 | 499 | '<a href="http://codex.wordpress.org/Function\_Reference/query\_posts">$1</a>', |
  | 398 |  | \_\_( 'Additional query arguments. See 1{query\_posts}.', 'siteorigin-panels' ) |
  |  | 500 | esc\_html\_\_( 'Additional query arguments. See 1{query\_posts}.', 'siteorigin-panels' ) |
  | 399 | 501 | ); |
  | 400 | 502 | ?> |
  | 401 | 503 | </small> |
  | 402 | 504 | </p> |
  | 403 |  |  |
  |  | 505 |  |
  | 404 | 506 | <a href="https://siteorigin.com/page-builder/bundled-widgets/post-loop-widget/" class="siteorigin-widget-help-link siteorigin-panels-help-link" target="\_blank" rel="noopener noreferrer"> |
  | 405 |  | <?php \_e( 'Help', 'siteorigin-panels' ); ?> |
  |  | 507 | <?php esc\_html\_e( 'Help', 'siteorigin-panels' ); ?> |
  | 406 | 508 | </a> |
  | 407 | 509 | </div> |
  | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=2902679#L495) | […](/browser/siteorigin-panels/trunk/inc/widgets/post-loop.php?rev=3053935#L597) |  |
  | 495 | 597 | if ( empty( $this->helper ) && |
  | 496 | 598 | class\_exists( 'SiteOrigin\_Widget' ) && |
  | 497 |  | class\_exists( 'SiteOrigin\_Widget\_Field\_Posts' ) ) { |
  |  | 599 | class\_exists( 'SiteOrigin\_Widget\_Field\_Posts' ) |
  |  | 600 | ) { |
  | 498 | 601 | $this->helper = new SiteOrigin\_Panels\_Widgets\_PostLoop\_Helper( $templates ); |
  | 499 | 602 | } |
* ## [siteorigin-panels/trunk/js/siteorigin-panels.js](/changeset/3053935/siteorigin-panels/trunk/js/siteorigin-panels.js "Show the changeset 3053935 restricted to siteorigin-panels/trunk/js/siteorigin-panels.js")

  | [r3017172](/browser/siteorigin-panels/trunk/js/siteorigin-panels.js?rev=3017172#L6347 "Show revision 3017172 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/js/siteorigin-panels.js?rev=3053935#L6347 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 6347 | 6347 | if ( |
  | 6348 | 6348 | $$.parents( '.acf-repeater' ).length || |
  | 6349 |  | $$.parents( '.acf-field-checkbox' ).length |
  |  | 6349 | $$.parents( '.acf-field-checkbox' ).length || |
  |  | 6350 | $$.parents( '.acf-gallery' ).length |
  | 6350 | 6351 | ) { |
  | 6351 | 6352 | // If field is empty, skip it - this is to avoid indexes which are admin only. |
* ## [siteorigin-panels/trunk/js/siteorigin-panels.min.js](/changeset/3053935/siteorigin-panels/trunk/js/siteorigin-panels.min.js "Show the changeset 3053935 restricted to siteorigin-panels/trunk/js/siteorigin-panels.min.js")

  | [r3017172](/browser/siteorigin-panels/trunk/js/siteorigin-panels.min.js?rev=3017172#L6 "Show revision 3017172 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/js/siteorigin-panels.min.js?rev=3053935#L6 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | \* @license GPL 3.0 http://www.gnu.org/licenses/gpl.html |
  | 7 | 7 | \*/ |
  | 8 |  | var s={};window.panels=s,window.siteoriginPanels=s,s.helpers={},s.helpers.clipboard=e("./helpers/clipboard"),s.helpers.utils=e("./helpers/utils"),s.helpers.editor=e("./helpers/editor"),s.helpers.serialize=e("./helpers/serialize"),s.helpers.pageScroll=e("./helpers/page-scroll"),s.helpers.accessibility=e("./helpers/accessibility"),s.model={},s.model.widget=e("./model/widget"),s.model.cell=e("./model/cell"),s.model.row=e("./model/row"),s.model.builder=e("./model/builder"),s.model.historyEntry=e("./model/history-entry"),s.collection={},s.collection.widgets=e("./collection/widgets"),s.collection.cells=e("./collection/cells"),s.collection.rows=e("./collection/rows"),s.collection.historyEntries=e("./collection/history-entries"),s.view={},s.view.widget=e("./view/widget"),s.view.cell=e("./view/cell"),s.view.row=e("./view/row"),s.view.builder=e("./view/builder"),s.view.dialog=e("./view/dialog"),s.view.styles=e("./view/styles"),s.view.liveEditor=e("./view/live-editor"),s.dialog={},s.dialog.builder=e("./dialog/builder"),s.dialog.widgets=e("./dialog/widgets"),s.dialog.widget=e("./dialog/widget"),s.dialog.prebuilt=e("./dialog/prebuilt"),s.dialog.row=e("./dialog/row"),s.dialog.history=e("./dialog/history"),s.utils={},s.utils.menu=e("./utils/menu"),jQuery.fn.soPanelsSetupBuilderWidget=e("./jquery/setup-builder-widget"),jQuery((function(e){var t,i,s,l,o=e("#siteorigin-panels-metabox");if(s=e("form#post"),o.length&&s.length)t=o,i=o.find(".siteorigin-panels-data-field"),l={editorType:"tinyMCE",postId:e("#post\_ID").val(),editorId:"#content",builderType:o.data("builder-type"),builderSupports:o.data("builder-supports"),loadOnAttach:panelsOptions.loadOnAttach&&1==e("#auto\_draft").val(),loadLiveEditor:1==o.data("live-editor"),liveEditorCloseAfter:1==o.data("live-editor-close"),editorPreview:t.data("preview-url")};else if(e(".siteorigin-panels-builder-form").length){var n=e(".siteorigin-panels-builder-form");t=n.find(".siteorigin-panels-builder-container"),i=n.find('input[name="panels\_data"]'),s=n,l={editorType:"standalone",postId:n.data("post-id"),editorId:"#post\_content",builderType:n.data("type"),builderSupports:n.data("builder-supports"),loadLiveEditor:!1,liveEditorCloseAfter:!1,editorPreview:n.data("preview-url")}}if(!\_.isUndefined(t)){var a=window.siteoriginPanels,r=new a.model.builder,d=new a.view.builder({model:r,config:l});e(document).trigger("before\_panels\_setup",d),d.render().attach({container:t}).setDataField(i).attachToEditor(),s.on("submit",(function(){r.refreshPanelsData()})),t.removeClass("so-panels-loading"),e(document).trigger("panels\_setup",d,window.panels),window.soPanelsBuilderView=d}e(document).on("widget-added",(function(t,i){e(i).find(".siteorigin-page-builder-widget").soPanelsSetupBuilderWidget()})),e("body").hasClass("wp-customizer")||e((function(){e(".siteorigin-page-builder-widget").soPanelsSetupBuilderWidget()})),e(window).on("keyup",(function(t){27===t.which&&e(".so-panels-dialog-wrapper, .so-panels-live-editor").filter(":visible").last().find(".so-title-bar .so-close, .live-editor-close").trigger("click")}))})),void 0!==window.wp.autosave&&jQuery("#siteorigin-panels-metabox").length&&jQuery((function(e){var t=void 0!==window.autosaveL10n&&window.autosaveL10n.blog\_id;if(("object"==typeof window.sessionStorage||t)&&(stored\_obj=window.sessionStorage.getItem("wp-autosave-"+t),stored\_obj)){stored\_obj=JSON.parse(stored\_obj);var i=stored\_obj["post\_"+jQuery("#post\_ID").val()];"object"==typeof i&&jQuery("#content").val(i.content)}}))},{"./collection/cells":1,"./collection/history-entries":2,"./collection/rows":3,"./collection/widgets":4,"./dialog/builder":5,"./dialog/history":6,"./dialog/prebuilt":7,"./dialog/row":8,"./dialog/widget":9,"./dialog/widgets":10,"./helpers/accessibility":11,"./helpers/clipboard":12,"./helpers/editor":13,"./helpers/page-scroll":14,"./helpers/serialize":15,"./helpers/utils":16,"./jquery/setup-builder-widget":17,"./model/builder":19,"./model/cell":20,"./model/history-entry":21,"./model/row":22,"./model/widget":23,"./utils/menu":24,"./view/builder":25,"./view/cell":26,"./view/dialog":27,"./view/live-editor":28,"./view/row":29,"./view/styles":30,"./view/widget":31}],19:[function(e,t,i){t.exports=Backbone.Model.extend({layoutPosition:{BEFORE:"before",AFTER:"after",REPLACE:"replace"},rows:{},defaults:{data:{widgets:[],grids:[],grid\_cells:[]}},initialize:function(){this.set("rows",new panels.collection.rows)},addRow:function(e,t,i){i=\_.extend({noAnimate:!1},i);var s=new panels.collection.cells(t);e=\_.extend({collection:this.get("rows"),cells:s},e);var l=new panels.model.row(e);return l.builder=this,this.get("rows").add(l,i),l},loadPanelsData:function(e,t){try{t===this.layoutPosition.BEFORE?e=this.concatPanelsData(e,this.getPanelsData()):t===this.layoutPosition.AFTER&&(e=this.concatPanelsData(this.getPanelsData(),e)),this.emptyRows(),this.set("data",JSON.parse(JSON.stringify(e)),{silent:!0});var i,s=[];if(\_.isUndefined(e.grid\_cells))return void this.trigger("load\_panels\_data");for(var l=0;l<e.grid\_cells.length;l++)i=parseInt(e.grid\_cells[l].grid),\_.isUndefined(s[i])&&(s[i]=[]),s[i].push(e.grid\_cells[l]);var o=this;if(\_.each(s,(function(t,i){var s={};\_.isUndefined(e.grids[i].style)||(s.style=e.grids[i].style),\_.isUndefined(e.grids[i].color\_label)||(s.color\_label=e.grids[i].color\_label),\_.isUndefined(e.grids[i].label)||(s.label=e.grids[i].label),o.addRow(s,t,{noAnimate:!0})})),\_.isUndefined(e.widgets))return;\_.each(e.widgets,(function(e){var t=null;\_.isUndefined(e.panels\_info)?(t=e.info,delete e.info):(t=e.panels\_info,delete e.panels\_info);var i=o.get("rows").at(parseInt(t.grid)).get("cells").at(parseInt(t.cell)),s=new panels.model.widget({class:t.class,values:e});\_.isUndefined(t.style)||s.set("style",t.style),\_.isUndefined(t.read\_only)||s.set("read\_only",t.read\_only),\_.isUndefined(t.widget\_id)?s.set("widget\_id",panels.helpers.utils.generateUUID()):s.set("widget\_id",t.widget\_id),\_.isUndefined(t.label)||s.set("label",t.label),s.cell=i,i.get("widgets").add(s,{noAnimate:!0})})),this.trigger("load\_panels\_data")}catch(e){console.log("Error loading data: "+e.message)}},concatPanelsData:function(e,t){if(\_.isUndefined(t)||\_.isUndefined(t.grids)||\_.isEmpty(t.grids)||\_.isUndefined(t.grid\_cells)||\_.isEmpty(t.grid\_cells))return e;if(\_.isUndefined(e)||\_.isUndefined(e.grids)||\_.isEmpty(e.grids))return t;var i,s=e.grids.length,l=\_.isUndefined(e.widgets)?0:e.widgets.length,o={grids:[],grid\_cells:[],widgets:[]};for(o.grids=e.grids.concat(t.grids),\_.isUndefined(e.grid\_cells)||(o.grid\_cells=e.grid\_cells.slice()),\_.isUndefined(e.widgets)||(o.widgets=e.widgets.slice()),i=0;i<t.grid\_cells.length;i++){var n=t.grid\_cells[i];n.grid=parseInt(n.grid)+s,o.grid\_cells.push(n)}if(!\_.isUndefined(t.widgets))for(i=0;i<t.widgets.length;i++){var a=t.widgets[i];a.panels\_info.grid=parseInt(a.panels\_info.grid)+s,a.panels\_info.id=parseInt(a.panels\_info.id)+l,o.widgets.push(a)}return o},getPanelsData:function(){var e={widgets:[],grids:[],grid\_cells:[]},t=0;return this.get("rows").each((function(i,s){i.get("cells").each((function(i,l){i.get("widgets").each((function(i,o){var n={class:i.get("class"),raw:i.get("raw"),grid:s,cell:l,id:t++,widget\_id:i.get("widget\_id"),style:i.get("style"),label:i.get("label")};\_.isEmpty(n.widget\_id)&&(n.widget\_id=panels.helpers.utils.generateUUID());var a=\_.extend(\_.clone(i.get("values")),{panels\_info:n});e.widgets.push(a)})),e.grid\_cells.push({grid:s,index:l,weight:i.get("weight"),style:i.get("style")})})),e.grids.push({cells:i.get("cells").length,style:i.get("style"),color\_label:i.get("color\_label"),label:i.get("label")})})),e},refreshPanelsData:function(e){e=\_.extend({silent:!1},e);var t=this.get("data"),i=this.getPanelsData();this.set("data",i,{silent:!0}),e.silent||JSON.stringify(i)===JSON.stringify(t)||(this.trigger("change"),this.trigger("change:data"),this.trigger("refresh\_panels\_data",i,e))},emptyRows:function(){return \_.invoke(this.get("rows").toArray(),"destroy"),this.get("rows").reset(),this},isValidLayoutPosition:function(e){return e===this.layoutPosition.BEFORE||e===this.layoutPosition.AFTER||e===this.layoutPosition.REPLACE},getPanelsDataFromHtml:function(e,t){var i,s=this,l=jQuery('<div id="wrapper">'+e+"</div>");if(l.find(".panel-layout .panel-grid").length){var o={grids:[],grid\_cells:[],widgets:[]},n=new RegExp(panelsOptions.siteoriginWidgetRegex,"i"),a=(i=document.createElement("div"),function(e){return e&&"string"==typeof e&&(e=(e=e.replace(/<script[^>]\*>([\S\s]\*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]\*"|'[^']\*')\*>/gim,""),i.innerHTML=e,e=i.textContent,i.textContent=""),e}),r=function(e){var t=e.find("div");if(!t.length)return e.html();for(var i=0;i<t.length-1&&t.eq(i).text().trim()==t.eq(i+1).text().trim();i++);var s=t.eq(i).find(".widget-title:header"),l="";return s.length&&(l=s.html(),s.remove()),{title:l,text:t.eq(i).html()}},d=l.find(".panel-layout").eq(0),c=function(e,t){return jQuery(t).closest(".panel-layout").is(d)};return l.find("> .panel-layout > .panel-grid").filter(c).each((function(e,i){var l=jQuery(i),d=l.find(".panel-grid-cell").filter(c);o.grids.push({cells:d.length,style:l.data("style"),color\_label:l.data("color-label"),label:l.data("label")}),d.each((function(i,l){var d=jQuery(l),h=d.find(".so-panel").filter(c);o.grid\_cells.push({grid:e,weight:\_.isUndefined(d.data("weight"))?1:parseFloat(d.data("weight")),style:d.data("style")}),h.each((function(l,d){var c=jQuery(d),h=c.find(".panel-widget-style").length?c.find(".panel-widget-style").html():c.html(),u={grid:e,cell:i,style:c.data("style"),raw:!1,label:c.data("label")};h=h.trim();var p=n.exec(h);if(!\_.isNull(p)&&""===h.replace(n,"").trim()){try{var g=/class="(.\*?)"/.exec(p[3]),f=jQuery(p[5]),w=JSON.parse(a(f.val())).instance;u.class=g[1].replace(/\\\\+/g,"\\"),u.raw=!1,w.panels\_info=u,o.widgets.push(w)}catch(e){u.class=t,o.widgets.push(\_.extend(r(c),{filter:"1",type:"visual",panels\_info:u}))}return!0}return-1!==h.indexOf("panel-layout")&&jQuery("<div>"+h+"</div>").find(".panel-layout .panel-grid").length?(u.class="SiteOrigin\_Panels\_Widgets\_Layout",o.widgets.push({panels\_data:s.getPanelsDataFromHtml(h,t),panels\_info:u}),!0):(u.class=t,o.widgets.push(\_.extend(r(c),{filter:"1",type:"visual",panels\_info:u})),!0)}))}))})),l.find(".panel-layout").remove(),l.find("style[data-panels-style-for-post]").remove(),l.html().replace(/^\s+|\s+$/gm,"").length&&(o.grids.push({cells:1,style:{}}),o.grid\_cells.push({grid:o.grids.length-1,weight:1}),o.widgets.push({filter:"1",text:l.html().replace(/^\s+|\s+$/gm,""),title:"",type:"visual",panels\_info:{class:t,raw:!1,grid:o.grids.length-1,cell:0}})),o}return{grid\_cells:[{grid:0,weight:1}],grids:[{cells:1}],widgets:[{filter:"1",text:e,title:"",type:"visual",panels\_info:{class:t,raw:!1,grid:0,cell:0}}]}}})},{}],20:[function(e,t,i){t.exports=Backbone.Model.extend({widgets:{},row:null,defaults:{weight:0,style:{}},indexes:null,initialize:function(){this.set("widgets",new panels.collection.widgets),this.on("destroy",this.onDestroy,this)},onDestroy:function(){\_.invoke(this.get("widgets").toArray(),"destroy"),this.get("widgets").reset()},clone:function(e,t){\_.isUndefined(e)&&(e=this.row),t=\_.extend({cloneWidgets:!0},t);var i=new this.constructor(this.attributes);return i.set("collection",e.get("cells"),{silent:!0}),i.row=e,t.cloneWidgets&&this.get("widgets").each((function(e){i.get("widgets").add(e.clone(i,t),{silent:!0})})),i}})},{}],21:[function(e,t,i){t.exports=Backbone.Model.extend({defaults:{text:"",data:"",time:null,count:1}})},{}],22:[function(e,t,i){t.exports=Backbone.Model.extend({builder:null,defaults:{style:{}},indexes:null,initialize:function(){\_.isEmpty(this.get("cells"))?this.set("cells",new panels.collection.cells):this.get("cells").each(function(e){e.row=this}.bind(this)),this.on("destroy",this.onDestroy,this)},setCells:function(e){var t=this.get("cells")||new panels.collection.cells,i=[];t.each((function(s,l){var o=e.at(l);if(o)s.set("weight",o.get("weight"));else{for(var n=t.at(e.length-1),a=s.get("widgets").models.slice(),r=0;r<a.length;r++)a[r].moveToCell(n,{silent:!1});i.push(s)}})),\_.each(i,(function(e){t.remove(e)})),e.length>t.length&&\_.each(e.slice(t.length,e.length),function(e){e.set({collection:t}),e.row=this,t.add(e)}.bind(this)),this.reweightCells()},reweightCells:function(){var e=0,t=this.get("cells");t.each((function(t){e+=t.get("weight")})),t.each((function(t){t.set("weight",t.get("weight")/e)})),this.trigger("reweight\_cells")},onDestroy:function(){\_.invoke(this.get("cells").toArray(),"destroy"),this.get("cells").reset()},clone:function(e){\_.isUndefined(e)&&(e=this.builder);var t=new this.constructor(this.attributes);t.set("collection",e.get("rows"),{silent:!0}),t.builder=e;var i=new panels.collection.cells;return this.get("cells").each((function(e){i.add(e.clone(t),{silent:!0})})),t.set("cells",i),t}})},{}],23:[function(e,t,i){t.exports=Backbone.Model.extend({cell:null,defaults:{class:null,missing:!1,values:{},raw:!1,style:{},read\_only:!1,widget\_id:""},indexes:null,initialize:function(){var e=this.get("class");!\_.isUndefined(panelsOptions.widgets[e])&&panelsOptions.widgets[e].installed||this.set("missing",!0)},getWidgetField:function(e){return \_.isUndefined(panelsOptions.widgets[this.get("class")])?"title"===e||"description"===e?panelsOptions.loc.missing\_widget[e]:"":this.has("label")&&!\_.isEmpty(this.get("label"))?this.get("label"):panelsOptions.widgets[this.get("class")][e]},moveToCell:function(e,t,i){return t=\_.extend({silent:!0},t),this.cell=e,this.collection.remove(this,t),e.get("widgets").add(this,\_.extend({at:i},t)),this.trigger("move\_to\_cell",e,i),this},setValues:function(e){var t=!1;JSON.stringify(e)!==JSON.stringify(this.get("values"))&&(t=!0),this.set("values",e,{silent:!0}),t&&(this.trigger("change",this),this.trigger("change:values"))},clone:function(e,t){\_.isUndefined(e)&&(e=this.cell);var i=new this.constructor(this.attributes),s=JSON.parse(JSON.stringify(this.get("values"))),l=function(e){return \_.each(e,(function(t,i){\_.isString(i)&&"\_"===i[0]?delete e[i]:\_.isObject(e[i])&&l(e[i])})),e};return s=l(s),"SiteOrigin\_Panels\_Widgets\_Layout"===this.get("class")&&(s.builder\_id=Math.random().toString(36).substr(2)),i.set("widget\_id",""),i.set("values",s,{silent:!0}),i.set("collection",e.get("widgets"),{silent:!0}),i.cell=e,i.isDuplicate=!0,i},isValidTitle:function(e){return!\_.isUndefined(e)&&\_.isString(e)&&""!==e&&"on"!==e&&"true"!==e&&"false"!==e&&"\_"!==e[0]&&!\_.isFinite(e)},cleanTitle:function(e){if("string"!=typeof e)return!1;var t=(e=e.replace(/<\/?[^>]+(>|$)/g,"")).split(" ");return(t=t.slice(0,20)).join(" ")},getTitleFromValues:function(e,t,i=!1,s=!0){var l=!1;for(const n in e)if("object"==typeof e[n]){if(s&&(l=t.getTitleFromValues(e[n],t,i)))break}else if("object"==typeof i){for(var o=0;o<i.length&&(n!=i[o]||!(l=t.cleanTitle(e[n])));o++);if(l)break}else if("object"!=typeof i&&"\_"!==n.charAt(0)&&"so\_sidebar\_emulator\_id"!==n&&"option\_name"!==n&&t.isValidTitle(e[n])&&(l=t.cleanTitle(e[n])))break;return l},getTitle:function(){var e=panelsOptions.widgets[this.get("class")],t=[],i=!1;if(\_.isUndefined(e))return this.get("class").replace(/\_/g," ");if(\_.isUndefined(e.panels\_title))t=["title","text"];else{if(!1===e.panels\_title)return panelsOptions.widgets[this.get("class")].description;t.push(e.panels\_title),i=!0}var s=this.get("values"),l=!1;return(l=this.getTitleFromValues(s,this,t,void 0!==e.panels\_title\_check\_sub\_fields&&e.panels\_title\_check\_sub\_fields))||i||(l=this.getTitleFromValues(s,this)),l||this.getWidgetField("description")}})},{}],24:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({wrapperTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-context-menu").html())),sectionTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-context-menu-section").html())),contexts:[],active:!1,events:{"keyup .so-search-wrapper input":"searchKeyUp"},initialize:function(){this.listenContextMenu(),this.render(),this.attach()},listenContextMenu:function(){var e=this;l(window).on("contextmenu",(function(t){return e.active&&!e.isOverEl(e.$el,t)?(e.closeMenu(),e.active=!1,t.preventDefault(),!1):!!e.active||(e.active=!1,e.trigger("activate\_context",t,e),void(e.active&&(t.preventDefault(),e.openMenu({left:t.pageX,top:t.pageY}))))}))},render:function(){this.setElement(this.wrapperTemplate())},attach:function(){this.$el.appendTo("body")},openMenu:function(e){this.trigger("open\_menu"),l(window).on("keyup",{menu:this},this.keyboardListen),l(window).on("click",{menu:this},this.clickOutsideListen),this.$el.css("max-height",l(window).height()-20),e.left+this.$el.outerWidth()+10>=l(window).width()&&(e.left=l(window).width()-this.$el.outerWidth()-10),e.left<=0&&(e.left=10),e.top+this.$el.outerHeight()-l(window).scrollTop()+10>=l(window).height()&&(e.top=l(window).height()+l(window).scrollTop()-this.$el.outerHeight()-10),e.left<=0&&(e.left=10),this.$el.css({left:e.left+1,top:e.top+1}).show(),this.$(".so-search-wrapper input").trigger("focus")},closeMenu:function(){this.trigger("close\_menu"),l(window).off("keyup",this.keyboardListen),l(window).off("click",this.clickOutsideListen),this.active=!1,this.$el.empty().hide()},keyboardListen:function(e){var t=e.data.menu;switch(e.which){case 27:t.closeMenu()}},clickOutsideListen:function(e){var t=e.data.menu;3!==e.which&&t.$el.is(":visible")&&!t.isOverEl(t.$el,e)&&t.closeMenu()},addSection:function(e,t,i,s){var o=this;t=\_.extend({display:5,defaultDisplay:!1,search:!0,sectionTitle:"",searchPlaceholder:"",titleKey:"title"},t);var n=l(this.sectionTemplate({settings:t,items:i})).attr("id","panels-menu-section-"+e);this.$el.append(n),n.find(".so-item:not(.so-confirm)").on("click",(function(){var e=l(this);s(e.data("key")),o.closeMenu()})),n.find(".so-item.so-confirm").on("click",(function(){var e=l(this);if(e.hasClass("so-confirming"))return s(e.data("key")),void o.closeMenu();e.data("original-text",e.html()).addClass("so-confirming").html('<span class="dashicons dashicons-yes"></span> '+panelsOptions.loc.dropdown\_confirm),setTimeout((function(){e.removeClass("so-confirming"),e.html(e.data("original-text"))}),2500)})),n.data("settings",t).find(".so-search-wrapper input").trigger("keyup"),this.active=!0},hasSection:function(e){return this.$el.find("#panels-menu-section-"+e).length>0},searchKeyUp:function(e){var t=l(e.currentTarget),i=t.closest(".so-section"),s=i.data("settings");if(38===e.which||40===e.which){var o=i.find("ul li:visible"),n=o.filter(".so-active").eq(0);if(n.length){o.removeClass("so-active");var a=o.index(n);38===e.which?n=a-1<0?o.last():o.eq(a-1):40===e.which&&(n=a+1>=o.length?o.first():o.eq(a+1))}else 38===e.which?n=o.last():40===e.which&&(n=o.first());return n.addClass("so-active"),!1}if(13===e.which)return 1===i.find("ul li:visible").length?(i.find("ul li:visible").trigger("click"),!1):(i.find("ul li.so-active:visible").trigger("click"),!1);if(""===t.val())if(s.defaultDisplay){i.find(".so-item").hide();for(var r=0;r<s.defaultDisplay.length;r++)i.find('.so-item[data-key="'+s.defaultDisplay[r]+'"]').show()}else i.find(".so-item").show();else i.find(".so-item").hide().each((function(){var e=l(this);-1!==e.html().toLowerCase().indexOf(t.val().toLowerCase())&&e.show()}));i.find(".so-item:visible:gt("+(s.display-1)+")").hide(),0===i.find(".so-item:visible").length&&""!==t.val()?i.find(".so-no-results").show():i.find(".so-no-results").hide()},isOverEl:function(e,t){var i=[[e.offset().left,e.offset().top],[e.offset().left+e.outerWidth(),e.offset().top+e.outerHeight()]];return t.pageX>=i[0][0]&&t.pageX<=i[1][0]&&t.pageY>=i[0][1]&&t.pageY<=i[1][1]}})},{}],25:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({config:{},template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder").html())),dialogs:{},rowsSortable:null,dataField:!1,currentData:"",contentPreview:"",initialContentPreviewSetup:!1,attachedToEditor:!1,attachedVisible:!1,liveEditor:void 0,menu:!1,activeCell:null,events:{"click .so-tool-button.so-widget-add":"displayAddWidgetDialog","click .so-tool-button.so-row-add":"displayAddRowDialog","click .so-tool-button.so-prebuilt-add":"displayAddPrebuiltDialog","click .so-tool-button.so-history":"displayHistoryDialog","click .so-tool-button.so-live-editor":"displayLiveEditor","keyup .so-tool-button":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},rows:null,initialize:function(e){var t=this;return this.config=\_.extend({loadLiveEditor:!1,liveEditorCloseAfter:!1,builderSupports:{}},e.config),this.config.builderSupports=\_.extend({addRow:!0,editRow:!0,deleteRow:!0,moveRow:!0,addWidget:!0,editWidget:!0,deleteWidget:!0,moveWidget:!0,prebuilt:!0,history:!0,liveEditor:!0,revertToEditor:!0},this.config.builderSupports),e.config.loadLiveEditor&&this.on("builder\_live\_editor\_added",(function(){this.displayLiveEditor()})),this.dialogs={widgets:new s.dialog.widgets,row:new s.dialog.row,prebuilt:new s.dialog.prebuilt},$previewContent=l(".siteorigin-panels-preview-content"),$previewContent.length&&(this.contentPreview=$previewContent.val()),\_.each(this.dialogs,(function(e,i,s){s[i].setBuilder(t)})),this.dialogs.row.setRowDialogType("create"),this.listenTo(this.model.get("rows"),"add",this.onAddRow),l(window).on("resize",(function(e){e.target===window&&t.trigger("builder\_resize")})),this.listenTo(this.model,"change:data load\_panels\_data",this.storeModelData),this.listenTo(this.model,"change:data load\_panels\_data",this.toggleWelcomeDisplay),this.on("builder\_attached\_to\_editor",this.handleContentChange,this),this.on("content\_change",this.handleContentChange,this),this.on("display\_builder",this.handleDisplayBuilder,this),this.on("hide\_builder",this.handleHideBuilder,this),this.on("builder\_rendered builder\_resize",this.handleBuilderSizing,this),this.on("display\_builder",this.wrapEditorExpandAdjust,this),this.menu=new s.utils.menu({}),this.listenTo(this.menu,"activate\_context",this.activateContextMenu),this.config.loadOnAttach&&this.on("builder\_attached\_to\_editor",(function(){this.displayAttachedBuilder({confirm:!1})}),this),this},render:function(){return this.setElement(this.template()),this.$el.attr("id","siteorigin-panels-builder-"+this.cid).addClass("so-builder-container"),this.trigger("builder\_rendered"),this},attach:function(e){(e=\_.extend({container:!1,dialog:!1},e)).dialog?(this.dialog=new s.dialog.builder,this.dialog.builder=this):(this.$el.appendTo(e.container),this.metabox=e.container.closest(".postbox"),this.initSortable(),this.trigger("attached\_to\_container",e.container)),this.trigger("builder\_attached"),this.supports("liveEditor")&&this.addLiveEditor(),this.supports("history")&&this.addHistoryBrowser();var t=this.$(".so-builder-toolbar"),i=this.$(".so-panels-welcome-message"),l=panelsOptions.loc.welcomeMessage,o=[];this.supports("addWidget")?o.push(l.addWidgetButton):t.find(".so-widget-add").hide(),this.supports("addRow")?o.push(l.addRowButton):t.find(".so-row-add").hide(),this.supports("prebuilt")?o.push(l.addPrebuiltButton):t.find(".so-prebuilt-add").hide();var n="";3===o.length?n=l.threeEnabled:2===o.length?n=l.twoEnabled:1===o.length?n=l.oneEnabled:0===o.length&&(n=l.addingDisabled);var a=\_.template(s.helpers.utils.processTemplate(n))({items:o})+" "+l.docsMessage;return i.find(".so-message-wrapper").html(a),this},attachToEditor:function(){if("tinyMCE"!==this.config.editorType)return this;this.attachedToEditor=!0;var e=this.metabox,t=this;l("#wp-content-wrap .wp-editor-tabs").find(".wp-switch-editor").on("click",(function(e){e.preventDefault(),l("#wp-content-editor-container").show(),l("#wp-content-wrap").removeClass("panels-active"),l("#content-resize-handle").show(),t.trigger("hide\_builder")})).end().append(l('<button type="button" id="content-panels" class="hide-if-no-js wp-switch-editor switch-panels">'+e.find("h2.hndle").html()+"</button>").on("click",(function(e){t.displayAttachedBuilder({confirm:!0})&&e.preventDefault()}))),this.supports("revertToEditor")&&e.find(".so-switch-to-standard").on("click keyup",(function(i){i.preventDefault(),"keyup"==i.type&&13!=i.which||confirm(panelsOptions.loc.confirm\_stop\_builder)&&(t.addHistoryEntry("back\_to\_editor"),t.model.loadPanelsData(!1),l("#wp-content-wrap").show(),e.hide(),l(window).trigger("resize"),t.attachedVisible=!1,t.trigger("hide\_builder"))})).show(),e.insertAfter("#wp-content-wrap").hide().addClass("attached-to-editor");var i=this.model.get("data");\_.isEmpty(i.widgets)&&\_.isEmpty(i.grids)&&this.supports("revertToEditor")||this.displayAttachedBuilder({confirm:!1});var s=function(){var e=t.$(".so-builder-toolbar");if(t.$el.hasClass("so-display-narrow"))return e.css({top:0,left:0,width:"100%",position:"absolute"}),void t.$el.css("padding-top",e.outerHeight()+"px");var i=l(window).scrollTop()-t.$el.offset().top;"fixed"===l("#wpadminbar").css("position")&&(i+=l("#wpadminbar").outerHeight());var s=0,o=t.$el.outerHeight()-e.outerHeight()+20;i>s&&i<o?"fixed"!==e.css("position")&&e.css({top:l("#wpadminbar").outerHeight(),left:t.$el.offset().left+"px",width:t.$el.outerWidth()+"px",position:"fixed"}):e.css({top:Math.min(Math.max(i,0),t.$el.outerHeight()-e.outerHeight()+20)+"px",left:0,width:"100%",position:"absolute"}),t.$el.css("padding-top",e.outerHeight()+"px")};return this.on("builder\_resize",s,this),l(document).on("scroll",s),s(),this.trigger("builder\_attached\_to\_editor"),this},displayAttachedBuilder:function(e){if((e=\_.extend({confirm:!0},e)).confirm){var t="undefined"!=typeof tinyMCE&&tinyMCE.get("content");if(""!==(t&&\_.isFunction(t.getContent)?t.getContent():l("textarea#content").val())&&!confirm(panelsOptions.loc.confirm\_use\_builder))return!1}return l("#wp-content-wrap").hide(),l("#editor-expand-toggle").on("change.editor-expand",(function(){l(this).prop("checked")||l("#wp-content-wrap").hide()})),this.metabox.show().find("> .inside").show(),l(window).trigger("resize"),l(document).trigger("scroll"),this.attachedVisible=!0,this.trigger("display\_builder"),!0},initSortable:function(){if(!this.supports("moveRow"))return this;var e=this,t=e.$el.attr("id");return!l("body").hasClass("wp-customizer")&&l("body").attr("class").match(/version-([0-9-]+)/)[0].replace(/\D/g,"")<59&&(wpVersion="#wpwrap"),this.rowsSortable=this.$(".so-rows-container:not(.sow-row-color)").sortable({appendTo:"parent",items:".so-row-container",handle:".so-row-move",connectWith:"#"+t+".so-rows-container,.block-editor .so-rows-container",axis:"y",tolerance:"pointer",scroll:!1,remove:function(t,i){e.model.get("rows").remove(l(i.item).data("view").model,{silent:!0}),e.model.refreshPanelsData()},receive:function(t,i){e.model.get("rows").add(l(i.item).data("view").model,{silent:!0,at:l(i.item).index()}),e.model.refreshPanelsData()},stop:function(t,i){var s=l(i.item),o=s.data("view"),n=e.model.get("rows");n.get(o.model)&&(e.addHistoryEntry("row\_moved"),n.remove(o.model,{silent:!0}),n.add(o.model,{silent:!0,at:s.index()}),o.trigger("move",s.index()),e.model.refreshPanelsData())}}),this},refreshSortable:function(){\_.isNull(this.rowsSortable)||this.rowsSortable.sortable("refresh")},setDataField:function(e,t){if(t=\_.extend({load:!0},t),this.dataField=e,this.dataField.data("builder",this),t.load&&""!==e.val()){var i=this.dataField.val();try{i=JSON.parse(i)}catch(e){console.log("Failed to parse Page Builder layout data from supplied data field."),i={}}this.setData(i)}return this},setData:function(e){this.model.loadPanelsData(e),this.currentData=e,this.toggleWelcomeDisplay()},getData:function(){return this.model.get("data")},storeModelData:function(){var e=JSON.stringify(this.model.get("data"));l(this.dataField).val()!==e&&(l(this.dataField).val(e),l(this.dataField).trigger("change"),this.trigger("content\_change"))},onAddRow:function(e,t,i){i=\_.extend({noAnimate:!1},i);var l=new s.view.row({model:e});l.builder=this,l.render(),\_.isUndefined(i.at)||t.length<=1?l.$el.appendTo(this.$(".so-rows-container")):l.$el.insertAfter(this.$(".so-rows-container .so-row-container").eq(i.at-1)),!1===i.noAnimate&&l.visualCreate(),this.refreshSortable(),l.resizeRow(),this.trigger("row\_added")},displayAddWidgetDialog:function(){this.dialogs.widgets.openDialog()},displayAddRowDialog:function(){var e=new s.model.row,t=new s.collection.cells(panelsOptions.default\_columns);t.each((function(t){t.row=e})),e.set("cells",t),e.builder=this.model,this.dialogs.row.setRowModel(e),this.dialogs.row.openDialog()},displayAddPrebuiltDialog:function(){this.dialogs.prebuilt.openDialog()},displayHistoryDialog:function(){this.dialogs.history.openDialog()},pasteRowHandler:function(){var e=s.helpers.clipboard.getModel("row-model");!\_.isEmpty(e)&&e instanceof s.model.row&&(this.addHistoryEntry("row\_pasted"),e.builder=this.model,this.model.get("rows").add(e,{at:this.model.get("rows").indexOf(this.model)+1}),this.model.refreshPanelsData())},getActiveCell:function(e){if(e=\_.extend({createCell:!0},e),!this.model.get("rows").length){if(!e.createCell)return null;this.model.addRow({},[{weight:1}],{noAnimate:!0})}var t=this.activeCell;return \_.isEmpty(t)||-1===this.model.get("rows").indexOf(t.model.row)?this.model.get("rows").last().get("cells").first():t.model},addLiveEditor:function(){if(\_.isEmpty(this.config.editorPreview))return this;if(this.liveEditor=new s.view.liveEditor({builder:this,previewUrl:this.config.editorPreview}),this.liveEditor.hasPreviewUrl()){var e=!1;if(!s.helpers.editor.isBlockEditor()||l(".widgets-php").length)e=!0;else if("auto-draft"!=wp.data.select("core/editor").getEditedPostAttribute("status"))e=!0;else{l(".editor-post-save-draft").trigger("click");var t=setInterval(function(){wp.data.select("core/editor").isSavingPost()||wp.data.select("core/editor").isAutosavingPost()||!wp.data.select("core/editor").didPostSaveRequestSucceed()||(clearInterval(t),this.$(".so-builder-toolbar .so-live-editor").show())}.bind(this),250)}e&&this.$(".so-builder-toolbar .so-live-editor").show()}return this.trigger("builder\_live\_editor\_added"),this},displayLiveEditor:function(){\_.isUndefined(this.liveEditor)||this.liveEditor.open()},addHistoryBrowser:function(){if(\_.isEmpty(this.config.editorPreview))return this;this.dialogs.history=new s.dialog.history,this.dialogs.history.builder=this,this.dialogs.history.entries.builder=this.model,this.dialogs.history.setRevertEntry(this.model),this.$(".so-builder-toolbar .so-history").show()},addHistoryEntry:function(e,t){\_.isUndefined(t)&&(t=null),\_.isUndefined(this.dialogs.history)||this.dialogs.history.entries.addEntry(e,t)},supports:function(e){return"rowAction"===e?this.supports("addRow")||this.supports("editRow")||this.supports("deleteRow"):"widgetAction"===e?this.supports("addWidget")||this.supports("editWidget")||this.supports("deleteWidget"):!\_.isUndefined(this.config.builderSupports[e])&&this.config.builderSupports[e]},handleContentChange:function(){if(panelsOptions.copy\_content&&(s.helpers.editor.isBlockEditor()||s.helpers.editor.isClassicEditor(this))){var e=this.model.getPanelsData();\_.isEmpty(e.widgets)||l.post(panelsOptions.ajaxurl,{action:"so\_panels\_builder\_content\_json",panels\_data:JSON.stringify(e),post\_id:this.config.postId},function(e){this.contentPreview&&""!==e.post\_content&&this.initialContentPreviewSetup&&this.updateEditorContent(e.post\_content),""!==e.preview&&(this.contentPreview=e.preview,this.initialContentPreviewSetup=!0)}.bind(this))}},updateEditorContent:function(e){if("tinyMCE"!==this.config.editorType||"undefined"==typeof tinyMCE||\_.isNull(tinyMCE.get("content"))){l(this.config.editorId).val(e).trigger("change").trigger("keyup")}else{var t=tinyMCE.get("content");t.setContent(e),t.fire("change"),t.fire("keyup")}this.triggerSeoChange()},triggerSeoChange:function(){"undefined"==typeof YoastSEO||\_.isNull(YoastSEO)||\_.isNull(YoastSEO.app.refresh)||YoastSEO.app.refresh(),"undefined"==typeof rankMathEditor||\_.isNull(rankMathEditor)||\_.isNull(rankMathEditor.refresh)||rankMathEditor.refresh("content")},handleDisplayBuilder:function(){var e="undefined"!=typeof tinyMCE&&tinyMCE.get("content"),t=e&&\_.isFunction(e.getContent)?e.getContent():l("textarea#content").val();if((\_.isEmpty(this.model.get("data"))||\_.isEmpty(this.model.get("data").widgets)&&\_.isEmpty(this.model.get("data").grids))&&""!==t){var i=panelsOptions.text\_widget;if(\_.isEmpty(i))return;this.model.loadPanelsData(this.model.getPanelsDataFromHtml(t,i)),this.model.trigger("change"),this.model.trigger("change:data")}l("#post-status-info").addClass("for-siteorigin-panels")},handleHideBuilder:function(){l("#post-status-info").show().removeClass("for-siteorigin-panels")},wrapEditorExpandAdjust:function(){try{for(var e,t=(l.hasData(window)&&l.\_data(window)).events.scroll,i=0;i<t.length;i++)if("editor-expand"===t[i].namespace){e=t[i],l(window).off("scroll",e.handler),l(window).on("scroll",function(t){this.attachedVisible||e.handler(t)}.bind(this));break}}catch(e){return}},handleBuilderSizing:function(){var e=this.$el.width();return e?(e<575?this.$el.addClass("so-display-narrow"):this.$el.removeClass("so-display-narrow"),this):this},setDialogParents:function(e,t){\_.each(this.dialogs,(function(i,s,l){l[s].setParent(e,t)})),this.on("add\_dialog",(function(i){i.setParent(e,t)}),this)},toggleWelcomeDisplay:function(){this.model.get("rows").isEmpty()?this.$(".so-panels-welcome-message").show():this.$(".so-panels-welcome-message").hide()},activateContextMenu:function(e,t){if(l.contains(this.$el.get(0),e.target)){var i=l([]).add(this.$(".so-panels-welcome-message:visible")).add(this.$(".so-rows-container > .so-row-container")).add(this.$(".so-cells > .cell")).add(this.$(".cell-wrapper > .so-widget")).filter((function(i){return t.isOverEl(l(this),e)})),s=i.last().data("view");void 0!==s&&void 0!==s.buildContextualMenu?s.buildContextualMenu(e,t):i.last().hasClass("so-panels-welcome-message")&&this.buildContextualMenu(e,t)}},buildContextualMenu:function(e,t){var i={};this.supports("addRow")&&(i.add\_row={title:panelsOptions.loc.contextual.add\_row}),s.helpers.clipboard.canCopyPaste()&&s.helpers.clipboard.isModel("row-model")&&this.supports("addRow")&&(i.paste\_row={title:panelsOptions.loc.contextual.row\_paste}),\_.isEmpty(i)||t.addSection("builder-actions",{sectionTitle:panelsOptions.loc.contextual.row\_actions,search:!1},i,function(e){switch(e){case"add\_row":this.displayAddRowDialog();break;case"paste\_row":this.pasteRowHandler()}}.bind(this))}})},{}],26:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-cell").html())),events:{"click .cell-wrapper":"handleCellClick"},row:null,widgetSortable:null,initialize:function(){this.listenTo(this.model.get("widgets"),"add",this.onAddWidget)},render:function(){var e={weight:this.model.get("weight"),totalWeight:this.row.model.get("cells").totalWeight()};this.setElement(this.template(e)),this.$el.data("view",this);var t=this;return this.model.get("widgets").each((function(e){var i=new s.view.widget({model:e});i.cell=t,i.render(),i.$el.appendTo(t.$(".widgets-container"))})),this.initSortable(),this.initResizable(),this},initSortable:function(){if(!this.row.builder.supports("moveWidget"))return this;var e=this,t=e.row.builder,i=t.$el.attr("id"),s=t.model;return this.widgetSortable=this.$(".widgets-container").sortable({placeholder:"so-widget-sortable-highlight",connectWith:"#"+i+" .so-cells .cell .widgets-container,.block-editor .so-cells .cell .widgets-container",tolerance:"pointer",scroll:!1,over:function(t,i){e.row.builder.trigger("widget\_sortable\_move")},remove:function(t,i){e.model.get("widgets").remove(l(i.item).data("view").model,{silent:!0}),s.refreshPanelsData()},receive:function(t,i){var o=l(i.item).data("view");o.cell=e;var n=o.model;n.cell=e.model,e.model.get("widgets").add(n,{silent:!0,at:l(i.item).index()}),s.refreshPanelsData()},stop:function(t,i){var o=l(i.item),n=o.data("view"),a=o.closest(".cell").data("view");e.model.get("widgets").get(n.model)&&(e.row.builder.addHistoryEntry("widget\_moved"),n.model.moveToCell(a.model,{},o.index()),n.cell=a,s.refreshPanelsData())},helper:function(e,t){var i=t.clone().css({width:t.outerWidth()+"px","z-index":1e4,position:"fixed"}).addClass("widget-being-dragged").appendTo("body");return t.outerWidth()>720&&i.animate({"margin-left":e.pageX-t.offset().left-240,width:480},"fast"),i}}),this},refreshSortable:function(){\_.isNull(this.widgetSortable)||this.widgetSortable.sortable("refresh")},initResizable:function(){if(!this.row.builder.supports("editRow"))return this;var e,t=this.$(".resize-handle").css("position","absolute"),i=this.row.$el,s=this;return t.draggable({axis:"x",containment:i,start:function(t,i){if(e=s.$el.prev().data("view"),!\_.isUndefined(e)){var o=s.$el.clone().appendTo(i.helper).css({position:"absolute",top:"0",width:s.$el.outerWidth(),left:5,height:s.$el.outerHeight()});o.find(".resize-handle").remove();var n=e.$el.clone().appendTo(i.helper).css({position:"absolute",top:"0",width:e.$el.outerWidth()+"px",right:5,height:e.$el.outerHeight()+"px"});n.find(".resize-handle").remove(),l(this).data({newCellClone:o,prevCellClone:n})}},drag:function(i,o){var n=s.row.$el.width()+10,a=s.model.get("weight")-(o.position.left+t.outerWidth()/2)/n,r=e.model.get("weight")+(o.position.left+t.outerWidth()/2)/n;l(this).data("newCellClone").css("width",n\*a+"px").find(".preview-cell-weight").html(Math.round(1e3\*a)/10),l(this).data("prevCellClone").css("width",n\*r+"px").find(".preview-cell-weight").html(Math.round(1e3\*r)/10)},stop:function(i,o){l(this).data("newCellClone").remove(),l(this).data("prevCellClone").remove();var n=s.row.$el.width()+10,a=s.model.get("weight")-(o.position.left+t.outerWidth()/2)/n,r=e.model.get("weight")+(o.position.left+t.outerWidth()/2)/n;a>.02&&r>.02&&(s.row.builder.addHistoryEntry("cell\_resized"),s.model.set("weight",a),e.model.set("weight",r),s.row.resizeRow()),o.helper.css("left",-t.outerWidth()/2+"px"),s.row.builder.model.refreshPanelsData()}}),this},onAddWidget:function(e,t,i){i=\_.extend({noAnimate:!1},i);var l=new s.view.widget({model:e});l.cell=this,\_.isUndefined(e.isDuplicate)&&(e.isDuplicate=!1),l.render({loadForm:e.isDuplicate}),\_.isUndefined(i.at)||t.length<=1?l.$el.appendTo(this.$(".widgets-container")):l.$el.insertAfter(this.$(".widgets-container .so-widget").eq(i.at-1)),!1===i.noAnimate&&l.visualCreate(),this.refreshSortable(),this.row.resizeRow(),this.row.builder.trigger("widget\_added",l)},handleCellClick:function(e){this.row.builder.$el.find(".so-cells .cell").removeClass("cell-selected"),this.row.builder.activeCell!==this||this.model.get("widgets").length?(this.$el.addClass("cell-selected"),this.row.builder.activeCell=this):this.row.builder.activeCell=null},pasteHandler:function(){var e=s.helpers.clipboard.getModel("widget-model");!\_.isEmpty(e)&&e instanceof s.model.widget&&(this.row.builder.addHistoryEntry("widget\_pasted"),e.cell=this.model,this.model.get("widgets").add(e),this.row.builder.model.refreshPanelsData())},buildContextualMenu:function(e,t){var i=this;t.hasSection("add-widget-below")||t.addSection("add-widget-cell",{sectionTitle:panelsOptions.loc.contextual.add\_widget\_cell,searchPlaceholder:panelsOptions.loc.contextual.search\_widgets,defaultDisplay:panelsOptions.contextual.default\_widgets},panelsOptions.widgets,(function(e){i.row.builder.trigger("before\_user\_adds\_widget"),i.row.builder.addHistoryEntry("widget\_added");var t=new s.model.widget({class:e});t.cell=i.model,t.cell.get("widgets").add(t),i.row.builder.model.refreshPanelsData(),i.row.builder.trigger("after\_user\_adds\_widget",t)}));var l={};this.row.builder.supports("addWidget")&&s.helpers.clipboard.isModel("widget-model")&&(l.paste={title:panelsOptions.loc.contextual.cell\_paste\_widget}),\_.isEmpty(l)||t.addSection("cell-actions",{sectionTitle:panelsOptions.loc.contextual.cell\_actions,search:!1},l,function(e){switch(e){case"paste":this.pasteHandler()}this.row.builder.model.refreshPanelsData()}.bind(this)),this.row.buildContextualMenu(e,t)}})},{}],27:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({dialogTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-dialog").html())),dialogTabTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-dialog-tab").html())),tabbed:!1,rendered:!1,builder:!1,className:"so-panels-dialog-wrapper",dialogClass:"",dialogIcon:"",parentDialog:!1,dialogOpen:!1,editableLabel:!1,events:{"click .so-close":"closeDialog","keyup .so-close":function(e){s.helpers.accessibility.triggerClickOnEnter(e)},"click .so-nav.so-previous":"navToPrevious","keyup .so-nav.so-previous":function(e){s.helpers.accessibility.triggerClickOnEnter(e)},"click .so-nav.so-next":"navToNext","keyup .so-nav.so-next":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(){this.once("open\_dialog",this.render),this.once("open\_dialog",this.attach),this.once("open\_dialog",this.setDialogClass),this.trigger("initialize\_dialog",this),\_.isUndefined(this.initializeDialog)||this.initializeDialog(),\_.bindAll(this,"initSidebars","hasSidebar","onResize","toggleLeftSideBar","toggleRightSideBar")},getNextDialog:function(){return null},getPrevDialog:function(){return null},setDialogClass:function(){""!==this.dialogClass&&this.$(".so-panels-dialog").addClass(this.dialogClass)},setBuilder:function(e){return this.builder=e,e.trigger("add\_dialog",this,this.builder),this},attach:function(){return this.$el.appendTo("body"),this},parseDialogContent:function(e,t){t=\_.extend({cid:this.cid},t);var i=l(\_.template(s.helpers.utils.processTemplate(e))(t)),o={title:i.find(".title").html(),buttons:i.find(".buttons").html(),content:i.find(".content").html()};return i.has(".left-sidebar")&&(o.left\_sidebar=i.find(".left-sidebar").html()),i.has(".right-sidebar")&&(o.right\_sidebar=i.find(".right-sidebar").html()),o},renderDialog:function(e){if(e=\_.extend({editableLabel:this.editableLabel,dialogIcon:this.dialogIcon},e),this.$el.html(this.dialogTemplate(e)).hide(),this.$el.data("view",this),this.$el.addClass("so-panels-dialog-wrapper"),!1!==this.parentDialog){var t=l('<h3 class="so-parent-link"></h3>').html(this.parentDialog.text+'<div class="so-separator"></div>');t.on("click",function(e){e.preventDefault(),this.closeDialog(),this.parentDialog.dialog.openDialog()}.bind(this)),this.$(".so-title-bar .so-title").before(t)}return this.$(".so-title-bar .so-title-editable").length&&this.initEditableLabel(),setTimeout(this.initSidebars,1),this},initSidebars:function(){var e=this.$(".so-show-left-sidebar").hide(),t=this.$(".so-show-right-sidebar").hide(),i=this.hasSidebar("left"),s=this.hasSidebar("right");(i||s)&&(l(window).on("resize",this.onResize),i&&(e.show(),e.on("click",this.toggleLeftSideBar)),s&&(t.show(),t.on("click",this.toggleRightSideBar))),this.onResize()},initTabs:function(){var e=this.$(".so-sidebar-tabs li a");if(0===e.length)return this;var t=this;return e.on("click",(function(e){e.preventDefault();var i=l(this);t.$(".so-sidebar-tabs li").removeClass("tab-active"),t.$(".so-content .so-content-tabs > \*").hide(),i.parent().addClass("tab-active");var s=i.attr("href");if(!\_.isUndefined(s)&&"#"===s.charAt(0)){var o=s.split("#")[1];t.$(".so-content .so-content-tabs .tab-"+o).show()}t.trigger("tab\_click",i)})),this.$(".so-sidebar-tabs li a").first().trigger("click"),this},initToolbar:function(){this.$(".so-toolbar .so-buttons .so-toolbar-button").on("click keyup",function(e){e.preventDefault(),"keyup"==e.type&&13!=e.which||this.trigger("button\_click",l(e.currentTarget))}.bind(this)),this.$(".so-toolbar .so-buttons .so-dropdown-button").on("click",function(e){e.preventDefault();var t=l(e.currentTarget).siblings(".so-dropdown-links-wrapper");t.is(".hidden")?t.removeClass("hidden"):t.addClass("hidden")}.bind(this)),l("html").on("click",function(e){this.$(".so-dropdown-links-wrapper").not(".hidden").each((function(t,i){var s=l(i),o=l(e.target);0!==o.length&&(o.is(".so-needs-confirm")&&!o.is(".so-confirmed")||o.is(".so-dropdown-button"))||s.addClass("hidden")}))}.bind(this))},initEditableLabel:function(){var e=this.$(".so-title-bar .so-title-editable");e.on("keypress",(function(t){var i="keypress"===t.type&&13===t.keyCode;if(i){var s=l(":tabbable"),o=s.index(e);s.eq(o+1).trigger("focus"),window.getSelection().removeAllRanges()}return!i})).on("blur",function(){var t=e.text().replace(/^\s+|\s+$/gm,"");t!==e.data("original-value").replace(/^\s+|\s+$/gm,"")&&(e.text(t),this.trigger("edit\_label",t))}.bind(this)).on("focus",(function(){e.data("original-value",e.text()),s.helpers.utils.selectElementContents(this)}))},setupDialog:function(){this.openDialog(),this.closeDialog()},refreshDialogNav:function(){this.$(".so-title-bar .so-nav").show().removeClass("so-disabled");var e=this.getNextDialog(),t=this.$(".so-title-bar .so-next"),i=this.getPrevDialog(),s=this.$(".so-title-bar .so-previous");null===e?t.hide():!1===e?(t.addClass("so-disabled"),t.attr("tabindex",-1)):t.attr("tabindex",0),null===i?s.hide():!1===i?(s.addClass("so-disabled"),s.attr("tabindex",-1)):s.attr("tabindex",0)},openDialog:function(e){(e=\_.extend({silent:!1},e)).silent||this.trigger("open\_dialog"),this.dialogOpen=!0,this.refreshDialogNav(),s.helpers.pageScroll.lock(),this.onResize(),"string"==typeof window.panelsMode&&("inline"==window.panelsMode?(this.$(".so-toolbar .so-close, .so-toolbar .so-save").hide(),this.$(".so-toolbar .so-saveinline").show().addClass("so-active-mode")):(this.$(".so-toolbar .so-saveinline").hide(),this.$(".so-toolbar .so-close, .so-toolbar .so-save").show().addClass("so-active-mode"))),this.$el.show(),e.silent||(this.trigger("open\_dialog\_complete"),this.builder.trigger("open\_dialog",this),l(document).trigger("open\_dialog",this))},closeDialog:function(e){if(e=\_.extend({silent:!1},e),"object"==typeof this.widgetView){var t=this.getFormValues();if("object"==typeof t.widgets&&(validSave=l(document).triggerHandler("close\_dialog\_validation",[t.widgets[this.model.cid],this.model.attributes.class,this.model.cid,this])),"boolean"==typeof validSave&&!validSave)return!1}e.silent||this.trigger("close\_dialog"),this.dialogOpen=!1,this.$el.hide(),s.helpers.pageScroll.unlock(),e.silent||(this.trigger("close\_dialog\_complete"),this.builder.trigger("close\_dialog",this))},navToPrevious:function(){this.closeDialog();var e=this.getPrevDialog();null!==e&&!1!==e&&e.openDialog()},navToNext:function(){this.closeDialog();var e=this.getNextDialog();null!==e&&!1!==e&&e.openDialog()},getFormValues:function(e){\_.isUndefined(e)&&(e=".so-content");var t,i=this.$(e),s={};return i.find("[name]").each((function(){var e=l(this);try{var i=/([A-Za-z\_]+)\[(.\*)\]/.exec(e.attr("name"));if(\_.isEmpty(i))return!0;\_.isUndefined(i[2])?t=e.attr("name"):(t=i[2].split("][")).unshift(i[1]),t=t.map((function(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e):e}));var o=s,n=null,a=!!\_.isString(e.attr("type"))&&e.attr("type").toLowerCase();if("checkbox"===a)n=e.is(":checked")?""===e.val()||e.val():null;else if("radio"===a){if(!e.is(":checked"))return;n=e.val()}else if("SELECT"===e.prop("tagName")){var r=e.find("option:selected");1===r.length?n=e.find("option:selected").val():r.length>1&&(n=\_.map(e.find("option:selected"),(function(e,t){return l(e).val()})))}else n=e.val();if(!\_.isUndefined(e.data("panels-filter")))switch(e.data("panels-filter")){case"json\_parse":try{n=JSON.parse(n)}catch(e){n=""}}if(e.parents(".acf-repeater").length||e.parents(".acf-field-checkbox").length){if(""==n)return;t.slice(t[2],t.length)}if(null!==n)for(var d=0;d<t.length;d++)d===t.length-1?""===t[d]?o.push(n):o[t[d]]=n:(\_.isUndefined(o[t[d]])&&(""===t[d+1]?o[t[d]]=[]:o[t[d]]={}),o=o[t[d]])}catch(t){console.log("Field ["+e.attr("name")+"] could not be processed and was skipped - "+t.message)}})),s},setStatusMessage:function(e,t,i){var s=i?'<span class="dashicons dashicons-warning"></span>'+e:e;this.$(".so-toolbar .so-status").html(s),!\_.isUndefined(t)&&t?this.$(".so-toolbar .so-status").addClass("so-panels-loading"):this.$(".so-toolbar .so-status").removeClass("so-panels-loading")},setParent:function(e,t){this.parentDialog={text:e,dialog:t}},onResize:function(){var e=window.matchMedia("(max-width: 980px)");["left","right"].forEach(function(t){var i=this.$(".so-"+t+"-sidebar"),s=this.$(".so-show-"+t+"-sidebar");this.hasSidebar(t)?(s.hide(),e.matches?(s.show(),s.closest(".so-title-bar").addClass("so-has-"+t+"-button"),i.hide(),i.closest(".so-panels-dialog").removeClass("so-panels-dialog-has-"+t+"-sidebar")):(s.hide(),s.closest(".so-title-bar").removeClass("so-has-"+t+"-button"),i.show(),i.closest(".so-panels-dialog").addClass("so-panels-dialog-has-"+t+"-sidebar"))):(i.hide(),s.hide())}.bind(this))},hasSidebar:function(e){return this.$(".so-"+e+"-sidebar").children().length>0},toggleLeftSideBar:function(){this.toggleSidebar("left")},toggleRightSideBar:function(){this.toggleSidebar("right")},toggleSidebar:function(e){var t=this.$(".so-"+e+"-sidebar");t.is(":visible")?t.hide():t.show()}})},{}],28:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-live-editor").html())),previewScrollTop:0,loadTimes:[],previewFrameId:1,previewUrl:null,previewIframe:null,events:{"click .live-editor-close":"close","click .live-editor-save":"closeAndSave","click .live-editor-collapse":"collapse","click .live-editor-mode":"mobileToggle","keyup .live-editor-mode":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(e){e=\_.extend({builder:!1,previewUrl:!1},e),\_.isEmpty(e.previewUrl)&&(e.previewUrl=panelsOptions.ajaxurl+"&action=so\_panels\_live\_editor\_preview"),this.builder=e.builder,this.previewUrl=e.previewUrl,this.listenTo(this.builder.model,"refresh\_panels\_data",this.handleRefreshData),this.listenTo(this.builder.model,"load\_panels\_data",this.handleLoadData)},render:function(){if(this.setElement(this.template()),this.$el.hide(),l("#submitdiv #save-post").length>0){var e=this.$el.find(".live-editor-save");e.text(e.data("save"))}var t=!1;l(document).on("mousedown",(function(){t=!0})).on("mouseup",(function(){t=!1}));var i=this;return this.$el.on("mouseenter focusin",".so-widget",(function(){var e=l(this).data("live-editor-preview-widget");t||void 0===e||!e.length||i.$(".so-preview-overlay").is(":visible")||(i.highlightElement(e),i.scrollToElement(e))})),this.$el.on("mouseleave focusout",".so-widget",function(){this.resetHighlights()}.bind(this)),this.listenTo(this.builder,"open\_dialog",(function(){this.resetHighlights()})),this},attach:function(){this.$el.appendTo("body")},open:function(){if(""===this.$el.html()&&this.render(),0===this.$el.closest("body").length&&this.attach(),s.helpers.pageScroll.lock(),this.$el.is(":visible"))return this;if(this.$el.show(),this.refreshPreview(this.builder.model.getPanelsData()),l(".live-editor-close").trigger("focus"),this.originalContainer=this.builder.$el.parent(),this.builder.$el.appendTo(this.$(".so-live-editor-builder")),this.builder.$(".so-tool-button.so-live-editor").hide(),this.builder.trigger("builder\_resize"),"auto-draft"===l("#original\_post\_status").val()&&!this.autoSaved){var e=this;wp.autosave&&(""===l('#title[name="post\_title"]').val()&&l('#title[name="post\_title"]').val(panelsOptions.loc.draft).trigger("keydown"),l(document).one("heartbeat-tick.autosave",(function(){e.autoSaved=!0,e.refreshPreview(e.builder.model.getPanelsData())})),wp.autosave.server.triggerSave())}},close:function(e=!0){return this.$el.is(":visible")?e&&this.builder.config.liveEditorCloseAfter?(l("#wp-admin-bar-view a")[0].click(),this):(this.$el.hide(),s.helpers.pageScroll.unlock(),this.builder.$el.appendTo(this.originalContainer),this.builder.$(".so-tool-button.so-live-editor").show(),void this.builder.trigger("builder\_resize")):this},closeAndSave:function(){this.close(!1),l('#submitdiv input[type="submit"][name="save"], .editor-post-publish-button, .edit-widgets-header\_\_actions .is-primary')[0].click()},collapse:function(){this.$el.toggleClass("so-collapsed")},highlightElement:function(e){\_.isUndefined(this.resetHighlightTimeout)||clearTimeout(this.resetHighlightTimeout),this.previewIframe.contents().find("body").find(".panel-grid .panel-grid-cell .so-panel").filter((function(){return 0===l(this).parents(".so-panel").length})).not(e).addClass("so-panels-faded"),e.removeClass("so-panels-faded").addClass("so-panels-highlighted")},resetHighlights:function(){var e=this.previewIframe.contents().find("body");this.resetHighlightTimeout=setTimeout((function(){e.find(".panel-grid .panel-grid-cell .so-panel").removeClass("so-panels-faded so-panels-highlighted")}),100)},scrollToElement:function(e){this.$(".so-preview iframe")[0].contentWindow.liveEditorScrollTo(e)},handleRefreshData:function(e){if(!this.$el.is(":visible"))return this;this.refreshPreview(e)},handleLoadData:function(){if(!this.$el.is(":visible"))return this;this.refreshPreview(this.builder.model.getPanelsData())},refreshPreview:function(e){var t=this.loadTimes.length?\_.reduce(this.loadTimes,(function(e,t){return e+t}),0)/this.loadTimes.length:1e3;\_.isNull(this.previewIframe)||this.$(".so-preview-overlay").is(":visible")||(this.previewScrollTop=this.previewIframe.contents().scrollTop()),this.$(".so-preview-overlay").show(),this.$(".so-preview-overlay .so-loading-bar").clearQueue().css("width","0%").animate({width:"100%"},parseInt(t)+100),this.postToIframe({live\_editor\_panels\_data:JSON.stringify(e),live\_editor\_post\_ID:this.builder.config.postId},this.previewUrl,this.$(".so-preview")),this.previewIframe.data("load-start",(new Date).getTime())},postToIframe:function(e,t,i){\_.isNull(this.previewIframe)||this.previewIframe.remove();var s="siteorigin-panels-live-preview-"+this.previewFrameId;this.previewIframe=l('<iframe src="'+t+'"></iframe>').attr({id:s,name:s}).appendTo(i),this.setupPreviewFrame(this.previewIframe);var o=l('<form id="soPostToPreviewFrame" method="post"></form>').attr({id:s,target:this.previewIframe.attr("id"),action:t}).appendTo("body");return l.each(e,(function(e,t){l('<input type="hidden" />').attr({name:e,value:t}).appendTo(o)})),o.trigger("submit").remove(),this.previewFrameId++,this.previewIframe},setupPreviewFrame:function(e){var t=this;e.data("iframeready",!1).on("iframeready",(function(){var e=l(this),i=e.contents();if(!e.data("iframeready")){e.data("iframeready",!0),void 0!==e.data("load-start")&&(t.loadTimes.unshift((new Date).getTime()-e.data("load-start")),\_.isEmpty(t.loadTimes)||(t.loadTimes=t.loadTimes.slice(0,4))),l(".live-editor-mode.so-active").length&&(l(".so-panels-live-editor .so-preview iframe").css("transition","none"),t.mobileToggle()),setTimeout((function(){i.scrollTop(t.previewScrollTop),t.$(".so-preview-overlay").hide(),l(".so-panels-live-editor .so-preview iframe").css("transition","all .2s ease")}),100);var s=i.find("#pl-"+t.builder.config.postId);s.find(".panel-grid .panel-grid-cell .so-panel").filter((function(){return l(this).closest(".panel-layout").is(s)})).each((function(e,i){var s=l(i),o=t.$(".so-live-editor-builder .so-widget").eq(s.data("index"));o.data("live-editor-preview-widget",s),s.css({cursor:"pointer"}).on("mouseenter",(function(){o.parent().addClass("so-hovered"),t.highlightElement(s)})).on("mouseleave",(function(){o.parent().removeClass("so-hovered"),t.resetHighlights()})).on("click",(function(e){e.preventDefault(),o.find(".title h4").trigger("click")}))})),i.find("a").css({"pointer-events":"none"}).on("click",(function(e){e.preventDefault()}))}})).on("load",(function(){var e=l(this);e.data("iframeready")||e.trigger("iframeready")}))},hasPreviewUrl:function(){return""!==this.$("form.live-editor-form").attr("action")},mobileToggle:function(e){var t=l(void 0!==e?e.currentTarget:".live-editor-mode.so-active");this.$(".live-editor-mode").not(t).removeClass("so-active"),t.addClass("so-active"),this.$el.removeClass("live-editor-desktop-mode live-editor-tablet-mode live-editor-mobile-mode").addClass("live-editor-"+t.data("mode")+"-mode").find("iframe").css("width",t.data("width"))}})},{}],29:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-row").html())),events:{"click .so-row-settings":"editSettingsHandler","click .so-row-duplicate":"duplicateHandler","click .so-row-delete":"confirmedDeleteHandler","click .so-row-color":"rowColorChangeHandler"},builder:null,dialog:null,initialize:function(){var e=this.model.get("cells");this.listenTo(e,"add",this.handleCellAdd),this.listenTo(e,"remove",this.handleCellRemove),this.listenTo(this.model,"reweight\_cells",this.resizeRow),this.listenTo(this.model,"destroy",this.onModelDestroy);var t=this;e.each((function(e){t.listenTo(e.get("widgets"),"add",t.resize)})),e.on("add",(function(e){t.listenTo(e.get("widgets"),"add",t.resize)}),this),this.listenTo(this.model,"change:label",this.onLabelChange),this.listenTo(this.model,"change:styles-row ",this.toggleVisibilityFade)},render:function(){var e=this.model.has("color\_label")?this.model.get("color\_label"):panelsOptions.row\_color.default,t=this.model.has("label")?this.model.get("label"):"";"number"==typeof e&&"string"==typeof panelsOptions.row\_color.migrations[e]&&(this.$el.removeClass("so-row-color-"+e),e=panelsOptions.row\_color.migrations[e],this.$el.addClass("so-row-color-"+e),this.model.set("color\_label",e)),this.setElement(this.template({rowColorLabel:e,rowLabel:t})),this.$el.data("view",this);var i=this;return this.model.get("cells").each((function(e){var t=new s.view.cell({model:e});t.row=i,t.render(),t.$el.appendTo(i.$(".so-cells"))})),this.builder.supports("rowAction")?(this.builder.supports("editRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-settings").parent().remove(),this.$el.addClass("so-row-no-edit")),this.builder.supports("addRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-duplicate").parent().remove(),this.$el.addClass("so-row-no-duplicate")),this.builder.supports("deleteRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-delete").parent().remove(),this.$el.addClass("so-row-no-delete"))):(this.$(".so-row-toolbar .so-dropdown-wrapper").remove(),this.$el.addClass("so-row-no-actions")),this.builder.supports("moveRow")||(this.$(".so-row-toolbar .so-row-move").remove(),this.$el.addClass("so-row-no-move")),this.$(".so-row-toolbar").html().trim().length||this.$(".so-row-toolbar").remove(),this.toggleVisibilityFade(),this.listenTo(this.builder,"widget\_sortable\_move",this.resizeRow),this.listenTo(this.builder,"builder\_resize",this.resizeRow),this.resizeRow(),this},checkIfStyleExists:function(e,t){return void 0!==e[t]&&"on"==e[t]},toggleVisibilityFade:function(){var e=this.model.attributes.style;void 0!==e&&(this.checkIfStyleExists(e,"disable\_row")||this.checkIfStyleExists(e,"disable\_desktop")||this.checkIfStyleExists(e,"disable\_tablet")||this.checkIfStyleExists(e,"disable\_mobile")||this.checkIfStyleExists(e,"disable\_logged\_in")||this.checkIfStyleExists(e,"disable\_logged\_out")?this.$el.addClass("so-hidden-row"):this.$el.removeClass("so-hidden-row"))},visualCreate:function(){this.$el.hide().fadeIn("fast")},resizeRow:function(e){if(this.$el.is(":visible")){this.$(".so-cells .cell-wrapper").css("min-height",0),this.$(".so-cells .resize-handle").css("height",0),this.$(".so-cells").removeClass("so-action-icons");var t,i=0,s=0,o=!1;this.$(".so-cells .cell").each((function(){t=l(this),l(this).css("width",100\*t.data("view").model.get("weight")+"%"),(s=t.width())<215?(t.addClass("so-show-icon"),o=!0,s<125?t.addClass("so-small-actions"):t.removeClass("so-small-actions")):t.removeClass("so-show-icon so-small-actions"),i=Math.max(i,t.height())})),this.$(".so-cells .cell-wrapper").css("min-height",Math.max(i,63)+"px"),o&&this.$(".so-cells").addClass("so-action-icons"),this.$(".so-cells .resize-handle").css("height",this.$(".so-cells .cell-wrapper").outerHeight()+"px")}},onModelDestroy:function(){this.remove()},visualDestroyModel:function(){this.builder.addHistoryEntry("row\_deleted");var e=this;this.$el.fadeOut("normal",(function(){e.model.destroy(),e.builder.model.refreshPanelsData()}))},onLabelChange:function(e,t){0==this.$(".so-row-label").length?this.$(".so-row-toolbar").prepend('<h3 class="so-row-label">'+t+"</h3>"):this.$(".so-row-label").text(t)},duplicateHandler:function(){this.builder.addHistoryEntry("row\_duplicated");var e=this.model.clone(this.builder.model);this.builder.model.get("rows").add(e,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData()},copyHandler:function(){s.helpers.clipboard.setModel(this.model)},pasteHandler:function(){var e=s.helpers.clipboard.getModel("row-model");!\_.isEmpty(e)&&e instanceof s.model.row&&(this.builder.addHistoryEntry("row\_pasted"),e.builder=this.builder.model,this.builder.model.get("rows").add(e,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData())},confirmedDeleteHandler:function(e){var t=l(e.target);if(t.hasClass("dashicons")&&(t=t.parent()),t.hasClass("so-confirmed"))this.visualDestroyModel();else{var i=t.html();t.addClass("so-confirmed").html('<span class="dashicons dashicons-yes"></span>'+panelsOptions.loc.dropdown\_confirm),setTimeout((function(){t.removeClass("so-confirmed").html(i)}),2500)}},editSettingsHandler:function(){if(this.builder.supports("editRow"))return null===this.dialog&&(this.dialog=new s.dialog.row,this.dialog.setBuilder(this.builder).setRowModel(this.model),this.dialog.rowView=this),this.dialog.openDialog(),this},deleteHandler:function(){return this.model.destroy(),this},rowColorChangeHandler:function(e){this.$(".so-row-color").removeClass("so-row-color-selected");var t=l(e.target),i=t.data("color-label"),s=this.model.has("color\_label")?this.model.get("color\_label"):panelsOptions.row\_color.default;t.addClass("so-row-color-selected"),this.$el.removeClass("so-row-color-"+s),this.$el.addClass("so-row-color-"+i),this.model.set("color\_label",i)},handleCellAdd:function(e){var t=new s.view.cell({model:e});t.row=this,t.render(),t.$el.appendTo(this.$(".so-cells"))},handleCellRemove:function(e){this.$(".so-cells > .cell").each((function(){var t=l(this).data("view");\_.isUndefined(t)||t.model.cid===e.cid&&t.remove()}))},buildContextualMenu:function(e,t){for(var i=[],l=1;l<5;l++)i.push({title:l+" "+panelsOptions.loc.contextual.column});this.builder.supports("addRow")&&t.addSection("add-row",{sectionTitle:panelsOptions.loc.contextual.add\_row,search:!1},i,function(e){this.builder.addHistoryEntry("row\_added");for(var t=Number(e)+1,i=[],l=0;l<t;l++)i.push({weight:100/t});var o=new s.model.row({collection:this.collection}),n=new s.collection.cells(i);n.each((function(e){e.row=o})),o.setCells(n),o.builder=this.builder.model,this.builder.model.get("rows").add(o,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData()}.bind(this));var o={};this.builder.supports("editRow")&&(o.edit={title:panelsOptions.loc.contextual.row\_edit}),s.helpers.clipboard.canCopyPaste()&&(o.copy={title:panelsOptions.loc.contextual.row\_copy},this.builder.supports("addRow")&&s.helpers.clipboard.isModel("row-model")&&(o.paste={title:panelsOptions.loc.contextual.row\_paste})),this.builder.supports("addRow")&&(o.duplicate={title:panelsOptions.loc.contextual.row\_duplicate}),this.builder.supports("deleteRow")&&(o.delete={title:panelsOptions.loc.contextual.row\_delete,confirm:!0}),\_.isEmpty(o)||t.addSection("row-actions",{sectionTitle:panelsOptions.loc.contextual.row\_actions,search:!1},o,function(e){switch(e){case"edit":this.editSettingsHandler();break;case"copy":this.copyHandler();break;case"paste":this.pasteHandler();break;case"duplicate":this.duplicateHandler();break;case"delete":this.visualDestroyModel()}}.bind(this))}})},{}],30:[function(e,t,i){window.panels;var s=jQuery;t.exports=Backbone.View.extend({stylesLoaded:!1,events:{"keyup .so-image-selector":function(e){13==e.which&&this.$el.find(".select-image").trigger("click")}},initialize:function(){},render:function(e,t,i){if(!\_.isUndefined(e)){i=\_.extend({builderType:"",dialog:null},i),this.$el.addClass("so-visual-styles so-"+e+"-styles so-panels-loading");var l={builderType:i.builderType};return"widget"===e&&(l.widget=this.model.get("class")),"cell"===e&&(l.index=i.index),s.post(panelsOptions.ajaxurl,{action:"so\_panels\_style\_form",type:e,style:this.model.get("style"),args:JSON.stringify(l),postId:t},null,"html").done(function(e){this.$el.html(e),this.setupFields(),this.stylesLoaded=!0,this.trigger("styles\_loaded",!\_.isEmpty(e)),\_.isNull(i.dialog)||i.dialog.trigger("styles\_loaded",!\_.isEmpty(e))}.bind(this)).fail(function(e){var t;t=e&&e.responseText?e.responseText:panelsOptions.forms.loadingFailed,this.$el.html(t)}.bind(this)).always(function(){this.$el.removeClass("so-panels-loading")}.bind(this)),this}},attach:function(e){e.append(this.$el)},detach:function(){this.$el.detach()},setupFields:function(){if(this.$(".style-section-wrapper").each((function(){var e=s(this);e.find(".style-section-head").on("click keypress",(function(t){t.preventDefault(),e.find(".style-section-fields").slideToggle("fast")}))})),!\_.isUndefined(s.fn.wpColorPicker)){"object"!=typeof panelsOptions.wpColorPickerOptions.palettes||Array.isArray(panelsOptions.wpColorPickerOptions.palettes)||(panelsOptions.wpColorPickerOptions.palettes=s.map(panelsOptions.wpColorPickerOptions.palettes,(function(e){return e}))),s.fn.handleAlphaDefault=function(){var t=s(this).parents(".wp-picker-container"),i=t.find(".wp-color-result");t.find(".wp-color-picker[data-alpha-enabled]").length?i.css("background-image",""==s(this).val()?"none":e):i.css("background-image","none")},panelsOptions.wpColorPickerOptions.change=function(e,t){setTimeout((function(){s(e.target).handleAlphaDefault(),s(e.target).trigger("change")}),100)},this.$(".so-wp-color-field").wpColorPicker(panelsOptions.wpColorPickerOptions);var e=this.$(".wp-color-picker[data-alpha-enabled]").parents(".wp-picker-container").find(".wp-color-result").css("background-image");this.$(".wp-color-picker[data-alpha-enabled]").on("change",(function(){s(this).handleAlphaDefault()})).trigger("change")}this.$(".style-field-image").each((function(){var e=null,t=s(this);t.find(".so-image-selector").on("click",(function(i){i.preventDefault(),null===e&&((e=wp.media({title:panelsOptions.add\_media,library:{type:"image"},button:{text:panelsOptions.add\_media\_done,close:!0}})).on("open",(function(){var i=e.state().get("selection"),s=t.find(".so-image-selector > input").val();s&&i.add(wp.media.attachment(s))})),e.on("select",(function(){var i=e.state().get("selection").first().attributes,s=i.url;if(!\_.isUndefined(i.sizes))try{s=i.sizes.thumbnail.url}catch(e){s=i.sizes.full.url}t.find(".current-image").css("background-image","url("+s+")"),t.find(".so-image-selector > input").val(i.id).trigger("change"),t.find(".remove-image").removeClass("hidden")}))),s(this).next().focus(),e.open()})),t.find(".remove-image").on("click",(function(e){e.preventDefault(),t.find(".current-image").css("background-image","none"),t.find(".so-image-selector > input").val(""),t.find(".remove-image").addClass("hidden")}))})),this.$(".style-field-measurement").each((function(){var e=s(this),t=e.find('input[type="text"]'),i=e.find("select"),l=e.find('input[type="hidden"]');t.on("focus",(function(){s(this).trigger("select")}));!function(e){if(""!==e){var o=/(?:([0-9\.,\-]+)(.\*))+/,n=l.val().split(" "),a=[];for(var r in n){var d=o.exec(n[r]);\_.isNull(d)||\_.isUndefined(d[1])||\_.isUndefined(d[2])||(a.push(d[1]),i.val(d[2]))}1===t.length?t.val(a.join(" ")):(1===a.length?a=[a[0],a[0],a[0],a[0]]:2===a.length?a=[a[0],a[1],a[0],a[1]]:3===a.length&&(a=[a[0],a[1],a[2],a[1]]),t.each((function(e,t){s(t).val(a[e])})))}}(l.val());var o=function(e){if(1===t.length){var o=t.val().split(" ").filter((function(e){return""!==e})).map((function(e){return e+i.val()})).join(" ");l.val(o)}else{var n=s(e.target),a=[],r=[],d=[];t.each((function(e,t){var i=""!==s(t).val()?parseFloat(s(t).val()):null;a.push(i),null===i?r.push(e):d.push(e)})),3===r.length&&d[0]===t.index(n)&&(t.val(n.val()),a=[n.val(),n.val(),n.val(),n.val()]),JSON.stringify(a)===JSON.stringify([null,null,null,null])?l.val(""):l.val(a.map((function(e){return(null===e?0:e)+i.val()})).join(" "))}};t.on("change",o),i.on("change",o)})),this.$(".style-field-toggle").each((function(){const e=s(this),t=e.find(".so-toggle-switch-input"),i=t.next(),l=e.find(".so-toggle-fields"),o=function(){t.prop("checked")?i.attr("aria-checked","true").attr("aria-label",i.data("on")):i.attr("aria-checked","false").attr("aria-label",i.data("off"))};o(),t.on("change",(function(){s(this).prop("checked")?l.slideDown():l.slideUp(),o()})),i.on("keyup",(function(e){if("Enter"==e.key){const e=t.prop("checked");t.prop("checked",!e).trigger("change")}}))})),this.$(".style-field-toggle .so-toggle-switch-input").trigger("change"),this.$(".style-field-slider").each((function(){var e=s(this),t=e.find(".so-wp-input-slider"),i=e.find(".so-wp-value-slider");i.slider({max:parseFloat(t.attr("max")),min:parseFloat(t.attr("min")),step:parseFloat(t.attr("step")),value:parseFloat(t.val()),slide:function(i,s){t.val(parseFloat(s.value)),t.trigger("change"),e.find(".so-wp-slider-value").html(s.value)}}),t.on("change",(function(s,l){l&&l.silent||(i.slider("value",parseFloat(t.val())),e.find(".so-wp-slider-value").html(t.val()))}))}));var t=this.$(".so-field-background\_image\_attachment"),i=this.$(".so-field-background\_display"),l=this.$(".so-field-background\_image\_size");if($background\_image\_opacity=this.$(".so-field-background\_image\_opacity"),t.length&&(i.length||l.length||$background\_image\_opacity.length)){var o=function(){var e=t.find('[name="style[background\_image\_attachment]"]');e.val()&&0!=e.val()||(e=t.find('[name="style[background\_image\_attachment\_fallback]"]')),e.val()&&0!=e.val()?(i.show(),l.show(),$background\_image\_opacity.show()):(i.hide(),l.hide(),$background\_image\_opacity.hide())};o(),t.find('[name="style[background\_image\_attachment]"], [name="style[background\_image\_attachment\_fallback]"]').on("change",o),t.find(".remove-image").on("click",o)}var n=this.$(".so-field-border\_color"),a=this.$(".so-field-border\_thickness");if(n.length&&a.length){var r=function(){n.find(".so-wp-color-field").val()?(a.show(),a.show()):(a.hide(),a.hide())};r(),n.find(".so-wp-color-field").on("change",r),n.find(".wp-picker-clear").on("click",r)}s(document).trigger("setup\_style\_fields",this)}})},{}],31:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-widget").html())),cell:null,dialog:null,events:{"click .widget-edit":"editHandler","touchend .widget-edit":"editHandler","click .title h4":"editHandler","touchend .title h4":"editHandler","click .actions .widget-duplicate":"duplicateHandler","click .actions .widget-delete":"deleteHandler","keyup .actions a":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(){this.listenTo(this.model,"destroy",this.onModelDestroy),this.listenTo(this.model,"change:values",this.onModelChange),this.listenTo(this.model,"change:styles ",this.toggleVisibilityFade),this.listenTo(this.model,"change:label",this.onLabelChange)},render:function(e){if(e=\_.extend({loadForm:!1},e),this.setElement(this.template({title:this.model.getWidgetField("title"),description:this.model.getTitle(),widget\_class:this.model.attributes.class})),this.$el.data("view",this),this.cell.row.builder.supports("editWidget")&&!this.model.get("read\_only")||(this.$(".actions .widget-edit").remove(),this.$el.addClass("so-widget-no-edit")),this.cell.row.builder.supports("addWidget")||(this.$(".actions .widget-duplicate").remove(),this.$el.addClass("so-widget-no-duplicate")),this.cell.row.builder.supports("deleteWidget")||(this.$(".actions .widget-delete").remove(),this.$el.addClass("so-widget-no-delete")),this.cell.row.builder.supports("moveWidget")||this.$el.addClass("so-widget-no-move"),this.$(".actions").html().trim().length||this.$(".actions").remove(),this.model.get("read\_only")&&this.$el.addClass("so-widget-read-only"),0===\_.size(this.model.get("values"))||e.loadForm){var t=this.getEditDialog();t.once("form\_loaded",t.saveWidget,t),t.setupDialog()}return this.toggleVisibilityFade(),this.listenTo(this.cell.row.builder,"after\_user\_adds\_widget",this.afterUserAddsWidgetHandler),this},checkIfStyleExists:function(e,t){return void 0!==e[t]&&"on"==e[t]},toggleVisibilityFade:function(){var e=this.model.attributes.style;void 0!==e&&(this.checkIfStyleExists(e,"disable\_widget")||this.checkIfStyleExists(e,"disable\_desktop")||this.checkIfStyleExists(e,"disable\_tablet")||this.checkIfStyleExists(e,"disable\_mobile")||this.checkIfStyleExists(e,"disable\_logged\_in")||this.checkIfStyleExists(e,"disable\_logged\_out")?this.$el.addClass("so-hidden-widget"):this.$el.removeClass("so-hidden-widget"))},visualCreate:function(){this.$el.hide().fadeIn("fast")},getEditDialog:function(){return null===this.dialog&&(this.dialog=new s.dialog.widget({model:this.model}),this.dialog.setBuilder(this.cell.row.builder),this.dialog.widgetView=this),this.dialog},editHandler:function(){return!this.cell.row.builder.supports("editWidget")||this.model.get("read\_only")?this:(this.getEditDialog().openDialog(),this)},duplicateHandler:function(){this.cell.row.builder.addHistoryEntry("widget\_duplicated");var e=this.model.clone(this.model.cell);return this.cell.model.get("widgets").add(e,{at:this.model.collection.indexOf(this.model)+1}),this.cell.row.builder.model.refreshPanelsData(),this},copyHandler:function(){s.helpers.clipboard.setModel(this.model)},deleteHandler:function(){return this.visualDestroyModel(),this},onModelChange:function(){this.$(".description").html(this.model.getTitle())},onLabelChange:function(e){this.$(".title > h4").text(e.getWidgetField("title"))},onModelDestroy:function(){this.remove()},visualDestroyModel:function(){return this.cell.row.builder.addHistoryEntry("widget\_deleted"),this.$el.fadeOut("fast",function(){this.cell.row.resizeRow(),this.model.destroy(),this.cell.row.builder.model.refreshPanelsData(),this.remove()}.bind(this)),this},buildContextualMenu:function(e,t){this.cell.row.builder.supports("addWidget")&&t.addSection("add-widget-below",{sectionTitle:panelsOptions.loc.contextual.add\_widget\_below,searchPlaceholder:panelsOptions.loc.contextual.search\_widgets,defaultDisplay:panelsOptions.contextual.default\_widgets},panelsOptions.widgets,function(e){this.cell.row.builder.trigger("before\_user\_adds\_widget"),this.cell.row.builder.addHistoryEntry("widget\_added");var t=new s.model.widget({class:e});t.cell=this.cell.model,this.cell.model.get("widgets").add(t,{at:this.model.collection.indexOf(this.model)+1}),this.cell.row.builder.model.refreshPanelsData(),this.cell.row.builder.trigger("after\_user\_adds\_widget",t)}.bind(this));var i={};this.cell.row.builder.supports("editWidget")&&!this.model.get("read\_only")&&(i.edit={title:panelsOptions.loc.contextual.widget\_edit}),s.helpers.clipboard.canCopyPaste()&&(i.copy={title:panelsOptions.loc.contextual.widget\_copy}),this.cell.row.builder.supports("addWidget")&&(i.duplicate={title:panelsOptions.loc.contextual.widget\_duplicate}),this.cell.row.builder.supports("deleteWidget")&&(i.delete={title:panelsOptions.loc.contextual.widget\_delete,confirm:!0}),\_.isEmpty(i)||t.addSection("widget-actions",{sectionTitle:panelsOptions.loc.contextual.widget\_actions,search:!1},i,function(e){switch(e){case"edit":this.editHandler();break;case"copy":this.copyHandler();break;case"duplicate":this.duplicateHandler();break;case"delete":this.visualDestroyModel()}}.bind(this)),this.cell.buildContextualMenu(e,t)},afterUserAddsWidgetHandler:function(e){this.model===e&&panelsOptions.instant\_open&&setTimeout(this.editHandler.bind(this),350)}})},{}],32:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.customHtmlWidgets,o=s("<div></div>"),n=t.find(".widget-content:first");n.before(o);var a=new l.CustomHtmlWidgetControl({el:o,syncContainer:n});return a.initializeEditor(),a.editor.codemirror.refresh(),a}};t.exports=l},{}],33:[function(e,t,i){var s=e("./custom-html-widget"),l=e("./media-widget"),o=e("./text-widget"),n={CUSTOM\_HTML:"custom\_html",MEDIA\_AUDIO:"media\_audio",MEDIA\_GALLERY:"media\_gallery",MEDIA\_IMAGE:"media\_image",MEDIA\_VIDEO:"media\_video",TEXT:"text",addWidget:function(e,t){var i,n=e.find("> .id\_base").val();switch(n){case this.CUSTOM\_HTML:i=s;break;case this.MEDIA\_AUDIO:case this.MEDIA\_GALLERY:case this.MEDIA\_IMAGE:case this.MEDIA\_VIDEO:i=l;break;case this.TEXT:i=o}i.addWidget(n,e,t)}};t.exports=n},{"./custom-html-widget":32,"./media-widget":34,"./text-widget":35}],34:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.mediaWidgets,o=l.controlConstructors[e];if(o){var n=l.modelConstructors[e]||l.MediaWidgetModel,a=t.find("> .widget-content"),r=s('<div class="media-widget-control"></div>');a.before(r);var d={};a.find(".media-widget-instance-property").each((function(){var e=s(this);d[e.data("property")]=e.val()})),d.widget\_id=i;var c=new o({el:r,syncContainer:a,model:new n(d)});return c.render(),c}}};t.exports=l},{}],35:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.textWidgets,o={},n=t.find(".visual");if(n.length>0){if(!n.val())return null;var a=s("<div></div>"),r=t.find(".widget-content:first");r.before(a),o={el:a,syncContainer:r}}else o={el:t};var d=new l.TextWidgetControl(o),c=wp.oldEditor?wp.oldEditor:wp.editor;return c&&c.hasOwnProperty("autop")&&(wp.editor.autop=c.autop,wp.editor.removep=c.removep,wp.editor.initialize=c.initialize),d.initializeEditor(),d}};t.exports=l},{}]},{},[18]); |
  |  | 8 | var s={};window.panels=s,window.siteoriginPanels=s,s.helpers={},s.helpers.clipboard=e("./helpers/clipboard"),s.helpers.utils=e("./helpers/utils"),s.helpers.editor=e("./helpers/editor"),s.helpers.serialize=e("./helpers/serialize"),s.helpers.pageScroll=e("./helpers/page-scroll"),s.helpers.accessibility=e("./helpers/accessibility"),s.model={},s.model.widget=e("./model/widget"),s.model.cell=e("./model/cell"),s.model.row=e("./model/row"),s.model.builder=e("./model/builder"),s.model.historyEntry=e("./model/history-entry"),s.collection={},s.collection.widgets=e("./collection/widgets"),s.collection.cells=e("./collection/cells"),s.collection.rows=e("./collection/rows"),s.collection.historyEntries=e("./collection/history-entries"),s.view={},s.view.widget=e("./view/widget"),s.view.cell=e("./view/cell"),s.view.row=e("./view/row"),s.view.builder=e("./view/builder"),s.view.dialog=e("./view/dialog"),s.view.styles=e("./view/styles"),s.view.liveEditor=e("./view/live-editor"),s.dialog={},s.dialog.builder=e("./dialog/builder"),s.dialog.widgets=e("./dialog/widgets"),s.dialog.widget=e("./dialog/widget"),s.dialog.prebuilt=e("./dialog/prebuilt"),s.dialog.row=e("./dialog/row"),s.dialog.history=e("./dialog/history"),s.utils={},s.utils.menu=e("./utils/menu"),jQuery.fn.soPanelsSetupBuilderWidget=e("./jquery/setup-builder-widget"),jQuery((function(e){var t,i,s,l,o=e("#siteorigin-panels-metabox");if(s=e("form#post"),o.length&&s.length)t=o,i=o.find(".siteorigin-panels-data-field"),l={editorType:"tinyMCE",postId:e("#post\_ID").val(),editorId:"#content",builderType:o.data("builder-type"),builderSupports:o.data("builder-supports"),loadOnAttach:panelsOptions.loadOnAttach&&1==e("#auto\_draft").val(),loadLiveEditor:1==o.data("live-editor"),liveEditorCloseAfter:1==o.data("live-editor-close"),editorPreview:t.data("preview-url")};else if(e(".siteorigin-panels-builder-form").length){var n=e(".siteorigin-panels-builder-form");t=n.find(".siteorigin-panels-builder-container"),i=n.find('input[name="panels\_data"]'),s=n,l={editorType:"standalone",postId:n.data("post-id"),editorId:"#post\_content",builderType:n.data("type"),builderSupports:n.data("builder-supports"),loadLiveEditor:!1,liveEditorCloseAfter:!1,editorPreview:n.data("preview-url")}}if(!\_.isUndefined(t)){var a=window.siteoriginPanels,r=new a.model.builder,d=new a.view.builder({model:r,config:l});e(document).trigger("before\_panels\_setup",d),d.render().attach({container:t}).setDataField(i).attachToEditor(),s.on("submit",(function(){r.refreshPanelsData()})),t.removeClass("so-panels-loading"),e(document).trigger("panels\_setup",d,window.panels),window.soPanelsBuilderView=d}e(document).on("widget-added",(function(t,i){e(i).find(".siteorigin-page-builder-widget").soPanelsSetupBuilderWidget()})),e("body").hasClass("wp-customizer")||e((function(){e(".siteorigin-page-builder-widget").soPanelsSetupBuilderWidget()})),e(window).on("keyup",(function(t){27===t.which&&e(".so-panels-dialog-wrapper, .so-panels-live-editor").filter(":visible").last().find(".so-title-bar .so-close, .live-editor-close").trigger("click")}))})),void 0!==window.wp.autosave&&jQuery("#siteorigin-panels-metabox").length&&jQuery((function(e){var t=void 0!==window.autosaveL10n&&window.autosaveL10n.blog\_id;if(("object"==typeof window.sessionStorage||t)&&(stored\_obj=window.sessionStorage.getItem("wp-autosave-"+t),stored\_obj)){stored\_obj=JSON.parse(stored\_obj);var i=stored\_obj["post\_"+jQuery("#post\_ID").val()];"object"==typeof i&&jQuery("#content").val(i.content)}}))},{"./collection/cells":1,"./collection/history-entries":2,"./collection/rows":3,"./collection/widgets":4,"./dialog/builder":5,"./dialog/history":6,"./dialog/prebuilt":7,"./dialog/row":8,"./dialog/widget":9,"./dialog/widgets":10,"./helpers/accessibility":11,"./helpers/clipboard":12,"./helpers/editor":13,"./helpers/page-scroll":14,"./helpers/serialize":15,"./helpers/utils":16,"./jquery/setup-builder-widget":17,"./model/builder":19,"./model/cell":20,"./model/history-entry":21,"./model/row":22,"./model/widget":23,"./utils/menu":24,"./view/builder":25,"./view/cell":26,"./view/dialog":27,"./view/live-editor":28,"./view/row":29,"./view/styles":30,"./view/widget":31}],19:[function(e,t,i){t.exports=Backbone.Model.extend({layoutPosition:{BEFORE:"before",AFTER:"after",REPLACE:"replace"},rows:{},defaults:{data:{widgets:[],grids:[],grid\_cells:[]}},initialize:function(){this.set("rows",new panels.collection.rows)},addRow:function(e,t,i){i=\_.extend({noAnimate:!1},i);var s=new panels.collection.cells(t);e=\_.extend({collection:this.get("rows"),cells:s},e);var l=new panels.model.row(e);return l.builder=this,this.get("rows").add(l,i),l},loadPanelsData:function(e,t){try{t===this.layoutPosition.BEFORE?e=this.concatPanelsData(e,this.getPanelsData()):t===this.layoutPosition.AFTER&&(e=this.concatPanelsData(this.getPanelsData(),e)),this.emptyRows(),this.set("data",JSON.parse(JSON.stringify(e)),{silent:!0});var i,s=[];if(\_.isUndefined(e.grid\_cells))return void this.trigger("load\_panels\_data");for(var l=0;l<e.grid\_cells.length;l++)i=parseInt(e.grid\_cells[l].grid),\_.isUndefined(s[i])&&(s[i]=[]),s[i].push(e.grid\_cells[l]);var o=this;if(\_.each(s,(function(t,i){var s={};\_.isUndefined(e.grids[i].style)||(s.style=e.grids[i].style),\_.isUndefined(e.grids[i].color\_label)||(s.color\_label=e.grids[i].color\_label),\_.isUndefined(e.grids[i].label)||(s.label=e.grids[i].label),o.addRow(s,t,{noAnimate:!0})})),\_.isUndefined(e.widgets))return;\_.each(e.widgets,(function(e){var t=null;\_.isUndefined(e.panels\_info)?(t=e.info,delete e.info):(t=e.panels\_info,delete e.panels\_info);var i=o.get("rows").at(parseInt(t.grid)).get("cells").at(parseInt(t.cell)),s=new panels.model.widget({class:t.class,values:e});\_.isUndefined(t.style)||s.set("style",t.style),\_.isUndefined(t.read\_only)||s.set("read\_only",t.read\_only),\_.isUndefined(t.widget\_id)?s.set("widget\_id",panels.helpers.utils.generateUUID()):s.set("widget\_id",t.widget\_id),\_.isUndefined(t.label)||s.set("label",t.label),s.cell=i,i.get("widgets").add(s,{noAnimate:!0})})),this.trigger("load\_panels\_data")}catch(e){console.log("Error loading data: "+e.message)}},concatPanelsData:function(e,t){if(\_.isUndefined(t)||\_.isUndefined(t.grids)||\_.isEmpty(t.grids)||\_.isUndefined(t.grid\_cells)||\_.isEmpty(t.grid\_cells))return e;if(\_.isUndefined(e)||\_.isUndefined(e.grids)||\_.isEmpty(e.grids))return t;var i,s=e.grids.length,l=\_.isUndefined(e.widgets)?0:e.widgets.length,o={grids:[],grid\_cells:[],widgets:[]};for(o.grids=e.grids.concat(t.grids),\_.isUndefined(e.grid\_cells)||(o.grid\_cells=e.grid\_cells.slice()),\_.isUndefined(e.widgets)||(o.widgets=e.widgets.slice()),i=0;i<t.grid\_cells.length;i++){var n=t.grid\_cells[i];n.grid=parseInt(n.grid)+s,o.grid\_cells.push(n)}if(!\_.isUndefined(t.widgets))for(i=0;i<t.widgets.length;i++){var a=t.widgets[i];a.panels\_info.grid=parseInt(a.panels\_info.grid)+s,a.panels\_info.id=parseInt(a.panels\_info.id)+l,o.widgets.push(a)}return o},getPanelsData:function(){var e={widgets:[],grids:[],grid\_cells:[]},t=0;return this.get("rows").each((function(i,s){i.get("cells").each((function(i,l){i.get("widgets").each((function(i,o){var n={class:i.get("class"),raw:i.get("raw"),grid:s,cell:l,id:t++,widget\_id:i.get("widget\_id"),style:i.get("style"),label:i.get("label")};\_.isEmpty(n.widget\_id)&&(n.widget\_id=panels.helpers.utils.generateUUID());var a=\_.extend(\_.clone(i.get("values")),{panels\_info:n});e.widgets.push(a)})),e.grid\_cells.push({grid:s,index:l,weight:i.get("weight"),style:i.get("style")})})),e.grids.push({cells:i.get("cells").length,style:i.get("style"),color\_label:i.get("color\_label"),label:i.get("label")})})),e},refreshPanelsData:function(e){e=\_.extend({silent:!1},e);var t=this.get("data"),i=this.getPanelsData();this.set("data",i,{silent:!0}),e.silent||JSON.stringify(i)===JSON.stringify(t)||(this.trigger("change"),this.trigger("change:data"),this.trigger("refresh\_panels\_data",i,e))},emptyRows:function(){return \_.invoke(this.get("rows").toArray(),"destroy"),this.get("rows").reset(),this},isValidLayoutPosition:function(e){return e===this.layoutPosition.BEFORE||e===this.layoutPosition.AFTER||e===this.layoutPosition.REPLACE},getPanelsDataFromHtml:function(e,t){var i,s=this,l=jQuery('<div id="wrapper">'+e+"</div>");if(l.find(".panel-layout .panel-grid").length){var o={grids:[],grid\_cells:[],widgets:[]},n=new RegExp(panelsOptions.siteoriginWidgetRegex,"i"),a=(i=document.createElement("div"),function(e){return e&&"string"==typeof e&&(e=(e=e.replace(/<script[^>]\*>([\S\s]\*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]\*"|'[^']\*')\*>/gim,""),i.innerHTML=e,e=i.textContent,i.textContent=""),e}),r=function(e){var t=e.find("div");if(!t.length)return e.html();for(var i=0;i<t.length-1&&t.eq(i).text().trim()==t.eq(i+1).text().trim();i++);var s=t.eq(i).find(".widget-title:header"),l="";return s.length&&(l=s.html(),s.remove()),{title:l,text:t.eq(i).html()}},d=l.find(".panel-layout").eq(0),c=function(e,t){return jQuery(t).closest(".panel-layout").is(d)};return l.find("> .panel-layout > .panel-grid").filter(c).each((function(e,i){var l=jQuery(i),d=l.find(".panel-grid-cell").filter(c);o.grids.push({cells:d.length,style:l.data("style"),color\_label:l.data("color-label"),label:l.data("label")}),d.each((function(i,l){var d=jQuery(l),h=d.find(".so-panel").filter(c);o.grid\_cells.push({grid:e,weight:\_.isUndefined(d.data("weight"))?1:parseFloat(d.data("weight")),style:d.data("style")}),h.each((function(l,d){var c=jQuery(d),h=c.find(".panel-widget-style").length?c.find(".panel-widget-style").html():c.html(),u={grid:e,cell:i,style:c.data("style"),raw:!1,label:c.data("label")};h=h.trim();var p=n.exec(h);if(!\_.isNull(p)&&""===h.replace(n,"").trim()){try{var g=/class="(.\*?)"/.exec(p[3]),f=jQuery(p[5]),w=JSON.parse(a(f.val())).instance;u.class=g[1].replace(/\\\\+/g,"\\"),u.raw=!1,w.panels\_info=u,o.widgets.push(w)}catch(e){u.class=t,o.widgets.push(\_.extend(r(c),{filter:"1",type:"visual",panels\_info:u}))}return!0}return-1!==h.indexOf("panel-layout")&&jQuery("<div>"+h+"</div>").find(".panel-layout .panel-grid").length?(u.class="SiteOrigin\_Panels\_Widgets\_Layout",o.widgets.push({panels\_data:s.getPanelsDataFromHtml(h,t),panels\_info:u}),!0):(u.class=t,o.widgets.push(\_.extend(r(c),{filter:"1",type:"visual",panels\_info:u})),!0)}))}))})),l.find(".panel-layout").remove(),l.find("style[data-panels-style-for-post]").remove(),l.html().replace(/^\s+|\s+$/gm,"").length&&(o.grids.push({cells:1,style:{}}),o.grid\_cells.push({grid:o.grids.length-1,weight:1}),o.widgets.push({filter:"1",text:l.html().replace(/^\s+|\s+$/gm,""),title:"",type:"visual",panels\_info:{class:t,raw:!1,grid:o.grids.length-1,cell:0}})),o}return{grid\_cells:[{grid:0,weight:1}],grids:[{cells:1}],widgets:[{filter:"1",text:e,title:"",type:"visual",panels\_info:{class:t,raw:!1,grid:0,cell:0}}]}}})},{}],20:[function(e,t,i){t.exports=Backbone.Model.extend({widgets:{},row:null,defaults:{weight:0,style:{}},indexes:null,initialize:function(){this.set("widgets",new panels.collection.widgets),this.on("destroy",this.onDestroy,this)},onDestroy:function(){\_.invoke(this.get("widgets").toArray(),"destroy"),this.get("widgets").reset()},clone:function(e,t){\_.isUndefined(e)&&(e=this.row),t=\_.extend({cloneWidgets:!0},t);var i=new this.constructor(this.attributes);return i.set("collection",e.get("cells"),{silent:!0}),i.row=e,t.cloneWidgets&&this.get("widgets").each((function(e){i.get("widgets").add(e.clone(i,t),{silent:!0})})),i}})},{}],21:[function(e,t,i){t.exports=Backbone.Model.extend({defaults:{text:"",data:"",time:null,count:1}})},{}],22:[function(e,t,i){t.exports=Backbone.Model.extend({builder:null,defaults:{style:{}},indexes:null,initialize:function(){\_.isEmpty(this.get("cells"))?this.set("cells",new panels.collection.cells):this.get("cells").each(function(e){e.row=this}.bind(this)),this.on("destroy",this.onDestroy,this)},setCells:function(e){var t=this.get("cells")||new panels.collection.cells,i=[];t.each((function(s,l){var o=e.at(l);if(o)s.set("weight",o.get("weight"));else{for(var n=t.at(e.length-1),a=s.get("widgets").models.slice(),r=0;r<a.length;r++)a[r].moveToCell(n,{silent:!1});i.push(s)}})),\_.each(i,(function(e){t.remove(e)})),e.length>t.length&&\_.each(e.slice(t.length,e.length),function(e){e.set({collection:t}),e.row=this,t.add(e)}.bind(this)),this.reweightCells()},reweightCells:function(){var e=0,t=this.get("cells");t.each((function(t){e+=t.get("weight")})),t.each((function(t){t.set("weight",t.get("weight")/e)})),this.trigger("reweight\_cells")},onDestroy:function(){\_.invoke(this.get("cells").toArray(),"destroy"),this.get("cells").reset()},clone:function(e){\_.isUndefined(e)&&(e=this.builder);var t=new this.constructor(this.attributes);t.set("collection",e.get("rows"),{silent:!0}),t.builder=e;var i=new panels.collection.cells;return this.get("cells").each((function(e){i.add(e.clone(t),{silent:!0})})),t.set("cells",i),t}})},{}],23:[function(e,t,i){t.exports=Backbone.Model.extend({cell:null,defaults:{class:null,missing:!1,values:{},raw:!1,style:{},read\_only:!1,widget\_id:""},indexes:null,initialize:function(){var e=this.get("class");!\_.isUndefined(panelsOptions.widgets[e])&&panelsOptions.widgets[e].installed||this.set("missing",!0)},getWidgetField:function(e){return \_.isUndefined(panelsOptions.widgets[this.get("class")])?"title"===e||"description"===e?panelsOptions.loc.missing\_widget[e]:"":this.has("label")&&!\_.isEmpty(this.get("label"))?this.get("label"):panelsOptions.widgets[this.get("class")][e]},moveToCell:function(e,t,i){return t=\_.extend({silent:!0},t),this.cell=e,this.collection.remove(this,t),e.get("widgets").add(this,\_.extend({at:i},t)),this.trigger("move\_to\_cell",e,i),this},setValues:function(e){var t=!1;JSON.stringify(e)!==JSON.stringify(this.get("values"))&&(t=!0),this.set("values",e,{silent:!0}),t&&(this.trigger("change",this),this.trigger("change:values"))},clone:function(e,t){\_.isUndefined(e)&&(e=this.cell);var i=new this.constructor(this.attributes),s=JSON.parse(JSON.stringify(this.get("values"))),l=function(e){return \_.each(e,(function(t,i){\_.isString(i)&&"\_"===i[0]?delete e[i]:\_.isObject(e[i])&&l(e[i])})),e};return s=l(s),"SiteOrigin\_Panels\_Widgets\_Layout"===this.get("class")&&(s.builder\_id=Math.random().toString(36).substr(2)),i.set("widget\_id",""),i.set("values",s,{silent:!0}),i.set("collection",e.get("widgets"),{silent:!0}),i.cell=e,i.isDuplicate=!0,i},isValidTitle:function(e){return!\_.isUndefined(e)&&\_.isString(e)&&""!==e&&"on"!==e&&"true"!==e&&"false"!==e&&"\_"!==e[0]&&!\_.isFinite(e)},cleanTitle:function(e){if("string"!=typeof e)return!1;var t=(e=e.replace(/<\/?[^>]+(>|$)/g,"")).split(" ");return(t=t.slice(0,20)).join(" ")},getTitleFromValues:function(e,t,i=!1,s=!0){var l=!1;for(const n in e)if("object"==typeof e[n]){if(s&&(l=t.getTitleFromValues(e[n],t,i)))break}else if("object"==typeof i){for(var o=0;o<i.length&&(n!=i[o]||!(l=t.cleanTitle(e[n])));o++);if(l)break}else if("object"!=typeof i&&"\_"!==n.charAt(0)&&"so\_sidebar\_emulator\_id"!==n&&"option\_name"!==n&&t.isValidTitle(e[n])&&(l=t.cleanTitle(e[n])))break;return l},getTitle:function(){var e=panelsOptions.widgets[this.get("class")],t=[],i=!1;if(\_.isUndefined(e))return this.get("class").replace(/\_/g," ");if(\_.isUndefined(e.panels\_title))t=["title","text"];else{if(!1===e.panels\_title)return panelsOptions.widgets[this.get("class")].description;t.push(e.panels\_title),i=!0}var s=this.get("values"),l=!1;return(l=this.getTitleFromValues(s,this,t,void 0!==e.panels\_title\_check\_sub\_fields&&e.panels\_title\_check\_sub\_fields))||i||(l=this.getTitleFromValues(s,this)),l||this.getWidgetField("description")}})},{}],24:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({wrapperTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-context-menu").html())),sectionTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-context-menu-section").html())),contexts:[],active:!1,events:{"keyup .so-search-wrapper input":"searchKeyUp"},initialize:function(){this.listenContextMenu(),this.render(),this.attach()},listenContextMenu:function(){var e=this;l(window).on("contextmenu",(function(t){return e.active&&!e.isOverEl(e.$el,t)?(e.closeMenu(),e.active=!1,t.preventDefault(),!1):!!e.active||(e.active=!1,e.trigger("activate\_context",t,e),void(e.active&&(t.preventDefault(),e.openMenu({left:t.pageX,top:t.pageY}))))}))},render:function(){this.setElement(this.wrapperTemplate())},attach:function(){this.$el.appendTo("body")},openMenu:function(e){this.trigger("open\_menu"),l(window).on("keyup",{menu:this},this.keyboardListen),l(window).on("click",{menu:this},this.clickOutsideListen),this.$el.css("max-height",l(window).height()-20),e.left+this.$el.outerWidth()+10>=l(window).width()&&(e.left=l(window).width()-this.$el.outerWidth()-10),e.left<=0&&(e.left=10),e.top+this.$el.outerHeight()-l(window).scrollTop()+10>=l(window).height()&&(e.top=l(window).height()+l(window).scrollTop()-this.$el.outerHeight()-10),e.left<=0&&(e.left=10),this.$el.css({left:e.left+1,top:e.top+1}).show(),this.$(".so-search-wrapper input").trigger("focus")},closeMenu:function(){this.trigger("close\_menu"),l(window).off("keyup",this.keyboardListen),l(window).off("click",this.clickOutsideListen),this.active=!1,this.$el.empty().hide()},keyboardListen:function(e){var t=e.data.menu;switch(e.which){case 27:t.closeMenu()}},clickOutsideListen:function(e){var t=e.data.menu;3!==e.which&&t.$el.is(":visible")&&!t.isOverEl(t.$el,e)&&t.closeMenu()},addSection:function(e,t,i,s){var o=this;t=\_.extend({display:5,defaultDisplay:!1,search:!0,sectionTitle:"",searchPlaceholder:"",titleKey:"title"},t);var n=l(this.sectionTemplate({settings:t,items:i})).attr("id","panels-menu-section-"+e);this.$el.append(n),n.find(".so-item:not(.so-confirm)").on("click",(function(){var e=l(this);s(e.data("key")),o.closeMenu()})),n.find(".so-item.so-confirm").on("click",(function(){var e=l(this);if(e.hasClass("so-confirming"))return s(e.data("key")),void o.closeMenu();e.data("original-text",e.html()).addClass("so-confirming").html('<span class="dashicons dashicons-yes"></span> '+panelsOptions.loc.dropdown\_confirm),setTimeout((function(){e.removeClass("so-confirming"),e.html(e.data("original-text"))}),2500)})),n.data("settings",t).find(".so-search-wrapper input").trigger("keyup"),this.active=!0},hasSection:function(e){return this.$el.find("#panels-menu-section-"+e).length>0},searchKeyUp:function(e){var t=l(e.currentTarget),i=t.closest(".so-section"),s=i.data("settings");if(38===e.which||40===e.which){var o=i.find("ul li:visible"),n=o.filter(".so-active").eq(0);if(n.length){o.removeClass("so-active");var a=o.index(n);38===e.which?n=a-1<0?o.last():o.eq(a-1):40===e.which&&(n=a+1>=o.length?o.first():o.eq(a+1))}else 38===e.which?n=o.last():40===e.which&&(n=o.first());return n.addClass("so-active"),!1}if(13===e.which)return 1===i.find("ul li:visible").length?(i.find("ul li:visible").trigger("click"),!1):(i.find("ul li.so-active:visible").trigger("click"),!1);if(""===t.val())if(s.defaultDisplay){i.find(".so-item").hide();for(var r=0;r<s.defaultDisplay.length;r++)i.find('.so-item[data-key="'+s.defaultDisplay[r]+'"]').show()}else i.find(".so-item").show();else i.find(".so-item").hide().each((function(){var e=l(this);-1!==e.html().toLowerCase().indexOf(t.val().toLowerCase())&&e.show()}));i.find(".so-item:visible:gt("+(s.display-1)+")").hide(),0===i.find(".so-item:visible").length&&""!==t.val()?i.find(".so-no-results").show():i.find(".so-no-results").hide()},isOverEl:function(e,t){var i=[[e.offset().left,e.offset().top],[e.offset().left+e.outerWidth(),e.offset().top+e.outerHeight()]];return t.pageX>=i[0][0]&&t.pageX<=i[1][0]&&t.pageY>=i[0][1]&&t.pageY<=i[1][1]}})},{}],25:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({config:{},template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder").html())),dialogs:{},rowsSortable:null,dataField:!1,currentData:"",contentPreview:"",initialContentPreviewSetup:!1,attachedToEditor:!1,attachedVisible:!1,liveEditor:void 0,menu:!1,activeCell:null,events:{"click .so-tool-button.so-widget-add":"displayAddWidgetDialog","click .so-tool-button.so-row-add":"displayAddRowDialog","click .so-tool-button.so-prebuilt-add":"displayAddPrebuiltDialog","click .so-tool-button.so-history":"displayHistoryDialog","click .so-tool-button.so-live-editor":"displayLiveEditor","keyup .so-tool-button":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},rows:null,initialize:function(e){var t=this;return this.config=\_.extend({loadLiveEditor:!1,liveEditorCloseAfter:!1,builderSupports:{}},e.config),this.config.builderSupports=\_.extend({addRow:!0,editRow:!0,deleteRow:!0,moveRow:!0,addWidget:!0,editWidget:!0,deleteWidget:!0,moveWidget:!0,prebuilt:!0,history:!0,liveEditor:!0,revertToEditor:!0},this.config.builderSupports),e.config.loadLiveEditor&&this.on("builder\_live\_editor\_added",(function(){this.displayLiveEditor()})),this.dialogs={widgets:new s.dialog.widgets,row:new s.dialog.row,prebuilt:new s.dialog.prebuilt},$previewContent=l(".siteorigin-panels-preview-content"),$previewContent.length&&(this.contentPreview=$previewContent.val()),\_.each(this.dialogs,(function(e,i,s){s[i].setBuilder(t)})),this.dialogs.row.setRowDialogType("create"),this.listenTo(this.model.get("rows"),"add",this.onAddRow),l(window).on("resize",(function(e){e.target===window&&t.trigger("builder\_resize")})),this.listenTo(this.model,"change:data load\_panels\_data",this.storeModelData),this.listenTo(this.model,"change:data load\_panels\_data",this.toggleWelcomeDisplay),this.on("builder\_attached\_to\_editor",this.handleContentChange,this),this.on("content\_change",this.handleContentChange,this),this.on("display\_builder",this.handleDisplayBuilder,this),this.on("hide\_builder",this.handleHideBuilder,this),this.on("builder\_rendered builder\_resize",this.handleBuilderSizing,this),this.on("display\_builder",this.wrapEditorExpandAdjust,this),this.menu=new s.utils.menu({}),this.listenTo(this.menu,"activate\_context",this.activateContextMenu),this.config.loadOnAttach&&this.on("builder\_attached\_to\_editor",(function(){this.displayAttachedBuilder({confirm:!1})}),this),this},render:function(){return this.setElement(this.template()),this.$el.attr("id","siteorigin-panels-builder-"+this.cid).addClass("so-builder-container"),this.trigger("builder\_rendered"),this},attach:function(e){(e=\_.extend({container:!1,dialog:!1},e)).dialog?(this.dialog=new s.dialog.builder,this.dialog.builder=this):(this.$el.appendTo(e.container),this.metabox=e.container.closest(".postbox"),this.initSortable(),this.trigger("attached\_to\_container",e.container)),this.trigger("builder\_attached"),this.supports("liveEditor")&&this.addLiveEditor(),this.supports("history")&&this.addHistoryBrowser();var t=this.$(".so-builder-toolbar"),i=this.$(".so-panels-welcome-message"),l=panelsOptions.loc.welcomeMessage,o=[];this.supports("addWidget")?o.push(l.addWidgetButton):t.find(".so-widget-add").hide(),this.supports("addRow")?o.push(l.addRowButton):t.find(".so-row-add").hide(),this.supports("prebuilt")?o.push(l.addPrebuiltButton):t.find(".so-prebuilt-add").hide();var n="";3===o.length?n=l.threeEnabled:2===o.length?n=l.twoEnabled:1===o.length?n=l.oneEnabled:0===o.length&&(n=l.addingDisabled);var a=\_.template(s.helpers.utils.processTemplate(n))({items:o})+" "+l.docsMessage;return i.find(".so-message-wrapper").html(a),this},attachToEditor:function(){if("tinyMCE"!==this.config.editorType)return this;this.attachedToEditor=!0;var e=this.metabox,t=this;l("#wp-content-wrap .wp-editor-tabs").find(".wp-switch-editor").on("click",(function(e){e.preventDefault(),l("#wp-content-editor-container").show(),l("#wp-content-wrap").removeClass("panels-active"),l("#content-resize-handle").show(),t.trigger("hide\_builder")})).end().append(l('<button type="button" id="content-panels" class="hide-if-no-js wp-switch-editor switch-panels">'+e.find("h2.hndle").html()+"</button>").on("click",(function(e){t.displayAttachedBuilder({confirm:!0})&&e.preventDefault()}))),this.supports("revertToEditor")&&e.find(".so-switch-to-standard").on("click keyup",(function(i){i.preventDefault(),"keyup"==i.type&&13!=i.which||confirm(panelsOptions.loc.confirm\_stop\_builder)&&(t.addHistoryEntry("back\_to\_editor"),t.model.loadPanelsData(!1),l("#wp-content-wrap").show(),e.hide(),l(window).trigger("resize"),t.attachedVisible=!1,t.trigger("hide\_builder"))})).show(),e.insertAfter("#wp-content-wrap").hide().addClass("attached-to-editor");var i=this.model.get("data");\_.isEmpty(i.widgets)&&\_.isEmpty(i.grids)&&this.supports("revertToEditor")||this.displayAttachedBuilder({confirm:!1});var s=function(){var e=t.$(".so-builder-toolbar");if(t.$el.hasClass("so-display-narrow"))return e.css({top:0,left:0,width:"100%",position:"absolute"}),void t.$el.css("padding-top",e.outerHeight()+"px");var i=l(window).scrollTop()-t.$el.offset().top;"fixed"===l("#wpadminbar").css("position")&&(i+=l("#wpadminbar").outerHeight());var s=0,o=t.$el.outerHeight()-e.outerHeight()+20;i>s&&i<o?"fixed"!==e.css("position")&&e.css({top:l("#wpadminbar").outerHeight(),left:t.$el.offset().left+"px",width:t.$el.outerWidth()+"px",position:"fixed"}):e.css({top:Math.min(Math.max(i,0),t.$el.outerHeight()-e.outerHeight()+20)+"px",left:0,width:"100%",position:"absolute"}),t.$el.css("padding-top",e.outerHeight()+"px")};return this.on("builder\_resize",s,this),l(document).on("scroll",s),s(),this.trigger("builder\_attached\_to\_editor"),this},displayAttachedBuilder:function(e){if((e=\_.extend({confirm:!0},e)).confirm){var t="undefined"!=typeof tinyMCE&&tinyMCE.get("content");if(""!==(t&&\_.isFunction(t.getContent)?t.getContent():l("textarea#content").val())&&!confirm(panelsOptions.loc.confirm\_use\_builder))return!1}return l("#wp-content-wrap").hide(),l("#editor-expand-toggle").on("change.editor-expand",(function(){l(this).prop("checked")||l("#wp-content-wrap").hide()})),this.metabox.show().find("> .inside").show(),l(window).trigger("resize"),l(document).trigger("scroll"),this.attachedVisible=!0,this.trigger("display\_builder"),!0},initSortable:function(){if(!this.supports("moveRow"))return this;var e=this,t=e.$el.attr("id");return!l("body").hasClass("wp-customizer")&&l("body").attr("class").match(/version-([0-9-]+)/)[0].replace(/\D/g,"")<59&&(wpVersion="#wpwrap"),this.rowsSortable=this.$(".so-rows-container:not(.sow-row-color)").sortable({appendTo:"parent",items:".so-row-container",handle:".so-row-move",connectWith:"#"+t+".so-rows-container,.block-editor .so-rows-container",axis:"y",tolerance:"pointer",scroll:!1,remove:function(t,i){e.model.get("rows").remove(l(i.item).data("view").model,{silent:!0}),e.model.refreshPanelsData()},receive:function(t,i){e.model.get("rows").add(l(i.item).data("view").model,{silent:!0,at:l(i.item).index()}),e.model.refreshPanelsData()},stop:function(t,i){var s=l(i.item),o=s.data("view"),n=e.model.get("rows");n.get(o.model)&&(e.addHistoryEntry("row\_moved"),n.remove(o.model,{silent:!0}),n.add(o.model,{silent:!0,at:s.index()}),o.trigger("move",s.index()),e.model.refreshPanelsData())}}),this},refreshSortable:function(){\_.isNull(this.rowsSortable)||this.rowsSortable.sortable("refresh")},setDataField:function(e,t){if(t=\_.extend({load:!0},t),this.dataField=e,this.dataField.data("builder",this),t.load&&""!==e.val()){var i=this.dataField.val();try{i=JSON.parse(i)}catch(e){console.log("Failed to parse Page Builder layout data from supplied data field."),i={}}this.setData(i)}return this},setData:function(e){this.model.loadPanelsData(e),this.currentData=e,this.toggleWelcomeDisplay()},getData:function(){return this.model.get("data")},storeModelData:function(){var e=JSON.stringify(this.model.get("data"));l(this.dataField).val()!==e&&(l(this.dataField).val(e),l(this.dataField).trigger("change"),this.trigger("content\_change"))},onAddRow:function(e,t,i){i=\_.extend({noAnimate:!1},i);var l=new s.view.row({model:e});l.builder=this,l.render(),\_.isUndefined(i.at)||t.length<=1?l.$el.appendTo(this.$(".so-rows-container")):l.$el.insertAfter(this.$(".so-rows-container .so-row-container").eq(i.at-1)),!1===i.noAnimate&&l.visualCreate(),this.refreshSortable(),l.resizeRow(),this.trigger("row\_added")},displayAddWidgetDialog:function(){this.dialogs.widgets.openDialog()},displayAddRowDialog:function(){var e=new s.model.row,t=new s.collection.cells(panelsOptions.default\_columns);t.each((function(t){t.row=e})),e.set("cells",t),e.builder=this.model,this.dialogs.row.setRowModel(e),this.dialogs.row.openDialog()},displayAddPrebuiltDialog:function(){this.dialogs.prebuilt.openDialog()},displayHistoryDialog:function(){this.dialogs.history.openDialog()},pasteRowHandler:function(){var e=s.helpers.clipboard.getModel("row-model");!\_.isEmpty(e)&&e instanceof s.model.row&&(this.addHistoryEntry("row\_pasted"),e.builder=this.model,this.model.get("rows").add(e,{at:this.model.get("rows").indexOf(this.model)+1}),this.model.refreshPanelsData())},getActiveCell:function(e){if(e=\_.extend({createCell:!0},e),!this.model.get("rows").length){if(!e.createCell)return null;this.model.addRow({},[{weight:1}],{noAnimate:!0})}var t=this.activeCell;return \_.isEmpty(t)||-1===this.model.get("rows").indexOf(t.model.row)?this.model.get("rows").last().get("cells").first():t.model},addLiveEditor:function(){if(\_.isEmpty(this.config.editorPreview))return this;if(this.liveEditor=new s.view.liveEditor({builder:this,previewUrl:this.config.editorPreview}),this.liveEditor.hasPreviewUrl()){var e=!1;if(!s.helpers.editor.isBlockEditor()||l(".widgets-php").length)e=!0;else if("auto-draft"!=wp.data.select("core/editor").getEditedPostAttribute("status"))e=!0;else{l(".editor-post-save-draft").trigger("click");var t=setInterval(function(){wp.data.select("core/editor").isSavingPost()||wp.data.select("core/editor").isAutosavingPost()||!wp.data.select("core/editor").didPostSaveRequestSucceed()||(clearInterval(t),this.$(".so-builder-toolbar .so-live-editor").show())}.bind(this),250)}e&&this.$(".so-builder-toolbar .so-live-editor").show()}return this.trigger("builder\_live\_editor\_added"),this},displayLiveEditor:function(){\_.isUndefined(this.liveEditor)||this.liveEditor.open()},addHistoryBrowser:function(){if(\_.isEmpty(this.config.editorPreview))return this;this.dialogs.history=new s.dialog.history,this.dialogs.history.builder=this,this.dialogs.history.entries.builder=this.model,this.dialogs.history.setRevertEntry(this.model),this.$(".so-builder-toolbar .so-history").show()},addHistoryEntry:function(e,t){\_.isUndefined(t)&&(t=null),\_.isUndefined(this.dialogs.history)||this.dialogs.history.entries.addEntry(e,t)},supports:function(e){return"rowAction"===e?this.supports("addRow")||this.supports("editRow")||this.supports("deleteRow"):"widgetAction"===e?this.supports("addWidget")||this.supports("editWidget")||this.supports("deleteWidget"):!\_.isUndefined(this.config.builderSupports[e])&&this.config.builderSupports[e]},handleContentChange:function(){if(panelsOptions.copy\_content&&(s.helpers.editor.isBlockEditor()||s.helpers.editor.isClassicEditor(this))){var e=this.model.getPanelsData();\_.isEmpty(e.widgets)||l.post(panelsOptions.ajaxurl,{action:"so\_panels\_builder\_content\_json",panels\_data:JSON.stringify(e),post\_id:this.config.postId},function(e){this.contentPreview&&""!==e.post\_content&&this.initialContentPreviewSetup&&this.updateEditorContent(e.post\_content),""!==e.preview&&(this.contentPreview=e.preview,this.initialContentPreviewSetup=!0)}.bind(this))}},updateEditorContent:function(e){if("tinyMCE"!==this.config.editorType||"undefined"==typeof tinyMCE||\_.isNull(tinyMCE.get("content"))){l(this.config.editorId).val(e).trigger("change").trigger("keyup")}else{var t=tinyMCE.get("content");t.setContent(e),t.fire("change"),t.fire("keyup")}this.triggerSeoChange()},triggerSeoChange:function(){"undefined"==typeof YoastSEO||\_.isNull(YoastSEO)||\_.isNull(YoastSEO.app.refresh)||YoastSEO.app.refresh(),"undefined"==typeof rankMathEditor||\_.isNull(rankMathEditor)||\_.isNull(rankMathEditor.refresh)||rankMathEditor.refresh("content")},handleDisplayBuilder:function(){var e="undefined"!=typeof tinyMCE&&tinyMCE.get("content"),t=e&&\_.isFunction(e.getContent)?e.getContent():l("textarea#content").val();if((\_.isEmpty(this.model.get("data"))||\_.isEmpty(this.model.get("data").widgets)&&\_.isEmpty(this.model.get("data").grids))&&""!==t){var i=panelsOptions.text\_widget;if(\_.isEmpty(i))return;this.model.loadPanelsData(this.model.getPanelsDataFromHtml(t,i)),this.model.trigger("change"),this.model.trigger("change:data")}l("#post-status-info").addClass("for-siteorigin-panels")},handleHideBuilder:function(){l("#post-status-info").show().removeClass("for-siteorigin-panels")},wrapEditorExpandAdjust:function(){try{for(var e,t=(l.hasData(window)&&l.\_data(window)).events.scroll,i=0;i<t.length;i++)if("editor-expand"===t[i].namespace){e=t[i],l(window).off("scroll",e.handler),l(window).on("scroll",function(t){this.attachedVisible||e.handler(t)}.bind(this));break}}catch(e){return}},handleBuilderSizing:function(){var e=this.$el.width();return e?(e<575?this.$el.addClass("so-display-narrow"):this.$el.removeClass("so-display-narrow"),this):this},setDialogParents:function(e,t){\_.each(this.dialogs,(function(i,s,l){l[s].setParent(e,t)})),this.on("add\_dialog",(function(i){i.setParent(e,t)}),this)},toggleWelcomeDisplay:function(){this.model.get("rows").isEmpty()?this.$(".so-panels-welcome-message").show():this.$(".so-panels-welcome-message").hide()},activateContextMenu:function(e,t){if(l.contains(this.$el.get(0),e.target)){var i=l([]).add(this.$(".so-panels-welcome-message:visible")).add(this.$(".so-rows-container > .so-row-container")).add(this.$(".so-cells > .cell")).add(this.$(".cell-wrapper > .so-widget")).filter((function(i){return t.isOverEl(l(this),e)})),s=i.last().data("view");void 0!==s&&void 0!==s.buildContextualMenu?s.buildContextualMenu(e,t):i.last().hasClass("so-panels-welcome-message")&&this.buildContextualMenu(e,t)}},buildContextualMenu:function(e,t){var i={};this.supports("addRow")&&(i.add\_row={title:panelsOptions.loc.contextual.add\_row}),s.helpers.clipboard.canCopyPaste()&&s.helpers.clipboard.isModel("row-model")&&this.supports("addRow")&&(i.paste\_row={title:panelsOptions.loc.contextual.row\_paste}),\_.isEmpty(i)||t.addSection("builder-actions",{sectionTitle:panelsOptions.loc.contextual.row\_actions,search:!1},i,function(e){switch(e){case"add\_row":this.displayAddRowDialog();break;case"paste\_row":this.pasteRowHandler()}}.bind(this))}})},{}],26:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-cell").html())),events:{"click .cell-wrapper":"handleCellClick"},row:null,widgetSortable:null,initialize:function(){this.listenTo(this.model.get("widgets"),"add",this.onAddWidget)},render:function(){var e={weight:this.model.get("weight"),totalWeight:this.row.model.get("cells").totalWeight()};this.setElement(this.template(e)),this.$el.data("view",this);var t=this;return this.model.get("widgets").each((function(e){var i=new s.view.widget({model:e});i.cell=t,i.render(),i.$el.appendTo(t.$(".widgets-container"))})),this.initSortable(),this.initResizable(),this},initSortable:function(){if(!this.row.builder.supports("moveWidget"))return this;var e=this,t=e.row.builder,i=t.$el.attr("id"),s=t.model;return this.widgetSortable=this.$(".widgets-container").sortable({placeholder:"so-widget-sortable-highlight",connectWith:"#"+i+" .so-cells .cell .widgets-container,.block-editor .so-cells .cell .widgets-container",tolerance:"pointer",scroll:!1,over:function(t,i){e.row.builder.trigger("widget\_sortable\_move")},remove:function(t,i){e.model.get("widgets").remove(l(i.item).data("view").model,{silent:!0}),s.refreshPanelsData()},receive:function(t,i){var o=l(i.item).data("view");o.cell=e;var n=o.model;n.cell=e.model,e.model.get("widgets").add(n,{silent:!0,at:l(i.item).index()}),s.refreshPanelsData()},stop:function(t,i){var o=l(i.item),n=o.data("view"),a=o.closest(".cell").data("view");e.model.get("widgets").get(n.model)&&(e.row.builder.addHistoryEntry("widget\_moved"),n.model.moveToCell(a.model,{},o.index()),n.cell=a,s.refreshPanelsData())},helper:function(e,t){var i=t.clone().css({width:t.outerWidth()+"px","z-index":1e4,position:"fixed"}).addClass("widget-being-dragged").appendTo("body");return t.outerWidth()>720&&i.animate({"margin-left":e.pageX-t.offset().left-240,width:480},"fast"),i}}),this},refreshSortable:function(){\_.isNull(this.widgetSortable)||this.widgetSortable.sortable("refresh")},initResizable:function(){if(!this.row.builder.supports("editRow"))return this;var e,t=this.$(".resize-handle").css("position","absolute"),i=this.row.$el,s=this;return t.draggable({axis:"x",containment:i,start:function(t,i){if(e=s.$el.prev().data("view"),!\_.isUndefined(e)){var o=s.$el.clone().appendTo(i.helper).css({position:"absolute",top:"0",width:s.$el.outerWidth(),left:5,height:s.$el.outerHeight()});o.find(".resize-handle").remove();var n=e.$el.clone().appendTo(i.helper).css({position:"absolute",top:"0",width:e.$el.outerWidth()+"px",right:5,height:e.$el.outerHeight()+"px"});n.find(".resize-handle").remove(),l(this).data({newCellClone:o,prevCellClone:n})}},drag:function(i,o){var n=s.row.$el.width()+10,a=s.model.get("weight")-(o.position.left+t.outerWidth()/2)/n,r=e.model.get("weight")+(o.position.left+t.outerWidth()/2)/n;l(this).data("newCellClone").css("width",n\*a+"px").find(".preview-cell-weight").html(Math.round(1e3\*a)/10),l(this).data("prevCellClone").css("width",n\*r+"px").find(".preview-cell-weight").html(Math.round(1e3\*r)/10)},stop:function(i,o){l(this).data("newCellClone").remove(),l(this).data("prevCellClone").remove();var n=s.row.$el.width()+10,a=s.model.get("weight")-(o.position.left+t.outerWidth()/2)/n,r=e.model.get("weight")+(o.position.left+t.outerWidth()/2)/n;a>.02&&r>.02&&(s.row.builder.addHistoryEntry("cell\_resized"),s.model.set("weight",a),e.model.set("weight",r),s.row.resizeRow()),o.helper.css("left",-t.outerWidth()/2+"px"),s.row.builder.model.refreshPanelsData()}}),this},onAddWidget:function(e,t,i){i=\_.extend({noAnimate:!1},i);var l=new s.view.widget({model:e});l.cell=this,\_.isUndefined(e.isDuplicate)&&(e.isDuplicate=!1),l.render({loadForm:e.isDuplicate}),\_.isUndefined(i.at)||t.length<=1?l.$el.appendTo(this.$(".widgets-container")):l.$el.insertAfter(this.$(".widgets-container .so-widget").eq(i.at-1)),!1===i.noAnimate&&l.visualCreate(),this.refreshSortable(),this.row.resizeRow(),this.row.builder.trigger("widget\_added",l)},handleCellClick:function(e){this.row.builder.$el.find(".so-cells .cell").removeClass("cell-selected"),this.row.builder.activeCell!==this||this.model.get("widgets").length?(this.$el.addClass("cell-selected"),this.row.builder.activeCell=this):this.row.builder.activeCell=null},pasteHandler:function(){var e=s.helpers.clipboard.getModel("widget-model");!\_.isEmpty(e)&&e instanceof s.model.widget&&(this.row.builder.addHistoryEntry("widget\_pasted"),e.cell=this.model,this.model.get("widgets").add(e),this.row.builder.model.refreshPanelsData())},buildContextualMenu:function(e,t){var i=this;t.hasSection("add-widget-below")||t.addSection("add-widget-cell",{sectionTitle:panelsOptions.loc.contextual.add\_widget\_cell,searchPlaceholder:panelsOptions.loc.contextual.search\_widgets,defaultDisplay:panelsOptions.contextual.default\_widgets},panelsOptions.widgets,(function(e){i.row.builder.trigger("before\_user\_adds\_widget"),i.row.builder.addHistoryEntry("widget\_added");var t=new s.model.widget({class:e});t.cell=i.model,t.cell.get("widgets").add(t),i.row.builder.model.refreshPanelsData(),i.row.builder.trigger("after\_user\_adds\_widget",t)}));var l={};this.row.builder.supports("addWidget")&&s.helpers.clipboard.isModel("widget-model")&&(l.paste={title:panelsOptions.loc.contextual.cell\_paste\_widget}),\_.isEmpty(l)||t.addSection("cell-actions",{sectionTitle:panelsOptions.loc.contextual.cell\_actions,search:!1},l,function(e){switch(e){case"paste":this.pasteHandler()}this.row.builder.model.refreshPanelsData()}.bind(this)),this.row.buildContextualMenu(e,t)}})},{}],27:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({dialogTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-dialog").html())),dialogTabTemplate:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-dialog-tab").html())),tabbed:!1,rendered:!1,builder:!1,className:"so-panels-dialog-wrapper",dialogClass:"",dialogIcon:"",parentDialog:!1,dialogOpen:!1,editableLabel:!1,events:{"click .so-close":"closeDialog","keyup .so-close":function(e){s.helpers.accessibility.triggerClickOnEnter(e)},"click .so-nav.so-previous":"navToPrevious","keyup .so-nav.so-previous":function(e){s.helpers.accessibility.triggerClickOnEnter(e)},"click .so-nav.so-next":"navToNext","keyup .so-nav.so-next":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(){this.once("open\_dialog",this.render),this.once("open\_dialog",this.attach),this.once("open\_dialog",this.setDialogClass),this.trigger("initialize\_dialog",this),\_.isUndefined(this.initializeDialog)||this.initializeDialog(),\_.bindAll(this,"initSidebars","hasSidebar","onResize","toggleLeftSideBar","toggleRightSideBar")},getNextDialog:function(){return null},getPrevDialog:function(){return null},setDialogClass:function(){""!==this.dialogClass&&this.$(".so-panels-dialog").addClass(this.dialogClass)},setBuilder:function(e){return this.builder=e,e.trigger("add\_dialog",this,this.builder),this},attach:function(){return this.$el.appendTo("body"),this},parseDialogContent:function(e,t){t=\_.extend({cid:this.cid},t);var i=l(\_.template(s.helpers.utils.processTemplate(e))(t)),o={title:i.find(".title").html(),buttons:i.find(".buttons").html(),content:i.find(".content").html()};return i.has(".left-sidebar")&&(o.left\_sidebar=i.find(".left-sidebar").html()),i.has(".right-sidebar")&&(o.right\_sidebar=i.find(".right-sidebar").html()),o},renderDialog:function(e){if(e=\_.extend({editableLabel:this.editableLabel,dialogIcon:this.dialogIcon},e),this.$el.html(this.dialogTemplate(e)).hide(),this.$el.data("view",this),this.$el.addClass("so-panels-dialog-wrapper"),!1!==this.parentDialog){var t=l('<h3 class="so-parent-link"></h3>').html(this.parentDialog.text+'<div class="so-separator"></div>');t.on("click",function(e){e.preventDefault(),this.closeDialog(),this.parentDialog.dialog.openDialog()}.bind(this)),this.$(".so-title-bar .so-title").before(t)}return this.$(".so-title-bar .so-title-editable").length&&this.initEditableLabel(),setTimeout(this.initSidebars,1),this},initSidebars:function(){var e=this.$(".so-show-left-sidebar").hide(),t=this.$(".so-show-right-sidebar").hide(),i=this.hasSidebar("left"),s=this.hasSidebar("right");(i||s)&&(l(window).on("resize",this.onResize),i&&(e.show(),e.on("click",this.toggleLeftSideBar)),s&&(t.show(),t.on("click",this.toggleRightSideBar))),this.onResize()},initTabs:function(){var e=this.$(".so-sidebar-tabs li a");if(0===e.length)return this;var t=this;return e.on("click",(function(e){e.preventDefault();var i=l(this);t.$(".so-sidebar-tabs li").removeClass("tab-active"),t.$(".so-content .so-content-tabs > \*").hide(),i.parent().addClass("tab-active");var s=i.attr("href");if(!\_.isUndefined(s)&&"#"===s.charAt(0)){var o=s.split("#")[1];t.$(".so-content .so-content-tabs .tab-"+o).show()}t.trigger("tab\_click",i)})),this.$(".so-sidebar-tabs li a").first().trigger("click"),this},initToolbar:function(){this.$(".so-toolbar .so-buttons .so-toolbar-button").on("click keyup",function(e){e.preventDefault(),"keyup"==e.type&&13!=e.which||this.trigger("button\_click",l(e.currentTarget))}.bind(this)),this.$(".so-toolbar .so-buttons .so-dropdown-button").on("click",function(e){e.preventDefault();var t=l(e.currentTarget).siblings(".so-dropdown-links-wrapper");t.is(".hidden")?t.removeClass("hidden"):t.addClass("hidden")}.bind(this)),l("html").on("click",function(e){this.$(".so-dropdown-links-wrapper").not(".hidden").each((function(t,i){var s=l(i),o=l(e.target);0!==o.length&&(o.is(".so-needs-confirm")&&!o.is(".so-confirmed")||o.is(".so-dropdown-button"))||s.addClass("hidden")}))}.bind(this))},initEditableLabel:function(){var e=this.$(".so-title-bar .so-title-editable");e.on("keypress",(function(t){var i="keypress"===t.type&&13===t.keyCode;if(i){var s=l(":tabbable"),o=s.index(e);s.eq(o+1).trigger("focus"),window.getSelection().removeAllRanges()}return!i})).on("blur",function(){var t=e.text().replace(/^\s+|\s+$/gm,"");t!==e.data("original-value").replace(/^\s+|\s+$/gm,"")&&(e.text(t),this.trigger("edit\_label",t))}.bind(this)).on("focus",(function(){e.data("original-value",e.text()),s.helpers.utils.selectElementContents(this)}))},setupDialog:function(){this.openDialog(),this.closeDialog()},refreshDialogNav:function(){this.$(".so-title-bar .so-nav").show().removeClass("so-disabled");var e=this.getNextDialog(),t=this.$(".so-title-bar .so-next"),i=this.getPrevDialog(),s=this.$(".so-title-bar .so-previous");null===e?t.hide():!1===e?(t.addClass("so-disabled"),t.attr("tabindex",-1)):t.attr("tabindex",0),null===i?s.hide():!1===i?(s.addClass("so-disabled"),s.attr("tabindex",-1)):s.attr("tabindex",0)},openDialog:function(e){(e=\_.extend({silent:!1},e)).silent||this.trigger("open\_dialog"),this.dialogOpen=!0,this.refreshDialogNav(),s.helpers.pageScroll.lock(),this.onResize(),"string"==typeof window.panelsMode&&("inline"==window.panelsMode?(this.$(".so-toolbar .so-close, .so-toolbar .so-save").hide(),this.$(".so-toolbar .so-saveinline").show().addClass("so-active-mode")):(this.$(".so-toolbar .so-saveinline").hide(),this.$(".so-toolbar .so-close, .so-toolbar .so-save").show().addClass("so-active-mode"))),this.$el.show(),e.silent||(this.trigger("open\_dialog\_complete"),this.builder.trigger("open\_dialog",this),l(document).trigger("open\_dialog",this))},closeDialog:function(e){if(e=\_.extend({silent:!1},e),"object"==typeof this.widgetView){var t=this.getFormValues();if("object"==typeof t.widgets&&(validSave=l(document).triggerHandler("close\_dialog\_validation",[t.widgets[this.model.cid],this.model.attributes.class,this.model.cid,this])),"boolean"==typeof validSave&&!validSave)return!1}e.silent||this.trigger("close\_dialog"),this.dialogOpen=!1,this.$el.hide(),s.helpers.pageScroll.unlock(),e.silent||(this.trigger("close\_dialog\_complete"),this.builder.trigger("close\_dialog",this))},navToPrevious:function(){this.closeDialog();var e=this.getPrevDialog();null!==e&&!1!==e&&e.openDialog()},navToNext:function(){this.closeDialog();var e=this.getNextDialog();null!==e&&!1!==e&&e.openDialog()},getFormValues:function(e){\_.isUndefined(e)&&(e=".so-content");var t,i=this.$(e),s={};return i.find("[name]").each((function(){var e=l(this);try{var i=/([A-Za-z\_]+)\[(.\*)\]/.exec(e.attr("name"));if(\_.isEmpty(i))return!0;\_.isUndefined(i[2])?t=e.attr("name"):(t=i[2].split("][")).unshift(i[1]),t=t.map((function(e){return!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e):e}));var o=s,n=null,a=!!\_.isString(e.attr("type"))&&e.attr("type").toLowerCase();if("checkbox"===a)n=e.is(":checked")?""===e.val()||e.val():null;else if("radio"===a){if(!e.is(":checked"))return;n=e.val()}else if("SELECT"===e.prop("tagName")){var r=e.find("option:selected");1===r.length?n=e.find("option:selected").val():r.length>1&&(n=\_.map(e.find("option:selected"),(function(e,t){return l(e).val()})))}else n=e.val();if(!\_.isUndefined(e.data("panels-filter")))switch(e.data("panels-filter")){case"json\_parse":try{n=JSON.parse(n)}catch(e){n=""}}if(e.parents(".acf-repeater").length||e.parents(".acf-field-checkbox").length||e.parents(".acf-gallery").length){if(""==n)return;t.slice(t[2],t.length)}if(null!==n)for(var d=0;d<t.length;d++)d===t.length-1?""===t[d]?o.push(n):o[t[d]]=n:(\_.isUndefined(o[t[d]])&&(""===t[d+1]?o[t[d]]=[]:o[t[d]]={}),o=o[t[d]])}catch(t){console.log("Field ["+e.attr("name")+"] could not be processed and was skipped - "+t.message)}})),s},setStatusMessage:function(e,t,i){var s=i?'<span class="dashicons dashicons-warning"></span>'+e:e;this.$(".so-toolbar .so-status").html(s),!\_.isUndefined(t)&&t?this.$(".so-toolbar .so-status").addClass("so-panels-loading"):this.$(".so-toolbar .so-status").removeClass("so-panels-loading")},setParent:function(e,t){this.parentDialog={text:e,dialog:t}},onResize:function(){var e=window.matchMedia("(max-width: 980px)");["left","right"].forEach(function(t){var i=this.$(".so-"+t+"-sidebar"),s=this.$(".so-show-"+t+"-sidebar");this.hasSidebar(t)?(s.hide(),e.matches?(s.show(),s.closest(".so-title-bar").addClass("so-has-"+t+"-button"),i.hide(),i.closest(".so-panels-dialog").removeClass("so-panels-dialog-has-"+t+"-sidebar")):(s.hide(),s.closest(".so-title-bar").removeClass("so-has-"+t+"-button"),i.show(),i.closest(".so-panels-dialog").addClass("so-panels-dialog-has-"+t+"-sidebar"))):(i.hide(),s.hide())}.bind(this))},hasSidebar:function(e){return this.$(".so-"+e+"-sidebar").children().length>0},toggleLeftSideBar:function(){this.toggleSidebar("left")},toggleRightSideBar:function(){this.toggleSidebar("right")},toggleSidebar:function(e){var t=this.$(".so-"+e+"-sidebar");t.is(":visible")?t.hide():t.show()}})},{}],28:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-live-editor").html())),previewScrollTop:0,loadTimes:[],previewFrameId:1,previewUrl:null,previewIframe:null,events:{"click .live-editor-close":"close","click .live-editor-save":"closeAndSave","click .live-editor-collapse":"collapse","click .live-editor-mode":"mobileToggle","keyup .live-editor-mode":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(e){e=\_.extend({builder:!1,previewUrl:!1},e),\_.isEmpty(e.previewUrl)&&(e.previewUrl=panelsOptions.ajaxurl+"&action=so\_panels\_live\_editor\_preview"),this.builder=e.builder,this.previewUrl=e.previewUrl,this.listenTo(this.builder.model,"refresh\_panels\_data",this.handleRefreshData),this.listenTo(this.builder.model,"load\_panels\_data",this.handleLoadData)},render:function(){if(this.setElement(this.template()),this.$el.hide(),l("#submitdiv #save-post").length>0){var e=this.$el.find(".live-editor-save");e.text(e.data("save"))}var t=!1;l(document).on("mousedown",(function(){t=!0})).on("mouseup",(function(){t=!1}));var i=this;return this.$el.on("mouseenter focusin",".so-widget",(function(){var e=l(this).data("live-editor-preview-widget");t||void 0===e||!e.length||i.$(".so-preview-overlay").is(":visible")||(i.highlightElement(e),i.scrollToElement(e))})),this.$el.on("mouseleave focusout",".so-widget",function(){this.resetHighlights()}.bind(this)),this.listenTo(this.builder,"open\_dialog",(function(){this.resetHighlights()})),this},attach:function(){this.$el.appendTo("body")},open:function(){if(""===this.$el.html()&&this.render(),0===this.$el.closest("body").length&&this.attach(),s.helpers.pageScroll.lock(),this.$el.is(":visible"))return this;if(this.$el.show(),this.refreshPreview(this.builder.model.getPanelsData()),l(".live-editor-close").trigger("focus"),this.originalContainer=this.builder.$el.parent(),this.builder.$el.appendTo(this.$(".so-live-editor-builder")),this.builder.$(".so-tool-button.so-live-editor").hide(),this.builder.trigger("builder\_resize"),"auto-draft"===l("#original\_post\_status").val()&&!this.autoSaved){var e=this;wp.autosave&&(""===l('#title[name="post\_title"]').val()&&l('#title[name="post\_title"]').val(panelsOptions.loc.draft).trigger("keydown"),l(document).one("heartbeat-tick.autosave",(function(){e.autoSaved=!0,e.refreshPreview(e.builder.model.getPanelsData())})),wp.autosave.server.triggerSave())}},close:function(e=!0){return this.$el.is(":visible")?e&&this.builder.config.liveEditorCloseAfter?(l("#wp-admin-bar-view a")[0].click(),this):(this.$el.hide(),s.helpers.pageScroll.unlock(),this.builder.$el.appendTo(this.originalContainer),this.builder.$(".so-tool-button.so-live-editor").show(),void this.builder.trigger("builder\_resize")):this},closeAndSave:function(){this.close(!1),l('#submitdiv input[type="submit"][name="save"], .editor-post-publish-button, .edit-widgets-header\_\_actions .is-primary')[0].click()},collapse:function(){this.$el.toggleClass("so-collapsed")},highlightElement:function(e){\_.isUndefined(this.resetHighlightTimeout)||clearTimeout(this.resetHighlightTimeout),this.previewIframe.contents().find("body").find(".panel-grid .panel-grid-cell .so-panel").filter((function(){return 0===l(this).parents(".so-panel").length})).not(e).addClass("so-panels-faded"),e.removeClass("so-panels-faded").addClass("so-panels-highlighted")},resetHighlights:function(){var e=this.previewIframe.contents().find("body");this.resetHighlightTimeout=setTimeout((function(){e.find(".panel-grid .panel-grid-cell .so-panel").removeClass("so-panels-faded so-panels-highlighted")}),100)},scrollToElement:function(e){this.$(".so-preview iframe")[0].contentWindow.liveEditorScrollTo(e)},handleRefreshData:function(e){if(!this.$el.is(":visible"))return this;this.refreshPreview(e)},handleLoadData:function(){if(!this.$el.is(":visible"))return this;this.refreshPreview(this.builder.model.getPanelsData())},refreshPreview:function(e){var t=this.loadTimes.length?\_.reduce(this.loadTimes,(function(e,t){return e+t}),0)/this.loadTimes.length:1e3;\_.isNull(this.previewIframe)||this.$(".so-preview-overlay").is(":visible")||(this.previewScrollTop=this.previewIframe.contents().scrollTop()),this.$(".so-preview-overlay").show(),this.$(".so-preview-overlay .so-loading-bar").clearQueue().css("width","0%").animate({width:"100%"},parseInt(t)+100),this.postToIframe({live\_editor\_panels\_data:JSON.stringify(e),live\_editor\_post\_ID:this.builder.config.postId},this.previewUrl,this.$(".so-preview")),this.previewIframe.data("load-start",(new Date).getTime())},postToIframe:function(e,t,i){\_.isNull(this.previewIframe)||this.previewIframe.remove();var s="siteorigin-panels-live-preview-"+this.previewFrameId;this.previewIframe=l('<iframe src="'+t+'"></iframe>').attr({id:s,name:s}).appendTo(i),this.setupPreviewFrame(this.previewIframe);var o=l('<form id="soPostToPreviewFrame" method="post"></form>').attr({id:s,target:this.previewIframe.attr("id"),action:t}).appendTo("body");return l.each(e,(function(e,t){l('<input type="hidden" />').attr({name:e,value:t}).appendTo(o)})),o.trigger("submit").remove(),this.previewFrameId++,this.previewIframe},setupPreviewFrame:function(e){var t=this;e.data("iframeready",!1).on("iframeready",(function(){var e=l(this),i=e.contents();if(!e.data("iframeready")){e.data("iframeready",!0),void 0!==e.data("load-start")&&(t.loadTimes.unshift((new Date).getTime()-e.data("load-start")),\_.isEmpty(t.loadTimes)||(t.loadTimes=t.loadTimes.slice(0,4))),l(".live-editor-mode.so-active").length&&(l(".so-panels-live-editor .so-preview iframe").css("transition","none"),t.mobileToggle()),setTimeout((function(){i.scrollTop(t.previewScrollTop),t.$(".so-preview-overlay").hide(),l(".so-panels-live-editor .so-preview iframe").css("transition","all .2s ease")}),100);var s=i.find("#pl-"+t.builder.config.postId);s.find(".panel-grid .panel-grid-cell .so-panel").filter((function(){return l(this).closest(".panel-layout").is(s)})).each((function(e,i){var s=l(i),o=t.$(".so-live-editor-builder .so-widget").eq(s.data("index"));o.data("live-editor-preview-widget",s),s.css({cursor:"pointer"}).on("mouseenter",(function(){o.parent().addClass("so-hovered"),t.highlightElement(s)})).on("mouseleave",(function(){o.parent().removeClass("so-hovered"),t.resetHighlights()})).on("click",(function(e){e.preventDefault(),o.find(".title h4").trigger("click")}))})),i.find("a").css({"pointer-events":"none"}).on("click",(function(e){e.preventDefault()}))}})).on("load",(function(){var e=l(this);e.data("iframeready")||e.trigger("iframeready")}))},hasPreviewUrl:function(){return""!==this.$("form.live-editor-form").attr("action")},mobileToggle:function(e){var t=l(void 0!==e?e.currentTarget:".live-editor-mode.so-active");this.$(".live-editor-mode").not(t).removeClass("so-active"),t.addClass("so-active"),this.$el.removeClass("live-editor-desktop-mode live-editor-tablet-mode live-editor-mobile-mode").addClass("live-editor-"+t.data("mode")+"-mode").find("iframe").css("width",t.data("width"))}})},{}],29:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-row").html())),events:{"click .so-row-settings":"editSettingsHandler","click .so-row-duplicate":"duplicateHandler","click .so-row-delete":"confirmedDeleteHandler","click .so-row-color":"rowColorChangeHandler"},builder:null,dialog:null,initialize:function(){var e=this.model.get("cells");this.listenTo(e,"add",this.handleCellAdd),this.listenTo(e,"remove",this.handleCellRemove),this.listenTo(this.model,"reweight\_cells",this.resizeRow),this.listenTo(this.model,"destroy",this.onModelDestroy);var t=this;e.each((function(e){t.listenTo(e.get("widgets"),"add",t.resize)})),e.on("add",(function(e){t.listenTo(e.get("widgets"),"add",t.resize)}),this),this.listenTo(this.model,"change:label",this.onLabelChange),this.listenTo(this.model,"change:styles-row ",this.toggleVisibilityFade)},render:function(){var e=this.model.has("color\_label")?this.model.get("color\_label"):panelsOptions.row\_color.default,t=this.model.has("label")?this.model.get("label"):"";"number"==typeof e&&"string"==typeof panelsOptions.row\_color.migrations[e]&&(this.$el.removeClass("so-row-color-"+e),e=panelsOptions.row\_color.migrations[e],this.$el.addClass("so-row-color-"+e),this.model.set("color\_label",e)),this.setElement(this.template({rowColorLabel:e,rowLabel:t})),this.$el.data("view",this);var i=this;return this.model.get("cells").each((function(e){var t=new s.view.cell({model:e});t.row=i,t.render(),t.$el.appendTo(i.$(".so-cells"))})),this.builder.supports("rowAction")?(this.builder.supports("editRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-settings").parent().remove(),this.$el.addClass("so-row-no-edit")),this.builder.supports("addRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-duplicate").parent().remove(),this.$el.addClass("so-row-no-duplicate")),this.builder.supports("deleteRow")||(this.$(".so-row-toolbar .so-dropdown-links-wrapper .so-row-delete").parent().remove(),this.$el.addClass("so-row-no-delete"))):(this.$(".so-row-toolbar .so-dropdown-wrapper").remove(),this.$el.addClass("so-row-no-actions")),this.builder.supports("moveRow")||(this.$(".so-row-toolbar .so-row-move").remove(),this.$el.addClass("so-row-no-move")),this.$(".so-row-toolbar").html().trim().length||this.$(".so-row-toolbar").remove(),this.toggleVisibilityFade(),this.listenTo(this.builder,"widget\_sortable\_move",this.resizeRow),this.listenTo(this.builder,"builder\_resize",this.resizeRow),this.resizeRow(),this},checkIfStyleExists:function(e,t){return void 0!==e[t]&&"on"==e[t]},toggleVisibilityFade:function(){var e=this.model.attributes.style;void 0!==e&&(this.checkIfStyleExists(e,"disable\_row")||this.checkIfStyleExists(e,"disable\_desktop")||this.checkIfStyleExists(e,"disable\_tablet")||this.checkIfStyleExists(e,"disable\_mobile")||this.checkIfStyleExists(e,"disable\_logged\_in")||this.checkIfStyleExists(e,"disable\_logged\_out")?this.$el.addClass("so-hidden-row"):this.$el.removeClass("so-hidden-row"))},visualCreate:function(){this.$el.hide().fadeIn("fast")},resizeRow:function(e){if(this.$el.is(":visible")){this.$(".so-cells .cell-wrapper").css("min-height",0),this.$(".so-cells .resize-handle").css("height",0),this.$(".so-cells").removeClass("so-action-icons");var t,i=0,s=0,o=!1;this.$(".so-cells .cell").each((function(){t=l(this),l(this).css("width",100\*t.data("view").model.get("weight")+"%"),(s=t.width())<215?(t.addClass("so-show-icon"),o=!0,s<125?t.addClass("so-small-actions"):t.removeClass("so-small-actions")):t.removeClass("so-show-icon so-small-actions"),i=Math.max(i,t.height())})),this.$(".so-cells .cell-wrapper").css("min-height",Math.max(i,63)+"px"),o&&this.$(".so-cells").addClass("so-action-icons"),this.$(".so-cells .resize-handle").css("height",this.$(".so-cells .cell-wrapper").outerHeight()+"px")}},onModelDestroy:function(){this.remove()},visualDestroyModel:function(){this.builder.addHistoryEntry("row\_deleted");var e=this;this.$el.fadeOut("normal",(function(){e.model.destroy(),e.builder.model.refreshPanelsData()}))},onLabelChange:function(e,t){0==this.$(".so-row-label").length?this.$(".so-row-toolbar").prepend('<h3 class="so-row-label">'+t+"</h3>"):this.$(".so-row-label").text(t)},duplicateHandler:function(){this.builder.addHistoryEntry("row\_duplicated");var e=this.model.clone(this.builder.model);this.builder.model.get("rows").add(e,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData()},copyHandler:function(){s.helpers.clipboard.setModel(this.model)},pasteHandler:function(){var e=s.helpers.clipboard.getModel("row-model");!\_.isEmpty(e)&&e instanceof s.model.row&&(this.builder.addHistoryEntry("row\_pasted"),e.builder=this.builder.model,this.builder.model.get("rows").add(e,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData())},confirmedDeleteHandler:function(e){var t=l(e.target);if(t.hasClass("dashicons")&&(t=t.parent()),t.hasClass("so-confirmed"))this.visualDestroyModel();else{var i=t.html();t.addClass("so-confirmed").html('<span class="dashicons dashicons-yes"></span>'+panelsOptions.loc.dropdown\_confirm),setTimeout((function(){t.removeClass("so-confirmed").html(i)}),2500)}},editSettingsHandler:function(){if(this.builder.supports("editRow"))return null===this.dialog&&(this.dialog=new s.dialog.row,this.dialog.setBuilder(this.builder).setRowModel(this.model),this.dialog.rowView=this),this.dialog.openDialog(),this},deleteHandler:function(){return this.model.destroy(),this},rowColorChangeHandler:function(e){this.$(".so-row-color").removeClass("so-row-color-selected");var t=l(e.target),i=t.data("color-label"),s=this.model.has("color\_label")?this.model.get("color\_label"):panelsOptions.row\_color.default;t.addClass("so-row-color-selected"),this.$el.removeClass("so-row-color-"+s),this.$el.addClass("so-row-color-"+i),this.model.set("color\_label",i)},handleCellAdd:function(e){var t=new s.view.cell({model:e});t.row=this,t.render(),t.$el.appendTo(this.$(".so-cells"))},handleCellRemove:function(e){this.$(".so-cells > .cell").each((function(){var t=l(this).data("view");\_.isUndefined(t)||t.model.cid===e.cid&&t.remove()}))},buildContextualMenu:function(e,t){for(var i=[],l=1;l<5;l++)i.push({title:l+" "+panelsOptions.loc.contextual.column});this.builder.supports("addRow")&&t.addSection("add-row",{sectionTitle:panelsOptions.loc.contextual.add\_row,search:!1},i,function(e){this.builder.addHistoryEntry("row\_added");for(var t=Number(e)+1,i=[],l=0;l<t;l++)i.push({weight:100/t});var o=new s.model.row({collection:this.collection}),n=new s.collection.cells(i);n.each((function(e){e.row=o})),o.setCells(n),o.builder=this.builder.model,this.builder.model.get("rows").add(o,{at:this.builder.model.get("rows").indexOf(this.model)+1}),this.builder.model.refreshPanelsData()}.bind(this));var o={};this.builder.supports("editRow")&&(o.edit={title:panelsOptions.loc.contextual.row\_edit}),s.helpers.clipboard.canCopyPaste()&&(o.copy={title:panelsOptions.loc.contextual.row\_copy},this.builder.supports("addRow")&&s.helpers.clipboard.isModel("row-model")&&(o.paste={title:panelsOptions.loc.contextual.row\_paste})),this.builder.supports("addRow")&&(o.duplicate={title:panelsOptions.loc.contextual.row\_duplicate}),this.builder.supports("deleteRow")&&(o.delete={title:panelsOptions.loc.contextual.row\_delete,confirm:!0}),\_.isEmpty(o)||t.addSection("row-actions",{sectionTitle:panelsOptions.loc.contextual.row\_actions,search:!1},o,function(e){switch(e){case"edit":this.editSettingsHandler();break;case"copy":this.copyHandler();break;case"paste":this.pasteHandler();break;case"duplicate":this.duplicateHandler();break;case"delete":this.visualDestroyModel()}}.bind(this))}})},{}],30:[function(e,t,i){window.panels;var s=jQuery;t.exports=Backbone.View.extend({stylesLoaded:!1,events:{"keyup .so-image-selector":function(e){13==e.which&&this.$el.find(".select-image").trigger("click")}},initialize:function(){},render:function(e,t,i){if(!\_.isUndefined(e)){i=\_.extend({builderType:"",dialog:null},i),this.$el.addClass("so-visual-styles so-"+e+"-styles so-panels-loading");var l={builderType:i.builderType};return"widget"===e&&(l.widget=this.model.get("class")),"cell"===e&&(l.index=i.index),s.post(panelsOptions.ajaxurl,{action:"so\_panels\_style\_form",type:e,style:this.model.get("style"),args:JSON.stringify(l),postId:t},null,"html").done(function(e){this.$el.html(e),this.setupFields(),this.stylesLoaded=!0,this.trigger("styles\_loaded",!\_.isEmpty(e)),\_.isNull(i.dialog)||i.dialog.trigger("styles\_loaded",!\_.isEmpty(e))}.bind(this)).fail(function(e){var t;t=e&&e.responseText?e.responseText:panelsOptions.forms.loadingFailed,this.$el.html(t)}.bind(this)).always(function(){this.$el.removeClass("so-panels-loading")}.bind(this)),this}},attach:function(e){e.append(this.$el)},detach:function(){this.$el.detach()},setupFields:function(){if(this.$(".style-section-wrapper").each((function(){var e=s(this);e.find(".style-section-head").on("click keypress",(function(t){t.preventDefault(),e.find(".style-section-fields").slideToggle("fast")}))})),!\_.isUndefined(s.fn.wpColorPicker)){"object"!=typeof panelsOptions.wpColorPickerOptions.palettes||Array.isArray(panelsOptions.wpColorPickerOptions.palettes)||(panelsOptions.wpColorPickerOptions.palettes=s.map(panelsOptions.wpColorPickerOptions.palettes,(function(e){return e}))),s.fn.handleAlphaDefault=function(){var t=s(this).parents(".wp-picker-container"),i=t.find(".wp-color-result");t.find(".wp-color-picker[data-alpha-enabled]").length?i.css("background-image",""==s(this).val()?"none":e):i.css("background-image","none")},panelsOptions.wpColorPickerOptions.change=function(e,t){setTimeout((function(){s(e.target).handleAlphaDefault(),s(e.target).trigger("change")}),100)},this.$(".so-wp-color-field").wpColorPicker(panelsOptions.wpColorPickerOptions);var e=this.$(".wp-color-picker[data-alpha-enabled]").parents(".wp-picker-container").find(".wp-color-result").css("background-image");this.$(".wp-color-picker[data-alpha-enabled]").on("change",(function(){s(this).handleAlphaDefault()})).trigger("change")}this.$(".style-field-image").each((function(){var e=null,t=s(this);t.find(".so-image-selector").on("click",(function(i){i.preventDefault(),null===e&&((e=wp.media({title:panelsOptions.add\_media,library:{type:"image"},button:{text:panelsOptions.add\_media\_done,close:!0}})).on("open",(function(){var i=e.state().get("selection"),s=t.find(".so-image-selector > input").val();s&&i.add(wp.media.attachment(s))})),e.on("select",(function(){var i=e.state().get("selection").first().attributes,s=i.url;if(!\_.isUndefined(i.sizes))try{s=i.sizes.thumbnail.url}catch(e){s=i.sizes.full.url}t.find(".current-image").css("background-image","url("+s+")"),t.find(".so-image-selector > input").val(i.id).trigger("change"),t.find(".remove-image").removeClass("hidden")}))),s(this).next().focus(),e.open()})),t.find(".remove-image").on("click",(function(e){e.preventDefault(),t.find(".current-image").css("background-image","none"),t.find(".so-image-selector > input").val(""),t.find(".remove-image").addClass("hidden")}))})),this.$(".style-field-measurement").each((function(){var e=s(this),t=e.find('input[type="text"]'),i=e.find("select"),l=e.find('input[type="hidden"]');t.on("focus",(function(){s(this).trigger("select")}));!function(e){if(""!==e){var o=/(?:([0-9\.,\-]+)(.\*))+/,n=l.val().split(" "),a=[];for(var r in n){var d=o.exec(n[r]);\_.isNull(d)||\_.isUndefined(d[1])||\_.isUndefined(d[2])||(a.push(d[1]),i.val(d[2]))}1===t.length?t.val(a.join(" ")):(1===a.length?a=[a[0],a[0],a[0],a[0]]:2===a.length?a=[a[0],a[1],a[0],a[1]]:3===a.length&&(a=[a[0],a[1],a[2],a[1]]),t.each((function(e,t){s(t).val(a[e])})))}}(l.val());var o=function(e){if(1===t.length){var o=t.val().split(" ").filter((function(e){return""!==e})).map((function(e){return e+i.val()})).join(" ");l.val(o)}else{var n=s(e.target),a=[],r=[],d=[];t.each((function(e,t){var i=""!==s(t).val()?parseFloat(s(t).val()):null;a.push(i),null===i?r.push(e):d.push(e)})),3===r.length&&d[0]===t.index(n)&&(t.val(n.val()),a=[n.val(),n.val(),n.val(),n.val()]),JSON.stringify(a)===JSON.stringify([null,null,null,null])?l.val(""):l.val(a.map((function(e){return(null===e?0:e)+i.val()})).join(" "))}};t.on("change",o),i.on("change",o)})),this.$(".style-field-toggle").each((function(){const e=s(this),t=e.find(".so-toggle-switch-input"),i=t.next(),l=e.find(".so-toggle-fields"),o=function(){t.prop("checked")?i.attr("aria-checked","true").attr("aria-label",i.data("on")):i.attr("aria-checked","false").attr("aria-label",i.data("off"))};o(),t.on("change",(function(){s(this).prop("checked")?l.slideDown():l.slideUp(),o()})),i.on("keyup",(function(e){if("Enter"==e.key){const e=t.prop("checked");t.prop("checked",!e).trigger("change")}}))})),this.$(".style-field-toggle .so-toggle-switch-input").trigger("change"),this.$(".style-field-slider").each((function(){var e=s(this),t=e.find(".so-wp-input-slider"),i=e.find(".so-wp-value-slider");i.slider({max:parseFloat(t.attr("max")),min:parseFloat(t.attr("min")),step:parseFloat(t.attr("step")),value:parseFloat(t.val()),slide:function(i,s){t.val(parseFloat(s.value)),t.trigger("change"),e.find(".so-wp-slider-value").html(s.value)}}),t.on("change",(function(s,l){l&&l.silent||(i.slider("value",parseFloat(t.val())),e.find(".so-wp-slider-value").html(t.val()))}))}));var t=this.$(".so-field-background\_image\_attachment"),i=this.$(".so-field-background\_display"),l=this.$(".so-field-background\_image\_size");if($background\_image\_opacity=this.$(".so-field-background\_image\_opacity"),t.length&&(i.length||l.length||$background\_image\_opacity.length)){var o=function(){var e=t.find('[name="style[background\_image\_attachment]"]');e.val()&&0!=e.val()||(e=t.find('[name="style[background\_image\_attachment\_fallback]"]')),e.val()&&0!=e.val()?(i.show(),l.show(),$background\_image\_opacity.show()):(i.hide(),l.hide(),$background\_image\_opacity.hide())};o(),t.find('[name="style[background\_image\_attachment]"], [name="style[background\_image\_attachment\_fallback]"]').on("change",o),t.find(".remove-image").on("click",o)}var n=this.$(".so-field-border\_color"),a=this.$(".so-field-border\_thickness");if(n.length&&a.length){var r=function(){n.find(".so-wp-color-field").val()?(a.show(),a.show()):(a.hide(),a.hide())};r(),n.find(".so-wp-color-field").on("change",r),n.find(".wp-picker-clear").on("click",r)}s(document).trigger("setup\_style\_fields",this)}})},{}],31:[function(e,t,i){var s=window.panels,l=jQuery;t.exports=Backbone.View.extend({template:\_.template(s.helpers.utils.processTemplate(l("#siteorigin-panels-builder-widget").html())),cell:null,dialog:null,events:{"click .widget-edit":"editHandler","touchend .widget-edit":"editHandler","click .title h4":"editHandler","touchend .title h4":"editHandler","click .actions .widget-duplicate":"duplicateHandler","click .actions .widget-delete":"deleteHandler","keyup .actions a":function(e){s.helpers.accessibility.triggerClickOnEnter(e)}},initialize:function(){this.listenTo(this.model,"destroy",this.onModelDestroy),this.listenTo(this.model,"change:values",this.onModelChange),this.listenTo(this.model,"change:styles ",this.toggleVisibilityFade),this.listenTo(this.model,"change:label",this.onLabelChange)},render:function(e){if(e=\_.extend({loadForm:!1},e),this.setElement(this.template({title:this.model.getWidgetField("title"),description:this.model.getTitle(),widget\_class:this.model.attributes.class})),this.$el.data("view",this),this.cell.row.builder.supports("editWidget")&&!this.model.get("read\_only")||(this.$(".actions .widget-edit").remove(),this.$el.addClass("so-widget-no-edit")),this.cell.row.builder.supports("addWidget")||(this.$(".actions .widget-duplicate").remove(),this.$el.addClass("so-widget-no-duplicate")),this.cell.row.builder.supports("deleteWidget")||(this.$(".actions .widget-delete").remove(),this.$el.addClass("so-widget-no-delete")),this.cell.row.builder.supports("moveWidget")||this.$el.addClass("so-widget-no-move"),this.$(".actions").html().trim().length||this.$(".actions").remove(),this.model.get("read\_only")&&this.$el.addClass("so-widget-read-only"),0===\_.size(this.model.get("values"))||e.loadForm){var t=this.getEditDialog();t.once("form\_loaded",t.saveWidget,t),t.setupDialog()}return this.toggleVisibilityFade(),this.listenTo(this.cell.row.builder,"after\_user\_adds\_widget",this.afterUserAddsWidgetHandler),this},checkIfStyleExists:function(e,t){return void 0!==e[t]&&"on"==e[t]},toggleVisibilityFade:function(){var e=this.model.attributes.style;void 0!==e&&(this.checkIfStyleExists(e,"disable\_widget")||this.checkIfStyleExists(e,"disable\_desktop")||this.checkIfStyleExists(e,"disable\_tablet")||this.checkIfStyleExists(e,"disable\_mobile")||this.checkIfStyleExists(e,"disable\_logged\_in")||this.checkIfStyleExists(e,"disable\_logged\_out")?this.$el.addClass("so-hidden-widget"):this.$el.removeClass("so-hidden-widget"))},visualCreate:function(){this.$el.hide().fadeIn("fast")},getEditDialog:function(){return null===this.dialog&&(this.dialog=new s.dialog.widget({model:this.model}),this.dialog.setBuilder(this.cell.row.builder),this.dialog.widgetView=this),this.dialog},editHandler:function(){return!this.cell.row.builder.supports("editWidget")||this.model.get("read\_only")?this:(this.getEditDialog().openDialog(),this)},duplicateHandler:function(){this.cell.row.builder.addHistoryEntry("widget\_duplicated");var e=this.model.clone(this.model.cell);return this.cell.model.get("widgets").add(e,{at:this.model.collection.indexOf(this.model)+1}),this.cell.row.builder.model.refreshPanelsData(),this},copyHandler:function(){s.helpers.clipboard.setModel(this.model)},deleteHandler:function(){return this.visualDestroyModel(),this},onModelChange:function(){this.$(".description").html(this.model.getTitle())},onLabelChange:function(e){this.$(".title > h4").text(e.getWidgetField("title"))},onModelDestroy:function(){this.remove()},visualDestroyModel:function(){return this.cell.row.builder.addHistoryEntry("widget\_deleted"),this.$el.fadeOut("fast",function(){this.cell.row.resizeRow(),this.model.destroy(),this.cell.row.builder.model.refreshPanelsData(),this.remove()}.bind(this)),this},buildContextualMenu:function(e,t){this.cell.row.builder.supports("addWidget")&&t.addSection("add-widget-below",{sectionTitle:panelsOptions.loc.contextual.add\_widget\_below,searchPlaceholder:panelsOptions.loc.contextual.search\_widgets,defaultDisplay:panelsOptions.contextual.default\_widgets},panelsOptions.widgets,function(e){this.cell.row.builder.trigger("before\_user\_adds\_widget"),this.cell.row.builder.addHistoryEntry("widget\_added");var t=new s.model.widget({class:e});t.cell=this.cell.model,this.cell.model.get("widgets").add(t,{at:this.model.collection.indexOf(this.model)+1}),this.cell.row.builder.model.refreshPanelsData(),this.cell.row.builder.trigger("after\_user\_adds\_widget",t)}.bind(this));var i={};this.cell.row.builder.supports("editWidget")&&!this.model.get("read\_only")&&(i.edit={title:panelsOptions.loc.contextual.widget\_edit}),s.helpers.clipboard.canCopyPaste()&&(i.copy={title:panelsOptions.loc.contextual.widget\_copy}),this.cell.row.builder.supports("addWidget")&&(i.duplicate={title:panelsOptions.loc.contextual.widget\_duplicate}),this.cell.row.builder.supports("deleteWidget")&&(i.delete={title:panelsOptions.loc.contextual.widget\_delete,confirm:!0}),\_.isEmpty(i)||t.addSection("widget-actions",{sectionTitle:panelsOptions.loc.contextual.widget\_actions,search:!1},i,function(e){switch(e){case"edit":this.editHandler();break;case"copy":this.copyHandler();break;case"duplicate":this.duplicateHandler();break;case"delete":this.visualDestroyModel()}}.bind(this)),this.cell.buildContextualMenu(e,t)},afterUserAddsWidgetHandler:function(e){this.model===e&&panelsOptions.instant\_open&&setTimeout(this.editHandler.bind(this),350)}})},{}],32:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.customHtmlWidgets,o=s("<div></div>"),n=t.find(".widget-content:first");n.before(o);var a=new l.CustomHtmlWidgetControl({el:o,syncContainer:n});return a.initializeEditor(),a.editor.codemirror.refresh(),a}};t.exports=l},{}],33:[function(e,t,i){var s=e("./custom-html-widget"),l=e("./media-widget"),o=e("./text-widget"),n={CUSTOM\_HTML:"custom\_html",MEDIA\_AUDIO:"media\_audio",MEDIA\_GALLERY:"media\_gallery",MEDIA\_IMAGE:"media\_image",MEDIA\_VIDEO:"media\_video",TEXT:"text",addWidget:function(e,t){var i,n=e.find("> .id\_base").val();switch(n){case this.CUSTOM\_HTML:i=s;break;case this.MEDIA\_AUDIO:case this.MEDIA\_GALLERY:case this.MEDIA\_IMAGE:case this.MEDIA\_VIDEO:i=l;break;case this.TEXT:i=o}i.addWidget(n,e,t)}};t.exports=n},{"./custom-html-widget":32,"./media-widget":34,"./text-widget":35}],34:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.mediaWidgets,o=l.controlConstructors[e];if(o){var n=l.modelConstructors[e]||l.MediaWidgetModel,a=t.find("> .widget-content"),r=s('<div class="media-widget-control"></div>');a.before(r);var d={};a.find(".media-widget-instance-property").each((function(){var e=s(this);d[e.data("property")]=e.val()})),d.widget\_id=i;var c=new o({el:r,syncContainer:a,model:new n(d)});return c.render(),c}}};t.exports=l},{}],35:[function(e,t,i){var s=jQuery,l={addWidget:function(e,t,i){var l=wp.textWidgets,o={},n=t.find(".visual");if(n.length>0){if(!n.val())return null;var a=s("<div></div>"),r=t.find(".widget-content:first");r.before(a),o={el:a,syncContainer:r}}else o={el:t};var d=new l.TextWidgetControl(o),c=wp.oldEditor?wp.oldEditor:wp.editor;return c&&c.hasOwnProperty("autop")&&(wp.editor.autop=c.autop,wp.editor.removep=c.removep,wp.editor.initialize=c.initialize),d.initializeEditor(),d}};t.exports=l},{}]},{},[18]); |
* ## [siteorigin-panels/trunk/lang/siteorigin-panels.pot](/changeset/3053935/siteorigin-panels/trunk/lang/siteorigin-panels.pot "Show the changeset 3053935 restricted to siteorigin-panels/trunk/lang/siteorigin-panels.pot")

  | [r3045967](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L106 "Show revision 3045967 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L106 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 106 | 106 | msgstr "" |
  | 107 | 107 |  |
  | 108 |  | #: inc/admin-layouts.php:36~~4~~ |
  |  | 108 | #: inc/admin-layouts.php:367 |
  | 109 | 109 | msgid "Missing layout ID or no such layout exists" |
  | 110 | 110 | msgstr "" |
  | 111 | 111 |  |
  | 112 |  | #: inc/admin-layouts.php:4~~19~~ |
  |  | 112 | #: inc/admin-layouts.php:423 |
  | 113 | 113 | msgid "There was a problem fetching the layout. Please try again later." |
  | 114 | 114 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L154) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L154) |  |
  | 154 | 154 | msgstr "" |
  | 155 | 155 |  |
  |  | 156 | #: inc/admin.php:177 |
  |  | 157 | msgid "Settings" |
  |  | 158 | msgstr "" |
  |  | 159 |  |
  | 156 | 160 | #: inc/admin.php:178 |
  | 157 |  | ~~msgid "Settings"~~ |
  | 158 |  | ~~msgstr ""~~ |
  | 159 |  |  |
  | 160 |  | ~~#: inc/admin.php:179~~ |
  | 161 | 161 | msgid "Support" |
  | 162 | 162 | msgstr "" |
  | 163 | 163 |  |
  | 164 |  | #: inc/admin.php:18~~2~~, tpl/js-templates.php:49 |
  |  | 164 | #: inc/admin.php:181, tpl/js-templates.php:49 |
  | 165 | 165 | msgid "Addons" |
  | 166 | 166 | msgstr "" |
  | 167 | 167 |  |
  | 168 |  | #: inc/admin.php:19~~5, inc/admin.php:703, inc/admin.php:1483, inc/admin.php:1487, inc/settings.php:229~~, tpl/js-templates.php:217 |
  |  | 168 | #: inc/admin.php:194, inc/admin.php:704, inc/admin.php:1477, inc/admin.php:1481, tpl/js-templates.php:217 |
  | 169 | 169 | msgid "Page Builder" |
  | 170 | 170 | msgstr "" |
  | 171 | 171 |  |
  | 172 |  | #: inc/admin.php:38~~2~~ |
  |  | 172 | #: inc/admin.php:381 |
  | 173 | 173 | msgid "All Widgets" |
  | 174 | 174 | msgstr "" |
  | 175 | 175 |  |
  | 176 |  | #: inc/admin.php:39~~4~~ |
  |  | 176 | #: inc/admin.php:393 |
  | 177 | 177 | msgid "Choose Media" |
  | 178 | 178 | msgstr "" |
  | 179 | 179 |  |
  | 180 |  | #: inc/admin.php:39~~5~~, tpl/js-templates.php:226, tpl/js-templates.php:293, tpl/js-templates.php:381 |
  |  | 180 | #: inc/admin.php:394, tpl/js-templates.php:226, tpl/js-templates.php:293, tpl/js-templates.php:381 |
  | 181 | 181 | msgid "Done" |
  | 182 | 182 | msgstr "" |
  | 183 | 183 |  |
  |  | 184 | #: inc/admin.php:418 |
  |  | 185 | msgid "Missing Widget" |
  |  | 186 | msgstr "" |
  |  | 187 |  |
  | 184 | 188 | #: inc/admin.php:419 |
  | 185 |  | ~~msgid "Missing Widget"~~ |
  | 186 |  | ~~msgstr ""~~ |
  | 187 |  |  |
  | 188 |  | ~~#: inc/admin.php:420~~ |
  | 189 | 189 | msgid "Page Builder doesn't know about this widget." |
  | 190 | 190 | msgstr "" |
  | 191 | 191 |  |
  | 192 | 192 | #. translators: Number of seconds since. |
  | 193 |  | #: inc/admin.php:42~~4~~ |
  |  | 193 | #: inc/admin.php:423 |
  | 194 | 194 | msgid "%d seconds" |
  | 195 | 195 | msgstr "" |
  | 196 | 196 |  |
  | 197 | 197 | #. translators: Number of minutes since. |
  | 198 |  | #: inc/admin.php:42~~6~~ |
  |  | 198 | #: inc/admin.php:425 |
  | 199 | 199 | msgid "%d minutes" |
  | 200 | 200 | msgstr "" |
  | 201 | 201 |  |
  | 202 | 202 | #. translators: Number of hours since. |
  | 203 |  | #: inc/admin.php:42~~8~~ |
  |  | 203 | #: inc/admin.php:427 |
  | 204 | 204 | msgid "%d hours" |
  | 205 | 205 | msgstr "" |
  | 206 | 206 |  |
  | 207 | 207 | #. translators: A single second since. |
  | 208 |  | #: inc/admin.php:43~~1~~ |
  |  | 208 | #: inc/admin.php:430 |
  | 209 | 209 | msgid "%d second" |
  | 210 | 210 | msgstr "" |
  | 211 | 211 |  |
  | 212 | 212 | #. translators: A single minute since. |
  | 213 |  | #: inc/admin.php:43~~3~~ |
  |  | 213 | #: inc/admin.php:432 |
  | 214 | 214 | msgid "%d minute" |
  | 215 | 215 | msgstr "" |
  | 216 | 216 |  |
  | 217 | 217 | #. translators: A single hour since. |
  | 218 |  | #: inc/admin.php:43~~5~~ |
  |  | 218 | #: inc/admin.php:434 |
  | 219 | 219 | msgid "%d hour" |
  | 220 | 220 | msgstr "" |
  | 221 | 221 |  |
  | 222 | 222 | #. translators: Time ago - eg. "1 minute before". |
  |  | 223 | #: inc/admin.php:437 |
  |  | 224 | msgid "%s before" |
  |  | 225 | msgstr "" |
  |  | 226 |  |
  | 223 | 227 | #: inc/admin.php:438 |
  | 224 |  | ~~msgid "%s before"~~ |
  | 225 |  | ~~msgstr ""~~ |
  | 226 |  |  |
  | 227 |  | ~~#: inc/admin.php:439~~ |
  | 228 | 228 | msgid "Now" |
  | 229 | 229 | msgstr "" |
  | 230 | 230 |  |
  |  | 231 | #: inc/admin.php:442 |
  |  | 232 | msgid "Current" |
  |  | 233 | msgstr "" |
  |  | 234 |  |
  | 231 | 235 | #: inc/admin.php:443 |
  | 232 |  | msgid "~~Current~~" |
  |  | 236 | msgid "Original" |
  | 233 | 237 | msgstr "" |
  | 234 | 238 |  |
  | 235 | 239 | #: inc/admin.php:444 |
  | 236 |  | msgid "~~Original~~" |
  |  | 240 | msgid "Version restored" |
  | 237 | 241 | msgstr "" |
  | 238 | 242 |  |
  | 239 | 243 | #: inc/admin.php:445 |
  | 240 |  | ~~msgid "Version restored"~~ |
  | 241 |  | ~~msgstr ""~~ |
  | 242 |  |  |
  | 243 |  | ~~#: inc/admin.php:446~~ |
  | 244 | 244 | msgid "Converted to editor" |
  | 245 | 245 | msgstr "" |
  | 246 | 246 |  |
  | 247 | 247 | #. translators: Message displayed in the history when a widget is deleted. |
  | 248 |  | #: inc/admin.php:4~~50~~ |
  |  | 248 | #: inc/admin.php:449 |
  | 249 | 249 | msgid "Widget deleted" |
  | 250 | 250 | msgstr "" |
  | 251 | 251 |  |
  | 252 | 252 | #. translators: Message displayed in the history when a widget is added. |
  | 253 |  | #: inc/admin.php:45~~2~~ |
  |  | 253 | #: inc/admin.php:451 |
  | 254 | 254 | msgid "Widget added" |
  | 255 | 255 | msgstr "" |
  | 256 | 256 |  |
  | 257 | 257 | #. translators: Message displayed in the history when a widget is edited. |
  | 258 |  | #: inc/admin.php:45~~4~~ |
  |  | 258 | #: inc/admin.php:453 |
  | 259 | 259 | msgid "Widget edited" |
  | 260 | 260 | msgstr "" |
  | 261 | 261 |  |
  | 262 | 262 | #. translators: Message displayed in the history when a widget is duplicated. |
  | 263 |  | #: inc/admin.php:45~~6~~ |
  |  | 263 | #: inc/admin.php:455 |
  | 264 | 264 | msgid "Widget duplicated" |
  | 265 | 265 | msgstr "" |
  | 266 | 266 |  |
  | 267 | 267 | #. translators: Message displayed in the history when a widget position is changed. |
  | 268 |  | #: inc/admin.php:45~~8~~ |
  |  | 268 | #: inc/admin.php:457 |
  | 269 | 269 | msgid "Widget moved" |
  | 270 | 270 | msgstr "" |
  | 271 | 271 |  |
  | 272 | 272 | #. translators: Message displayed in the history when a row is deleted. |
  | 273 |  | #: inc/admin.php:46~~2~~ |
  |  | 273 | #: inc/admin.php:461 |
  | 274 | 274 | msgid "Row deleted" |
  | 275 | 275 | msgstr "" |
  | 276 | 276 |  |
  | 277 | 277 | #. translators: Message displayed in the history when a row is added. |
  | 278 |  | #: inc/admin.php:46~~4~~ |
  |  | 278 | #: inc/admin.php:463 |
  | 279 | 279 | msgid "Row added" |
  | 280 | 280 | msgstr "" |
  | 281 | 281 |  |
  | 282 | 282 | #. translators: Message displayed in the history when a row is edited. |
  | 283 |  | #: inc/admin.php:46~~6~~ |
  |  | 283 | #: inc/admin.php:465 |
  | 284 | 284 | msgid "Row edited" |
  | 285 | 285 | msgstr "" |
  | 286 | 286 |  |
  | 287 | 287 | #. translators: Message displayed in the history when a row position is changed. |
  | 288 |  | #: inc/admin.php:46~~8~~ |
  |  | 288 | #: inc/admin.php:467 |
  | 289 | 289 | msgid "Row moved" |
  | 290 | 290 | msgstr "" |
  | 291 | 291 |  |
  | 292 | 292 | #. translators: Message displayed in the history when a row is duplicated. |
  | 293 |  | #: inc/admin.php:4~~70~~ |
  |  | 293 | #: inc/admin.php:469 |
  | 294 | 294 | msgid "Row duplicated" |
  | 295 | 295 | msgstr "" |
  | 296 | 296 |  |
  | 297 | 297 | #. translators: Message displayed in the history when a row is pasted. |
  | 298 |  | #: inc/admin.php:47~~2~~ |
  |  | 298 | #: inc/admin.php:471 |
  | 299 | 299 | msgid "Row pasted" |
  | 300 | 300 | msgstr "" |
  | 301 | 301 |  |
  | 302 |  | #: inc/admin.php:47~~5~~ |
  |  | 302 | #: inc/admin.php:474 |
  | 303 | 303 | msgid "Column resized" |
  | 304 | 304 | msgstr "" |
  | 305 | 305 |  |
  | 306 |  | #: inc/admin.php:47~~8~~ |
  |  | 306 | #: inc/admin.php:477 |
  | 307 | 307 | msgid "Prebuilt layout loaded" |
  | 308 | 308 | msgstr "" |
  | 309 | 309 |  |
  |  | 310 | #: inc/admin.php:481 |
  |  | 311 | msgid "Loading prebuilt layout" |
  |  | 312 | msgstr "" |
  |  | 313 |  |
  | 310 | 314 | #: inc/admin.php:482 |
  | 311 |  | msgid "~~Loading prebuilt layout~~" |
  |  | 315 | msgid "Would you like to copy this editor's existing content to Page Builder?" |
  | 312 | 316 | msgstr "" |
  | 313 | 317 |  |
  | 314 | 318 | #: inc/admin.php:483 |
  | 315 |  | ~~msgid "Would you like to copy this editor's existing content to Page Builder?"~~ |
  | 316 |  | ~~msgstr ""~~ |
  | 317 |  |  |
  | 318 |  | ~~#: inc/admin.php:484~~ |
  | 319 | 319 | msgid "Would you like to clear your Page Builder content and revert to using the standard visual editor?" |
  | 320 | 320 | msgstr "" |
  | 321 | 321 |  |
  | 322 | 322 | #. translators: This is the title for a widget called "Layout Builder". |
  | 323 |  | #: inc/admin.php:48~~6~~ |
  |  | 323 | #: inc/admin.php:485 |
  | 324 | 324 | msgid "Layout Builder Widget" |
  | 325 | 325 | msgstr "" |
  | 326 | 326 |  |
  | 327 | 327 | #. translators: A standard confirmation message |
  | 328 |  | #: inc/admin.php:48~~8~~, tpl/js-templates.php:102, tpl/js-templates.php:473 |
  |  | 328 | #: inc/admin.php:487, tpl/js-templates.php:102, tpl/js-templates.php:473 |
  | 329 | 329 | msgid "Are you sure?" |
  | 330 | 330 | msgstr "" |
  | 331 | 331 |  |
  | 332 | 332 | #. translators: When a layout file is ready to be inserted. %s is the filename. |
  | 333 |  | #: inc/admin.php:4~~90~~ |
  |  | 333 | #: inc/admin.php:489 |
  | 334 | 334 | msgid "%s is ready to insert." |
  | 335 | 335 | msgstr "" |
  | 336 | 336 |  |
  |  | 337 | #: inc/admin.php:493 |
  |  | 338 | msgid "Add Widget Below" |
  |  | 339 | msgstr "" |
  |  | 340 |  |
  | 337 | 341 | #: inc/admin.php:494 |
  | 338 |  | ~~msgid "Add Widget Below"~~ |
  | 339 |  | ~~msgstr ""~~ |
  | 340 |  |  |
  | 341 |  | ~~#: inc/admin.php:495~~ |
  | 342 | 342 | msgid "Add Widget to Column" |
  | 343 | 343 | msgstr "" |
  | 344 | 344 |  |
  | 345 |  | #: inc/admin.php:49~~6~~, tpl/js-templates.php:244 |
  |  | 345 | #: inc/admin.php:495, tpl/js-templates.php:244 |
  | 346 | 346 | msgid "Search Widgets" |
  | 347 | 347 | msgstr "" |
  | 348 | 348 |  |
  | 349 |  | #: inc/admin.php:49~~8~~, tpl/js-templates.php:17, tpl/js-templates.php:19 |
  |  | 349 | #: inc/admin.php:497, tpl/js-templates.php:17, tpl/js-templates.php:19 |
  | 350 | 350 | msgid "Add Row" |
  | 351 | 351 | msgstr "" |
  | 352 | 352 |  |
  | 353 |  | #: inc/admin.php:49~~9~~, inc/styles.php:518 |
  |  | 353 | #: inc/admin.php:498, inc/styles.php:518 |
  | 354 | 354 | msgid "Column" |
  | 355 | 355 | msgstr "" |
  | 356 | 356 |  |
  |  | 357 | #: inc/admin.php:500 |
  |  | 358 | msgid "Column Actions" |
  |  | 359 | msgstr "" |
  |  | 360 |  |
  | 357 | 361 | #: inc/admin.php:501 |
  | 358 |  | ~~msgid "Column Actions"~~ |
  | 359 |  | ~~msgstr ""~~ |
  | 360 |  |  |
  | 361 |  | ~~#: inc/admin.php:502~~ |
  | 362 | 362 | msgid "Paste Widget" |
  | 363 | 363 | msgstr "" |
  | 364 | 364 |  |
  |  | 365 | #: inc/admin.php:503 |
  |  | 366 | msgid "Widget Actions" |
  |  | 367 | msgstr "" |
  |  | 368 |  |
  | 365 | 369 | #: inc/admin.php:504 |
  | 366 |  | msgid "~~Widget Actions~~" |
  |  | 370 | msgid "Edit Widget" |
  | 367 | 371 | msgstr "" |
  | 368 | 372 |  |
  | 369 | 373 | #: inc/admin.php:505 |
  | 370 |  | msgid "~~Edit~~ Widget" |
  |  | 374 | msgid "Duplicate Widget" |
  | 371 | 375 | msgstr "" |
  | 372 | 376 |  |
  | 373 | 377 | #: inc/admin.php:506 |
  | 374 |  | msgid "D~~uplica~~te Widget" |
  |  | 378 | msgid "Delete Widget" |
  | 375 | 379 | msgstr "" |
  | 376 | 380 |  |
  | 377 | 381 | #: inc/admin.php:507 |
  | 378 |  | msgid "~~Delete~~ Widget" |
  |  | 382 | msgid "Copy Widget" |
  | 379 | 383 | msgstr "" |
  | 380 | 384 |  |
  | 381 | 385 | #: inc/admin.php:508 |
  | 382 |  | ~~msgid "Copy Widget"~~ |
  | 383 |  | ~~msgstr ""~~ |
  | 384 |  |  |
  | 385 |  | ~~#: inc/admin.php:509~~ |
  | 386 | 386 | msgid "Paste Widget Below" |
  | 387 | 387 | msgstr "" |
  | 388 | 388 |  |
  | 389 |  | #: inc/admin.php:51~~1~~ |
  |  | 389 | #: inc/admin.php:510 |
  | 390 | 390 | msgid "Row Actions" |
  | 391 | 391 | msgstr "" |
  | 392 | 392 |  |
  | 393 |  | #: inc/admin.php:51~~2~~, tpl/js-templates.php:100 |
  |  | 393 | #: inc/admin.php:511, tpl/js-templates.php:100 |
  | 394 | 394 | msgid "Edit Row" |
  | 395 | 395 | msgstr "" |
  | 396 | 396 |  |
  | 397 |  | #: inc/admin.php:51~~3~~, tpl/js-templates.php:101 |
  |  | 397 | #: inc/admin.php:512, tpl/js-templates.php:101 |
  | 398 | 398 | msgid "Duplicate Row" |
  | 399 | 399 | msgstr "" |
  | 400 | 400 |  |
  | 401 |  | #: inc/admin.php:51~~4~~, tpl/js-templates.php:102 |
  |  | 401 | #: inc/admin.php:513, tpl/js-templates.php:102 |
  | 402 | 402 | msgid "Delete Row" |
  | 403 | 403 | msgstr "" |
  | 404 | 404 |  |
  |  | 405 | #: inc/admin.php:514 |
  |  | 406 | msgid "Copy Row" |
  |  | 407 | msgstr "" |
  |  | 408 |  |
  | 405 | 409 | #: inc/admin.php:515 |
  | 406 |  | ~~msgid "Copy Row"~~ |
  | 407 |  | ~~msgstr ""~~ |
  | 408 |  |  |
  | 409 |  | ~~#: inc/admin.php:516~~ |
  | 410 | 410 | msgid "Paste Row" |
  | 411 | 411 | msgstr "" |
  | 412 | 412 |  |
  |  | 413 | #: inc/admin.php:517 |
  |  | 414 | msgid "Draft" |
  |  | 415 | msgstr "" |
  |  | 416 |  |
  | 413 | 417 | #: inc/admin.php:518 |
  | 414 |  | ~~msgid "Draft"~~ |
  | 415 |  | ~~msgstr ""~~ |
  | 416 |  |  |
  | 417 |  | ~~#: inc/admin.php:519~~ |
  | 418 | 418 | msgid "Untitled" |
  | 419 | 419 | msgstr "" |
  | 420 | 420 |  |
  | 421 |  | #: inc/admin.php:52~~1~~ |
  |  | 421 | #: inc/admin.php:520 |
  | 422 | 422 | msgid "New Row" |
  | 423 | 423 | msgstr "" |
  | 424 | 424 |  |
  | 425 |  | #: inc/admin.php:52~~2, inc/admin.php:536~~, inc/styles.php:403, tpl/js-templates.php:67 |
  |  | 425 | #: inc/admin.php:521, inc/admin.php:535, inc/styles.php:403, tpl/js-templates.php:67 |
  | 426 | 426 | msgid "Row" |
  | 427 | 427 | msgstr "" |
  | 428 | 428 |  |
  |  | 429 | #: inc/admin.php:522 |
  |  | 430 | msgid "Adjust column size of column %s." |
  |  | 431 | msgstr "" |
  |  | 432 |  |
  | 429 | 433 | #: inc/admin.php:523 |
  | 430 |  | ~~msgid "Adjust column size of column %s."~~ |
  | 431 |  | ~~msgstr ""~~ |
  | 432 |  |  |
  | 433 |  | ~~#: inc/admin.php:524~~ |
  | 434 | 434 | msgid "Change column direction to the %s" |
  | 435 | 435 | msgstr "" |
  | 436 | 436 |  |
  | 437 | 437 | #. translators: Used by the Column Preset Direction button aria-label. |
  | 438 |  | #: inc/admin.php:52~~6~~ |
  |  | 438 | #: inc/admin.php:525 |
  | 439 | 439 | msgid "left" |
  | 440 | 440 | msgstr "" |
  | 441 | 441 |  |
  | 442 | 442 | #. translators: Used by the Column Preset Direction button aria-label. |
  | 443 |  | #: inc/admin.php:52~~8~~ |
  |  | 443 | #: inc/admin.php:527 |
  | 444 | 444 | msgid "right" |
  | 445 | 445 | msgstr "" |
  | 446 | 446 |  |
  |  | 447 | #: inc/admin.php:530 |
  |  | 448 | msgid "Hmmm... Adding layout elements is not enabled. Please check if Page Builder has been configured to allow adding elements." |
  |  | 449 | msgstr "" |
  |  | 450 |  |
  | 447 | 451 | #: inc/admin.php:531 |
  | 448 |  | msgid "~~Hmmm... Adding layout elements is not enabled. Please check if Page Builder has been configured to allow adding elements~~." |
  |  | 452 | msgid "Add a {{%= items[0] %}} to get started." |
  | 449 | 453 | msgstr "" |
  | 450 | 454 |  |
  | 451 | 455 | #: inc/admin.php:532 |
  | 452 |  | msgid "Add a {{%= items[0] %}} to get started." |
  |  | 456 | msgid "Add a {{%= items[0] %}} or {{%= items[1] %}} to get started." |
  | 453 | 457 | msgstr "" |
  | 454 | 458 |  |
  | 455 | 459 | #: inc/admin.php:533 |
  | 456 |  | ~~msgid "Add a {{%= items[0] %}} or {{%= items[1] %}} to get started."~~ |
  | 457 |  | ~~msgstr ""~~ |
  | 458 |  |  |
  | 459 |  | ~~#: inc/admin.php:534~~ |
  | 460 | 460 | msgid "Add a {{%= items[0] %}}, {{%= items[1] %}} or {{%= items[2] %}} to get started." |
  | 461 | 461 | msgstr "" |
  | 462 | 462 |  |
  | 463 |  | #: inc/admin.php:53~~5~~, inc/styles.php:563, tpl/js-templates.php:66 |
  |  | 463 | #: inc/admin.php:534, inc/styles.php:563, tpl/js-templates.php:66 |
  | 464 | 464 | msgid "Widget" |
  | 465 | 465 | msgstr "" |
  | 466 | 466 |  |
  | 467 |  | #: inc/admin.php:53~~7~~, tpl/js-templates.php:68 |
  |  | 467 | #: inc/admin.php:536, tpl/js-templates.php:68 |
  | 468 | 468 | msgid "Prebuilt Layout" |
  | 469 | 469 | msgstr "" |
  | 470 | 470 |  |
  | 471 |  | #: inc/admin.php:53~~9~~ |
  |  | 471 | #: inc/admin.php:538 |
  | 472 | 472 | msgid "Read our %s if you need help." |
  | 473 | 473 | msgstr "" |
  | 474 | 474 |  |
  | 475 |  | #: inc/admin.php:5~~40~~, tpl/js-templates.php:69 |
  |  | 475 | #: inc/admin.php:539, tpl/js-templates.php:69 |
  | 476 | 476 | msgid "documentation" |
  | 477 | 477 | msgstr "" |
  | 478 | 478 |  |
  | 479 |  | #: inc/admin.php:5~~49~~ |
  |  | 479 | #: inc/admin.php:550 |
  | 480 | 480 | msgid "Page Builder layouts" |
  | 481 | 481 | msgstr "" |
  | 482 | 482 |  |
  | 483 |  | #: inc/admin.php:55~~0~~ |
  |  | 483 | #: inc/admin.php:551 |
  | 484 | 484 | msgid "Error uploading or importing file." |
  | 485 | 485 | msgstr "" |
  | 486 | 486 |  |
  | 487 |  | #: inc/admin.php:55~~7~~ |
  |  | 487 | #: inc/admin.php:558 |
  | 488 | 488 | msgid "Unknown error. Failed to load the form. Please check your internet connection, contact your web site administrator, or try again later." |
  | 489 | 489 | msgstr "" |
  | 490 | 490 |  |
  | 491 |  | #: inc/admin.php:56~~1, inc/admin.php:567~~ |
  |  | 491 | #: inc/admin.php:562, inc/admin.php:568 |
  | 492 | 492 | msgid "soft-blue" |
  | 493 | 493 | msgstr "" |
  | 494 | 494 |  |
  | 495 |  | #: inc/admin.php:56~~2~~ |
  |  | 495 | #: inc/admin.php:563 |
  | 496 | 496 | msgid "soft-red" |
  | 497 | 497 | msgstr "" |
  | 498 | 498 |  |
  | 499 |  | #: inc/admin.php:56~~3~~ |
  |  | 499 | #: inc/admin.php:564 |
  | 500 | 500 | msgid "grayish-violet" |
  | 501 | 501 | msgstr "" |
  | 502 | 502 |  |
  | 503 |  | #: inc/admin.php:56~~4~~ |
  |  | 503 | #: inc/admin.php:565 |
  | 504 | 504 | msgid "lime-green" |
  | 505 | 505 | msgstr "" |
  | 506 | 506 |  |
  | 507 |  | #: inc/admin.php:56~~5~~ |
  |  | 507 | #: inc/admin.php:566 |
  | 508 | 508 | msgid "desaturated-yellow" |
  | 509 | 509 | msgstr "" |
  | 510 | 510 |  |
  | 511 | 511 | #. translators: This is the default name given to a user's home page. |
  | 512 |  | #: inc/admin.php:79~~1~~, inc/home.php:26 |
  |  | 512 | #: inc/admin.php:792, inc/home.php:26 |
  | 513 | 513 | msgid "Home Page" |
  | 514 | 514 | msgstr "" |
  | 515 | 515 |  |
  | 516 |  | #: inc/admin.php:89~~6~~ |
  |  | 516 | #: inc/admin.php:897 |
  | 517 | 517 | msgid "Untitled Widget" |
  | 518 | 518 | msgstr "" |
  | 519 | 519 |  |
  | 520 |  | #: inc/admin.php:10~~79~~ |
  |  | 520 | #: inc/admin.php:1080 |
  | 521 | 521 | msgid "Soft Blue" |
  | 522 | 522 | msgstr "" |
  | 523 | 523 |  |
  | 524 |  | #: inc/admin.php:108~~6~~ |
  |  | 524 | #: inc/admin.php:1087 |
  | 525 | 525 | msgid "Soft Red" |
  | 526 | 526 | msgstr "" |
  | 527 | 527 |  |
  | 528 |  | #: inc/admin.php:109~~3~~ |
  |  | 528 | #: inc/admin.php:1094 |
  | 529 | 529 | msgid "Grayish Violet" |
  | 530 | 530 | msgstr "" |
  | 531 | 531 |  |
  | 532 |  | #: inc/admin.php:110~~0~~ |
  |  | 532 | #: inc/admin.php:1101 |
  | 533 | 533 | msgid "Lime Green" |
  | 534 | 534 | msgstr "" |
  | 535 | 535 |  |
  | 536 |  | #: inc/admin.php:110~~7~~ |
  |  | 536 | #: inc/admin.php:1108 |
  | 537 | 537 | msgid "Desaturated Yellow" |
  | 538 | 538 | msgstr "" |
  | 539 | 539 |  |
  | 540 |  | #: inc/admin.php:117~~6~~ |
  |  | 540 | #: inc/admin.php:1177 |
  | 541 | 541 | msgid "You need to install 1{%1$s} to use the widget 2{%2$s}." |
  | 542 | 542 | msgstr "" |
  | 543 | 543 |  |
  | 544 |  | #: inc/admin.php:118~~2~~ |
  |  | 544 | #: inc/admin.php:1183 |
  | 545 | 545 | msgid "Save and reload this page to start using the widget after you've installed it." |
  | 546 | 546 | msgstr "" |
  | 547 | 547 |  |
  | 548 |  | #: inc/admin.php:119~~8~~ |
  |  | 548 | #: inc/admin.php:1199 |
  | 549 | 549 | msgid "The widget 1{%1$s} is not available. Please try locate and install the missing plugin. Post on the 2{support forums} if you need help." |
  | 550 | 550 | msgstr "" |
  | 551 | 551 |  |
  | 552 |  | #: inc/admin.php:13~~88~~, inc/styles-admin.php:27 |
  |  | 552 | #: inc/admin.php:1391, inc/styles-admin.php:27 |
  | 553 | 553 | msgid "The supplied nonce is invalid." |
  | 554 | 554 | msgstr "" |
  | 555 | 555 |  |
  | 556 |  | #: inc/admin.php:13~~89, inc/admin.php:1923~~, inc/styles-admin.php:28 |
  |  | 556 | #: inc/admin.php:1392, inc/admin.php:1917, inc/styles-admin.php:28 |
  | 557 | 557 | msgid "Invalid nonce." |
  | 558 | 558 | msgstr "" |
  | 559 | 559 |  |
  | 560 |  | #: inc/admin.php:139~~6~~ |
  |  | 560 | #: inc/admin.php:1399 |
  | 561 | 561 | msgid "Please specify the type of widget form to be rendered." |
  | 562 | 562 | msgstr "" |
  | 563 | 563 |  |
  | 564 |  | #: inc/admin.php:1~~397~~ |
  |  | 564 | #: inc/admin.php:1400 |
  | 565 | 565 | msgid "Missing widget type." |
  | 566 | 566 | msgstr "" |
  | 567 | 567 |  |
  | 568 |  | #: inc/admin.php:1~~503~~ |
  |  | 568 | #: inc/admin.php:1497 |
  | 569 | 569 | msgid "%s Widget" |
  | 570 | 570 | msgid\_plural "%s Widgets" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L572) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L572) |  |
  | 572 | 572 | msgstr[1] "" |
  | 573 | 573 |  |
  | 574 |  | #: inc/admin.php:15~~42~~ |
  |  | 574 | #: inc/admin.php:1536 |
  | 575 | 575 | msgid "Get the row, column, and widget %link%." |
  | 576 | 576 | msgstr "" |
  | 577 | 577 |  |
  | 578 |  | #: inc/admin.php:15~~44~~ |
  |  | 578 | #: inc/admin.php:1538 |
  | 579 | 579 | msgid "Animations Addon" |
  | 580 | 580 | msgstr "" |
  | 581 | 581 |  |
  | 582 |  | #: inc/admin.php:154~~7~~ |
  |  | 582 | #: inc/admin.php:1541 |
  | 583 | 583 | msgid "Get the %link%. Build custom post types with reusable Page Builder layouts." |
  | 584 | 584 | msgstr "" |
  | 585 | 585 |  |
  | 586 |  | #: inc/admin.php:154~~9~~ |
  |  | 586 | #: inc/admin.php:1543 |
  | 587 | 587 | msgid "CPT Builder Addon" |
  | 588 | 588 | msgstr "" |
  | 589 | 589 |  |
  | 590 |  | #: inc/admin.php:15~~52~~ |
  |  | 590 | #: inc/admin.php:1546 |
  | 591 | 591 | msgid "Get the %link%. Add beautiful and customizable text overlays with animations to your images." |
  | 592 | 592 | msgstr "" |
  | 593 | 593 |  |
  | 594 |  | #: inc/admin.php:15~~54~~ |
  |  | 594 | #: inc/admin.php:1548 |
  | 595 | 595 | msgid "Image Overlay Addon" |
  | 596 | 596 | msgstr "" |
  | 597 | 597 |  |
  | 598 |  | #: inc/admin.php:155~~7~~ |
  |  | 598 | #: inc/admin.php:1551 |
  | 599 | 599 | msgid "Get a %link% for the SiteOrigin Image, Masonry, and Slider Widgets." |
  | 600 | 600 | msgstr "" |
  | 601 | 601 |  |
  | 602 |  | #: inc/admin.php:155~~9~~ |
  |  | 602 | #: inc/admin.php:1553 |
  | 603 | 603 | msgid "Lightbox Addon" |
  | 604 | 604 | msgstr "" |
  | 605 | 605 |  |
  | 606 |  | #: inc/admin.php:15~~62~~ |
  |  | 606 | #: inc/admin.php:1556 |
  | 607 | 607 | msgid "Link an entire Page Builder row, column, or widget with the %link%." |
  | 608 | 608 | msgstr "" |
  | 609 | 609 |  |
  | 610 |  | #: inc/admin.php:15~~64~~ |
  |  | 610 | #: inc/admin.php:1558 |
  | 611 | 611 | msgid "Link Overlay Addon" |
  | 612 | 612 | msgstr "" |
  | 613 | 613 |  |
  | 614 |  | #: inc/admin.php:156~~7~~ |
  |  | 614 | #: inc/admin.php:1561 |
  | 615 | 615 | msgid "Get the %link%. Create a widget once, use it everywhere. Update it and the changes reflect in all instances of the widget." |
  | 616 | 616 | msgstr "" |
  | 617 | 617 |  |
  | 618 |  | #: inc/admin.php:156~~9~~ |
  |  | 618 | #: inc/admin.php:1563 |
  | 619 | 619 | msgid "Mirror Widgets Addon" |
  | 620 | 620 | msgstr "" |
  | 621 | 621 |  |
  | 622 |  | #: inc/admin.php:15~~72~~ |
  |  | 622 | #: inc/admin.php:1566 |
  | 623 | 623 | msgid "Upload multiple image frames at once to Widgets Bundle Slider and Image Grid type widgets with %link%." |
  | 624 | 624 | msgstr "" |
  | 625 | 625 |  |
  | 626 |  | #: inc/admin.php:15~~74, inc/admin.php:1579, inc/admin.php:1609, inc/admin.php:1614, inc/admin.php:1619, inc/admin.php:1624, inc/admin.php:1629, inc/admin.php:1634~~ |
  |  | 626 | #: inc/admin.php:1568, inc/admin.php:1573, inc/admin.php:1603, inc/admin.php:1608, inc/admin.php:1613, inc/admin.php:1618, inc/admin.php:1623, inc/admin.php:1628 |
  | 627 | 627 | msgid "SiteOrigin Premium" |
  | 628 | 628 | msgstr "" |
  | 629 | 629 |  |
  | 630 |  | #: inc/admin.php:157~~7~~ |
  |  | 630 | #: inc/admin.php:1571 |
  | 631 | 631 | msgid "Add parallax background images to your slider type widgets with %link%." |
  | 632 | 632 | msgstr "" |
  | 633 | 633 |  |
  | 634 |  | #: inc/admin.php:15~~82~~ |
  |  | 634 | #: inc/admin.php:1576 |
  | 635 | 635 | msgid "Hide rows and widgets based for logged-in or logged-out users with the %link%." |
  | 636 | 636 | msgstr "" |
  | 637 | 637 |  |
  | 638 |  | #: inc/admin.php:15~~84, inc/admin.php:1589, inc/admin.php:1594~~ |
  |  | 638 | #: inc/admin.php:1578, inc/admin.php:1583, inc/admin.php:1588 |
  | 639 | 639 | msgid "Toggle Visibility Addon" |
  | 640 | 640 | msgstr "" |
  | 641 | 641 |  |
  | 642 |  | #: inc/admin.php:158~~7~~ |
  |  | 642 | #: inc/admin.php:1581 |
  | 643 | 643 | msgid "Show or hide rows and widgets between a selected date range with the %link%." |
  | 644 | 644 | msgstr "" |
  | 645 | 645 |  |
  | 646 |  | #: inc/admin.php:15~~92~~ |
  |  | 646 | #: inc/admin.php:1586 |
  | 647 | 647 | msgid "Hide rows and widgets on specific devices with the %link%." |
  | 648 | 648 | msgstr "" |
  | 649 | 649 |  |
  | 650 |  | #: inc/admin.php:159~~7~~ |
  |  | 650 | #: inc/admin.php:1591 |
  | 651 | 651 | msgid "Get a %link% with SiteOrigin Premium." |
  | 652 | 652 | msgstr "" |
  | 653 | 653 |  |
  | 654 |  | #: inc/admin.php:159~~9~~ |
  |  | 654 | #: inc/admin.php:1593 |
  | 655 | 655 | msgid "Tooltip Addon" |
  | 656 | 656 | msgstr "" |
  | 657 | 657 |  |
  | 658 |  | #: inc/admin.php:1~~602~~ |
  |  | 658 | #: inc/admin.php:1596 |
  | 659 | 659 | msgid "Use Google Fonts in SiteOrigin Widgets with the %link%." |
  | 660 | 660 | msgstr "" |
  | 661 | 661 |  |
  | 662 |  | #: inc/admin.php:1~~604~~ |
  |  | 662 | #: inc/admin.php:1598 |
  | 663 | 663 | msgid "Webfont Selector Addon" |
  | 664 | 664 | msgstr "" |
  | 665 | 665 |  |
  | 666 |  | #: inc/admin.php:160~~7~~ |
  |  | 666 | #: inc/admin.php:1601 |
  | 667 | 667 | msgid "Get fast email support for Page Builder with %link%." |
  | 668 | 668 | msgstr "" |
  | 669 | 669 |  |
  | 670 |  | #: inc/admin.php:16~~12~~ |
  |  | 670 | #: inc/admin.php:1606 |
  | 671 | 671 | msgid "Organize your Page Builder rows with custom background colors using %link%." |
  | 672 | 672 | msgstr "" |
  | 673 | 673 |  |
  | 674 |  | #: inc/admin.php:161~~7~~ |
  |  | 674 | #: inc/admin.php:1611 |
  | 675 | 675 | msgid "Add widget, column, and row Retina background images for high-pixel-density displays with %link%." |
  | 676 | 676 | msgstr "" |
  | 677 | 677 |  |
  | 678 |  | #: inc/admin.php:16~~22~~ |
  |  | 678 | #: inc/admin.php:1616 |
  | 679 | 679 | msgid "Upgrade to %link% and copy-paste rows and widgets between domains to build pages faster." |
  | 680 | 680 | msgstr "" |
  | 681 | 681 |  |
  | 682 |  | #: inc/admin.php:162~~7~~ |
  |  | 682 | #: inc/admin.php:1621 |
  | 683 | 683 | msgid "Boost your page-building speed by upgrading to %link% – copy and paste rows and widgets across domains with ease!" |
  | 684 | 684 | msgstr "" |
  | 685 | 685 |  |
  | 686 |  | #: inc/admin.php:16~~32~~ |
  |  | 686 | #: inc/admin.php:1626 |
  | 687 | 687 | msgid "Introduce dynamic video backgrounds to any Page Builder row, column, or widget with %link%." |
  | 688 | 688 | msgstr "" |
  | 689 | 689 |  |
  | 690 |  | #: inc/admin.php:16~~40~~ |
  |  | 690 | #: inc/admin.php:1634 |
  | 691 | 691 | msgid "Get the %link%. Create custom templates for the Product, Archives, Shop, Cart, and Checkout pages." |
  | 692 | 692 | msgstr "" |
  | 693 | 693 |  |
  | 694 |  | #: inc/admin.php:16~~42~~ |
  |  | 694 | #: inc/admin.php:1636 |
  | 695 | 695 | msgid "WooCommerce Templates Addon" |
  | 696 | 696 | msgstr "" |
  | 697 | 697 |  |
  | 698 |  | #: inc/admin.php:169~~7~~ |
  |  | 698 | #: inc/admin.php:1691 |
  | 699 | 699 | msgid "Dismiss Notice" |
  | 700 | 700 | msgstr "" |
  | 701 | 701 |  |
  | 702 |  | #: inc/admin.php:188~~9~~ |
  |  | 702 | #: inc/admin.php:1883 |
  | 703 | 703 | msgid "Toggle editor selection menu" |
  | 704 | 704 | msgstr "" |
  | 705 | 705 |  |
  | 706 |  | #: inc/admin.php:18~~90, inc/admin.php:1954, inc/settings.php:229~~, settings/tpl/settings.php:9 |
  |  | 706 | #: inc/admin.php:1884, inc/admin.php:1948, settings/tpl/settings.php:9 |
  | 707 | 707 | msgid "SiteOrigin Page Builder" |
  | 708 | 708 | msgstr "" |
  | 709 | 709 |  |
  | 710 |  | #: inc/admin.php:18~~91~~ |
  |  | 710 | #: inc/admin.php:1885 |
  | 711 | 711 | msgid "Block Editor" |
  | 712 | 712 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L724) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L724) |  |
  | 724 | 724 | msgstr "" |
  | 725 | 725 |  |
  | 726 |  | ~~#: inc/settings.php:256~~ |
  | 727 |  | ~~msgid "Page Builder Settings"~~ |
  | 728 |  | ~~msgstr ""~~ |
  | 729 |  |  |
  | 730 | 726 | #: inc/settings.php:270 |
  | 731 | 727 | msgid "General" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1080) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1076) |  |
  | 1080 | 1076 | msgstr "" |
  | 1081 | 1077 |  |
  | 1082 |  | ~~#: inc/settings.php:610, inc/styles-admin.php:346~~ |
  | 1083 |  | ~~msgid "Enabled"~~ |
  | 1084 |  | ~~msgstr ""~~ |
  | 1085 |  |  |
  | 1086 | 1078 | #: inc/styles-admin.php:37 |
  | 1087 | 1079 | msgid "Please specify the type of style form to be rendered." |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1124) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1116) |  |
  | 1124 | 1116 | msgstr "" |
  | 1125 | 1117 |  |
  | 1126 |  | #: inc/styles-admin.php:21~~2~~, inc/styles.php:471, inc/styles.php:526 |
  |  | 1118 | #: inc/styles-admin.php:214, inc/styles.php:471, inc/styles.php:526 |
  | 1127 | 1119 | msgid "Top" |
  | 1128 | 1120 | msgstr "" |
  | 1129 | 1121 |  |
  | 1130 |  | #: inc/styles-admin.php:21~~6~~, widgets/widgets/button/button.php:30 |
  |  | 1122 | #: inc/styles-admin.php:218, widgets/widgets/button/button.php:30 |
  | 1131 | 1123 | msgid "Right" |
  | 1132 | 1124 | msgstr "" |
  | 1133 | 1125 |  |
  | 1134 |  | #: inc/styles-admin.php:22~~0~~, inc/styles.php:473, inc/styles.php:528 |
  |  | 1126 | #: inc/styles-admin.php:222, inc/styles.php:473, inc/styles.php:528 |
  | 1135 | 1127 | msgid "Bottom" |
  | 1136 | 1128 | msgstr "" |
  | 1137 | 1129 |  |
  | 1138 |  | #: inc/styles-admin.php:22~~4~~, widgets/widgets/button/button.php:29 |
  |  | 1130 | #: inc/styles-admin.php:226, widgets/widgets/button/button.php:29 |
  | 1139 | 1131 | msgid "Left" |
  | 1140 | 1132 | msgstr "" |
  | 1141 | 1133 |  |
  | 1142 |  | #: inc/styles-admin.php:29~~7~~ |
  |  | 1134 | #: inc/styles-admin.php:299 |
  | 1143 | 1135 | msgid "Select Image" |
  | 1144 | 1136 | msgstr "" |
  | 1145 | 1137 |  |
  | 1146 |  | #: inc/styles-admin.php:30~~4~~ |
  |  | 1138 | #: inc/styles-admin.php:306 |
  | 1147 | 1139 | msgid "Remove" |
  | 1148 | 1140 | msgstr "" |
  | 1149 | 1141 |  |
  | 1150 |  | #: inc/styles-admin.php:30~~7~~ |
  |  | 1142 | #: inc/styles-admin.php:309 |
  | 1151 | 1143 | msgid "External URL" |
  | 1152 | 1144 | msgstr "" |
  | 1153 | 1145 |  |
  | 1154 |  | #: inc/styles-admin.php:~~391~~, tpl/admin-home-page.php:21 |
  |  | 1146 | #: inc/styles-admin.php:402, tpl/admin-home-page.php:21 |
  | 1155 | 1147 | msgid "On" |
  | 1156 | 1148 | msgstr "" |
  | 1157 | 1149 |  |
  | 1158 |  | #: inc/styles-admin.php:~~391~~, tpl/admin-home-page.php:21 |
  |  | 1150 | #: inc/styles-admin.php:402, tpl/admin-home-page.php:21 |
  | 1159 | 1151 | msgid "Off" |
  | 1160 | 1152 | msgstr "" |
  | 1161 | 1153 |  |
  | 1162 |  | #: inc/styles-admin.php:8~~03, widgets/widgets.php:855~~ |
  |  | 1154 | #: inc/styles-admin.php:816, widgets/widgets.php:854 |
  | 1163 | 1155 | msgid "Full" |
  | 1164 | 1156 | msgstr "" |
  | 1165 | 1157 |  |
  | 1166 |  | #: inc/styles-admin.php:8~~04~~ |
  |  | 1158 | #: inc/styles-admin.php:817 |
  | 1167 | 1159 | msgid "Thumbnail (Theme-defined)" |
  | 1168 | 1160 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1388) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1380) |  |
  | 1388 | 1380 | msgstr "" |
  | 1389 | 1381 |  |
  | 1390 |  | #: inc/styles.php:458, widgets/widgets.php:72~~5, widgets/widgets.php:851, inc/widgets/post-loop.php:383~~ |
  |  | 1382 | #: inc/styles.php:458, widgets/widgets.php:724, widgets/widgets.php:850, inc/widgets/post-loop.php:471 |
  | 1391 | 1383 | msgid "Default" |
  | 1392 | 1384 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1464) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1456) |  |
  | 1464 | 1456 | msgstr "" |
  | 1465 | 1457 |  |
  | 1466 |  | #: tpl/admin-home-page.php:~~42~~ |
  | 1467 |  | msgid "~~Home page updated. 1{View page}.~~" |
  |  | 1458 | #: tpl/admin-home-page.php:29 |
  |  | 1459 | msgid "Edit As Page" |
  | 1468 | 1460 | msgstr "" |
  | 1469 | 1461 |  |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1524) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1516) |  |
  | 1524 | 1516 | msgstr "" |
  | 1525 | 1517 |  |
  |  | 1518 | #: tpl/js-templates.php:147 |
  |  | 1519 | msgid "Edit widget" |
  |  | 1520 | msgstr "" |
  |  | 1521 |  |
  |  | 1522 | #: tpl/js-templates.php:153 |
  |  | 1523 | msgid "Duplicate widget" |
  |  | 1524 | msgstr "" |
  |  | 1525 |  |
  | 1526 | 1526 | #: tpl/js-templates.php:155, tpl/js-templates.php:288, tpl/js-templates.php:372 |
  | 1527 | 1527 | msgid "Duplicate" |
  | 1528 | 1528 | msgstr "" |
  | 1529 | 1529 |  |
  |  | 1530 | #: tpl/js-templates.php:159 |
  |  | 1531 | msgid "Delete widget" |
  |  | 1532 | msgstr "" |
  |  | 1533 |  |
  | 1530 | 1534 | #: tpl/js-templates.php:161, tpl/js-templates.php:287, tpl/js-templates.php:371 |
  | 1531 | 1535 | msgid "Delete" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1568) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1572) |  |
  | 1568 | 1572 | msgstr "" |
  | 1569 | 1573 |  |
  |  | 1574 | #: tpl/js-templates.php:357 |
  |  | 1575 | msgid "Change column direction to the left" |
  |  | 1576 | msgstr "" |
  |  | 1577 |  |
  | 1570 | 1578 | #: tpl/js-templates.php:378, tpl/js-templates.php:467 |
  | 1571 | 1579 | msgid "Insert" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1672) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1680) |  |
  | 1672 | 1680 | msgstr "" |
  | 1673 | 1681 |  |
  | 1674 |  | #: widgets/widgets.php:17~~9~~ |
  |  | 1682 | #: widgets/widgets.php:178 |
  | 1675 | 1683 | msgid "This is a legacy Page Builder widget. Please move to use widgets from the %sSiteOrigin Widgets Bundle%s plugin when able." |
  | 1676 | 1684 | msgstr "" |
  | 1677 | 1685 |  |
  | 1678 |  | #: widgets/widgets.php:29~~3~~ |
  |  | 1686 | #: widgets/widgets.php:292 |
  | 1679 | 1687 | msgid "Style" |
  | 1680 | 1688 | msgstr "" |
  | 1681 | 1689 |  |
  | 1682 |  | #: widgets/widgets.php:32~~3~~ |
  |  | 1690 | #: widgets/widgets.php:322 |
  | 1683 | 1691 | msgid "%s Style" |
  | 1684 | 1692 | msgstr "" |
  | 1685 | 1693 |  |
  | 1686 |  | #: widgets/widgets.php:684, inc/widgets/post-loop.php:341 |
  |  | 1694 | #: widgets/widgets.php:395 |
  |  | 1695 | msgid "Template not found" |
  |  | 1696 | msgstr "" |
  |  | 1697 |  |
  |  | 1698 | #: widgets/widgets.php:683, inc/widgets/post-loop.php:360 |
  | 1687 | 1699 | msgid "Post Type" |
  | 1688 | 1700 | msgstr "" |
  | 1689 | 1701 |  |
  | 1690 |  | #: widgets/widgets.php:69~~1, inc/widgets/post-loop.php:35~~0 |
  |  | 1702 | #: widgets/widgets.php:690, inc/widgets/post-loop.php:380 |
  | 1691 | 1703 | msgid "Posts Per Page" |
  | 1692 | 1704 | msgstr "" |
  | 1693 | 1705 |  |
  | 1694 |  | #: widgets/widgets.php:69~~6, inc/widgets/post-loop.php:355~~ |
  |  | 1706 | #: widgets/widgets.php:695, inc/widgets/post-loop.php:393 |
  | 1695 | 1707 | msgid "Order By" |
  | 1696 | 1708 | msgstr "" |
  | 1697 | 1709 |  |
  | 1698 |  | #: widgets/widgets.php:69~~8, widgets/widgets.php:879, inc/widgets/post-content.php:70, inc/widgets/post-loop.php:357~~ |
  |  | 1710 | #: widgets/widgets.php:697, widgets/widgets.php:878, inc/widgets/post-content.php:72, inc/widgets/post-loop.php:403 |
  | 1699 | 1711 | msgid "None" |
  | 1700 | 1712 | msgstr "" |
  | 1701 | 1713 |  |
  | 1702 |  | #: widgets/widgets.php:69~~9, inc/widgets/post-loop.php:358~~ |
  |  | 1714 | #: widgets/widgets.php:698, inc/widgets/post-loop.php:406 |
  | 1703 | 1715 | msgid "Post ID" |
  | 1704 | 1716 | msgstr "" |
  | 1705 | 1717 |  |
  | 1706 |  | #: widgets/widgets.php:~~700, inc/widgets/post-loop.php:35~~9 |
  |  | 1718 | #: widgets/widgets.php:699, inc/widgets/post-loop.php:409 |
  | 1707 | 1719 | msgid "Author" |
  | 1708 | 1720 | msgstr "" |
  | 1709 | 1721 |  |
  | 1710 |  | #: widgets/widgets.php:70~~1, widgets/widgets.php:702, inc/widgets/post-loop.php:360, inc/widgets/post-loop.php:361~~, widgets/widgets/testimonial/testimonial.php:15 |
  |  | 1722 | #: widgets/widgets.php:700, widgets/widgets.php:701, inc/widgets/post-loop.php:412, inc/widgets/post-loop.php:415, widgets/widgets/testimonial/testimonial.php:15 |
  | 1711 | 1723 | msgid "Name" |
  | 1712 | 1724 | msgstr "" |
  | 1713 | 1725 |  |
  | 1714 |  | #: widgets/widgets.php:70~~3, inc/widgets/post-loop.php:362~~ |
  |  | 1726 | #: widgets/widgets.php:702, inc/widgets/post-loop.php:418 |
  | 1715 | 1727 | msgid "Date" |
  | 1716 | 1728 | msgstr "" |
  | 1717 | 1729 |  |
  | 1718 |  | #: widgets/widgets.php:70~~4, inc/widgets/post-loop.php:363~~ |
  |  | 1730 | #: widgets/widgets.php:703, inc/widgets/post-loop.php:421 |
  | 1719 | 1731 | msgid "Modified" |
  | 1720 | 1732 | msgstr "" |
  | 1721 | 1733 |  |
  | 1722 |  | #: widgets/widgets.php:70~~5, inc/widgets/post-loop.php:36~~4 |
  |  | 1734 | #: widgets/widgets.php:704, inc/widgets/post-loop.php:424 |
  | 1723 | 1735 | msgid "Parent" |
  | 1724 | 1736 | msgstr "" |
  | 1725 | 1737 |  |
  | 1726 |  | #: widgets/widgets.php:70~~6, inc/widgets/post-loop.php:365~~ |
  |  | 1738 | #: widgets/widgets.php:705, inc/widgets/post-loop.php:427 |
  | 1727 | 1739 | msgid "Random" |
  | 1728 | 1740 | msgstr "" |
  | 1729 | 1741 |  |
  | 1730 |  | #: widgets/widgets.php:70~~7, inc/widgets/post-loop.php:366~~ |
  |  | 1742 | #: widgets/widgets.php:706, inc/widgets/post-loop.php:430 |
  | 1731 | 1743 | msgid "Comment Count" |
  | 1732 | 1744 | msgstr "" |
  | 1733 | 1745 |  |
  | 1734 |  | #: widgets/widgets.php:70~~8, inc/widgets/post-loop.php:367~~ |
  |  | 1746 | #: widgets/widgets.php:707, inc/widgets/post-loop.php:433 |
  | 1735 | 1747 | msgid "Menu Order" |
  | 1736 | 1748 | msgstr "" |
  | 1737 | 1749 |  |
  | 1738 |  | #: widgets/widgets.php:71~~4, inc/widgets/post-loop.php:37~~3 |
  |  | 1750 | #: widgets/widgets.php:713, inc/widgets/post-loop.php:443 |
  | 1739 | 1751 | msgid "Order" |
  | 1740 | 1752 | msgstr "" |
  | 1741 | 1753 |  |
  | 1742 |  | #: widgets/widgets.php:71~~6, inc/widgets/post-loop.php:376~~ |
  |  | 1754 | #: widgets/widgets.php:715, inc/widgets/post-loop.php:455 |
  | 1743 | 1755 | msgid "Ascending" |
  | 1744 | 1756 | msgstr "" |
  | 1745 | 1757 |  |
  | 1746 |  | #: widgets/widgets.php:71~~7, inc/widgets/post-loop.php:375~~ |
  |  | 1758 | #: widgets/widgets.php:716, inc/widgets/post-loop.php:452 |
  | 1747 | 1759 | msgid "Descending" |
  | 1748 | 1760 | msgstr "" |
  | 1749 | 1761 |  |
  | 1750 |  | #: widgets/widgets.php:72~~3, inc/widgets/post-loop.php:381~~ |
  |  | 1762 | #: widgets/widgets.php:722, inc/widgets/post-loop.php:462 |
  | 1751 | 1763 | msgid "Sticky Posts" |
  | 1752 | 1764 | msgstr "" |
  | 1753 | 1765 |  |
  | 1754 |  | #: widgets/widgets.php:72~~6, inc/widgets/post-loop.php:38~~4 |
  |  | 1766 | #: widgets/widgets.php:725, inc/widgets/post-loop.php:474 |
  | 1755 | 1767 | msgid "Ignore Sticky" |
  | 1756 | 1768 | msgstr "" |
  | 1757 | 1769 |  |
  | 1758 |  | #: widgets/widgets.php:72~~7, inc/widgets/post-loop.php:385~~ |
  |  | 1770 | #: widgets/widgets.php:726, inc/widgets/post-loop.php:477 |
  | 1759 | 1771 | msgid "Exclude Sticky" |
  | 1760 | 1772 | msgstr "" |
  | 1761 | 1773 |  |
  | 1762 |  | #: widgets/widgets.php:72~~8, inc/widgets/post-loop.php:386~~ |
  |  | 1774 | #: widgets/widgets.php:727, inc/widgets/post-loop.php:480 |
  | 1763 | 1775 | msgid "Only Sticky" |
  | 1764 | 1776 | msgstr "" |
  | 1765 | 1777 |  |
  | 1766 |  | #: widgets/widgets.php:73~~4~~ |
  |  | 1778 | #: widgets/widgets.php:733 |
  | 1767 | 1779 | msgid "Additional Arguments" |
  | 1768 | 1780 | msgstr "" |
  | 1769 | 1781 |  |
  | 1770 |  | #: widgets/widgets.php:73~~8, inc/widgets/post-loop.php:398~~ |
  |  | 1782 | #: widgets/widgets.php:737, inc/widgets/post-loop.php:500 |
  | 1771 | 1783 | msgid "Additional query arguments. See 1{query\_posts}." |
  | 1772 | 1784 | msgstr "" |
  | 1773 | 1785 |  |
  | 1774 |  | #: widgets/widgets.php:79~~7~~ |
  |  | 1786 | #: widgets/widgets.php:796 |
  | 1775 | 1787 | msgid "Gallery (PB)" |
  | 1776 | 1788 | msgstr "" |
  | 1777 | 1789 |  |
  | 1778 |  | #: widgets/widgets.php:79~~9~~ |
  |  | 1790 | #: widgets/widgets.php:798 |
  | 1779 | 1791 | msgid "Displays a gallery." |
  | 1780 | 1792 | msgstr "" |
  | 1781 | 1793 |  |
  |  | 1794 | #: widgets/widgets.php:839 |
  |  | 1795 | msgid "Gallery Images" |
  |  | 1796 | msgstr "" |
  |  | 1797 |  |
  | 1782 | 1798 | #: widgets/widgets.php:840 |
  | 1783 |  | ~~msgid "Gallery Images"~~ |
  | 1784 |  | ~~msgstr ""~~ |
  | 1785 |  |  |
  | 1786 |  | ~~#: widgets/widgets.php:841~~ |
  | 1787 | 1799 | msgid "edit gallery" |
  | 1788 | 1800 | msgstr "" |
  | 1789 | 1801 |  |
  | 1790 |  | #: widgets/widgets.php:84~~5~~ |
  |  | 1802 | #: widgets/widgets.php:844 |
  | 1791 | 1803 | msgid "Comma separated attachment IDs. Defaults to all current page's attachments." |
  | 1792 | 1804 | msgstr "" |
  | 1793 | 1805 |  |
  | 1794 |  | #: widgets/widgets.php:84~~9~~ |
  |  | 1806 | #: widgets/widgets.php:848 |
  | 1795 | 1807 | msgid "Image Size" |
  | 1796 | 1808 | msgstr "" |
  | 1797 | 1809 |  |
  |  | 1810 | #: widgets/widgets.php:851 |
  |  | 1811 | msgid "Large" |
  |  | 1812 | msgstr "" |
  |  | 1813 |  |
  | 1798 | 1814 | #: widgets/widgets.php:852 |
  | 1799 |  | msgid "~~Large~~" |
  |  | 1815 | msgid "Medium" |
  | 1800 | 1816 | msgstr "" |
  | 1801 | 1817 |  |
  | 1802 | 1818 | #: widgets/widgets.php:853 |
  | 1803 |  | ~~msgid "Medium"~~ |
  | 1804 |  | ~~msgstr ""~~ |
  | 1805 |  |  |
  | 1806 |  | ~~#: widgets/widgets.php:854~~ |
  | 1807 | 1819 | msgid "Thumbnail" |
  | 1808 | 1820 | msgstr "" |
  | 1809 | 1821 |  |
  | 1810 |  | #: widgets/widgets.php:86~~5~~ |
  |  | 1822 | #: widgets/widgets.php:864 |
  | 1811 | 1823 | msgid "Gallery Type" |
  | 1812 | 1824 | msgstr "" |
  | 1813 | 1825 |  |
  | 1814 |  | #: widgets/widgets.php:8~~70~~ |
  |  | 1826 | #: widgets/widgets.php:869 |
  | 1815 | 1827 | msgid "Columns" |
  | 1816 | 1828 | msgstr "" |
  | 1817 | 1829 |  |
  | 1818 |  | #: widgets/widgets.php:87~~5~~ |
  |  | 1830 | #: widgets/widgets.php:874 |
  | 1819 | 1831 | msgid "Link To" |
  | 1820 | 1832 | msgstr "" |
  | 1821 | 1833 |  |
  |  | 1834 | #: widgets/widgets.php:876 |
  |  | 1835 | msgid "Attachment Page" |
  |  | 1836 | msgstr "" |
  |  | 1837 |  |
  | 1822 | 1838 | #: widgets/widgets.php:877 |
  | 1823 |  | ~~msgid "Attachment Page"~~ |
  | 1824 |  | ~~msgstr ""~~ |
  | 1825 |  |  |
  | 1826 |  | ~~#: widgets/widgets.php:878~~ |
  | 1827 | 1839 | msgid "File" |
  | 1828 | 1840 | msgstr "" |
  | 1829 | 1841 |  |
  | 1830 |  | #: widgets/widgets.php:89~~6~~ |
  |  | 1842 | #: widgets/widgets.php:895 |
  | 1831 | 1843 | msgid "Image (PB)" |
  | 1832 | 1844 | msgstr "" |
  | 1833 | 1845 |  |
  | 1834 |  | #: widgets/widgets.php:89~~8~~ |
  |  | 1846 | #: widgets/widgets.php:897 |
  | 1835 | 1847 | msgid "Displays a simple image." |
  | 1836 | 1848 | msgstr "" |
  | 1837 | 1849 |  |
  | 1838 |  | #: widgets/widgets.php:93~~8~~, widgets/widgets/animated-image/animated-image.php:15 |
  |  | 1850 | #: widgets/widgets.php:937, widgets/widgets/animated-image/animated-image.php:15 |
  | 1839 | 1851 | msgid "Image URL" |
  | 1840 | 1852 | msgstr "" |
  | 1841 | 1853 |  |
  | 1842 |  | #: widgets/widgets.php:94~~2~~, widgets/widgets/button/button.php:19 |
  |  | 1854 | #: widgets/widgets.php:941, widgets/widgets/button/button.php:19 |
  | 1843 | 1855 | msgid "Destination URL" |
  | 1844 | 1856 | msgstr "" |
  | 1845 | 1857 |  |
  | 1846 |  | #: widgets/widgets.php:95~~6~~ |
  |  | 1858 | #: widgets/widgets.php:955 |
  | 1847 | 1859 | msgid "Embedded Video (PB)" |
  | 1848 | 1860 | msgstr "" |
  | 1849 | 1861 |  |
  | 1850 |  | #: widgets/widgets.php:95~~8~~ |
  |  | 1862 | #: widgets/widgets.php:957 |
  | 1851 | 1863 | msgid "Embeds a video." |
  | 1852 | 1864 | msgstr "" |
  | 1853 | 1865 |  |
  | 1854 |  | #: widgets/widgets.php:99~~5~~ |
  |  | 1866 | #: widgets/widgets.php:994 |
  | 1855 | 1867 | msgid "Video" |
  | 1856 | 1868 | msgstr "" |
  | 1857 | 1869 |  |
  | 1858 |  | #: widgets/widgets.php:101~~2~~ |
  |  | 1870 | #: widgets/widgets.php:1011 |
  | 1859 | 1871 | msgid "Self Hosted Video (PB)" |
  | 1860 | 1872 | msgstr "" |
  | 1861 | 1873 |  |
  | 1862 |  | #: widgets/widgets.php:101~~4~~ |
  |  | 1874 | #: widgets/widgets.php:1013 |
  | 1863 | 1875 | msgid "A self hosted video player." |
  | 1864 | 1876 | msgstr "" |
  | 1865 | 1877 |  |
  | 1866 |  | #: widgets/widgets.php:106~~2~~ |
  |  | 1878 | #: widgets/widgets.php:1061 |
  | 1867 | 1879 | msgid "Video URL" |
  | 1868 | 1880 | msgstr "" |
  | 1869 | 1881 |  |
  | 1870 |  | #: widgets/widgets.php:106~~6~~ |
  |  | 1882 | #: widgets/widgets.php:1065 |
  | 1871 | 1883 | msgid "Poster URL" |
  | 1872 | 1884 | msgstr "" |
  | 1873 | 1885 |  |
  | 1874 |  | #: widgets/widgets.php:106~~8~~ |
  |  | 1886 | #: widgets/widgets.php:1067 |
  | 1875 | 1887 | msgid "An image that displays before the video starts playing." |
  | 1876 | 1888 | msgstr "" |
  | 1877 | 1889 |  |
  | 1878 |  | #: widgets/widgets.php:107~~3~~ |
  |  | 1890 | #: widgets/widgets.php:1072 |
  | 1879 | 1891 | msgid "Auto Play Video" |
  | 1880 | 1892 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1965) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1977) |  |
  | 1965 | 1977 | msgstr "" |
  | 1966 | 1978 |  |
  | 1967 |  | #: inc/widgets/post-content.php:7~~1~~, inc/widgets/post-loop-helper.php:40, inc/widgets/post-loop.php:304, widgets/widgets/call-to-action/call-to-action.php:15, widgets/widgets/list/list.php:15, widgets/widgets/price-box/price-box.php:15 |
  |  | 1979 | #: inc/widgets/post-content.php:73, inc/widgets/post-loop-helper.php:40, inc/widgets/post-loop.php:304, widgets/widgets/call-to-action/call-to-action.php:15, widgets/widgets/list/list.php:15, widgets/widgets/price-box/price-box.php:15 |
  | 1968 | 1980 | msgid "Title" |
  | 1969 | 1981 | msgstr "" |
  | 1970 | 1982 |  |
  | 1971 |  | #: inc/widgets/post-content.php:7~~2~~ |
  |  | 1983 | #: inc/widgets/post-content.php:74 |
  | 1972 | 1984 | msgid "Featured Image" |
  | 1973 | 1985 | msgstr "" |
  | 1974 | 1986 |  |
  | 1975 |  | #: inc/widgets/post-content.php:~~78~~ |
  |  | 1987 | #: inc/widgets/post-content.php:80 |
  | 1976 | 1988 | msgid "Display Content" |
  | 1977 | 1989 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1985) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L1997) |  |
  | 1985 | 1997 | msgstr "" |
  | 1986 | 1998 |  |
  | 1987 |  | #: inc/widgets/post-loop-helper.php:44, inc/widgets/post-loop.php:30~~8~~ |
  |  | 1999 | #: inc/widgets/post-loop-helper.php:44, inc/widgets/post-loop.php:309 |
  | 1988 | 2000 | msgid "Template" |
  | 1989 | 2001 | msgstr "" |
  | 1990 | 2002 |  |
  | 1991 |  | #: inc/widgets/post-loop-helper.php:51, inc/widgets/post-loop.php:3~~26~~ |
  |  | 2003 | #: inc/widgets/post-loop-helper.php:51, inc/widgets/post-loop.php:342 |
  | 1992 | 2004 | msgid "If the template supports it, cut posts and display the more link." |
  | 1993 | 2005 | msgstr "" |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L1997) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L2009) |  |
  | 1997 | 2009 | msgstr "" |
  | 1998 | 2010 |  |
  | 1999 |  | #: inc/widgets/post-loop.php:3~~24~~ |
  |  | 2011 | #: inc/widgets/post-loop.php:331 |
  | 2000 | 2012 | msgid "More Link" |
  | 2001 | 2013 | msgstr "" |
  | 2002 | 2014 |  |
  | 2003 |  | #: inc/widgets/post-loop.php:~~368~~ |
  |  | 2015 | #: inc/widgets/post-loop.php:436 |
  | 2004 | 2016 | msgid "Post In Order" |
  | 2005 | 2017 | msgstr "" |
  | 2006 | 2018 |  |
  | 2007 |  | #: inc/widgets/post-loop.php:~~391~~ |
  |  | 2019 | #: inc/widgets/post-loop.php:487 |
  | 2008 | 2020 | msgid "Additional " |
  | 2009 | 2021 | msgstr "" |
  | 2010 | 2022 |  |
  | 2011 |  | #: inc/widgets/post-loop.php:~~405~~ |
  |  | 2023 | #: inc/widgets/post-loop.php:507 |
  | 2012 | 2024 | msgid "Help" |
  | 2013 |  | ~~msgstr ""~~ |
  | 2014 |  |  |
  | 2015 |  | ~~#: settings/tpl/help.php:6~~ |
  | 2016 |  | ~~msgid "Please read the 1{settings guide} of the Page Builder documentation for help."~~ |
  | 2017 | 2025 | msgstr "" |
  | 2018 | 2026 |  |
  | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3045967#L2029) | […](/browser/siteorigin-panels/trunk/lang/siteorigin-panels.pot?rev=3053935#L2037) |  |
  | 2029 | 2037 | msgstr "" |
  | 2030 | 2038 |  |
  | 2031 |  | #: settings/tpl/settings.php:8~~7~~ |
  |  | 2039 | #: settings/tpl/settings.php:88 |
  | 2032 | 2040 | msgid "Save Settings" |
  | 2033 | 2041 | msgstr "" |
* ## [siteorigin-panels/trunk/readme.txt](/changeset/3053935/siteorigin-panels/trunk/readme.txt "Show the changeset 3053935 restricted to siteorigin-panels/trunk/readme.txt")

  | [r3045967](/browser/siteorigin-panels/trunk/readme.txt?rev=3045967#L4 "Show revision 3045967 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/readme.txt?rev=3053935#L4 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Tested up to: 6.4 |
  | 5 | 5 | Requires PHP: 5.6.20 |
  | 6 |  | Stable tag: 2.29.~~6~~ |
  | 7 |  | Build time: 2024-03-~~05T21:38:53~~+00:00 |
  |  | 6 | Stable tag: 2.29.7 |
  |  | 7 | Build time: 2024-03-18T22:20:56+00:00 |
  | 8 | 8 | License: GPLv3 |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/gpl.html |
  | […](/browser/siteorigin-panels/trunk/readme.txt?rev=3045967#L121) | […](/browser/siteorigin-panels/trunk/readme.txt?rev=3053935#L121) |  |
  | 121 | 121 |  |
  | 122 | 122 | == Changelog == |
  |  | 123 |  |
  |  | 124 | = 2.29.7 - 18 March 2024 = |
  |  | 125 | \* ACF: Added gallery field support. |
  |  | 126 | \* Resolved a potential layout import error. |
  |  | 127 | \* Inline Styles: Aligned widget margin value output with non-inline value output. |
  |  | 128 | \* Updated the SiteOrigin Installer submodule. |
  |  | 129 | \* Added additional data sanitization. |
  | 123 | 130 |  |
  | 124 | 131 | = 2.29.6 - 05 March 2024 = |
* ## [siteorigin-panels/trunk/settings/tpl/help.php](/changeset/3053935/siteorigin-panels/trunk/settings/tpl/help.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/settings/tpl/help.php")

  | [r2902679](/browser/siteorigin-panels/trunk/settings/tpl/help.php?rev=2902679#L4 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/settings/tpl/help.php?rev=3053935#L4 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | '/1\{ \*(.\*?) \*\}/', |
  | 5 | 5 | '<a href="https://siteorigin.com/page-builder/settings/" target="\_blank" rel="noopener noreferrer">$1</a>', |
  | 6 |  | ~~\_\_~~( 'Please read the 1{settings guide} of the Page Builder documentation for help.', 'siteorigin-panels' ) |
  |  | 6 | esc\_html( 'Please read the 1{settings guide} of the Page Builder documentation for help.', 'siteorigin-panels' ) |
  | 7 | 7 | ); |
  | 8 | 8 | ?> |
* ## [siteorigin-panels/trunk/settings/tpl/settings.php](/changeset/3053935/siteorigin-panels/trunk/settings/tpl/settings.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/settings/tpl/settings.php")

  | [r2938520](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=2938520#L3 "Show revision 2938520 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=3053935#L3 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 |  |
  | 4 | 4 | <span class="icon"> |
  | 5 |  | <img src="<?php echo ~~siteorigin\_panels\_url( 'settings/images/icon-layer.png'~~ ); ?>" class="layer-3" /> |
  | 6 |  | <img src="<?php echo ~~siteorigin\_panels\_url( 'settings/images/icon-layer.png'~~ ); ?>" class="layer-2" /> |
  | 7 |  | <img src="<?php echo ~~siteorigin\_panels\_url( 'settings/images/icon-layer.png'~~ ); ?>" class="layer-1" /> |
  |  | 5 | <img src="<?php echo esc\_url( siteorigin\_panels\_url( 'settings/images/icon-layer.png' ) ); ?>" class="layer-3" /> |
  |  | 6 | <img src="<?php echo esc\_url( siteorigin\_panels\_url( 'settings/images/icon-layer.png' ) ); ?>" class="layer-2" /> |
  |  | 7 | <img src="<?php echo esc\_url( siteorigin\_panels\_url( 'settings/images/icon-layer.png' ) ); ?>" class="layer-1" /> |
  | 8 | 8 | </span> |
  | 9 |  | <h1><?php \_e( 'SiteOrigin Page Builder', 'siteorigin-panels' ); ?></h1> |
  |  | 9 | <h1><?php esc\_html\_e( 'SiteOrigin Page Builder', 'siteorigin-panels' ); ?></h1> |
  | 10 | 10 |  |
  | 11 | 11 | <div id="panels-settings-search"> |
  | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=2938520#L28) | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=3053935#L28) |  |
  | 28 | 28 | <?php if ( $this->settings\_saved ) { ?> |
  | 29 | 29 | <div id="setting-error-settings\_updated" class="updated settings-error"> |
  | 30 |  | <p><strong><?php \_e( 'Settings Saved', 'siteorigin-panels' ); ?></strong></p> |
  |  | 30 | <p><strong><?php esc\_html\_e( 'Settings Saved', 'siteorigin-panels' ); ?></strong></p> |
  | 31 | 31 | </div> |
  | 32 | 32 | <?php } ?> |
  | 33 | 33 |  |
  | 34 |  | <form action="<?php echo ~~admin\_url( 'options-general.php?page=siteorigin\_panels'~~ ); ?>" method="post" > |
  |  | 34 | <form action="<?php echo esc\_url( admin\_url( 'options-general.php?page=siteorigin\_panels' ) ); ?>" method="post" > |
  | 35 | 35 |  |
  | 36 | 36 | <div id="panels-settings-sections"> |
  | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=2938520#L43) | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=3053935#L43) |  |
  | 43 | 43 | <?php foreach ( $section['fields'] as $field\_id => $field ) { ?> |
  | 44 | 44 | <tr class="panels-setting"> |
  | 45 |  | <th scope="row"><label><?php echo esc\_html( $field['label'] ); ?></label></th> |
  |  | 45 | <th scope="row"> |
  |  | 46 | <label><?php echo esc\_html( $field['label'] ); ?></label></th> |
  | 46 | 47 | <td> |
  | 47 | 48 | <?php |
  | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=2938520#L80) | […](/browser/siteorigin-panels/trunk/settings/tpl/settings.php?rev=3053935#L81) |  |
  | 80 | 81 | <?php include plugin\_dir\_path( \_\_FILE\_\_ ) . 'welcome.php'; ?> |
  | 81 | 82 | </div> |
  | 82 |  |  |
  |  | 83 |  |
  | 83 | 84 | </div> |
  | 84 | 85 |  |
  | 85 | 86 | <div class="submit"> |
  | 86 | 87 | <?php wp\_nonce\_field( 'panels-settings' ); ?> |
  | 87 |  | <input type="submit" value="<?php \_e( 'Save Settings', 'siteorigin-panels' ); ?>" class="button-primary" /> |
  |  | 88 | <input type="submit" value="<?php esc\_html\_e( 'Save Settings', 'siteorigin-panels' ); ?>" class="button-primary" /> |
  | 88 | 89 | </div> |
  | 89 | 90 | </form> |
* ## [siteorigin-panels/trunk/siteorigin-panels.php](/changeset/3053935/siteorigin-panels/trunk/siteorigin-panels.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/siteorigin-panels.php")

  | [r3045967](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3045967#L4 "Show revision 3045967 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3053935#L4 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: https://siteorigin.com/page-builder/ |
  | 5 | 5 | Description: A drag and drop, responsive page builder that simplifies building your website. |
  | 6 |  | Version: 2.29.~~6~~ |
  |  | 6 | Version: 2.29.7 |
  | 7 | 7 | Author: SiteOrigin |
  | 8 | 8 | Author URI: https://siteorigin.com |
  | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3045967#L12) | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3053935#L12) |  |
  | 12 | 12 | \*/ |
  | 13 | 13 |  |
  | 14 |  | define( 'SITEORIGIN\_PANELS\_VERSION', '2.29.~~6~~' ); |
  |  | 14 | define( 'SITEORIGIN\_PANELS\_VERSION', '2.29.7' ); |
  | 15 | 15 |  |
  | 16 | 16 | if ( ! defined( 'SITEORIGIN\_PANELS\_JS\_SUFFIX' ) ) { |
  | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3045967#L641) | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3053935#L641) |  |
  | 641 | 641 | wp\_register\_script( |
  | 642 | 642 | 'fitvids', |
  | 643 |  | ~~siteorigin\_panels\_url( 'js/lib/jquery.fitvids' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js'~~ ), |
  |  | 643 | esc\_url( siteorigin\_panels\_url( 'js/lib/jquery.fitvids' . SITEORIGIN\_PANELS\_JS\_SUFFIX . '.js' ) ), |
  | 644 | 644 | array( 'jquery' ), |
  | 645 | 645 | SITEORIGIN\_PANELS\_VERSION |
  | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3045967#L737) | […](/browser/siteorigin-panels/trunk/siteorigin-panels.php?rev=3053935#L737) |  |
  | 737 | 737 | \*/ |
  | 738 | 738 | public function strip\_before\_js() { |
  | 739 |  | ?><script~~<?php echo current\_theme\_supports( 'html5', 'script' ) ? '' : ' type="text/javascript"'; ?>~~>document.body.className = document.body.className.replace("siteorigin-panels-before-js","");</script><?php |
  |  | 739 | ?><script>document.body.className = document.body.className.replace("siteorigin-panels-before-js","");</script><?php |
  | 740 | 740 | } |
  | 741 | 741 |  |
* ## [siteorigin-panels/trunk/tpl/admin-home-page.php](/changeset/3053935/siteorigin-panels/trunk/tpl/admin-home-page.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/tpl/admin-home-page.php")

  | [r2902679](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L11 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L11 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | id="panels-home-page-form" |
  | 12 | 12 | data-type="custom\_home\_page" |
  | 13 |  | data-post-id="<?php echo get\_the\_ID(); ?>" |
  | 14 |  | data-preview-url="<?php echo ~~SiteOrigin\_Panels::preview\_url(~~); ?>" |
  | 15 |  | data-builder-supports="<?php echo ~~esc\_attr( json\_encode( $builder\_supports )~~ ); ?>" |
  |  | 13 | data-post-id="<?php echo (int) get\_the\_ID(); ?>" |
  |  | 14 | data-preview-url="<?php echo esc\_url( SiteOrigin\_Panels::preview\_url() ); ?>" |
  |  | 15 | data-builder-supports="<?php echo wp\_json\_encode( $builder\_supports ); ?>" |
  | 16 | 16 | > |
  | 17 | 17 | <div id="icon-index" class="icon32"><br></div> |
  | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L19) | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L19) |  |
  | 19 | 19 | <label class="so-toggle-switch"> |
  | 20 | 20 | <input class="so-toggle-switch-input" type="checkbox" <?php checked( ( get\_option( 'siteorigin\_panels\_home\_page\_id' ) && get\_option( 'siteorigin\_panels\_home\_page\_id' ) == get\_option( 'page\_on\_front' ) && get\_option( 'show\_on\_front' ) == 'page' ) ); ?> name="siteorigin\_panels\_home\_enabled"> |
  | 21 |  | <span class="so-toggle-switch-label" data-on="<?php ~~\_e( 'On', 'siteorigin-panels' ); ?>" data-off="<?php~~ \_e( 'Off', 'siteorigin-panels' ); ?>"></span> |
  |  | 21 | <span class="so-toggle-switch-label" data-on="<?php esc\_html\_e( 'On', 'siteorigin-panels' ); ?>" data-off="<?php esc\_html\_e( 'Off', 'siteorigin-panels' ); ?>"></span> |
  | 22 | 22 | <span class="so-toggle-switch-handle"></span> |
  | 23 | 23 | </label> |
  | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L27) | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L27) |  |
  | 27 | 27 | <?php if ( get\_option( 'siteorigin\_panels\_home\_page\_id' ) && ( $the\_page = get\_post( get\_option( 'siteorigin\_panels\_home\_page\_id' ) ) ) ) { ?> |
  | 28 | 28 | <div id="panels-view-as-page"> |
  | 29 |  | <a href="<?php echo ~~admin\_url( 'post.php?post=' . $the\_page->ID . '&action=edit' ); ?>" class="add-new-h2">Edit As Page~~</a> |
  |  | 29 | <a href="<?php echo esc\_url( admin\_url( 'post.php?post=' . $the\_page->ID . '&action=edit' ) ); ?>" class="add-new-h2"><?php esc\_html\_e( 'Edit As Page', 'siteorigin-panels' ); ?></a> |
  | 30 | 30 | </div> |
  | 31 | 31 | <?php } ?> |
  | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L39) | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L39) |  |
  | 39 | 39 | echo preg\_replace( |
  | 40 | 40 | '/1\{ \*(.\*?) \*\}/', |
  | 41 |  | '<a href="' . ~~get\_the\_permalink( $post~~ ) . '">$1</a>', |
  | 42 |  | ~~\_\_~~( 'Home page updated. 1{View page}.', 'siteorigin-panels' ) |
  |  | 41 | '<a href="' . esc\_url( get\_the\_permalink( $post ) ) . '">$1</a>', |
  |  | 42 | esc\_html( 'Home page updated. 1{View page}.', 'siteorigin-panels' ) |
  | 43 | 43 | ); |
  | 44 | 44 | ?> |
  | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L56) | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L56) |  |
  | 56 | 56 | document.write( '<input name="panels\_data" type="hidden" class="siteorigin-panels-data-field" id="panels-data-field-' + builderId + '" />' ); |
  | 57 | 57 | document.getElementById( 'panels-data-field-' + builderId ).value = JSON.stringify( panelsData ); |
  | 58 |  | } )( "home-page", <?php echo json\_encode( $panels\_data ); ?> ); |
  |  | 58 | } )( "home-page", <?php echo wp\_json\_encode( $panels\_data ); ?> ); |
  | 59 | 59 | </script> |
  | 60 | 60 |  |
  | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=2902679#L63) | […](/browser/siteorigin-panels/trunk/tpl/admin-home-page.php?rev=3053935#L63) |  |
  | 63 | 63 | <?php wp\_nonce\_field( 'save', '\_sopanels\_home\_nonce' ); ?> |
  | 64 | 64 | </form> |
  | 65 |  | <noscript><p><?php \_e( 'This interface requires Javascript', 'siteorigin-panels' ); ?></p></noscript> |
  |  | 65 | <noscript><p><?php esc\_html\_e( 'This interface requires Javascript', 'siteorigin-panels' ); ?></p></noscript> |
  | 66 | 66 | </div> |
* ## [siteorigin-panels/trunk/tpl/help.php](/changeset/3053935/siteorigin-panels/trunk/tpl/help.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/tpl/help.php")

  | [r2902679](/browser/siteorigin-panels/trunk/tpl/help.php?rev=2902679#L1 "Show revision 2902679 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/tpl/help.php?rev=3053935#L1 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <p> |
  | 2 |  | <?php \_e( 'You can use SiteOrigin Page Builder to create home and sub pages, filled your own widgets.', 'siteorigin-panels' ); ?> |
  | 3 |  | <?php \_e( 'The page layouts are responsive and fully customizable.', 'siteorigin-panels' ); ?> |
  |  | 2 | <?php esc\_html\_e( 'You can use SiteOrigin Page Builder to create home and sub pages, filled your own widgets.', 'siteorigin-panels' ); ?> |
  |  | 3 | <?php esc\_html\_e( 'The page layouts are responsive and fully customizable.', 'siteorigin-panels' ); ?> |
  | 4 | 4 | </p> |
  | 5 | 5 | <p> |
* ## [siteorigin-panels/trunk/tpl/js-templates.php](/changeset/3053935/siteorigin-panels/trunk/tpl/js-templates.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/tpl/js-templates.php")

  | [r3017172](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L34 "Show revision 3017172 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L34 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | <a class="so-tool-button so-history" style="display: none" title="<?php esc\_attr\_e( 'Edit History', 'siteorigin-panels' ); ?>" tabindex="0"> |
  | 35 | 35 | <span class="so-panels-icon so-panels-icon-history"></span> |
  | 36 |  | <span class="so-button-text"><?php \_e( 'History', 'siteorigin-panels' ); ?></span> |
  |  | 36 | <span class="so-button-text"><?php esc\_html\_e( 'History', 'siteorigin-panels' ); ?></span> |
  | 37 | 37 | </a> |
  | 38 | 38 |  |
  | 39 | 39 | <a class="so-tool-button so-live-editor" style="display: none" title="<?php esc\_html\_e( 'Live Editor', 'siteorigin-panels' ); ?>" tabindex="0"> |
  | 40 | 40 | <span class="so-panels-icon so-panels-icon-live-editor"></span> |
  | 41 |  | <span class="so-button-text"><?php \_e( 'Live Editor', 'siteorigin-panels' ); ?></span> |
  |  | 41 | <span class="so-button-text"><?php esc\_html\_e( 'Live Editor', 'siteorigin-panels' ); ?></span> |
  | 42 | 42 | </a> |
  | 43 | 43 |  |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L51) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L51) |  |
  | 51 | 51 | <?php } ?> |
  | 52 | 52 |  |
  | 53 |  | <a class="so-switch-to-standard" tabindex="0"><?php \_e( 'Revert to Editor', 'siteorigin-panels' ); ?></a> |
  |  | 53 | <a class="so-switch-to-standard" tabindex="0"><?php esc\_html\_e( 'Revert to Editor', 'siteorigin-panels' ); ?></a> |
  | 54 | 54 |  |
  | 55 | 55 | </div> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L63) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L63) |  |
  | 63 | 63 | <?php |
  | 64 | 64 | printf( |
  | 65 |  | \_\_( 'Add a %s, %s or %s to get started. Read our %s if you need help.', 'siteorigin-panels' ), |
  | 66 |  | "<a href='#' class='so-tool-button so-widget-add'>" . \_\_( 'Widget', 'siteorigin-panels' ) . '</a>', |
  | 67 |  | "<a href='#' class='so-tool-button so-row-add'>" . \_\_( 'Row', 'siteorigin-panels' ) . '</a>', |
  | 68 |  | "<a href='#' class='so-tool-button so-prebuilt-add'>" . \_\_( 'Prebuilt Layout', 'siteorigin-panels' ) . '</a>', |
  | 69 |  | "<a href='https://siteorigin.com/page-builder/documentation/' target='\_blank' rel='noopener noreferrer'>" . \_\_( 'documentation', 'siteorigin-panels' ) . '</a>' |
  |  | 65 | esc\_html\_\_( 'Add a %s, %s or %s to get started. Read our %s if you need help.', 'siteorigin-panels' ), |
  |  | 66 | "<a href='#' class='so-tool-button so-widget-add'>" . esc\_html\_\_( 'Widget', 'siteorigin-panels' ) . '</a>', |
  |  | 67 | "<a href='#' class='so-tool-button so-row-add'>" . esc\_html\_\_( 'Row', 'siteorigin-panels' ) . '</a>', |
  |  | 68 | "<a href='#' class='so-tool-button so-prebuilt-add'>" . esc\_html\_\_( 'Prebuilt Layout', 'siteorigin-panels' ) . '</a>', |
  |  | 69 | "<a href='https://siteorigin.com/page-builder/documentation/' target='\_blank' rel='noopener noreferrer'>" . esc\_html\_\_( 'documentation', 'siteorigin-panels' ) . '</a>' |
  | 70 | 70 | ); |
  | 71 | 71 | ?> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L74) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L74) |  |
  | 74 | 74 | <?php if ( SiteOrigin\_Panels::display\_premium\_teaser() ) { ?> |
  | 75 | 75 | <div class="so-tip-wrapper"> |
  | 76 |  | <strong><?php \_e( 'Pro Tip', 'siteorigin-panels' ); ?>: </strong> |
  |  | 76 | <strong><?php esc\_html\_e( 'Pro Tip', 'siteorigin-panels' ); ?>: </strong> |
  | 77 | 77 | <?php SiteOrigin\_Panels\_Admin::display\_footer\_premium\_link(); ?> |
  | 78 | 78 | </div> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L98) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L98) |  |
  | 98 | 98 | <div class="so-dropdown-links-wrapper"> |
  | 99 | 99 | <ul> |
  | 100 |  | <li><a class="so-row-settings"><?php \_e( 'Edit Row', 'siteorigin-panels' ); ?></a></li> |
  | 101 |  | <li><a class="so-row-duplicate"><?php \_e( 'Duplicate Row', 'siteorigin-panels' ); ?></a></li> |
  | 102 |  | <li><a class="so-row-delete so-needs-confirm" data-confirm="<?php esc\_attr\_e( 'Are you sure?', 'siteorigin-panels' ); ?>"><?php \_e( 'Delete Row', 'siteorigin-panels' ); ?></a></li> |
  |  | 100 | <li><a class="so-row-settings"><?php esc\_html\_e( 'Edit Row', 'siteorigin-panels' ); ?></a></li> |
  |  | 101 | <li><a class="so-row-duplicate"><?php esc\_html\_e( 'Duplicate Row', 'siteorigin-panels' ); ?></a></li> |
  |  | 102 | <li><a class="so-row-delete so-needs-confirm" data-confirm="<?php esc\_attr\_e( 'Are you sure?', 'siteorigin-panels' ); ?>"><?php esc\_html\_e( 'Delete Row', 'siteorigin-panels' ); ?></a></li> |
  | 103 | 103 | <?php |
  | 104 | 104 | $row\_colors = SiteOrigin\_Panels\_Admin::get\_row\_colors(); |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L111) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L111) |  |
  | 111 | 111 | $name = ! empty( $color['name'] ) ? sanitize\_title( $color['name'] ) : $id; |
  | 112 | 112 | ?> |
  | 113 |  | <div data-color-label="<?php e~~cho esc\_attr~~( $name ); ?>" |
  | 114 |  | class="<?php e~~cho esc\_attr( 'so-row-color so-row-color-' . $name ); ?>{{% if( rowColorLabel == '<?php echo esc\_attr~~( $name ); ?>' ) print(' so-row-color-selected'); %}}" |
  |  | 113 | <div data-color-label="<?php esc\_attr\_e( $name ); ?>" |
  |  | 114 | class="<?php esc\_attr\_e( 'so-row-color so-row-color-' . $name ); ?>{{% if( rowColorLabel == '<?php esc\_attr\_e( $name ); ?>' ) print(' so-row-color-selected'); %}}" |
  | 115 | 115 | ></div> |
  | 116 | 116 | <?php } ?> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L145) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L145) |  |
  | 145 | 145 | <span class="actions"> |
  | 146 | 146 | <a class="widget-edit" tabindex="0"> |
  | 147 |  | <span class="so-panels-icon so-panels-icon-edit-widget" aria-label="<?php e~~cho esc\_attr~~( 'Edit widget', 'siteorigin-panels' ); ?>"></span> |
  |  | 147 | <span class="so-panels-icon so-panels-icon-edit-widget" aria-label="<?php esc\_attr\_e( 'Edit widget', 'siteorigin-panels' ); ?>"></span> |
  | 148 | 148 | <span class="so-button-text"> |
  | 149 |  | <?php \_e( 'Edit', 'siteorigin-panels' ); ?> |
  |  | 149 | <?php esc\_html\_e( 'Edit', 'siteorigin-panels' ); ?> |
  | 150 | 150 | </span> |
  | 151 | 151 | </a> |
  | 152 | 152 | <a class="widget-duplicate" tabindex="0"> |
  | 153 |  | <span class="so-panels-icon so-panels-icon-duplicate-widget" aria-label="<?php e~~cho esc\_attr~~( 'Duplicate widget', 'siteorigin-panels' ); ?>"></span> |
  |  | 153 | <span class="so-panels-icon so-panels-icon-duplicate-widget" aria-label="<?php esc\_attr\_e( 'Duplicate widget', 'siteorigin-panels' ); ?>"></span> |
  | 154 | 154 | <span class="so-button-text"> |
  | 155 |  | <?php \_e( 'Duplicate', 'siteorigin-panels' ); ?> |
  |  | 155 | <?php esc\_html\_e( 'Duplicate', 'siteorigin-panels' ); ?> |
  | 156 | 156 | </span> |
  | 157 | 157 | </a> |
  | 158 | 158 | <a class="widget-delete" tabindex="0"> |
  | 159 |  | <span class="so-panels-icon so-panels-icon-delete-widget" aria-label="<?php e~~cho esc\_attr~~( 'Delete widget', 'siteorigin-panels' ); ?>"></span> |
  |  | 159 | <span class="so-panels-icon so-panels-icon-delete-widget" aria-label="<?php esc\_attr\_e( 'Delete widget', 'siteorigin-panels' ); ?>"></span> |
  | 160 | 160 | <span class="so-button-text"> |
  | 161 |  | <?php \_e( 'Delete', 'siteorigin-panels' ); ?> |
  |  | 161 | <?php esc\_html\_e( 'Delete', 'siteorigin-panels' ); ?> |
  | 162 | 162 | </span> |
  | 163 | 163 | </a> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L215) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L215) |  |
  | 215 | 215 | <div class="dialog-data"> |
  | 216 | 216 |  |
  | 217 |  | <h3 class="title"><?php \_e( 'Page Builder', 'siteorigin-panels' ); ?></h3> |
  |  | 217 | <h3 class="title"><?php esc\_html\_e( 'Page Builder', 'siteorigin-panels' ); ?></h3> |
  | 218 | 218 |  |
  | 219 | 219 | <div class="content"> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L238) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L238) |  |
  | 238 | 238 | <div class="dialog-data"> |
  | 239 | 239 |  |
  | 240 |  | <h3 class="title"><?php printf( \_\_( 'Add New Widget %s', 'siteorigin-panels' ), '<span class="current-tab-title"></span>' ); ?></h3> |
  |  | 240 | <h3 class="title"><?php printf( esc\_html\_\_( 'Add New Widget %s', 'siteorigin-panels' ), '<span class="current-tab-title"></span>' ); ?></h3> |
  | 241 | 241 |  |
  | 242 | 242 | <div class="left-sidebar"> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L285) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L285) |  |
  | 285 | 285 | <div class="buttons"> |
  | 286 | 286 | <div class="action-buttons"> |
  | 287 |  | <a class="so-delete" role="button" tabindex="0"><?php \_e( 'Delete', 'siteorigin-panels' ); ?></a> |
  | 288 |  | <a class="so-duplicate" role="button" tabindex="0"><?php \_e( 'Duplicate', 'siteorigin-panels' ); ?></a> |
  |  | 287 | <a class="so-delete" role="button" tabindex="0"><?php esc\_html\_e( 'Delete', 'siteorigin-panels' ); ?></a> |
  |  | 288 | <a class="so-duplicate" role="button" tabindex="0"><?php esc\_html\_e( 'Duplicate', 'siteorigin-panels' ); ?></a> |
  | 289 | 289 | </div> |
  | 290 | 290 |  |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L296) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L296) |  |
  | 296 | 296 | class="button-secondary dashicons so-mode" |
  | 297 | 297 | tabindex="0" |
  | 298 |  | aria-label="<?php \_e( 'Access Modes', 'siteorigin-panels' ); ?>" |
  |  | 298 | aria-label="<?php esc\_attr\_e( 'Access Modes', 'siteorigin-panels' ); ?>" |
  | 299 | 299 | role="button" |
  | 300 | 300 | > |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L302) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L302) |  |
  | 302 | 302 | <ul class="so-mode-list" style="display: none;"> |
  | 303 | 303 | <li class="so-saveinline-mode" tabindex="0" role="button"> |
  | 304 |  | <?php \_e( 'Save Now', 'siteorigin-panels' ); ?> |
  |  | 304 | <?php esc\_html\_e( 'Save Now', 'siteorigin-panels' ); ?> |
  | 305 | 305 | </li> |
  | 306 | 306 | <li class="so-close-mode" tabindex="0" role="button"> |
  | 307 |  | <?php \_e( 'Save With Page Save', 'siteorigin-panels' ); ?> |
  |  | 307 | <?php esc\_html\_e( 'Save With Page Save', 'siteorigin-panels' ); ?> |
  | 308 | 308 | </li> |
  | 309 | 309 | </ul> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L337) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L337) |  |
  | 337 | 337 | <div class="row-cell-column"> |
  | 338 | 338 | <?php |
  | 339 |  | e~~cho \_\_~~( 'Column Count:', 'siteorigin-panels' ); |
  |  | 339 | esc\_html\_e( 'Column Count:', 'siteorigin-panels' ); |
  | 340 | 340 | echo apply\_filters( 'siteorigin\_panels\_row\_column\_count\_input', '<input type="number" min="1" max="12" name="cells" class="so-row-field" value="2" />' ); |
  | 341 | 341 | ?> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L344) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L344) |  |
  | 344 | 344 | <div class="cell-resize-container"> |
  | 345 | 345 | <span class="cell-resize-label"> |
  | 346 |  | <?php echo ~~\_\_~~( 'Column Presets: ', 'siteorigin-panels' ); ?> |
  |  | 346 | <?php echo esc\_html\_e( 'Column Presets: ', 'siteorigin-panels' ); ?> |
  | 347 | 347 | </span> |
  | 348 |  | <div class="cell-resize" data-resize="<?php echo ~~esc\_js( json\_encode( $column\_sizes )~~ ); ?>"></div> |
  |  | 348 | <div class="cell-resize" data-resize="<?php echo wp\_json\_encode( $column\_sizes ); ?>"></div> |
  | 349 | 349 | </div> |
  | 350 | 350 | <div class="cell-resize-direction-container"> |
  | 351 |  | <?php e~~cho \_\_~~( 'Direction:', 'siteorigin-panels' ); ?> |
  |  | 351 | <?php esc\_html\_e( 'Direction:', 'siteorigin-panels' ); ?> |
  | 352 | 352 |  |
  | 353 | 353 | <span |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L355) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L355) |  |
  | 355 | 355 | data-direction="left" |
  | 356 | 356 | tabindex="0" |
  | 357 |  | aria-label="<?php e~~cho esc\_attr~~( 'Change column direction to the left', 'siteorigin-panels' ); ?>" |
  |  | 357 | aria-label="<?php esc\_attr\_e( 'Change column direction to the left', 'siteorigin-panels' ); ?>" |
  | 358 | 358 | ></span> |
  | 359 | 359 | </div> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L369) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L369) |  |
  | 369 | 369 | {{% if( dialogType == 'edit' ) { %}} |
  | 370 | 370 | <div class="action-buttons"> |
  | 371 |  | <a class="so-delete" role="button" tabindex="0"><?php \_e( 'Delete', 'siteorigin-panels' ); ?></a> |
  | 372 |  | <a class="so-duplicate" role="button" tabindex="0"><?php \_e( 'Duplicate', 'siteorigin-panels' ); ?></a> |
  |  | 371 | <a class="so-delete" role="button" tabindex="0"><?php esc\_html\_e( 'Delete', 'siteorigin-panels' ); ?></a> |
  |  | 372 | <a class="so-duplicate" role="button" tabindex="0"><?php esc\_html\_e( 'Duplicate', 'siteorigin-panels' ); ?></a> |
  | 373 | 373 | </div> |
  | 374 | 374 | {{% } %}} |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L384) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L384) |  |
  | 384 | 384 | class="button-secondary dashicons so-mode" |
  | 385 | 385 | tabindex="0" |
  | 386 |  | aria-label="<?php \_e( 'Access Modes', 'siteorigin-panels' ); ?>" |
  |  | 386 | aria-label="<?php esc\_html\_e( 'Access Modes', 'siteorigin-panels' ); ?>" |
  | 387 | 387 | role="button" |
  | 388 | 388 | > |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L390) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L390) |  |
  | 390 | 390 | <ul class="so-mode-list" style="display: none;"> |
  | 391 | 391 | <li class="so-saveinline-mode" tabindex="0" role="button"> |
  | 392 |  | <?php \_e( 'Save Now', 'siteorigin-panels' ); ?> |
  |  | 392 | <?php esc\_html\_e( 'Save Now', 'siteorigin-panels' ); ?> |
  | 393 | 393 | </li> |
  | 394 | 394 | <li class="so-close-mode" tabindex="0" role="button"> |
  | 395 |  | <?php \_e( 'Save With Page Save', 'siteorigin-panels' ); ?> |
  |  | 395 | <?php esc\_html\_e( 'Save With Page Save', 'siteorigin-panels' ); ?> |
  | 396 | 396 | </li> |
  | 397 | 397 | </ul> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L417) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L417) |  |
  | 417 | 417 | <div class="dialog-data"> |
  | 418 | 418 |  |
  | 419 |  | <h3 class="title"><?php \_e( 'Page Builder Layouts', 'siteorigin-panels' ); ?></h3> |
  |  | 419 | <h3 class="title"><?php esc\_html\_e( 'Page Builder Layouts', 'siteorigin-panels' ); ?></h3> |
  | 420 | 420 |  |
  | 421 | 421 | <div class="left-sidebar"> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L451) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L451) |  |
  | 451 | 451 | ?> |
  | 452 | 452 | <li> |
  | 453 |  | <a href="#<?php e~~cho esc\_html~~( $id ); ?>"><?php echo esc\_html( $tab ); ?></a> |
  |  | 453 | <a href="#<?php esc\_attr\_e( $id ); ?>"><?php echo esc\_html( $tab ); ?></a> |
  | 454 | 454 | </li> |
  | 455 | 455 | <?php |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L482) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L482) |  |
  | 482 | 482 | <script type="text/template" id="siteorigin-panels-directory-enable"> |
  | 483 | 483 | <div class="so-enable-prebuilt"> |
  | 484 |  | <?php \_e( 'Do you want to browse the Prebuilt Layouts directory?', 'siteorigin-panels' ); ?> |
  | 485 |  | <button class="button-primary so-panels-enable-directory"><?php \_e( 'Enable', 'siteorigin-panels' ); ?></button> |
  |  | 484 | <?php esc\_html\_e( 'Do you want to browse the Prebuilt Layouts directory?', 'siteorigin-panels' ); ?> |
  |  | 485 | <button class="button-primary so-panels-enable-directory"><?php esc\_html\_e( 'Enable', 'siteorigin-panels' ); ?></button> |
  | 486 | 486 | </div> |
  | 487 | 487 | </script> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L496) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L496) |  |
  | 496 | 496 | {{% if(items.length === 0) { %}} |
  | 497 | 497 | <div class="so-no-results"> |
  | 498 |  | <?php \_e( "Your search didn't return any results", 'siteorigin-panels' ); ?> |
  |  | 498 | <?php esc\_html\_e( "Your search didn't return any results", 'siteorigin-panels' ); ?> |
  | 499 | 499 | </div> |
  | 500 | 500 | {{% } else { %}} |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L524) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L524) |  |
  | 524 | 524 |  |
  | 525 | 525 | <div class="so-directory-pages"> |
  | 526 |  | <a class="so-previous button-secondary" data-direction="prev"><?php \_e( 'Previous', 'siteorigin-panels' ); ?></a> |
  | 527 |  | <a class="so-next button-secondary" data-direction="next"><?php \_e( 'Next', 'siteorigin-panels' ); ?></a> |
  |  | 526 | <a class="so-previous button-secondary" data-direction="prev"><?php esc\_html\_e( 'Previous', 'siteorigin-panels' ); ?></a> |
  |  | 527 | <a class="so-next button-secondary" data-direction="next"><?php esc\_html\_e( 'Next', 'siteorigin-panels' ); ?></a> |
  | 528 | 528 | </div> |
  | 529 | 529 | </div> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L535) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L535) |  |
  | 535 | 535 | <div class="drag-upload-area"> |
  | 536 | 536 |  |
  | 537 |  | <h2 class="drag-drop-message"><?php \_e( 'Drop import file here', 'siteorigin-panels' ); ?></h2> |
  | 538 |  | <p class="drag-drop-message"><?php \_e( 'Or', 'siteorigin-panels' ); ?></p> |
  |  | 537 | <h2 class="drag-drop-message"><?php esc\_html\_e( 'Drop import file here', 'siteorigin-panels' ); ?></h2> |
  |  | 538 | <p class="drag-drop-message"><?php esc\_html\_e( 'Or', 'siteorigin-panels' ); ?></p> |
  | 539 | 539 |  |
  | 540 | 540 | <p class="drag-drop-buttons"> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L564) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L564) |  |
  | 564 | 564 | <div class="dialog-data"> |
  | 565 | 565 |  |
  | 566 |  | <h3 class="title"><?php \_e( 'Page Builder Change History', 'siteorigin-panels' ); ?></h3> |
  |  | 566 | <h3 class="title"><?php esc\_html\_e( 'Page Builder Change History', 'siteorigin-panels' ); ?></h3> |
  | 567 | 567 |  |
  | 568 | 568 | <div class="left-sidebar"> |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L652) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L652) |  |
  | 652 | 652 | {{% if( settings.search ) { %}} |
  | 653 | 653 | <div class="so-no-results"> |
  | 654 |  | <?php \_e( 'No Results', 'siteorigin-panels' ); ?> |
  |  | 654 | <?php esc\_html\_e( 'No Results', 'siteorigin-panels' ); ?> |
  | 655 | 655 | </div> |
  | 656 | 656 | {{% } %}} |
  | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3017172#L662) | […](/browser/siteorigin-panels/trunk/tpl/js-templates.php?rev=3053935#L662) |  |
  | 662 | 662 | <button class="components-button is-button is-primary"> |
  | 663 | 663 | <span class="siteorigin-panels-block-icon white"></span> |
  | 664 |  | <?php \_e( 'Add SiteOrigin Layout Block', 'siteorigin-panels' ); ?> |
  |  | 664 | <?php esc\_html\_e( 'Add SiteOrigin Layout Block', 'siteorigin-panels' ); ?> |
  | 665 | 665 | </button> |
  | 666 | 666 | </div> |
* ## [siteorigin-panels/trunk/tpl/live-editor-preview.php](/changeset/3053935/siteorigin-panels/trunk/tpl/live-editor-preview.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/tpl/live-editor-preview.php")

  | [r2967868](/browser/siteorigin-panels/trunk/tpl/live-editor-preview.php?rev=2967868#L3 "Show revision 2967868 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/tpl/live-editor-preview.php?rev=3053935#L3 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | exit; // Exit if accessed directly. |
  | 4 | 4 | } |
  | 5 |  | wp\_enqueue\_style( 'siteorigin-preview-style', siteorigin\_panels\_url( 'css/live-editor-preview' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css' ), array(), SITEORIGIN\_PANELS\_VERSION ); |
  |  | 5 | wp\_enqueue\_style( |
  |  | 6 | 'siteorigin-preview-style', |
  |  | 7 | esc\_url( siteorigin\_panels\_url( 'css/live-editor-preview' . SITEORIGIN\_PANELS\_CSS\_SUFFIX . '.css' ) ), |
  |  | 8 | array(), |
  |  | 9 | SITEORIGIN\_PANELS\_VERSION |
  |  | 10 | ); |
  | 6 | 11 | ?> |
  | 7 | 12 | <!DOCTYPE html> |
* ## [siteorigin-panels/trunk/tpl/metabox-panels.php](/changeset/3053935/siteorigin-panels/trunk/tpl/metabox-panels.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/tpl/metabox-panels.php")

  | [r2908721](/browser/siteorigin-panels/trunk/tpl/metabox-panels.php?rev=2908721#L1 "Show revision 2908721 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/tpl/metabox-panels.php?rev=3053935#L1 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <div id="siteorigin-panels-metabox" |
  | 2 | 2 | data-builder-type="<?php echo esc\_attr( $builder\_type ); ?>" |
  | 3 |  | data-preview-url="<?php echo ~~$preview\_url~~; ?>" |
  | 4 |  | data-builder-supports="<?php echo esc\_attr( json\_encode( $builder\_supports ) ); ?>" |
  |  | 3 | data-preview-url="<?php echo esc\_url( $preview\_url ); ?>" |
  |  | 4 | data-builder-supports="<?php echo esc\_attr( wp\_json\_encode( $builder\_supports ) ); ?>" |
  | 5 | 5 | <?php if ( ! empty( $\_GET['so\_live\_editor'] ) ) { ?> |
  | 6 | 6 | data-live-editor="1" |
  | […](/browser/siteorigin-panels/trunk/tpl/metabox-panels.php?rev=2908721#L16) | […](/browser/siteorigin-panels/trunk/tpl/metabox-panels.php?rev=3053935#L16) |  |
  | 16 | 16 | document.write( '<input name="panels\_data" type="hidden" class="siteorigin-panels-data-field" id="panels-data-field-' + builderId + '" />' ); |
  | 17 | 17 | document.getElementById('panels-data-field-<?php echo esc\_attr( $builder\_id ); ?>').value = JSON.stringify( panelsData ); |
  | 18 |  | } )( "<?php echo esc\_attr( $builder\_id ); ?>", <?php echo json\_encode( $panels\_data ); ?> ); |
  |  | 18 | } )( "<?php echo esc\_attr( $builder\_id ); ?>", <?php echo wp\_json\_encode( $panels\_data ); ?> ); |
  | 19 | 19 | </script> |
  | 20 | 20 |  |
* ## [siteorigin-panels/trunk/widgets/widgets.php](/changeset/3053935/siteorigin-panels/trunk/widgets/widgets.php "Show the changeset 3053935 restricted to siteorigin-panels/trunk/widgets/widgets.php")

  | [r2967868](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L67 "Show revision 2967868 of this file in browser") | [r3053935](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L67 "Show revision 3053935 of this file in browser") |  |
  | --- | --- | --- |
  | 67 | 67 |  |
  | 68 | 68 | if ( ! empty( $origin\_widgets\_generated\_css ) ) { |
  | 69 |  | $type\_attr = current\_theme\_supports( 'html5', 'style' ) ? '' : ' type="text/css"'; |
  | 70 |  | echo "<style$type\_attr>"; |
  |  | 69 | echo "<style>"; |
  | 71 | 70 |  |
  | 72 | 71 | foreach ( $origin\_widgets\_generated\_css as $id => $css ) { |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L195) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L194) |  |
  | 195 | 194 | } |
  | 196 | 195 |  |
  | 197 |  | ?><p><label for="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>"><?php echo esc\_html( $field\_args['label'] ); ?></label><?php |
  |  | 196 | ?><p><label for="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>"><?php echo esc\_html( $field\_args['label'] ); ?></label><?php |
  | 198 | 197 |  |
  | 199 | 198 | if ( $field\_args['type'] != 'checkbox' ) { |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L207) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L206) |  |
  | 207 | 206 | type="text" |
  | 208 | 207 | class="widefat" |
  | 209 |  | id="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>" |
  | 210 |  | name="<?php echo ~~$this->get\_field\_name( $field\_id~~ ); ?>" |
  |  | 208 | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
  |  | 209 | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
  | 211 | 210 | value="<?php echo esc\_attr( $instance[ $field\_id ] ); ?>" |
  | 212 | 211 | /> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L221) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L220) |  |
  | 221 | 220 | <textarea |
  | 222 | 221 | class="widefat" |
  | 223 |  | id="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>" |
  | 224 |  | name="<?php echo ~~$this->get\_field\_name( $field\_id~~ ); ?>" |
  |  | 222 | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
  |  | 223 | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
  | 225 | 224 | rows="<?php echo (int) $field\_args['height']; ?>" |
  | 226 | 225 | ><?php echo esc\_textarea( $instance[ $field\_id ] ); ?></textarea> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L233) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L232) |  |
  | 233 | 232 | type="number" |
  | 234 | 233 | class="small-text" |
  | 235 |  | id="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>" |
  | 236 |  | name="<?php echo ~~$this->get\_field\_name( $field\_id~~ ); ?>" |
  | 237 |  | value="<?php echo (float) $instance[ $field\_id]; ?>" |
  |  | 234 | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
  |  | 235 | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
  |  | 236 | value="<?php echo (float) $instance[ $field\_id ]; ?>" |
  | 238 | 237 | /> |
  | 239 | 238 | <?php |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L245) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L244) |  |
  | 245 | 244 | type="checkbox" |
  | 246 | 245 | class="small-text" |
  | 247 |  | id="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>" |
  | 248 |  | name="<?php echo ~~$this->get\_field\_name( $field\_id~~ ); ?>" |
  |  | 246 | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
  |  | 247 | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
  | 249 | 248 | <?php checked( ! empty( $instance[ $field\_id ] ) ); ?> |
  | 250 | 249 | /> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L255) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L254) |  |
  | 255 | 254 | ?> |
  | 256 | 255 | <select |
  | 257 |  | id="<?php echo ~~$this->get\_field\_id( $field\_id~~ ); ?>" |
  | 258 |  | name="<?php echo ~~$this->get\_field\_name( $field\_id~~ ); ?>"> |
  |  | 256 | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
  |  | 257 | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>"> |
  | 259 | 258 | <?php foreach ( $field\_args['options'] as $k => $v ) { ?> |
  | 260 | 259 | <option |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L291) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L290) |  |
  | 291 | 290 | ?> |
  | 292 | 291 | <p> |
  | 293 |  | <label for="<?php echo ~~$this->get\_field\_id( 'origin\_style' ); ?>"><?php~~ \_e( 'Style', 'siteorigin-panels' ); ?></label> |
  | 294 |  | <select name="<?php echo ~~$this->get\_field\_name( 'origin\_style' ); ?>" id="<?php echo $this->get\_field\_id( 'origin\_style'~~ ); ?>"> |
  |  | 292 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style' ) ); ?>"><?php esc\_html\_e( 'Style', 'siteorigin-panels' ); ?></label> |
  |  | 293 | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'origin\_style' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style' ) ); ?>"> |
  | 295 | 294 | <?php |
  | 296 | 295 | foreach ( $this->get\_styles() as $style\_id => $style\_info ) { |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L321) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L320) |  |
  | 321 | 320 | ?> |
  | 322 | 321 | <p> |
  | 323 |  | <label for="<?php echo ~~$this->get\_field\_id( 'origin\_style\_' . $id~~ ); ?>"><?php printf( \_\_( '%s Style', 'siteorigin-panels' ), $sub[0] ); ?></label> |
  | 324 |  | <select name="<?php echo ~~$this->get\_field\_name( 'origin\_style\_' . $id ); ?>" id="<?php echo $this->get\_field\_id( 'origin\_style\_' . $id~~ ); ?>"> |
  |  | 322 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style\_' . $id ) ); ?>"><?php printf( \_\_( '%s Style', 'siteorigin-panels' ), $sub[0] ); ?></label> |
  |  | 323 | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'origin\_style\_' . $id ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style\_' . $id ) ); ?>"> |
  | 325 | 324 | <?php foreach ( $the\_widget->get\_styles() as $style\_id => $style\_info ) { |
  | 326 | 325 | $presets = $the\_widget->get\_style\_presets( $style\_id ); ?> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L394) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L393) |  |
  | 394 | 393 | if ( empty( $template\_file ) ) { |
  | 395 | 394 | echo $args['before\_widget']; |
  | 396 |  | e~~cho 'Template not found'~~; |
  |  | 395 | esc\_html\_e( 'Template not found', 'siteorigin-panels' ); |
  | 397 | 396 | echo $args['after\_widget']; |
  | 398 | 397 |  |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L434) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L433) |  |
  | 434 | 433 |  |
  | 435 | 434 | echo $args['before\_widget']; |
  | 436 |  | echo '<div class="' . ~~esc\_attr~~( implode( ' ', $widget\_classes ) ) . '">'; |
  |  | 435 | echo '<div class="' .  sanitize\_html\_class( implode( ' ', $widget\_classes ) ) . '">'; |
  | 437 | 436 | include $template\_file; |
  | 438 | 437 | echo '</div>'; |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L811) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L810) |  |
  | 811 | 810 | continue; |
  | 812 | 811 | } |
  | 813 |  | $shortcode\_attr[] = ~~$k~~ . '="' . esc\_attr( $v ) . '"'; |
  |  | 812 | $shortcode\_attr[] = esc\_html( $k ) . '="' . esc\_attr( $v ) . '"'; |
  | 814 | 813 | } |
  | 815 | 814 |  |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L838) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L837) |  |
  | 838 | 837 | ?> |
  | 839 | 838 | <p> |
  | 840 |  | <label for="<?php echo ~~$this->get\_field\_id( 'ids' ); ?>"><?php~~ \_e( 'Gallery Images', 'siteorigin-panels' ); ?></label> |
  | 841 |  | <a href="#" onclick="return false;" class="so-gallery-widget-select-attachments hidden"><?php \_e( 'edit gallery', 'siteorigin-panels' ); ?></a> |
  | 842 |  | <input type="text" class="widefat" value="<?php echo esc\_attr( $instance['ids'] ); ?>" name="<?php echo ~~$this->get\_field\_name( 'ids'~~ ); ?>" /> |
  |  | 839 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'ids' ) ); ?>"><?php esc\_html\_e( 'Gallery Images', 'siteorigin-panels' ); ?></label> |
  |  | 840 | <a href="#" onclick="return false;" class="so-gallery-widget-select-attachments hidden"><?php esc\_html\_e( 'edit gallery', 'siteorigin-panels' ); ?></a> |
  |  | 841 | <input type="text" class="widefat" value="<?php echo esc\_attr( $instance['ids'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'ids' ) ); ?>" /> |
  | 843 | 842 | </p> |
  | 844 | 843 | <p class="description"> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L847) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L846) |  |
  | 847 | 846 |  |
  | 848 | 847 | <p> |
  | 849 |  | <label for="<?php echo ~~$this->get\_field\_id( 'size' ); ?>"><?php~~ \_e( 'Image Size', 'siteorigin-panels' ); ?></label> |
  | 850 |  | <select name="<?php echo ~~$this->get\_field\_name( 'size' ); ?>" id="<?php echo $this->get\_field\_id( 'size'~~ ); ?>"> |
  |  | 848 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'size' ) ); ?>"><?php esc\_html\_e( 'Image Size', 'siteorigin-panels' ); ?></label> |
  |  | 849 | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'size' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'size' ) ); ?>"> |
  | 851 | 850 | <option value="" <?php selected( empty( $instance['size'] ) ); ?>><?php esc\_html\_e( 'Default', 'siteorigin-panels' ); ?></option> |
  | 852 | 851 | <option value="large" <?php selected( 'large', $instance['size'] ); ?>><?php esc\_html\_e( 'Large', 'siteorigin-panels' ); ?></option> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L863) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L862) |  |
  | 863 | 862 |  |
  | 864 | 863 | <p> |
  | 865 |  | <label for="<?php echo ~~$this->get\_field\_id( 'type' ); ?>"><?php~~ \_e( 'Gallery Type', 'siteorigin-panels' ); ?></label> |
  | 866 |  | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['type'] ); ?>" name="<?php echo ~~$this->get\_field\_name( 'type'~~ ); ?>" /> |
  |  | 864 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'type' ) ); ?>"><?php esc\_html\_e( 'Gallery Type', 'siteorigin-panels' ); ?></label> |
  |  | 865 | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['type'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'type' ) ); ?>" /> |
  | 867 | 866 | </p> |
  | 868 | 867 |  |
  | 869 | 868 | <p> |
  | 870 |  | <label for="<?php echo ~~$this->get\_field\_id( 'columns' ); ?>"><?php~~ \_e( 'Columns', 'siteorigin-panels' ); ?></label> |
  | 871 |  | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['columns'] ); ?>" name="<?php echo ~~$this->get\_field\_name( 'columns'~~ ); ?>" /> |
  |  | 869 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'columns' ) ); ?>"><?php esc\_html\_e( 'Columns', 'siteorigin-panels' ); ?></label> |
  |  | 870 | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['columns'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'columns' ) ); ?>" /> |
  | 872 | 871 | </p> |
  | 873 | 872 |  |
  | 874 | 873 | <p> |
  | 875 |  | <label for="<?php echo ~~$this->get\_field\_id( 'link' ); ?>"><?php~~ \_e( 'Link To', 'siteorigin-panels' ); ?></label> |
  | 876 |  | <select name="<?php echo ~~$this->get\_field\_name( 'link' ); ?>" id="<?php echo $this->get\_field\_id( 'link'~~ ); ?>"> |
  |  | 874 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'link' ) ); ?>"><?php esc\_html\_e( 'Link To', 'siteorigin-panels' ); ?></label> |
  |  | 875 | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'link' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'link' ) ); ?>"> |
  | 877 | 876 | <option value="" <?php selected( '', $instance['link'] ); ?>><?php esc\_html\_e( 'Attachment Page', 'siteorigin-panels' ); ?></option> |
  | 878 | 877 | <option value="file" <?php selected( 'file', $instance['link'] ); ?>><?php esc\_html\_e( 'File', 'siteorigin-panels' ); ?></option> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L909) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L908) |  |
  | 909 | 908 |  |
  | 910 | 909 | if ( ! empty( $instance['href'] ) ) { |
  | 911 |  | echo '<a href="' . ~~$instance['href']~~ . '">'; |
  |  | 910 | echo '<a href="' . esc\_url( $instance['href'] ) . '">'; |
  | 912 | 911 | } |
  | 913 | 912 | echo '<img src="' . esc\_url( $instance['src'] ) . '" />'; |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L936) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L935) |  |
  | 936 | 935 | ?> |
  | 937 | 936 | <p> |
  | 938 |  | <label for="<?php echo ~~$this->get\_field\_id( 'src' ); ?>"><?php~~ \_e( 'Image URL', 'siteorigin-panels' ); ?></label> |
  | 939 |  | <input type="text" class="widefat" id="<?php echo ~~$this->get\_field\_id( 'src' ); ?>" name="<?php echo $this->get\_field\_name( 'src'~~ ); ?>" value="<?php echo esc\_attr( $instance['src'] ); ?>" /> |
  |  | 937 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'src' ) ); ?>"><?php esc\_html\_e( 'Image URL', 'siteorigin-panels' ); ?></label> |
  |  | 938 | <input type="text" class="widefat" id="<?php echo esc\_attr( $this->get\_field\_id( 'src' ) ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'src' ) ); ?>" value="<?php echo esc\_attr( $instance['src'] ); ?>" /> |
  | 940 | 939 | </p> |
  | 941 | 940 | <p> |
  | 942 |  | <label for="<?php echo ~~$this->get\_field\_id( 'href' ); ?>"><?php~~ \_e( 'Destination URL', 'siteorigin-panels' ); ?></label> |
  | 943 |  | <input type="text" class="widefat" id="<?php echo ~~$this->get\_field\_id( 'href' ); ?>" name="<?php echo $this->get\_field\_name( 'href'~~ ); ?>" value="<?php echo esc\_attr( $instance['href'] ); ?>" /> |
  |  | 941 | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'href' ) ); ?>"><?php esc\_html\_e( 'Destination URL', 'siteorigin-panels' ); ?></label> |
  |  | 942 | <input type="text" class="widefat" id="<?php echo esc\_attr( $this->get\_field\_id( 'href' ) ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'href' ) ); ?>" value="<?php echo esc\_attr( $instance['href'] ); ?>" /> |
  | 944 | 943 | </p> |
  | 945 | 944 | <?php |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L993) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L992) |  |
  | 993 | 992 | ?> |
  | 994 | 993 | <p> |
  | 995 |  | <label for="<?php echo $this->get\_field\_id( 'video' ); ?>"><?php \_e( 'Video', 'siteorigin-panels' ); ?></label> |
  |  | 994 | <label for="<?php echo $this->get\_field\_id( 'video' ); ?>"><?php esc\_html\_e( 'Video', 'siteorigin-panels' ); ?></label> |
  | 996 | 995 | <input type="text" class="widefat" name="<?php echo $this->get\_field\_name( 'video' ); ?>" id="<?php echo $this->get\_field\_id( 'video' ); ?>" value="<?php echo esc\_attr( $instance['video'] ); ?>" /> |
  | 997 | 996 | </p> |
  | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=2967868#L1060) | […](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3053935#L1059) |  |
  | 1060 | 1059 | ?> |
  | 1061 | 1060 | <p> |
  | 1062 |  | <label for="<?php echo $this->get\_field\_id( 'url' ); ?>"><?php \_e( 'Video URL', 'siteorigin-panels' ); ?></label> |
  |  | 1061 | <label for="<?php echo $this->get\_field\_id( 'url' ); ?>"><?php esc\_html\_e( 'Video URL', 'siteorigin-panels' ); ?></label> |
  | 1063 | 1062 | <input id="<?php echo $this->get\_field\_id( 'url' ); ?>" name="<?php echo $this->get\_field\_name( 'url' ); ?>" type="text" class="widefat" value="<?php echo esc\_attr( $instance['url'] ); ?>" /> |
  | 1064 | 1063 | </p> |
  | 1065 | 1064 | <p> |
  | 1066 |  | <label for="<?php echo $this->get\_field\_id( 'poster' ); ?>"><?php \_e( 'Poster URL', 'siteorigin-panels' ); ?></label> |
  |  | 1065 | <label for="<?php echo $this->get\_field\_id( 'poster' ); ?>"><?php esc\_html\_e( 'Poster URL', 'siteorigin-panels' ); ?></label> |
  | 1067 | 1066 | <input id="<?php echo $this->get\_field\_id( 'poster' ); ?>" name="<?php echo $this->get\_field\_name( 'poster' ); ?>" type="text" class="widefat" value="<?php echo esc\_attr( $instance['poster'] ); ?>" /> |
  | 1068 |  | <small class="description"><?php \_e( 'An image that displays before the video starts playing.', 'siteorigin-panels' ); ?></small> |
  |  | 1067 | <small class="description"><?php esc\_html\_e( 'An image that displays before the video starts playing.', 'siteorigin-panels' ); ?></small> |
  | 1069 | 1068 | </p> |
  | 1070 | 1069 | <p> |
  | 1071 | 1070 | <label for="<?php echo $this->get\_field\_id( 'autoplay' ); ?>"> |
  | 1072 | 1071 | <input id="<?php echo $this->get\_field\_id( 'autoplay' ); ?>" name="<?php echo $this->get\_field\_name( 'autoplay' ); ?>" type="checkbox" value="1" <?php checked( $instance['autoplay'] ); ?> /> |
  | 1073 |  | <?php \_e( 'Auto Play Video', 'siteorigin-panels' ); ?> |
  |  | 1072 | <?php esc\_html\_e( 'Auto Play Video', 'siteorigin-panels' ); ?> |
  | 1074 | 1073 | </label> |
  | 1075 | 1074 | </p> |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3053935)
* [Zip Archive](?format=zip&new=3053935)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_08c671ce_20250111_011012.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fsiteorigin-panels%2Ftrunk%2Fwidgets%2Fwidgets.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/siteorigin-panels/trunk/widgets/widgets.php?rev=3061220 "Revision 3061220")
* Next Revision →
* [Blame](/browser/siteorigin-panels/trunk/widgets/widgets.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/siteorigin-panels/trunk/widgets/widgets.php)

---

# [source:](/browser?order=name "Go to repository root") [siteorigin-panels](/browser/siteorigin-panels?order=name "View siteorigin-panels")/[trunk](/browser/siteorigin-panels/trunk?order=name "View trunk")/[widgets](/browser/siteorigin-panels/trunk/widgets?order=name "View widgets")/[widgets.php](/browser/siteorigin-panels/trunk/widgets/widgets.php?order=name "View widgets.php")

View diff against:

View revision:

| [Last change](/changeset/3109850/siteorigin-panels/trunk/widgets/widgets.php "View differences") on this file was [3109850](/changeset/3109850/ "View changeset 3109850"), checked in by SiteOrigin, [6 months ago](/timeline?from=2024-06-30T05%3A03%3A33Z&precision=second "See timeline at 06/30/2024 05:03:33 AM") |
| --- |
| 2.29.18 release. |
| * Property **svn:executable** set to   *`*`* | |
| **File size:** 34.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | // Include all the basic widgets |
| [3](#L3) | include plugin\_dir\_path( \_\_FILE\_\_ ) . '/less/functions.php'; |
| [4](#L4) |  |
| [5](#L5) | /\*\* |
| [6](#L6) | \* Include all the widget files and register their widgets |
| [7](#L7) | \*/ |
| [8](#L8) | function origin\_widgets\_init() { |
| [9](#L9) | foreach ( glob( plugin\_dir\_path( \_\_FILE\_\_ ) . '/widgets/\*/\*.php' ) as $file ) { |
| [10](#L10) | include\_once $file; |
| [11](#L11) |  |
| [12](#L12) | $p = pathinfo( $file ); |
| [13](#L13) | $class = $p['filename']; |
| [14](#L14) | $class = str\_replace( '-', ' ', $class ); |
| [15](#L15) | $class = ucwords( $class ); |
| [16](#L16) | $class = str\_replace( ' ', '\_', $class ); |
| [17](#L17) |  |
| [18](#L18) | $class = 'SiteOrigin\_Panels\_Widget\_' . $class; |
| [19](#L19) |  |
| [20](#L20) | if ( class\_exists( $class ) ) { |
| [21](#L21) | register\_widget( $class ); |
| [22](#L22) | } |
| [23](#L23) | } |
| [24](#L24) | } |
| [25](#L25) | add\_action( 'widgets\_init', 'origin\_widgets\_init' ); |
| [26](#L26) |  |
| [27](#L27) | function origin\_widgets\_enqueue( $prefix ) { |
| [28](#L28) | if ( $prefix == 'widgets.php' ) { |
| [29](#L29) | wp\_enqueue\_script( 'origin-widgets-admin-script', plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/admin.js', array( 'jquery' ), SITEORIGIN\_PANELS\_VERSION ); |
| [30](#L30) | } |
| [31](#L31) | } |
| [32](#L32) | add\_action( 'admin\_enqueue\_scripts', 'origin\_widgets\_enqueue' ); |
| [33](#L33) |  |
| [34](#L34) | function origin\_widgets\_generate\_css( $class, $style, $preset, $version = null ) { |
| [35](#L35) | $widget = new $class(); |
| [36](#L36) |  |
| [37](#L37) | if ( ! is\_subclass\_of( $widget, 'SiteOrigin\_Panels\_Widget' ) ) { |
| [38](#L38) | return ''; |
| [39](#L39) | } |
| [40](#L40) |  |
| [41](#L41) | if ( empty( $version ) ) { |
| [42](#L42) | $version = SITEORIGIN\_PANELS\_VERSION; |
| [43](#L43) | } |
| [44](#L44) |  |
| [45](#L45) | $id = str\_replace( '\_', '', strtolower( str\_replace( 'SiteOrigin\_Panels\_Widget\_', '', $class ) ) ); |
| [46](#L46) | $key = strtolower( $id . '-' . $style . '-' . $preset . '-' . str\_replace( '.', '', $version ) ); |
| [47](#L47) |  |
| [48](#L48) | $css = get\_site\_transient( 'origin\_wcss:' . $key ); |
| [49](#L49) |  |
| [50](#L50) | if ( $css === false || ( defined( 'SITEORIGIN\_PANELS\_NOCACHE' ) && SITEORIGIN\_PANELS\_NOCACHE ) ) { |
| [51](#L51) | // Recreate the CSS |
| [52](#L52) | $css = "/\* Regenerate Cache \*/\n\n"; |
| [53](#L53) | $css .= $widget->create\_css( $style, $preset ); |
| [54](#L54) | $css = preg\_replace( '#/\\*.\*?\\*/#s', '', $css ); |
| [55](#L55) | $css = preg\_replace( '/\s\*([{}|:;,])\s+/', '$1', $css ); |
| [56](#L56) | $css = preg\_replace( '/\s\s+(.\*)/', '$1', $css ); |
| [57](#L57) | $css = str\_replace( ';}', '}', $css ); |
| [58](#L58) |  |
| [59](#L59) | set\_site\_transient( 'origin\_wcss:' . $key, $css, 86400 ); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | return $css; |
| [63](#L63) | } |
| [64](#L64) |  |
| [65](#L65) | function origin\_widgets\_footer\_css() { |
| [66](#L66) | global $origin\_widgets\_generated\_css; |
| [67](#L67) |  |
| [68](#L68) | if ( ! empty( $origin\_widgets\_generated\_css ) ) { |
| [69](#L69) | echo "<style>"; |
| [70](#L70) |  |
| [71](#L71) | foreach ( $origin\_widgets\_generated\_css as $id => $css ) { |
| [72](#L72) | if ( empty( $css ) ) { |
| [73](#L73) | continue; |
| [74](#L74) | } |
| [75](#L75) | echo $css; |
| [76](#L76) | $origin\_widgets\_generated\_css[$id] = ''; |
| [77](#L77) | } |
| [78](#L78) | echo '</style>'; |
| [79](#L79) | } |
| [80](#L80) | } |
| [81](#L81) | add\_action( 'wp\_head', 'origin\_widgets\_footer\_css' ); |
| [82](#L82) | add\_action( 'wp\_footer', 'origin\_widgets\_footer\_css' ); |
| [83](#L83) |  |
| [84](#L84) | /\*\* |
| [85](#L85) | \* Class SiteOrigin\_Panels\_Widget |
| [86](#L86) | \*/ |
| [87](#L87) | abstract class SiteOrigin\_Panels\_Widget extends WP\_Widget { |
| [88](#L88) | public $form\_args; |
| [89](#L89) | protected $demo; |
| [90](#L90) | protected $origin\_id; |
| [91](#L91) | public $sub\_widgets; |
| [92](#L92) |  |
| [93](#L93) | private $styles; |
| [94](#L94) |  |
| [95](#L95) | /\*\* |
| [96](#L96) | \* Create the widget |
| [97](#L97) | \* |
| [98](#L98) | \* @param string $name            Name for the widget displayed on the configuration page. |
| [99](#L99) | \* @param array  $widget\_options  Optional Passed to wp\_register\_sidebar\_widget() |
| [100](#L100) | \*                                - description: shown on the configuration page |
| [101](#L101) | \*                                - classname |
| [102](#L102) | \* @param array  $control\_options Optional Passed to wp\_register\_widget\_control() |
| [103](#L103) | \*                                - width: required if more than 250px |
| [104](#L104) | \*                                - height: currently not used but may be needed in the future |
| [105](#L105) | \* @param array  $form            Form arguments. |
| [106](#L106) | \* @param array  $demo            Values for the demo of the page builder widget. |
| [107](#L107) | \* |
| [108](#L108) | \* @internal param string $id\_base |
| [109](#L109) | \*/ |
| [110](#L110) | public function \_\_construct( $name, $widget\_options = array(), $control\_options = array(), $form = array(), $demo = array() ) { |
| [111](#L111) | $id\_base = str\_replace( 'SiteOrigin\_Panels\_Widget\_', '', get\_class( $this ) ); |
| [112](#L112) | $id\_base = strtolower( str\_replace( '\_', '-', $id\_base ) ); |
| [113](#L113) |  |
| [114](#L114) | parent::\_\_construct( 'origin\_' . $id\_base, $name, $widget\_options, $control\_options ); |
| [115](#L115) | $this->origin\_id = $id\_base; |
| [116](#L116) |  |
| [117](#L117) | $this->form\_args = $form; |
| [118](#L118) | $this->demo = $demo; |
| [119](#L119) | $this->styles = array(); |
| [120](#L120) | $this->sub\_widgets = array(); |
| [121](#L121) | } |
| [122](#L122) |  |
| [123](#L123) | /\*\* |
| [124](#L124) | \* Update the widget and save the new CSS. |
| [125](#L125) | \* |
| [126](#L126) | \* @param array $old |
| [127](#L127) | \* @param array $new |
| [128](#L128) | \* |
| [129](#L129) | \* @return array |
| [130](#L130) | \*/ |
| [131](#L131) | public function update( $new, $old ) { |
| [132](#L132) | // We wont clear cache if this is a preview |
| [133](#L133) | if ( ! is\_preview() ) { |
| [134](#L134) | // Remove the old CSS file |
| [135](#L135) | if ( ! empty( $old['origin\_style'] ) ) { |
| [136](#L136) | list( $style, $preset ) = explode( ':', $old['origin\_style'] ); |
| [137](#L137) | $this->clear\_css\_cache( $style, $preset ); |
| [138](#L138) | } |
| [139](#L139) |  |
| [140](#L140) | // Clear the cache for all sub widgets |
| [141](#L141) | if ( ! empty( $this->sub\_widgets ) ) { |
| [142](#L142) | global $wp\_widget\_factory; |
| [143](#L143) |  |
| [144](#L144) | foreach ( $this->sub\_widgets as $id => $sub ) { |
| [145](#L145) | if ( empty( $old['origin\_style\_' . $id] ) ) { |
| [146](#L146) | continue; |
| [147](#L147) | } |
| [148](#L148) | $the\_widget = $wp\_widget\_factory->widgets[$sub[1]]; |
| [149](#L149) | list( $style, $preset ) = explode( ':', $old['origin\_style\_' . $id] ); |
| [150](#L150) |  |
| [151](#L151) | $the\_widget->clear\_css\_cache( $style, $preset ); |
| [152](#L152) | } |
| [153](#L153) | } |
| [154](#L154) | } |
| [155](#L155) |  |
| [156](#L156) | foreach ( $this->form\_args as $field\_id => $field\_args ) { |
| [157](#L157) | if ( $field\_args['type'] == 'checkbox' ) { |
| [158](#L158) | $new[$field\_id] = ! empty( $new[$field\_id] ); |
| [159](#L159) | } |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | return $new; |
| [163](#L163) | } |
| [164](#L164) |  |
| [165](#L165) | /\*\* |
| [166](#L166) | \* Display the form for the widget. Auto generated from form array. |
| [167](#L167) | \* |
| [168](#L168) | \* @param array $instance |
| [169](#L169) | \* |
| [170](#L170) | \* @return string|void |
| [171](#L171) | \*/ |
| [172](#L172) | public function form( $instance ) { |
| [173](#L173) | ?> |
| [174](#L174) | <div style="margin-bottom: 20px;"> |
| [175](#L175) | <strong> |
| [176](#L176) | <?php |
| [177](#L177) | printf( |
| [178](#L178) | \_\_( 'This is a legacy Page Builder widget. Please move to use widgets from the %sSiteOrigin Widgets Bundle%s plugin when able.', 'siteorigin-panels' ), |
| [179](#L179) | '<a href="https://wordpress.org/plugins/so-widgets-bundle" target="\_blank" rel="noopener noreferrer">', |
| [180](#L180) | '</a>' |
| [181](#L181) | ); |
| [182](#L182) | ?> |
| [183](#L183) | </strong> |
| [184](#L184) | </div> |
| [185](#L185) | <?php |
| [186](#L186) |  |
| [187](#L187) | foreach ( $this->form\_args as $field\_id => $field\_args ) { |
| [188](#L188) | if ( isset( $field\_args['default'] ) && ! isset( $instance[ $field\_id ] ) ) { |
| [189](#L189) | $instance[ $field\_id ] = $field\_args['default']; |
| [190](#L190) | } |
| [191](#L191) |  |
| [192](#L192) | if ( ! isset( $instance[$field\_id] ) ) { |
| [193](#L193) | $instance[ $field\_id ] = false; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | ?><p><label for="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>"><?php echo esc\_html( $field\_args['label'] ); ?></label><?php |
| [197](#L197) |  |
| [198](#L198) | if ( $field\_args['type'] != 'checkbox' ) { |
| [199](#L199) | echo '<br />'; |
| [200](#L200) | } |
| [201](#L201) |  |
| [202](#L202) | switch( $field\_args['type'] ) { |
| [203](#L203) | case 'text': |
| [204](#L204) | ?> |
| [205](#L205) | <input |
| [206](#L206) | type="text" |
| [207](#L207) | class="widefat" |
| [208](#L208) | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
| [209](#L209) | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
| [210](#L210) | value="<?php echo esc\_attr( $instance[ $field\_id ] ); ?>" |
| [211](#L211) | /> |
| [212](#L212) | <?php |
| [213](#L213) | break; |
| [214](#L214) |  |
| [215](#L215) | case 'textarea': |
| [216](#L216) | if ( empty( $field\_args['height'] ) ) { |
| [217](#L217) | $field\_args['height'] = 6; |
| [218](#L218) | } |
| [219](#L219) | ?> |
| [220](#L220) | <textarea |
| [221](#L221) | class="widefat" |
| [222](#L222) | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
| [223](#L223) | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
| [224](#L224) | rows="<?php echo (int) $field\_args['height']; ?>" |
| [225](#L225) | ><?php echo esc\_textarea( $instance[ $field\_id ] ); ?></textarea> |
| [226](#L226) | <?php |
| [227](#L227) | break; |
| [228](#L228) |  |
| [229](#L229) | case 'number': |
| [230](#L230) | ?> |
| [231](#L231) | <input |
| [232](#L232) | type="number" |
| [233](#L233) | class="small-text" |
| [234](#L234) | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
| [235](#L235) | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
| [236](#L236) | value="<?php echo (float) $instance[ $field\_id ]; ?>" |
| [237](#L237) | /> |
| [238](#L238) | <?php |
| [239](#L239) | break; |
| [240](#L240) |  |
| [241](#L241) | case 'checkbox': |
| [242](#L242) | ?> |
| [243](#L243) | <input |
| [244](#L244) | type="checkbox" |
| [245](#L245) | class="small-text" |
| [246](#L246) | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
| [247](#L247) | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>" |
| [248](#L248) | <?php checked( ! empty( $instance[ $field\_id ] ) ); ?> |
| [249](#L249) | /> |
| [250](#L250) | <?php |
| [251](#L251) | break; |
| [252](#L252) |  |
| [253](#L253) | case 'select': |
| [254](#L254) | ?> |
| [255](#L255) | <select |
| [256](#L256) | id="<?php echo esc\_attr( $this->get\_field\_id( $field\_id ) ); ?>" |
| [257](#L257) | name="<?php echo esc\_attr( $this->get\_field\_name( $field\_id ) ); ?>"> |
| [258](#L258) | <?php foreach ( $field\_args['options'] as $k => $v ) { ?> |
| [259](#L259) | <option |
| [260](#L260) | value="<?php echo esc\_attr( $k ); ?>" |
| [261](#L261) | <?php selected( $instance[ $field\_id ], $k ); ?> |
| [262](#L262) | > |
| [263](#L263) | <?php echo esc\_html( $v ); ?> |
| [264](#L264) | </option> |
| [265](#L265) | <?php } ?> |
| [266](#L266) | </select> |
| [267](#L267) | <?php |
| [268](#L268) | break; |
| [269](#L269) | } |
| [270](#L270) |  |
| [271](#L271) | if ( ! empty( $field\_args['description'] ) ) { |
| [272](#L272) | echo '<small class="description">' . esc\_html( $field\_args['description'] ) . '</small>'; |
| [273](#L273) | } |
| [274](#L274) |  |
| [275](#L275) | ?> |
| [276](#L276) | </p> |
| [277](#L277) | <?php |
| [278](#L278) | } |
| [279](#L279) |  |
| [280](#L280) | if ( ! isset( $instance['origin\_style'] ) ) { |
| [281](#L281) | $instance['origin\_style'] = ! empty( $this->widget\_options['default\_style'] ) ? $this->widget\_options['default\_style'] : false; |
| [282](#L282) | } |
| [283](#L283) |  |
| [284](#L284) | do\_action( 'siteorigin\_panels\_widget\_before\_styles', $this, $instance ); |
| [285](#L285) |  |
| [286](#L286) | // Now, lets add the style options. |
| [287](#L287) | $styles = $this->get\_styles(); |
| [288](#L288) |  |
| [289](#L289) | if ( ! empty( $styles ) ) { |
| [290](#L290) | ?> |
| [291](#L291) | <p> |
| [292](#L292) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style' ) ); ?>"><?php esc\_html\_e( 'Style', 'siteorigin-panels' ); ?></label> |
| [293](#L293) | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'origin\_style' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style' ) ); ?>"> |
| [294](#L294) | <?php |
| [295](#L295) | foreach ( $this->get\_styles() as $style\_id => $style\_info ) { |
| [296](#L296) | $presets = $this->get\_style\_presets( $style\_id ); ?> |
| [297](#L297) | <?php if ( ! empty( $presets ) ) { ?> |
| [298](#L298) | <?php foreach ( $presets as $preset\_id => $preset ) { ?> |
| [299](#L299) | <option value="<?php echo esc\_attr( $style\_id . ':' . $preset\_id ); ?>" <?php selected( $style\_id . ':' . $preset\_id, $instance['origin\_style'] ); ?>> |
| [300](#L300) | <?php echo esc\_html( $style\_info['Name'] . ' - ' . ucwords( str\_replace( '\_', ' ', $preset\_id ) ) ); ?> |
| [301](#L301) | </option> |
| [302](#L302) | <?php } ?> |
| [303](#L303) | <?php } ?> |
| [304](#L304) | <?php } ?> |
| [305](#L305) | </select> |
| [306](#L306) | </p> |
| [307](#L307) | <?php |
| [308](#L308) | } |
| [309](#L309) |  |
| [310](#L310) | do\_action( 'siteorigin\_panels\_widget\_before\_substyles', $this, $instance ); |
| [311](#L311) |  |
| [312](#L312) | foreach ( $this->sub\_widgets as $id => $sub ) { |
| [313](#L313) | global $wp\_widget\_factory; |
| [314](#L314) | $the\_widget = $wp\_widget\_factory->widgets[$sub[1]]; |
| [315](#L315) |  |
| [316](#L316) | if ( ! isset( $instance['origin\_style\_' . $id] ) ) { |
| [317](#L317) | $instance['origin\_style\_' . $id] = ! empty( $this->widget\_options['default\_style\_' . $id] ) ? $this->widget\_options['default\_style\_' . $id] : false; |
| [318](#L318) | } |
| [319](#L319) |  |
| [320](#L320) | ?> |
| [321](#L321) | <p> |
| [322](#L322) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style\_' . $id ) ); ?>"><?php printf( \_\_( '%s Style', 'siteorigin-panels' ), $sub[0] ); ?></label> |
| [323](#L323) | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'origin\_style\_' . $id ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'origin\_style\_' . $id ) ); ?>"> |
| [324](#L324) | <?php foreach ( $the\_widget->get\_styles() as $style\_id => $style\_info ) { |
| [325](#L325) | $presets = $the\_widget->get\_style\_presets( $style\_id ); ?> |
| [326](#L326) | <?php if ( ! empty( $presets ) ) { |
| [327](#L327) | foreach ( $presets as $preset\_id => $preset ) { ?> |
| [328](#L328) | <option value="<?php echo esc\_attr( $style\_id . ':' . $preset\_id ); ?>" <?php selected( $style\_id . ':' . $preset\_id, $instance['origin\_style\_' . $id] ); ?>> |
| [329](#L329) | <?php echo esc\_html( $style\_info['Name'] . ' - ' . ucwords( str\_replace( '\_', ' ', $preset\_id ) ) ); ?> |
| [330](#L330) | </option> |
| [331](#L331) | <?php } ?> |
| [332](#L332) | <?php } ?> |
| [333](#L333) | <?php } ?> |
| [334](#L334) | </select> |
| [335](#L335) | </p> |
| [336](#L336) | <?php |
| [337](#L337) | } |
| [338](#L338) |  |
| [339](#L339) | do\_action( 'siteorigin\_panels\_widget\_after\_styles', $this, $instance ); |
| [340](#L340) | } |
| [341](#L341) |  |
| [342](#L342) | /\*\* |
| [343](#L343) | \* Render the widget. |
| [344](#L344) | \* |
| [345](#L345) | \* @param array $args |
| [346](#L346) | \* @param array $instance |
| [347](#L347) | \* |
| [348](#L348) | \* @return bool|void |
| [349](#L349) | \*/ |
| [350](#L350) | public function widget( $args, $instance ) { |
| [351](#L351) | // Set up defaults for all the widget args |
| [352](#L352) | foreach ( $this->form\_args as $field\_id => $field\_args ) { |
| [353](#L353) | if ( isset( $field\_args['default'] ) && ! isset( $instance[$field\_id] ) ) { |
| [354](#L354) | $instance[$field\_id] = $field\_args['default']; |
| [355](#L355) | } |
| [356](#L356) |  |
| [357](#L357) | if ( ! isset( $instance[ $field\_id ] ) ) { |
| [358](#L358) | $instance[ $field\_id ] = false; |
| [359](#L359) | } |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | // Filter the title |
| [363](#L363) | if ( ! empty( $instance['title'] ) ) { |
| [364](#L364) | $instance['title'] = apply\_filters( 'widget\_title', $instance['title'], $instance, $this->id\_base ); |
| [365](#L365) | } |
| [366](#L366) |  |
| [367](#L367) | if ( ! empty( $instance['origin\_style'] ) ) { |
| [368](#L368) | list( $style, $preset ) = explode( ':', $instance['origin\_style'] ); |
| [369](#L369) | $style = sanitize\_file\_name( $style ); |
| [370](#L370) | $preset = sanitize\_file\_name( $preset ); |
| [371](#L371) |  |
| [372](#L372) | $data = $this->get\_style\_data( $style ); |
| [373](#L373) | $template = $data['Template']; |
| [374](#L374) | } else { |
| [375](#L375) | $style = 'default'; |
| [376](#L376) | $preset = 'default'; |
| [377](#L377) | } |
| [378](#L378) |  |
| [379](#L379) | if ( empty( $template ) ) { |
| [380](#L380) | $template = 'default'; |
| [381](#L381) | } |
| [382](#L382) |  |
| [383](#L383) | $template\_file = false; |
| [384](#L384) | $paths = $this->get\_widget\_paths(); |
| [385](#L385) |  |
| [386](#L386) | foreach ( $paths as $path ) { |
| [387](#L387) | if ( file\_exists( $path . '/' . $this->origin\_id . '/tpl/' . $template . '.php' ) ) { |
| [388](#L388) | $template\_file = $path . '/' . $this->origin\_id . '/tpl/' . $template . '.php'; |
| [389](#L389) | break; |
| [390](#L390) | } |
| [391](#L391) | } |
| [392](#L392) |  |
| [393](#L393) | if ( empty( $template\_file ) ) { |
| [394](#L394) | echo $args['before\_widget']; |
| [395](#L395) | esc\_html\_e( 'Template not found', 'siteorigin-panels' ); |
| [396](#L396) | echo $args['after\_widget']; |
| [397](#L397) |  |
| [398](#L398) | return false; |
| [399](#L399) | } |
| [400](#L400) |  |
| [401](#L401) | // Dynamically generate the CSS |
| [402](#L402) | global $origin\_widgets\_generated\_css; |
| [403](#L403) |  |
| [404](#L404) | if ( empty( $origin\_widgets\_generated\_css ) ) { |
| [405](#L405) | $origin\_widgets\_generated\_css = array(); |
| [406](#L406) | } |
| [407](#L407) |  |
| [408](#L408) | if ( ! empty( $instance['origin\_style'] ) ) { |
| [409](#L409) | $filename = $this->origin\_id . '-' . $style . '-' . $preset; |
| [410](#L410) |  |
| [411](#L411) | if ( ! isset( $origin\_widgets\_generated\_css[$filename] ) ) { |
| [412](#L412) | $origin\_widgets\_generated\_css[$filename] = origin\_widgets\_generate\_css( get\_class( $this ), $style, $preset ); |
| [413](#L413) | } |
| [414](#L414) | } |
| [415](#L415) |  |
| [416](#L416) | if ( method\_exists( $this, 'enqueue\_scripts' ) ) { |
| [417](#L417) | $this->enqueue\_scripts(); |
| [418](#L418) | } |
| [419](#L419) |  |
| [420](#L420) | $widget\_classes = apply\_filters( 'siteorigin\_widgets\_classes', array( |
| [421](#L421) | 'origin-widget', |
| [422](#L422) | 'origin-widget-' . $this->origin\_id, |
| [423](#L423) | 'origin-widget-' . $this->origin\_id . '-' . $style . '-' . $preset, |
| [424](#L424) | ), $instance ); |
| [425](#L425) |  |
| [426](#L426) | if ( method\_exists( $this, 'widget\_classes' ) ) { |
| [427](#L427) | $widget\_classes = $this->widget\_classes( array( |
| [428](#L428) | 'origin-widget', |
| [429](#L429) | 'origin-widget-' . $this->origin\_id, |
| [430](#L430) | 'origin-widget-' . $this->origin\_id . '-' . $style . '-' . $preset, |
| [431](#L431) | ), $instance ); |
| [432](#L432) | } |
| [433](#L433) |  |
| [434](#L434) | echo $args['before\_widget']; |
| [435](#L435) | echo '<div class="' . esc\_attr( implode( ' ', $widget\_classes ) ) . '">'; |
| [436](#L436) | include $template\_file; |
| [437](#L437) | echo '</div>'; |
| [438](#L438) | echo $args['after\_widget']; |
| [439](#L439) | } |
| [440](#L440) |  |
| [441](#L441) | //////////////////////////////////////////////////////////////////////////////////////////////////////////////////// |
| [442](#L442) | // Extra functions specific to a SiteOrigin widget. |
| [443](#L443) | //////////////////////////////////////////////////////////////////////////////////////////////////////////////////// |
| [444](#L444) |  |
| [445](#L445) | /\*\* |
| [446](#L446) | \* A sub widget is a widget that's style is required by this widget |
| [447](#L447) | \*/ |
| [448](#L448) | public function sub\_widget( $id, $instance ) { |
| [449](#L449) | $sub = $this->sub\_widgets[$id]; |
| [450](#L450) | global $wp\_widget\_factory; |
| [451](#L451) | $the\_widget = $wp\_widget\_factory->widgets[$sub[1]]; |
| [452](#L452) | $the\_widget->widget( array( 'before\_widget' => '', 'after\_widget' => '' ), $instance ); |
| [453](#L453) | } |
| [454](#L454) |  |
| [455](#L455) | /\*\* |
| [456](#L456) | \* Get the CSS for the given style and preset |
| [457](#L457) | \* |
| [458](#L458) | \* @return string |
| [459](#L459) | \*/ |
| [460](#L460) | public function create\_css( $style, $preset ) { |
| [461](#L461) | $paths = $this->get\_widget\_paths(); |
| [462](#L462) | $style\_file = false; |
| [463](#L463) |  |
| [464](#L464) | // Find the file - exit if it can't be found. |
| [465](#L465) | foreach ( $paths as $path ) { |
| [466](#L466) | if ( file\_exists( $path . '/' . $this->origin\_id . '/styles/' . $style . '.less' ) ) { |
| [467](#L467) | $style\_file = $path . '/' . $this->origin\_id . '/styles/' . $style . '.less'; |
| [468](#L468) | break; |
| [469](#L469) | } |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | if ( empty( $style\_file ) ) { |
| [473](#L473) | return ''; |
| [474](#L474) | } |
| [475](#L475) |  |
| [476](#L476) | if ( ! class\_exists( 'lessc' ) ) { |
| [477](#L477) | include plugin\_dir\_path( \_\_FILE\_\_ ) . 'lib/lessc.inc.php'; |
| [478](#L478) | } |
| [479](#L479) |  |
| [480](#L480) | foreach ( $this->get\_widget\_folders() as $folder => $folder\_url ) { |
| [481](#L481) | $filename = rtrim( $folder, '/' ) . '/' . $this->origin\_id . '/styles/' . $style . '.less'; |
| [482](#L482) |  |
| [483](#L483) | if ( file\_exists( $filename ) ) { |
| [484](#L484) | $less = file\_get\_contents( $filename ); |
| [485](#L485) | break; |
| [486](#L486) | } |
| [487](#L487) | } |
| [488](#L488) | // Add in the mixins |
| [489](#L489) | $less = str\_replace( |
| [490](#L490) | '@import "../../../less/mixins";', |
| [491](#L491) | "\n\n" . file\_get\_contents( plugin\_dir\_path( \_\_FILE\_\_ ) . 'less/mixins.less' ), |
| [492](#L492) | $less |
| [493](#L493) | ); |
| [494](#L494) |  |
| [495](#L495) | // Apply the preset variables to the LESS file |
| [496](#L496) | $presets = $this->get\_style\_presets( $style ); |
| [497](#L497) |  |
| [498](#L498) | if ( ! empty( $presets[$preset] ) && is\_array( $presets[$preset] ) ) { |
| [499](#L499) | foreach ( $presets[$preset] as $k => $v ) { |
| [500](#L500) | $less = preg\_replace( '/@' . preg\_quote( $k ) . ':(.\*);/', '@' . $k . ': ' . $v . ';', $less ); |
| [501](#L501) | } |
| [502](#L502) | } |
| [503](#L503) |  |
| [504](#L504) | // Scope the CSS with the wrapper we'll be adding |
| [505](#L505) | $less = '.origin-widget.origin-widget-' . $this->origin\_id . '-' . $style . '-' . $preset . ' {' . $less . '}'; |
| [506](#L506) | $lc = new lessc(); |
| [507](#L507) | $lc->setPreserveComments( false ); |
| [508](#L508) |  |
| [509](#L509) | $lc->registerFunction( 'lumlighten', 'origin\_widgets\_less\_lumlighten' ); |
| [510](#L510) | $lc->registerFunction( 'lumdarken', 'origin\_widgets\_less\_lumdarken' ); |
| [511](#L511) | $lc->registerFunction( 'texture', 'origin\_widgets\_less\_texture' ); |
| [512](#L512) | $lc->registerFunction( 'widgetimage', 'origin\_widgets\_less\_widgetimage' ); |
| [513](#L513) |  |
| [514](#L514) | // Create the CSS |
| [515](#L515) | return $lc->compile( $less ); |
| [516](#L516) | } |
| [517](#L517) |  |
| [518](#L518) | /\*\* |
| [519](#L519) | \* Removes a CSS file |
| [520](#L520) | \*/ |
| [521](#L521) | public function clear\_css\_cache( $style, $preset ) { |
| [522](#L522) | $filename = $this->origin\_id . '-' . $style . '-' . $preset; |
| [523](#L523) | delete\_site\_transient( 'origin\_widgets\_css\_cache:' . $filename ); |
| [524](#L524) | } |
| [525](#L525) |  |
| [526](#L526) | /\*\* |
| [527](#L527) | \* Get all the paths where we'll look for widgets. |
| [528](#L528) | \* |
| [529](#L529) | \* @return array |
| [530](#L530) | \*/ |
| [531](#L531) | public function get\_widget\_paths() { |
| [532](#L532) | static $paths = array(); |
| [533](#L533) |  |
| [534](#L534) | if ( empty( $paths ) ) { |
| [535](#L535) | $paths = array\_keys( $this->get\_widget\_folders() ); |
| [536](#L536) | } |
| [537](#L537) |  |
| [538](#L538) | return $paths; |
| [539](#L539) | } |
| [540](#L540) |  |
| [541](#L541) | /\*\* |
| [542](#L542) | \* Get all the folders where we'll look for widgets |
| [543](#L543) | \* |
| [544](#L544) | \* @return mixed|void |
| [545](#L545) | \*/ |
| [546](#L546) | public static function get\_widget\_folders() { |
| [547](#L547) | static $folders = array(); |
| [548](#L548) |  |
| [549](#L549) | if ( empty( $folders ) ) { |
| [550](#L550) | $folders = array( |
| [551](#L551) | get\_stylesheet\_directory() . '/widgets' => get\_stylesheet\_directory\_uri() . '/widgets/widgets', |
| [552](#L552) | get\_template\_directory() . '/widgets' => get\_template\_directory\_uri() . '/widgets', |
| [553](#L553) | plugin\_dir\_path( \_\_FILE\_\_ ) . 'widgets' => plugin\_dir\_url( \_\_FILE\_\_ ) . 'widgets', |
| [554](#L554) | ); |
| [555](#L555) | $folders = apply\_filters( 'siteorigin\_widget\_folders', $folders ); |
| [556](#L556) | } |
| [557](#L557) |  |
| [558](#L558) | return $folders; |
| [559](#L559) | } |
| [560](#L560) |  |
| [561](#L561) | /\*\* |
| [562](#L562) | \* Get all the folders where we'll look for widget images |
| [563](#L563) | \* |
| [564](#L564) | \* @return mixed|void |
| [565](#L565) | \*/ |
| [566](#L566) | public static function get\_image\_folders() { |
| [567](#L567) | static $folders = array(); |
| [568](#L568) |  |
| [569](#L569) | if ( empty( $folders ) ) { |
| [570](#L570) | $folders = array( |
| [571](#L571) | get\_stylesheet\_directory() . '/widgets/img' => get\_stylesheet\_directory\_uri() . '/widgets/img', |
| [572](#L572) | get\_template\_directory() . '/widgets/img' => get\_template\_directory\_uri() . '/widgets/img', |
| [573](#L573) | plugin\_dir\_path( \_\_FILE\_\_ ) . 'img' => plugin\_dir\_url( \_\_FILE\_\_ ) . 'img', |
| [574](#L574) | ); |
| [575](#L575) | $folders = apply\_filters( 'siteorigin\_widget\_image\_folders', $folders ); |
| [576](#L576) | } |
| [577](#L577) |  |
| [578](#L578) | return $folders; |
| [579](#L579) | } |
| [580](#L580) |  |
| [581](#L581) | /\*\* |
| [582](#L582) | \* Get all the styles for this widget. |
| [583](#L583) | \* |
| [584](#L584) | \* @return array |
| [585](#L585) | \*/ |
| [586](#L586) | public function get\_styles() { |
| [587](#L587) | if ( empty( $this->styles ) ) { |
| [588](#L588) | // We can add extra paths here |
| [589](#L589) | foreach ( $this->get\_widget\_paths() as $path ) { |
| [590](#L590) | if ( !is\_dir( $path ) ) { |
| [591](#L591) | continue; |
| [592](#L592) | } |
| [593](#L593) |  |
| [594](#L594) | $files = glob( $path . '/' . $this->origin\_id . '/styles/\*.less' ); |
| [595](#L595) |  |
| [596](#L596) | if ( ! empty( $files ) ) { |
| [597](#L597) | foreach ( glob( $path . '/' . $this->origin\_id . '/styles/\*.less' ) as $file ) { |
| [598](#L598) | $p = pathinfo( $file ); |
| [599](#L599) | $this->styles[$p['filename']] = $this->get\_style\_data( $p['filename'] ); |
| [600](#L600) | } |
| [601](#L601) | } |
| [602](#L602) | } |
| [603](#L603) | } |
| [604](#L604) |  |
| [605](#L605) | return $this->styles; |
| [606](#L606) | } |
| [607](#L607) |  |
| [608](#L608) | /\*\* |
| [609](#L609) | \* Get the presets for a given style |
| [610](#L610) | \* |
| [611](#L611) | \* @return mixed|void |
| [612](#L612) | \*/ |
| [613](#L613) | public function get\_style\_presets( $style\_id ) { |
| [614](#L614) | $presets = array(); |
| [615](#L615) |  |
| [616](#L616) | foreach ( $this->get\_widget\_folders() as $folder => $folder\_uri ) { |
| [617](#L617) | $filename = rtrim( $folder, '/' ) . '/' . $this->origin\_id . '/presets/' . sanitize\_file\_name( $style\_id ) . '.php'; |
| [618](#L618) |  |
| [619](#L619) | if ( file\_exists( $filename ) ) { |
| [620](#L620) | // This file should register a filter that adds the presets |
| [621](#L621) | $new\_presets = include $filename; |
| [622](#L622) | $presets = array\_merge( $presets, $new\_presets ); |
| [623](#L623) | } |
| [624](#L624) | } |
| [625](#L625) |  |
| [626](#L626) | return apply\_filters( 'origin\_widget\_presets\_' . $this->origin\_id . '\_' . $style\_id, $presets ); |
| [627](#L627) | } |
| [628](#L628) |  |
| [629](#L629) | /\*\* |
| [630](#L630) | \* Get data for the style. |
| [631](#L631) | \* |
| [632](#L632) | \* @return array |
| [633](#L633) | \*/ |
| [634](#L634) | public function get\_style\_data( $name ) { |
| [635](#L635) | $paths = $this->get\_widget\_paths(); |
| [636](#L636) |  |
| [637](#L637) | foreach ( $paths as $path ) { |
| [638](#L638) | $filename = $path . '/' . $this->origin\_id . '/styles/' . sanitize\_file\_name( $name ) . '.less'; |
| [639](#L639) |  |
| [640](#L640) | if ( !file\_exists( $filename ) ) { |
| [641](#L641) | continue; |
| [642](#L642) | } |
| [643](#L643) |  |
| [644](#L644) | $data = get\_file\_data( $filename, array( |
| [645](#L645) | 'Name' => 'Name', |
| [646](#L646) | 'Template' => 'Template', |
| [647](#L647) | 'Author' => 'Author', |
| [648](#L648) | 'Author URI' => 'Author URI', |
| [649](#L649) | ), 'origin\_widget' ); |
| [650](#L650) |  |
| [651](#L651) | return $data; |
| [652](#L652) | } |
| [653](#L653) |  |
| [654](#L654) | return false; |
| [655](#L655) | } |
| [656](#L656) |  |
| [657](#L657) | /\*\* |
| [658](#L658) | \* Render a demo of the widget. |
| [659](#L659) | \* |
| [660](#L660) | \* @param array $args |
| [661](#L661) | \*/ |
| [662](#L662) | public function render\_demo( $args = array() ) { |
| [663](#L663) | $this->widget( $args, $this->demo ); |
| [664](#L664) | } |
| [665](#L665) |  |
| [666](#L666) | /\*\* |
| [667](#L667) | \* Register a widget that we'll be using inside this widget. |
| [668](#L668) | \*/ |
| [669](#L669) | public function add\_sub\_widget( $id, $name, $class ) { |
| [670](#L670) | $this->sub\_widgets[$id] = array( $name, $class ); |
| [671](#L671) | } |
| [672](#L672) |  |
| [673](#L673) | /\*\* |
| [674](#L674) | \* Add the fields required to query the posts. |
| [675](#L675) | \*/ |
| [676](#L676) | public function add\_post\_query\_fields() { |
| [677](#L677) | // Add the posts type field |
| [678](#L678) | $post\_types = get\_post\_types( array( 'public' => true ) ); |
| [679](#L679) | $post\_types = array\_values( $post\_types ); |
| [680](#L680) | $this->form\_args['query\_post\_type'] = array( |
| [681](#L681) | 'type' => 'select', |
| [682](#L682) | 'options' => $post\_types, |
| [683](#L683) | 'label' => \_\_( 'Post Type', 'siteorigin-panels' ), |
| [684](#L684) | ); |
| [685](#L685) |  |
| [686](#L686) | // Add the posts per page field |
| [687](#L687) | $this->form\_args['query\_posts\_per\_page'] = array( |
| [688](#L688) | 'type' => 'number', |
| [689](#L689) | 'default' => 10, |
| [690](#L690) | 'label' => \_\_( 'Posts Per Page', 'siteorigin-panels' ), |
| [691](#L691) | ); |
| [692](#L692) |  |
| [693](#L693) | $this->form\_args['query\_orderby'] = array( |
| [694](#L694) | 'type' => 'select', |
| [695](#L695) | 'label' => \_\_( 'Order By', 'siteorigin-panels' ), |
| [696](#L696) | 'options' => array( |
| [697](#L697) | 'none'  => \_\_( 'None', 'siteorigin-panels' ), |
| [698](#L698) | 'ID'  => \_\_( 'Post ID', 'siteorigin-panels' ), |
| [699](#L699) | 'author'  => \_\_( 'Author', 'siteorigin-panels' ), |
| [700](#L700) | 'name'  => \_\_( 'Name', 'siteorigin-panels' ), |
| [701](#L701) | 'name'  => \_\_( 'Name', 'siteorigin-panels' ), |
| [702](#L702) | 'date'  => \_\_( 'Date', 'siteorigin-panels' ), |
| [703](#L703) | 'modified'  => \_\_( 'Modified', 'siteorigin-panels' ), |
| [704](#L704) | 'parent'  => \_\_( 'Parent', 'siteorigin-panels' ), |
| [705](#L705) | 'rand'  => \_\_( 'Random', 'siteorigin-panels' ), |
| [706](#L706) | 'comment\_count'  => \_\_( 'Comment Count', 'siteorigin-panels' ), |
| [707](#L707) | 'menu\_order'  => \_\_( 'Menu Order', 'siteorigin-panels' ), |
| [708](#L708) | ), |
| [709](#L709) | ); |
| [710](#L710) |  |
| [711](#L711) | $this->form\_args['query\_order'] = array( |
| [712](#L712) | 'type' => 'select', |
| [713](#L713) | 'label' => \_\_( 'Order', 'siteorigin-panels' ), |
| [714](#L714) | 'options' => array( |
| [715](#L715) | 'ASC'  => \_\_( 'Ascending', 'siteorigin-panels' ), |
| [716](#L716) | 'DESC'  => \_\_( 'Descending', 'siteorigin-panels' ), |
| [717](#L717) | ), |
| [718](#L718) | ); |
| [719](#L719) |  |
| [720](#L720) | $this->form\_args['query\_sticky'] = array( |
| [721](#L721) | 'type' => 'select', |
| [722](#L722) | 'label' => \_\_( 'Sticky Posts', 'siteorigin-panels' ), |
| [723](#L723) | 'options' => array( |
| [724](#L724) | ''  => \_\_( 'Default', 'siteorigin-panels' ), |
| [725](#L725) | 'ignore'  => \_\_( 'Ignore Sticky', 'siteorigin-panels' ), |
| [726](#L726) | 'exclude'  => \_\_( 'Exclude Sticky', 'siteorigin-panels' ), |
| [727](#L727) | 'only'  => \_\_( 'Only Sticky', 'siteorigin-panels' ), |
| [728](#L728) | ), |
| [729](#L729) | ); |
| [730](#L730) |  |
| [731](#L731) | $this->form\_args['query\_additional'] = array( |
| [732](#L732) | 'type' => 'text', |
| [733](#L733) | 'label' => \_\_( 'Additional Arguments', 'siteorigin-panels' ), |
| [734](#L734) | 'description' => preg\_replace( |
| [735](#L735) | '/1\{ \*(.\*?) \*\}/', |
| [736](#L736) | '<a href="http://codex.wordpress.org/Function\_Reference/query\_posts">$1</a>', |
| [737](#L737) | \_\_( 'Additional query arguments. See 1{query\_posts}.', 'siteorigin-panels' ) |
| [738](#L738) | ), |
| [739](#L739) | ); |
| [740](#L740) | } |
| [741](#L741) |  |
| [742](#L742) | /\*\* |
| [743](#L743) | \* Get all the posts for the current query |
| [744](#L744) | \* |
| [745](#L745) | \* @return WP\_Query |
| [746](#L746) | \*/ |
| [747](#L747) | public static function get\_query\_posts( $instance ) { |
| [748](#L748) | $query\_args = array(); |
| [749](#L749) |  |
| [750](#L750) | foreach ( $instance as $k => $v ) { |
| [751](#L751) | if ( strpos( $k, 'query\_' ) === 0 ) { |
| [752](#L752) | $query\_args[preg\_replace( '/query\_/', '', $k, 1 )] = $v; |
| [753](#L753) | } |
| [754](#L754) | } |
| [755](#L755) | $query = $query\_args; |
| [756](#L756) | unset( $query['additional'] ); |
| [757](#L757) | unset( $query['sticky'] ); |
| [758](#L758) |  |
| [759](#L759) | // Add the additional arguments |
| [760](#L760) | $query = wp\_parse\_args( $query\_args['additional'], $query ); |
| [761](#L761) |  |
| [762](#L762) | // Add the sticky posts if required |
| [763](#L763) | switch( $query\_args['sticky'] ) { |
| [764](#L764) | case 'ignore': |
| [765](#L765) | $query['ignore\_sticky\_posts'] = 1; |
| [766](#L766) | break; |
| [767](#L767) |  |
| [768](#L768) | case 'only': |
| [769](#L769) | $query['post\_\_in'] = get\_option( 'sticky\_posts' ); |
| [770](#L770) | break; |
| [771](#L771) |  |
| [772](#L772) | case 'exclude': |
| [773](#L773) | $query['post\_\_not\_in'] = get\_option( 'sticky\_posts' ); |
| [774](#L774) | break; |
| [775](#L775) | } |
| [776](#L776) |  |
| [777](#L777) | // Add the current page |
| [778](#L778) | global $wp\_query; |
| [779](#L779) | $query['paged'] = $wp\_query->get( 'paged' ); |
| [780](#L780) |  |
| [781](#L781) | return new WP\_Query( $query ); |
| [782](#L782) | } |
| [783](#L783) | } |
| [784](#L784) |  |
| [785](#L785) | // All the standard bundled widgets |
| [786](#L786) |  |
| [787](#L787) | /\*\* |
| [788](#L788) | \* A gallery widget |
| [789](#L789) | \* |
| [790](#L790) | \* Class SiteOrigin\_Panels\_Widgets\_Gallery |
| [791](#L791) | \*/ |
| [792](#L792) | class SiteOrigin\_Panels\_Widgets\_Gallery extends WP\_Widget { |
| [793](#L793) | public function \_\_construct() { |
| [794](#L794) | parent::\_\_construct( |
| [795](#L795) | 'siteorigin-panels-gallery', |
| [796](#L796) | \_\_( 'Gallery (PB)', 'siteorigin-panels' ), |
| [797](#L797) | array( |
| [798](#L798) | 'description' => \_\_( 'Displays a gallery.', 'siteorigin-panels' ), |
| [799](#L799) | ) |
| [800](#L800) | ); |
| [801](#L801) | } |
| [802](#L802) |  |
| [803](#L803) | public function widget( $args, $instance ) { |
| [804](#L804) | echo $args['before\_widget']; |
| [805](#L805) |  |
| [806](#L806) | $shortcode\_attr = array(); |
| [807](#L807) |  |
| [808](#L808) | foreach ( $instance as $k => $v ) { |
| [809](#L809) | if ( empty( $v ) ) { |
| [810](#L810) | continue; |
| [811](#L811) | } |
| [812](#L812) | $shortcode\_attr[] = sanitize\_key( $k ) . '="' . esc\_attr( $v ) . '"'; |
| [813](#L813) | } |
| [814](#L814) |  |
| [815](#L815) | echo do\_shortcode( '[gallery ' . implode( ' ', $shortcode\_attr ) . ']' ); |
| [816](#L816) |  |
| [817](#L817) | echo $args['after\_widget']; |
| [818](#L818) | } |
| [819](#L819) |  |
| [820](#L820) | public function update( $new, $old ) { |
| [821](#L821) | return $new; |
| [822](#L822) | } |
| [823](#L823) |  |
| [824](#L824) | public function form( $instance ) { |
| [825](#L825) | global $\_wp\_additional\_image\_sizes; |
| [826](#L826) |  |
| [827](#L827) | $types = apply\_filters( 'siteorigin\_panels\_gallery\_types', array() ); |
| [828](#L828) |  |
| [829](#L829) | $instance = wp\_parse\_args( $instance, array( |
| [830](#L830) | 'ids' => '', |
| [831](#L831) | 'size' => apply\_filters( 'siteorigin\_panels\_gallery\_default\_size', '' ), |
| [832](#L832) | 'type' => apply\_filters( 'siteorigin\_panels\_gallery\_default\_type', '' ), |
| [833](#L833) | 'columns' => 3, |
| [834](#L834) | 'link' => '', |
| [835](#L835) | ) ); |
| [836](#L836) |  |
| [837](#L837) | ?> |
| [838](#L838) | <p> |
| [839](#L839) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'ids' ) ); ?>"><?php esc\_html\_e( 'Gallery Images', 'siteorigin-panels' ); ?></label> |
| [840](#L840) | <a href="#" onclick="return false;" class="so-gallery-widget-select-attachments hidden"><?php esc\_html\_e( 'edit gallery', 'siteorigin-panels' ); ?></a> |
| [841](#L841) | <input type="text" class="widefat" value="<?php echo esc\_attr( $instance['ids'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'ids' ) ); ?>" /> |
| [842](#L842) | </p> |
| [843](#L843) | <p class="description"> |
| [844](#L844) | <?php \_e( "Comma separated attachment IDs. Defaults to all current page's attachments.", 'siteorigin-panels' ); ?> |
| [845](#L845) | </p> |
| [846](#L846) |  |
| [847](#L847) | <p> |
| [848](#L848) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'size' ) ); ?>"><?php esc\_html\_e( 'Image Size', 'siteorigin-panels' ); ?></label> |
| [849](#L849) | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'size' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'size' ) ); ?>"> |
| [850](#L850) | <option value="" <?php selected( empty( $instance['size'] ) ); ?>><?php esc\_html\_e( 'Default', 'siteorigin-panels' ); ?></option> |
| [851](#L851) | <option value="large" <?php selected( 'large', $instance['size'] ); ?>><?php esc\_html\_e( 'Large', 'siteorigin-panels' ); ?></option> |
| [852](#L852) | <option value="medium" <?php selected( 'medium', $instance['size'] ); ?>><?php esc\_html\_e( 'Medium', 'siteorigin-panels' ); ?></option> |
| [853](#L853) | <option value="thumbnail" <?php selected( 'thumbnail', $instance['size'] ); ?>><?php esc\_html\_e( 'Thumbnail', 'siteorigin-panels' ); ?></option> |
| [854](#L854) | <option value="full" <?php selected( 'full', $instance['size'] ); ?>><?php esc\_html\_e( 'Full', 'siteorigin-panels' ); ?></option> |
| [855](#L855) | <?php if ( ! empty( $\_wp\_additional\_image\_sizes ) ) { |
| [856](#L856) | foreach ( $\_wp\_additional\_image\_sizes as $name => $info ) { ?> |
| [857](#L857) | <option value="<?php echo esc\_attr( $name ); ?>" <?php selected( $name, $instance['size'] ); ?>><?php echo esc\_html( $name ); ?></option> |
| [858](#L858) | <?php } ?> |
| [859](#L859) | <?php } ?> |
| [860](#L860) | </select> |
| [861](#L861) | </p> |
| [862](#L862) |  |
| [863](#L863) | <p> |
| [864](#L864) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'type' ) ); ?>"><?php esc\_html\_e( 'Gallery Type', 'siteorigin-panels' ); ?></label> |
| [865](#L865) | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['type'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'type' ) ); ?>" /> |
| [866](#L866) | </p> |
| [867](#L867) |  |
| [868](#L868) | <p> |
| [869](#L869) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'columns' ) ); ?>"><?php esc\_html\_e( 'Columns', 'siteorigin-panels' ); ?></label> |
| [870](#L870) | <input type="text" class="regular" value="<?php echo esc\_attr( $instance['columns'] ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'columns' ) ); ?>" /> |
| [871](#L871) | </p> |
| [872](#L872) |  |
| [873](#L873) | <p> |
| [874](#L874) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'link' ) ); ?>"><?php esc\_html\_e( 'Link To', 'siteorigin-panels' ); ?></label> |
| [875](#L875) | <select name="<?php echo esc\_attr( $this->get\_field\_name( 'link' ) ); ?>" id="<?php echo esc\_attr( $this->get\_field\_id( 'link' ) ); ?>"> |
| [876](#L876) | <option value="" <?php selected( '', $instance['link'] ); ?>><?php esc\_html\_e( 'Attachment Page', 'siteorigin-panels' ); ?></option> |
| [877](#L877) | <option value="file" <?php selected( 'file', $instance['link'] ); ?>><?php esc\_html\_e( 'File', 'siteorigin-panels' ); ?></option> |
| [878](#L878) | <option value="none" <?php selected( 'none', $instance['link'] ); ?>><?php esc\_html\_e( 'None', 'siteorigin-panels' ); ?></option> |
| [879](#L879) | </select> |
| [880](#L880) | </p> |
| [881](#L881) |  |
| [882](#L882) | <?php |
| [883](#L883) | } |
| [884](#L884) | } |
| [885](#L885) |  |
| [886](#L886) | /\*\* |
| [887](#L887) | \* An image widget |
| [888](#L888) | \* |
| [889](#L889) | \* Class SiteOrigin\_Panels\_Widgets\_Image |
| [890](#L890) | \*/ |
| [891](#L891) | class SiteOrigin\_Panels\_Widgets\_Image extends WP\_Widget { |
| [892](#L892) | public function \_\_construct() { |
| [893](#L893) | parent::\_\_construct( |
| [894](#L894) | 'siteorigin-panels-image', |
| [895](#L895) | \_\_( 'Image (PB)', 'siteorigin-panels' ), |
| [896](#L896) | array( |
| [897](#L897) | 'description' => \_\_( 'Displays a simple image.', 'siteorigin-panels' ), |
| [898](#L898) | ) |
| [899](#L899) | ); |
| [900](#L900) | } |
| [901](#L901) |  |
| [902](#L902) | /\*\* |
| [903](#L903) | \* @param array $args |
| [904](#L904) | \* @param array $instance |
| [905](#L905) | \*/ |
| [906](#L906) | public function widget( $args, $instance ) { |
| [907](#L907) | echo $args['before\_widget']; |
| [908](#L908) |  |
| [909](#L909) | if ( ! empty( $instance['href'] ) ) { |
| [910](#L910) | echo '<a href="' . esc\_url( $instance['href'] ) . '">'; |
| [911](#L911) | } |
| [912](#L912) | echo '<img src="' . esc\_url( $instance['src'] ) . '" />'; |
| [913](#L913) |  |
| [914](#L914) | if ( ! empty( $instance['href'] ) ) { |
| [915](#L915) | echo '</a>'; |
| [916](#L916) | } |
| [917](#L917) | echo $args['after\_widget']; |
| [918](#L918) | } |
| [919](#L919) |  |
| [920](#L920) | public function update( $new, $old ) { |
| [921](#L921) | $new = wp\_parse\_args( $new, array( |
| [922](#L922) | 'src' => '', |
| [923](#L923) | 'href' => '', |
| [924](#L924) | ) ); |
| [925](#L925) |  |
| [926](#L926) | return $new; |
| [927](#L927) | } |
| [928](#L928) |  |
| [929](#L929) | public function form( $instance ) { |
| [930](#L930) | $instance = wp\_parse\_args( $instance, array( |
| [931](#L931) | 'src' => '', |
| [932](#L932) | 'href' => '', |
| [933](#L933) | ) ); |
| [934](#L934) |  |
| [935](#L935) | ?> |
| [936](#L936) | <p> |
| [937](#L937) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'src' ) ); ?>"><?php esc\_html\_e( 'Image URL', 'siteorigin-panels' ); ?></label> |
| [938](#L938) | <input type="text" class="widefat" id="<?php echo esc\_attr( $this->get\_field\_id( 'src' ) ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'src' ) ); ?>" value="<?php echo esc\_attr( $instance['src'] ); ?>" /> |
| [939](#L939) | </p> |
| [940](#L940) | <p> |
| [941](#L941) | <label for="<?php echo esc\_attr( $this->get\_field\_id( 'href' ) ); ?>"><?php esc\_html\_e( 'Destination URL', 'siteorigin-panels' ); ?></label> |
| [942](#L942) | <input type="text" class="widefat" id="<?php echo esc\_attr( $this->get\_field\_id( 'href' ) ); ?>" name="<?php echo esc\_attr( $this->get\_field\_name( 'href' ) ); ?>" value="<?php echo esc\_attr( $instance['href'] ); ?>" /> |
| [943](#L943) | </p> |
| [944](#L944) | <?php |
| [945](#L945) | } |
| [946](#L946) | } |
| [947](#L947) |  |
| [948](#L948) | /\*\* |
| [949](#L949) | \* A widget that lets you embed video. |
| [950](#L950) | \*/ |
| [951](#L951) | class SiteOrigin\_Panels\_Widgets\_EmbeddedVideo extends WP\_Widget { |
| [952](#L952) | public function \_\_construct() { |
| [953](#L953) | parent::\_\_construct( |
| [954](#L954) | 'siteorigin-panels-embedded-video', |
| [955](#L955) | \_\_( 'Embedded Video (PB)', 'siteorigin-panels' ), |
| [956](#L956) | array( |
| [957](#L957) | 'description' => \_\_( 'Embeds a video.', 'siteorigin-panels' ), |
| [958](#L958) | ) |
| [959](#L959) | ); |
| [960](#L960) | } |
| [961](#L961) |  |
| [962](#L962) | /\*\* |
| [963](#L963) | \* Display the video using |
| [964](#L964) | \* |
| [965](#L965) | \* @param array $args |
| [966](#L966) | \* @param array $instance |
| [967](#L967) | \*/ |
| [968](#L968) | public function widget( $args, $instance ) { |
| [969](#L969) | $embed = new WP\_Embed(); |
| [970](#L970) |  |
| [971](#L971) | if ( ! wp\_script\_is( 'siteorigin-panels-embedded-video' ) ) { |
| [972](#L972) | wp\_enqueue\_script( 'siteorigin-panels-embedded-video', plugin\_dir\_url( \_\_FILE\_\_ ) . 'js/embedded-video.js', array( 'jquery', 'fitvids' ), SITEORIGIN\_PANELS\_VERSION ); |
| [973](#L973) | } |
| [974](#L974) |  |
| [975](#L975) | echo $args['before\_widget']; |
| [976](#L976) | ?><div class="siteorigin-fitvids"><?php echo $embed->run\_shortcode( '[embed]' . $instance['video'] . '[/embed]' ); ?></div><?php |
| [977](#L977) | echo $args['after\_widget']; |
| [978](#L978) | } |
| [979](#L979) |  |
| [980](#L980) | /\*\* |
| [981](#L981) | \* Display the embedded video form. |
| [982](#L982) | \* |
| [983](#L983) | \* @param array $instance |
| [984](#L984) | \* |
| [985](#L985) | \* @return string|void |
| [986](#L986) | \*/ |
| [987](#L987) | public function form( $instance ) { |
| [988](#L988) | $instance = wp\_parse\_args( $instance, array( |
| [989](#L989) | 'video' => '', |
| [990](#L990) | ) ); |
| [991](#L991) |  |
| [992](#L992) | ?> |
| [993](#L993) | <p> |
| [994](#L994) | <label for="<?php echo $this->get\_field\_id( 'video' ); ?>"><?php esc\_html\_e( 'Video', 'siteorigin-panels' ); ?></label> |
| [995](#L995) | <input type="text" class="widefat" name="<?php echo $this->get\_field\_name( 'video' ); ?>" id="<?php echo $this->get\_field\_id( 'video' ); ?>" value="<?php echo esc\_attr( $instance['video'] ); ?>" /> |
| [996](#L996) | </p> |
| [997](#L997) | <?php |
| [998](#L998) | } |
| [999](#L999) |  |
| [1000](#L1000) | public function update( $new, $old ) { |
| [1001](#L1001) | $new['video'] = str\_replace( 'https://', 'http://', $new['video'] ); |
| [1002](#L1002) |  |
| [1003](#L1003) | return $new; |
| [1004](#L1004) | } |
| [1005](#L1005) | } |
| [1006](#L1006) |  |
| [1007](#L1007) | class SiteOrigin\_Panels\_Widgets\_Video extends WP\_Widget { |
| [1008](#L1008) | public function \_\_construct() { |
| [1009](#L1009) | parent::\_\_construct( |
| [1010](#L1010) | 'siteorigin-panels-video', |
| [1011](#L1011) | \_\_( 'Self Hosted Video (PB)', 'siteorigin-panels' ), |
| [1012](#L1012) | array( |
| [1013](#L1013) | 'description' => \_\_( 'A self hosted video player.', 'siteorigin-panels' ), |
| [1014](#L1014) | ) |
| [1015](#L1015) | ); |
| [1016](#L1016) | } |
| [1017](#L1017) |  |
| [1018](#L1018) | public function widget( $args, $instance ) { |
| [1019](#L1019) | if ( empty( $instance['url'] ) ) { |
| [1020](#L1020) | return; |
| [1021](#L1021) | } |
| [1022](#L1022) |  |
| [1023](#L1023) | if ( !function\_exists( 'wp\_video\_shortcode' ) ) { |
| [1024](#L1024) | return; |
| [1025](#L1025) | } |
| [1026](#L1026) |  |
| [1027](#L1027) | $instance = wp\_parse\_args( $instance, array( |
| [1028](#L1028) | 'url' => '', |
| [1029](#L1029) | 'poster' => '', |
| [1030](#L1030) | 'autoplay' => false, |
| [1031](#L1031) | ) ); |
| [1032](#L1032) |  |
| [1033](#L1033) | echo $args['before\_widget']; |
| [1034](#L1034) | echo wp\_video\_shortcode( array( |
| [1035](#L1035) | 'src' => $instance['url'], |
| [1036](#L1036) | 'poster' => $instance['poster'], |
| [1037](#L1037) | 'autoplay' => $instance['autoplay'], |
| [1038](#L1038) | ) ); |
| [1039](#L1039) | echo $args['after\_widget']; |
| [1040](#L1040) | } |
| [1041](#L1041) |  |
| [1042](#L1042) | public function update( $new, $old ) { |
| [1043](#L1043) | $new['url'] = esc\_url\_raw( $new['url'] ); |
| [1044](#L1044) | $new['poster'] = esc\_url\_raw( $new['poster'] ); |
| [1045](#L1045) | $new['autoplay'] = ! empty( $new['autoplay'] ) ? 1 : 0; |
| [1046](#L1046) |  |
| [1047](#L1047) | return $new; |
| [1048](#L1048) | } |
| [1049](#L1049) |  |
| [1050](#L1050) | public function form( $instance ) { |
| [1051](#L1051) | $instance = wp\_parse\_args( $instance, array( |
| [1052](#L1052) | 'url' => '', |
| [1053](#L1053) | 'poster' => '', |
| [1054](#L1054) | 'skin' => 'siteorigin', |
| [1055](#L1055) | 'ratio' => 1.777, |
| [1056](#L1056) | 'autoplay' => false, |
| [1057](#L1057) | ) ); |
| [1058](#L1058) |  |
| [1059](#L1059) | ?> |
| [1060](#L1060) | <p> |
| [1061](#L1061) | <label for="<?php echo $this->get\_field\_id( 'url' ); ?>"><?php esc\_html\_e( 'Video URL', 'siteorigin-panels' ); ?></label> |
| [1062](#L1062) | <input id="<?php echo $this->get\_field\_id( 'url' ); ?>" name="<?php echo $this->get\_field\_name( 'url' ); ?>" type="text" class="widefat" value="<?php echo esc\_attr( $instance['url'] ); ?>" /> |
| [1063](#L1063) | </p> |
| [1064](#L1064) | <p> |
| [1065](#L1065) | <label for="<?php echo $this->get\_field\_id( 'poster' ); ?>"><?php esc\_html\_e( 'Poster URL', 'siteorigin-panels' ); ?></label> |
| [1066](#L1066) | <input id="<?php echo $this->get\_field\_id( 'poster' ); ?>" name="<?php echo $this->get\_field\_name( 'poster' ); ?>" type="text" class="widefat" value="<?php echo esc\_attr( $instance['poster'] ); ?>" /> |
| [1067](#L1067) | <small class="description"><?php esc\_html\_e( 'An image that displays before the video starts playing.', 'siteorigin-panels' ); ?></small> |
| [1068](#L1068) | </p> |
| [1069](#L1069) | <p> |
| [1070](#L1070) | <label for="<?php echo $this->get\_field\_id( 'autoplay' ); ?>"> |
| [1071](#L1071) | <input id="<?php echo $this->get\_field\_id( 'autoplay' ); ?>" name="<?php echo $this->get\_field\_name( 'autoplay' ); ?>" type="checkbox" value="1" <?php checked( $instance['autoplay'] ); ?> /> |
| [1072](#L1072) | <?php esc\_html\_e( 'Auto Play Video', 'siteorigin-panels' ); ?> |
| [1073](#L1073) | </label> |
| [1074](#L1074) | </p> |
| [1075](#L1075) | <?php |
| [1076](#L1076) | } |
| [1077](#L1077) | } |
| [1078](#L1078) |  |
| [1079](#L1079) | /\*\* |
| [1080](#L1080) | \* A shortcode for self hosted video. |
| [1081](#L1081) | \* |
| [1082](#L1082) | \* @param array $atts |
| [1083](#L1083) | \* |
| [1084](#L1084) | \* @return string |
| [1085](#L1085) | \*/ |
| [1086](#L1086) | function siteorigin\_panels\_video\_shortcode( $atts ) { |
| [1087](#L1087) | /\*\* |
| [1088](#L1088) | \* @var string $url |
| [1089](#L1089) | \* @var string $poster |
| [1090](#L1090) | \* @var string $skin |
| [1091](#L1091) | \*/ |
| [1092](#L1092) | $instance = shortcode\_atts( array( |
| [1093](#L1093) | 'url' => '', |
| [1094](#L1094) | 'src' => '', |
| [1095](#L1095) | 'poster' => '', |
| [1096](#L1096) | 'skin' => 'siteorigin', |
| [1097](#L1097) | 'ratio' => 1.777, |
| [1098](#L1098) | 'autoplay' => 0, |
| [1099](#L1099) | ), $atts ); |
| [1100](#L1100) |  |
| [1101](#L1101) | if ( ! empty( $instance['src'] ) ) { |
| [1102](#L1102) | $instance['url'] = $instance['src']; |
| [1103](#L1103) | } |
| [1104](#L1104) |  |
| [1105](#L1105) | if ( empty( $instance['url'] ) ) { |
| [1106](#L1106) | return; |
| [1107](#L1107) | } |
| [1108](#L1108) |  |
| [1109](#L1109) | ob\_start(); |
| [1110](#L1110) | the\_widget( 'SiteOrigin\_Panels\_Widgets\_Video', $instance ); |
| [1111](#L1111) |  |
| [1112](#L1112) | return ob\_get\_clean(); |
| [1113](#L1113) | } |
| [1114](#L1114) | add\_shortcode( 'self\_video', 'siteorigin\_panels\_video\_shortcode' ); |
| [1115](#L1115) |  |
| [1116](#L1116) | /\*\* |
| [1117](#L1117) | \* Register the widgets. |
| [1118](#L1118) | \*/ |
| [1119](#L1119) | function siteorigin\_panels\_widgets\_init() { |
| [1120](#L1120) | register\_widget( 'SiteOrigin\_Panels\_Widgets\_Gallery' ); |
| [1121](#L1121) | register\_widget( 'SiteOrigin\_Panels\_Widgets\_Image' ); |
| [1122](#L1122) | register\_widget( 'SiteOrigin\_Panels\_Widgets\_EmbeddedVideo' ); |
| [1123](#L1123) | register\_widget( 'SiteOrigin\_Panels\_Widgets\_Video' ); |
| [1124](#L1124) | } |
| [1125](#L1125) | add\_action( 'widgets\_init', 'siteorigin\_panels\_widgets\_init' ); |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/siteorigin-panels/trunk/widgets/widgets.php?format=txt)
* [Original Format](/export/3220502/siteorigin-panels/trunk/widgets/widgets.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


