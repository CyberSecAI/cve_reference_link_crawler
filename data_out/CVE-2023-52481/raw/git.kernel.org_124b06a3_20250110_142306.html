<!DOCTYPE html>
<html lang='en'>
<head>
<title>arm64: errata: Add Cortex-A520 speculative unprivileged load workaround - kernel/git/stable/linux.git - Linux kernel stable tree</title>
<meta name='generator' content='cgit 1.2.3-korg'/>
<meta name='robots' content='noindex, nofollow'/>
<link rel='stylesheet' type='text/css' href='/cgit-data/cgit.css'/>
<script type='text/javascript' src='/cgit-data/cgit.js'></script>
<link rel='shortcut icon' href='/favicon.ico'/>
<link rel='alternate' title='Atom feed' href='https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git/atom/?h=master' type='application/atom+xml'/>
<link rel='vcs-git' href='git://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git' title='kernel/git/stable/linux.git Git repository'/>
<link rel='vcs-git' href='https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git' title='kernel/git/stable/linux.git Git repository'/>
<link rel='vcs-git' href='https://kernel.googlesource.com/pub/scm/linux/kernel/git/stable/linux.git' title='kernel/git/stable/linux.git Git repository'/>
</head>
<body>
<div id='cgit'><table id='header'>
<tr>
<td class='logo' rowspan='2'><a href='/'><img src='/cgit-data/cgit.png' alt='cgit logo'/></a></td>
<td class='main'><a href='/'>index</a> : <a href='/pub/scm/linux/kernel/git/stable/linux.git/'>kernel/git/stable/linux.git</a></td><td class='form'><form method='get'>
<input type='hidden' name='id' value='6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'/><select name='h' onchange='this.form.submit();'>
<option value='linux-2.6.11.y'>linux-2.6.11.y</option>
<option value='linux-2.6.12.y'>linux-2.6.12.y</option>
<option value='linux-2.6.13.y'>linux-2.6.13.y</option>
<option value='linux-2.6.14.y'>linux-2.6.14.y</option>
<option value='linux-2.6.15.y'>linux-2.6.15.y</option>
<option value='linux-2.6.16.y'>linux-2.6.16.y</option>
<option value='linux-2.6.17.y'>linux-2.6.17.y</option>
<option value='linux-2.6.18.y'>linux-2.6.18.y</option>
<option value='linux-2.6.19.y'>linux-2.6.19.y</option>
<option value='linux-2.6.20.y'>linux-2.6.20.y</option>
<option value='linux-2.6.21.y'>linux-2.6.21.y</option>
<option value='linux-2.6.22.y'>linux-2.6.22.y</option>
<option value='linux-2.6.23.y'>linux-2.6.23.y</option>
<option value='linux-2.6.24.y'>linux-2.6.24.y</option>
<option value='linux-2.6.25.y'>linux-2.6.25.y</option>
<option value='linux-2.6.26.y'>linux-2.6.26.y</option>
<option value='linux-2.6.27.y'>linux-2.6.27.y</option>
<option value='linux-2.6.28.y'>linux-2.6.28.y</option>
<option value='linux-2.6.29.y'>linux-2.6.29.y</option>
<option value='linux-2.6.30.y'>linux-2.6.30.y</option>
<option value='linux-2.6.31.y'>linux-2.6.31.y</option>
<option value='linux-2.6.32.y'>linux-2.6.32.y</option>
<option value='linux-2.6.33.y'>linux-2.6.33.y</option>
<option value='linux-2.6.34.y'>linux-2.6.34.y</option>
<option value='linux-2.6.35.y'>linux-2.6.35.y</option>
<option value='linux-2.6.36.y'>linux-2.6.36.y</option>
<option value='linux-2.6.37.y'>linux-2.6.37.y</option>
<option value='linux-2.6.38.y'>linux-2.6.38.y</option>
<option value='linux-2.6.39.y'>linux-2.6.39.y</option>
<option value='linux-3.0.y'>linux-3.0.y</option>
<option value='linux-3.1.y'>linux-3.1.y</option>
<option value='linux-3.10.y'>linux-3.10.y</option>
<option value='linux-3.11.y'>linux-3.11.y</option>
<option value='linux-3.12.y'>linux-3.12.y</option>
<option value='linux-3.13.y'>linux-3.13.y</option>
<option value='linux-3.14.y'>linux-3.14.y</option>
<option value='linux-3.15.y'>linux-3.15.y</option>
<option value='linux-3.16.y'>linux-3.16.y</option>
<option value='linux-3.17.y'>linux-3.17.y</option>
<option value='linux-3.18.y'>linux-3.18.y</option>
<option value='linux-3.19.y'>linux-3.19.y</option>
<option value='linux-3.2.y'>linux-3.2.y</option>
<option value='linux-3.3.y'>linux-3.3.y</option>
<option value='linux-3.4.y'>linux-3.4.y</option>
<option value='linux-3.5.y'>linux-3.5.y</option>
<option value='linux-3.6.y'>linux-3.6.y</option>
<option value='linux-3.7.y'>linux-3.7.y</option>
<option value='linux-3.8.y'>linux-3.8.y</option>
<option value='linux-3.9.y'>linux-3.9.y</option>
<option value='linux-4.0.y'>linux-4.0.y</option>
<option value='linux-4.1.y'>linux-4.1.y</option>
<option value='linux-4.10.y'>linux-4.10.y</option>
<option value='linux-4.11.y'>linux-4.11.y</option>
<option value='linux-4.12.y'>linux-4.12.y</option>
<option value='linux-4.13.y'>linux-4.13.y</option>
<option value='linux-4.14.y'>linux-4.14.y</option>
<option value='linux-4.15.y'>linux-4.15.y</option>
<option value='linux-4.16.y'>linux-4.16.y</option>
<option value='linux-4.17.y'>linux-4.17.y</option>
<option value='linux-4.18.y'>linux-4.18.y</option>
<option value='linux-4.19.y'>linux-4.19.y</option>
<option value='linux-4.2.y'>linux-4.2.y</option>
<option value='linux-4.20.y'>linux-4.20.y</option>
<option value='linux-4.3.y'>linux-4.3.y</option>
<option value='linux-4.4.y'>linux-4.4.y</option>
<option value='linux-4.5.y'>linux-4.5.y</option>
<option value='linux-4.6.y'>linux-4.6.y</option>
<option value='linux-4.7.y'>linux-4.7.y</option>
<option value='linux-4.8.y'>linux-4.8.y</option>
<option value='linux-4.9.y'>linux-4.9.y</option>
<option value='linux-5.0.y'>linux-5.0.y</option>
<option value='linux-5.1.y'>linux-5.1.y</option>
<option value='linux-5.10.y'>linux-5.10.y</option>
<option value='linux-5.11.y'>linux-5.11.y</option>
<option value='linux-5.12.y'>linux-5.12.y</option>
<option value='linux-5.13.y'>linux-5.13.y</option>
<option value='linux-5.14.y'>linux-5.14.y</option>
<option value='linux-5.15.y'>linux-5.15.y</option>
<option value='linux-5.16.y'>linux-5.16.y</option>
<option value='linux-5.17.y'>linux-5.17.y</option>
<option value='linux-5.18.y'>linux-5.18.y</option>
<option value='linux-5.19.y'>linux-5.19.y</option>
<option value='linux-5.2.y'>linux-5.2.y</option>
<option value='linux-5.3.y'>linux-5.3.y</option>
<option value='linux-5.4.y'>linux-5.4.y</option>
<option value='linux-5.5.y'>linux-5.5.y</option>
<option value='linux-5.6.y'>linux-5.6.y</option>
<option value='linux-5.7.y'>linux-5.7.y</option>
<option value='linux-5.8.y'>linux-5.8.y</option>
<option value='linux-5.9.y'>linux-5.9.y</option>
<option value='linux-6.0.y'>linux-6.0.y</option>
<option value='linux-6.1.y'>linux-6.1.y</option>
<option value='linux-6.10.y'>linux-6.10.y</option>
<option value='linux-6.11.y'>linux-6.11.y</option>
<option value='linux-6.12.y'>linux-6.12.y</option>
<option value='linux-6.2.y'>linux-6.2.y</option>
<option value='linux-6.3.y'>linux-6.3.y</option>
<option value='linux-6.4.y'>linux-6.4.y</option>
<option value='linux-6.5.y'>linux-6.5.y</option>
<option value='linux-6.6.y'>linux-6.6.y</option>
<option value='linux-6.7.y'>linux-6.7.y</option>
<option value='linux-6.8.y'>linux-6.8.y</option>
<option value='linux-6.9.y'>linux-6.9.y</option>
<option value='linux-rolling-lts'>linux-rolling-lts</option>
<option value='linux-rolling-stable'>linux-rolling-stable</option>
<option value='master' selected='selected'>master</option>
</select> <input type='submit' value='switch'/></form></td></tr>
<tr><td class='sub'>Linux kernel stable tree</td><td class='sub right'>Stable Group</td></tr></table>
<table class='tabs'><tr><td>
<a href='/pub/scm/linux/kernel/git/stable/linux.git/about/'>about</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/'>summary</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>refs</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/log/'>log</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>tree</a><a class='active' href='/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>commit</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>diff</a><a href='/pub/scm/linux/kernel/git/stable/linux.git/stats/'>stats</a></td><td class='form'><form class='right' method='get' action='/pub/scm/linux/kernel/git/stable/linux.git/log/'>
<input type='hidden' name='id' value='6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'/><select name='qt'>
<option value='grep'>log msg</option>
<option value='author'>author</option>
<option value='committer'>committer</option>
<option value='range'>range</option>
</select>
<input class='txt' type='search' size='10' name='q' value=''/>
<input type='submit' value='search'/>
</form>
</td></tr></table>
<div class='content'><div class='cgit-panel'><b>diff options</b><form method='get'><input type='hidden' name='id' value='6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'/><table><tr><td colspan='2'/></tr><tr><td class='label'>context:</td><td class='ctrl'><select name='context' onchange='this.form.submit();'><option value='1'>1</option><option value='2'>2</option><option value='3' selected='selected'>3</option><option value='4'>4</option><option value='5'>5</option><option value='6'>6</option><option value='7'>7</option><option value='8'>8</option><option value='9'>9</option><option value='10'>10</option><option value='15'>15</option><option value='20'>20</option><option value='25'>25</option><option value='30'>30</option><option value='35'>35</option><option value='40'>40</option></select></td></tr><tr><td class='label'>space:</td><td class='ctrl'><select name='ignorews' onchange='this.form.submit();'><option value='0' selected='selected'>include</option><option value='1'>ignore</option></select></td></tr><tr><td class='label'>mode:</td><td class='ctrl'><select name='dt' onchange='this.form.submit();'><option value='0' selected='selected'>unified</option><option value='1'>ssdiff</option><option value='2'>stat only</option></select></td></tr><tr><td/><td class='ctrl'><noscript><input type='submit' value='reload'/></noscript></td></tr></table></form></div><table summary='commit info' class='commit-info'>
<tr><th>author</th><td>Rob Herring &lt;robh@kernel.org&gt;</td><td class='right'>2023-09-21 14:41:52 -0500</td></tr>
<tr><th>committer</th><td>Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;</td><td class='right'>2023-10-10 22:00:39 +0200</td></tr>
<tr><th>commit</th><td colspan='2' class='oid'><a href='/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c</a> (<a href='/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>patch</a>)</td></tr>
<tr><th>tree</th><td colspan='2' class='oid'><a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>2f70d5f71d76835e4e877efe62d79b595a67cc1f</a></td></tr>
<tr><th>parent</th><td colspan='2' class='oid'><a href='/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0a4ae263480130140536b8948dc76b9b2b07d311'>0a4ae263480130140536b8948dc76b9b2b07d311</a> (<a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c&amp;id2=0a4ae263480130140536b8948dc76b9b2b07d311'>diff</a>)</td></tr><tr><th>download</th><td colspan='2' class='oid'><a href='/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c.tar.gz'>linux-6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c.tar.gz</a><br/></td></tr></table>
<div class='commit-subject'>arm64: errata: Add Cortex-A520 speculative unprivileged load workaround</div><div class='commit-msg'>commit 471470bc7052d28ce125901877dd10e4c048e513 upstream.

Implement the workaround for ARM Cortex-A520 erratum 2966298. On an
affected Cortex-A520 core, a speculatively executed unprivileged load
might leak data from a privileged load via a cache side channel. The
issue only exists for loads within a translation regime with the same
translation (e.g. same ASID and VMID). Therefore, the issue only affects
the return to EL0.

The workaround is to execute a TLBI before returning to EL0 after all
loads of privileged data. A non-shareable TLBI to any address is
sufficient.

The workaround isn't necessary if page table isolation (KPTI) is
enabled, but for simplicity it will be. Page table isolation should
normally be disabled for Cortex-A520 as it supports the CSV3 feature
and the E0PD feature (used when KASLR is enabled).

Cc: stable@vger.kernel.org
Signed-off-by: Rob Herring &lt;robh@kernel.org&gt;
Link: <a href="https://lore.kernel.org/r/20230921194156.1050055-2-robh@kernel.org">https://lore.kernel.org/r/20230921194156.1050055-2-robh@kernel.org</a>
Signed-off-by: Will Deacon &lt;will@kernel.org&gt;
Signed-off-by: Greg Kroah-Hartman &lt;gregkh@linuxfoundation.org&gt;
</div><div class='diffstat-header'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>Diffstat</a></div><table summary='diffstat' class='diffstat'><tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/Documentation/arm64/silicon-errata.rst?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>Documentation/arm64/silicon-errata.rst</a></td><td class='right'>2</td><td class='graph'><table summary='file diffstat' width='13%'><tr><td class='add' style='width: 15.4%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 84.6%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/Kconfig?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/Kconfig</a></td><td class='right'>13</td><td class='graph'><table summary='file diffstat' width='13%'><tr><td class='add' style='width: 100.0%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 0.0%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/kernel/cpu_errata.c?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/kernel/cpu_errata.c</a></td><td class='right'>8</td><td class='graph'><table summary='file diffstat' width='13%'><tr><td class='add' style='width: 61.5%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 38.5%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/kernel/entry.S?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/kernel/entry.S</a></td><td class='right'>4</td><td class='graph'><table summary='file diffstat' width='13%'><tr><td class='add' style='width: 30.8%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 69.2%;'/></tr></table></td></tr>
<tr><td class='mode'>-rw-r--r--</td><td class='upd'><a href='/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/tools/cpucaps?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/tools/cpucaps</a></td><td class='right'>1</td><td class='graph'><table summary='file diffstat' width='13%'><tr><td class='add' style='width: 7.7%;'/><td class='rem' style='width: 0.0%;'/><td class='none' style='width: 92.3%;'/></tr></table></td></tr>
</table><div class='diffstat-summary'>5 files changed, 28 insertions, 0 deletions</div><table summary='diff' class='diff'><tr><td><div class='head'>diff --git a/Documentation/arm64/silicon-errata.rst b/Documentation/arm64/silicon-errata.rst<br/>index 9000640f7f7a06..d9fce65b2f047c 100644<br/>--- a/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/Documentation/arm64/silicon-errata.rst?id=0a4ae263480130140536b8948dc76b9b2b07d311'>Documentation/arm64/silicon-errata.rst</a><br/>+++ b/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/Documentation/arm64/silicon-errata.rst?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>Documentation/arm64/silicon-errata.rst</a></div><div class='hunk'>@@ -63,6 +63,8 @@ stable kernels.</div><div class='ctx'> +----------------+-----------------+-----------------+-----------------------------+</div><div class='ctx'> | ARM            | Cortex-A510     | #1902691        | ARM64_ERRATUM_1902691       |</div><div class='ctx'> +----------------+-----------------+-----------------+-----------------------------+</div><div class='add'>+| ARM            | Cortex-A520     | #2966298        | ARM64_ERRATUM_2966298       |</div><div class='add'>++----------------+-----------------+-----------------+-----------------------------+</div><div class='ctx'> | ARM            | Cortex-A53      | #826319         | ARM64_ERRATUM_826319        |</div><div class='ctx'> +----------------+-----------------+-----------------+-----------------------------+</div><div class='ctx'> | ARM            | Cortex-A53      | #827319         | ARM64_ERRATUM_827319        |</div><div class='head'>diff --git a/arch/arm64/Kconfig b/arch/arm64/Kconfig<br/>index d5eb2fbab473e4..9ee9e17eb2ca00 100644<br/>--- a/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/Kconfig?id=0a4ae263480130140536b8948dc76b9b2b07d311'>arch/arm64/Kconfig</a><br/>+++ b/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/Kconfig?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/Kconfig</a></div><div class='hunk'>@@ -983,6 +983,19 @@ config ARM64_ERRATUM_2457168</div><div class='ctx'> </div><div class='ctx'> 	  If unsure, say Y.</div><div class='ctx'> </div><div class='add'>+config ARM64_ERRATUM_2966298</div><div class='add'>+	bool "Cortex-A520: 2966298: workaround for speculatively executed unprivileged load"</div><div class='add'>+	default y</div><div class='add'>+	help</div><div class='add'>+	  This option adds the workaround for ARM Cortex-A520 erratum 2966298.</div><div class='add'>+</div><div class='add'>+	  On an affected Cortex-A520 core, a speculatively executed unprivileged</div><div class='add'>+	  load might leak data from a privileged level via a cache side channel.</div><div class='add'>+</div><div class='add'>+	  Work around this problem by executing a TLBI before returning to EL0.</div><div class='add'>+</div><div class='add'>+	  If unsure, say Y.</div><div class='add'>+</div><div class='ctx'> config CAVIUM_ERRATUM_22375</div><div class='ctx'> 	bool "Cavium erratum 22375, 24313"</div><div class='ctx'> 	default y</div><div class='head'>diff --git a/arch/arm64/kernel/cpu_errata.c b/arch/arm64/kernel/cpu_errata.c<br/>index 8dbf3c21ea22a5..3f917124684c5a 100644<br/>--- a/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/kernel/cpu_errata.c?id=0a4ae263480130140536b8948dc76b9b2b07d311'>arch/arm64/kernel/cpu_errata.c</a><br/>+++ b/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/kernel/cpu_errata.c?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/kernel/cpu_errata.c</a></div><div class='hunk'>@@ -723,6 +723,14 @@ const struct arm64_cpu_capabilities arm64_errata[] = {</div><div class='ctx'> 		.cpu_enable = cpu_clear_bf16_from_user_emulation,</div><div class='ctx'> 	},</div><div class='ctx'> #endif</div><div class='add'>+#ifdef CONFIG_ARM64_ERRATUM_2966298</div><div class='add'>+	{</div><div class='add'>+		.desc = "ARM erratum 2966298",</div><div class='add'>+		.capability = ARM64_WORKAROUND_2966298,</div><div class='add'>+		/* Cortex-A520 r0p0 - r0p1 */</div><div class='add'>+		ERRATA_MIDR_REV_RANGE(MIDR_CORTEX_A520, 0, 0, 1),</div><div class='add'>+	},</div><div class='add'>+#endif</div><div class='ctx'> #ifdef CONFIG_AMPERE_ERRATUM_AC03_CPU_38</div><div class='ctx'> 	{</div><div class='ctx'> 		.desc = "AmpereOne erratum AC03_CPU_38",</div><div class='head'>diff --git a/arch/arm64/kernel/entry.S b/arch/arm64/kernel/entry.S<br/>index beb4db21c89c1c..de16fa917e1b8e 100644<br/>--- a/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/kernel/entry.S?id=0a4ae263480130140536b8948dc76b9b2b07d311'>arch/arm64/kernel/entry.S</a><br/>+++ b/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/kernel/entry.S?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/kernel/entry.S</a></div><div class='hunk'>@@ -419,6 +419,10 @@ alternative_else_nop_endif</div><div class='ctx'> 	ldp	x28, x29, [sp, #16 * 14]</div><div class='ctx'> </div><div class='ctx'> 	.if	\el == 0</div><div class='add'>+alternative_if ARM64_WORKAROUND_2966298</div><div class='add'>+	tlbi	vale1, xzr</div><div class='add'>+	dsb	nsh</div><div class='add'>+alternative_else_nop_endif</div><div class='ctx'> alternative_if_not ARM64_UNMAP_KERNEL_AT_EL0</div><div class='ctx'> 	ldr	lr, [sp, #S_LR]</div><div class='ctx'> 	add	sp, sp, #PT_REGS_SIZE		// restore sp</div><div class='head'>diff --git a/arch/arm64/tools/cpucaps b/arch/arm64/tools/cpucaps<br/>index 14d31d1b2ff029..e73830d9f13678 100644<br/>--- a/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/tools/cpucaps?id=0a4ae263480130140536b8948dc76b9b2b07d311'>arch/arm64/tools/cpucaps</a><br/>+++ b/<a href='/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/tools/cpucaps?id=6e3ae2927b432a3b7c8374f14dbc1bd9ebe4372c'>arch/arm64/tools/cpucaps</a></div><div class='hunk'>@@ -71,6 +71,7 @@ WORKAROUND_2064142</div><div class='ctx'> WORKAROUND_2077057</div><div class='ctx'> WORKAROUND_2457168</div><div class='ctx'> WORKAROUND_2658417</div><div class='add'>+WORKAROUND_2966298</div><div class='ctx'> WORKAROUND_AMPERE_AC03_CPU_38</div><div class='ctx'> WORKAROUND_TRBE_OVERWRITE_FILL_MODE</div><div class='ctx'> WORKAROUND_TSB_FLUSH_FAILURE</div></td></tr></table></div> <!-- class=content -->
<div class='footer'>generated by <a href='https://git.zx2c4.com/cgit/about/'>cgit 1.2.3-korg</a> (<a href='https://git-scm.com/'>git 2.43.0</a>) at 2025-01-10 14:21:44 +0000</div>
</div> <!-- id=cgit -->
</body>
</html>
