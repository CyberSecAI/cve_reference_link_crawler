=== Content from github.com_ba70c311_20250111_185243.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmlflow%2Fmlflow%2Fpull%2F10873)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmlflow%2Fmlflow%2Fpull%2F10873)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=mlflow%2Fmlflow)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[mlflow](/mlflow)
/
**[mlflow](/mlflow/mlflow)**
Public

* [Notifications](/login?return_to=%2Fmlflow%2Fmlflow) You must be signed in to change notification settings
* [Fork
  4.3k](/login?return_to=%2Fmlflow%2Fmlflow)
* [Star
   19.2k](/login?return_to=%2Fmlflow%2Fmlflow)

* [Code](/mlflow/mlflow)
* [Issues
  1.3k](/mlflow/mlflow/issues)
* [Pull requests
  342](/mlflow/mlflow/pulls)
* [Discussions](/mlflow/mlflow/discussions)
* [Actions](/mlflow/mlflow/actions)
* [Projects
  1](/mlflow/mlflow/projects)
* [Wiki](/mlflow/mlflow/wiki)
* [Security](/mlflow/mlflow/security)
* [Insights](/mlflow/mlflow/pulse)

Additional navigation options

* [Code](/mlflow/mlflow)
* [Issues](/mlflow/mlflow/issues)
* [Pull requests](/mlflow/mlflow/pulls)
* [Discussions](/mlflow/mlflow/discussions)
* [Actions](/mlflow/mlflow/actions)
* [Projects](/mlflow/mlflow/projects)
* [Wiki](/mlflow/mlflow/wiki)
* [Security](/mlflow/mlflow/security)
* [Insights](/mlflow/mlflow/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fmlflow%2Fmlflow%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fmlflow%2Fmlflow%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Fix: Template injection in MLflow Recipe leads to an RCE #10873

 Merged

[WeichenXu123](/WeichenXu123)
merged 2 commits into
[mlflow:master](/mlflow/mlflow/tree/master "mlflow/mlflow:master")
from
[WeichenXu123:fix-template-injection-in-recipe](/WeichenXu123/mlflow/tree/fix-template-injection-in-recipe "WeichenXu123/mlflow:fix-template-injection-in-recipe")

Jan 24, 2024

 Merged

# [Fix: Template injection in MLflow Recipe leads to an RCE](#top) #10873

[WeichenXu123](/WeichenXu123)
merged 2 commits into
[mlflow:master](/mlflow/mlflow/tree/master "mlflow/mlflow:master")
from
[WeichenXu123:fix-template-injection-in-recipe](/WeichenXu123/mlflow/tree/fix-template-injection-in-recipe "WeichenXu123/mlflow:fix-template-injection-in-recipe")

Jan 24, 2024

[Conversation
1](/mlflow/mlflow/pull/10873)
[Commits
2](/mlflow/mlflow/pull/10873/commits)
[Checks
45](/mlflow/mlflow/pull/10873/checks)
[Files changed](/mlflow/mlflow/pull/10873/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=60&v=4)](/WeichenXu123)

Copy link

Collaborator

### @WeichenXu123 **[WeichenXu123](/WeichenXu123)** commented [Jan 23, 2024](#issue-2095390607) • edited Loading

### Related Issues/PRs

[#10869](https://github.com/mlflow/mlflow/issues/10869)

#xxx
### What changes are proposed in this pull request?

Fix Template injection in MLflow Recipe leads to an RCE

### How is this PR tested?

* Existing unit/integration tests
* New unit/integration tests
* Manual tests

### Does this PR require documentation update?

* No. You can skip the rest of this section.
* Yes. I've updated:
  + Examples
  + API references
  + Instructions

### Release Notes

#### Is this a user-facing change?

* No. You can skip the rest of this section.
* Yes. Give a description of this change to be included in the release notes for MLflow users.

#### What component(s), interfaces, languages, and integrations does this PR affect?

Components

* `area/artifacts`: Artifact stores and artifact logging
* `area/build`: Build and test infrastructure for MLflow
* `area/deployments`: MLflow Deployments client APIs, server, and third-party Deployments integrations
* `area/docs`: MLflow documentation pages
* `area/examples`: Example code
* `area/model-registry`: Model Registry service, APIs, and the fluent client calls for Model Registry
* `area/models`: MLmodel format, model serialization/deserialization, flavors
* `area/recipes`: Recipes, Recipe APIs, Recipe configs, Recipe Templates
* `area/projects`: MLproject format, project running backends
* `area/scoring`: MLflow Model server, model deployment tools, Spark UDFs
* `area/server-infra`: MLflow Tracking server backend
* `area/tracking`: Tracking Service, tracking client APIs, autologging

Interface

* `area/uiux`: Front-end, user experience, plotting, JavaScript, JavaScript dev server
* `area/docker`: Docker use across MLflow's components, such as MLflow Projects and MLflow Models
* `area/sqlalchemy`: Use of SQLAlchemy in the Tracking Service or Model Registry
* `area/windows`: Windows support

Language

* `language/r`: R APIs and clients
* `language/java`: Java APIs and clients
* `language/new`: Proposals for new client languages

Integrations

* `integrations/azure`: Azure and Azure ML integrations
* `integrations/sagemaker`: SageMaker integrations
* `integrations/databricks`: Databricks integrations

#### How should the PR be classified in the release notes? Choose one:

* `rn/none` - No description will be included. The PR will be mentioned only by the PR number in the "Small Bugfixes and Documentation Updates" section
* `rn/breaking-change` - The PR will be mentioned in the "Breaking Changes" section
* `rn/feature` - A new user-facing feature worth mentioning in the release notes
* `rn/bug-fix` - A user-facing bug fix worth mentioning in the release notes
* `rn/documentation` - A user-facing documentation change worth mentioning in the release notes

Sorry, something went wrong.

All reactions

[![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=40&v=4)](/WeichenXu123)

`[init](/mlflow/mlflow/pull/10873/commits/fc4a90e835815e6be4581275875dbafab3260858 "init

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>")`
 …

`[fc4a90e](/mlflow/mlflow/pull/10873/commits/fc4a90e835815e6be4581275875dbafab3260858)`

```
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
```

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=80&v=4)](/apps/github-actions)
[![GitHub Actions](https://avatars.githubusercontent.com/in/15368?s=40&u=167a342ed94d2a713daf64a8b476ead2cebe1852&v=4)](https://github.com/apps/github-actions)

Copy link

### **[github-actions](/apps/github-actions) bot** commented [Jan 23, 2024](#issuecomment-1905412725) • edited Loading

| Documentation preview for [a7ff176](https://github.com/mlflow/mlflow/commit/a7ff17683f2e152c581e1a19f8502df952ad55de) will be available [here](https://output.circle-artifacts.com/output/job/d9cc0edc-0e10-4227-b34f-ec4ec7a675af/artifacts/0/docs/build/html/index.html) when [this CircleCI job](https://circleci.com/gh/mlflow/mlflow/86489) completes successfully.  More info  * Ignore this comment if this PR does not change the documentation. * It takes a few minutes for the preview to be available. * The preview is updated when a new commit is pushed to this PR. * This comment was created by <https://github.com/mlflow/mlflow/actions/runs/7622402659>. |
| --- |

All reactions

Sorry, something went wrong.

[![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=40&v=4)](/WeichenXu123)

`[update](/mlflow/mlflow/pull/10873/commits/a7ff17683f2e152c581e1a19f8502df952ad55de "update

Signed-off-by: Weichen Xu <weichen.xu@databricks.com>")`
 …

`[a7ff176](/mlflow/mlflow/pull/10873/commits/a7ff17683f2e152c581e1a19f8502df952ad55de)`

```
Signed-off-by: Weichen Xu <weichen.xu@databricks.com>
```

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
[rn/none](/mlflow/mlflow/labels/rn/none)
List under Small Changes in Changelogs.
[area/recipes](/mlflow/mlflow/labels/area/recipes)
MLflow Recipes, Recipes APIs, Recipes configs, Recipe Templates
labels
[Jan 23, 2024](#event-11565900529)

 [![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=40&u=42065dabaf6a5877a76608f372d129687b290722&v=4)](/WeichenXu123)
[WeichenXu123](/WeichenXu123)
requested a review
from [sunishsheth2009](/sunishsheth2009)
[January 24, 2024 03:49](#event-11578624519)

[![sunishsheth2009](https://avatars.githubusercontent.com/u/5621432?s=60&v=4)](/sunishsheth2009)

**[sunishsheth2009](/sunishsheth2009)**
approved these changes
[Jan 24, 2024](#pullrequestreview-1840339568)

 [View reviewed changes](/mlflow/mlflow/pull/10873/files/a7ff17683f2e152c581e1a19f8502df952ad55de)

 Hide details
View details

[![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=40&u=42065dabaf6a5877a76608f372d129687b290722&v=4)](/WeichenXu123)
[WeichenXu123](/WeichenXu123)
merged commit [`4ae4282`](/mlflow/mlflow/commit/4ae428205821795da7364af951a7b27e21e2022f)
into
mlflow:master

[Jan 24, 2024](https://github.com/mlflow/mlflow/pull/10873#event-11578687025)
46 checks passed

[![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=40&u=42065dabaf6a5877a76608f372d129687b290722&v=4)](/WeichenXu123)
[WeichenXu123](/WeichenXu123)
mentioned this pull request
[Jan 25, 2024](#ref-pullrequest-2099511110)

[Fix recipe card display format
#10893](/mlflow/mlflow/pull/10893)
 Merged

37 tasks

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fmlflow%2Fmlflow%2Fpull%2F10873)

Reviewers

[![@sunishsheth2009](https://avatars.githubusercontent.com/u/5621432?s=40&v=4)](/sunishsheth2009) [sunishsheth2009](/sunishsheth2009)

sunishsheth2009 approved these changes

Assignees

No one assigned

Labels

[area/recipes](/mlflow/mlflow/labels/area/recipes)
MLflow Recipes, Recipes APIs, Recipes configs, Recipe Templates
[rn/none](/mlflow/mlflow/labels/rn/none)
List under Small Changes in Changelogs.

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@WeichenXu123](https://avatars.githubusercontent.com/u/19235986?s=52&v=4)](/WeichenXu123) [![@sunishsheth2009](https://avatars.githubusercontent.com/u/5621432?s=52&v=4)](/sunishsheth2009)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from research.jfrog.com_57eee1ac_20250111_185243.html ===

[![JFrog Security Research](/assets/static/jfrog-logo-svg.5788598.74a3bea875bf053c65a0663c9ec9a0fd.svg)](/)JFrog Security Research

* [Discover](/vulnerabilities/)
* [Follow JFrog Security
  ![twitter](/assets/static/twitter.e0519be.9769aec62433fd58c76ad32c2d613842.svg)](https://twitter.com/JFrogSecurity)
![Menu](/assets/static/hamburger.a58a0fd.dc5087fee70346d455e75c87bc430716.svg)![Menu](data:image/svg+xml...)![Menu](/assets/static/close.5cd2673.91b568c73f917f773ea7915d69802829.svg)

* [Home](/)
* [Discover](/vulnerabilities/)
* [Follow JFrog Security](https://twitter.com/JFrogSecurity)
[< Back](/vulnerabilities/)
# JFSA-2024-000631930 - MLflow untrusted recipe XSS

CVE-2024-27132

 JFrog Severity:high

Discovered By**Uriya Yavnieli**of the JFrog Security Research Team

Published 23 Feb, 2024 | Last updated 23 Feb, 2024

## [Summary](#summary)

Insufficient sanitization in MLflow leads to XSS when running an untrusted recipe.

## [Component](#component)

mlflow

## [Affected versions](#affected-versions)

(,2.9.2]

## [Description](#description)

Insufficient sanitization in MLflow leads to XSS when running an untrusted recipe.
This issue leads to a client-side RCE when running an untrusted recipe in Jupyter Notebook.
The vulnerability stems from lack of sanitization over template variables.

## [PoC](#poc)

The following mlflow code would be vulnerable to this issue, when using an untrusted Recipe -

```
from mlflow.recipes import Recipe
from mlflow.pyfunc import PyFuncModel
from IPython.core.debugger import set_trace
regression_recipe = Recipe(profile="local")
# Run the full recipe
regression_recipe.run()
# Inspect the model training results
regression_recipe.inspect(step="train")
# Load the trained model
regression_model_recipe: PyFuncModel = regression_recipe.get_artifact("model")

```
## [Vulnerability Mitigations](#vulnerability-mitigations)

No mitigations are supplied for this issue

## [References](#references)

[Fix PR](https://github.com/mlflow/mlflow/pull/10873)

[< Back](/vulnerabilities/)[![JFrog Security Research](/assets/static/jfrog-logo-svg.5788598.74a3bea875bf053c65a0663c9ec9a0fd.svg)](/)

* [Terms of Use](https://jfrog.com/terms-of-use/)
* [Cookies Policy](https://jfrog.com/jfrog-cookies-policy/)
* [Privacy Policy](https://jfrog.com/privacy-policy/)
* Cookies Settings

©2025 All Rights Reserved. JFrog Ltd.


