
[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fcommit%2Ff07a0213e655202188840b864be4438ae1067a13)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fcommit%2Ff07a0213e655202188840b864be4438ae1067a13)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=eProsima%2FFast-DDS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[eProsima](/eProsima)
/
**[Fast-DDS](/eProsima/Fast-DDS)**
Public

* [Notifications](/login?return_to=%2FeProsima%2FFast-DDS) You must be signed in to change notification settings
* [Fork
  787](/login?return_to=%2FeProsima%2FFast-DDS)
* [Star
   2.3k](/login?return_to=%2FeProsima%2FFast-DDS)

* [Code](/eProsima/Fast-DDS)
* [Issues
  48](/eProsima/Fast-DDS/issues)
* [Pull requests
  78](/eProsima/Fast-DDS/pulls)
* [Discussions](/eProsima/Fast-DDS/discussions)
* [Actions](/eProsima/Fast-DDS/actions)
* [Projects
  0](/eProsima/Fast-DDS/projects)
* [Security](/eProsima/Fast-DDS/security)
* [Insights](/eProsima/Fast-DDS/pulse)

Additional navigation options

* [Code](/eProsima/Fast-DDS)
* [Issues](/eProsima/Fast-DDS/issues)
* [Pull requests](/eProsima/Fast-DDS/pulls)
* [Discussions](/eProsima/Fast-DDS/discussions)
* [Actions](/eProsima/Fast-DDS/actions)
* [Projects](/eProsima/Fast-DDS/projects)
* [Security](/eProsima/Fast-DDS/security)
* [Insights](/eProsima/Fast-DDS/pulse)

## Commit

[Permalink](/eProsima/Fast-DDS/commit/f07a0213e655202188840b864be4438ae1067a13)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Honor allow\_unauthenticated\_participants flag ([#3385](https://github.com/eProsima/Fast-DDS/pull/3385)) ([#3520](https://github.com/eProsima/Fast-DDS/pull/3520))

[Browse files](/eProsima/Fast-DDS/tree/f07a0213e655202188840b864be4438ae1067a13)
Browse the repository at this point in the history

```
* Refs #17294: Add communication Simple Test

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Retrieve allow_unauthenticated_participants from governance rules

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: on_validation_failed() method on Security Manager. Honor allow_unauthenticated flag

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: EndpointSecurityAttributes false on construction. Dont take nothing for granted

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Linter

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: BlackBox Tests

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Fix exponential times when sending handshake request

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Resolve to validation_failed if the number of handshake requests sent exceeds a limit

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: add notify_secure_endpoints flag to notifyAboveRemoteEndpoints()

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: add assign_secure_endpoints flag to EDP assignRemoteEndpoints()

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: add assign_secure_endpoints flag to WLP assignRemoteEndpoints()

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: honor allow_unauthenticated_participants if validation fails

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Linter

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: remove extra header

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Added suggested test case scenario

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

* Refs #17294: Fix Security Memory Leaks and Corrected Condition

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>

---------

Signed-off-by: Mario Dominguez <mariodominguez@eprosima.com>
(cherry picked from commit [9adaf25](https://github.com/eProsima/Fast-DDS/commit/9adaf251b4708617e4364ba167da641e25a3f7de))

Co-authored-by: Mario Domínguez López <116071334+Mario-DL@users.noreply.github.com>
```

* Loading branch information

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=40&v=4)](/marketplace/mergify) [![@Mario-DL](https://avatars.githubusercontent.com/u/116071334?s=40&v=4)](/Mario-DL)

[mergify[bot]](/eProsima/Fast-DDS/commits?author=mergify%5Bbot%5D "View all commits by mergify[bot]")
and
[Mario-DL](/eProsima/Fast-DDS/commits?author=Mario-DL "View all commits by Mario-DL")
authored
Jun 5, 2023

1 parent
[ef180e2](/eProsima/Fast-DDS/commit/ef180e220dd286b2bcc545536e78e46a6544ed3e)

commit f07a021

 Show file tree

 Hide file tree

Showing
**57 changed files**
with
**1,678 additions**
and
**151 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* include/fastdds/rtps

  + builtin

    - discovery

      * endpoint

        + include/fastdds/rtps/builtin/discovery/endpoint/EDP.h
          [EDP.h](#diff-df3c765d6e6f7c461d6f63404da4e31b8a79797863330eed025d6fbb822cb74a)
        + include/fastdds/rtps/builtin/discovery/endpoint/EDPSimple.h
          [EDPSimple.h](#diff-e910f55f42f3eb2e8f59719350efa16339b30d51decd82f6cd5c02a25c1b0a37)
        + include/fastdds/rtps/builtin/discovery/endpoint/EDPStatic.h
          [EDPStatic.h](#diff-e21b2e5c098620fa91f3561801bc1d71127ce0495e65bad53c64d0014c00ed2b)
      * participant

        + include/fastdds/rtps/builtin/discovery/participant/PDP.h
          [PDP.h](#diff-5a2ff98371f4cb401f8a248874463c40a4b405221164c31be21e29d8e8911b9c)
        + include/fastdds/rtps/builtin/discovery/participant/PDPSimple.h
          [PDPSimple.h](#diff-14d7b58280b73856bfbd5d872fc65a44907722494984c7a53d86715f262f7041)
    - liveliness

      * include/fastdds/rtps/builtin/liveliness/WLP.h
        [WLP.h](#diff-6f7d8baa11b64c0b9434bc489685deb5626890cc4fde2f736fc18a9f3a9b6511)
  + security/accesscontrol

    - include/fastdds/rtps/security/accesscontrol/EndpointSecurityAttributes.h
      [EndpointSecurityAttributes.h](#diff-bb5af4732cfdfb37a3495c815918aa069dca7d15f6cb4c1ed7f2368cfd7c6285)
* src/cpp

  + rtps

    - builtin

      * discovery

        + endpoint

          - src/cpp/rtps/builtin/discovery/endpoint/EDPSimple.cpp
            [EDPSimple.cpp](#diff-87d4f80f7a794b767f4d500c78d71c7bc447f87026ce3c1f45269911638a0427)
          - src/cpp/rtps/builtin/discovery/endpoint/EDPStatic.cpp
            [EDPStatic.cpp](#diff-c384bfe7dae7ef4c25c6eb09efa63f6e82c47b5a7dafed43f439bfb225202cd5)
        + participant

          - src/cpp/rtps/builtin/discovery/participant/PDPClient.cpp
            [PDPClient.cpp](#diff-ea4a9f4ae59cc71c3bb0478382c893462a95bae2c0d8504b19dfb13a1a984457)
          - src/cpp/rtps/builtin/discovery/participant/PDPClient.h
            [PDPClient.h](#diff-85be9b4a6d1abc0f4513b8a68cb76bfe771840413246ce3885d5afb902b3c203)
          - src/cpp/rtps/builtin/discovery/participant/PDPListener.cpp
            [PDPListener.cpp](#diff-4716be00d7038bf256e2eab48c89d12d41cc1c253e4e7c68ce075c2a61d33060)
          - src/cpp/rtps/builtin/discovery/participant/PDPServer.cpp
            [PDPServer.cpp](#diff-56b23866a90ffcf208e729e2afdd347e81a0a903eec3531272b0a3ba983536c5)
          - src/cpp/rtps/builtin/discovery/participant/PDPServer.hpp
            [PDPServer.hpp](#diff-88016934dac6369da3df35e053da7a3260ba53d297675a90b4a70744b135f247)
          - src/cpp/rtps/builtin/discovery/participant/PDPServerListener.cpp
            [PDPServerListener.cpp](#diff-3a8f686d09809f275db1349ffa8f940e5636fcfaf94fa2be5e3348e353283b56)
          - src/cpp/rtps/builtin/discovery/participant/PDPSimple.cpp
            [PDPSimple.cpp](#diff-c99cdcc9c9ac755e92c309ceb5097c5590799e9722ad9f27ef884a6d9d105846)
          - timedevent

            * src/cpp/rtps/builtin/discovery/participant/timedevent/DSClientEvent.cpp
              [DSClientEvent.cpp](#diff-c284654b01cc1e7337a81629162a99139ac8b1e09516ecf0a088cdd45924fed9)
      * liveliness

        + src/cpp/rtps/builtin/liveliness/WLP.cpp
          [WLP.cpp](#diff-f9ec04d8a2c8ad8c845848ee1917a4007f1f1eb5bc93f45a7ca15f2d442ec87e)
    - security

      * src/cpp/rtps/security/SecurityManager.cpp
        [SecurityManager.cpp](#diff-196ca7d94f1ae6a62cc591590a6742796c6201afbdbfe84ebedd40d225e12888)
      * src/cpp/rtps/security/SecurityManager.h
        [SecurityManager.h](#diff-d0e76b0709b7fdbad6b50985d69084bbaab457688e79fe98e2df5805a0da2787)
  + security

    - accesscontrol

      * src/cpp/security/accesscontrol/Permissions.cpp
        [Permissions.cpp](#diff-a9923d15439c71170bbfd855d3c33fac09f839272083bf8ea56a3af71977d9cb)
    - authentication

      * src/cpp/security/authentication/PKIDH.cpp
        [PKIDH.cpp](#diff-b8725b82c39548c31026b866d01f3cb18b618f89ff151ae3f701fa04891e040d)
* test

  + blackbox/common

    - test/blackbox/common/BlackboxTestsSecurity.cpp
      [BlackboxTestsSecurity.cpp](#diff-c875ffe0203903a09d102f401a8749bd255b84696d69d7afa508b4976437bcf3)
  + certs

    - certs

      * test/certs/certs/AE7BAD8C075AEAF8.pem
        [AE7BAD8C075AEAF8.pem](#diff-27c4e6047477f8936e46735bb911d5ecd7847e9b004808b3053791d20c17531d)
    - test/certs/ecdsaparam
      [ecdsaparam](#diff-646a5a0cba2b8511c80a7b8f8da9d3b650c77b6fed75361712e3314a7dc5cdf8)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_access\_none.smime
      [governance\_allow\_unauth\_all\_disabled\_access\_none.smime](#diff-cf9359ac7257e2e76e5ea29c5a424dfe9c28da7ca9c58ed0ffce42172f18379f)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_access\_none.xml
      [governance\_allow\_unauth\_all\_disabled\_access\_none.xml](#diff-4cc62a37a0ea3501fad69ba8c8fcae2b2af8d51d69c0780ba1521122718a6436)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_access\_none\_other\_ca.smime
      [governance\_allow\_unauth\_all\_disabled\_access\_none\_other\_ca.smime](#diff-14834c016d1127b4fda2449e97c55b69bf0b3000308af5beec1f8a1c2abf3166)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled.smime
      [governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled.smime](#diff-2def8e65245e159bd902320ba502bd38a01d8ad0b417a6438c02aa6d9d26fa18)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled.xml
      [governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled.xml](#diff-2310481c1f4bb5a550e9690dda5c198f7f92fe0e25d22775662fa4f5672ff35b)
    - test/certs/governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled\_other\_ca.smime
      [governance\_allow\_unauth\_all\_disabled\_read\_write\_enabled\_other\_ca.smime](#diff-036a683767c704b9dbdb63089060d92f24ae6693e767656cc77c8d171a15317b)
    - test/certs/governance\_allow\_unauth\_rtps\_encrypt.smime
      [governance\_allow\_unauth\_rtps\_encrypt.smime](#diff-aa357c204bc3dd3d1b589f7503d3bf7fa16d87330d4f901d198ee6998a156116)
    - test/certs/governance\_allow\_unauth\_rtps\_encrypt.xml
      [governance\_allow\_unauth\_rtps\_encrypt.xml](#diff-b97b8f2a8a6eaa20df3d6c37da5a7f43dd20c2c9bce21d287350fb9f97915007)
    - test/certs/index\_other.txt
      [index\_other.txt](#diff-0f1f54b17d49f39c4dffb8c91560a3175734d149948ae88bb377b88fb43e88fd)
    - test/certs/othercacert.pem
      [othercacert.pem](#diff-8f67d7b79450abce71e589f77dfbe170c2fdc3aaaab11a596db986444b36cca4)
    - test/certs/othercacert.txt
      [othercacert.txt](#diff-30204f05e5bfe3edb45beac9adeb3a98de60e5d91e82ccdd918ff4728d561e69)
    - test/certs/othercaconf.cnf
      [othercaconf.cnf](#diff-324f7a0a47755e33f11833c2495f9bdf8338ed039219852f8d4e0b8b52f6a819)
    - test/certs/othercakey.pem
      [othercakey.pem](#diff-13c3573dedb641f3c3e314628e9de135997710354b316dd0fb85cf270618d690)
    - test/certs/othersub.cnf
      [othersub.cnf](#diff-eb56878b49a2fbebf9cdcfc8e2cdd233cc0e3949a08750ebcd9435d6f84d7cfa)
    - test/certs/othersubcert.pem
      [othersubcert.pem](#diff-3c7bcf0dc642943cb42498c350784013bf01848db0c5e6a89ea1d74e85dd291a)
    - test/certs/othersubcert.txt
      [othersubcert.txt](#diff-14a04e0be62a7341f46365ddc46a728011fefaffc262b920e467f54a9ac3268a)
    - test/certs/othersubkey.pem
      [othersubkey.pem](#diff-dad7d12343ef9f6019bb0a39c1a69ac295cfc86beb933bfa80146a17cc27af62)
    - test/certs/othersubreq.pem
      [othersubreq.pem](#diff-9d3f9cd9d8485e7275515d8d54f592e3a52bf5efc0cb1d095c2a70356b59ef6f)
    - test/certs/permissions\_helloworld\_securehelloworld.smime
      [permissions\_helloworld\_securehelloworld.smime](#diff-519b70635fbb8bdbc5220f564bd2d55fd9185e5e2f3999ec9bef5a2cfab6dccc)
    - test/certs/permissions\_helloworld\_securehelloworld.xml
      [permissions\_helloworld\_securehelloworld.xml](#diff-defaf7c18daf300a6161a97f9d1dd8f9d4fe4fe1431102c8e22c001eecd57d13)
    - test/certs/permissions\_helloworld\_securehelloworld\_other\_ca.smime
      [permissions\_helloworld\_securehelloworld\_other\_ca.smime](#diff-778ee78b8b793d56aec93708dc64e1d1a980719778c80bf04833149d9ebeda78)
    - test/certs/permissions\_helloworld\_securehelloworld\_other\_ca.xml
      [permissions\_helloworld\_securehelloworld\_other\_ca.xml](#diff-c8118e3923c49d7cdf251851f7fd4d91ca8b7cfebcbff1e3c63405ba1bc1da85)
    - test/certs/serial\_other
      [serial\_other](#diff-986a7dde3cf6a0ff464e191110fe694a89cf8311458b97e9295ca391387ce0dd)
  + communication

    - test/communication/CMakeLists.txt
      [CMakeLists.txt](#diff-6cad93b063fb6d463ba627e32b899eb7d83feee8624ab1d539fc7bcb7de45a6a)
    - test/communication/simple\_allow\_unauthenticated\_sub\_profile.xml
      [simple\_allow\_unauthenticated\_sub\_profile.xml](#diff-4720dbee7efd5a0e8fbe0fb1f1a895510115d66298182a4f3c8bd8b041115c29)
    - test/communication/simple\_secure\_allow\_unauthenticated\_pub\_profile.xml
      [simple\_secure\_allow\_unauthenticated\_pub\_profile.xml](#diff-2c2d84b9aca3d8235eedc1fb08cb256d3ab22e5c934402d644e8d154b200add0)
  + mock/rtps

    - PDP/fastdds/rtps/builtin/discovery/participant

      * test/mock/rtps/PDP/fastdds/rtps/builtin/discovery/participant/PDP.h
        [PDP.h](#diff-3a4e5fbc10d372150eed1344155657cc7187b272da6bc39a861bd284846a3318)
    - PDPSimple/fastdds/rtps/builtin/discovery/participant

      * test/mock/rtps/PDPSimple/fastdds/rtps/builtin/discovery/participant/PDPSimple.h
        [PDPSimple.h](#diff-318d359dc4b31e74308649f134d95e744a55cdfb6c7ed3a695958b35f5c04017)
  + unittest/rtps

    - discovery

      * test/unittest/rtps/discovery/EdpTests.cpp
        [EdpTests.cpp](#diff-06b6b40d3daf5f95c583351ff890b89302cbd940087b90b677daae44002b0c5e)
    - security

      * test/unittest/rtps/security/SecurityHandshakeProcessTests.cpp
        [SecurityHandshakeProcessTests.cpp](#diff-8389944eaeaf094a0cac8b021ccbf3a25e80897e879402d5e79662a03c5d91cc)
      * test/unittest/rtps/security/SecurityTests.cpp
        [SecurityTests.cpp](#diff-24eb94542ab20bdc518e1e23b94d77d87f67f40a766945428c53700951f1212a)
      * test/unittest/rtps/security/SecurityValidationRemoteTests.cpp
        [SecurityValidationRemoteTests.cpp](#diff-233f34bd870000f58dd7db5eba43aa52ea31e5ccb11f49a8c44aa7020576f5f8)

## There are no files selected for viewing

4 changes: 3 additions & 1 deletion

4
[include/fastdds/rtps/builtin/discovery/endpoint/EDP.h](#diff-df3c765d6e6f7c461d6f63404da4e31b8a79797863330eed025d6fbb822cb74a "include/fastdds/rtps/builtin/discovery/endpoint/EDP.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/discovery/endpoint/EDP.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -103,9 +103,11 @@ class EDP |
|  |  | /\*\* |
|  |  | \* Abstract method that assigns remote endpoints when a new RTPSParticipantProxyData is discovered. |
|  |  | \* @param pdata Discovered ParticipantProxyData |
|  |  | \* @param assign\_secure\_endpoints Whether to try assigning secure endpoints |
|  |  | \*/ |
|  |  | virtual void assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) = 0; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool assign\_secure\_endpoints) = 0; |
|  |  | /\*\* |
|  |  | \* Remove remote endpoints from the endpoint discovery protocol |
|  |  | \* @param pdata Pointer to the ParticipantProxyData to remove |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[include/fastdds/rtps/builtin/discovery/endpoint/EDPSimple.h](#diff-e910f55f42f3eb2e8f59719350efa16339b30d51decd82f6cd5c02a25c1b0a37 "include/fastdds/rtps/builtin/discovery/endpoint/EDPSimple.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/discovery/endpoint/EDPSimple.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -102,9 +102,11 @@ class EDPSimple : public EDP |
|  |  | /\*\* |
|  |  | \* This method assigns the remote builtin endpoints that the remote RTPSParticipant indicates is using to our local builtin endpoints. |
|  |  | \* @param pdata Pointer to the RTPSParticipantProxyData object. |
|  |  | \* @param assign\_secure\_endpoints Whether to try assigning secure endpoints |
|  |  | \*/ |
|  |  | void assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) override; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool assign\_secure\_endpoints) override; |
|  |  | /\*\* |
|  |  | \* Remove remote endpoints from the endpoint discovery protocol |
|  |  | \* @param pdata Pointer to the ParticipantProxyData to remove |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[include/fastdds/rtps/builtin/discovery/endpoint/EDPStatic.h](#diff-e21b2e5c098620fa91f3561801bc1d71127ce0495e65bad53c64d0014c00ed2b "include/fastdds/rtps/builtin/discovery/endpoint/EDPStatic.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/discovery/endpoint/EDPStatic.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -66,9 +66,11 @@ class EDPStatic : public EDP |
|  |  | /\*\* |
|  |  | \* Abstract method that assigns remote endpoints when a new RTPSParticipantProxyData is discovered. |
|  |  | \* @param pdata Pointer to the ParticipantProxyData. |
|  |  | \* @param assign\_secure\_endpoints Whether to try assigning secure endpoints |
|  |  | \*/ |
|  |  | void assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) override; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool assign\_secure\_endpoints) override; |
|  |  | /\*\* |
|  |  | \* Abstract method that removes a local Reader from the discovery method |
|  |  | \* @param R Pointer to the Reader to remove. |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[include/fastdds/rtps/builtin/discovery/participant/PDP.h](#diff-5a2ff98371f4cb401f8a248874463c40a4b405221164c31be21e29d8e8911b9c "include/fastdds/rtps/builtin/discovery/participant/PDP.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/discovery/participant/PDP.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -279,9 +279,11 @@ class PDP |
|  |  | /\*\* |
|  |  | \* Override to match additional endpoints to PDP. Like EDP or WLP. |
|  |  | \* @param pdata Pointer to the ParticipantProxyData object. |
|  |  | \* @param notify\_secure\_endpoints Whether to try notifying secure endpoints. |
|  |  | \*/ |
|  |  | virtual void notifyAboveRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) = 0; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool notify\_secure\_endpoints) = 0; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Some PDP classes require EDP matching with update PDP DATAs like EDPStatic |
| Expand Down | |  |

8 changes: 5 additions & 3 deletions

8
[include/fastdds/rtps/builtin/discovery/participant/PDPSimple.h](#diff-14d7b58280b73856bfbd5d872fc65a44907722494984c7a53d86715f262f7041 "include/fastdds/rtps/builtin/discovery/participant/PDPSimple.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/discovery/participant/PDPSimple.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -100,11 +100,13 @@ class PDPSimple : public PDP |
|  |  | ParticipantProxyData\* pdata) override; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* This method notifies EDP and WLP of the existence of a new participant. |
|  |  | \* @param pdata |
|  |  | \* Override to match additional endpoints to PDP. Like EDP or WLP. |
|  |  | \* @param pdata Pointer to the ParticipantProxyData object. |
|  |  | \* @param notify\_secure\_endpoints Whether to try notifying secure endpoints. |
|  |  | \*/ |
|  |  | void notifyAboveRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) override; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool notify\_secure\_endpoints) override; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Activate a new Remote Endpoint that has been statically discovered. |
| Expand Down | |  |

4 changes: 3 additions & 1 deletion

4
[include/fastdds/rtps/builtin/liveliness/WLP.h](#diff-6f7d8baa11b64c0b9434bc489685deb5626890cc4fde2f736fc18a9f3a9b6511 "include/fastdds/rtps/builtin/liveliness/WLP.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/builtin/liveliness/WLP.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,10 +81,12 @@ class WLP |
|  |  | /\*\* |
|  |  | \* Assign the remote endpoints for a newly discovered RTPSParticipant. |
|  |  | \* @param pdata Pointer to the RTPSParticipantProxyData object. |
|  |  | \* @param assign\_secure\_endpoints Whether to try assigning secure endpoints. |
|  |  | \* @return True if correct. |
|  |  | \*/ |
|  |  | bool assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata); |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool assign\_secure\_endpoints); |
|  |  | /\*\* |
|  |  | \* Remove remote endpoints from the liveliness protocol. |
|  |  | \* @param pdata Pointer to the ParticipantProxyData to remove |
| Expand Down | |  |

129 changes: 87 additions & 42 deletions

129
[include/fastdds/rtps/security/accesscontrol/EndpointSecurityAttributes.h](#diff-bb5af4732cfdfb37a3495c815918aa069dca7d15f6cb4c1ed7f2368cfd7c6285 "include/fastdds/rtps/security/accesscontrol/EndpointSecurityAttributes.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/include/fastdds/rtps/security/accesscontrol/EndpointSecurityAttributes.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -36,14 +36,19 @@ typedef uint32\_t PluginEndpointSecurityAttributesMask; |
|  |  |  |
|  |  | struct PluginEndpointSecurityAttributes |
|  |  | { |
|  |  | PluginEndpointSecurityAttributes() : |
|  |  | is\_submessage\_encrypted(false), is\_submessage\_origin\_authenticated(false), is\_payload\_encrypted(false) |
|  |  | { } |
|  |  |  |
|  |  | explicit PluginEndpointSecurityAttributes(const PluginEndpointSecurityAttributesMask mask) : |
|  |  | is\_submessage\_encrypted((mask & PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ENCRYPTED) != 0), |
|  |  | is\_submessage\_origin\_authenticated((mask & PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ORIGIN\_AUTHENTICATED) != 0), |
|  |  | is\_payload\_encrypted((mask & PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_ENCRYPTED) != 0) |
|  |  | PluginEndpointSecurityAttributes() |
|  |  | : is\_submessage\_encrypted(false) |
|  |  | , is\_submessage\_origin\_authenticated(false) |
|  |  | , is\_payload\_encrypted(false) |
|  |  | { |
|  |  | } |
|  |  |  |
|  |  | explicit PluginEndpointSecurityAttributes( |
|  |  | const PluginEndpointSecurityAttributesMask mask) |
|  |  | : is\_submessage\_encrypted((mask & PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ENCRYPTED) != 0) |
|  |  | , is\_submessage\_origin\_authenticated((mask & |
|  |  | PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ORIGIN\_AUTHENTICATED) != 0) |
|  |  | , is\_payload\_encrypted((mask & PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_ENCRYPTED) != 0) |
|  |  | { |
|  |  | } |
|  |  |  |
| Expand All | | @@ -54,11 +59,21 @@ struct PluginEndpointSecurityAttributes |
|  |  | inline PluginEndpointSecurityAttributesMask mask() const |
|  |  | { |
|  |  | PluginEndpointSecurityAttributesMask rv = PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_VALID; |
|  |  | if (is\_submessage\_encrypted) rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ENCRYPTED; |
|  |  | if (is\_submessage\_origin\_authenticated) rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ORIGIN\_AUTHENTICATED; |
|  |  | if (is\_payload\_encrypted) rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_ENCRYPTED; |
|  |  | if (is\_submessage\_encrypted) |
|  |  | { |
|  |  | rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ENCRYPTED; |
|  |  | } |
|  |  | if (is\_submessage\_origin\_authenticated) |
|  |  | { |
|  |  | rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_ORIGIN\_AUTHENTICATED; |
|  |  | } |
|  |  | if (is\_payload\_encrypted) |
|  |  | { |
|  |  | rv |= PLUGIN\_ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_ENCRYPTED; |
|  |  | } |
|  |  | return rv; |
|  |  | } |
|  |  |  |
|  |  | }; |
|  |  |  |
|  |  | typedef uint32\_t EndpointSecurityAttributesMask; |
| Expand All | | @@ -74,23 +89,30 @@ typedef uint32\_t EndpointSecurityAttributesMask; |
|  |  |  |
|  |  | struct EndpointSecurityAttributes |
|  |  | { |
|  |  | EndpointSecurityAttributes() : |
|  |  | is\_read\_protected(true), is\_write\_protected(true), |
|  |  | is\_discovery\_protected(false), is\_liveliness\_protected(false), |
|  |  | is\_submessage\_protected(false), is\_payload\_protected(false), is\_key\_protected(false), |
|  |  | plugin\_endpoint\_attributes(0UL) |
|  |  | {} |
|  |  |  |
|  |  | explicit EndpointSecurityAttributes(const EndpointSecurityAttributesMask mask) : |
|  |  | is\_read\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_READ\_PROTECTED) != 0), |
|  |  | is\_write\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_WRITE\_PROTECTED) != 0), |
|  |  | is\_discovery\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_DISCOVERY\_PROTECTED) != 0), |
|  |  | is\_liveliness\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_LIVELINESS\_PROTECTED) != 0), |
|  |  | is\_submessage\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_PROTECTED) != 0), |
|  |  | is\_payload\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_PROTECTED) != 0), |
|  |  | is\_key\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_KEY\_PROTECTED) != 0), |
|  |  | plugin\_endpoint\_attributes(0UL) |
|  |  | {} |
|  |  | EndpointSecurityAttributes() |
|  |  | : is\_read\_protected(false) |
|  |  | , is\_write\_protected(false) |
|  |  | , is\_discovery\_protected(false) |
|  |  | , is\_liveliness\_protected(false) |
|  |  | , is\_submessage\_protected(false) |
|  |  | , is\_payload\_protected(false) |
|  |  | , is\_key\_protected(false) |
|  |  | , plugin\_endpoint\_attributes(0UL) |
|  |  | { |
|  |  | } |
|  |  |  |
|  |  | explicit EndpointSecurityAttributes( |
|  |  | const EndpointSecurityAttributesMask mask) |
|  |  | : is\_read\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_READ\_PROTECTED) != 0) |
|  |  | , is\_write\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_WRITE\_PROTECTED) != 0) |
|  |  | , is\_discovery\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_DISCOVERY\_PROTECTED) != 0) |
|  |  | , is\_liveliness\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_LIVELINESS\_PROTECTED) != 0) |
|  |  | , is\_submessage\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_PROTECTED) != 0) |
|  |  | , is\_payload\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_PROTECTED) != 0) |
|  |  | , is\_key\_protected((mask & ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_KEY\_PROTECTED) != 0) |
|  |  | , plugin\_endpoint\_attributes(0UL) |
|  |  | { |
|  |  | } |
|  |  |  |
|  |  | bool is\_read\_protected; |
|  |  |  |
| Expand All | | @@ -111,27 +133,50 @@ struct EndpointSecurityAttributes |
|  |  | inline EndpointSecurityAttributesMask mask() const |
|  |  | { |
|  |  | EndpointSecurityAttributesMask rv = ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_VALID; |
|  |  | if (is\_read\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_READ\_PROTECTED; |
|  |  | if (is\_write\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_WRITE\_PROTECTED; |
|  |  | if (is\_discovery\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_DISCOVERY\_PROTECTED; |
|  |  | if (is\_liveliness\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_LIVELINESS\_PROTECTED; |
|  |  | if (is\_submessage\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_PROTECTED; |
|  |  | if (is\_payload\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_PROTECTED; |
|  |  | if (is\_key\_protected) rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_KEY\_PROTECTED; |
|  |  | if (is\_read\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_READ\_PROTECTED; |
|  |  | } |
|  |  | if (is\_write\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_WRITE\_PROTECTED; |
|  |  | } |
|  |  | if (is\_discovery\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_DISCOVERY\_PROTECTED; |
|  |  | } |
|  |  | if (is\_liveliness\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_LIVELINESS\_PROTECTED; |
|  |  | } |
|  |  | if (is\_submessage\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_SUBMESSAGE\_PROTECTED; |
|  |  | } |
|  |  | if (is\_payload\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_PAYLOAD\_PROTECTED; |
|  |  | } |
|  |  | if (is\_key\_protected) |
|  |  | { |
|  |  | rv |= ENDPOINT\_SECURITY\_ATTRIBUTES\_FLAG\_IS\_KEY\_PROTECTED; |
|  |  | } |
|  |  | return rv; |
|  |  | } |
|  |  |  |
|  |  | inline bool match(const EndpointSecurityAttributesMask remoteMask, |
|  |  | const PluginEndpointSecurityAttributesMask remotePluginMask) const |
|  |  | inline bool match( |
|  |  | const EndpointSecurityAttributesMask remoteMask, |
|  |  | const PluginEndpointSecurityAttributesMask remotePluginMask) const |
|  |  | { |
|  |  | return security\_mask\_matches(mask(), remoteMask) && |
|  |  | security\_mask\_matches(plugin\_endpoint\_attributes, remotePluginMask); |
|  |  | security\_mask\_matches(plugin\_endpoint\_attributes, remotePluginMask); |
|  |  | } |
|  |  |  |
|  |  | }; |
|  |  |  |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  | } // namespace security |
|  |  | } // namespace rtps |
|  |  | } // namespace fastrtps |
|  |  | } // namespace eprosima |
|  |  |  |
|  |  | #endif // \_FASTDDS\_RTPS\_SECURITY\_ACCESSCONTROL\_ENDPOINTSECURITYATTRIBUTES\_H\_ |

14 changes: 9 additions & 5 deletions

14
[src/cpp/rtps/builtin/discovery/endpoint/EDPSimple.cpp](#diff-87d4f80f7a794b767f4d500c78d71c7bc447f87026ce3c1f45269911638a0427 "src/cpp/rtps/builtin/discovery/endpoint/EDPSimple.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/endpoint/EDPSimple.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -825,7 +825,8 @@ bool EDPSimple::removeLocalReader( |
|  |  | } |
|  |  |  |
|  |  | void EDPSimple::assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool assign\_secure\_endpoints) |
|  |  | { |
|  |  | EPROSIMA\_LOG\_INFO(RTPS\_EDP, "New DPD received, adding remote endpoints to our SimpleEDP endpoints"); |
|  |  | const NetworkFactory& network = mp\_RTPSParticipant->network\_factory(); |
| Expand Down  Expand Up | | @@ -890,7 +891,7 @@ void EDPSimple::assignRemoteEndpoints( |
|  |  | #if HAVE\_SECURITY |
|  |  | auxendp = endp; |
|  |  | auxendp &= DISC\_BUILTIN\_ENDPOINT\_PUBLICATION\_SECURE\_ANNOUNCER; |
|  |  | if (auxendp != 0 && publications\_secure\_reader\_.first != nullptr) |
|  |  | if (auxendp != 0 && publications\_secure\_reader\_.first != nullptr && assign\_secure\_endpoints) |
|  |  | { |
|  |  | temp\_writer\_proxy\_data->guid().entityId = sedp\_builtin\_publications\_secure\_writer; |
|  |  | temp\_writer\_proxy\_data->set\_persistence\_entity\_id(sedp\_builtin\_publications\_secure\_writer); |
| Expand All | | @@ -906,7 +907,7 @@ void EDPSimple::assignRemoteEndpoints( |
|  |  |  |
|  |  | auxendp = endp; |
|  |  | auxendp &= DISC\_BUILTIN\_ENDPOINT\_PUBLICATION\_SECURE\_DETECTOR; |
|  |  | if (auxendp != 0 && publications\_secure\_writer\_.first != nullptr) |
|  |  | if (auxendp != 0 && publications\_secure\_writer\_.first != nullptr && assign\_secure\_endpoints) |
|  |  | { |
|  |  | temp\_reader\_proxy\_data->guid().entityId = sedp\_builtin\_publications\_secure\_reader; |
|  |  | if (!mp\_RTPSParticipant->security\_manager().discovered\_builtin\_reader( |
| Expand All | | @@ -920,7 +921,7 @@ void EDPSimple::assignRemoteEndpoints( |
|  |  |  |
|  |  | auxendp = endp; |
|  |  | auxendp &= DISC\_BUILTIN\_ENDPOINT\_SUBSCRIPTION\_SECURE\_ANNOUNCER; |
|  |  | if (auxendp != 0 && subscriptions\_secure\_reader\_.first != nullptr) |
|  |  | if (auxendp != 0 && subscriptions\_secure\_reader\_.first != nullptr && assign\_secure\_endpoints) |
|  |  | { |
|  |  | temp\_writer\_proxy\_data->guid().entityId = sedp\_builtin\_subscriptions\_secure\_writer; |
|  |  | temp\_writer\_proxy\_data->set\_persistence\_entity\_id(sedp\_builtin\_subscriptions\_secure\_writer); |
| Expand All | | @@ -936,7 +937,7 @@ void EDPSimple::assignRemoteEndpoints( |
|  |  |  |
|  |  | auxendp = endp; |
|  |  | auxendp &= DISC\_BUILTIN\_ENDPOINT\_SUBSCRIPTION\_SECURE\_DETECTOR; |
|  |  | if (auxendp != 0 && subscriptions\_secure\_writer\_.first != nullptr) |
|  |  | if (auxendp != 0 && subscriptions\_secure\_writer\_.first != nullptr && assign\_secure\_endpoints) |
|  |  | { |
|  |  | EPROSIMA\_LOG\_INFO(RTPS\_EDP, "Adding SEDP Sub Reader to my Sub Writer"); |
|  |  | temp\_reader\_proxy\_data->guid().entityId = sedp\_builtin\_subscriptions\_secure\_reader; |
| Expand All | | @@ -948,7 +949,10 @@ void EDPSimple::assignRemoteEndpoints( |
|  |  | subscriptions\_secure\_writer\_.first->getGuid()); |
|  |  | } |
|  |  | } |
|  |  | #else |
|  |  | static\_cast<void>(assign\_secure\_endpoints); |
|  |  | #endif // if HAVE\_SECURITY |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  | void EDPSimple::removeRemoteEndpoints( |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[src/cpp/rtps/builtin/discovery/endpoint/EDPStatic.cpp](#diff-c384bfe7dae7ef4c25c6eb09efa63f6e82c47b5a7dafed43f439bfb225202cd5 "src/cpp/rtps/builtin/discovery/endpoint/EDPStatic.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/endpoint/EDPStatic.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -407,7 +407,8 @@ bool EDPStatic::removeLocalWriter( |
|  |  | } |
|  |  |  |
|  |  | void EDPStatic::assignRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool /\*assign\_secure\_endpoints\*/) |
|  |  | { |
|  |  | GUID\_t persistence\_guid; |
|  |  |  |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[src/cpp/rtps/builtin/discovery/participant/PDPClient.cpp](#diff-ea4a9f4ae59cc71c3bb0478382c893462a95bae2c0d8504b19dfb13a1a984457 "src/cpp/rtps/builtin/discovery/participant/PDPClient.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPClient.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -506,7 +506,8 @@ void PDPClient::assignRemoteEndpoints( |
|  |  | } |
|  |  |  |
|  |  | void PDPClient::notifyAboveRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool /\*notify\_secure\_endpoints\*/) |
|  |  | { |
|  |  | #if HAVE\_SECURITY |
|  |  | if (mp\_RTPSParticipant->is\_secure()) |
| Expand Down  Expand Up | | @@ -575,7 +576,7 @@ void PDPClient::perform\_builtin\_endpoints\_matching( |
|  |  | // No EDP notification needed. EDP endpoints would be match when PDP synchronization is granted |
|  |  | if (mp\_builtin->mp\_WLP != nullptr) |
|  |  | { |
|  |  | mp\_builtin->mp\_WLP->assignRemoteEndpoints(pdata); |
|  |  | mp\_builtin->mp\_WLP->assignRemoteEndpoints(pdata, true); |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[src/cpp/rtps/builtin/discovery/participant/PDPClient.h](#diff-85be9b4a6d1abc0f4513b8a68cb76bfe771840413246ce3885d5afb902b3c203 "src/cpp/rtps/builtin/discovery/participant/PDPClient.h")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPClient.h)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -123,7 +123,8 @@ class PDPClient : public PDP |
|  |  | void removeRemoteEndpoints( |
|  |  | ParticipantProxyData\* pdata) override; |
|  |  | void notifyAboveRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) override; |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool notify\_secure\_endpoints) override; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* This method removes a remote RTPSParticipant and all its writers and readers. |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/cpp/rtps/builtin/discovery/participant/PDPListener.cpp](#diff-4716be00d7038bf256e2eab48c89d12d41cc1c253e4e7c68ce075c2a61d33060 "src/cpp/rtps/builtin/discovery/participant/PDPListener.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPListener.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -197,7 +197,7 @@ void PDPListener::onNewCacheChangeAdded( |
|  |  |  |
|  |  | if (parent\_pdp\_->updateInfoMatchesEDP()) |
|  |  | { |
|  |  | parent\_pdp\_->mp\_EDP->assignRemoteEndpoints(\*pdata); |
|  |  | parent\_pdp\_->mp\_EDP->assignRemoteEndpoints(\*pdata, true); |
|  |  | } |
|  |  |  |
|  |  | lock.unlock(); |
| Expand Down | |  |

7 changes: 4 additions & 3 deletions

7
[src/cpp/rtps/builtin/discovery/participant/PDPServer.cpp](#diff-56b23866a90ffcf208e729e2afdd347e81a0a903eec3531272b0a3ba983536c5 "src/cpp/rtps/builtin/discovery/participant/PDPServer.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPServer.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -676,7 +676,8 @@ void PDPServer::assignRemoteEndpoints( |
|  |  | } |
|  |  |  |
|  |  | void PDPServer::notifyAboveRemoteEndpoints( |
|  |  | const ParticipantProxyData& pdata) |
|  |  | const ParticipantProxyData& pdata, |
|  |  | bool /\*notify\_secure\_endpoints\*/) |
|  |  | { |
|  |  | static\_cast<void>(pdata); |
|  |  | #if HAVE\_SECURITY |
| Expand Down  Expand Up | | @@ -723,12 +724,12 @@ void PDPServer::perform\_builtin\_endpoints\_matching( |
|  |  | //Inform EDP of new RTPSParticipant data: |
|  |  | if (mp\_EDP != nullptr) |
|  |  | { |
|  |  | mp\_EDP->assignRemoteEndpoints(pdata); |
|  |  | mp\_EDP->assignRemoteEndpoints(pdata, true); |
|  |  | } |
|  |  |  |
|  |  | if (mp\_builtin->mp\_WLP != nullptr) |
|  |  | { |
|  |  | mp\_builtin->mp\_WLP->assignRemoteEndpoints(pdata); |
|  |  | mp\_builtin->mp\_WLP->assignRemoteEndpoints(pdata, true); |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

3 changes: 2 additions & 1 deletion

3
[src/cpp/rtps/builtin/discovery/participant/PDPServer.hpp](#diff-88016934dac6369da3df35e053da7a3260ba53d297675a90b4a70744b135f247 "src/cpp/rtps/builtin/discovery/participant/PDPServer.hpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPServer.hpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -135,7 +135,8 @@ class PDPServer : public fastrtps::rtps::PDP |
|  |  | void removeRemoteEndpoints( |
|  |  | fastrtps::rtps::ParticipantProxyData\* pdata) override; |
|  |  | void notifyAboveRemoteEndpoints( |
|  |  | const fastrtps::rtps::ParticipantProxyData& pdata) override; |
|  |  | const fastrtps::rtps::ParticipantProxyData& pdata, |
|  |  | bool notify\_secure\_endpoints) override; |
|  |  |  |
|  |  | #if HAVE\_SECURITY |
|  |  | bool pairing\_remote\_writer\_with\_local\_reader\_after\_security( |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/cpp/rtps/builtin/discovery/participant/PDPServerListener.cpp](#diff-3a8f686d09809f275db1349ffa8f940e5636fcfaf94fa2be5e3348e353283b56 "src/cpp/rtps/builtin/discovery/participant/PDPServerListener.cpp")

Show comments

[View file](/eProsima/Fast-DDS/blob/f07a0213e655202188840b864be4438ae1067a13/src/cpp/rtps/builtin/discovery/participant/PDPServerListener.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -357,7 +357,7 @@ void PDPServerListener::onNewCacheChangeAdded( |
|  |  | // Included form symmetry with PDPListener to profit from a future updateInfoMatchesEDP override |
|  |  | if (pdp\_server()->updateInfoMatchesEDP() && is\_local) |
|  |  | { |
|  |  | pdp\_server()->mp\_EDP->assignRemoteEndpoints(\*pdata); |
|  |  | pdp\_server()->mp\_EDP->assignRemoteEndpoints(\*pdata, true); |
|  |  | } |
|  |  | } |
|  |  |  |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `f07a021`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FeProsima%2FFast-DDS%2Fcommit%2Ff07a0213e655202188840b864be4438ae1067a13) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.

