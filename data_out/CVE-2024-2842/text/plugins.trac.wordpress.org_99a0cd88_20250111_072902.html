

[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3059359%2540easy-appointments%26old%3D3059359%2540easy-appointments)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3055641/easy-appointments "Changeset 3055641 for easy-appointments")
* [Next Change](/changeset/3072630/easy-appointments "Changeset 3072630 for easy-appointments") →

---

# Changeset [3059359](/changeset/3059359 "Show full changeset") for [easy-appointments](/browser/easy-appointments?rev=3059359 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
03/26/2024 09:30:46 PM
([10 months](/timeline?from=2024-03-26T21%3A30%3A46Z&precision=second "See timeline at 03/26/2024 09:30:46 PM") ago)

Author:
loncar
Message:

New version 3.11.19

Location:
[easy-appointments/trunk](/browser/easy-appointments/trunk?rev=3059359)
Files:

6 edited

* [js/frontend-bootstrap.js](/browser/easy-appointments/trunk/js/frontend-bootstrap.js?rev=3059359 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [js/frontend.js](/browser/easy-appointments/trunk/js/frontend.js?rev=3059359 "Show entry in browser")
  (modified)
  ([2 diffs](#file1 "Show differences"))
* [main.php](/browser/easy-appointments/trunk/main.php?rev=3059359 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [readme.txt](/browser/easy-appointments/trunk/readme.txt?rev=3059359 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [src/ajax.php](/browser/easy-appointments/trunk/src/ajax.php?rev=3059359 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))
* [src/shortcodes/fullcalendar.php](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=3059359 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [easy-appointments/trunk/js/frontend-bootstrap.js](/changeset/3059359/easy-appointments/trunk/js/frontend-bootstrap.js "Show the changeset 3059359 restricted to easy-appointments/trunk/js/frontend-bootstrap.js")

  | [r3055641](/browser/easy-appointments/trunk/js/frontend-bootstrap.js?rev=3055641#L834 "Show revision 3055641 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/js/frontend-bootstrap.js?rev=3059359#L834 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 834 | 834 | plugin.res\_app = response.id; |
  | 835 | 835 |  |
  |  | 836 | plugin.$element.find('.ea-cancel').data('\_hash', response.\_hash); |
  |  | 837 |  |
  | 836 | 838 | plugin.$element.find('.step').addClass('disabled'); |
  | 837 | 839 | plugin.$element.find('.final').removeClass('disabled'); |
  | […](/browser/easy-appointments/trunk/js/frontend-bootstrap.js?rev=3055641#L1136) | […](/browser/easy-appointments/trunk/js/frontend-bootstrap.js?rev=3059359#L1138) |  |
  | 1136 | 1138 | this.$element.find('.step:not(.final)').prevAll('.step').removeClass('disabled'); |
  | 1137 | 1139 |  |
  |  | 1140 | var \_hash = plugin.$element.find('.ea-cancel').data('\_hash'); |
  |  | 1141 |  |
  | 1138 | 1142 | var options = { |
  | 1139 | 1143 | id: this.res\_app, |
  | 1140 | 1144 | check: ea\_settings['check'], |
  |  | 1145 | \_hash: \_hash, |
  | 1141 | 1146 | action: 'ea\_cancel\_appointment' |
  | 1142 | 1147 | }; |
* ## [easy-appointments/trunk/js/frontend.js](/changeset/3059359/easy-appointments/trunk/js/frontend.js "Show the changeset 3059359 restricted to easy-appointments/trunk/js/frontend.js")

  | [r3055641](/browser/easy-appointments/trunk/js/frontend.js?rev=3055641#L585 "Show revision 3055641 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/js/frontend.js?rev=3059359#L585 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 585 | 585 | plugin.res\_app = response.id; |
  | 586 | 586 |  |
  |  | 587 | plugin.$element.find('.ea-cancel').data('\_hash', response.\_hash); |
  |  | 588 |  |
  | 587 | 589 | plugin.$element.find('.step').addClass('disabled'); |
  | 588 | 590 | plugin.$element.find('.final').removeClass('disabled'); |
  | […](/browser/easy-appointments/trunk/js/frontend.js?rev=3055641#L745) | […](/browser/easy-appointments/trunk/js/frontend.js?rev=3059359#L747) |  |
  | 745 | 747 | this.$element.find('.final').addClass('disabled').prevAll('.step').removeClass('disabled'); |
  | 746 | 748 |  |
  |  | 749 | var \_hash = plugin.$element.find('.ea-cancel').data('\_hash'); |
  |  | 750 |  |
  | 747 | 751 | var options = { |
  | 748 | 752 | id: this.res\_app, |
  | 749 | 753 | check: ea\_settings['check'], |
  |  | 754 | \_hash: \_hash, |
  | 750 | 755 | action: 'ea\_cancel\_appointment' |
  | 751 | 756 | }; |
* ## [easy-appointments/trunk/main.php](/changeset/3059359/easy-appointments/trunk/main.php "Show the changeset 3059359 restricted to easy-appointments/trunk/main.php")

  | [r3055641](/browser/easy-appointments/trunk/main.php?rev=3055641#L5 "Show revision 3055641 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/main.php?rev=3059359#L5 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | \* Plugin URI: https://easy-appointments.net/ |
  | 6 | 6 | \* Description: Simple and easy to use management system for Appointments and Bookings |
  | 7 |  | \* Version: 3.11.1~~8~~ |
  |  | 7 | \* Version: 3.11.19 |
  | 8 | 8 | \* Requires PHP: 5.3 |
  | 9 | 9 | \* Author: Nikola Loncar |
* ## [easy-appointments/trunk/readme.txt](/changeset/3059359/easy-appointments/trunk/readme.txt "Show the changeset 3059359 restricted to easy-appointments/trunk/readme.txt")

  | [r3055641](/browser/easy-appointments/trunk/readme.txt?rev=3055641#L6 "Show revision 3055641 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/readme.txt?rev=3059359#L6 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Tested up to: 6.4 |
  | 7 | 7 | Requires PHP: 5.3 |
  | 8 |  | Stable tag: 3.11.1~~8~~ |
  |  | 8 | Stable tag: 3.11.19 |
  | 9 | 9 | License: GPLv2 |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/easy-appointments/trunk/readme.txt?rev=3055641#L214) | […](/browser/easy-appointments/trunk/readme.txt?rev=3059359#L214) |  |
  | 214 | 214 | == Changelog == |
  | 215 | 215 |  |
  |  | 216 | = 3.11.19 (2024-03-26) = |
  |  | 217 | \* Improved security for canceling reservation bookings |
  |  | 218 | \* Escaped `hide\_cancelled` param for FullCalendar shortcode |
  |  | 219 |  |
  | 216 | 220 | = 3.11.18 (2024-03-20) = |
  | 217 | 221 | \* Added cache buster for customers form, in some cases on mobile screen calls were cached and booking failed. (`error message Undefined, then slot taken`) |
* ## [easy-appointments/trunk/src/ajax.php](/changeset/3059359/easy-appointments/trunk/src/ajax.php "Show the changeset 3059359 restricted to easy-appointments/trunk/src/ajax.php")

  | [r2918309](/browser/easy-appointments/trunk/src/ajax.php?rev=2918309#L297 "Show revision 2918309 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/src/ajax.php?rev=3059359#L297 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 297 | 297 | } |
  | 298 | 298 |  |
  |  | 299 | if ($response->id) { |
  |  | 300 | $response->\_hash = wp\_hash($response->id); |
  |  | 301 | } |
  |  | 302 |  |
  | 299 | 303 | $this->send\_ok\_json\_result($response); |
  | 300 | 304 | } |
  | […](/browser/easy-appointments/trunk/src/ajax.php?rev=2918309#L386) | […](/browser/easy-appointments/trunk/src/ajax.php?rev=3059359#L390) |  |
  | 386 | 390 | $data = $\_GET; |
  | 387 | 391 |  |
  |  | 392 | $hash = wp\_hash($data['id']); |
  | 388 | 393 | unset($data['action']); |
  |  | 394 |  |
  |  | 395 | if (!array\_key\_exists('\_hash', $data) || $hash !== $data['\_hash']) { |
  |  | 396 | $this->send\_err\_json\_result('{"err":"Invalid hash"}'); |
  |  | 397 | } |
  |  | 398 |  |
  |  | 399 | unset($data['\_hash']); |
  | 389 | 400 |  |
  | 390 | 401 | $data['status'] = 'abandoned'; |
* ## [easy-appointments/trunk/src/shortcodes/fullcalendar.php](/changeset/3059359/easy-appointments/trunk/src/shortcodes/fullcalendar.php "Show the changeset 3059359 restricted to easy-appointments/trunk/src/shortcodes/fullcalendar.php")

  | [r2907689](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=2907689#L99 "Show revision 2907689 of this file in browser") | [r3059359](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=3059359#L99 "Show revision 3059359 of this file in browser") |  |
  | --- | --- | --- |
  | 99 | 99 | 'worker'               => null, |
  | 100 | 100 | 'color'                => false, |
  | 101 |  | 'start\_of\_week'        => get\_option('start\_of\_week', 0), |
  |  | 101 | 'start\_of\_week'        => (int) get\_option('start\_of\_week', 0), |
  | 102 | 102 | 'rtl'                  => '0', |
  | 103 | 103 | 'default\_date'         => date('Y-m-d'), |
  | […](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=2907689#L130) | […](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=3059359#L130) |  |
  | 130 | 130 |  |
  | 131 | 131 | // also remove '{', '}' brackets because no settings needs that |
  | 132 |  | $code\_params[$key] = esc\_js(str\_replace(array('{','}',';'~~), array(~~'','',''), $value)); |
  |  | 132 | $code\_params[$key] = esc\_js(str\_replace(array('{','}',';', '(', ')'), array('','','','',''), $value)); |
  | 133 | 133 | } |
  | 134 | 134 |  |
  | […](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=2907689#L247) | […](/browser/easy-appointments/trunk/src/shortcodes/fullcalendar.php?rev=3059359#L247) |  |
  | 247 | 247 | data: { |
  | 248 | 248 | \_wpnonce: wpApiSettings.nonce, |
  | 249 |  | hide\_cancelled: ~~{$code\_params['hide\_cancelled']}~~, |
  |  | 249 | hide\_cancelled: '{$code\_params['hide\_cancelled']}', |
  | 250 | 250 | {$location\_param} |
  | 251 | 251 | {$service\_param} |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3059359)
* [Zip Archive](?format=zip&new=3059359)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)

