```text
Root cause of vulnerability: The application directly concatenates the $AFF_ID parameter into an SQL query without proper sanitization or parameterization.

Weaknesses/vulnerabilities present: SQL injection vulnerability.

Impact of exploitation: An attacker can execute arbitrary SQL queries, potentially leading to data exfiltration, modification, or deletion. In this specific example, the attacker can extract the database name.

Attack vectors: The vulnerability is exposed through the /general/calendar/affair/delete.php endpoint, which takes the AFF_ID parameter via GET request.

Required attacker capabilities/position: The attacker needs to be able to send HTTP requests to the vulnerable endpoint. No special privileges are required.
```