=== Content from plugins.trac.wordpress.org_ca2dc9fd_20250111_122235.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fadvanced-backgrounds%2Ftrunk%2Fassets%2Fadmin%2Fgutenberg%2Findex.min.js)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js?rev=3210605 "Revision 3210605")
* Next Revision ‚Üí
* [Blame](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js)

---

# [source:](/browser?order=name "Go to repository root") [advanced-backgrounds](/browser/advanced-backgrounds?order=name "View advanced-backgrounds")/[trunk](/browser/advanced-backgrounds/trunk?order=name "View trunk")/[assets](/browser/advanced-backgrounds/trunk/assets?order=name "View assets")/[admin](/browser/advanced-backgrounds/trunk/assets/admin?order=name "View admin")/[gutenberg](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg?order=name "View gutenberg")/[index.min.js](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js?order=name "View index.min.js")

View diff against:

View revision:

| [Last change](/changeset/3218184/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js "View differences") on this file was [3218184](/changeset/3218184/ "View changeset 3218184"), checked in by nko, [4 days ago](/timeline?from=2025-01-07T08%3A43%3A45Z&precision=second "See timeline at 01/07/2025 08:43:45 AM") |
| --- |
| Update to version 1.12.7 from GitHub |
| **File size:** 1.6 MB | |

**HTML preview not available**, since the file size exceeds 1.0 MB.
Try [downloading](/export/3220681/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js) the file instead.

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js?format=txt)
* [Original Format](/export/3220681/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_3e8c57ce_20250111_122236.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3147938)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Changeset](/changeset/3147937 "Changeset 3147937")
* [Next Changeset](/changeset/3147939 "Changeset 3147939") ‚Üí

---

# Changeset 3147938

Timestamp:
09/07/2024 11:11:36 AM
([4 months](/timeline?from=2024-09-07T11%3A11%3A36Z&precision=second "See timeline at 09/07/2024 11:11:36 AM") ago)

Author:
nko
Message:

Update to version 1.12.4 from GitHub

Location:
[advanced-backgrounds](/browser/advanced-backgrounds?rev=3147938)
Files:

14 edited
1 copied

* [tags/1.12.4](/browser/advanced-backgrounds/tags/1.12.4?rev=3147938 "Show entry in browser")
  (copied)
  *(copied from [advanced-backgrounds/trunk](/browser/advanced-backgrounds/trunk?rev=3059845 "Show original file (revision 3147937)"))*
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4 "Show differences"))
* [tags/1.12.4/advanced-backgrounds.php](/browser/advanced-backgrounds/tags/1.12.4/advanced-backgrounds.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/advanced-backgrounds.php "Show differences"))
* [tags/1.12.4/assets/admin/gutenberg/index.min.js](/browser/advanced-backgrounds/tags/1.12.4/assets/admin/gutenberg/index.min.js?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/assets/admin/gutenberg/index.min.js "Show differences"))
* [tags/1.12.4/classes/class-settings.php](/browser/advanced-backgrounds/tags/1.12.4/classes/class-settings.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/classes/class-settings.php "Show differences"))
* [tags/1.12.4/classes/class-tinymce.php](/browser/advanced-backgrounds/tags/1.12.4/classes/class-tinymce.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/classes/class-tinymce.php "Show differences"))
* [tags/1.12.4/classes/class-vc-extend.php](/browser/advanced-backgrounds/tags/1.12.4/classes/class-vc-extend.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/classes/class-vc-extend.php "Show differences"))
* [tags/1.12.4/languages/advanced-backgrounds.pot](/browser/advanced-backgrounds/tags/1.12.4/languages/advanced-backgrounds.pot?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/languages/advanced-backgrounds.pot "Show differences"))
* [tags/1.12.4/readme.md](/browser/advanced-backgrounds/tags/1.12.4/readme.md?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/tags/1.12.4/readme.md "Show differences"))
* [trunk/advanced-backgrounds.php](/browser/advanced-backgrounds/trunk/advanced-backgrounds.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/advanced-backgrounds.php "Show differences"))
* [trunk/assets/admin/gutenberg/index.min.js](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js "Show differences"))
* [trunk/classes/class-settings.php](/browser/advanced-backgrounds/trunk/classes/class-settings.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/classes/class-settings.php "Show differences"))
* [trunk/classes/class-tinymce.php](/browser/advanced-backgrounds/trunk/classes/class-tinymce.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/classes/class-tinymce.php "Show differences"))
* [trunk/classes/class-vc-extend.php](/browser/advanced-backgrounds/trunk/classes/class-vc-extend.php?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/classes/class-vc-extend.php "Show differences"))
* [trunk/languages/advanced-backgrounds.pot](/browser/advanced-backgrounds/trunk/languages/advanced-backgrounds.pot?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/languages/advanced-backgrounds.pot "Show differences"))
* [trunk/readme.md](/browser/advanced-backgrounds/trunk/readme.md?rev=3147938 "Show entry in browser")
  (modified)
  ([view diffs](/changeset/3147938/advanced-backgrounds/trunk/readme.md "Show differences"))

**Changeset view not shown**, since the total size (6.5 MB) exceeds
[4.0 MB](/wiki/TracIni#changeset-max_diff_bytes-option)

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3147938)
* [Zip Archive](?format=zip&new=3147938)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_8ce5f453_20250111_122234.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fadvanced-backgrounds%2Ftrunk%2Fassets%2Fadmin%2Fgutenberg%2Fblock.json)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json?rev=3210605 "Revision 3210605")
* Next Revision ‚Üí
* [Blame](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json)

---

# [source:](/browser?order=name "Go to repository root") [advanced-backgrounds](/browser/advanced-backgrounds?order=name "View advanced-backgrounds")/[trunk](/browser/advanced-backgrounds/trunk?order=name "View trunk")/[assets](/browser/advanced-backgrounds/trunk/assets?order=name "View assets")/[admin](/browser/advanced-backgrounds/trunk/assets/admin?order=name "View admin")/[gutenberg](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg?order=name "View gutenberg")/[block.json](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json?order=name "View block.json")

View diff against:

View revision:

| [Last change](/changeset/3218184/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json "View differences") on this file was [3218184](/changeset/3218184/ "View changeset 3218184"), checked in by nko, [4 days ago](/timeline?from=2025-01-07T08%3A43%3A45Z&precision=second "See timeline at 01/07/2025 08:43:45 AM") |
| --- |
| Update to version 1.12.7 from GitHub |
| **File size:** 3.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | { |
| [2](#L2) | "$schema":¬†"https://schemas.wp.org/trunk/block.json", |
| [3](#L3) | "apiVersion":¬†3, |
| [4](#L4) | "name":¬†"nk/awb", |
| [5](#L5) | "category":¬†"design", |
| [6](#L6) | "title":¬†"Background (AWB)", |
| [7](#L7) | "description":¬†"Create sections with background image, parallax, video or solid color.", |
| [8](#L8) | "keywords":¬†["awb",¬†"background",¬†"parallax"], |
| [9](#L9) | "textdomain":¬†"advanced-backgrounds", |
| [10](#L10) | "supports":¬†{ |
| [11](#L11) | "ghostkit":¬†true, |
| [12](#L12) | "anchor":¬†true, |
| [13](#L13) | "className":¬†true, |
| [14](#L14) | "html":¬†false, |
| [15](#L15) | "ariaLabel":¬†true, |
| [16](#L16) | "color":¬†{ |
| [17](#L17) | "heading":¬†true, |
| [18](#L18) | "button":¬†true, |
| [19](#L19) | "link":¬†true, |
| [20](#L20) | "background":¬†false, |
| [21](#L21) | "enableContrastChecker":¬†false, |
| [22](#L22) | "\_\_experimentalDefaultControls":¬†{ |
| [23](#L23) | "text":¬†true |
| [24](#L24) | } |
| [25](#L25) | }, |
| [26](#L26) | "shadow":¬†true, |
| [27](#L27) | "spacing":¬†{ |
| [28](#L28) | "blockGap":¬†true, |
| [29](#L29) | "margin":¬†true, |
| [30](#L30) | "padding":¬†true, |
| [31](#L31) | "\_\_experimentalDefaultControls":¬†{ |
| [32](#L32) | "blockGap":¬†true, |
| [33](#L33) | "margin":¬†false, |
| [34](#L34) | "padding":¬†true |
| [35](#L35) | } |
| [36](#L36) | }, |
| [37](#L37) | "dimensions":¬†{ |
| [38](#L38) | "minHeight":¬†true |
| [39](#L39) | }, |
| [40](#L40) | "\_\_experimentalBorder":¬†{ |
| [41](#L41) | "color":¬†true, |
| [42](#L42) | "radius":¬†true, |
| [43](#L43) | "style":¬†true, |
| [44](#L44) | "width":¬†true |
| [45](#L45) | }, |
| [46](#L46) | "position":¬†{ |
| [47](#L47) | "sticky":¬†true |
| [48](#L48) | }, |
| [49](#L49) | "typography":¬†{ |
| [50](#L50) | "fontSize":¬†true, |
| [51](#L51) | "lineHeight":¬†true, |
| [52](#L52) | "\_\_experimentalFontFamily":¬†true, |
| [53](#L53) | "\_\_experimentalFontWeight":¬†true, |
| [54](#L54) | "\_\_experimentalFontStyle":¬†true, |
| [55](#L55) | "\_\_experimentalTextTransform":¬†true, |
| [56](#L56) | "\_\_experimentalTextDecoration":¬†true, |
| [57](#L57) | "\_\_experimentalLetterSpacing":¬†true, |
| [58](#L58) | "\_\_experimentalDefaultControls":¬†{ |
| [59](#L59) | "fontSize":¬†true |
| [60](#L60) | } |
| [61](#L61) | }, |
| [62](#L62) | "layout":¬†{ |
| [63](#L63) | "allowSizingOnChildren":¬†true, |
| [64](#L64) | "default":¬†{ |
| [65](#L65) | "type":¬†"constrained" |
| [66](#L66) | } |
| [67](#L67) | } |
| [68](#L68) | }, |
| [69](#L69) | "attributes":¬†{ |
| [70](#L70) | "type":¬†{ |
| [71](#L71) | "type":¬†"string", |
| [72](#L72) | "default":¬†"color" |
| [73](#L73) | }, |
| [74](#L74) | "fullHeight":¬†{ |
| [75](#L75) | "type":¬†"boolean", |
| [76](#L76) | "default":¬†false |
| [77](#L77) | }, |
| [78](#L78) | "fullHeightAlign":¬†{ |
| [79](#L79) | "type":¬†"string", |
| [80](#L80) | "default":¬†"center" |
| [81](#L81) | }, |
| [82](#L82) |  |
| [83](#L83) | "useFeaturedImage":¬†{ |
| [84](#L84) | "type":¬†"boolean", |
| [85](#L85) | "default":¬†false |
| [86](#L86) | }, |
| [87](#L87) | "image":¬†{ |
| [88](#L88) | "type":¬†"number", |
| [89](#L89) | "default":¬†"" |
| [90](#L90) | }, |
| [91](#L91) | "imageTag":¬†{ |
| [92](#L92) | "type":¬†"string", |
| [93](#L93) | "default":¬†"" |
| [94](#L94) | }, |
| [95](#L95) | "imageSize":¬†{ |
| [96](#L96) | "type":¬†"string", |
| [97](#L97) | "default":¬†"full" |
| [98](#L98) | }, |
| [99](#L99) | "imageBackgroundSize":¬†{ |
| [100](#L100) | "type":¬†"string", |
| [101](#L101) | "default":¬†"cover" |
| [102](#L102) | }, |
| [103](#L103) | "imageBackgroundPosition":¬†{ |
| [104](#L104) | "type":¬†"string", |
| [105](#L105) | "default":¬†"50% 50%" |
| [106](#L106) | }, |
| [107](#L107) |  |
| [108](#L108) | "video":¬†{ |
| [109](#L109) | "type":¬†"string", |
| [110](#L110) | "default":¬†"" |
| [111](#L111) | }, |
| [112](#L112) | "videoPosterPreview":¬†{ |
| [113](#L113) | "type":¬†"string", |
| [114](#L114) | "default":¬†"" |
| [115](#L115) | }, |
| [116](#L116) | "videoMp4":¬†{ |
| [117](#L117) | "type":¬†"string", |
| [118](#L118) | "default":¬†"" |
| [119](#L119) | }, |
| [120](#L120) | "videoOgv":¬†{ |
| [121](#L121) | "type":¬†"string", |
| [122](#L122) | "default":¬†"" |
| [123](#L123) | }, |
| [124](#L124) | "videoWebm":¬†{ |
| [125](#L125) | "type":¬†"string", |
| [126](#L126) | "default":¬†"" |
| [127](#L127) | }, |
| [128](#L128) | "videoStartTime":¬†{ |
| [129](#L129) | "type":¬†"number", |
| [130](#L130) | "default":¬†"" |
| [131](#L131) | }, |
| [132](#L132) | "videoEndTime":¬†{ |
| [133](#L133) | "type":¬†"number", |
| [134](#L134) | "default":¬†"" |
| [135](#L135) | }, |
| [136](#L136) | "videoVolume":¬†{ |
| [137](#L137) | "type":¬†"number", |
| [138](#L138) | "default":¬†0 |
| [139](#L139) | }, |
| [140](#L140) | "videoLoop":¬†{ |
| [141](#L141) | "type":¬†"boolean", |
| [142](#L142) | "default":¬†true |
| [143](#L143) | }, |
| [144](#L144) | "videoAlwaysPlay":¬†{ |
| [145](#L145) | "type":¬†"boolean", |
| [146](#L146) | "default":¬†false |
| [147](#L147) | }, |
| [148](#L148) | "videoMobile":¬†{ |
| [149](#L149) | "type":¬†"boolean", |
| [150](#L150) | "default":¬†false |
| [151](#L151) | }, |
| [152](#L152) |  |
| [153](#L153) | "mediaOpacity":¬†{ |
| [154](#L154) | "type":¬†"number", |
| [155](#L155) | "default":¬†100 |
| [156](#L156) | }, |
| [157](#L157) |  |
| [158](#L158) | "color":¬†{ |
| [159](#L159) | "type":¬†"string" |
| [160](#L160) | }, |
| [161](#L161) | "backgroundColor":¬†{ |
| [162](#L162) | "type":¬†"string", |
| [163](#L163) | "default":¬†"" |
| [164](#L164) | }, |
| [165](#L165) |  |
| [166](#L166) | "parallax":¬†{ |
| [167](#L167) | "type":¬†"string", |
| [168](#L168) | "default":¬†"" |
| [169](#L169) | }, |
| [170](#L170) | "parallaxSpeed":¬†{ |
| [171](#L171) | "type":¬†"number", |
| [172](#L172) | "default":¬†0.5 |
| [173](#L173) | }, |
| [174](#L174) | "parallaxMobile":¬†{ |
| [175](#L175) | "type":¬†"boolean", |
| [176](#L176) | "default":¬†false |
| [177](#L177) | }, |
| [178](#L178) |  |
| [179](#L179) | "mouseParallax":¬†{ |
| [180](#L180) | "type":¬†"boolean", |
| [181](#L181) | "default":¬†false |
| [182](#L182) | }, |
| [183](#L183) | "mouseParallaxSize":¬†{ |
| [184](#L184) | "type":¬†"number", |
| [185](#L185) | "default":¬†30 |
| [186](#L186) | }, |
| [187](#L187) | "mouseParallaxSpeed":¬†{ |
| [188](#L188) | "type":¬†"number", |
| [189](#L189) | "default":¬†10000 |
| [190](#L190) | } |
| [191](#L191) | }, |
| [192](#L192) | "usesContext":¬†["postId",¬†"postType"], |
| [193](#L193) | "editorScript":¬†"awb-gutenberg", |
| [194](#L194) | "editorStyle":¬†"awb-gutenberg", |
| [195](#L195) | "script":¬†"awb", |
| [196](#L196) | "style":¬†"awb" |
| [197](#L197) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json?format=txt)
* [Original Format](/export/3220681/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_f6a648a3_20250111_122237.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Advanced WordPress Backgrounds

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fadvanced-backgrounds&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fadvanced-backgrounds&locale=en_US)

Search plugins

![](https://ps.w.org/advanced-backgrounds/assets/banner-772x250.png?rev=2386996)
![](https://ps.w.org/advanced-backgrounds/assets/icon-256x256.png?rev=2386996)
# Advanced WordPress Backgrounds

By [Advanced WordPress Backgrounds Team](https://wpbackgrounds.com/?utm_source=wordpress.org&utm_medium=readme&utm_campaign=byline)

[Download](https://downloads.wordpress.org/plugin/advanced-backgrounds.1.12.7.zip)

* [Details](https://wordpress.org/plugins/advanced-backgrounds/#description)
* [Reviews](https://wordpress.org/plugins/advanced-backgrounds/#reviews)
* [Installation](https://wordpress.org/plugins/advanced-backgrounds/#installation)
* [Development](https://wordpress.org/plugins/advanced-backgrounds/#developers)

[Support](https://wordpress.org/support/plugin/advanced-backgrounds/)

## Description

**Parallax, Image and Video Backgrounds Plugin For WordPress**

‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ

**Create any type of backgrounds using advanced block settings**. We created [**Advanced WordPress Backgrounds plugin**](https://wpbackgrounds.com/?utm_source=wordpress.org&utm_medium=readme&utm_campaign=head) to insert the Youtube and Image Parallax backgrounds with a few clicks on block sites of our clients.

[See Live Demo](https://wpbackgrounds.com/?utm_source=wordpress.org&utm_medium=readme&utm_campaign=head) | [Documentation](https://wpbackgrounds.com/docs/getting-started/?utm_source=wordpress.org&utm_medium=readme&utm_campaign=head) | [GitHub](https://github.com/nk-crew/awb/)

### Features

* Background **Types**:
  + Color
  + Image
  + Post Featured Image
  + Pattern images
  + Self Hosted Video
  + Youtube / Vimeo Video
* **Parallax** options powered by high performance JavaScript plugin [Jarallax](https://github.com/nk-o/jarallax/)
  + Custom speed option
  + Enable / Disable for mobile devices option
  + Scroll effect
  + Opacity effect
  + Scale effect
  + Scroll + Opacity effect
  + Scroll + Scale effect
* **Mouse Parallax**
* Custom **video** start & end time
* srcset supported (i.e. Google love it)
* **Overlay** color with transparency options
* **Gutenberg** block supported
* **WPBakery Page Builder** supported (extended row and col options + separate shortcode)
* Custom CSS offsets (paddings + margins)

## Screenshots

* [![](https://ps.w.org/advanced-backgrounds/assets/screenshot-1.jpg?rev=2386996)](https://ps.w.org/advanced-backgrounds/assets/screenshot-1.jpg?rev=2386996)

  Background color
* [![](https://ps.w.org/advanced-backgrounds/assets/screenshot-2.jpg?rev=2386996)](https://ps.w.org/advanced-backgrounds/assets/screenshot-2.jpg?rev=2386996)

  Background image
* [![](https://ps.w.org/advanced-backgrounds/assets/screenshot-3.jpg?rev=2386996)](https://ps.w.org/advanced-backgrounds/assets/screenshot-3.jpg?rev=2386996)

  Background video
* [![](https://ps.w.org/advanced-backgrounds/assets/screenshot-4.jpg?rev=2386996)](https://ps.w.org/advanced-backgrounds/assets/screenshot-4.jpg?rev=2386996)

  Background parallax and Mouse parallax
* [![](https://ps.w.org/advanced-backgrounds/assets/screenshot-5.png?rev=2386996)](https://ps.w.org/advanced-backgrounds/assets/screenshot-5.png?rev=2386996)

  Extended WPBakery Page Builder ROW options

## Blocks

This plugin provides 1 block.

* Background (AWB)
  Create sections with background image, parallax, video or solid color.

## Installation

### Automatic installation

Automatic installation is the easiest option as WordPress handles the file transfers itself and you don‚Äôt need to leave your web browser. To do an automatic install of AWB, log in to your WordPress dashboard, navigate to the Plugins menu and click Add New.

In the search field type AWB and click Search Plugins. Once you‚Äôve found our plugin you can view details about it such as the point release, rating and description. Most importantly of course, you can install it by simply clicking ‚ÄúInstall Now‚Äù.

### Manual installation

The manual installation method involves downloading our AWB plugin and uploading it to your webserver via your favourite FTP application. The WordPress codex contains [instructions on how to do this here](https://codex.wordpress.org/Managing_Plugins#Manual_Plugin_Installation).

## Reviews

![](https://secure.gravatar.com/avatar/558836fd316445a356d20beb5565ab18e0e64e0b2922467173de6dc0fa5bbd30?s=60&d=retro&r=g)
### [the definitive way to add video and parallax backgounds](https://wordpress.org/support/topic/the-definitive-way-to-add-video-and-parallax-backgounds/)

[Tim Blankenship](https://profiles.wordpress.org/waterfire/ "Posts by Tim Blankenship")
March 27, 2024

Been using this for a few years and it has been a critical part of our website‚Äôs user experience. Support is top notch too.

![](https://secure.gravatar.com/avatar/cbe94ac8371b9c7f034399ee3a34169eef26cbde75333610c70588f10235a5f0?s=60&d=retro&r=g)
### [Perfect plugin to quickly apply stunning effects](https://wordpress.org/support/topic/perfect-plugin-to-quickly-apply-stunning-effects/)

[c0072973](https://profiles.wordpress.org/c0072973/ "Posts by c0072973")
March 15, 2024

üí™

![](https://secure.gravatar.com/avatar/ac187cd3ace667add3526dcead4c244856091f9e2fa0d45f9fae54d97d9bcefb?s=60&d=retro&r=g)
### [This is a awesome plugin and easy to use.](https://wordpress.org/support/topic/this-is-a-awesome-plugin-and-easy-to-use/)

[easyprovids](https://profiles.wordpress.org/easyprovids/ "Posts by easyprovids")
March 15, 2024

the plugin does what it says easy i had this for months and very easy to use with no issues.

![](https://secure.gravatar.com/avatar/ddd76c2881f54e19413d11b5f98ddfe39c7073a2a94132ecd0679a674870cfb4?s=60&d=retro&r=g)
### [It‚Äôs beautiful](https://wordpress.org/support/topic/its-beautiful-8/)

[krjojo](https://profiles.wordpress.org/krjojo/ "Posts by krjojo")
January 16, 2024

I love it.

![](https://secure.gravatar.com/avatar/4d71769db3f5859955a8dc73bc4c592fd783e29ca5035f950c123c75c6f44b4f?s=60&d=retro&r=g)
### [Great](https://wordpress.org/support/topic/great-16015/)

[heyitsj0n](https://profiles.wordpress.org/heyitsj0n/ "Posts by heyitsj0n")
December 5, 2023

Does what it says. Whish there were more options like: Dynamic resize header for mobile, Horizontal Parralax on scroll, and default cover minimum height. Other than that its great

![](https://secure.gravatar.com/avatar/285754a0c67f50f44ec1d74e570067f90ca8b785e00262f64921300e31d93e7b?s=60&d=retro&r=g)
### [Really great plugin](https://wordpress.org/support/topic/really-great-plugin-205/)

[Carlos Pinedo](https://profiles.wordpress.org/carlos-pinedo/ "Posts by Carlos Pinedo")
June 1, 2023

Does the job really well, no complaints.

[Read all 43 reviews](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/)
## Contributors & Developers

‚ÄúAdvanced WordPress Backgrounds‚Äù is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/8cab63be135d6e22e28bbfadac9eddbd06092802f6160507f62571f8c64113fc?s=32&d=mm&r=g) [Nikita](https://profiles.wordpress.org/nko/)

‚ÄúAdvanced WordPress Backgrounds‚Äù has been translated into 4 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/advanced-backgrounds/contributors) for their contributions.

[Translate ‚ÄúAdvanced WordPress Backgrounds‚Äù into your language.](https://translate.wordpress.org/projects/wp-plugins/advanced-backgrounds)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/advanced-backgrounds/), check out the [SVN repository](https://plugins.svn.wordpress.org/advanced-backgrounds/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/advanced-backgrounds/) by [RSS](https://plugins.trac.wordpress.org/log/advanced-backgrounds/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.12.7 ‚Äì Jan 7, 2025

* added setting to prevent custom image sizes registration
* fixed block layout constrained on frontend

#### 1.12.6 ‚Äì Dec 19, 2024

* revert back block default attributes added in v1.12.5 as it crashes the block

#### 1.12.5 ‚Äì Dec 19, 2024

* added WP 6.7 compatibility fixes
* added more block support features: ariaLabel, colors, shadow, border and position
* changed registration of block assets to use enqueue\_block\_assets hook
* changed some block default attributes

#### 1.12.4 ‚Äì Sep 7, 2024

* added escaping to imageTag attribute in the AWB block to prevent xss vulnerability

#### 1.12.3 ‚Äì Mar 27, 2024

* fixed background settings display in Ghost Kit columns
* fixed parallax option enabled on block with Color background type

#### 1.12.2 ‚Äì Mar 9, 2024

* added support for private Vimeo videos hash in URL
* fixed `play` method play when `endTime` reached
* fixed rendering styles error in editor iframe and latest Gutenberg

#### 1.12.1 ‚Äì Nov 13, 2023

* improved EditorStyles component to use portals in WP editor
* fixed error in WP editor because of missing lodash dependency

#### 1.12.0 ‚Äì Nov 12, 2023

* added support for new Ghost Kit extensions
* removed Ghost Kit spacings fallback feature, use Gutenberg spacings instead
* fixed default AWB padding in editor
* changed attributes registration from JS to PHP

#### 1.11.5 ‚Äì Oct 26, 2023

* change block apiVersion to v3
* fixed parallax speed 0 in AWB block
* fixed JS error inside iframe in block editor

#### 1.11.4 ‚Äì May 17, 2023

* fixed JS error in TwentyTwenty and TwentyTwentyOne themes

#### 1.11.3 ‚Äì May 10, 2023

* fixed JS error when WPBakery FullHeight row used

#### 1.11.2 ‚Äì May 10, 2023

* improved Stretch script to use `before-init` event with provided elements ‚Äì better performance
* fixed wrong column background calculation in WPBakery Page Builder

#### 1.11.1 ‚Äì May 9, 2023

* added support for `Layout`, `Block Gap`, `Min Heigh` and `Typography` settings in the (Gutenberg block)
* added support for gradients in background and overlay (Gutenberg block)
* added `Fill` option in background size setting
* added `IntersectionObserver` for Mouse Parallax to detect element in viewport (increased performance)
* added JS events to init internal components and for 3rd-party code
* added global JS object `AWB`
* improved srcset fix code to work with some popular lazy loading data attributes
* removed jQuery dependency from frontend script (less code required)
* removed Pro tab from plugin settings
* deprecated public function `nkAwbInit`, use `AWB.init()` instead
* fixed image blinking when disabled browser cache and added new elements or screen resized
* fixed empty FullWidth block setting in the GhostKit Column settings

#### 1.10.0 ‚Äì Dec 27, 2022

* added `IntersectionObserver` to detect element in viewport (increased performance)
* added support for Youtube Shorts
* added support for Vimeo high quality thumbnails
* improved rendering of Featured Image ‚Äì use faster method without `DOMDocument`

#### 1.9.4 ‚Äì Aug 29, 2022

* fixed error on widgets screen

#### 1.9.3 ‚Äì Aug 27, 2022

* fixed shortcode builder ‚ÄúEnable on Mobile Devices‚Äù checkbox displaying for Local videos
* renamed `Local Video` to `Self Hosted Video`

#### 1.9.2 ‚Äì Aug 15, 2022

* fixed self-hosted video preview loading in block editor
* fixed Youtube / Vimeo video preview image loading in block editor

#### 1.9.1 ‚Äì Aug 11, 2022

* added fallback image url in Gutenberg block preview to display image faster when page loaded
* improved rest permissions check

#### 1.9.0 ‚Äì Jul 22, 2022

* added support for Featured Image in the block background
* added `nk-awb` classname to the block in editor
* fixed block preview in FSE templates editor
* fixed parallax re-rendering in the editor when the props were not changed
* removed `will-change` usage from parallax ‚Äì fixed the warning in the inspector in Firefox browser

#### 1.8.1 ‚Äì Feb 19, 2022

* fixed tinymce error ‚Äì `Failed to initialize plugin: awb`
* disabled block align fallback in block-based themes

#### 1.8.0 ‚Äì Feb 18, 2022

* dropped support for IE and old browsers
* added support for block-based themes and WordPress 5.9
* added Media Opacity and Background Color attributes to Gutenberg block
* changed block to Blocks API v2 (less wrappers in the Gutenberg editor)
* fixed block re-saving when image tag fetched
* fixed invalid CSS for WPBakery gaps
* removed usage of DOMContentLoaded for register block
* minor changes

#### 1.7.7 ‚Äì Dec 1, 2021

* added encode/decode to Gutenberg block image tag attribute
* fixed shortcode inserter color overlay selection
* fixed conflict with PublishPress Blocks plugin
* fixed React state change inside render callback

#### 1.7.6 ‚Äì Aug 31, 2021

* added WP 5.8 support

#### 1.7.5 ‚Äì May 12, 2021

* added accessibility attributes to background videos (tabindex, aria-hidden)
* fixed video start and end time save in block

#### 1.7.4 ‚Äì Mar 4, 2021

* tested up to WordPress 5.7
* moved to nk-crew GitHub repo

#### 1.7.3 ‚Äì Feb 8, 2021

* fixed TwentyTwenty and TwentyTwentyOne video styles conflict

#### 1.7.1 ‚Äì Jan 7, 2021

* added support for Gutenberg Wide alignment
* added support for row gaps in WPBakery Page Builder
* added GDPR compliance parameters to Youtube and Vimeo videos
* fixed blur images on mobile devices
* fixed deprecated jQuery ready event usage

#### 1.7.0 ‚Äì Sep 23, 2020

* added support for 3rd-party plugins, that adds WebP images
* fixed bug with clip images in Safari v14
* fixed image position when disabled parallax effect
* fixed video loop and image reset problem
* fixed JS deprecated notice
* additional styles for video elements (prevent click on video blocks)

#### 1.6.7

* fixed color picker error in WordPress 5.5 and WPBakery Page Builder

#### 1.6.6

* added support for WordPress 5.5

#### 1.6.5

* added Gutenberg block inner blocks inserter (better UI)

#### 1.6.4

* fixed GhostKit 2.10.0 and WordPress 5.4 compatibility issues

#### 1.6.3

* fixed stretch script calculation with the latest Ghost Kit Grid

#### 1.6.2

* added shortcode inserter in Classic block in Gutenberg
* fixed background integration for Ghost Kit Grid and Columns
* fixed WPB column background position

#### 1.6.1

* added parallax and video preview in Gutenberg editor
* added support for Ghost Kit Custom CSS extension
* updated Jarallax library to 1.12.0
* fixed Jetpack conflict with parallax images
* fixed color picker in the latest Gutenberg
* fixed deprecation warnings in the latest Gutenberg

#### 1.6.0

* added Focal Point picker in block background settings
* added Lazy Loading for background videos
* changed block background img tag output (fixes bug, when user with Editor permission save background image and block crashed)
* fixed background image jumping on mobile devices when scroll
* fixed reusable block error

#### 1.5.10

* fixed WPBakery Page Builder FullWidth Row background position

#### 1.5.9

* fixed WPBakery Page Builder Row background position

#### 1.5.8

* fixed Gutenberg editor background preview for Pattern images
* fixed Ghost Kit Grid columns background image after WP demo import

#### 1.5.7

* fixed JS error if Ghost Kit plugin is not installed
* fixed Gutenberg background preview

#### 1.5.6

* added support for Ghost Kit Grid and Column blocks. [See live](https://ghostkit.io/blocks/grid/)
* added support for Ghost Kit 2.0 update
* added Loop option in Gutenberg block for videos
* fixed editor background preview styles in alignfull block
* fixed AWB video play without parallax on mobile devices
* minor changes

#### 1.5.5

* added file types limitations in image and self hosted videos selection

#### 1.5.4

* updated Conditionize script
* fixed usage of deprecated PanelColor

#### 1.5.3

* fixed image fetch error in Gutenberg 4.2
* changed color picker to Gutenberg component

#### 1.5.2

* removed default paddings from AWB shortcode, keep it only for Gutenberg block

#### 1.5.1

* fixed selected image preview in Inspector

#### 1.5.0

* added default padding to the AWB block on frontend and in Gutenberg editor
* added spacing options (paddings, margins) in Gutenberg block
* added initialization AWB for dynamic content (AJAX loading)
* improved editor styles with GhostKit grid
* registered additional image sizes
* fixed mouse parallax on mobile devices (acceleration calculated properly now)
* fixed Gutenberg 4.0 number attribute type automatic convert
* fixed Gutenberg 4.0 AWB block border
* fixed image height calculation when block height > than window height
* updated conditionize vendor script

#### 1.4.10

* added Reset button to Color Picker in Gutenberg block
* updated icons in Gutenberg block
* fixed disable on mobile devices checkboxes in WPBakery Page Builder
* fixed Vimeo autoplay on mobile devices
* fixed self hosted video url building string in Gutenberg block

#### 1.4.9

* added Full Height option in Gutenberg AWB toolbar
* added fallback for align full. If the theme don‚Äôt support align-wide, AWB will still show the button for it
* added some helpful controls in Gutenberg block toolbar
* changed icon to svg in Gutenberg block

#### 1.4.8

* fixed JS error ‚Äúonly one instance of babel-polyfill is allowed‚Äù in Gutenberg editor

#### 1.4.7

* added support for Gutenberg 3.7.0
* added **wp\_admin > Settings > AWB** page
* added settings to disable parallax on mobile devices and in some browsers
* updated Jarallax and object-fit-images scripts
* removed Video Volume option since browsers don‚Äôt support autoplay with sound <https://developers.google.com/web/updates/2017/09/autoplay-policy-changes>
* fixed compatibility with WordPress Import/Export content (Gutenberg)
* fixed drag event on image backgrounds (without parallax)

#### 1.4.6

* added support for Gutenberg 3.4.0
* added support for [Ghostkit](https://wordpress.org/plugins/ghostkit/) Indents extension (you can add paddings and margins to AWB block)
* fixed JS error when select image with specific image size title

#### 1.4.5

* fixed js error toUpperCase of undefined in Gutenberg editor
* minor code improvements for Gutenberg blocks
* changed jquery ready event to DOMContentLoaded

#### 1.4.4

* improved Gutenberg backgrounds preview
* fixed conflict with YouTube Embed Plus plugin

#### 1.4.3

* updated Jarallax to 1.10.3

#### 1.4.2

* fixed adding styles from WPBakery Page Builder ‚ÄúDesign Options‚Äù tab in AWB shortcode

#### 1.4.1

* updated Jarallax to 1.10.2

#### 1.4.0

* added support for [Gutenberg](https://wordpress.org/gutenberg/) blocks builder
* added option to disable video on mobile devices
* fixed WPBakery Page Builder and Stretch row JS error on mobile devices
* fixed WPBakery Page Builder icon position
* updated Jarallax to 1.10.1

#### 1.3.2

* updated Jarallax to 1.9.1

#### 1.3.1

* fixed parallax resize inside stretched WPBakery Page Builder row

#### 1.3.0

* added video volume option
* added video always play option
* added background image size option (support for pattern backgrounds)
* added background image position option
* changed background image to <img> tag with srcset support
* changed scripts enqueue to registration first (prevent some themes to override scripts)
* updated jarallax plugin
* updated wp-color-picker-alpha plugin to support WordPress 4.9

#### 1.2.4

* improved mouse parallax (removed GSAP, now this is pure CSS animation)

#### 1.2.3

* fixed url escaping in style attribute

#### 1.2.1

* fixed stretch columns in some situations
* prevent stretch column when row is stretched

#### 1.2.0

* added support for WPBakery Page Builder column background
* added icons with images and overlay in WPBakery Page Builder backend view
* small fix for stretch option

#### 1.1.1

* added Mouse Parallax support with GSAP
* added support to wrap selected content in default MCE shortcode
* fix for safari image z position

#### 1.0.1

* fixed Vimeo videos autoplay
* fixed video iframe ‚Äì reset some styles like max-width
* fixed parallax for speed > 1 (wrong calculation)
* fixed self hosted video mute and loop
* fixed showing Self hosted videos if image is not set
* fixed video set aspect ratio (in some situations added black lines)

#### 1.0.0

* Initial Release

## Meta

* Version **1.12.7**
* Last updated **4 days ago**
* Active installations **30,000+**
* WordPress version **6.2 or higher**
* Tested up to **6.7.1**
* PHP version **7.2 or higher**
* Languages
  See all 5

  Close

  [English (US)](https://wordpress.org/plugins/advanced-backgrounds/), [Russian](https://ru.wordpress.org/plugins/advanced-backgrounds/), [Spanish (Chile)](https://cl.wordpress.org/plugins/advanced-backgrounds/), [Spanish (Spain)](https://es.wordpress.org/plugins/advanced-backgrounds/), and [Swedish](https://sv.wordpress.org/plugins/advanced-backgrounds/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/advanced-backgrounds)
* Tags [background](https://wordpress.org/plugins/tags/background/)[gutenberg](https://wordpress.org/plugins/tags/gutenberg/)[parallax](https://wordpress.org/plugins/tags/parallax/)[video](https://wordpress.org/plugins/tags/video/)[youtube](https://wordpress.org/plugins/tags/youtube/)
* [Advanced View](https://wordpress.org/plugins/advanced-backgrounds/advanced/)

## Ratings

4.8 out of 5 stars.

* [40 5-star reviews
  5 stars

  40](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/?filter=4)
* [1 3-star review
  3 stars

  1](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/?filter=2)
* [2 1-star reviews
  1 star

  2](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/advanced-backgrounds/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/8cab63be135d6e22e28bbfadac9eddbd06092802f6160507f62571f8c64113fc?s=32&d=mm&r=g) [Nikita](https://profiles.wordpress.org/nko/)
## Support

Issues resolved in last two months:

3 out of 3

[View support forum](https://wordpress.org/support/plugin/advanced-backgrounds/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ‚Üó](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ‚Üó](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ‚Üó](https://wordpress.com/?ref=wporg-footer)
* [Matt ‚Üó](https://ma.tt/)
* [bbPress ‚Üó](https://bbpress.org/)
* [BuddyPress ‚Üó](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_363f71ac_20250111_122238.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Advanced WordPress Backgrounds <= 1.12.3 - Authenticated (Contributor+) Stored Cross-Site Scripting via imageTag Parameter

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel) ¬†¬†>¬†¬†  [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities) ¬†¬†>¬†¬† Advanced WordPress Backgrounds <= 1.12.3 - Authenticated (Contributor+) Stored Cross-Site Scripting via imageTag Parameter

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-8045](https://www.cve.org/CVERecord?id=CVE-2024-8045) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | September 10, 2024 |
| Last Updated | September 11, 2024 |
| Researcher | [Webbernaut](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/webbernaut) |

### Description

The Advanced WordPress Backgrounds plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the ‚ÄòimageTag‚Äô parameter in all versions up to, and including, 1.12.3 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with Contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/index.min.js)
* [wordpress.org](https://wordpress.org/plugins/advanced-backgrounds/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/advanced-backgrounds/trunk/classes/class-gutenberg.php#L146)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/advanced-backgrounds/trunk/assets/admin/gutenberg/block.json#L69)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3147938/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fadvanced-backgrounds%2Fadvanced-wordpress-backgrounds-1123-authenticated-contributor-stored-cross-site-scripting-via-imagetag-parameter&t=Advanced%20WordPress%20Backgrounds%20%3C%3D%201.12.3%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20imageTag%20Parameter "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fadvanced-backgrounds%2Fadvanced-wordpress-backgrounds-1123-authenticated-contributor-stored-cross-site-scripting-via-imagetag-parameter&text=Advanced%20WordPress%20Backgrounds%20%3C%3D%201.12.3%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20imageTag%20Parameter "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fadvanced-backgrounds%2Fadvanced-wordpress-backgrounds-1123-authenticated-contributor-stored-cross-site-scripting-via-imagetag-parameter "LinkedIn")
Email

## Vulnerability Details for Advanced WordPress Backgrounds

#### [Advanced WordPress Backgrounds](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/advanced-backgrounds)

| Software Type | Plugin |
| --- | --- |
| Software Slug | advanced-backgrounds [(view on wordpress.org)](https://wordpress.org/plugins/advanced-backgrounds) |
| Patched? | Yes |
| Remediation | Update to version 1.12.4, or a newer patched version |
| Affected Version | * <= 1.12.3 |
| Patched Version | * 1.12.4 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE¬Æ). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_e8e56f51_20250111_122236.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fadvanced-backgrounds%2Ftrunk%2Fclasses%2Fclass-gutenberg.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/advanced-backgrounds/trunk/classes/class-gutenberg.php?rev=2995435 "Revision 2995435")
* Next Revision ‚Üí
* [Blame](/browser/advanced-backgrounds/trunk/classes/class-gutenberg.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/advanced-backgrounds/trunk/classes/class-gutenberg.php)

---

# [source:](/browser?order=name "Go to repository root") [advanced-backgrounds](/browser/advanced-backgrounds?order=name "View advanced-backgrounds")/[trunk](/browser/advanced-backgrounds/trunk?order=name "View trunk")/[classes](/browser/advanced-backgrounds/trunk/classes?order=name "View classes")/[class-gutenberg.php](/browser/advanced-backgrounds/trunk/classes/class-gutenberg.php?order=name "View class-gutenberg.php")

View diff against:

View revision:

| [Last change](/changeset/3210447/advanced-backgrounds/trunk/classes/class-gutenberg.php "View differences") on this file was [3210447](/changeset/3210447/ "View changeset 3210447"), checked in by nko, [3 weeks ago](/timeline?from=2024-12-19T11%3A54%3A01Z&precision=second "See timeline at 12/19/2024 11:54:01 AM") |
| --- |
| Update to version 1.12.5 from GitHub |
| **File size:** 5.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Gutenberg blocks |
| [4](#L4) | \* |
| [5](#L5) | \* @package advanced-backgrounds |
| [6](#L6) | \*/ |
| [7](#L7) |  |
| [8](#L8) | if¬†(¬†!¬†defined(¬†'ABSPATH'¬†)¬†)¬†{ |
| [9](#L9) | exit; |
| [10](#L10) | } |
| [11](#L11) |  |
| [12](#L12) | /\*\* |
| [13](#L13) | \* Class NK\_AWB\_Gutenberg |
| [14](#L14) | \*/ |
| [15](#L15) | class¬†NK\_AWB\_Gutenberg¬†{ |
| [16](#L16) | /\*\* |
| [17](#L17) | \* NK\_AWB\_Gutenberg constructor. |
| [18](#L18) | \*/ |
| [19](#L19) | public¬†function¬†\_\_construct()¬†{ |
| [20](#L20) | // work only if Gutenberg available. |
| [21](#L21) | if¬†(¬†function\_exists(¬†'register\_block\_type\_from\_metadata'¬†)¬†)¬†{ |
| [22](#L22) | $this->init\_hooks(); |
| [23](#L23) | } |
| [24](#L24) | } |
| [25](#L25) |  |
| [26](#L26) | /\*\* |
| [27](#L27) | \* Init Hooks |
| [28](#L28) | \*/ |
| [29](#L29) | public¬†function¬†init\_hooks()¬†{ |
| [30](#L30) | add\_action(¬†'enqueue\_block\_assets',¬†array(¬†$this,¬†'enqueue\_block\_assets'¬†)¬†); |
| [31](#L31) | add\_action(¬†'init',¬†array(¬†$this,¬†'register\_block'¬†)¬†); |
| [32](#L32) | add\_action(¬†'init',¬†array(¬†$this,¬†'register\_attribute'¬†)¬†); |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | /\*\* |
| [36](#L36) | \* Enqueue block assets |
| [37](#L37) | \*/ |
| [38](#L38) | public¬†function¬†enqueue\_block\_assets()¬†{ |
| [39](#L39) | $js\_deps¬† =¬†array(¬†'wp-i18n',¬†'wp-element',¬†'wp-components',¬†'wp-block-editor',¬†'lodash',¬†'jquery',¬†'jarallax',¬†'jarallax-video'¬†); |
| [40](#L40) | $css\_deps¬†=¬†array(); |
| [41](#L41) |  |
| [42](#L42) | // enqueue block js. |
| [43](#L43) | wp\_register\_script( |
| [44](#L44) | 'awb-gutenberg', |
| [45](#L45) | nk\_awb()->plugin\_url¬†.¬†'assets/admin/gutenberg/index.min.js', |
| [46](#L46) | $js\_deps, |
| [47](#L47) | filemtime(¬†nk\_awb()->plugin\_path¬†.¬†'assets/admin/gutenberg/index.min.js'¬†), |
| [48](#L48) | true |
| [49](#L49) | ); |
| [50](#L50) |  |
| [51](#L51) | // enqueue block css. |
| [52](#L52) | wp\_register\_style( |
| [53](#L53) | 'awb-gutenberg', |
| [54](#L54) | nk\_awb()->plugin\_url¬†.¬†'assets/admin/gutenberg/editor.min.css', |
| [55](#L55) | $css\_deps, |
| [56](#L56) | filemtime(¬†nk\_awb()->plugin\_path¬†.¬†'assets/admin/gutenberg/editor.min.css'¬†) |
| [57](#L57) | ); |
| [58](#L58) |  |
| [59](#L59) | // add variables to script. |
| [60](#L60) | $data¬†=¬†array( |
| [61](#L61) | 'placeholder\_url'¬† ¬† ¬†=>¬†nk\_awb()->plugin\_url¬†.¬†'assets/images/placeholder.jpg', |
| [62](#L62) | 'full\_width\_fallback'¬†=>¬†!¬†(¬†function\_exists(¬†'wp\_is\_block\_theme'¬†)¬†&&¬†wp\_is\_block\_theme()¬†||¬†get\_theme\_support(¬†'align-wide'¬†)¬†), |
| [63](#L63) | 'is\_ghostkit\_active'¬† =>¬†class\_exists(¬†'GhostKit'¬†), |
| [64](#L64) | ); |
| [65](#L65) | wp\_localize\_script(¬†'awb-gutenberg',¬†'AWBGutenbergData',¬†$data¬†); |
| [66](#L66) | } |
| [67](#L67) |  |
| [68](#L68) | /\*\* |
| [69](#L69) | \* Enqueue admin scripts hook |
| [70](#L70) | \*/ |
| [71](#L71) | public¬†function¬†register\_block()¬†{ |
| [72](#L72) | // register block. |
| [73](#L73) | register\_block\_type\_from\_metadata( |
| [74](#L74) | nk\_awb()->plugin\_path¬†.¬†'assets/admin/gutenberg', |
| [75](#L75) | array( |
| [76](#L76) | 'render\_callback'¬†=>¬†array(¬†$this,¬†'render\_block'¬†), |
| [77](#L77) | ) |
| [78](#L78) | ); |
| [79](#L79) |  |
| [80](#L80) | // Register the block support. |
| [81](#L81) | WP\_Block\_Supports::get\_instance()->register( |
| [82](#L82) | 'awb', |
| [83](#L83) | array( |
| [84](#L84) | 'register\_attribute'¬†=>¬†array(¬†$this,¬†'register\_attribute'¬†), |
| [85](#L85) | ) |
| [86](#L86) | ); |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | /\*\* |
| [90](#L90) | \* Renders the block on server. |
| [91](#L91) | \* Adds Featured Image when useFeaturedImage is true. |
| [92](#L92) | \* |
| [93](#L93) | \* @param array¬† $attributes The block attributes. |
| [94](#L94) | \* @param string $content¬† ¬† The block rendered content. |
| [95](#L95) | \* |
| [96](#L96) | \* @return string |
| [97](#L97) | \*/ |
| [98](#L98) | public¬†function¬†render\_block(¬†$attributes,¬†$content¬†)¬†{ |
| [99](#L99) | if¬†(¬†'image'¬†!==¬†$attributes['type']¬†||¬†false¬†===¬†$attributes['useFeaturedImage']¬†)¬†{ |
| [100](#L100) | return¬†$content; |
| [101](#L101) | } |
| [102](#L102) |  |
| [103](#L103) | $regex¬†=¬†'/<div class="nk-awb-inner"[^>]\*(>)/'; |
| [104](#L104) |  |
| [105](#L105) | preg\_match(¬†$regex,¬†$content,¬†$matches,¬†PREG\_OFFSET\_CAPTURE¬†); |
| [106](#L106) |  |
| [107](#L107) | if¬†(¬†!¬†isset(¬†$matches[0][0]¬†)¬†)¬†{ |
| [108](#L108) | return¬†$content; |
| [109](#L109) | } |
| [110](#L110) |  |
| [111](#L111) | $post¬† ¬† ¬†=¬†get\_post(); |
| [112](#L112) | $thumb\_id¬†=¬†get\_post\_thumbnail\_id(¬†$post¬†); |
| [113](#L113) |  |
| [114](#L114) | if¬†(¬†!¬†$thumb\_id¬†)¬†{ |
| [115](#L115) | return¬†$content; |
| [116](#L116) | } |
| [117](#L117) |  |
| [118](#L118) | if¬†(¬†in\_the\_loop()¬†)¬†{ |
| [119](#L119) | update\_post\_thumbnail\_cache(); |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | $image¬†=¬†wp\_get\_attachment\_image( |
| [123](#L123) | $thumb\_id, |
| [124](#L124) | $attributes['imageSize']¬†??¬†'full', |
| [125](#L125) | false, |
| [126](#L126) | array( |
| [127](#L127) | 'class'¬†=>¬†'wp-image-'¬†.¬†esc\_attr(¬†$thumb\_id¬†)¬†.¬†' jarallax-img', |
| [128](#L128) | ) |
| [129](#L129) | ); |
| [130](#L130) |  |
| [131](#L131) | if¬†(¬†!¬†$image¬†)¬†{ |
| [132](#L132) | return¬†$content; |
| [133](#L133) | } |
| [134](#L134) |  |
| [135](#L135) | $content¬†=¬†preg\_replace(¬†$regex,¬†$matches[0][0]¬†.¬†$image,¬†$content,¬†1¬†); |
| [136](#L136) |  |
| [137](#L137) | return¬†$content; |
| [138](#L138) | } |
| [139](#L139) |  |
| [140](#L140) | /\*\* |
| [141](#L141) | \* Registers the `awb` block attribute for block types that support it. |
| [142](#L142) | \* |
| [143](#L143) | \* @param WP\_Block\_Type $block\_type Block Type. |
| [144](#L144) | \*/ |
| [145](#L145) | public¬†function¬†register\_attribute(¬†$block\_type¬†)¬†{ |
| [146](#L146) | $has\_awb\_support¬†=¬†block\_has\_support(¬†$block\_type,¬†array(¬†'awb'¬†),¬†false¬†); |
| [147](#L147) |  |
| [148](#L148) | if¬†(¬†!¬†$has\_awb\_support¬†)¬†{ |
| [149](#L149) | return; |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | $awb\_block\_type¬†=¬†WP\_Block\_Type\_Registry::get\_instance()->get\_registered(¬†'nk/awb'¬†); |
| [153](#L153) |  |
| [154](#L154) | $skip\_attributes¬†=¬†array(¬†'lock',¬†'ghostkit',¬†'ghostkitId',¬†'ghostkitClassname',¬†'ghostkitStyles',¬†'ghostkitSR',¬†'ghostkitCustomCSS',¬†'ghostkitPosition',¬†'ghostkitSpacings',¬†'ghostkitFrame',¬†'className',¬†'style',¬†'layout',¬†'fontSize',¬†'fontFamily'¬†); |
| [155](#L155) |  |
| [156](#L156) | // Add all AWB attributes to the block. |
| [157](#L157) | if¬†(¬†!¬†empty(¬†$awb\_block\_type->attributes¬†)¬†)¬†{ |
| [158](#L158) | if¬†(¬†!¬†$block\_type->attributes¬†)¬†{ |
| [159](#L159) | $block\_type->attributes¬†=¬†array(); |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | foreach¬†(¬†$awb\_block\_type->attributes¬†as¬†$name¬†=>¬†$val¬†)¬†{ |
| [163](#L163) | if¬†(¬†!¬†in\_array(¬†$name,¬†$skip\_attributes,¬†true¬†)¬†)¬†{ |
| [164](#L164) | $block\_type->attributes[¬†'awb\_'¬†.¬†$name¬†]¬†=¬†$val; |
| [165](#L165) | } |
| [166](#L166) | } |
| [167](#L167) | } |
| [168](#L168) | } |
| [169](#L169) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/advanced-backgrounds/trunk/classes/class-gutenberg.php?format=txt)
* [Original Format](/export/3220681/advanced-backgrounds/trunk/classes/class-gutenberg.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)


