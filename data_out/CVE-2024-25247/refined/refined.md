The provided content discusses the discovery and exploitation of two SQL Injection vulnerabilities in Niushop, identified as CVE-2024-25247 and CVE-2024-25248. Here's a breakdown of the information relevant to CVE-2024-25247:

**Root cause of vulnerability:**
- The vulnerability arises from the use of `DB::raw()` in the `getLocationStoreList()` function within the `Store.php` model. This function directly incorporates user-supplied `lng` (longitude) and `lat` (latitude) parameters into a raw SQL query without proper sanitization or escaping.

**Weaknesses/vulnerabilities present:**
- **SQL Injection:** The lack of sanitization of the `lng` and `lat` parameters passed to `DB::raw()` allows an attacker to inject arbitrary SQL code.

**Impact of exploitation:**
- **Data Exposure:** Successful exploitation could allow an attacker to access, modify, or delete sensitive data from the database.

**Attack vectors:**
- **HTTP GET Request:** The vulnerability is triggered through a crafted GET request to the `/api/store/page` endpoint, by providing malicious values for `latitude` and `longitude` parameters.
- The `BaseApi` controller does not require user authentication, making the endpoint accessible to unauthenticated users.

**Required attacker capabilities/position:**
- The attacker does not need prior authentication to exploit the vulnerability.
- The attacker needs the ability to send HTTP GET requests to the target Niushop application.
- Knowledge of the vulnerable endpoint and vulnerable parameters is required.

**Technical Details:**
- The vulnerable code is located in `app/model/store/Store.php` within the `getLocationStoreList()` function.
- The `lng` and `lat` parameters, extracted from the `$lnglat` array which is derived from the requestâ€™s `longitude` and `latitude` parameters are directly used within `Db::raw()`, creating the SQL injection vulnerability.
- The specific SQL injection occurs in the `condition[]` statement, where the longitude and latitude values are concatenated directly into the SQL query
- The vulnerable endpoint is `/api/store/page`, which is accessible without authentication.

**Payload Examples:**
- A single quote in longitude parameter `/api/store/page?latitude=1&longitude='` triggers a SQL syntax error, verifying vulnerability
- Boolean, Error and Time-based blind SQL injection techniques can be used for exploitation.