<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>oss-security - Django: CVE-2023-43665: Denial-of-service possibility in django.utils.text.Truncator</title>

<link href="/style.css" type="text/css" rel="stylesheet">
<style type="text/css">
.calendar { text-align: center; }
.ccell { background: #ccc; width: 5ex; padding: 2px; }

.cal_brief { text-align: center; }
.cal_brief td:first-child { background: inherit; }
.cal_brief td { background: #ccc; width: 5ex; padding: 2px; }
.cal_big { text-align: center; padding: 0; margin: 0; }
.cal_big td { padding: 0 2px; }
.cal_mon { text-align: center; }
.cal_mon th { font-size: small; padding: 0; margin: 0; }
.cal_mon td { background: #ccc; width: 5ex; height: 1.5em;
	padding: 2px; text-align: right; }
.cal_mon td[colspan] { background: inherit; }
.cal_mon sup { color: #F0F0F0; text-align: left; float: left;
	margin-top: -2pt; font-weight: bold; }
.cal_mon a { text-align: right; margin-left: -4em; float: right; }
</style>
</head>

<BODY bgcolor="#E0E0E0" text="black" link="blue" alink="red" vlink="navy">


<table bgcolor="#ffffff" width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>

<td>
<a href="/"><img class="logo" src="/logo.png" border="0" width="182" height="80" alt="Openwall"></a>
<td width="100%">
<div class="nav">
<ul>
<li><a href="/">Products</a>
<ul>
<li><a href="/Owl/">Openwall GNU/*/Linux &nbsp; <i>server OS</i></a>
<li><a href="/lkrg/">Linux Kernel Runtime Guard</a>
<li><a href="/john/">John the Ripper &nbsp; <i>password cracker</i></a>
<ul>
<li><a href="/john/">Free &amp; Open Source for any platform</a>
<li><a href="/john/cloud/">in the cloud</a>
<li><a href="/john/pro/linux/">Pro for Linux</a>
<li><a href="/john/pro/macosx/">Pro for macOS</a>
</ul>
<li><a href="/wordlists/">Wordlists &nbsp; <i>for password cracking</i></a>
<li><a href="/passwdqc/">passwdqc &nbsp; <i>policy enforcement</i></a>
<ul>
<li><a href="/passwdqc/">Free &amp; Open Source for Unix</a>
<li><a href="/passwdqc/windows/">Pro for Windows (Active Directory)</a>
</ul>
<li><a href="/yescrypt/">yescrypt &nbsp; <i>KDF &amp; password hashing</i></a>
<li><a href="/yespower/">yespower &nbsp; <i>Proof-of-Work (PoW)</i></a>
<li><a href="/crypt/">crypt_blowfish &nbsp; <i>password hashing</i></a>
<li><a href="/phpass/">phpass &nbsp; <i>ditto in PHP</i></a>
<li><a href="/tcb/">tcb &nbsp; <i>better password shadowing</i></a>
<li><a href="/pam/">Pluggable Authentication Modules</a>
<li><a href="/scanlogd/">scanlogd &nbsp; <i>port scan detector</i></a>
<li><a href="/popa3d/">popa3d &nbsp; <i>tiny POP3 daemon</i></a>
<li><a href="/blists/">blists &nbsp; <i>web interface to mailing lists</i></a>
<li><a href="/msulogin/">msulogin &nbsp; <i>single user mode login</i></a>
<li><a href="/php_mt_seed/">php_mt_seed &nbsp; <i>mt_rand() cracker</i></a>
</ul>
<li><a href="/services/">Services</a>
<li id="narrow-li-1"><a>Publications</a>
<ul>
<li><a href="/articles/">Articles</a>
<li><a href="/presentations/">Presentations</a>
</ul>
<li><a>Resources</a>
<ul>
<li><a href="/lists/">Mailing lists</a>
<li><a href="https://openwall.info/wiki/">Community wiki</a>
<li><a href="https://github.com/openwall">Source code repositories (GitHub)</a>
<li><a href="https://cvsweb.openwall.com">Source code repositories (CVSweb)</a>
<li><a href="/mirrors/">File archive &amp; mirrors</a>
<li><a href="/signatures/">How to verify digital signatures</a>
<li><a href="/ove/">OVE IDs</a>
</ul>
<li id="last-li"><a href="/news">What's new</a>
</ul>
</div>


</table>


<TABLE bgcolor="#B4D0DC" width="100%" border="0" cellspacing="0" cellpadding="1">
<TR><TD>
<TABLE width="100%" border="0" cellspacing="0" cellpadding="2">
<TR><TD bgcolor="#ECF8FF">
<a href="https://hashsuite.openwall.net">
Hash Suite - Windows password security audit tool. GUI, reports in PDF.</a>

</TABLE>
</TABLE>

<a href="5">[&lt;prev]</a> <a href="7">[next&gt;]</a> <a href=".">[day]</a> <a href="..">[month]</a> <a href="../..">[year]</a> <a href="../../..">[list]</a>
<pre style="white-space: pre-wrap">
Message-ID: &lt;CA+fOnFbWkvAi61HywFWrnm+6dcT-OvYEmDQ7kij5bLTc+fSerA&#64;mail.gmail.com&gt;
Date: Wed, 4 Oct 2023 13:02:50 -0300
From: Natalia Bidart &lt;nataliabidart&#64;...il.com&gt;
To: oss-security&#64;...ts.openwall.com
Cc: Django Security Team &lt;security&#64;...ngoproject.com&gt;
Subject: Django: CVE-2023-43665: Denial-of-service possibility in django.utils.text.Truncator

<a href="https://www.djangoproject.com/weblog/2023/oct/04/security-releases/" rel="nofollow">https://www.djangoproject.com/weblog/2023/oct/04/security-releases/</a>

In accordance with `our security release policy
&lt;<a href="https://docs.djangoproject.com/en/dev/internals/security/" rel="nofollow">https://docs.djangoproject.com/en/dev/internals/security/</a>&gt;`_, the Django
team
is issuing
`Django 4.2.6 &lt;<a href="https://docs.djangoproject.com/en/dev/releases/4.2.6/" rel="nofollow">https://docs.djangoproject.com/en/dev/releases/4.2.6/</a>&gt;`_,
`Django 4.1.12 &lt;<a href="https://docs.djangoproject.com/en/dev/releases/4.1.12/" rel="nofollow">https://docs.djangoproject.com/en/dev/releases/4.1.12/</a>&gt;`_,
and
`Django 3.2.22 &lt;<a href="https://docs.djangoproject.com/en/dev/releases/3.2.22/" rel="nofollow">https://docs.djangoproject.com/en/dev/releases/3.2.22/</a>&gt;`_.
These releases address the security issue detailed below. We encourage all
users of Django to upgrade as soon as possible.

CVE-2023-43665: Denial-of-service possibility in django.utils.text.Truncator
============================================================================

Following the fix for CVE-2019-14232, the regular expressions used in the
implementation of ``django.utils.text.Truncator``â€™s ``chars()`` and
``words()`` methods
(with ``html=True``) were revised and improved. However, these regular
expressions
still exhibited linear backtracking complexity, so when given a very long,
potentially malformed HTML input, the evaluation would still be slow,
leading
to a potential denial of service vulnerability.

The ``chars()`` and ``words()`` methods are used to implement the
``truncatechars_html``
and ``truncatewords_html`` template filters, which were thus also
vulnerable.

The input processed by ``Truncator``, when operating in HTML mode, has been
limited
to the first five million characters in order to avoid potential performance
and memory issues.

Thanks Wenchao Li of Alibaba Group for the report.

This issue has severity "moderate" according to the Django security policy.

Affected supported versions
===========================

* Django main branch
* Django 5.0 (currently at pre-release alpha status)
* Django 4.2
* Django 4.1
* Django 3.2

Resolution
==========

Patches to resolve the issue have been applied to Django's main branch and
the
5.0, 4.2, 4.1, and 3.2 release branches. The patches may be obtained from
the
following changesets:

* On the `main branch &lt;
<a href="https://github.com/django/django/commit/17b51094d778b421bb2b3aae0c270894b050455d" rel="nofollow">https://github.com/django/django/commit/17b51094d778b421bb2b3aae0c270894b050455d</a>
&gt;`__
* On the `5.0 release branch &lt;
<a href="https://github.com/django/django/commit/8124c42601b9abfeb234056092a62a22a22107cb" rel="nofollow">https://github.com/django/django/commit/8124c42601b9abfeb234056092a62a22a22107cb</a>
&gt;`__
* On the `4.2 release branch &lt;
<a href="https://github.com/django/django/commit/be9c27c4d18c2e6a5be8af4e53c0797440794473" rel="nofollow">https://github.com/django/django/commit/be9c27c4d18c2e6a5be8af4e53c0797440794473</a>
&gt;`__
* On the `4.1 release branch &lt;
<a href="https://github.com/django/django/commit/c7b7024742250414e426ad49fb80db943e7ba4e8" rel="nofollow">https://github.com/django/django/commit/c7b7024742250414e426ad49fb80db943e7ba4e8</a>
&gt;`__
* On the `3.2 release branch &lt;
<a href="https://github.com/django/django/commit/ccdade1a0262537868d7ca64374de3d957ca50c5" rel="nofollow">https://github.com/django/django/commit/ccdade1a0262537868d7ca64374de3d957ca50c5</a>
&gt;`__

The following releases have been issued:

* Django 4.2.6 (`download Django 4.2.6 &lt;
<a href="https://www.djangoproject.com/m/releases/4.2/Django-4.2.6.tar.gz" rel="nofollow">https://www.djangoproject.com/m/releases/4.2/Django-4.2.6.tar.gz</a>&gt;`_ |
`4.2.6 checksums &lt;
<a href="https://www.djangoproject.com/m/pgp/Django-4.2.6.checksum.txt" rel="nofollow">https://www.djangoproject.com/m/pgp/Django-4.2.6.checksum.txt</a>&gt;`_)
* Django 4.1.12 (`download Django 4.1.12 &lt;
<a href="https://www.djangoproject.com/m/releases/4.1/Django-4.1.12.tar.gz" rel="nofollow">https://www.djangoproject.com/m/releases/4.1/Django-4.1.12.tar.gz</a>&gt;`_ |
`4.1.12 checksums &lt;
<a href="https://www.djangoproject.com/m/pgp/Django-4.1.12.checksum.txt" rel="nofollow">https://www.djangoproject.com/m/pgp/Django-4.1.12.checksum.txt</a>&gt;`_)
* Django 3.2.22 (`download Django 3.2.22 &lt;
<a href="https://www.djangoproject.com/m/releases/3.2/Django-3.2.22.tar.gz" rel="nofollow">https://www.djangoproject.com/m/releases/3.2/Django-3.2.22.tar.gz</a>&gt;`_ |
`3.2.22 checksums &lt;
<a href="https://www.djangoproject.com/m/pgp/Django-3.2.22.checksum.txt" rel="nofollow">https://www.djangoproject.com/m/pgp/Django-3.2.22.checksum.txt</a>&gt;`_)

The PGP key ID used for this release is Natalia Bidart: `2EE82A8D9470983E &lt;
<a href="https://github.com/nessita.gpg" rel="nofollow">https://github.com/nessita.gpg</a>&gt;`_

General notes regarding security reporting
==========================================

As always, we ask that potential security issues be reported via
private email to ``security&#64;...ngoproject.com``, and not via Django's
Trac instance or the django-developers list. Please see `our security
policies &lt;<a href="https://www.djangoproject.com/security/" rel="nofollow">https://www.djangoproject.com/security/</a>&gt;`_ for further
information.

</pre>
<p><a href="https://www.openwall.com/blists/">Powered by blists</a> - <a href="https://lists.openwall.net">more mailing lists</a>


<p>
Please check out the
<a href="https://oss-security.openwall.org/wiki/">
Open Source Software Security Wiki</a>, which is counterpart to this
<a href="https://oss-security.openwall.org/wiki/mailing-lists/oss-security">mailing list</a>.
<p>
Confused about <a href="/lists/">mailing lists</a> and their use?
<a href="https://en.wikipedia.org/wiki/Electronic_mailing_list">Read about mailing lists on Wikipedia</a>
and check out these
<a href="https://www.complang.tuwien.ac.at/anton/mail-news-errors.html">guidelines on proper formatting of your messages</a>.
<p>

</body>
</html>
