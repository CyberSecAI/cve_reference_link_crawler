=== Content from git.kernel.org_dc4c2420_20250111_085541.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Johan Hovold <johan+linaro@kernel.org> | 2024-01-26 18:09:01 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-02-23 09:51:30 +0100 |
| commit | [e28d6b63aeecbda450935fb58db0e682ea8212d3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)) | |
| tree | [804506ac0fff32c25342f7fcdca66865b3f717d2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3) | |
| parent | [46b08e8f1baef9d4fb92b4fad2ac6fda458bcbc6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=46b08e8f1baef9d4fb92b4fad2ac6fda458bcbc6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3&id2=46b08e8f1baef9d4fb92b4fad2ac6fda458bcbc6)) | |
| download | [linux-e28d6b63aeecbda450935fb58db0e682ea8212d3.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e28d6b63aeecbda450935fb58db0e682ea8212d3.tar.gz) | |

HID: i2c-hid-of: fix NULL-deref on failed power upcommit 00aab7dcb2267f2aef59447602f34501efe1a07f upstream.
A while back the I2C HID implementation was split in an ACPI and OF
part, but the new OF driver never initialises the client pointer which
is dereferenced on power-up failures.
Fixes: b33752c30023 ("HID: i2c-hid: Reorganize so ACPI and OF are separate modules")
Cc: stable@vger.kernel.org # 5.12
Cc: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Johan Hovold <johan+linaro@kernel.org>
Reviewed-by: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Jiri Kosina <jkosina@suse.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)

| -rw-r--r-- | [drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/hid/i2c-hid/i2c-hid-of.c?id=e28d6b63aeecbda450935fb58db0e682ea8212d3) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/hid/i2c-hid/i2c-hid-of.c b/drivers/hid/i2c-hid/i2c-hid-of.cindex c4e1fa0273c84c..8be4d576da7733 100644--- a/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=46b08e8f1baef9d4fb92b4fad2ac6fda458bcbc6)+++ b/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=e28d6b63aeecbda450935fb58db0e682ea8212d3)@@ -87,6 +87,7 @@ static int i2c\_hid\_of\_probe(struct i2c\_client \*client) if (!ihid\_of) return -ENOMEM; + ihid\_of->client = client; ihid\_of->ops.power\_up = i2c\_hid\_of\_power\_up; ihid\_of->ops.power\_down = i2c\_hid\_of\_power\_down; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 08:54:18 +0000



=== Content from git.kernel.org_7fa2f517_20250111_085540.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Johan Hovold <johan+linaro@kernel.org> | 2024-01-26 18:09:01 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-02-23 09:12:33 +0100 |
| commit | [d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)) | |
| tree | [38b09b6e58d2556282764fcfb2291b8fd4333a2c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c) | |
| parent | [ea09996b3711d9f7bb9597c7bdc95f28475d2f8b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ea09996b3711d9f7bb9597c7bdc95f28475d2f8b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c&id2=ea09996b3711d9f7bb9597c7bdc95f28475d2f8b)) | |
| download | [linux-d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c.tar.gz) | |

HID: i2c-hid-of: fix NULL-deref on failed power upcommit 00aab7dcb2267f2aef59447602f34501efe1a07f upstream.
A while back the I2C HID implementation was split in an ACPI and OF
part, but the new OF driver never initialises the client pointer which
is dereferenced on power-up failures.
Fixes: b33752c30023 ("HID: i2c-hid: Reorganize so ACPI and OF are separate modules")
Cc: stable@vger.kernel.org # 5.12
Cc: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Johan Hovold <johan+linaro@kernel.org>
Reviewed-by: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Jiri Kosina <jkosina@suse.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)

| -rw-r--r-- | [drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/hid/i2c-hid/i2c-hid-of.c?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/hid/i2c-hid/i2c-hid-of.c b/drivers/hid/i2c-hid/i2c-hid-of.cindex 97a27a803f58d2..6feb812fce3759 100644--- a/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=ea09996b3711d9f7bb9597c7bdc95f28475d2f8b)+++ b/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=d7d7a0e3b6f5adc45f23667cbb919e99093a5b5c)@@ -80,6 +80,7 @@ static int i2c\_hid\_of\_probe(struct i2c\_client \*client, if (!ihid\_of) return -ENOMEM; + ihid\_of->client = client; ihid\_of->ops.power\_up = i2c\_hid\_of\_power\_up; ihid\_of->ops.power\_down = i2c\_hid\_of\_power\_down; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 08:54:17 +0000



=== Content from git.kernel.org_2b1c6f50_20250111_085539.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Johan Hovold <johan+linaro@kernel.org> | 2024-01-26 18:09:01 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-02-23 08:55:03 +0100 |
| commit | [62f5d219edbd174829aa18d4b3d97cd5fefbb783](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)) | |
| tree | [38257b1c804e72b3e449f619907475c52cf1e6b6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783) | |
| parent | [20d8a8fe00b28db636c2c38efc76af076cd93702](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=20d8a8fe00b28db636c2c38efc76af076cd93702) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783&id2=20d8a8fe00b28db636c2c38efc76af076cd93702)) | |
| download | [linux-62f5d219edbd174829aa18d4b3d97cd5fefbb783.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-62f5d219edbd174829aa18d4b3d97cd5fefbb783.tar.gz) | |

HID: i2c-hid-of: fix NULL-deref on failed power upcommit 00aab7dcb2267f2aef59447602f34501efe1a07f upstream.
A while back the I2C HID implementation was split in an ACPI and OF
part, but the new OF driver never initialises the client pointer which
is dereferenced on power-up failures.
Fixes: b33752c30023 ("HID: i2c-hid: Reorganize so ACPI and OF are separate modules")
Cc: stable@vger.kernel.org # 5.12
Cc: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Johan Hovold <johan+linaro@kernel.org>
Reviewed-by: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Jiri Kosina <jkosina@suse.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)

| -rw-r--r-- | [drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/hid/i2c-hid/i2c-hid-of.c?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/hid/i2c-hid/i2c-hid-of.c b/drivers/hid/i2c-hid/i2c-hid-of.cindex 97a27a803f58d2..6feb812fce3759 100644--- a/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=20d8a8fe00b28db636c2c38efc76af076cd93702)+++ b/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=62f5d219edbd174829aa18d4b3d97cd5fefbb783)@@ -80,6 +80,7 @@ static int i2c\_hid\_of\_probe(struct i2c\_client \*client, if (!ihid\_of) return -ENOMEM; + ihid\_of->client = client; ihid\_of->ops.power\_up = i2c\_hid\_of\_power\_up; ihid\_of->ops.power\_down = i2c\_hid\_of\_power\_down; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 08:54:16 +0000



=== Content from git.kernel.org_dc939f9f_20250111_085538.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4cad91344a62536a2949873bad6365fbb6232776)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4cad91344a62536a2949873bad6365fbb6232776)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4cad91344a62536a2949873bad6365fbb6232776)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4cad91344a62536a2949873bad6365fbb6232776)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Johan Hovold <johan+linaro@kernel.org> | 2024-01-26 18:09:01 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-02-23 09:24:55 +0100 |
| commit | [4cad91344a62536a2949873bad6365fbb6232776](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4cad91344a62536a2949873bad6365fbb6232776) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4cad91344a62536a2949873bad6365fbb6232776)) | |
| tree | [e9d4b7e7ba2a4b9f519a02b0ead457269f1b8717](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4cad91344a62536a2949873bad6365fbb6232776) | |
| parent | [467fce636a3a9b188e6d593ce422dd688f16b022](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=467fce636a3a9b188e6d593ce422dd688f16b022) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4cad91344a62536a2949873bad6365fbb6232776&id2=467fce636a3a9b188e6d593ce422dd688f16b022)) | |
| download | [linux-4cad91344a62536a2949873bad6365fbb6232776.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4cad91344a62536a2949873bad6365fbb6232776.tar.gz) | |

HID: i2c-hid-of: fix NULL-deref on failed power upcommit 00aab7dcb2267f2aef59447602f34501efe1a07f upstream.
A while back the I2C HID implementation was split in an ACPI and OF
part, but the new OF driver never initialises the client pointer which
is dereferenced on power-up failures.
Fixes: b33752c30023 ("HID: i2c-hid: Reorganize so ACPI and OF are separate modules")
Cc: stable@vger.kernel.org # 5.12
Cc: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Johan Hovold <johan+linaro@kernel.org>
Reviewed-by: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Jiri Kosina <jkosina@suse.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4cad91344a62536a2949873bad6365fbb6232776)

| -rw-r--r-- | [drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/hid/i2c-hid/i2c-hid-of.c?id=4cad91344a62536a2949873bad6365fbb6232776) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/hid/i2c-hid/i2c-hid-of.c b/drivers/hid/i2c-hid/i2c-hid-of.cindex c4e1fa0273c84c..8be4d576da7733 100644--- a/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=467fce636a3a9b188e6d593ce422dd688f16b022)+++ b/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=4cad91344a62536a2949873bad6365fbb6232776)@@ -87,6 +87,7 @@ static int i2c\_hid\_of\_probe(struct i2c\_client \*client) if (!ihid\_of) return -ENOMEM; + ihid\_of->client = client; ihid\_of->ops.power\_up = i2c\_hid\_of\_power\_up; ihid\_of->ops.power\_down = i2c\_hid\_of\_power\_down; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 08:54:15 +0000



=== Content from git.kernel.org_db8dd8b7_20250111_085537.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Johan Hovold <johan+linaro@kernel.org> | 2024-01-26 18:09:01 +0100 |
| --- | --- | --- |
| committer | Jiri Kosina <jkosina@suse.com> | 2024-01-26 18:52:14 +0100 |
| commit | [00aab7dcb2267f2aef59447602f34501efe1a07f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=00aab7dcb2267f2aef59447602f34501efe1a07f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)) | |
| tree | [5f4c7b959a9b6c8752dcbc69125aaba9d23ff571](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=00aab7dcb2267f2aef59447602f34501efe1a07f) | |
| parent | [a3bdcdd022c68942a774e8e63424cc11c85aab78](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a3bdcdd022c68942a774e8e63424cc11c85aab78) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=00aab7dcb2267f2aef59447602f34501efe1a07f&id2=a3bdcdd022c68942a774e8e63424cc11c85aab78)) | |
| download | [linux-00aab7dcb2267f2aef59447602f34501efe1a07f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-00aab7dcb2267f2aef59447602f34501efe1a07f.tar.gz) | |

HID: i2c-hid-of: fix NULL-deref on failed power upA while back the I2C HID implementation was split in an ACPI and OF
part, but the new OF driver never initialises the client pointer which
is dereferenced on power-up failures.
Fixes: b33752c30023 ("HID: i2c-hid: Reorganize so ACPI and OF are separate modules")
Cc: stable@vger.kernel.org # 5.12
Cc: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Johan Hovold <johan+linaro@kernel.org>
Reviewed-by: Douglas Anderson <dianders@chromium.org>
Signed-off-by: Jiri Kosina <jkosina@suse.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=00aab7dcb2267f2aef59447602f34501efe1a07f)

| -rw-r--r-- | [drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/hid/i2c-hid/i2c-hid-of.c?id=00aab7dcb2267f2aef59447602f34501efe1a07f) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 0 deletions

| diff --git a/drivers/hid/i2c-hid/i2c-hid-of.c b/drivers/hid/i2c-hid/i2c-hid-of.cindex c4e1fa0273c84c..8be4d576da7733 100644--- a/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=a3bdcdd022c68942a774e8e63424cc11c85aab78)+++ b/[drivers/hid/i2c-hid/i2c-hid-of.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/hid/i2c-hid/i2c-hid-of.c?id=00aab7dcb2267f2aef59447602f34501efe1a07f)@@ -87,6 +87,7 @@ static int i2c\_hid\_of\_probe(struct i2c\_client \*client) if (!ihid\_of) return -ENOMEM; + ihid\_of->client = client; ihid\_of->ops.power\_up = i2c\_hid\_of\_power\_up; ihid\_of->ops.power\_down = i2c\_hid\_of\_power\_down; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-11 08:54:15 +0000


