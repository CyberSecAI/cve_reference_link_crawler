=== Content from spring.io_6adb065d_20250111_170647.html ===
[Skip to main content](#main)Why Spring

* [Overview](/why-spring)
* [Microservices](/microservices)
* [Reactive](/reactive)
* [Event Driven](/event-driven)
* [Cloud](/cloud)
* [Web Applications](/web-applications)
* [Serverless](/serverless)
* [Batch](/batch)
Learn

* [Overview](/learn)
* [Quickstart](/quickstart)
* [Guides](/guides)
* [Blog](/blog)
Projects

* [Overview](/projects)
* [Spring Boot](/projects/spring-boot)
* [Spring Framework](/projects/spring-framework)
* [Spring Cloud](/projects/spring-cloud)
* [Spring Cloud Data Flow](/projects/spring-cloud-dataflow)
* [Spring Data](/projects/spring-data)
* [Spring Integration](/projects/spring-integration)
* [Spring Batch](/projects/spring-batch)
* [Spring Security](/projects/spring-security)
* [Spring AI](/projects/spring-ai)
* [View all projects](/projects)
* [Release Calendar](/projects#release-calendar)
* DEVELOPMENT TOOLS
* [Spring Tools 4](/tools)
* [Spring Initializr](https://start.spring.io/)
Academy

* [Courses](https://spring.academy/courses)
* [Get Certified](https://spring.academy/learning-path)
Solutions

* [Overview](/solutions)
* [Tanzu Spring](/support)
* [Spring Consulting](/consulting)
* [Spring Academy](https://spring.academy/)
* [Security Advisories](/security)
Community

* [Overview](/community)
* [Events](/events)
* [Authors](/authors)
# [Spring Security Advisories](/security)

[RSS feed](/security.atom)
# CVE-2024-38810: Missing Authorization When Using @AuthorizeReturnObject

HIGH | AUGUST 19, 2024 | CVE-2024-38810
# Description

Applications using `@AuthorizeReturnObject` or the Spring Security produced `AuthorizationAdvisorProxyFactory` `@Bean` to wrap objects may not have all security advice applied.

When method security advice is not applied, it means that annotations like `@PreFilter` and `@PreAuthorize` may take no affect on these wrapped objects.

Note that this does *not* impact any `@Bean`s that use Spring Security's method security advice.

For this to impact an application, all of the following need to be true:

* `AnnotationAwareAspectJAutoProxyCreator` must be the auto proxy creator being used to create proxies; this can either be done declaratively by your application or enabled via `@EnableAspectJAutoProxy` or enabled by Spring Boot by virtue of using `spring-aspects` or a starter that uses `spring-aspects`
* The application must have at least one `FactoryBean` present in the application context
* The application must enable method security with `@EnableMethodSecurity`
* The application must be wrapping objects using the `@AuthorizeReturnObject` annotation or the `AuthorizationAdvisorProxyFactory` `@Bean` produced by Spring Security
* The application must be using `@PreFilter`, `@PostFilter`, `@PreAuthorize`, or `@PostAuthorize` on those wrapped objects

If all of these are true, then some of the method security advice may not be applied to the objects wrapped by `@AuthorizeReturnObject` or `AuthorizationAdvisorProxyFactory`.

Applications where any of the following are true are *not* impacted:

* The application is not using `@PreFilter`, `@PostFilter`, `@PreAuthorize`, or `@PostAuthorize` on any wrapped objects
* The application is not using `@EnableMethodSecurity` to enable method security
* The application is not using `@AuthorizeReturnObject` or the `AuthorizationAdvisorProxyFactory` `@Bean` produced by Spring Security
* The application doesn't have any `FactoryBean`s
* The application is not using `AnnotationAwareAspectJAutoProxyCreator` for auto-proxy creation

# Affected Spring Products and Versions

This affects the following Spring Security versions:

* 6.3.0 and 6.3.1

# Mitigation

Users of affected versions should upgrade to the corresponding fixed version.

| Affected version(s) | Fix version | Availability |
| --- | --- | --- |
| 6.3.x | 6.3.2 | OSS |

No other mitigation steps are necessary.

# Credit

This issue was responsibly reported by Josh Cummings.

# References

* Spring Security Reference - <https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#authorize-object>

# History

* 2024-08-19 - Initial Report Published
## Reporting a vulnerability

To report a security vulnerability for a project within the Spring portfolio, see the [Security Policy](/security-policy)

![](/img/extra/footer.svg)
## Get ahead

VMware offers training and certification to turbo-charge your progress.

[Learn more](https://spring.academy/)
## Get support

Tanzu Spring offers support and binaries for OpenJDK™, Spring, and Apache Tomcat® in one simple subscription.

[Learn more](/support)
## Upcoming events

Check out all the upcoming events in the Spring community.

[View all](/events)[Why Spring](/why-spring)[Microservices](/microservices)[Reactive](/reactive)[Event Driven](/event-driven)[Cloud](/cloud)[Web Applications](/web-applications)[Serverless](/serverless)[Batch](/batch)[Learn](/learn)[Quickstart](/quickstart)[Guides](/guides)[Blog](/blog)[Community](/community)[Events](/events)[Authors](/authors)[Solutions](/overview)[Tanzu Spring](/support)[Spring Consulting](/consulting)[Spring Academy](https://spring.academy/)[Spring Advisories](/security)[Projects](/projects)[Thank You](/thank-you)
## Get the Spring newsletter

Stay connected with the Spring newsletter

[Subscribe](https://go-vmware.broadcom.com/tnz-spring-newsletter-subscribe)

Copyright © 2005 - 2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.
[Terms of Use](https://www.vmware.com/help/legal.html) • [Privacy](https://www.vmware.com/help/privacy.html) • [Trademark Guidelines](/trademarks) • [Your California Privacy Rights](https://www.vmware.com/help/privacy/california-privacy-rights.html)

Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra™, and Apache Geode™ are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java™, Java™ SE, Java™ EE, and OpenJDK™ are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.


